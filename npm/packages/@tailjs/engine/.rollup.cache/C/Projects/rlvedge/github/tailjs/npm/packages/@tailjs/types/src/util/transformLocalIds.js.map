{"version":3,"file":"transformLocalIds.js","sourceRoot":"","sources":["transformLocalIds.ts"],"names":[],"mappings":"AAEA,MAAM,UAAU,iBAAiB,CAC/B,EAAgB,EAChB,SAA2C;IAE3C,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACf,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IACjB,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IACnB,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;IAEtB,OAAO,EAAE,CAAC;IAEV,SAAS,MAAM,CAAC,MAAW,EAAE,QAAgB;QAC3C,IAAI,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;YACvB,MAAM,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;AACH,CAAC","sourcesContent":["import { LocalID, TrackedEvent } from \"..\";\n\nexport function transformLocalIds(\n  ev: TrackedEvent,\n  transform: (id: LocalID) => LocalID | false\n) {\n  ev = { ...ev };\n  assign(ev, \"id\");\n  assign(ev, \"view\");\n  assign(ev, \"related\");\n\n  return ev;\n\n  function assign(target: any, property: string) {\n    if (target?.[property]) {\n      target[property] = transform(target[property]) || target[property];\n    }\n  }\n}\n"]}