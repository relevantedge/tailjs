{"version":3,"file":"Personalization.js","sourceRoot":"","sources":["Personalization.ts"],"names":[],"mappings":"","sourcesContent":["import type { ExternalReference, Tagged } from \".\";\n\n/**\n * A specific aspect changed for a page or component for personalization as part of a {@link PersonalizationVariant}.\n *\n */\nexport interface PersonalizationSource extends ExternalReference {\n  /**\n   * In case of a multi-variate test (or similar) that runs over multiple components and/or pages, this can be the ID of the specific variable that decided personalization for a specific component.\n   */\n  relatedVariable?: string;\n\n  /**\n   * The kind of personalization that relates to this item.\n   */\n  personalizationType?: string;\n}\n\n/**\n * A reference to the data/content item related to a variant in personalization.\n */\nexport interface PersonalizationVariant extends ExternalReference {\n  /**\n   * The aspects of the component or page the variant changed.\n   * There can mutilple sources, e.g. a variant may both change the size of a component and change the content at the same time.\n   */\n  sources?: PersonalizationSource[];\n  /**\n   * If the reference is the default variant.\n   *\n   * @default false\n   */\n  default?: boolean;\n\n  /**\n   * If the variant could have been picked.\n   */\n  eligible?: boolean;\n\n  /**\n   * If the variant was chosen.\n   */\n  selected?: boolean;\n}\n\n/**\n * A reference to a variable and its value in personalization.\n */\nexport interface PersonalizationVariable extends ExternalReference {\n  value: string;\n}\n/**\n * The choices made by some logic to show different content to different users depending on some traits either to help them or to make them buy more.\n */\nexport interface Personalization extends Tagged {\n  /**\n   * The source and definition for the personalization.\n   * This could be a named rule set, a test definition or a specific configuration of an algorithm.\n   *\n   * If you are using multiple services/system for personalization you can add this to {@link ExternalReference.source}.\n   *\n   * If more than one component was changed by the same personalization logic they will share this source, but may have different variables.\n   *\n   * For example, the personalization in each component may correspond to different variables in a multivariate test.\n   * In that case the components will share the {@link Personalization.source} corresponding to the test, but have different {@link Personalization.variable}s.\n   */\n  source?: ExternalReference;\n\n  /**\n   * Typically used for the test variables in a A/B/MV test, but can also be used for significant weights/parameters in more complex algorithms.\n   */\n  variables?: PersonalizationVariable[];\n\n  /**\n   * The set of choices that were possible at the time given the user.\n   * Even though implied, this should include the choice made so the data does not look inconsistent.\n   *\n   * To represent the default valuesvfor the sources that can be personalized, include the default variant and assign the default settings to it as sources.\n   */\n  variants?: PersonalizationVariant[];\n}\n"]}