var typeTest=(...types)=>ev=>(null==ev?void 0:ev.type)&&types.some((type=>type===(null==ev?void 0:ev.type))),isFormEvent=typeTest("FORM"),isComponentClickEvent=typeTest("COMPONENT_CLICK"),isComponentViewEent=typeTest("COMPONENT_VIEW"),isNavigationEvent=typeTest("NAVIGATION"),isScrollEvent=typeTest("SCROLL"),isSearchEvent=typeTest("SEARCH"),isSessionStartedEvent=typeTest("SESSION_STARTED"),isTrackedEvent=ev=>ev&&"string"==typeof ev.type,isUserAgentEvent=typeTest("USER_AGENT"),isViewEvent=typeTest("VIEW"),isViewEndedEvent=typeTest("VIEW_ENDED"),isClientLocationEvent=typeTest("SESSION_LOCATION"),isAnchorEvent=typeTest("ANCHOR_NAVIGATION"),isConsentEvent=typeTest("CONSENT"),isCartEvent=typeTest("CART_UPDATED"),isOrderEvent=typeTest("ORDER"),isCartAbandonedEvent=typeTest("CART_ABANDONED"),isOrderCancelledEvent=typeTest("ORDER_CANCELLED"),isOrderCompletedEvent=typeTest("ORDER_COMPLETED"),isPaymentAcceptedEvent=typeTest("PAYMENT_ACCEPTED"),isPaymentRejectedEvent=typeTest("PAYMENT_REJECTED"),isSignOutEvent=typeTest("SIGN_OUT"),isSignInEvent=typeTest("SIGN_IN"),isHeartBeatEvent=typeTest("HEARTBEAT"),isImpressionEvent=typeTest("IMPRESSION"),isResetEvent=typeTest("RESET"),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value;function transformLocalIds(ev,transform){return assign(ev=((a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a})({},ev),"id"),assign(ev,"view"),assign(ev,"related"),ev;function assign(target,property){(null==target?void 0:target[property])&&(target[property]=transform(target[property])||target[property])}}var splitRanks=ranks=>{var _a;return null!=(_a=null==ranks?void 0:ranks.toLowerCase().replace(/[^a-zA-Z0-9:.-]/g,"_").split(":").filter((rank=>rank)))?_a:[]},parseTagString=(input,baseRank,target)=>{if(!input)return[];if(Array.isArray(input)&&(input=input.join(",")),new RegExp("(?<!(?<!\\\\)\\\\)%[A-Z0-9]{2}").test(input))try{input=decodeURIComponent(input.replace(/([^=&]+)(?:\=([^&]+))?(&|$)/g,((_,name,value,sep)=>[name,value&&`="${value.replace(new RegExp('(?<!(?<!\\\\)\\\\)("|%22)',"g"),'\\"')}"`,sep&&","].join(""))))}catch(e){}var parsedTag,tags=[],baseRanks=splitRanks(baseRank);return input.replace(/\s*(\s*(?=\=)|(?:\\.|[^,=\r\n])+)\s*(?:\=\s*(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)'|((?:\\.|[^,])*)))?\s*(?:[,\s]+|$)/g,((_0,tag,quote1,quote2,unquoted)=>{var value=quote1||quote2||unquoted,ranks=splitRanks(tag);return baseRanks.length&&(1===ranks.length&&!value&&(value=ranks.pop()),ranks=baseRanks.concat(ranks)),ranks.length&&(tags.push(parsedTag={ranks:ranks,value:value||void 0}),null==target||target.add(encodeTag(parsedTag))),""})),tags},encodeTag=tag=>null==tag?tag:`${tag.ranks.join(":")}${tag.value?`=${tag.value.replace(/,/g,"\\,")}`:""}`,cast=item=>item;export{cast,encodeTag,isAnchorEvent,isCartAbandonedEvent,isCartEvent,isClientLocationEvent,isComponentClickEvent,isComponentViewEent,isConsentEvent,isFormEvent,isHeartBeatEvent,isImpressionEvent,isNavigationEvent,isOrderCancelledEvent,isOrderCompletedEvent,isOrderEvent,isPaymentAcceptedEvent,isPaymentRejectedEvent,isResetEvent,isScrollEvent,isSearchEvent,isSessionStartedEvent,isSignInEvent,isSignOutEvent,isTrackedEvent,isUserAgentEvent,isViewEndedEvent,isViewEvent,parseTagString,transformLocalIds};
