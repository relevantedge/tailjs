(()=>{var e,t,r,n,i,a,l,o,u,s,d,v,c,f,p,h,g,m,b,w,k,S,x,T,I;function F(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var j=(e,t=e=>Error(e))=>{throw el(e=e5(e))?t(e):e},U=(e,t,r=-1)=>{if(e===t||null==(null!=e?e:t))return!0;if(!eu(e)&&!ec(e)||!eu(t)&&!ec(t)||e.length!==t.length)return!1;var i,n=0;for(i in e){if(e[i]!==t[i]&&!U(e[i],t[i],r-1))return!1;++n}return n===Object.keys(t).length},M=(e,t,...r)=>e===t||0<r.length&&r.some(t=>M(e,t)),z=(e,t=!0,r)=>{try{return e()}catch(e){return eh(t)?es(e=t(e))?j(e):e:er(t)?console.error(t?j(e):e):t}finally{null!=r&&r()}};class R extends Promise{get initialized(){return null!=this._result}then(e,t){var r;return(null!=(r=this._result)?r:this._result=this._action()).then(e,t)}catch(e){var t;return(null!=(t=this._result)?t:this._result=this._action()).catch(e)}finally(e){var t;return(null!=(t=this._result)?t:this._result=this._action()).finally(e)}constructor(e){super(()=>{}),F(this,"_action",void 0),F(this,"_result",void 0),this._action=e}}var P=e=>new R(async()=>e5(e)),D=async(e,t=!0,r)=>{try{return await e5(e)}catch(e){if(!er(t))return await t(e);if(t)throw e;console.error(e)}finally{await(null==r?void 0:r())}},B=e=>e,W=e=>!!e,J=e=>e===K,L=void 0,V=Number.MAX_SAFE_INTEGER,H=!1,K=!0,G=()=>{},X=e=>e,Z=e=>null!=e,Y=Symbol.iterator,Q=Symbol.asyncIterator,ee=(e,t)=>(r,n=!0)=>e(r)||t&&n&&null!=r&&null!=(r=t(r))?r:L,et=(e,t)=>eh(t)?e!==L?t(e):L:(null==e?void 0:e[t])!==L?e:L,er=e=>"boolean"==typeof e,en=ee(er,e=>0!=e&&(1==e||"false"!==e&&("true"===e||L))),ei=e=>e!==H,ea=e=>"number"==typeof e,el=e=>"string"==typeof e,eo=ee(el,e=>null==e?void 0:e.toString()),eu=Array.isArray,es=e=>e instanceof Error,ed=(e,t=!1)=>null==e?L:!t&&eu(e)?e:eg(e)?[...e]:[e],ev=e=>e&&"object"==typeof e,ec=e=>(null==e?void 0:e.constructor)===Object,ef=(e,t)=>"function"==typeof(null==e?void 0:e[t]),ep=e=>"symbol"==typeof e,eh=e=>"function"==typeof e,eg=(e,t=!1)=>!(null==e||!e[Y]||"string"==typeof e&&!t),em=e=>e instanceof Map,ey=e=>e instanceof Set,eb=(e,t)=>null==e?L:!1===t?e:Math.round(e*(t=Math.pow(10,t&&!0!==t?t:0)))/t,ew=(e,t,r)=>e[0]===t&&e[e.length-1]===r,ek=e=>el(e)&&(ew(e,"{","}")||ew(e,"[","]")),eS=!1,ex=e=>(eS=!0,e),eT=e=>null==e?L:eh(e)?e:t=>t[e],eI=(e,t,r)=>(null!=t?t:r)!==L?(e=eT(e),null==t&&(t=0),null==r&&(r=V),(n,i)=>t--?L:r--?e?e(n,i):n:r):e,eA=e=>null==e?void 0:e.filter(Z),eE=(e,t,r,n)=>null==e?[]:!t&&eu(e)?eA(e):e[Y]?function*(e,t){if(null!=e)if(t){t=eT(t);var r=0;for(n of e)if(null!=(n=t(n,r++))&&(yield n),eS){eS=!1;break}}else for(var n of e)null!=n&&(yield n)}(e,r===L?t:eI(t,r,n)):ev(e)?function*(e,t){t=eT(t);var n,r=0;for(n in e){var i=[n,e[n]];if(null!=(i=t?t(i,r++):i)&&(yield i),eS){eS=!1;break}}}(e,eI(t,r,n)):eE(eh(e)?function*(e,t,r=Number.MAX_SAFE_INTEGER){for(null!=t&&(yield t);r--&&null!=(t=e(t));)yield t}(e,r,n):function*(e=0,t){if(e<0)for(null==t&&(t=-e-1);e++;)yield t--;else for(null==t&&(t=0);e--;)yield t++}(e,r),t),eN=(e,t,r,n)=>eE(e,t,r,n),e$=(e,t,r=1,n=!1,i,a)=>function*e(t,r,n,i){if(null!=t)if(t[Y]||n&&ev(t))for(var a of i?eE(t):t)1!==r?yield*e(a,r-1,n,!0):yield a;else yield t}(eE(e,t,i,a),r+1,n,!1),eO=(e,t,r,n)=>{if(t=eT(t),eu(e)){var i=0,a=[];for(r=r<0?e.length+r:null!=r?r:0,n=n<0?e.length+n:null!=n?n:e.length;r<n&&!eS;r++){var l=e[r];null!=(t?l=t(l,i++):l)&&a.push(l)}return eS=!1,a}return null!=e?tQ(eN(e,t,r,n)):L},eC=(e,t,r,n)=>null!=e?new Set([...eN(e,t,r,n)]):L,e_=(e,t,r=1,n=!1,i,a)=>tQ(e$(e,t,r,n,i,a)),eF=(...e)=>{var t;return ez(1===e.length?e[0]:e,e=>null!=e&&(null!=t?t:t=[]).push(...tQ(e))),t},ej=(e,t,r,n)=>{var i,a,l=0;for(r=r<0?e.length+r:null!=r?r:0,n=n<0?e.length+n:null!=n?n:e.length;r<n;r++)if(null!=e[r]&&(i=null!=(a=t(e[r],l++))?a:i,eS)){eS=!1;break}return i},eU=(e,t)=>{var r,n,a,i=0;for(a of e)if(null!=a&&(r=null!=(n=t(a,i++))?n:r,eS)){eS=!1;break}return r},eM=(e,t)=>{var r,n,a,i=0;for(a in e)if(r=null!=(n=t([a,e[a]],i++))?n:r,eS){eS=!1;break}return r},eq=(e,t,r,n)=>{var i;if(null!=e){if(eu(e))return ej(e,t,r,n);if(r===L){if(e[Y])return eU(e,t);if("object"==typeof e)return eM(e,t)}for(var a of eE(e,t,r,n))null!=a&&(i=a);return i}},ez=eq,eR=async(e,t,r,n)=>{var i,a;if(null==e)return L;for(a of eN(e,t,r,n))if(null!=(a=await a)&&(i=a),eS){eS=!1;break}return i},eP=(e,t)=>{if(null==e)return L;var r={};if(t){var n,a,i=0;for(a in e)(n=t([a,e[a]],i++))&&(r[n[0]]=n[1])}else for(var l of e)l&&(r[l[0]]=l[1]);return r},eD=(e,t,r)=>{var n,i,a;return null==e?L:er(t)||r?(a={},ez(e,r?(e,n)=>null!=(e=t(e,n))&&null!=(e[1]=r(a[e[0]],e[1]))&&(a[e[0]]=e[1]):e=>ez(e,t?e=>{var t;return null!=(null==e?void 0:e[1])&&((null!=(t=(n=a)[i=e[0]])?t:n[i]=[]).push(e[1]),a)}:e=>null!=(null==e?void 0:e[1])&&(a[e[0]]=e[1],a))),a):eP(eO(e,t?(e,r)=>et(t(e,r),1):e=>et(e,1)))},eB=(e,t,r,n,i)=>{var l=()=>eh(r)?r():r;return null!=(e=eq(e,(e,n)=>r=null!=(e=t(r,e,n))?e:l(),n,i))?e:l()},eW=(e,t,r,n)=>eO(e,(e,r)=>e&&null!=t&&t(e,r)?e:L,r,n),eJ=(e,t)=>{var r,n;if(null==e)return L;if(!t){if(null!=(r=null!=(n=e.length)?n:e.size))return r;if(!e[Y])return Object.keys(e).length}return r=0,null!=(n=eq(e,t?(e,n)=>t(e,n)?++r:r:()=>++r))?n:0},eL=(e,...t)=>null==e?L:ea(e)?Math.max(e,...t):eB(e,(e,r,n,i=t[1]?t[1](r,n):r)=>null==e||ea(i)&&e<i?i:e,L,t[2],t[3]),eH=(e,t,r,n)=>{var i;return null==e?L:ec(e)&&!t?0<Object.keys(e).length:null!=(i=null!=(i=null==(i=e.some)?void 0:i.call(e,null!=t?t:W))?i:eq(e,t?(e,r)=>!!t(e,r)&&ex(!0):()=>ex(!0),r,n))&&i},eK=(e,t=e=>e)=>{var r;return null!=(r=ed(e))&&r.sort((e,r)=>t(e)-t(r)),e},eG=(e,t,r)=>(e.constructor===Object||eu(e)?void 0===r?delete e[t]:e[t]=r:void 0===r?e.delete?e.delete(t):delete e[t]:e.set?e.set(t,r):e.add?r?e.add(t):e.delete(t):e[t]=r,r),eX=(e,t,r)=>{var n;if(e)return void 0===(n=e.get?e.get(t):e.has?e.has(t):e[t])&&null!=r&&null!=(n=eh(r)?r():r)&&eG(e,t,n),n},eZ=(e,...t)=>(ez(t,t=>ez(t,([t,r])=>{null!=r&&(ec(e[t])&&ec(r)?eZ(e[t],r):e[t]=r)})),e),eY=(e,t,r,n)=>{if(e)return null!=r?eG(e,t,r,n):(ez(t,t=>eu(t)?eG(e,t[0],t[1]):ez(t,([t,r])=>eG(e,t,r))),e)},eQ=(e,t,r)=>{var n;return ef(e,"set")?void 0===(n=r(e.get(t)))?e.delete(t):e.set(t,n):ef(e,"add")?r(n=e.has(t))?e.add(t):e.delete(t):e&&void 0===(n=e[t]=r(e[t]))&&ec(e)&&delete e[t],e},e2=(e,t)=>{if(e)return eu(t)?(eu(e)&&1<e.length?t.sort((e,t)=>t-e):t).map(t=>e2(e,t)):eu(e)?t<e.length?e.splice(t,1)[0]:void 0:((e,t)=>{var r;if(null!=(null!=e?e:t))return r=eX(e,t),ef(e,"delete")?e.delete(t):delete e[t],r})(e,t)},e5=e=>eh(e)?e():e,e3=(e,t=-1)=>eu(e)?t?e.map(e=>e3(e,t-1)):[...e]:ec(e)?t?eD(e,([e,r])=>[e,e3(r,t-1)]):{...e}:ey(e)?new Set(t?eO(e,e=>e3(e,t-1)):e):em(e)?new Map(t?eO(e,e=>[e[0],e3(e[1],t-1)]):e):e,e6=(e,...t)=>null==e?void 0:e.push(...t),e4=(e,...t)=>null==e?void 0:e.unshift(...t),e8=(e,t)=>{var r,i,a;if(e)return ec(t)?(a={},ec(e)&&(ez(e,([e,l])=>{if(!U(l,t[e],-1)){if(ec(r=l)){if(!(l=e8(l,t[e])))return;[l,r]=l}else ea(l)&&ea(void 0)&&(l=(r=l)-void 0);a[e]=l,(null!=i?i:i=e3(t))[e]=r}}),i)?[a,i]:void 0):[e,e]},e9="undefined"!=typeof performance?(e=K)=>e?Math.trunc(e9(H)):performance.timeOrigin+performance.now():Date.now,e7=(e=!0,t=()=>e9())=>{var r,n=+e*t(),i=0;return(a=e,l)=>(r=e?i+=-n+(n=t()):i,l&&(i=0),(e=a)&&(n=t()),r)},tt=(e,t=0)=>{var e=eh(e)?{frequency:t,callback:e}:e,{queue:i=!0,paused:a=!1,trigger:l=!1,once:o=!1,callback:u=()=>{},raf:s}=e,d=(t=null!=(e=e.frequency)?e:0,0),v=to(!0).resolve(),c=e7(!a),f=c(),p=async e=>{if(!d||!i&&v.pending&&!0!==e)return!1;if((y.busy=!0)!==e)for(;v.pending;)await v;return e||v.reset(),(!1===await D(()=>u(c(),-f+(f=c())),!1,()=>!e&&v.resolve())||t<=0||o)&&m(!1),!(y.busy=!1)},h=()=>d=setTimeout(()=>s?requestAnimationFrame(g):g(),t<0?-t:t),g=()=>{y.active&&p(),y.active&&h()},m=(e,t=!e)=>(c(e,t),clearTimeout(d),y.active=!!(d=e?h():0),y),y={active:!1,busy:!1,restart:(e,r)=>(t=null!=e?e:t,u=null!=r?r:u,m(!0,!0)),toggle:(e,t)=>e!==y.active?e?t?(m(!0),y.trigger(),y):m(!0):m(!1):y,trigger:async e=>await p(e)&&(m(y.active),!0)};return y.toggle(!a,l)};function tr(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}class tn{get value(){return this._promise.value}get error(){return this._promise.error}get pending(){return this._promise.pending}resolve(e,t=!1){return this._promise.resolve(e,t),this}reject(e,t=!1){return this._promise.reject(e,t),this}reset(){return this._promise=new ti,this}signal(e){return this.resolve(e),this.reset(),this}then(e,t){return this._promise.then(e,t)}constructor(){tr(this,"_promise",void 0),this.reset()}}class ti{then(e,t){return this._promise.then(e,t)}constructor(){var e;tr(this,"_promise",void 0),tr(this,"resolve",void 0),tr(this,"reject",void 0),tr(this,"value",void 0),tr(this,"error",void 0),tr(this,"pending",!0),this._promise=new Promise((...t)=>{e=t.map((e,t)=>(r,n)=>{if(this.pending)return this.pending=!1,this[t?"error":"value"]=r===L||r,e(r),this;if(n)return this;throw TypeError("Promise already resolved/rejected.")})}),[this.resolve,this.reject]=e}}var tl=(e,t)=>null==e||isFinite(e)?!e||e<=0?e5(t):new Promise(r=>setTimeout(async()=>r(await e5(t)),e)):j(`Invalid delay ${e}.`),to=e=>new(e?tn:ti),ts=(e,t,r)=>{var n=!1,i=(...t)=>e(...t,a),a=()=>n!==(n=!1)&&(r(i),!0),l=()=>n!==(n=!0)&&(t(i),!0);return l(),[a,l]},ee=()=>{var e,t=new Set;return[(r,n)=>{var i=ts(r,e=>t.add(e),e=>t.delete(e));return n&&e&&r(...e,i[0]),i},(...r)=>(e=r,t.forEach(e=>e(...r)))]},tv=(e,t,r)=>null==e?L:eu(t)?null==(t=t[0])?L:t+" "+tv(e,t,r):null==t?L:1===t?e:null!=r?r:"is"===e?"are":e+"s",tc=!0,tf=(e,t,r)=>r?(tc&&e6(r,"[",t,"m"),eu(e)?e6(r,...e):e6(r,e),tc&&e6(r,"[m"),r):tf(e,t,[]).join(""),tp=(e,t,r=!1)=>e&&(e.length>t?r?`${e.slice(0,t)}... [and ${e.length-t} more]`:e.slice(0,t-1)+"â€¦":e),tg=(e,t)=>{var l,r=[],n={},i={},a=0;for(l in t)l===t[l]&&(Object.defineProperty(i,l,{value:l,writable:!1,enumerable:!0,configurable:!1}),n[l]=a++,r.push(l));var o=(t,r=!0)=>null==t?L:null!=n[t]?t:r?j(`The ${e} "${t}" is not defined.`):L,u={writable:!1,enumerable:!1,configurable:!1};return Object.defineProperties(i,{parse:{value:o,...u},ranks:{value:n,...u},levels:{value:r,...u},compare:{value(e,t){e=n[o(e)],t=n[o(t)];return e<t?-1:+(t<e)},...u}}),i},tm=Symbol(),ty=(e,{delimiters:t=["|",";",","],decode:r=!0,lowerCase:n}={})=>{var i,l;return e?(null==(l=e.split("=").map(e=>(e=r?decodeURIComponent(e.trim()).replaceAll("+"," "):e.trim(),n?e.toLowerCase():e)))[1]&&(l[1]=""),l[2]=l[1]&&(el(t)?t=[t]:eu(t))&&tV(t,e=>1<(i=l[1].split(e)).length?tR(i):L)||(l[1]?[l[1]]:[]),l):L},tb=(e,{delimiters:t=!0,requireAuthority:r,...n}={})=>null==e?L:tT(e,/^(?:(?:([\w+.-]+):)?(\/\/)?)?((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))?(?::(\d*))?)?(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/g,(e,r,i,a,l,o,u,s,d,v,c,f)=>{e={source:e,scheme:r,urn:r?!i:!i&&L,authority:a,user:l,password:o,host:null!=u?u:s,port:null!=d?parseInt(d):L,path:v,query:!1===t?c:c?tw(c,{...n,delimiters:t}):L,fragment:f};return e.path=e.path||(e.authority?e.urn?"":"/":L),e}),tw=(e,t)=>tk(e,"&",t),tk=(e,t,{delimiters:r=!0,...n}={})=>{e=tH(null==e||null==(e=e.match(/(?:^.*?\?|^)([^#]*)/))||null==(e=e[1])?void 0:e.split(t),e=>{var[e,a,l]=null!=(e=ty(e,{...n,delimiters:!1===r?[]:!0===r?L:r}))?e:[];return null!=(e=null==e?void 0:e.replace(/\[\]$/,""))?!1!==r?[e,1<l.length?l:a]:[e,a]:tz}),t=rr(tX(e,!1),([e,t])=>[e,!1!==r?1<t.length?t1(t):t[0]:t.join(",")]);return t&&(t[tm]=e),t},tS=(e,t)=>t&&null!=e?t.test(e):L,tx=(e,t,r)=>tT(e,t,r,!0),tT=(e,t,i,a=!1)=>null==(null!=e?e:t)?L:i?(r=L,a?(n=[],tT(e,t,(...e)=>null!=(r=i(...e))&&n.push(r))):e.replace(t,(...e)=>r=i(...e)),r):null!=(a=e.match(t))?a:L,tI=e=>null==e?void 0:e.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),tA=/\z./g,tE=(e,t)=>(t=ro(eC(eW(e,e=>null==e?void 0:e.length)),"|"))?RegExp(t,"gu"):tA,tN={},t$=e=>e instanceof RegExp,tO=(r,n=[","," "])=>{var i;return t$(r)?r:eu(r)?tE(eO(r,e=>null==(e=tO(e,n))?void 0:e.source)):er(r)?r?/./g:tA:el(r)?null!=(i=(e=tN)[t=r])?i:e[t]=tT(r||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,r)=>t?RegExp(t,"gu"):tE(eO(tC(r,RegExp(`(?<!(?<!\\\\)\\\\)[${ro(n,tI)}]`)),e=>e&&`^${ro(tC(e,RegExp("(?<!(?<!\\\\)\\\\)\\*")),e=>tI(t_(e,/\\(.)/g,"$1")),".*")}$`))):L},tC=(e,t,r=!0)=>null==e?L:r?tC(e,t,!1).filter(X):e.split(t),t_=(e,t,r)=>null!=(t=null==e?void 0:e.replace(t,r))?t:e,tF=(e=(e,t)=>e-t,t=e=>e[1]-e[0])=>{var r=[];return eY(r,{push(n,i){for(var a=[n,i],l=(e=!0)=>e?r.width=r.reduce((e,r)=>e+t(r),0):r.width,o=0;o<r.length;o++){var u,s,d=r[o];if(e(a[1],d[0])<0)return l(r.splice(o,0,a));if(e(a[0],d[1])<=0){if(e(a[0],d[0])<0&&(u=d[0]=a[0]),0<e(a[1],d[1])&&(u=d[1]=a[1]),!((null==(s=r[o+1])?void 0:s[0])<d[1]))return l(null!=u);u=a=r.splice(o--,1)[0]}}return l(a&&(r[r.length]=a))},width:0})},tj=e=>{for(var t=e;t;)t=Object.getPrototypeOf(e=t);return e},tU=(e,t)=>{if(!e||tj(e)===t)return e;for(var r of e.document.getElementsByTagName("iframe"))try{if(e=tU(r.contentWindow,t))return e}catch{}},tM=e=>null==e?e:globalThis.window?tU(window,tj(e)):globalThis,tq=!1,tz=Symbol(),tR=e=>(tq=!0,e),tP=Symbol(),tD=Symbol(),tB=Symbol.iterator,tW=(e,t,r)=>{if(null==e||e[tP])throw t;e=tM(e);if(!e)throw t;var l,i=()=>(e,t,r,n,i)=>{var a,o,l=0;for(o of e)if((a=t?t(o,l++,n,i):o)!==tz){if(a===tR)break;if(n=a,r&&r.push(a),tq){tq=!1;break}}return r||n},a=(e.Array.prototype[tP]=(e,t,r,n,i)=>{for(var l,o=0,u=e.length;o<u;o++)if(l=e[o],(l=t?t(l,o,n,i):l)!==tz){if(l===tR)break;if(n=l,r&&r.push(l),tq){tq=!1;break}}return r||n},i());for(l of(e.Object.prototype[tP]=(e,t,r,n,l)=>{if(e[tB])return(e.constructor===Object?a:Object.getPrototypeOf(e)[tP]=i())(e,t,r,n,l);var u,d,s=0;for(d in e)if(u=[d,e[d]],(u=t?t(u,s++,n,l):u)!==tz){if(u===tR)break;if(n=u,r&&r.push(u),tq){tq=!1;break}}return r||n},e.Object.prototype[tD]=function(){var t,e;return this[tB]||this[Q]?this.constructor===Object?null!=(e=this[Q]())?e:this[tB]():((e=Object.getPrototypeOf(this))[tD]=null!=(t=e[Q])?t:e[tB],this[tD]()):function*(e){for(var t in e)yield[t,e[t]]}(this)},[e.Map.prototype,e.WeakMap.prototype,e.Set.prototype,e.WeakSet.prototype,Object.getPrototypeOf(function*(){})]))l[tP]=i(),l[tD]=l[tB];return e.Number.prototype[tP]=(e,t,r,n,i)=>a(tJ(e),t,r,n,i),e.Number.prototype[tD]=tJ,e.Function.prototype[tP]=(e,t,r,n,i)=>a(tL(e),t,r,n,i),e.Function.prototype[tD]=tL,r()};function*tJ(e=this){for(var t=0;t<e;t++)yield t}function*tL(e=this){for(var t=void 0;void 0!==(t=e(t));)yield t}var tV=(e,t,r,n)=>{try{return e?e[tP](e,t,void 0,r,n):null==e?e:void 0}catch(i){return tW(e,i,()=>tV(e,t,r,n))}},tH=(e,t,r=[],n,i=e)=>{try{return e||0===e||""===e?e[tP](e,t,r,n,i):null==e?e:void 0}catch(a){return tW(e,a,()=>tH(e,t,r,n,i))}},tK=(e,t=!0,r=!1)=>tH(e,!0===t?e=>null!=e?e:tz:t?t.has?e=>null==e||t.has(e)===r?tz:e:(e,n,i)=>!t(e,n,i)===r?e:tz:e=>e||tz),tG=(e,t,r=-1,n=[],i,a=e)=>tH(e,(e,i,a)=>null!=(t?e=t(e,i,a):e)&&e[Symbol.iterator]&&"string"!=typeof e&&r?(tG(e,void 0,r-1,n,e),tz):e,n,i,a),tX=(e,t,r)=>{var n,i,a,l;return null!=t&&"function"!=typeof t&&([t,r]=[void 0,t]),tV(e,!1!==r?(a=new Map,(e,r,n)=>{void 0!==(l=t?t(e,r,n):e)[0]&&t9(a,l[0],()=>[]).push(l[1])}):(a={},(e,r,o)=>(l=t?t(e,r,o):e)&&void 0!==l[0]&&(null!=(r=(n=a)[i=l[0]])?r:n[i]=[]).push(l[1]))),a},tQ=e=>null==e||eu(e)?e:e[tB]&&"string"!=typeof e?[...e]:[e],t0=(e,t)=>!0===tV(e,(r,n,i)=>(t?t(r,n,i,e):r)?tq=!0:r),t1=(e,...t)=>{var r,n;for(n of e=!t.length&&eg(e)?e:[e,...t])if(null!=n){if(eg(n)){(null!=r?r:r=[]).push(...n);continue}(null!=r?r:r=[]).push(n)}return r},t2=(e,t,r)=>(r?-1:1)*(e===t?0:"string"==typeof e?"string"==typeof t?e.localeCompare(t):1:"string"==typeof t?-1:null==e?null==t?0:-1:null==t?1:e-t),t3=Symbol(),t6=Symbol(),t4=Symbol(),t8=(e,t,r)=>{if(null==e||e[t6])throw t;var i,e=tM(e);if(!e||e.Object.prototype[t3])throw t;for({prototype:i}of[e.Map,e.WeakMap])i[t3]=function(e,t){return void 0===t?this.delete(e):this.get(e)!==t&&!!this.set(e,t)},i[t6]=i.get;for({prototype:i}of[e.Set,e.WeakSet])i[t3]=function(e,t,r=!1){return t||r&&void 0===t?!this.has(e)&&!!this.add(e):this.delete(e)},i[t6]=i.has,i[t4]=function(e){for(var t of e)void 0!==t&&this.add(t);return this};for({prototype:i}of(e.Array.prototype[t4]=function(e){return this.push(...e),this},[e.Object,e.Array]))i[t3]=function(e,t){return void 0===t?void 0!==this[e]&&(delete this[e],!0):(this[e]=t)!==t},i[t6]=function(e){return this[e]};return r()},t9=(e,t,r)=>{try{if(null==e)return e;var n=e[t6](t);if(void 0===n&&void 0!==(n="function"==typeof r?r():r)){if(null!=n&&n.then)return n.then(r=>void 0===r?r:e[t3](t,r));e[t3](t,n)}return n}catch(n){return t8(e,n,()=>t9(e,t,r))}},t7=(e,t,r)=>{try{return!0===(null==e?void 0:e[t3](t,r,!0))}catch(n){return t8(e,n,()=>t7(e,t,r))}},re=(e,t,r)=>{try{return e[t3](t,r),r}catch(n){return t8(e,n,()=>re(e,t,r))}},rt=(e,...t)=>{try{return null==e?e:e[t4](t)}catch(r){return t8(e,r,()=>rt(e,...t))}},rr=(e,t)=>{var r={};return tV(e,t?(e,n,i)=>(e=t(e,n,i))&&("symbol"!=typeof e||e!==tz&&e!==tR)?r[e[0]]=e[1]:e:e=>e&&("symbol"!=typeof e||e!==tz&&e!==tR)?r[e[0]]=e[1]:e),r},rn=(e,...t)=>{try{return(null==e?void 0:e.constructor)===Object?tV(t,t=>tV(t,t=>t&&(e[t[0]]=t[1]))):tV(t,t=>tV(t,t=>t&&e[t3](t[0],t[1]))),e}catch(r){return t8(e,r,()=>rn(e,...t))}},ri=(e,t,r={})=>{if(null!=e){var l,{deep:n=!0,overwrite:i=!0,nulls:a=!1}=r;for(l of void 0===t?[]:null!=t&&t[tB]&&"string"!=typeof t?t:[t])tV(l,t=>{var o,u;t&&([t,o]=t,u=e[t],(a?null==u:void 0===u)?e[t]=o:n&&(null==o?void 0:o.constructor)===Object&&(null==u?void 0:u.constructor)===Object?ri(u,o,r):i&&(e[t]=o))})}return e},ra=(e,t)=>null==e?e:rr(t,t=>void 0!==e[t]||t in e?[t,e[t]]:tz),rl=e=>null==e||"boolean"==typeof e||""===e.toString(),ro=(e,t,r)=>null==e?e:eg(e)?tK("function"==typeof t?tH(e,t):(r=t,e),rl,!0).join(null!=r?r:""):rl(e)?"":e.toString(),ru=(e,t,r,n)=>{var i,o;return e||0===e?"function"==typeof t?ru(tH(e,t),r,n):(i=[],n=tV(e,(e,t,r)=>rl(e)?tz:(r&&i.push(r),e.toString())),[t,o]=eu(t)?t:[,t],o=(null!=o?o:o="and")[0]===(t=null==t?",":t)?o+" ":" "+(o?o+" ":""),t=i.length?""+i.join(t+" ")+o+n:null!=n?n:"",r?r(t,i.length+ +(null!=n)):t):null==e?e:void 0},rs=tg("data classification",{never:"never",anonymous:"anonymous",indirect:"indirect",direct:"direct",sensitive:"sensitive"}),rd=["necessary","performance","functionality","marketing","personalization","security"],rv=rr(rd,e=>[e,e]),rc=(Object.freeze(eP(rd.map(e=>[e,!0]))),(e,t)=>"personalization"===e&&!0!==(null==t?void 0:t.personalization)?"functionality":"security"===e&&!0!==(null==t?void 0:t.security)?"necessary":e),rf=(e,t)=>{var r=e;return!0!==(null==t?void 0:t.personalization)&&null!=r.personalization&&(null!=(r=r===e?{...e}:r).functionality?r.personalization=r.functionality:r.functionality=r.personalization,delete r.personalization),!0!==(null==t?void 0:t.security)&&null!=r.security&&delete(r=r===e?{...e}:r).security,r},rp={names:rd,specificNames:rd.filter(e=>"necessary"!==e),parse(e,{names:t=!1,includeDefault:r=!0,validate:n=!0}={}){if(null==e)return e;if(e.purposes&&(e=e.purposes),el(e)&&(e=e.split(",")),eu(e)){var a,i={};for(a of e)if(a!==rb){if(!rv[a]){n&&j(`The purpose name '${a}' is not defined.`);continue}"necessary"!==a&&(i[a]=!0)}e=i}return t?(t=tH(e,([e,t])=>rv[e]&&t?e:tz)).length||!r?t:["necessary"]:e},get all(){return{functionality:!0,marketing:!0,performance:!0,personalization:!0,security:!0}},test(e,t,{intersect:r,optionalPurposes:n,targetPurpose:i}){if("boolean"==typeof n&&(n={personalization:n,security:n}),i&&"necessary"!==(i=rc(i,n))&&!t[rc(i,n)])return!1;if(e=rf(e,n),t=rf(t,n),r){for(var a in t)if(rv[a]&&t[a]&&!e[a])return!1;if("all"===r)for(var a in e)if(rv[a]&&e[a]&&!t[a])return!1;return!0}var l=!1;for(a in e)if(rv[a]&&e[a]){if(t[a])return!0;l=!0}return!l}},rg=(tg("data restriction",{public:"public","trusted-write":"trusted-write","trusted-only":"trusted-only"}),{anonymous:{classification:"anonymous",purposes:{}},clone:e=>e&&{classification:e.classification,purposes:{...e.purposes}},equals:(e,t)=>e===t||e&&t&&e.classification===t.classification&&rp.test(e.purposes,t.purposes,{intersect:"all",optionalPurposes:!0}),serialize(e){var t=rp.parse(e.purposes,{names:!0,includeDefault:!1});return e.classification&&"anonymous"!==e.classification||null!=t&&t.length?e.classification+":"+t:null},deserialize(e,t){var a;return e?([e,a]=e.split(":"),{classification:null!=(e=rs.parse(e,!1))?e:"anonymous",purposes:null!=(e=rp.parse(a,{validate:!1}))?e:{}}):t?rg.clone(t):{classification:"anonymous",purposes:{}}}}),rm=(e,t)=>(!(i=null==e?void 0:e.metadata)||t&&(delete i.posted,delete i.queued,Object.entries(i).length)||delete e.metadata,e),ry=e=>!(null==e||!e.patchTargetId),rb="@schema",rw=Symbol(),rk=e=>void 0===e?"undefined":tp(JSON.stringify(e),40,!0),rS=/^\d{4}-\d{2}-\d{2}(?:T00:00:00(?:\.000)?)?Z$/,rx=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d{1,7})?)?Z$/,rT=/^\{?([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})\}?$/,rI=/^(?:(?:([\w+.-]+):)(\/\/)?)((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))(?::(\d*))?)(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/,rA=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(\[(([0-9.]+)|([0-9a-f:]+))\])|(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9]))?$/,rE=(e,t,r)=>(e.push({path:"",type:null,source:t,message:rk(t)+` ${r}.`}),rw),rN=(e,t,r)=>"number"==typeof e&&(!t&&Number.isFinite(e)&&!Number.isNaN(e)||Number.isInteger(e))||r&&"string"==typeof e&&rN((t?parseInt:parseFloat)(e),t,!1),r$={},rd=((e=>{null==e.primitive&&(e.primitive=typeof(null!=(r=null==(r=e.enum)?void 0:r[0])?r:""));var r,u,o=null!=(o=r$[r=e.primitive+"-"+(null!=(r=e.format)?r:"")+"-"+!1])?o:r$[r]=(e=>{switch(e.primitive){case"boolean":return(e,t)=>"boolean"==typeof e?e:rE(t,e,"is not a Boolean");case"date":return(e,t)=>e&&rS.test(e)&&!isNaN(+new Date(e))?e:rE(t,e,"is not a valid ISO 8601 UTC date (time is not allowed, and the 'Z' postfix must be added to indicate Coordinated Universal Time)");case"timestamp":case"datetime":var r="format"in e?"unix"!==e.format:"datetime"===e.primitive;return(e,n)=>{if(!e||rN(e,!1,!1)){if(!rN(e,!0,!1))return rE(n,e,"is not a valid UNIX timestamp");e*=1}else if(!rx.test(e)||isNaN(+new Date(e)))return rE(n,e,"is not a valid ISO 8601 UTC date/time (the 'Z' postfix must be added to indicate Coordinated Universal Time)");return e=new Date(e),r?new Date(e).toISOString():+e};case"duration":return(e,r)=>rN(e,!0,!1)?+e:rE(r,e,"is not a valid duration (must be provided as milliseconds)");case"integer":return(e,r)=>rN(e,!0,!1)?+e:rE(r,e,"is not a valid integer");case"number":return(e,r)=>rN(e,!1,!1)?e:rE(r,e,"is not a number");case"string":switch(e.format){case"uri":return(e,t)=>"string"==typeof e&&rI.test(e)?e:rE(t,e,"is not a valid URI");case"url":return(e,t)=>{var r="string"==typeof e&&rI.exec(e);return r?r[2]?e:rE(t,e,"is not a valid URL (it is a URI, but a URL is required)"):rE(t,e,"is not a valid URL")};case"urn":return(e,t)=>{var r="string"==typeof e&&rI.exec(e);return r?"urn"!==r[1]||r[2]?rE(t,e,"is not a valid URN (it is a URI, but a URN is required)"):e:rE(t,e,"is not a valid URN")};case"email":return(e,t)=>"string"==typeof e&&rA.test(e)?e.toLowerCase():rE(t,e,"is not a valid email address")}return(e,t)=>"string"==typeof e?e:rE(t,e,"is not a string");case"uuid":return(e,t)=>{var r;return null!=(r="string"==typeof e?null==(r=rT.exec(e))?void 0:r[1].toLowerCase():null)?r:rE(t,e,"is not a valid UUID")};default:throw TypeError(`'${rk(e)}' is not a supported primitive type.`)}})(e),d=e.maxLength,c=(null!=d&&(v=o,o=(e,t)=>(e=v(e,t))!==rw&&e.length>d?rE(t,e,`exceeds the maximum allowed ${d} number of characters`):e),e.min),f=e.max;if(null==c&&null==f||(p=null!=c?null!=f?`between ${c} and `+f:"at least "+c:"at most "+f,v=o,o=(e,t)=>(e=v(e,t))===rw||(null==c||c<=e)&&(null==f||e<=f)?e:rE(t,e,p)),"enum"in e){var v=o;if(!(u=new Set((Array.isArray(e.enum)?e.enum:[e.enum]).map(e=>{var t=[];if((e=v(e,t))===rw)throw TypeError(t[0]);return e}))).size)throw TypeError("At least one enum value to test against is required.");var p="is not the constant value "+ru(e.enum.map(e=>JSON.stringify(e)),"or"),o=(e,t)=>(e=v(e,t))===rw||u.has(e)?e:rE(t,e,p)}(e=>null==e||e instanceof Set||new Set(e[tB]&&"string"!=typeof e?e:[e]))(u)})({primitive:"string",format:"uri"}),tg("variable scope",{global:"global",session:"session",device:"device",user:"user"})),rC=({key:e,scope:t="",entityId:r="",source:n=""},i="")=>["'"+e+"'",n&&"from '"+n+"'",i,t&&"in "+t+" scope",r&&"for '"+r+"'"].filter(e=>e).join(" "),r_=e=>null==e?e:{source:e.source,key:e.key,scope:e.scope,entityId:e.entityId},rF=((A={})[A.Success=200]="Success",A[A.Created=201]="Created",A[A.NotModified=304]="NotModified",A[A.BadRequest=400]="BadRequest",A[A.Forbidden=403]="Forbidden",A[A.NotFound=404]="NotFound",A[A.Conflict=409]="Conflict",A[A.Error=500]="Error",A),rj=(e,t=!0)=>null!=(null==e?void 0:e.value)||!t&&(!e||404===e.status),rU=(e,t=!0)=>e&&(e.status<400||!t&&404===e.status);function rM(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var rq=e=>{var t=rC(e),r=e.error;return e.status<400?`${t} succeeded with status ${e.status} - ${rF[e.status]}.`:`${t} failed with status ${e.status} - ${rF[e.status]}${r?` (${r})`:""}.`};class rz extends Error{constructor(e,t){super(null!=t?t:"One or more operations failed."),rM(this,"succeeded",void 0),rM(this,"failed",void 0),this.succeeded=null!=(t=null==e?void 0:e.filter(e=>rU(e,!1)))?t:[],this.failed=null!=(t=null==e?void 0:e.filter(e=>!rU(e,!1)))?t:[]}}var rR=e=>!!e.callback,rP=e=>!!e.poll,rD=Symbol(),rB=(e,t,r,{poll:n,logCallbackError:i}={})=>{var a=eu(t)?t:[t],l=[],o=(async()=>{var s,d,u,v,c,t=await r(a.filter(e=>e)),o=[];for(u of a)u&&null!=(d=t.get(u))&&(d[rD]=u,rR(u)&&o.push([u,d,e=>!0===u.callback(e)]),rP(u))&&o.push([u,d,e=>{var t;return!rj(e,!1)||(t=!rj(e,!1)||u.poll(e.value,e[rD]===u,s),s=e.value,t)}]);for([u,v,c]of o)try{var f="get"===e?async e=>!0===await c(e)&&(null==n?void 0:n(u,f)):c;await f(v)}catch(t){var p=`${e} callback for ${rC(u)} failed: ${t}.`;i?i(p,u,t):l.push(p)}return t})(),u=async(r,n)=>{var d,v,c,i=await o,u=[],s=[];for(d of a)d?null==(c=i.get(d))?s.push(`No result for ${rC(d)}.`):!r||rU(c,n||"set"===e)?u.push(r&&c.status===rF.NotFound?void 0:1<r?null!=(v=c.value)?v:void 0:c):s.push(rq(c)):u.push(void 0);if(s.push(...l),s.length)throw 10<s.length&&s.push(`
(and ${s.splice(10).length} more...)`),new rz(u,s.join("\n"));return a===t?u:u[0]};return Object.assign(P(()=>u(1,!1)),{as:()=>u(1,!1),all:()=>u(0,!1),require:()=>u(1,!0),value:(e=!1)=>u(2,e),values:(e=!1)=>u(2,e)})},rW=e=>e&&"string"==typeof e.type,rJ=(e=>t=>(null==t?void 0:t.type)&&e.some(e=>e===(null==t?void 0:t.type)))(["view"]),rL=e=>e&&/^(%[A-F0-9]{2}|[^%])*$/gi.test(e)&&/[A-F0-9]{2}/gi.test(e)?decodeURIComponent(e):e,rV=(e,t)=>{var r;return t&&(!(l=e.get(a=t.tag+(null!=(r=t.value)?r:"")))||(null!=(r=l.score)?r:1)<(null!=(r=t.score)?r:1))&&e.set(a,t)},rH=(e,t="",r=new Map)=>{if(e)return eg(e)?tV(e,e=>rH(e,t,r)):el(e)?tT(e,/(?:([^\s:~]+)::(?![ :=]))?([^\s~]+?)(?:\s*[:=]\s*(?:"((?:"[^"]*|.)*?)(?:"|$)|'((?:'[^'~]*|.)*?)(?:'|$)|((?: *(?:(?:[^,&;#\s~])))*))\s*)?(?: *~ *(\d*(?:\.\d*)?))?(?:[\s,&;#~]+|$)/g,(e,n,i,a,l,o,u)=>{i={tag:(n?rL(n)+"::":"")+t+rL(i),value:rL(null!=(n=null!=a?a:l)?n:o)};u&&10!==parseFloat(u)&&(i.score=parseFloat(u)/10),rV(r,i)}):rV(r,e),r},rK=tg("local variable scope",{view:"view",tab:"tab",shared:"shared"}),rG=tg("variable scope",{...rK,...rd}),rX=e=>("global"!==e.scope&&e.entityId&&(e.entityId=void 0),e),rZ=e=>null!=e&&!!e.scope&&null!=rK.ranks[e.scope],rY=e=>null==e?e:[e.scope,e.key,e.entityId].join("\0"),rQ=e=>{e=e.split("\0");return{scope:e[0],key:e[1],entityId:e[2]}},r1=()=>()=>j("Not initialized."),r2=window,r5=document,r3=r5.body,r6=(e,t)=>!(null==e||!e.matches(t)),r4=((e=>tc=e)(!!r2.chrome),V),r8=(e,t,r=(e,t)=>r4<=t)=>{for(var n=0,i=H;1===(null==e?void 0:e.nodeType)&&!r(e,n++)&&t(e,(e,t)=>(null!=e&&(a=e,i=t!==K&&null!=a),K),n-1)!==H&&!i;){var a,o=e;null===(e=e.parentElement)&&(null==o?void 0:o.ownerDocument)!==r5&&(e=null==o||null==(o=o.ownerDocument.defaultView)?void 0:o.frameElement)}return a},r9=(e,t="z")=>{if(null!=e&&"null"!==e&&(""!==e||"b"===t))switch(t){case!0:case"z":var r;return null==(r=(""+e).trim())?void 0:r.toLowerCase();case!1:case"r":case"b":return""===e||en(e);case"n":return parseFloat(e);case"j":return z(()=>JSON.parse(e),G);case"h":return z(()=>n6(e),G);case"e":return z(()=>null==n8?void 0:n8(e),G);default:return eu(t)&&""!==e?(""+e).split(",").map(e=>""===e.trim()?void 0:r9(e,t[0])):void 0}},r7=(e,t,r)=>r9(null==e?void 0:e.getAttribute(t),r),ne=(e,t,r)=>r8(e,(e,n)=>n(r7(e,t,r))),nt=(e,t)=>null==(e=r7(e,t))||null==(t=e.trim())?void 0:t.toLowerCase(),nr=e=>null==e?void 0:e.getAttributeNames(),nn=(e,t)=>getComputedStyle(e).getPropertyValue(t)||null,ni=e=>null!=e?e.tagName:null,nl=e=>({x:eb(scrollX,e),y:eb(scrollY,e)}),no=(e,t)=>t_(e,/#.*$/,"")===t_(t,/#.*$/,""),nu=(e,t,r=K)=>(u=ns(e,t))&&B({xpx:u.x,ypx:u.y,x:eb(u.x/r3.offsetWidth,4),y:eb(u.y/r3.offsetHeight,4),pageFolds:r?u.y/window.innerHeight:void 0}),ns=(e,t)=>null!=t&&t.pointerType&&null!=(null==t?void 0:t.pageY)?{x:t.pageX,y:t.pageY}:e?({x:s,y:d}=nv(e),{x:s,y:d}):void 0,nv=(e,t=!0)=>e?(v=e.getBoundingClientRect(),o=t?nl(H):{x:0,y:0},{x:eb(v.left+o.x),y:eb(v.top+o.y),width:eb(v.width),height:eb(v.height)}):void 0,nc=(e,t,r,n={capture:!0,passive:!0})=>(t=tQ(t),ts(r,r=>tV(t,t=>e.addEventListener(t,r,n)),r=>tV(t,t=>e.removeEventListener(t,r,n)))),np=()=>({...o=nl(K),width:window.innerWidth,height:window.innerHeight,totalWidth:r3.offsetWidth,totalHeight:r3.offsetHeight}),nh=new WeakMap,ng=e=>nh.get(e),nm=(e,t=H)=>(t?"--track-":"track-")+e,ny=(e,t,r,n,i,a)=>(null==t?void 0:t[1])&&tV(nr(e),l=>{var o;return null!=(o=(c=t[0])[f=l])?o:c[f]=(a=H,!el(n=tV(t[1],([t,r,n],i)=>tS(l,t)&&(a=void 0,!r||r6(e,r))&&ex(null!=n?n:l)))||(i=e.getAttribute(l))&&!en(i)||rH(i,t_(n,/\-/g,":"),r),a)}),nb=()=>{},nw=(e,t)=>{if(p===(p=nE.tags))return nb(e,t);var r=e=>e?t$(e)?[[e]]:eg(e)?e_(e,r):[ec(e)?[tO(e.match),e.selector,e.prefix]:[tO(e)]]:[],n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...r(tG(p,([,e])=>e,1))]];(nb=(e,t)=>ny(e,n,t))(e,t)},nk=(e,t)=>ro(eF(nn(e,nm(t,K)),nn(e,nm("base-"+t,K)))," "),nS={},nx=(e,t,r=nk(e,"attributes"))=>{var n;r&&ny(e,null!=(n=nS[r])?n:nS[r]=[{},tx(r,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,t,r,n)=>[tO(r||n),,t])],t),rH(nk(e,"tags"),void 0,t)},nT=(e,t,r=H,n)=>null!=(r=null!=(r=r?r8(e,(e,r)=>r(nT(e,t,H)),eh(r)?r:void 0):ro(eF(r7(e,nm(t)),nn(e,nm(t,K)))," "))?r:n&&(h=ng(e))&&n(h))?r:null,nI=(e,t,r=H,n)=>""===(g=nT(e,t,r,n))||(null==g?g:en(g)),nA=(e,t,r,n)=>e&&(null==n&&(n=new Map),nx(e,n),r8(e,e=>{nw(e,n),rH(null==r?void 0:r(e),void 0,n)},t),n.size)?{tags:[...n.values()]}:{},nE={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,encryptionKey:null,key:null,apiKey:null,json:!1,impressionThreshold:1e3,captureContextMenu:!0,tags:{default:["data-id","data-name"]}},nN=[],n$=[],nO=(e,t=0)=>e.charCodeAt(t),n_=([..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,t)=>nN[n$[t]=e.charCodeAt(0)]=t),e=>{for(var t,r=0,n=e.length,i=[];r<n;)t=e[r++]<<16|e[r++]<<8|e[r++],i.push(n$[(16515072&t)>>18],n$[(258048&t)>>12],n$[(4032&t)>>6],n$[63&t]);return i.length+=n-r,(e=>String.fromCharCode(...e))(i)}),nj={32:[2166136261n,16777619n],64:[0xcbf29ce484222325n,1099511628211n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},nU=(e=256)=>e*Math.random()|0,nq={exports:{}},{deserialize:nz,serialize:nR}=((()=>{function t(e,t){if(t&&t.multiple&&!Array.isArray(e))throw Error("Invalid argument type: Expected an Array to serialize multiple values.");var r,n,i=new Uint8Array(128),a=0;if(t&&t.multiple)for(var l=0;l<e.length;l++)o(e[l]);else o(e);return i.subarray(0,a);function o(e,i){var c,l;switch(typeof e){case"undefined":s(192);break;case"boolean":s(e?195:194);break;case"number":(e=>{var t;isFinite(e)&&Number.isSafeInteger(e)?0<=e&&e<=127||e<0&&-32<=e?s(e):0<e&&e<=255?d([204,e]):-128<=e&&e<=127?d([208,e]):0<e&&e<=65535?d([205,e>>>8,e]):-32768<=e&&e<=32767?d([209,e>>>8,e]):0<e&&e<=4294967295?d([206,e>>>24,e>>>16,e>>>8,e]):-2147483648<=e&&e<=2147483647?d([210,e>>>24,e>>>16,e>>>8,e]):0<e&&e<=0x10000000000000000?d([211,(t=e/4294967296)>>>24,t>>>16,t>>>8,t,(t=e%4294967296)>>>24,t>>>16,t>>>8,t]):-0x8000000000000000<=e&&e<=0x8000000000000000?(s(211),v(e)):d(e<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):((n=n||new DataView(r=new ArrayBuffer(8))).setFloat64(0,e),s(203),d(new Uint8Array(r)))})(e);break;case"string":(c=(l=(e=>{for(var t=!0,r=e.length,n=0;n<r;n++)if(127<e.charCodeAt(n)){t=!1;break}for(var i=0,a=new Uint8Array(e.length*(t?1:4)),l=0;l!==r;l++){var o=e.charCodeAt(l);if(o<128)a[i++]=o;else{if(o<2048)a[i++]=o>>6|192;else{if(55295<o&&o<56320){if(++l>=r)throw Error("UTF-8 encode: incomplete surrogate pair");var u=e.charCodeAt(l);if(u<56320||57343<u)throw Error("UTF-8 encode: second surrogate character 0x"+u.toString(16)+" at index "+l+" out of range");a[i++]=(o=65536+((1023&o)<<10)+(1023&u))>>18|240,a[i++]=o>>12&63|128}else a[i++]=o>>12|224;a[i++]=o>>6&63|128}a[i++]=63&o|128}}return t?a:a.subarray(0,i)})(e)).length)<=31?s(160+c):d(c<=255?[217,c]:c<=65535?[218,c>>>8,c]:[219,c>>>24,c>>>16,c>>>8,c]),d(l);break;case"object":null===e?s(192):e instanceof Date?(e=>{var r,t=e.getTime()/1e3;0===e.getMilliseconds()&&0<=t&&t<4294967296?d([214,255,t>>>24,t>>>16,t>>>8,t]):0<=t&&t<17179869184?d([215,255,(r=1e6*e.getMilliseconds())>>>22,r>>>14,r>>>6,r<<2>>>0|t/4294967296,t>>>24,t>>>16,t>>>8,t]):(d([199,12,255,(r=1e6*e.getMilliseconds())>>>24,r>>>16,r>>>8,r]),v(t))})(e):Array.isArray(e)?u(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?((l=(c=e).length)<=255?d([196,l]):d(l<=65535?[197,l>>>8,l]:[198,l>>>24,l>>>16,l>>>8,l]),d(c)):(e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?u:e=>{var r,t=0;for(r in e)void 0!==e[r]&&t++;for(r in t<=15?s(128+t):d(t<=65535?[222,t>>>8,t]:[223,t>>>24,t>>>16,t>>>8,t]),e){var n=e[r];void 0!==n&&(o(r),o(n))}})(e);break;default:if(i||!t||!t.invalidTypeReplacement)throw Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.");"function"==typeof t.invalidTypeReplacement?o(t.invalidTypeReplacement(e),!0):o(t.invalidTypeReplacement,!0)}}function u(e){var t=e.length;t<=15?s(144+t):d(t<=65535?[220,t>>>8,t]:[221,t>>>24,t>>>16,t>>>8,t]);for(var r=0;r<t;r++)o(e[r])}function s(e){if(i.length<a+1){for(var t=2*i.length;t<a+1;)t*=2;var r=new Uint8Array(t);r.set(i),i=r}i[a]=e,a++}function d(e){if(i.length<a+e.length){for(var t=2*i.length;t<a+e.length;)t*=2;var r=new Uint8Array(t);r.set(i),i=r}i.set(e,a),a+=e.length}function v(e){var t,e=0<=e?(t=e/4294967296,e%4294967296):(t=~(Math.abs(++e)/4294967296),~(Math.abs(e)%4294967296));d([t>>>24,t>>>16,t>>>8,t,e>>>24,e>>>16,e>>>8,e])}}function r(e,t){var r,n=0;if("object"!=typeof(e=e instanceof ArrayBuffer?new Uint8Array(e):e)||void 0===e.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),t&&t.multiple)for(r=[];n<e.length;)r.push(i());else r=i();return r;function i(){var t=e[n++];if(0<=t&&t<=127)return t;if(128<=t&&t<=143)return s(t-128);if(144<=t&&t<=159)return d(t-144);if(160<=t&&t<=191)return v(t-160);if(192===t)return null;if(193===t)throw Error("Invalid byte code 0xc1 found.");if(194===t)return!1;if(195===t)return!0;if(196===t)return u(-1,1);if(197===t)return u(-1,2);if(198===t)return u(-1,4);if(199===t)return c(-1,1);if(200===t)return c(-1,2);if(201===t)return c(-1,4);if(202===t)return o(4);if(203===t)return o(8);if(204===t)return l(1);if(205===t)return l(2);if(206===t)return l(4);if(207===t)return l(8);if(208===t)return a(1);if(209===t)return a(2);if(210===t)return a(4);if(211===t)return a(8);if(212===t)return c(1);if(213===t)return c(2);if(214===t)return c(4);if(215===t)return c(8);if(216===t)return c(16);if(217===t)return v(-1,1);if(218===t)return v(-1,2);if(219===t)return v(-1,4);if(220===t)return d(-1,2);if(221===t)return d(-1,4);if(222===t)return s(-1,2);if(223===t)return s(-1,4);if(224<=t&&t<=255)return t-256;throw console.debug("msgpack array:",e),Error("Invalid byte value '"+t+"' at index "+(n-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function a(t){for(var a,r=0,i=!0;0<t--;)i?(r+=127&(a=e[n++]),128&a&&(r-=128),i=!1):r=(r*=256)+e[n++];return r}function l(t){for(var r=0;0<t--;)r=256*r+e[n++];return r}function o(t){var r=new DataView(e.buffer,n+e.byteOffset,t);return n+=t,4===t?r.getFloat32(0,!1):8===t?r.getFloat64(0,!1):void 0}function u(t,r){t<0&&(t=l(r));r=e.subarray(n,n+t);return n+=t,r}function s(e,t){e<0&&(e=l(t));for(var r={};0<e--;)r[i()]=i();return r}function d(e,t){e<0&&(e=l(t));for(var r=[];0<e--;)r.push(i());return r}function v(t,r){t<0&&(t=l(r));r=n;return n+=t,((e,t,r)=>{var n=t,i="";for(r+=t;n<r;){var a=e[n++];if(127<a)if(191<a&&a<224){if(r<=n)throw Error("UTF-8 decode: incomplete 2-byte sequence");a=(31&a)<<6|63&e[n++]}else if(223<a&&a<240){if(r<=n+1)throw Error("UTF-8 decode: incomplete 3-byte sequence");a=(15&a)<<12|(63&e[n++])<<6|63&e[n++]}else{if(!(239<a&&a<248))throw Error("UTF-8 decode: unknown multibyte start 0x"+a.toString(16)+" at index "+(n-1));if(r<=n+2)throw Error("UTF-8 decode: incomplete 4-byte sequence");a=(7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(a<=65535)i+=String.fromCharCode(a);else{if(!(a<=1114111))throw Error("UTF-8 decode: code point 0x"+a.toString(16)+" exceeds UTF-16 reach");a-=65536,i=(i+=String.fromCharCode(a>>10|55296))+String.fromCharCode(1023&a|56320)}}return i})(e,r,t)}function c(e,t){e<0&&(e=l(t));t=l(1),e=u(e);return 255===t?(e=>{var r,t;if(4===e.length)return t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],new Date(1e3*t);if(8===e.length)return r=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),t=4294967296*(3&e[3])+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7],new Date(1e3*t+r/1e6);if(12===e.length)return r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],n-=8,t=a(8),new Date(1e3*t+r/1e6);throw Error("Invalid data length for a date value.")})(e):{type:t,data:e}}}var n={serialize:t,deserialize:r,encode:t,decode:r};nq.exports=n})(),(A=nq.exports)&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A),nP="$ref",nD=(e,t,r)=>ep(e)?L:r?t!==L:null===t||t,nB=(e,t,{defaultValues:r=!0,prettify:n=!1})=>{var i,a,l,o=(e,t,n=e[t],i=nD(t,n,r)?s(n):L)=>(n!==i&&(i!==L||eu(e)?e[t]=i:delete e[t],u(()=>e[t]=n)),i),u=e=>(null!=i?i:i=[]).push(e),s=e=>{if(null==e||eh(e)||ep(e))return L;if(ev(e)){if(e.toJSON&&e!==(e=e.toJSON()))return s(e);if(null!=(l=null==a?void 0:a.get(e)))return e[nP]||(e[nP]=l,u(()=>delete e[nP])),{[nP]:l};if(ec(e))for(var t in(null!=a?a:a=new Map).set(e,a.size+1),e)o(e,t);else!eg(e)||e instanceof Uint8Array||(!eu(e)||Object.keys(e).length<e.length?[...e]:e).forEach((t,r)=>r in e?o(e,r):(e[r]=null,u(()=>delete e[r])))}return e};return z(()=>{var r;return t?nR(null!=(r=s(e))?r:null):z(()=>JSON.stringify(e,L,2*!!n),()=>JSON.stringify(s(e),L,2*!!n))},!0,()=>null==i?void 0:i.forEach(e=>e()))},nW=e=>{var t,r,n=e=>ev(e)?e[nP]&&(r=(null!=t?t:t=[])[e[nP]])?r:(e[nP]&&delete(t[e[nP]]=e)[nP],Object.entries(e).forEach(([t,r])=>r!==(r=n(r))&&(e[t]=r)),e):e;return n(el(e)?z(()=>JSON.parse(e),()=>(console.error("Invalid JSON received.",e,Error().stack),L)):null!=e?z(()=>nz(e),()=>(console.error("Invalid message received.",e,Error().stack),L)):e)},nJ=(e,t={})=>{var r=(e,{json:t=!1,decodeJson:r=!1,...n})=>{var l,o,u,i=(e,r)=>ea(e)&&!0===r?e:u(e=el(e)?new Uint8Array(tH(e.length,t=>255&e.charCodeAt(t))):t?z(()=>JSON.stringify(e),()=>JSON.stringify(nB(e,!1,n))):nB(e,!0,n),r),a=e=>null==e?L:z(()=>nW(e),L);return t?[e=>nB(e,!1,n),a,(e,t)=>i(e,t)]:([l,o,u]=(e=>{for(var t,r,n,i,a,o,l=0n,u=0n,s=[],d=0,v=0,c=0,f=0,p=[],c=0;c<(null==e?void 0:e.length);f+=p[c]=e.charCodeAt(c++));var h=e?()=>{s=[...p],v=255&(d=f),c=-1}:()=>{},g=e=>(v=255&(d+=-s[c=(c+1)%s.length]+(s[c]=e)),e);return[e?e=>{for(h(),i=16-((t=e.length)+4)%16,a=new Uint8Array(4+t+i),n=0;n<3;a[n++]=g(nU()));for(r=0,a[n++]=g(v^16*nU(16)+i);r<t;a[n++]=g(v^e[r++]));for(;i--;)a[n++]=nU();return a}:e=>e,e?e=>{for(h(),r=0;r<3;g(e[r++]));if((t=e.length-4-((v^g(e[r++]))%16||16))<=0)return new Uint8Array(0);for(n=0,a=new Uint8Array(t);n<t;a[n++]=v^g(e[r++]));return a}:e=>e,(e,t=64)=>{if(null==e)return null;for(o=er(t)?64:t,h(),[l,u]=nj[o],r=0;r<e.length;l=BigInt.asUintN(o,(l^BigInt(v^g(e[r++])))*u));return!0===t?Number(BigInt(Number.MIN_SAFE_INTEGER)+l%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):l.toString(36)}]})(e),[(e,t)=>(t?X:n_)(l(nB(e,!0,n))),e=>null!=e?nW(o(e instanceof Uint8Array?e:(r&&ek(e)?a:e=>{for(var t,r=0,n=0,i=e.length,a=new Uint8Array(3*(i/4|0)+(i+3&3)%3);r<i;)a[n++]=nN[nO(e,r++)]<<2|(t=nN[nO(e,r++)])>>4,r<i&&(a[n++]=(15&t)<<4|(t=nN[nO(e,r++)])>>2,r<i)&&(a[n++]=(3&t)<<6|nN[nO(e,r++)]);return a})(e))):null,(e,t)=>i(e,t)])};if(!e){var n=+(null!=(n=t.json)?n:0);if(n&&!1!==t.prettify)return(null!=m?m:m=[r(null,{json:!1}),r(null,{json:!0,prettify:!0})])[n]}return r(e,t)},[nL,,]=(nJ(),nJ(null,{json:!0,decodeJson:!0}),nJ(null,{json:!0,prettify:!0})),tg=tC(""+r5.currentScript.src,"#"),rd=tC(""+(tg[1]||""),";"),nG=tg[0],nX=rd[1]||(null==(A=tb(nG,{delimiters:!1}))?void 0:A.host),nZ=e=>!(!nX||(null==(e=tb(e,{delimiters:!1}))||null==(e=e.host)?void 0:e.endsWith(nX))!==K),tg=(...e)=>t_(ro(e),/(^(?=\?))|(^\.(?=\/))/,nG.split("?")[0]),nQ=tg("?","var"),n0=tg("?","mnt"),n1=(tg("?","usr"),Symbol()),n2=Symbol(),n5=(e,t,r=K,n=H)=>{t&&(r?console.groupCollapsed:console.group)((n?"":tf("tail.js: ","90;3"))+t);r=null==e?void 0:e[n2];null!=(e=r?e[n1]:e)&&console.log(ev(e)?tf(nL(e),"94"):eh(e)?""+e:e),r&&r.forEach(([e,t,r])=>n5(e,t,r,!0)),t&&console.groupEnd()},[n3,n6]=nJ(),[n4,n8]=[r1,r1],n9=!0,[rd,ie]=ee(),ii=(...e)=>{var r,a=e.shift();console.error(e[1]instanceof Error?e[1].message:el(e[1])?e.shift():null!=(r=null==(r=e[1])?void 0:r.message)?r:"An error occurred",null!=(r=a.id)?r:a,...e)},[ia,il]=ee(),[io,iu]=ee(),is=e=>iv!==(iv=e)&&il(iv,ih(!0,!0)),id=e=>ic!==(ic=!!e&&"visible"===document.visibilityState)&&iu(ic,!e,ip(!0,!0)),iv=(ia(id),!0),ic=!1,ip=e7(!1),ih=e7(!1),ig=(nc(window,["pagehide","freeze","beforeunload"],()=>is(!1)),nc(window,["pageshow","resume"],()=>is(!0)),nc(document,"visibilitychange",()=>(id(!0),ic&&is(!0))),il(iv,ih(!0,!0)),!1),im=e7(!1),[,ib]=ee(),iw=tt({callback:()=>ig&&ib(ig=!1,im(!1)),frequency:2e4,once:!0,paused:!0}),A=()=>!ig&&(ib(ig=!0,im(!0)),iw.restart()),iS=(nc(window,["focus","scroll"],A),nc(window,"blur",()=>iw.trigger()),nc(document.body,["keydown","pointerdown","pointermove","scroll"],A),A(),()=>im()),ix=0,iT=void 0,iI=()=>(null!=iT?iT:r1())+"_"+iA(),iA=()=>(e9(!0)-(parseInt(iT.slice(0,-2),36)||0)).toString(36)+"_"+(++ix).toString(36),i$=new Map,iO={id:iT,heartbeat:e9()},iC={knownTabs:new Map([[iT,iO]]),variables:new Map},[i_,iF]=ee(),[ij,iU]=ee(),iM=r1,iq=(e,t=e9())=>{e=i$.get(el(e)?e:rY(e));return null!=e&&e.cache&&e.cache[0]+e.cache[1]<=t?void 0:e},iz=(...e)=>{var t=e9();return iP(tH(e,e=>(e.cache=[t],[r_(e),{...e,created:t,modified:t,version:"0"}])))},iR=e=>null!=(e=tH(e,e=>{var t,r;return e&&(t=rY(e[0]),(r=i$.get(t))!==e[1])?[t,e[1],r,e[0]]:tz}))?e:[],iP=e=>{var r,n,e=iR(e);null!=e&&e.length&&(r=e9(),tV(e,([,e,t])=>{e&&!e.cache&&(e.cache=null!=(e=null==t?void 0:t.cache)?e:[r,3e3])}),rn(i$,e),(n=tK(e,([,,,e])=>0<rG.compare(e.scope,"tab"))).length&&iM({type:"patch",payload:rr(n)}),iU(tH(e,([,e,t,r])=>[r,e,t]),i$,!0))},[,iB]=(rd((e,t)=>{ia(r=>{var n;r?(r=t(sessionStorage.getItem("_tail:state")),sessionStorage.removeItem("_tail:state"),iT=null!=(n=null==r?void 0:r[0])?n:e9(!0).toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),i$=new Map(t1(tK(i$,([,e])=>"view"===(null==e?void 0:e.scope)),tH(null==r?void 0:r[1],e=>[rY(e),e])))):sessionStorage.setItem("_tail:state",e([iT,tH(i$,([,e])=>e&&"view"!==e.scope?e:tz)]))},!0),iM=(t,r)=>{e&&(localStorage.setItem("_tail:state",e([iT,t,r])),localStorage.removeItem("_tail:state"))},nc(window,"storage",e=>{var a,l,o;"_tail:state"!==e.key||!(e=null==t?void 0:t(e.newValue))||e[2]&&e[2]!==iT||([e,{type:a,payload:l}]=e,"query"===a?r.active||iM({type:"set",payload:[tH(iC.knownTabs),tH(iC.variables)]},e):"set"===a&&r.active?(iC.knownTabs=new Map(l[0]),iC.variables=new Map(l[1]),i$=new Map(l[1]),r.trigger()):"patch"===a?(o=iR(tH(l,([e,t])=>[rQ(e),t])),rn(iC.variables,l),rn(i$,l),iU(tH(o,([,e,t,r])=>[r,e,t]),i$,!1)):"tab"===a&&(re(iC.knownTabs,e,l),l)&&iF("tab",l,!1))});var r=tt(()=>iF("ready",iC,!0),-25),n=tt({callback(){var e=e9()-1e4;tV(iC.knownTabs,([t,r])=>r[0]<e&&re(iC.knownTabs,t,void 0)),iO.heartbeat=e9(),iM({type:"tab",payload:iO})},frequency:5e3,paused:!0});ia(e=>(e=>{iM({type:"tab",payload:e?iO:void 0}),e?(r.restart(),iM({type:"query"})):r.toggle(!1),n.toggle(e)})(e),!0)},!0),ee()),[iW,iJ]=ee(),iL=(({timeout:t=1e3,encrypt:r=!0,retries:n=10}={})=>{var i=()=>(r?n8:n6)(localStorage.getItem("_tail:rq")),a=0,l=()=>localStorage.setItem("_tail:rq",(r?n4:n3)([iT,e9()+t]));return async(r,o,u=null!=o?1:n)=>{for(;u--;){var d=i();if((!d||d[1]<e9())&&(l(),(null==(d=i())?void 0:d[0])===iT))return 0<t&&(a=setInterval(()=>l(),t/2)),D(r,!0,()=>{clearInterval(a),localStorage.removeItem("_tail:rq")});var v=to(),[d]=nc(window,"storage",t=>{"_tail:rq"!==t.key||t.newValue||v.resolve()});e=[tl(null!=o?o:t),v],await Promise.race(e.map(e=>eh(e)?e():e)),d()}var e;null==o&&j("_tail:rq could not be acquired.")}})(),iV=async(e,t,{beacon:r=!1,encrypt:n=!0}={})=>{n=n&&n9;var i,a,l=!1,o=r=>{var o=eh(t)?null==t?void 0:t(i,r):t;return!1!==o&&(iB(e,i=null!=o&&!0!==o?o:i,r,e=>(l=i===L,i=e)),!l)&&(a=n?n4(i,!0):JSON.stringify(i))};if(!r)return iL(()=>eR(1,async t=>{var l;return o(t)?400<=(l=await fetch(e,{method:null!=i?"POST":"GET",cache:"no-cache",credentials:"include",mode:"cors",headers:{"Content-Type":"text/plain; charset=iso-8859-1"},body:a})).status?0===t?ex(j("Invalid response: "+await l.text())):(console.warn(`Request to ${e} failed on attempt ${t+1}/3.`),await tl(200*(1+t))):(null!=(l=null!=(t=n?new Uint8Array(await l.arrayBuffer()):await l.text())&&t.length?null==(l=n?n8:JSON.parse)?void 0:l(t):L)&&iJ(l),ex(l)):ex()}));o(0)&&!navigator.sendBeacon(e,new Blob(null!=i?[a]:[],{type:"text/plain; charset=iso-8859-1"}))&&j("Beacon send failed.")},tg=["scope","key","entityId","source"],iK=[...tg,"purpose","ifModifiedSince","ifNoneMatch","passive"],iG=[...tg,"value","force","ttl","version"],iX=Symbol(),iZ=new Map,iQ=Symbol(),i2=Symbol(),i5=[.75,.33],i3=[.25,.33],i4=e=>tH(((e,t,r)=>tQ(e).sort("function"==typeof t?(e,n)=>t2(t(e),t(n),r):eu(t)?t.length?(e,n)=>{for(var i=0,a=0;a<t.length&&!i;a++)i=t2(t[a](e),t[a](n),r);return i}:(e,t)=>t2(e,t,r):(e,r)=>t2(e,r,t)))(e,[e=>e.scope,e=>e.key]),e=>e?[e,`${rC(e)}, ${rZ(e)?"client-side memory only":(e=>{var t;return`${null!=(t=null==e?void 0:e.classification)?t:"anonymous"} data for ${ru(rp.parse(null==e?void 0:e.purposes,{names:!0}))}  purposes.`})(null==(e=e.schema)?void 0:e.usage)})`,H]:tz),ae=(e,t="A"===ni(e)&&r7(e,"href"))=>t&&"#"!=t&&!t.startsWith("javascript:"),at=(e,t=ni(e),r=nI(e,"button"))=>r!==H&&(M(t,"A","BUTTON")||"INPUT"===t&&M(nt(e,"type"),"button","submit")||r===K),ar=(e,t=!1)=>{var r;return{tagName:e.tagName,text:tp((null==(r=r7(e,"title"))?void 0:r.trim())||(null==(r=r7(e,"alt"))?void 0:r.trim())||(null==(r=e.innerText)?void 0:r.trim()),100),href:null==(r=e.href)?void 0:r.toString(),rect:t?nv(e):void 0}},ai=()=>null==S?void 0:S.clientId,aa={scope:"shared",key:"referrer"},al=(e,t)=>{k.variables.set({...aa,value:[ai(),e]}),t&&k.variables.get({scope:aa.scope,key:aa.key,poll:(r,n,i)=>!!r||(null==i?void 0:i[1])===e&&t()&&!1})},ao=e7(),au=e7(),as=1,[av,ac]=ee(),af=e=>{var t=e7(e,ao),r=e7(e,au),n=e7(e,iS),i=e7(e,()=>as);return(e,a)=>({totalTime:t(e,a),visibleTime:r(e,a),activeTime:n(e,a),activations:i(e,a)})},ap=af(),[ag,am]=ee(),ay=(e,t)=>(t&&tV(aw,t=>e(t,()=>!1)),ag(e)),ab=new WeakSet,aw=document.getElementsByTagName("iframe");function aS(e){if(e){if(null!=e.units&&M(e.action,null,"add","remove")){if(0===e.units)return;e.action=0<e.units?"add":"remove"}return e}}var aT=e=>(null==e?void 0:e.component)||(null==e?void 0:e.content),aI=e=>nA(e,t=>t!==e&&!!aT(nh.get(t)),e=>(T=nh.get(e),(T=nh.get(e))&&e_(eF(T.component,T.content,T),"tags"))),aA=(e,t)=>t?e:{...e,rect:void 0,content:(I=e.content)&&tH(I,e=>({...e,rect:void 0}))},aE=(e,t=H,r)=>{var n,i,a,l=[],o=[],u=0;return r8(e,e=>{var d,a,i=nh.get(e);i&&(aT(i)&&(a=null!=(a=tK(tQ(i.component),e=>{var r;return 0===u||!t&&(1===u&&(null==(r=e.track)?void 0:r.secondary)!==K||(null==(r=e.track)?void 0:r.promote))}))?a:[],n=(null!=r?r:eH(a,e=>null==(e=e.track)?void 0:e.region))&&nv(e)||void 0,d=aI(e),i.content&&e4(l,...tH(i.content,e=>({...e,rect:n,...d}))),null!=a)&&a.length&&(e4(o,...tH(a,e=>{var t;return u=eL(u,null!=(t=e.track)&&t.secondary?1:2),aA({...e,content:l.length?l:void 0,rect:n,...d},!!n)})),l=[]),a=i.area||nT(e,"area"))&&e4(o,a)}),l.length&&e6(o,aA({id:"",rect:n,content:l})),tV(o,e=>{el(e)?e6(null!=i?i:i=[],e):(null==e.area&&(e.area=ro(i,"/")),e4(null!=a?a:a=[],e))}),a||i?{components:a,area:ro(i,"/")}:void 0},aN=Symbol(),a$=[{id:"context",setup(e){tt(()=>tV(aw,e=>t7(ab,e)&&am(e)),500).trigger(),e.variables.get({scope:"view",key:"view",poll(t){return null==S||!t||null!=S&&S.definition?null!=(n=t)&&t.navigation&&f(!0):(S.definition=t,null!=(t=S.metadata)&&t.posted?e.events.postPatch(S,{definition:n}):n5(S,S.type+" (definition updated)")),!0}});var n,t,d=null!=(t=null==(t=iq({scope:"tab",key:"viewIndex"}))?void 0:t.value)?t:0,v=null==(t=iq({scope:"tab",key:"tabIndex"}))?void 0:t.value,c=(null==v&&iz({scope:"tab",key:"tabIndex",value:v=null!=(t=null!=(t=null==(t=iq({scope:"shared",key:"tabIndex"}))?void 0:t.value)?t:null==(t=iq({scope:"session",key:"@info"}))||null==(t=t.value)?void 0:t.tabs)?t:0},{scope:"shared",key:"tabIndex",value:v+1}),null),f=(t=H)=>{var a,l,o,i,p;no(""+c,c=location.href)&&!t||({source:t,scheme:i,host:a}=tb(location.href+"",{requireAuthority:!0}),S={type:"view",timestamp:e9(),clientId:iI(),tab:iT,href:t,path:location.pathname,hash:location.hash||void 0,domain:{scheme:i,host:a},tabNumber:v+1,tabViewNumber:d+1,viewport:np(),duration:ap(void 0,!0)},0===v&&(S.firstTab=K),0===v&&0===d&&(S.landingPage=K),iz({scope:"tab",key:"viewIndex",value:++d}),l=tw(location.href),tH(["source","medium","campaign","term","content"],(e,t)=>{var n;return null!=(e=(null!=(n=(o=S).utm)?n:o.utm={})[e]=null==(n=tQ(l["utm_"+e]))?void 0:n[0])?e:tz}),!(S.navigationType=x)&&performance&&tV(performance.getEntriesByType("navigation"),e=>{S.redirects=e.redirectCount,S.navigationType=t_(e.type,/\_/g,"-")}),x=void 0,"navigate"===(null!=(t=S.navigationType)?t:S.navigationType="navigate")&&(p=null==(i=iq(aa))?void 0:i.value)&&nZ(document.referrer)&&(S.view=null==p?void 0:p[0],S.relatedEventId=null==p?void 0:p[1],e.variables.set({...aa,value:void 0})),(p=document.referrer||null)&&!nZ(p)&&(S.externalReferrer={href:p,domain:(()=>{var{host:t,scheme:r,port:n}=tb(p,{delimiters:!1,requireAuthority:!0});return{host:t+(n?":"+n:""),scheme:r}})()}),S.definition=n,n=void 0,e.events.post(S),e.events.registerEventPatchSource(S,()=>({duration:ap()})),ac(S))};return io(e=>{e?(au(K),++as):au(H)}),nc(window,"popstate",()=>(x="back-forward",f())),tV(["push","replace"],e=>{var t=history[e+="State"];history[e]=(...e)=>{t.apply(history,e),x="navigate",f()}}),f(),{processCommand:t=>a_(t)&&(e(t.username?{type:"login",username:t.username}:{type:"logout"}),K),decorate(e){!S||rJ(e)||ry(e)||(e.view=S.clientId)}}}},{id:"components",setup(e){var t=(e=>{var t=new IntersectionObserver(e=>tV(e,e=>{var t,r;return null==(t=(r=e.target)[i2])?void 0:t.call(r,e)})),r=new Set,n=(tt({callback:()=>tV(r,e=>e()),frequency:250,raf:!0}),(e,t,r=0)=>e<r?r:t<e?t:e),i=r5.createRange();return(a,l)=>{var o,u,s,d,v,c,f,p,h,g,m,y,b,w,k,S;l&&(o=tK(null==l?void 0:l.component,e=>{var t;return(null==(t=e.track)?void 0:t.impressions)||(null!=(t=null==(t=e.track)?void 0:t.secondary)?t:e.inferred)!==K}))&&eJ(o)&&(p=f=H,g=h=0,m=(e,t,r,n)=>{var i,a=null!=(a=(i=null!=u?u:u=[])[e])?a:i[e]=[{duration:0,impressions:0},e7(!1,iS),!1,!1,0,0,0,tF()];a[4]=t,a[5]=r,a[6]=n},y=[tF(),tF()],b=af(!1),w=e7(!1,iS),k=-1,S=()=>{var $,t=a.getBoundingClientRect(),r=window.innerWidth,l=window.innerHeight,S=[n(t.top,l),n(t.right,r),n(t.bottom,l),n(t.left,r)],x=S[2]-S[0],S=S[1]-S[3],E=f?i3:i5,r=(E[0]*l<x||E[0]<(x/t.height||0))&&(E[0]*r<S||E[0]<(S/t.width||0));if(p!==r&&w(p=r,!0),f!==(f=p&&w()>=nE.impressionThreshold-250)&&(++h,b(f),s||(s=tH(o,e=>((null==(e=e.track)?void 0:e.impressions)||nI(a,"impressions",K,e=>null==(e=e.track)?void 0:e.impressions))&&B({type:"impression",pos:nu(a),viewport:np(),timeOffset:ap(),impressions:h,...aE(a,K)})||tz),e(s)),null!=s)&&s.length&&($=b(),d=tH(s,t=>e.events.registerEventPatchSource(t,()=>({relatedEventId:t.clientId,duration:$,impressions:h,regions:u&&{top:u[0][0],middle:u[1][0],bottom:u[2][0]},seen:g,text:c,read:$.activeTime&&c&&n($.activeTime/c.readTime,g)})))),t.height!==k){k=t.height;E=a.textContent;if({boundaries:v,...c}=(e=>{for(var r,n,i=RegExp("[\\p{L}\\p{N}][\\p{L}\\p{N}'â€™]*|([.!?]+)","gu"),a=0,l=0,o=0,u=0,s=!1;r=i.exec(e);)r[1]?(s&&++u,s=!1):(s=!0,a+=r[0].length,6<r[0].length&&++o,++l);s&&++u;var i=RegExp("[\\p{L}\\p{N}]|([^\\p{L}\\p{N}]+)","gu"),d=[0,.25,.75,1].map(e=>e*a|0),v=[],f=0,p=!1;do{if(null!=(r=i.exec(e))&&r[1])p&&++f;else{for(var c=null==r?void 0:r.index,h=!1,g=0;g<d.length;g++)d[g]--||(v[g]={offset:null!=n?n:c,wordsBefore:f,readTime:eb(f/238*6e4)},h=!0);(p=!h)||(f=0),n=c+1}}while(r);return{text:e,length:e.length,characters:a,words:l,sentences:u,lix:eb(l/u+100*o/l),readTime:eb(l/238*6e4),boundaries:v}})(null!=E?E:""),u||t.height>=1.25*l){var C=r5.createTreeWalker(a,NodeFilter.SHOW_TEXT),_=0,F=0;for(null==u&&(u=[]);F<v.length&&(j=C.nextNode());){var j,U,M,P,D,z=null!=(U=null==(U=j.textContent)?void 0:U.length)?U:0;for(_+=z;_>=(null==(M=v[F])?void 0:M.offset);)i[F%2?"setEnd":"setStart"](j,v[F].offset-_+z),F++%2&&({top:M,bottom:P}=i.getBoundingClientRect(),D=t.top,F<3?m(0,M-D,P-D,v[1].readTime):(m(1,u[0][4],M-D,v[2].readTime),m(2,M-D,P-D,v[3].readTime)))}}}var r=t.left<0?-t.left:0,E=t.top<0?-t.top:0,L=t.width*t.height;f&&(g=y[0].push(E,E+x)*y[1].push(r,r+S)/L),u&&tV(u,e=>{var r=n(t.top<0?-t.top:0,e[5],e[4]),i=n(t.bottom>l?l:t.bottom,e[5],e[4]),a=f&&0<i-r,o=e[0];o.duration=e[1](a),a&&(e[3]!==(e[3]=a)&&++e[0].impressions,o.seen=e[7].push(r,i)/(e[5]-e[4]),o.read=n(o.duration/e[6],o.seen))})},a[i2]=({isIntersecting:e})=>{eY(r,S,e),e||(tV(d,e=>e()),S())},t.observe(a))}})(e),n=({boundary:e,...n})=>{eQ(nh,e,e=>{var t;return(e=>null==e?void 0:{...e,component:tQ(e.component),content:tQ(e.content),tags:tQ(e.tags)})("add"in n?{...e,component:eF(null==e?void 0:e.component,n.component),content:eF(null==e?void 0:e.content,n.content),area:null!=(t=null==n?void 0:n.area)?t:null==e?void 0:e.area,tags:eF(null==e?void 0:e.tags,n.tags),cart:null!=(t=n.cart)?t:null==e?void 0:e.cart,track:null!=(t=n.track)?t:null==e?void 0:e.track}:"update"in n?n.update(e):n)}),t(e,nh.get(e))};return{decorate(e){tV(e.components,t=>{re(t,"track",void 0),tV(e.clickables,e=>re(e,"track",void 0))})},processCommand:e=>aU(e)?(n(e),K):aD(e)?(tV(((e,t)=>{var r,n;return t?(r=[],n=new Set,document.querySelectorAll(`[${e}]`).forEach(i=>{if(!n.has(i))for(var a=[];null!=r7(i,e);){((e,t)=>e instanceof Set||e instanceof WeakSet?e.has(t)||e.add(t):eX(e,t)||eG(e,t,!0))(n,i);var l,o=tC(r7(i,e),"|");r7(i,e,null);for(var u=0;u<o.length;u++){var d=o[u];if(""!==d){var s="-"===d?-1:parseInt(null!=(s=eo(d))?s:"",36);if(s<0)a.length+=s;else{if(0===u&&(a.length=0),isNaN(s)&&/^["\[{]/.test(d))for(var c="";u<o.length;u++)try{d=JSON.parse(c+=o[u]);break}catch{}0<=s&&t[s]&&(d=t[s]),e6(a,d)}}}e6(r,...tH(a,e=>({add:K,...e,boundary:i})));var f=i.nextElementSibling;"WBR"===i.tagName&&null!=(l=i.parentNode)&&l.removeChild(i),i=f}}),r):[]})(e.scan.attribute,e.scan.components),n),K):H}}},{id:"navigation",setup(e){var t=new WeakMap,r=r=>{nc(r,["click","contextmenu","auxclick"],n=>{var i,a,l,o,u,s=H;if(r8(n.target,e=>{at(e)&&null==l&&(l=e),s=s||"NAV"===ni(e);var t,d=ng(e),d=null==d?void 0:d.component;!n.button&&null!=d&&d.length&&!u&&(tV(e.querySelectorAll("a,button"),t=>at(t)&&(3<(null!=u?u:u=[]).length?ex():u.push({...ar(t,!0),component:r8(t,(e,t,r,n=null==(i=ng(e))?void 0:i.component)=>n&&t(n[0]),t=>t===e)}))),u)&&null==o&&(o=e),null==i&&(i=null!=(t=nI(e,"clicks",K,e=>null==(e=e.track)?void 0:e.clicks))?t:d&&eH(d,e=>(null==(e=e.track)?void 0:e.clicks)!==H)),null==a&&(a=null!=(t=nI(e,"region",K,e=>null==(e=e.track)?void 0:e.region))?t:d&&eH(d,e=>null==(e=e.track)?void 0:e.region))}),null!=o?o:o=l){var d,v=u&&!l&&i,c=aE(null!=l?l:o,!1,v),f=nA(null!=l?l:o,void 0,e=>tK(tQ(null==(e=nh.get(e))?void 0:e.tags))),p=(null==i&&(i=!s),{...(a=null==a?K:a)?{pos:nu(l,n),viewport:np()}:null,...((e,t)=>{var n;return r8(null!=e?e:t,e=>"IMG"===ni(e)||e===t?(n={element:ar(e,!1)},H):K),n})(n.target,null!=l?l:o),...c,timeOffset:ap(),...f});if(l)if(ae(l)){var h=l,c=h.hostname!==location.hostname,{host:f,scheme:y,source:b}=tb(h.href,{delimiters:!1,requireAuthority:!0});if(h.host===location.host&&h.pathname===location.pathname&&h.search===location.search)return"#"===h.hash?void 0:void(h.hash!==location.hash&&0===n.button&&e(B({type:"anchor_navigation",anchor:h.hash,...p})));var k,x,w=B({clientId:iI(),type:"navigation",href:c?h.href:b,external:c,domain:{host:f,scheme:y},self:K,anchor:h.hash,...p});"contextmenu"!==n.type?n.button<=1&&(1===n.button||n.ctrlKey||n.shiftKey||n.altKey||r7(h,"target")!==window.name?(al(w.clientId),w.self=H,e(w)):no(location.href,h.href)||(w.exit=w.external,al(w.clientId))):(k=h.href,(b=nZ(k))?al(w.clientId,()=>e(w)):(x=(""+Math.random()).replace(".","").substring(1,8),b||nE.captureContextMenu&&(h.href=n0+"="+x+encodeURIComponent(k),nc(window,"storage",(t,r)=>"_tail:push"===t.key&&(t.newValue&&(null==(t=JSON.parse(t.newValue))?void 0:t.requestId)===x&&e(w),r())),nc(r,["keydown","keyup","visibilitychange","pointermove"],(e,t)=>{t(),h.href=k}))))}else{r8(n.target,(e,t)=>{var r;return!!(null!=d?d:d=(e=>el(e=null==e||e!==K&&""!==e?e:"add")&&M(e,"add","remove","update","clear")?{action:e}:ev(e)?e:void 0)(null!=(r=null==(r=ng(e))?void 0:r.cart)?r:nT(e,"cart")))&&!d.item&&(d.item=(e=>null==e?L:eu(e)||el(e)?e[e.length-1]:eq(e,(e,r)=>e,void 0,void 0))(null==(r=ng(e))?void 0:r.content))&&t(d)});c=aS(d);(c||i)&&e(B(c?{type:"cart_updated",...p,...c}:{type:"component_click",...p}))}else v&&eQ(t,o,r=>{var i=ns(o,n);return r?e6(r,i):(i=B({type:"component_click_intent",...p,clicks:r=[i],clickables:u}),e.events.registerEventPatchSource(i,()=>({clicks:t.get(o)}),!0,o)),r})}})};r(document),ay(e=>e.contentDocument&&r(e.contentDocument))}},{id:"scroll",setup(e){var t={},r=nl(K);av(()=>{return e=()=>(t={},r=nl(K)),setTimeout(e,250);var e}),nc(window,"scroll",()=>{var a,n=nl(),i={x:(o=nl(H)).x/(r3.offsetWidth-window.innerWidth)||0,y:o.y/(r3.offsetHeight-window.innerHeight)||0};n.y>=r.y&&(a=[],!t.fold&&n.y>=r.y+200&&(t.fold=K,e6(a,"fold")),!t["page-middle"]&&.5<=i.y&&(t["page-middle"]=K,e6(a,"page-middle")),!t["page-end"]&&.99<=i.y&&(t["page-end"]=K,e6(a,"page-end")),(n=tH(a,e=>B({type:"scroll",scrollType:e,offset:i}))).length)&&e(n)})}},{id:"cart",setup:e=>({processCommand(t){var r;return aC(t)?("clear"===(r=t.cart)?e({type:"cart_updated",action:"clear"}):(r=aS(r))&&e({...r,type:"cart_updated"}),K):aP(t)?(e({type:"order",...t.order}),K):H}})},{id:"forms",setup(e){var t,r=new Map,n=(e,t=!1)=>{var r=!t||ne(e,nm("form-value")),e=(t&&(r=r?en(r):"checkbox"===e.type),e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"true":"false":e.value);return t&&(e=e&&tp(e,200)),r?e:void 0},i=t=>{var i,l,s,a=t.form;if(a)return l=ne(a,nm("ref"))||"track_ref",(s=t9(r,a,()=>{var t,r=new Map,n={type:"form",name:ne(a,nm("form-name"))||r7(a,"name")||a.id||void 0,activeTime:0,totalTime:0,fields:{}},l=(e.events.post(n),e.events.registerEventPatchSource(n,()=>({...n,timeOffset:ap()})),()=>{1!==t[3]&&(o(),2<=t[3]&&(n.completed=3===t[3]||!(a.isConnected&&nv(a).width)),e.events.postPatch(n,{...i,completed:n.completed,totalTime:e9(K)-t[4]}),t[3]=1)}),s=((e=0)=>{var t,r,n=(i,a=e)=>{if(void 0===i)return!!r;clearTimeout(t),er(i)?i&&(a<0?ei:J)(null==r?void 0:r())?n(r,a):r=void 0:(r=i,t=setTimeout(()=>n(!0,a),a<0?-a:a))};return n})();return nc(a.ownerDocument.body,"submit",e=>{var r,n;i=aE(a),t[3]=3,e.defaultPrevented?([r]=ia(e=>{e||(n?n5("The browser is navigating to another page after submit leaving a reCAPTCHA challenge. "+tf("Form not submitted",1)):3===t[3]?(n5("The browser is navigating to another page after submit. "+tf("Form submitted",1)),l()):n5("The browser is navigating to another page after submit, but submit was earlier cancelled because of validation errors. "+tf("Form not submitted.",1)),r())}),n=!1,s(()=>{if((()=>{for(var e=a.ownerDocument;e;){if(t0(e.querySelectorAll("iframe"),e=>e.src.match(RegExp("https:\\/\\/www.google.com\\/.*(?<=\\/)recaptcha\\/.*(?<=\\/)bframe","gi"))&&(e=>{if(!e||!e.isConnected||nv(e,!1).width<=0)return!1;for(;e;){var t=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);if("hidden"===t.visibility||"0"===t.opacity)return!1;e=e.parentElement}return!0})(e)))return!0;e=z(()=>{var r;return null==(r=e.defaultView)||null==(r=r.frameElement)?void 0:r.ownerDocument},()=>{})}return!1})())return t[3]=2,n5("reCAPTCHA challenge is active."),n=!0;n&&(n=!1,n5("reCAPTCHA challenge ended (for better or worse)."),t[3]=3),a.isConnected&&0<nv(a).width?(t[3]=2,n5("Form is still visible after 1750 ms, validation errors assumed. "+tf("Form not submitted",1))):(n5("Form is no longer visible 1750 ms after submit. "+tf("Form submitted",1)),l()),r()},1750)):(n5("Submit event triggered and default not prevented. "+tf("Form submitted",1)),l())},{capture:!1}),t=[n,r,a,0,e9(K),1]}))[1].get(t)||tV(a.querySelectorAll("INPUT,SELECT,TEXTAREA,BUTTON"),(e,t)=>{var d,v,a;"BUTTON"===e.tagName&&"submit"!==e.type||(e.name&&"hidden"!==e.type?(a=null!=(d=(a=s[0].fields)[v=e.name])?d:a[v]={id:e.id||v,name:v,label:t_(null!=(v=null==(d=e.labels)||null==(a=d[0])?void 0:a.innerText)?v:e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,totalTime:0,type:null!=(d=e.type)?d:"unknown",[aN]:n(e),value:n(e,!0)},s[0].fields[a.name]=a,s[1].set(e,a)):"hidden"!==e.type||e.name!==l&&!nI(e,"ref")||(e.value||(e.value=t_("10000000-1000-4000-8000-100000000000",/[018]/g,e=>((e*=1)^(e=>crypto.getRandomValues(e))(new Uint8Array(1))[0]&15>>e/4).toString(16))),s[0].ref=e.value))}),[t,s]},a=(e,[r,n]=null!=(t=i(e))?t:[],a=null==n?void 0:n[1].get(r))=>a&&[n[0],a,r,n],l=null,o=()=>{var r,i,a,o,d,v,c;l&&([r,i,a,o]=l,d=-(u-(u=au())),v=-(s-(s=e9(K))),c=i[aN],(i[aN]=n(a))!==c&&(null==i.fillOrder&&(i.fillOrder=o[5]++),i.filled&&(i.corrections=(null!=(c=i.corrections)?c:0)+1),i.filled=K,o[3]=2,tV(r.fields,([e,t])=>t.lastField=e===i.name)),i.value=n(a,!0),i.activeTime+=d,i.totalTime+=v,r.activeTime+=d,r.totalTime+=v,l=null)},u=0,s=0,d=e=>e&&nc(e,["focusin","focusout","change"],(e,t,r=e.target&&a(e.target))=>r&&(l=r,"focusin"===e.type?(s=e9(K),u=au()):o()));d(document),ay(e=>e.contentDocument&&d(e.contentDocument),!0)}},{id:"consent",setup(e){var t,n=async t=>e.variables.get({scope:"session",key:"@consent",poll:t,refresh:!t,passive:!t}).value(),i=async t=>{var r;if(t)return!(r=await n())||rg.equals(r,t)?[!1,r]:(await e.events.post(B({type:"consent",consent:t}),{async:!1,variables:{get:[{scope:"session",key:"@consent"}]}}),[!0,t])},r={analytics_storage:"performance",functionality_storage:"functionality",personalization_storage:"personalization",ad_storage:"marketing",security_storage:"security"},a=(e({consent:{externalSource:{key:"Google Consent Mode v2",frequency:250,poll(){var e,n=r2.dataLayer,i=t,a=null==n?void 0:n.length;if(a&&(t!==(t=n[a-1])||!t))for(;a--&&((e=n[a])!==i||!i);){var l={},o=!0;if("consent"===(null==e?void 0:e[0])&&"update"===e[1])return tH(r,([t,r])=>"granted"===e[2][t]&&(l[r]=!0,o=o&&("security"===r||"necessary"===r))),{classification:o?"anonymous":"direct",purposes:l}}}}}}),{});return{processCommand(e){var t,r,l,s,d;return aJ(e)?((t=e.consent.get)&&n((e,r,n)=>!e||t(e,n)),(r=e.consent.set)&&(async()=>{var e,t,n;"consent"in r?([t,n]=await i(r.consent),null!=(e=r.callback)&&e.call(r,t,n)):i(r)})(),(l=e.consent.externalSource)&&(d=l.key,(null!=(e=a[d])?e:a[d]=tt({frequency:null!=(e=l.frequency)?e:1e3})).restart(l.frequency,async()=>{var e,t,r;r5.hasFocus()&&(e=l.poll(s))&&!rg.equals(s,e)&&([t,r]=await i(e),t&&n5(r,"Consent was updated from "+d),s=e)}).trigger()),K):H}}}}],A=(...e)=>t=>t===e[0]||e.some(e=>"string"==typeof e&&void 0!==(null==t?void 0:t[e])),aC=A("cart"),a_=A("username"),aF=A("tagAttributes"),aj=A("disable"),aU=A("boundary"),aM=A("extension"),aq=A(K,"flush"),az=A("get"),aR=A("listener"),aP=A("order"),aD=A("scan"),aB=A("set"),aW=e=>"function"==typeof e,aJ=A("consent");(e=>{if(!k){el(e)&&([r,e]=n6(e),e=nJ(r,{decodeJson:!0})[1](e)),ri(nE,[e],{overwrite:!0}),(e=>{n8===r1&&([n4,n8]=nJ(e,{json:!e,prettify:!1}),n9=!!e,ie(n4,n8))})(e2(nE,"encryptionKey"));var r,l,o,u,s,d,v,c,f,p,h,g,m,i=e2(nE,"key"),a=null!=(e=null==(r=r2[nE.name])?void 0:r._)?e:[];if(eu(a))return l=[],o=[],u=(e,...t)=>{var r=K;o=tK(o,n=>z(()=>{var i;return null!=(i=n[e])&&i.call(n,...t,{tracker:k,unsubscribe:()=>r=H}),r},(e=>t=>ii(e,t))(n)))},s=[],v=((e,t)=>{var r=tt(async()=>{var e=tH(iZ,([e,t])=>t0(t,e=>null==(e=e[iX])?void 0:e.refresh)?{...rQ(e),refresh:!0}:tz);e.length&&await a.get(e)},3e3),n=(e,t)=>t&&!!t9(iZ,e,()=>new Set).add(t),a=(ia((e,t)=>r.toggle(e,e&&3e3<=t),!0),ij(e=>tV(e,([e,t])=>{null!=t&&t.passive?delete t.passive:(e=>{var t,r;e&&(t=rY(e),null!=(r=e2(iZ,t)))&&r.size&&tV(r,r=>!0===r(e)&&n(t,r))})(t?{status:rF.Success,...t}:{status:rF.NotFound,...e})})),{get:r=>rB("get",r,async r=>{r[0]&&!el(r[0])||(l=r[0],r=r.slice(1)),null!=t&&t.validateKey(l);var o=new Map,u=[],s=tH(r,e=>{var t=iq(rY(e)),r=e.purpose;if(r&&!0!==(null==t||null==(i=t.schema)?void 0:i.usage.purposes[r]))o.set(e,{...e,status:rF.Forbidden,error:`No consent for '${r}'.`});else if(!e.refresh&&t)o.set(e,{status:rF.Success,...t});else{if(!rZ(e))return[ra(e,iK),e];var i,r=null==(i=e.init)?void 0:i.call(e);r?(r={...r_(e),version:"1",created:d,modified:d,value:r,cache:[d,null!=(i=e.ttl)?i:null==t?void 0:t.ttl]},rt(u,[r_(r),r]),o.set(e,{status:rF.Success,...r})):o.set(e,{status:rF.NotFound,...r_(e)})}return tz}),d=e9(),l=s.length&&(null==(l=await iV(e,{variables:{get:tH(s,([e])=>e)},deviceSessionId:null==t?void 0:t.deviceSessionId}))||null==(r=l.variables)?void 0:r.get)||[],c=[];return tV(l,(e,t)=>{var n,r;(null==e?void 0:e.status)===rF.NotFound?null!=(r=null==(r=(n=s[t][1]).init)?void 0:r.call(n))&&c.push([n,{...r_(n),value:r}]):o.set(s[t][1],rX(e))}),c.length&&tV(await a.set(tH(c,([,e])=>e)).all(),(e,t)=>o.set(c[t][0],rX(e.status===rF.Conflict?{...e,status:rF.Success}:e.status===rF.Success&&null==e.value?{...e,status:rF.NotFound}:e))),u.length&&iP(u),o},{poll:(e,t)=>(t[iX]=e,n(rY(e),t)),logCallbackError:(e,t,r)=>ii("Variables.get",e,{operation:t,error:r})}),set:r=>rB("set",r,async r=>{r[0]&&!el(r[0])||(n=r[0],r=r.slice(1)),null!=t&&t.validateKey(n);for(var n,i,l=[],o=new Map,u=e9(),s=[],d=tH(r,e=>{var i,r,t=iq(rY(e));return rZ(e)?((r=null==(i=e.patch?e.patch(null==t?void 0:t.value):e.value)?void 0:{...r_(e),created:null!=(r=null==t?void 0:t.created)?r:u,modified:u,version:null!=t&&t.version?""+(parseInt(t.version)+1):"1",scope:e.scope,key:e.key,value:i,cache:[u,e.ttl]})&&(r.cache=[u,null!=(i=e.ttl)?i:3e3]),o.set(e,r?{status:t?rF.Success:rF.Created,...r}:{status:rF.Success,...r_(e)}),rt(l,[r_(e),r]),tz):e.patch?(s.push(e),tz):(void 0===(null==e?void 0:e.version)&&(e.version=null==t?void 0:t.version),[ra(e,iG),e])}),v=0;!v++||s.length;)tV(await a.get(tH(s,e=>r_(e))).all(),(e,t)=>{var r=s[t];rU(e,!1)?rt(d,[{...r,patch:void 0,value:s[t].patch(null==e?void 0:e.value),version:e.version},r]):o.set(r,e)}),s=[],tV(d.length?(e=>null!=e?e:j("No result.",e=>TypeError(e.replace("..."," is required."))))(null==(i=(await iV(e,{variables:{set:tH(d,([e])=>e)},deviceSessionId:null==t?void 0:t.deviceSessionId})).variables)?void 0:i.set):[],(e,t)=>{var[,t]=d[t];v<=3&&t.patch&&((null==e?void 0:e.status)===rF.Conflict||(null==e?void 0:e.status)===rF.NotFound)?rt(s,t):o.set(t,rX(e))});return l.length&&iP(l),o},{logCallbackError:(e,t,r)=>ii("Variables.set",e,{operation:t,error:r})})});return iW(({variables:e})=>{e&&null!=(e=t1(tH(e.get,e=>rj(e)?e:tz),tH(e.set,e=>rU(e)?e:tz)))&&e.length&&iP(tH(e,e=>[r_(e),rU(e)?e:void 0]))}),a})(nQ,d={applyEventExtensions(e){return null==e.clientId&&(e.clientId=iI()),null==e.timestamp&&(e.timestamp=e9()),h=K,tV(l,([,t])=>{var r;return(null==(r=t.decorate)?void 0:r.call(t,e))===H&&tR(!0)})?void 0:e},validateKey:(e,t=!0)=>!i&&!e||e===i||!!t&&j(`'${e}' is not a valid key.`)}),c=((e,t,r=5e3)=>{var n=[],i=new WeakMap,a=new Map,l=(e,t)=>{var r;return null!=(r=e.metadata)&&r.queued?eZ(t,{type:e.type+"_patch",patchTargetId:e.clientId}):j("Source event not queued.")},o=e=>{i.set(e,e3(e))},u=async(r,n=!0,i)=>{var a;return r[0]&&!el(r[0])||(a=r[0],r=r.slice(1)),r=tH(r,e=>{if(null!=t&&t.validateKey(null!=a?a:e.key),eZ(e,{metadata:{posted:!0}}),e[iQ]){if(tV(e[iQ],(t,r,n)=>!1===t(e)||n,!1))return;delete e[iQ]}return eZ(rm(e3(e),!0),{timestamp:e.timestamp-e9()})}),n5({[n2]:tH(r,e=>[e,e.type,H])},"Posting "+ru([tv("new event",[eJ(r,e=>!ry(e))||void 0]),tv("event patch",[eJ(r,e=>ry(e))||void 0])])+(n?" asynchronously":" synchronously")+"."),iV(e,{events:r,variables:i,deviceSessionId:null==t?void 0:t.deviceSessionId},{beacon:n})},s=async(e,{flush:r=!1,async:i=!0,variables:a}={})=>{var l=[];if(e=tH(tQ(e),e=>{var r;return null!=(r=e.metadata)&&r.queued||e6(l,e),null!=(r=ri(t.applyEventExtensions(e),{metadata:{queued:!0}}))?r:tz}),tV(l,e=>n5(e,e.type)),!i)return u(e,!1,a);r?(n.length&&e4(e,...n.splice(0)),e.length&&await u(e,!0,a)):e.length&&e6(n,...e)};return 0<r&&tt(()=>s([],{flush:!0}),r),io((e,t,r)=>{!e&&(n.length||t||1500<r)&&(e=tH(a,([e,t])=>{var[t,n]=t();return n&&(a.delete(e),i.delete(e)),null!=t?t:tz}),n.length||e.length)&&s(eF(n.splice(0),e),{flush:!0})}),{post:s,postPatch:(e,t,r)=>s(l(e,t),{flush:!0}),registerEventPatchSource(e,t,r=!1,n){var u=!1,d=()=>{u=!0};return o(e),((e,t)=>{(null!=(e=(b=e)[w=iQ])?e:b[w]=new Set).add(t)})(e,o),a.set(e,()=>{if(!1===(null==n?void 0:n.isConnected))d();else{var a=i.get(e),o=t(a,d),[o,v]=(n5({diff:{snapshot:a,patched:o},stack:Error().stack},"Patch "+a.type),null!=(o=e8(o,a))?o:[]);if(o&&!U(v,a))return i.set(e,e3(v)),[l(e,o),u]}return[void 0,u]}),r&&s(e),d}}})(nQ,d),f=null,p=0,g=h=H,m=!1,k=(...e)=>{if(m){if(e.length){1<e.length&&(!e[0]||el(e[0]))&&(t=e[0],e=e.slice(1)),el(e[0])&&(r=e[0],e=ek(r)?JSON.parse(r):n6(r));var t,n=H;if((e=tK(tG(e,e=>el(e)?n6(e):e),e=>{if(!e)return H;if(aF(e))nE.tags=eY({},nE.tags,e.tagAttributes);else{if(aj(e))return nE.disabled=e.disable,H;if(aq(e))return n=K,H;if(aW(e))return e(k),H}return g||aR(e)||aM(e)?K:(s.push(e),H)})).length||n){var r=eK(e,e=>aM(e)?-100:aR(e)?-50:aB(e)?-10:90*!!rW(e));if(!f||!f.splice(h?p+1:f.length,0,...r)){for(p=0,f=r;p<f.length;p++){var y=f[p];y&&(d.validateKey(null!=t?t:y.key),z(()=>{var e=f[p];if(u("command",e),h=H,rW(e))c.post(e);else if(az(e))v.get(tQ(e.get));else if(aB(e))v.set(tQ(e.set));else if(aR(e))e6(o,e.listener);else if(aM(e))(t=z(()=>e.extension.setup(k),t=>ii(e.extension.id,t)))&&(e6(l,[null!=(r=e.priority)?r:100,t,e.extension]),eK(l,([e])=>e));else if(aW(e))e(k);else{var r,n,t,a=H;for([,t]of l)if(a=null!=(n=null==(n=t.processCommand)?void 0:n.call(t,e))?n:H)break;a||ii("invalid-command",e,"Loaded extensions:",tH(l,e=>e[2].id))}},e=>ii(k,"internal-error",e)))}f=null,n&&c.post([],{flush:n})}}}}else a.push(...e)},Object.defineProperty(r2,nE.name,{value:Object.freeze(Object.assign(k,{id:"tracker_"+iI(),events:c,variables:v,__isTracker:K})),configurable:!1,writable:!1}),ij((e,t,r)=>{var n=eF(i4(tH(e,([,e])=>e||tz)),[[{[n2]:i4(tH(t,([,e])=>e||tz))},"All variables",K]]);n5({[n2]:n},tf(`Variables changed${r?"":" - merging changes from another tab"} (${e.length} changed, ${eJ(t)} in total).`,"2;3"))}),i_(async(e,t,r,n)=>{var l;"ready"===e&&([e,l]=await v.get([{scope:"session",key:"@info",refresh:!0},{scope:"session",key:"@consent",refresh:!0,cache:V}]).values(!0),d.deviceSessionId=e.deviceSessionId,e.hasUserAgent||((e=>{e(B({type:"user_agent",hasTouch:0<navigator.maxTouchPoints,userAgent:navigator.userAgent,view:null==S?void 0:S.clientId,languages:tH(navigator.languages,(e,t)=>{var[r,n]=e.split("-");return B({id:e,language:r,region:n,primary:0===t,preference:t+1})}),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:(new Date).getTimezoneOffset()},...(r=null==r2?void 0:r2.screen,r?({width:r,height:i,orientation:a}=r,l=r<i,-90!==(a=null!=(a=null!=(a=null==a?void 0:a.angle)?a:r2.orientation)?a:0)&&90!==a||([r,i]=[i,r]),{deviceType:r<480?"mobile":r<=1024?"tablet":"desktop",screen:{dpr:r2.devicePixelRatio,width:r,height:i,landscape:l}}):{})}));var i,l,a,r})(k),e.hasUserAgent=!0),g=!0,s.length&&k(s),n(),m=!0,k(...tH(a$,e=>({extension:e})),...a),k({set:{scope:"view",key:"loaded",value:!0}}))},!0);j(`The global variable for the tracker "${nE.name}" is used for something else than an array of queued commands.`)}})("{{CONFIG}}")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFpbC5kZWJ1Zy5tYXAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy9jb25zdGFudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9yZWdleC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9FdmVudE1ldGFkYXRhLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3V0aWwvcGFyc2VUYWdzLnRzIiwiLi4vLi4vc3JjL2xpYi9kb20vZG9tLXV0aWwudHMiLCIuLi8uLi9zcmMvbGliL2RvbS9kb20tZGF0YS50cyIsIi4uLy4uLy4uL3RyYW5zcG9ydC9zcmMvdHJhbnNwb3J0LnRzIiwiLi4vLi4vc3JjL2xpYi9ldmVudFF1ZXVlLnRzIiwiLi4vLi4vc3JjL2luaXRpYWxpemVUcmFja2VyLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvdmlldy50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL2NvbXBvbmVudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy90eXBlcy92YWxpZGF0aW9uLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvdHlwZXMvdHlwZXMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9pdGVyYXRvcnMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9hY2Nlc3NvcnMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy90aW1lLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvY29uY3VycmVuY3kudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9ldmVudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9zdHJpbmdzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvZW51bXMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9wYXJzZXJzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaW50ZXJ2YWxzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaXQyL19pbnRlcm5hbC50cyIsIi4uLy4uLy4uL3V0aWwvc3JjL2l0Mi9pdGVyYXRlLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaXQyL2NydWQudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9pdDIvc3RyaW5ncy50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9EYXRhQ2xhc3NpZmljYXRpb24udHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvRGF0YVB1cnBvc2VzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL0RhdGFVc2FnZS50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9EYXRhQWNjZXNzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL0V2ZW50UGF0Y2gudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvcHJvdG9jb2wvc2NoZW1hL1NjaGVtYU9iamVjdFR5cGVEZWZpbml0aW9uLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3NjaGVtYS9ydW50aW1lL3ZhbGlkYXRpb24vZXJyb3JzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3NjaGVtYS9ydW50aW1lL3ZhbGlkYXRpb24vcHJpbWl0aXZlcy50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9wcm90b2NvbC92YXJpYWJsZXMvVmFyaWFibGUudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvcHJvdG9jb2wvc2NoZW1hL3J1bnRpbWUvVHlwZVJlc29sdmVyLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3ZhcmlhYmxlcy9WYXJpYWJsZVJlc3VsdC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9wcm90b2NvbC92YXJpYWJsZXMvVmFyaWFibGVSZXN1bHRQcm9taXNlLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL2V2ZW50cy9UcmFja2VkRXZlbnQudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvZXZlbnRzL1ZpZXdFdmVudC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy91dGlsL3R5cGUtdGVzdC50cyIsIi4uLy4uL3NyYy9pbnRlcmZhY2VzL0xvY2FsVmFyaWFibGVzLnRzIiwiLi4vLi4vc3JjL2xpYi9jb25zdHMudHMiLCIuLi8uLi9zcmMvbGliL2RvbS9kb20tYWxpYXMudHMiLCIuLi8uLi9zcmMvbGliL2NvbmZpZy50cyIsIi4uLy4uLy4uL3RyYW5zcG9ydC9zcmMvYmFzZTY0LnRzIiwiLi4vLi4vLi4vdHJhbnNwb3J0L3NyYy9sZnNyLnRzIiwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B5Z29lK21zZ3BhY2tAaHR0cHMrKytjb2RlbF9mZTUyZjFhOTEzODIyOGJkZjIxNTg4NWNlOWE5ZjRkMC9ub2RlX21vZHVsZXMvQHlnb2UvbXNncGFjay9tc2dwYWNrLmpzIiwiLi4vLi4vc3JjL2xpYi9lbnYudHMiLCIuLi8uLi9zcmMvbGliL2NpcGhlci50cyIsIi4uLy4uL3NyYy9saWIvZXJyb3JzLnRzIiwiLi4vLi4vc3JjL2xpYi9wYWdlLWV2ZW50cy50cyIsIi4uLy4uL3NyYy9saWIvc2hhcmVkLXN0YXRlLnRzIiwiLi4vLi4vc3JjL2xpYi9yZXF1ZXN0LnRzIiwiLi4vLi4vc3JjL2xpYi9jb25jdXJyZW5jeS50cyIsIi4uLy4uL3NyYy9saWIvVHJhY2tlclZhcmlhYmxlU3RvcmFnZS50cyIsIi4uLy4uL3NyYy9saWIvSW1wcmVzc2lvbk9ic2VydmVyLnRzIiwiLi4vLi4vc3JjL2xpYi9kZWJ1Zy1saXN0ZW5lcnMudHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy91c2VySW50ZXJhY3Rpb24udHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy9jb21tZXJjZS50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL2Zvcm1zLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvZGVmYXVsdEV4dGVuc2lvbnMudHMiLCIuLi8uLi9zcmMvbGliL3NjYW5Db21wb25lbnRzLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvc2Nyb2xsLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvY29uc2VudC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9zaGFyZWQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ2FydENvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ2hhbmdlVXNlckNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ29uZmlnQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9Ub2dnbGVDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0JvdW5kYXJ5Q29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9FeHRlbnNpb25Db21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0ZsdXNoQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9HZXRDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0xpc3RlbmVyQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9PcmRlckNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvU2NhbkNvbXBvbmVudHNDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL1NldENvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvVHJhY2tlckF2YWlsYWJsZUNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ29uc2VudENvbW1hbmQudHMiLCIuLi8uLi9zcmMvaW5kZXguYnJvd3Nlci50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL3VzZXItYWdlbnQudHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy9kZXZpY2VEZXRlY3Rpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFFVRVJZX0RFVklDRSA9IFwicWRcIjtcbmV4cG9ydCBjb25zdCBJTklUSUFMSVpFX1RSQUNLRVJfRlVOQ1RJT04gPSBcIi50YWlsLmpzLmluaXRcIjtcbmV4cG9ydCBjb25zdCBUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUiA9IFwie3tDT05GSUd9fVwiO1xuXG5leHBvcnQgY29uc3QgQ0xJRU5UX1NDUklQVF9RVUVSWSA9IFwib3B0XCI7XG5leHBvcnQgY29uc3QgRVZFTlRfSFVCX1FVRVJZID0gXCJ2YXJcIjtcbmV4cG9ydCBjb25zdCBWQVJJQUJMRVNfUVVFUlkgPSBcInVzclwiO1xuZXhwb3J0IGNvbnN0IENPTlRFWFRfTkFWX1FVRVJZID0gXCJtbnRcIjtcbmV4cG9ydCBjb25zdCBTQ0hFTUFfUVVFUlkgPSBcIiR0eXBlc1wiO1xuZXhwb3J0IGNvbnN0IEJVSUxEX1JFVklTSU9OX1FVRVJZID0gZ2xvYmFsVGhpcy5SRVZJU0lPTlxuICA/IFwicmV2PVwiICsgZ2xvYmFsVGhpcy5SRVZJU0lPTlxuICA6IFwiXCI7XG5cbmV4cG9ydCBjb25zdCBTQ09QRV9JTkZPX0tFWSA9IFwiQGluZm9cIjtcbmV4cG9ydCBjb25zdCBDT05TRU5UX0lORk9fS0VZID0gXCJAY29uc2VudFwiO1xuZXhwb3J0IGNvbnN0IFNFU1NJT05fUkVGRVJFTkNFX0tFWSA9IFwiQHNlc3Npb25fcmVmZXJlbmNlXCI7XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9FVkVOVF9QT1NURklYID0gXCJfcGF0Y2hcIjtcblxuZXhwb3J0IGNvbnN0IENMSUVOVF9TVE9SQUdFX1BSRUZJWCA9IFwiX3RhaWw6XCI7XG5cbmV4cG9ydCBjb25zdCBDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCA9IENMSUVOVF9TVE9SQUdFX1BSRUZJWCArIFwic3RhdGVcIjtcblxuZXhwb3J0IGNvbnN0IENMSUVOVF9DQUxMQkFDS19DSEFOTkVMX0lEID0gQ0xJRU5UX1NUT1JBR0VfUFJFRklYICsgXCJwdXNoXCI7XG5cbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUl9TQ1JJUFQ6IDxRdW90ZSBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZT4oXG4gIHRyYWNrZXJOYW1lPzogc3RyaW5nLFxuICBxdW90ZT86IFF1b3RlXG4pID0+IFF1b3RlIGV4dGVuZHMgdHJ1ZSA/IHN0cmluZyA6ICguLi5jb21tYW5kczogYW55W10pID0+IHZvaWQgPSAoKFxuICB0cmFja2VyTmFtZSA9IFwidGFpbFwiLFxuICBxdW90ZTogYm9vbGVhblxuKSA9PiB7XG4gIGlmIChxdW90ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZSA9IGB3aW5kb3dbJHtKU09OLnN0cmluZ2lmeSh0cmFja2VyTmFtZSl9XWA7XG4gICAgcmV0dXJuIGAoJHtyZWZlcmVuY2V9Pz89Yz0+JHtyZWZlcmVuY2V9Ll8/LnB1c2goYykgPz8gJHtyZWZlcmVuY2V9KGMpKS5fPVtdO2A7XG4gIH1cblxuICAoZ2xvYmFsVGhpc1t0cmFja2VyTmFtZV0gPz89IChjOiBhbnkpID0+XG4gICAgZ2xvYmFsVGhpc1t0cmFja2VyTmFtZV0uXz8ucHVzaChjKSA/PyBnbG9iYWxUaGlzW3RyYWNrZXJOYW1lXShjKSkuXyA9IFtdO1xufSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgX19ERUJVR19fID0gdHJ1ZTtcbiIsImltcG9ydCB7XG4gIElERU5USVRZLFxuICBJZixcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxhYmxlLFxuICBkaXN0aW5jdCxcbiAgZmlsdGVyLFxuICBpc0FycmF5LFxuICBpc0Jvb2xlYW4sXG4gIGlzU3RyaW5nLFxuICBqb2luMixcbiAgbWFwLFxuICBuaWwsXG4gIHVuZGVmaW5lZCxcbiAgdHlwZSBDb25zdFRvTm9ybWFsLFxuICB0eXBlIEl0ZXJhYmxlT3JTZWxmLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCIuXCI7XG5cbi8qKlxuICogQ29tbW9uIGRlZmluaXRpb24gb2YgZXhwcmVzc2lvbnMgdGhhdCBhcmUgdXNlZCBmb3Igc3RyaW5nIG1hdGNoaW5nLlxuICpcbiAqIElmIG5vdCBhbHJlYWR5IGEgcmVndWxhciBleHByZXNzaW9uLCBhIHN0cmluZyB0aGF0IHN0YXJ0cyB3aXRoIGAvYCBhbmQgb3B0aW9uYWxseSBlbmRzIHdpdGggYC9gIGlzIHBhcnNlZCBhcyByZWd1bGFyIGV4cHJlc3Npb25zIHdpdGggZmxhZ3MgYGd1YCBhcHBsaWVkIChnbG9iYWwgYW5kIFVuaWNvZGUpLlxuICogVGhpcyBlbmFibGVzIGRlZmluaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBpbiB0ZXh0IGJhc2VkIGNvbmZpZ3VyYXRpb24gZmlsZXMgdGhhdCBkbyBub3QgaGF2ZSBuYXRpdmUgcmVndWxhciBleHByZXNzaW9ucy5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UgYW4gYXN0ZXJpc2sgKGAqYCkgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHN0cmluZ3MsIGFuZCAgYCxgIGFuZCB3aGl0ZS1zcGFjZSBgIGAgYXJlIGludGVycHJldGVkIGFzIGxpc3Qgc2VwYXJhdG9ycy5cbiAqIGBcXGAgaXMgdXNlZCBhcyB0aGUgZXNjYXBlIGNoYXJhY3RlciBzbyB0aGUgc3RyaW5nIGBcXC9lc2NhcGVkXFwqLGFuZFxcIHRoaXNgIHdpbGwgb25seSBtYXRjaCB0aGUgc3RyaW5ncywgbGl0ZXJhbGx5LCBgXFwvZXNjYXBlZFxcKmAgYW5kIGBhbmQgdGhpc2AuXG4gKiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpbnRlbnRpb25hbCBiYWNrc2xhc2hlcywgY29tbWFzIGFuZCBzcGFjZXMgbXVzdCBiZSBlc2NhcGVkIGFzIGBcXFxcYCwgYFxcLGAgYW5kIGBcXCBgIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBBcnJheXMgb2Ygc3RyaW5ncyBhbmQvb3IgcmVndWxhciBleHByZXNzaW9ucyBhcmUgZXZhbHVhdGVkIGFzIHVuaW9ucyAoX3N0cmluZyAxXyBcIm9yXCIgX3N0cmluZyAyXyBcIm9yXCIgLi4uKS5cbiAqXG4gKiBUaGUgc3BlY2lhbCB2YWx1ZXMgYG51bGxgLCBgdW5kZWZpbmVkYCwgdGhlIGVtcHR5IHN0cmluZywgIGFuZCBgZmFsc2VgIGFyZSBpbnRlcnByZXRlZCBhcyBcIm5ldmVyXCIsIGFuZCBgdHJ1ZWAgaXMgXCJhbHdheXNcIi5cbiAqXG4gKiBSZWdhcmRpbmcgc2VwYXJhdG9ycywgdGhleSBtYXkgYmUgZGlmZmVyZW50IGluIHNwZWNpZmljIGNvbnRleHRzLiBJZiBzbywgaXQgd2lsbCBiZSBtZW50aW9uZWQgdGhlcmUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnNhYmxlUmVnRXhwID1cbiAgfCBJdGVyYWJsZU9yU2VsZjxudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IHN0cmluZyB8IFJlZ0V4cD5cbiAgfCBJdGVyYWJsZTxQYXJzYWJsZVJlZ0V4cD47XG5cbmV4cG9ydCBjb25zdCB0ZXN0UmVnZXggPSA8TnVsbHM+KFxuICBzOiBOdWxsYWJsZTxzdHJpbmcsIE51bGxzPixcbiAgbWF0Y2g6IE51bGxhYmxlPFJlZ0V4cCwgTnVsbHM+XG4pID0+ICghbWF0Y2ggfHwgcyA9PSBudWxsID8gdW5kZWZpbmVkIDogbWF0Y2gudGVzdChzKSk7XG5cbmV4cG9ydCBjb25zdCBtYXRjaGVzID0gPFIsIE51bGxzPihcbiAgczogTnVsbGFibGU8c3RyaW5nLCBOdWxscz4sXG4gIHJlZ2V4OiBSZWdFeHAgfCBOdWxsaXNoLFxuICBzZWxlY3RvcjogKC4uLmFyZ3M6IHN0cmluZ1tdKSA9PiBSIHwgTnVsbGlzaFxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIENvbnN0VG9Ob3JtYWw8Uj5bXT4gPT4gbWF0Y2gocywgcmVnZXgsIHNlbGVjdG9yLCB0cnVlKTtcblxubGV0IG1hdGNoUHJvamVjdGlvbjogYW55O1xubGV0IGNvbGxlY3RlZDogYW55W107XG5cbi8qKlxuICogTWF0Y2hlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhZ2FpbnN0IGEgc3RyaW5nIGFuZCBwcm9qZWN0cyB0aGUgbWF0Y2hlZCBwYXJ0cywgaWYgYW55LlxuICovXG5leHBvcnQgY29uc3QgbWF0Y2g6IHtcbiAgPFIsIE51bGxzLCBDb2xsZWN0IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlPihcbiAgICBzOiBOdWxsYWJsZTxzdHJpbmcsIE51bGxzPixcbiAgICByZWdleDogUmVnRXhwIHwgTnVsbGlzaCxcbiAgICBzZWxlY3RvcjogKC4uLmFyZ3M6IChzdHJpbmcgfCB1bmRlZmluZWQpW10pID0+IFIgfCBOdWxsaXNoLFxuICAgIGNvbGxlY3Q/OiBDb2xsZWN0XG4gICk6IE1heWJlVW5kZWZpbmVkPE51bGxzLCBJZjxDb2xsZWN0LCBDb25zdFRvTm9ybWFsPFI+W10sIFIgfCB1bmRlZmluZWQ+PjtcbiAgKHM6IHN0cmluZyB8IE51bGxpc2gsIG1hdGNoOiBSZWdFeHAgfCBOdWxsaXNoKTogUmVnRXhwTWF0Y2hBcnJheSB8IHVuZGVmaW5lZDtcbn0gPSA8Uj4oXG4gIHM6IHN0cmluZyxcbiAgcmVnZXg6IFJlZ0V4cCxcbiAgc2VsZWN0b3I/OiAoLi4uYXJnczogKHN0cmluZyB8IHVuZGVmaW5lZClbXSkgPT4gUixcbiAgY29sbGVjdCA9IGZhbHNlXG4pID0+XG4gIChzID8/IHJlZ2V4KSA9PSBuaWxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogc2VsZWN0b3JcbiAgICA/ICgobWF0Y2hQcm9qZWN0aW9uID0gdW5kZWZpbmVkKSxcbiAgICAgIGNvbGxlY3RcbiAgICAgICAgPyAoKGNvbGxlY3RlZCA9IFtdKSxcbiAgICAgICAgICBtYXRjaChcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICByZWdleCxcbiAgICAgICAgICAgICguLi5hcmdzKSA9PlxuICAgICAgICAgICAgICAobWF0Y2hQcm9qZWN0aW9uID0gc2VsZWN0b3IoLi4uYXJncykpICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgY29sbGVjdGVkLnB1c2gobWF0Y2hQcm9qZWN0aW9uKVxuICAgICAgICAgICkpXG4gICAgICAgIDogcy5yZXBsYWNlKFxuICAgICAgICAgICAgLy8gUmVwbGFjZSBzZWVtcyB0byBiZSBhIGNvbXBhY3Qgd2F5IHRvIGdldCB0aGUgZGV0YWlscyBvZiBlYWNoIG1hdGNoXG4gICAgICAgICAgICByZWdleCxcbiAgICAgICAgICAgICguLi5hcmdzKSA9PiAobWF0Y2hQcm9qZWN0aW9uID0gc2VsZWN0b3IoLi4uYXJncykpIGFzIGFueVxuICAgICAgICAgICksXG4gICAgICBtYXRjaFByb2plY3Rpb24pXG4gICAgOiBzLm1hdGNoKHJlZ2V4KSA/PyB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwbGFjZXMgcmVzZXJ2ZWQgY2hhcmFjdGVycyB0byBnZXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBtYXRjaGVzIHRoZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBlc2NhcGVSZWdFeCA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIGlucHV0OiBUXG4pOiBNYXliZVVuZGVmaW5lZDxULCBzdHJpbmc+ID0+XG4gIGlucHV0Py5yZXBsYWNlKC9bXFxeJFxcXFwuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKSBhcyBhbnk7XG5cbmNvbnN0IFJFR0VYX05FVkVSID0gL1xcei4vZztcbmNvbnN0IHVuaW9uT3JOZXZlciA9IChwYXJ0czogKHN0cmluZyB8IE51bGxpc2gpW10sIGpvaW5lZD86IHN0cmluZykgPT5cbiAgKGpvaW5lZCA9IGpvaW4yKGRpc3RpbmN0KGZpbHRlcihwYXJ0cywgKHBhcnQpID0+IHBhcnQ/Lmxlbmd0aCkpLCBcInxcIikpXG4gICAgPyBuZXcgUmVnRXhwKGpvaW5lZCwgXCJndVwiKVxuICAgIDogUkVHRVhfTkVWRVI7XG5cbmNvbnN0IHN0cmluZ1J1bGVDYWNoZTogeyBbcGF0dGVybjogc3RyaW5nXTogUmVnRXhwIH0gPSB7fTtcbmV4cG9ydCBjb25zdCBpc1JlZ0V4ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBSZWdFeHAgPT4gdmFsdWUgaW5zdGFuY2VvZiBSZWdFeHA7XG5cbi8qKlxuICogVGVzdHMgb3IgcGFyc2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFjY2VwdGluZyB0aGUge0BsaW5rIFBhcnNhYmxlUmVnRXhwfSBmb3JtYXQuXG4gKlxuICogU3RyaW5ncyBhcmUgY2FjaGVkLCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIGRvIGFkZGl0aW9uYWwgY2FjaGluZyBvdXRzaWRlIHRoaXMgZnVuY3Rpb24gKGFzIGZhciBhcyB0aGUgY2FjaGluZyB3b3VsZCBvbmx5IGNvbmNlcm4gc3RyaW5ncykuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZVJlZ2V4ID0gPFQ+KFxuICBpbnB1dDogVCxcbiAgc2VwYXJhdG9yczogcmVhZG9ubHkgc3RyaW5nW10gPSBbXCIsXCIsIFwiIFwiXVxuKTogVCBleHRlbmRzIFBhcnNhYmxlUmVnRXhwID8gUmVnRXhwIDogdW5kZWZpbmVkID0+XG4gIGlzUmVnRXgoaW5wdXQpXG4gICAgPyBpbnB1dFxuICAgIDogaXNBcnJheShpbnB1dCkgLy8gUGFyc2UgaW5kaXZpZHVhbCBzcGVjaWZpZXJzLCBhbmQgam9pbiB0aGVtIGludG8gb25lIGxvbmcgcmVnZXguIEFuIGVtcHR5IGFycmF5IGlzIGludGVycHJldGVkIGFzIFwibmV2ZXJcIi5cbiAgICA/IHVuaW9uT3JOZXZlcihtYXAoaW5wdXQsIChwYXJ0KSA9PiBwYXJzZVJlZ2V4KHBhcnQsIHNlcGFyYXRvcnMpPy5zb3VyY2UpISlcbiAgICA6IGlzQm9vbGVhbihpbnB1dClcbiAgICA/IGlucHV0IC8vIGB0cnVlYCBpcyBcImFsd2F5c1wiLCBgZmFsc2VgIGlzIFwibmV2ZXJcIlxuICAgICAgPyAvLi9nXG4gICAgICA6IFJFR0VYX05FVkVSIC8vIE1hdGNoZXMgbm90aGluZy4gRW5kIG9mIHN0cmluZyBmb2xsb3dlZCBieSBzb21ldGhpbmcgaXMgbmV2ZXIgdGhlIGNhc2UuXG4gICAgOiBpc1N0cmluZyhpbnB1dClcbiAgICA/IChzdHJpbmdSdWxlQ2FjaGVbaW5wdXRdID8/PSBtYXRjaChcbiAgICAgICAgaW5wdXQgfHwgXCJcIixcbiAgICAgICAgL14oPzpcXC8oLis/KVxcLz98KC4qKSkkL2d1LFxuICAgICAgICAoXywgcmVnZXgsIHRleHQpID0+XG4gICAgICAgICAgcmVnZXhcbiAgICAgICAgICAgID8gbmV3IFJlZ0V4cChyZWdleCwgXCJndVwiKVxuICAgICAgICAgICAgOiB1bmlvbk9yTmV2ZXIoXG4gICAgICAgICAgICAgICAgbWFwKFxuICAgICAgICAgICAgICAgICAgc3BsaXQoXG4gICAgICAgICAgICAgICAgICAgIHRleHQhLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgIGAoPzwhKD88IVxcXFxcXFxcKVxcXFxcXFxcKVske2pvaW4yKHNlcGFyYXRvcnMsIGVzY2FwZVJlZ0V4KX1dYFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgKHRleHQpID0+XG4gICAgICAgICAgICAgICAgICAgIHRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgYF4ke2pvaW4yKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IG9uIG5vbi1lc2NhcGVkIGFzdGVyaXNrIChDaGFyYWN0ZXJpemVkIGJ5IGEgbGVhZGluZyBiYWNrc2xhc2ggdGhhdCBpcyBub3QgaXRzZWxmIGFuIGVzY2FwZWQgYmFja3NsYXNoKS5cbiAgICAgICAgICAgICAgICAgICAgICBzcGxpdCh0ZXh0LCAvKD88ISg/PCFcXFxcKVxcXFwpXFwqLyksXG4gICAgICAgICAgICAgICAgICAgICAgKHBhcnQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVSZWdFeChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGJhY2tzbGFzaGVzIHVzZWQgZm9yIGVzY2FwaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlKHBhcnQsIC9cXFxcKC4pL2csIFwiJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSm9pbiB0aGUgcGFydHMgc2VwYXJhdGVkIGJ5IG5vbi1lc2NhcGVkIGFzdGVyaXNrcyB3aXRoIHRoZSByZWdleCB3aWxkY2FyZCBlcXVpdmFsZW50LlxuICAgICAgICAgICAgICAgICAgICAgIFwiLipcIlxuICAgICAgICAgICAgICAgICAgICApfSRgXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICApISlcbiAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcblxuLyoqXG4gKiBCZXR0ZXIgbWluaWZ5YWJsZSB2ZXJzaW9uIG9mIGBTdHJpbmdgJ3MgYHNwbGl0YCBtZXRob2QgdGhhdCBhbGxvd3MgYSBudWxsJ2lzaCBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGxpdCA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIHM6IFQsXG4gIHNlcGFyYXRvcjogUmVnRXhwIHwgc3RyaW5nLFxuICB0cmltID0gdHJ1ZVxuKTogTWF5YmVVbmRlZmluZWQ8VCwgc3RyaW5nW10+ID0+XG4gIHMgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB0cmltXG4gICAgPyBzcGxpdChzLCBzZXBhcmF0b3IsIGZhbHNlKSEuZmlsdGVyKElERU5USVRZKVxuICAgIDogKHMuc3BsaXQoc2VwYXJhdG9yKSBhcyBhbnkpO1xuXG4vKipcbiAqIEJldHRlciBtaW5pZnlhYmxlIHZlcnNpb24gb2YgYFN0cmluZ2AncyBgcmVwbGFjZWAgbWV0aG9kIHRoYXQgYWxsb3dzIGEgbnVsbCdpc2ggcGFyYW1ldGVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwbGFjZSA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIHM6IFQsXG4gIG1hdGNoOiBSZWdFeHAsXG4gIHJlcGxhY2VWYWx1ZTogc3RyaW5nIHwgKCguLi5hcmdzOiBzdHJpbmdbXSkgPT4gc3RyaW5nKVxuKTogVCA9PiBzPy5yZXBsYWNlKG1hdGNoLCByZXBsYWNlVmFsdWUgYXMgYW55KSA/PyAocyBhcyBhbnkpO1xuIiwiaW1wb3J0IHsgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IFRyYWNrZWRFdmVudCB9IGZyb20gXCIuXCI7XG5cbi8qKiBUaGVzZSBwcm9wZXJ0aWVzIGFyZSB1c2VkIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiBldmVudHMgYXMgdGhleSBnZXQgY29sbGVjdGVkLCBhbmQgbm90IHN0b3JlZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRNZXRhZGF0YSB7XG4gIC8qKiBIaW50IHRvIHRoZSByZXF1ZXN0IGhhbmRsZXIgdGhhdCBuZXcgc2Vzc2lvbnMgc2hvdWxkIG5vdCBiZSBzdGFydGVkIGlmIGFsbCBwb3N0ZWQgZXZlbnRzIGFyZSBwYXNzaXZlLiAqL1xuICBwYXNzaXZlPzogYm9vbGVhbjtcblxuICAvKiogSGludCB0aGF0IHRoZSBldmVudCBoYXMgYmVlbiBxdWV1ZWQuICovXG4gIHF1ZXVlZD86IGJvb2xlYW47XG5cbiAgLyoqIEhpbnQgdG8gY2xpZW50IGNvZGUsIHRoYXQgdGhlIGV2ZW50IGhhcyBiZWVuIHBvc3RlZCB0byB0aGUgc2VydmVyLiAqL1xuICBwb3N0ZWQ/OiBib29sZWFuO1xufVxuXG5sZXQgbWV0YWRhdGE6IEV2ZW50TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgY2xlYXJNZXRhZGF0YSA9IDxcbiAgVCBleHRlbmRzIFRyYWNrZWRFdmVudCB8IE51bGxpc2gsXG4gIENsaWVudFNpZGUgZXh0ZW5kcyBib29sZWFuXG4+KFxuICBldmVudDogVCxcbiAgY2xpZW50OiBDbGllbnRTaWRlXG4pOiBUICZcbiAgKENsaWVudFNpZGUgZXh0ZW5kcyB0cnVlXG4gICAgPyB7IG1ldGFkYXRhPzogeyBwb3N0ZWQ/OiB1bmRlZmluZWQgfSB9XG4gICAgOiB7IG1ldGFkYXRhPzogdW5kZWZpbmVkIH0pID0+IChcbiAgKG1ldGFkYXRhID0gZXZlbnQ/Lm1ldGFkYXRhKSAmJlxuICAgIChjbGllbnRcbiAgICAgID8gKGRlbGV0ZSBtZXRhZGF0YS5wb3N0ZWQsXG4gICAgICAgIGRlbGV0ZSBtZXRhZGF0YS5xdWV1ZWQsXG4gICAgICAgICFPYmplY3QuZW50cmllcyhtZXRhZGF0YSkubGVuZ3RoICYmIGRlbGV0ZSBldmVudC5tZXRhZGF0YSlcbiAgICAgIDogZGVsZXRlIGV2ZW50Lm1ldGFkYXRhKSxcbiAgZXZlbnQgYXMgYW55XG4pO1xuIiwiaW1wb3J0IHtcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxpc2gsXG4gIGFycmF5MixcbiAgZm9yRWFjaDIsXG4gIGlzSXRlcmFibGUsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBtYXRjaCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgUGFyc2FibGVUYWdzLCBUYWcgfSBmcm9tIFwiLi5cIjtcblxuY29uc3QgbWF5YmVEZWNvZGUgPSA8UyBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KHM6IFMpOiBTID0+XG4gIC8vIEl0IHF1YWxpZmllczpcbiAgcyAmJlxuICAvXiglW0EtRjAtOV17Mn18W14lXSkqJC9naS50ZXN0KHMpICYmXG4gIC8vIEl0IG5lZWRzIGl0OlxuICAvW0EtRjAtOV17Mn0vZ2kudGVzdChzKVxuICAgID8gZGVjb2RlVVJJQ29tcG9uZW50KHMpXG4gICAgOiAocyBhcyBhbnkpO1xuXG5leHBvcnQgdHlwZSBUYWdDb2xsZWN0aW9uID0gTWFwPHN0cmluZywgVGFnPjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVGFncyA9IDxJbnB1dCBleHRlbmRzIFBhcnNhYmxlVGFncz4oXG4gIHRhZ1N0cmluZzogSW5wdXQsXG4gIHByZWZpeD86IHN0cmluZ1xuKTogTWF5YmVVbmRlZmluZWQ8SW5wdXQsIFRhZ1tdPiA9PlxuICBhcnJheTIoY29sbGVjdFRhZ3ModGFnU3RyaW5nLCBwcmVmaXgpPy52YWx1ZXMoKSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgcGFyc2VUYWdWYWx1ZSA9IDxWYWx1ZSBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxuICB2YWx1ZTogc3RyaW5nIHwgKHN0cmluZyB8IG51bGwpW10gfCBudWxsIHwgdW5kZWZpbmVkLFxuICB0YWdOYW1lID0gXCJ0YWdcIlxuKTogVmFsdWUgPT4gcGFyc2VUYWdzKHRhZ05hbWUgKyB2YWx1ZSk/LlswXSBhcyBhbnk7XG5cbmxldCBrZXk6IHN0cmluZztcbmxldCBjdXJyZW50OiBUYWcgfCB1bmRlZmluZWQ7XG5jb25zdCBjb2xsZWN0ID0gKGNvbGxlY3RlZDogVGFnQ29sbGVjdGlvbiwgdGFnOiBUYWcgfCBOdWxsaXNoKSA9PlxuICB0YWcgJiZcbiAgKCEoY3VycmVudCA9IGNvbGxlY3RlZC5nZXQoKGtleSA9IHRhZy50YWcgKyAodGFnLnZhbHVlID8/IFwiXCIpKSkpIHx8XG4gICAgKGN1cnJlbnQuc2NvcmUgPz8gMSkgPCAodGFnLnNjb3JlID8/IDEpKSAmJlxuICBjb2xsZWN0ZWQuc2V0KGtleSwgdGFnKTtcblxuLyoqXG4gKiBQYXJzZXMgdGFncyBmcm9tIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgYW5kIGNvbGxlY3RzIHRoZW0gaW4gYSBtYXAgdG8gYXZvaWQgZHVwbGljYXRlcy5cbiAqIEluIGNhc2Ugb2YgdGllcyBiZXR3ZWVuIHRhZ3Mgd2l0aCB0aGUgc2FtZSBuYW1lcyBhbmQgdmFsdWVzIGJ1dCB3aXRoIGRpZmZlcmVudCBzY29yZXMsIHRoZSBoaWdoZXN0IHdpbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBjb2xsZWN0VGFncyA9IDxJbnB1dCBleHRlbmRzIFBhcnNhYmxlVGFncz4oXG4gIHRhZ1N0cmluZzogSW5wdXQsXG4gIHByZWZpeCA9IFwiXCIsXG4gIGNvbGxlY3RlZDogVGFnQ29sbGVjdGlvbiA9IG5ldyBNYXAoKVxuKTogTWF5YmVVbmRlZmluZWQ8SW5wdXQsIFRhZ0NvbGxlY3Rpb24+ID0+IHtcbiAgaWYgKCF0YWdTdHJpbmcpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICBpZiAoaXNJdGVyYWJsZSh0YWdTdHJpbmcpKSB7XG4gICAgZm9yRWFjaDIodGFnU3RyaW5nLCAoaW5wdXQpID0+IGNvbGxlY3RUYWdzKGlucHV0LCBwcmVmaXgsIGNvbGxlY3RlZCkpO1xuICAgIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xuICB9XG5cbiAgLyoqXG4gICAqIFtuYW1lc3BhY2U6Ol1uYW1lW3dzKl1bKDp8PSlbd3MqXXZhbHVlXVtgfmBzY29yZV0gWyggfCx8O3wmfCMpIG1vcmUgdGFnc11cbiAgICpcbiAgICogVGhlIHBhcnRzIG9mIGEgdGFpbC5qIHRhZyBhcmU6XG4gICAqIDEuIE9wdGlvbmFsIG5hbWVzcGFjZSAodXRtLCBhaSwgY21zKS5cbiAgICogICAtIEFueXRoaW5nIG5vdCB3aGl0ZXNwYWNlLCBjb2xvbiAoYDpgKSBvciB0aWxkZSAoYH5gKSBmb2xsb3dlZCBieSBkb3VibGUgY29sb24gYDo6YC5cbiAgICogMi4gVGFnIG5hbWU6XG4gICAqICAgLSBBbnl0aGluZyBub3Qgd2hpdGVzcGFjZSwgY29sb24gKGA6YCksIHRpbGRlIGB+YCBvciBlcXVhbGl0eSAoYD1gKS5cbiAgICogMy4gT3B0aW9uYWwgdmFsdWUuXG4gICAqICAgLSBBbnl0aGluZyBub3QgYSBzZXBhcmF0b3IgYSBvdGhlciB3aGl0ZXNwYWNlIHRoYW4gc3BhY2UgKGAgYCkuXG4gICAqICAgLSBJZiB0aGUgdmFsdWUgaXMgc3VwcG9zZWQgdG8gY29udGFpbiBvbmUgb2YgdGhlc2UgY2hhcmFjdGVycyBpdCBtdXN0IGJlIHF1b3RlZCBpbiBlaXRoZXIgc2luZ2xlIChgXFxgKSBvciBkb3VibGUgcXVvdGVzIChgXCJgKS5cbiAgICogICAtIFRoZSB0YWcgbmFtZSBhbmQgdmFsdWUgYXJlIHNlcGFyYXRlZCBieSBlaXRoZXI6XG4gICAqICAgICAtIGA6YCAtIEZvbGxvd3Mgbm9ybWFsIHdyaXRpbmcgY29udmVudGlvbiBpbiBtYW55IGxhbmd1YWdlcyAoYGNvdW50cnk6IERlbm1hcmssIG5hbWU6IEdsb3R0YWwgc291bmRgKSwgb3JcbiAgICogICAgIC0gYD1gIC0gSXMgd2hhdCB5b3UgdHlwaWNhbGx5IHdyaXRlIGluIHByb2dyYW1taW5nLlxuICAgKiAgIC0gRXNjYXBpbmcgdmFsdWVzIHdpdGhpbiBxdW90ZXMgaXMgbm90IHJlcXVpcmVkLiBUaGUgbGFzdCBxdW90ZSBmb2xsb3dlZCBieSBhIHRlcm1pbmF0b3Igb3Igc2NvcmUgZW5kcyB0aGUgdmFsdWUuIChgdGFnMTogXCJUaGlzIFwidmFsdWVcIiBjb250YWluc1wiIHF1b3Rlc1wiIHRhZzI9Li4uYClcbiAgICogNC4gT3B0aW9uYWwgc2NvcmUuIEhvdyBtdWNoIHRoZSB0YWcgYXBwbGllcyB0byB0aGUgdGFyZ2V0IChmb3IgZXhhbXBsZSBhdWRpZW5jZTppbnZlc3RvcnN+OSBhdWRpZW5jZTpjb25zdW1lcnN+MyAtIHZlcnkgcmVsZXZhbnQgZm9yIGludmVzdG9ycywgYSBsaXR0bGUgYml0IGZvciBjb25zdW1lcnMpLlxuICAgKiAgIC0gWW91IGNhbiB1c2UgZGVjaW1hbHMgaW4gdGhlIHNjb3JlIChlLmcuIDUuMzQzKS5cbiAgICogICAtIFRoZSBwYXJzZWQgc2NvcmUgZ2V0cyBkaXZpZGVkIGJ5IDEwLCBzbyB5b3Ugc2hvdWxkIGdlbmVyYWxseSBhaW0gZm9yIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEwIHNpbmNlIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBwZXJjZW50YWdlIGJldHdlZW4gMCBhbmQgMTAwJS5cbiAgICogICAgIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBvdXRwdXQgbWFjaGluZSBnZW5lcmF0ZWQgc2NvcmVzIChjb3VsZCBiZSBmcm9tIGFuIGFsZ29yaXRobSkgdGhleSB0ZW5kIHRvIGFscmVhZHkgYmUgYmV0d2VlbiAwIGFuZCAxLCBzbyBoZXJlIHlvdSBtdXN0IG11bHRpcGx5IHRoZW0gd2l0aCAxMCB3aGVuIGVuY29kaW5nIHRoZSB0YWcgdG8gZ2V0IHRoZSBpbnRlbmRlZCByZXN1bHQuXG4gICAqICAgLSBUaGUgZGVmYXVsdCBpcyAxMCAoMTAwICUpLlxuICAgKlxuICAgKiAgVGFncyBhcmUgc2VwYXJhdGVkIGJ5IGVpdGhlcjpcbiAgICogICAgIC0gU3BhY2UgKGAgYCkgKGlucHV0IGZyaWVuZGx5KVxuICAgKiAgICAgLSBIYXNoIHRhZyAoYCNgKSAtIFNvbWUgcGVvcGxlIG1pZ2h0IGRvIHRoYXQgd2l0aG91dCB0aGlua2luZyBhYm91dCBpdCBzaW5jZSB0aGF0IGlzIGhvdyB0aGV5IG5vcm1hbGx5IHdyaXRlIHRhZ3NcbiAgICogICAgIC0gQ29tbWEgKGAsYCkgLSBIb3cgbW9zdCB3b3VsZCBpbnR1aXRpdmVseSBqb2luIHN0cmluZ3MgaW4gY29kZSksXG4gICAqICAgICAtIFNlbWljb2xvbiAoYDtgKSAtIENTUyBzdHlsZVxuICAgKiAgICAgLSBBbXBlcnNhbmQgLSBVUkwgcXVlcnkgc3RyaW5nIHN0eWxlLlxuICAgKiAgICAgLSBSZXBlYXRlZCBzZXBhcmF0b3JzIGdldHMgaWdub3JlZCBzbyBkb24ndCB3b3JyeSBhYm91dCBlbXB0eSBlbnRyaWVzIGlmIHlvdSB3cml0ZSBzb21ldGhpbmcgbGlrZSBgdGFnMSwsLCx0YWcyYC5cbiAgICpcbiAgICogICBCb3RoIG5hbWVzcGFjZSwgbmFtZSBhbmQgdmFsdWUgd2lsbCBiZSBVUkkgZGVjb2RlZCBpZiB0aGV5IGNvbnRhaW4gJXh4IGFueXdoZXJlIGluIHRoZW0uXG4gICAqL1xuXG4gIGlzU3RyaW5nKHRhZ1N0cmluZylcbiAgICA/IG1hdGNoKFxuICAgICAgICB0YWdTdHJpbmcsXG4gICAgICAgIC8oPzooW15cXHM6fl0rKTo6KD8hWyA6PV0pKT8oW15cXHN+XSs/KSg/OlxccypbOj1dXFxzKig/OlwiKCg/OlwiW15cIl0qfC4pKj8pKD86XCJ8JCl8JygoPzonW14nfl0qfC4pKj8pKD86J3wkKXwoKD86ICooPzooPzpbXiwmOyNcXHN+XSkpKSopKVxccyopPyg/OiAqfiAqKFxcZCooPzpcXC5cXGQqKT8pKT8oPzpbXFxzLCY7I35dK3wkKS9nLFxuICAgICAgICAoXywgbnMsIGxvY2FsTmFtZTogc3RyaW5nLCBxdW90ZWQxLCBxdW90ZWQyLCB1bnF1b3RlZCwgc2NvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCBuYW1lID1cbiAgICAgICAgICAgIChucyA/IG1heWJlRGVjb2RlKG5zKSArIFwiOjpcIiA6IFwiXCIpICtcbiAgICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgICBtYXliZURlY29kZShsb2NhbE5hbWUpO1xuXG4gICAgICAgICAgbGV0IHRhZzogVGFnID0ge1xuICAgICAgICAgICAgdGFnOiBuYW1lLFxuICAgICAgICAgICAgdmFsdWU6IG1heWJlRGVjb2RlKHF1b3RlZDEgPz8gcXVvdGVkMiA/PyB1bnF1b3RlZCksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzY29yZSAmJlxuICAgICAgICAgICAgcGFyc2VGbG9hdChzY29yZSkgIT09IDEwICYmXG4gICAgICAgICAgICAodGFnLnNjb3JlID0gcGFyc2VGbG9hdChzY29yZSkgLyAxMCk7XG4gICAgICAgICAgY29sbGVjdChjb2xsZWN0ZWQsIHRhZyk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICA6IGNvbGxlY3QoY29sbGVjdGVkLCB0YWdTdHJpbmcpO1xuXG4gIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGVuY29kZVRhZyA9IDxUIGV4dGVuZHMgVGFnIHwgbnVsbCB8IHVuZGVmaW5lZD4oXG4gIHRhZzogVFxuKTogVCBleHRlbmRzIFRhZyA/IHN0cmluZyA6IG51bGwgfCB1bmRlZmluZWQgPT5cbiAgdGFnID09IG51bGxcbiAgICA/ICh0YWcgYXMgYW55KVxuICAgIDogdGFnLnRhZyArXG4gICAgICAodGFnLnZhbHVlXG4gICAgICAgID8gXCI6XCIgKyAoL1ssJjsjfl0vLnRlc3QodGFnLnZhbHVlKSA/ICdcIicgKyB0YWcudmFsdWUgKyAnXCInIDogdGFnLnZhbHVlKVxuICAgICAgICA6IFwiXCIpICtcbiAgICAgICh0YWcuc2NvcmUgJiYgdGFnLnNjb3JlICE9PSAxID8gXCJ+XCIgKyB0YWcuc2NvcmUgKiAxMCA6IFwiXCIpO1xuIiwiaW1wb3J0IHtcbiAgdHlwZSBEb21haW4sXG4gIHR5cGUgUG9zaXRpb24sXG4gIHR5cGUgUmVjdGFuZ2xlLFxuICB0eXBlIFNjcmVlblBvc2l0aW9uLFxuICB0eXBlIFNpemUsXG4gIHR5cGUgVmlld3BvcnQsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBCaW5kZXJzLFxuICBGLFxuICBNQVhfU0FGRV9JTlRFR0VSLFxuICBOT09QLFxuICBOdWxsYWJsZSxcbiAgVCxcbiAgVW5iaW5kZXIsXG4gIGFycmF5MixcbiAgY3JlYXRlRXZlbnRCaW5kZXJzLFxuICBjcmVhdGVUaW1lb3V0LFxuICBmb3JFYWNoMixcbiAgaXNBcnJheSxcbiAgbmlsLFxuICBwYXJzZUJvb2xlYW4sXG4gIHBhcnNlVXJpLFxuICByZXBsYWNlLFxuICByZXN0cmljdCxcbiAgcm91bmQsXG4gIHRyeUNhdGNoLFxuICB0eXBlIE1heWJlVW5kZWZpbmVkLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGJvZHksIGRvY3VtZW50LCBodHRwRGVjb2RlLCBodHRwRGVjcnlwdCB9IGZyb20gXCIuLlwiO1xuXG5leHBvcnQgdHlwZSBOb2RlV2l0aFBhcmVudEVsZW1lbnQgPSBOb2RlIHwgRXZlbnRUYXJnZXQ7XG5cbmV4cG9ydCBsZXQgTUFYX0FOQ0VTVE9SX0RJU1RBTkNFID0gTUFYX1NBRkVfSU5URUdFUjtcblxuZXhwb3J0IGNvbnN0IGZvckFuY2VzdG9yc09yU2VsZiA9IDxUID0gYW55PihcbiAgZWw6IE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIGFjdGlvbjogKFxuICAgIGVsOiBFbGVtZW50LFxuICAgIHJldHVyblZhbHVlOiAodmFsdWU6IFQgfCB1bmRlZmluZWQsIHJlcGxhY2U/OiBib29sZWFuKSA9PiB2b2lkLFxuICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgKSA9PiBhbnksXG4gIHN0b3BwaW5nQ3JpdGVyaW9uOiAoZWw6IEVsZW1lbnQsIGRpc3RhbmNlOiBudW1iZXIpID0+IGJvb2xlYW4gPSAoXG4gICAgZWwsXG4gICAgZGlzdGFuY2VcbiAgKSA9PiBkaXN0YW5jZSA+PSBNQVhfQU5DRVNUT1JfRElTVEFOQ0Vcbik6IFQgfCB1bmRlZmluZWQgPT4ge1xuICBsZXQgaSA9IDA7XG4gIGxldCByZXR1cm5WYWx1ZTogYW55O1xuICBsZXQgc3RvcCA9IEY7XG4gIHdoaWxlIChcbiAgICBlbD8uW1wibm9kZVR5cGVcIl0gPT09IDEgJiZcbiAgICAhc3RvcHBpbmdDcml0ZXJpb24oZWwgYXMgRWxlbWVudCwgaSsrKSAmJlxuICAgIGFjdGlvbihcbiAgICAgIGVsIGFzIEVsZW1lbnQsXG4gICAgICAodmFsdWUsIHJlcGxhY2UpID0+IChcbiAgICAgICAgdmFsdWUgIT0gbmlsICYmXG4gICAgICAgICAgKChyZXR1cm5WYWx1ZSA9IHZhbHVlKSwgKHN0b3AgPSByZXBsYWNlICE9PSBUICYmIHJldHVyblZhbHVlICE9IG5pbCkpLFxuICAgICAgICBUXG4gICAgICApLFxuICAgICAgaSAtIDFcbiAgICApICE9PSBGICYmXG4gICAgIXN0b3BcbiAgKSB7XG4gICAgY29uc3QgcHJldiA9IGVsO1xuICAgIGVsID0gKGVsIGFzIEVsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKGVsID09PSBudWxsICYmIChwcmV2IGFzIEVsZW1lbnQpPy5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgICAgZWwgPSAocHJldiBhcyBFbGVtZW50KT8ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz8uZnJhbWVFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZVZhbHVlVHlwZSA9XG4gIC8qKlxuICAgKiBUaGUgbm9ybWFsaXplZCBhdHRyaWJ1dGUgdmFsdWUsIGludCB0aGUgc2Vuc2UgaXQgZ2V0cyB0cmltbWVkIGFuZCBsb3dlcmNhc2VkLlxuICAgKiBUaGUgZW1wdHkgc3ByaW5nIGlzIGNvbnNpZGVyZWQgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgfCB0cnVlXG4gIHwgXCJ6XCJcblxuICAvKipcbiAgICogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBhcyBhIGJvb2xlYW4gb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbWF0Y2ggYDBgLCBgMWAsIGB0cnVlYCwgYGZhbHNlYCBvciBcIlwiLlxuICAgKiBUaGUgZW1wdHkgc3RyaW5nIG1hdGNoZXMgZXhpc3RlbmNlIG9mIGFuIGF0dHJpYnV0ZSBgPHRhZyBhdHRyaWJ1dGUvPmAuXG4gICAqIElmIHBhcnNpbmcgYXJyYXlzIG9mIGJvb2xlYW5zLCB0aGUgZW1wdHkgc3RyaW5nIHdpbGwgYmUgY29uc2lkZXJlZCB1bmRlZmluZWQgc2luY2UgdGhhdCBpcyBhbiBlbXB0eSBlbGVtZW50IGluIHRoaXMgY29udGV4dC5cbiAgICovXG4gIHwgXCJiXCJcblxuICAvKiogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBhcyBhIG51bWJlciBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgbG9vayBsaWtlIGEgbnVtYmVyLiAqL1xuICB8IFwiblwiXG5cbiAgLyoqIFRoZSByYXcgYXR0cmlidXRlIHZhbHVlLiAqL1xuICB8IGZhbHNlXG4gIHwgXCJyXCJcblxuICAvKiogIFRoZSBhdHRyaWJ1dGUgdmFsdWUgcGFyc2VkIGFzIEpTT04uICovXG4gIHwgXCJqXCJcblxuICAvKiogIFRoZSBhdHRyaWJ1dGUgdmFsdWUgcGFyc2VkIGFzIGEgSFRUUCBlbmNvZGVkIHN0cmluZyAoZnJvbSBAdGFpbGpzL3V0aWwvdHJhbnNwb3J0KS4gKi9cbiAgfCBcImhcIlxuXG4gIC8qKiAgVGhlIGF0dHJpYnV0ZSB2YWx1ZSBwYXJzZWQgYXMgYSBjbGllbnQgZW5jcnlwdGVkIHZhbHVlIChmcm9tIEB0YWlsanMvdXRpbC90cmFuc3BvcnQpLiBUaGlzIGFsc28gc3VwcG9ydHMgSlNPTi4gKi9cbiAgfCBcImVcIlxuXG4gIC8qKlxuICAgKiBUaGlzIG1lYW5zIHRoZSBhdHRyaWJ1dGUgdmFsdWUgd2lsbCBiZSBwYXJzZWQgYXMgYW4gYXJyYXkgd2l0aCBlbGVtZW50cyBzZXBhcmF0ZWQgYnkgYCxgLlxuICAgKiBXaGl0ZXNwYWNlIGlzIHRyaW1tZWQsIGFuZCBlbXB0eSB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBBIHR5cGUgbWF5IGJlIGluY2x1ZGVkIGluIHRoZSB0dXBsZSB0byBwYXJzZSB0aGUgaXRlbXMgYXMgdGhpcyB0eXBlLiBJbiB0aGlzIGNhc2UgdW5wYXJzYWJsZSB2YWx1ZXMgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgYXJyYXlcbiAgICogYXMgdW5kZWZpbmVkLlxuICAgKi9cbiAgfCByZWFkb25seSBbdHlwZT86IEF0dHJpYnV0ZVZhbHVlVHlwZSAmIHN0cmluZ107XG5cbnR5cGUgUGFyc2VkQXR0cmlidXRlVmFsdWU8XG4gIFQgZXh0ZW5kcyBBdHRyaWJ1dGVWYWx1ZVR5cGUgfCBOdWxsaXNoLFxuICBFbmNvZGVkVHlwZSA9IGFueVxuPiA9IFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgVCBleHRlbmRzIEF0dHJpYnV0ZVZhbHVlVHlwZV1cbiAgPyBQYXJzZWRBdHRyaWJ1dGVWYWx1ZTxUPltdXG4gIDogVCBleHRlbmRzIChib29sZWFuIHwgXCJ6XCIgfCBOdWxsaXNoKSB8IFwiclwiXG4gID8gc3RyaW5nXG4gIDogVCBleHRlbmRzIFwiYlwiXG4gID8gYm9vbGVhbiB8IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBcIm5cIlxuICA/IG51bWJlciB8IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBcImpcIiB8IFwiaFwiIHwgXCJlXCJcbiAgPyBFbmNvZGVkVHlwZSB8IHVuZGVmaW5lZFxuICA6IG5ldmVyO1xuXG5leHBvcnQgY29uc3QgcGFyc2VBdHRyaWJ1dGVWYWx1ZTogPFxuICBWLFxuICBUeXBlIGV4dGVuZHMgQXR0cmlidXRlVmFsdWVUeXBlIHwgTnVsbGlzaCA9IFwielwiXG4+KFxuICB2YWx1ZTogVixcbiAgdHlwZTogVHlwZVxuKSA9PiBNYXliZVVuZGVmaW5lZDxcbiAgVixcbiAgVHlwZSBleHRlbmRzIFwiYlwiXG4gICAgPyBib29sZWFuXG4gICAgOiBWIGV4dGVuZHMgXCJcIlxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBQYXJzZWRBdHRyaWJ1dGVWYWx1ZTxUeXBlPlxuPiA9ICh2YWx1ZTogYW55LCB0eXBlID0gXCJ6XCIgYXMgYW55KSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIm51bGxcIiB8fCAodmFsdWUgPT09IFwiXCIgJiYgdHlwZSAhPT0gXCJiXCIpKVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSB0cnVlOlxuICAgIGNhc2UgXCJ6XCI6XG4gICAgICByZXR1cm4gKFwiXCIgKyB2YWx1ZSkudHJpbSgpPy50b0xvd2VyQ2FzZSgpO1xuICAgIGNhc2UgZmFsc2U6XG4gICAgY2FzZSBcInJcIjpcbiAgICAgIHZhbHVlO1xuICAgIGNhc2UgXCJiXCI6XG4gICAgICByZXR1cm4gdmFsdWUgPT09IFwiXCIgfHwgcGFyc2VCb29sZWFuKHZhbHVlKTtcbiAgICBjYXNlIFwiblwiOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgIGNhc2UgXCJqXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gSlNPTi5wYXJzZSh2YWx1ZSksIE5PT1ApO1xuICAgIGNhc2UgXCJoXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gaHR0cERlY29kZSh2YWx1ZSksIE5PT1ApO1xuICAgIGNhc2UgXCJlXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gaHR0cERlY3J5cHQ/Lih2YWx1ZSksIE5PT1ApO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gaXNBcnJheSh0eXBlKVxuICAgICAgICA/IHZhbHVlID09PSBcIlwiXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6IChcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgICAodmFsdWUpID0+XG4gICAgICAgICAgICAgICAgICAodmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50cmltKCkgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgIDogcGFyc2VBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSwgdHlwZSFbMF0pKVxuICAgICAgICAgICAgICApXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXR0ciA9IDxcbiAgTm9kZSBleHRlbmRzIE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIFR5cGUgZXh0ZW5kcyBBdHRyaWJ1dGVWYWx1ZVR5cGUgfCBOdWxsaXNoID0gXCJ6XCJcbj4oXG4gIG5vZGU6IE5vZGUsXG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZT86IFR5cGVcbikgPT4gcGFyc2VBdHRyaWJ1dGVWYWx1ZSgobm9kZSBhcyBhbnkpPy5nZXRBdHRyaWJ1dGUobmFtZSksIHR5cGUpO1xuXG5leHBvcnQgY29uc3Qgc2V0QXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlOiBhbnlcbikgPT5cbiAgdmFsdWUgPT09IG5pbFxuICAgID8gKG5vZGUgYXMgYW55KT8ucmVtb3ZlQXR0cmlidXRlKG5hbWUpXG4gICAgOiAobm9kZSBhcyBhbnkpPy5zZXRBdHRyaWJ1dGUobmFtZSwgXCJcIiArIHZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IHNjb3BlQXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU/OiBBdHRyaWJ1dGVWYWx1ZVR5cGVcbikgPT4gZm9yQW5jZXN0b3JzT3JTZWxmKG5vZGUsIChlbCwgdmFsdWUpID0+IHZhbHVlKGF0dHIoZWwsIG5hbWUsIHR5cGUpKSk7XG5cbmV4cG9ydCBjb25zdCBpbkVsZW1lbnRTY29wZSA9IChcbiAgbm9kZTogTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCxcbiAgbmFtZTogc3RyaW5nXG4pID0+XG4gIGZvckFuY2VzdG9yc09yU2VsZihub2RlLCAoZWwsIHZhbHVlKSA9PlxuICAgIHZhbHVlKHRhZ05hbWUoZWwpID09PSBuYW1lIHx8IHVuZGVmaW5lZClcbiAgKTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZWRBdHRyaWJ1dGUgPSAoXG4gIG5vZGU6IE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIG5hbWU6IHN0cmluZ1xuKSA9PiBhdHRyKG5vZGUsIG5hbWUpPy50cmltKCk/LnRvTG93ZXJDYXNlKCk7XG5cbmxldCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgYm9vbGVhbkF0dHJpYnV0ZSA9IChcbiAgbm9kZTogTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCxcbiAgbmFtZTogc3RyaW5nXG4pID0+ICh2YWx1ZSA9IGF0dHIobm9kZSwgbmFtZSkpID09PSBcIlwiIHx8IHBhcnNlQm9vbGVhbih2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBudW1lcmljQXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmdcbikgPT4gcGFyc2VGbG9hdChcIlwiICsgKHZhbHVlID0gYXR0cihub2RlLCBuYW1lKSkpID8/IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gPFxuICBUIGV4dGVuZHMgTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCB8IE51bGxpc2hcbj4oXG4gIG5vZGU6IFRcbik6IE1heWJlVW5kZWZpbmVkPFQsIHN0cmluZ1tdPiA9PiAobm9kZSBhcyBhbnkpPy5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuXG5leHBvcnQgY29uc3QgY3NzUHJvcGVydHkgPSAoZWw6IEVsZW1lbnQsIG5hbWU6IHN0cmluZykgPT5cbiAgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKSB8fCBuaWw7XG5cbmV4cG9ydCBjb25zdCB0YWdOYW1lID0gPFQgZXh0ZW5kcyBFbGVtZW50IHwgTnVsbGlzaD4oXG4gIGVsOiBUXG4pOiBUIGV4dGVuZHMgTnVsbGlzaCA/IG51bGwgOiBzdHJpbmcgPT4gKGVsICE9IG5pbCA/IChlbC50YWdOYW1lIGFzIGFueSkgOiBuaWwpO1xuXG5sZXQgcG9zOiBQb3NpdGlvbjtcbmV4cG9ydCBjb25zdCByZWxhdGl2ZVNjcm9sbFBvcyA9ICgpOiBQb3NpdGlvbiA9PiAoXG4gIChwb3MgPSBzY3JvbGxQb3MoRikpLFxuICB7XG4gICAgeDogcG9zLnggLyAoYm9keS5vZmZzZXRXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSB8fCAwLFxuICAgIHk6IHBvcy55IC8gKGJvZHkub2Zmc2V0SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0KSB8fCAwLFxuICB9XG4pO1xuXG5leHBvcnQgY29uc3Qgc2Nyb2xsUG9zID0gKGludD86IGJvb2xlYW4pOiBQb3NpdGlvbiA9PiAoe1xuICB4OiByb3VuZChzY3JvbGxYLCBpbnQpLFxuICB5OiByb3VuZChzY3JvbGxZLCBpbnQpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBtYXRjaEV4SGFzaCA9IChocmVmMTogc3RyaW5nLCBocmVmMjogc3RyaW5nKSA9PlxuICByZXBsYWNlKGhyZWYxLCAvIy4qJC8sIFwiXCIpID09PSByZXBsYWNlKGhyZWYyLCAvIy4qJC8sIFwiXCIpO1xuXG5sZXQgc2NyZWVuUG9zOiBQb3NpdGlvbiB8IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5Qb3MgPSA8VCBleHRlbmRzIEVsZW1lbnQgfCBOdWxsaXNoPihcbiAgZWw6IFQsXG4gIG1vdXNlRXZlbnQ/OiBNb3VzZUV2ZW50LFxuICBpbmNsdWRlRm9sZCA9IFRcbik6IE1heWJlVW5kZWZpbmVkPFNjcmVlblBvc2l0aW9uPiA9PlxuICAoc2NyZWVuUG9zID0gZ2V0UG9zKGVsLCBtb3VzZUV2ZW50KSkgJiZcbiAgKHJlc3RyaWN0PFNjcmVlblBvc2l0aW9uPih7XG4gICAgeHB4OiBzY3JlZW5Qb3MueCxcbiAgICB5cHg6IHNjcmVlblBvcy55LFxuICAgIHg6IHJvdW5kKHNjcmVlblBvcy54IC8gYm9keS5vZmZzZXRXaWR0aCwgNCksXG4gICAgeTogcm91bmQoc2NyZWVuUG9zLnkgLyBib2R5Lm9mZnNldEhlaWdodCwgNCksXG4gICAgcGFnZUZvbGRzOiBpbmNsdWRlRm9sZCA/IHNjcmVlblBvcy55IC8gd2luZG93LmlubmVySGVpZ2h0IDogdW5kZWZpbmVkLFxuICB9KSBhcyBhbnkpO1xuXG5sZXQgeDogbnVtYmVyO1xubGV0IHk6IG51bWJlcjtcbmV4cG9ydCBjb25zdCBnZXRQb3MgPSA8TnVsbHM+KFxuICBlbDogTnVsbGFibGU8RWxlbWVudCwgTnVsbHM+LFxuICBtb3VzZUV2ZW50PzogTW91c2VFdmVudFxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIFBvc2l0aW9uPiA9PiB7XG4gIHJldHVybiAhIW1vdXNlRXZlbnQ/LltcInBvaW50ZXJUeXBlXCJdICYmIG1vdXNlRXZlbnQ/LnBhZ2VZICE9IG5pbFxuICAgID8geyB4OiBtb3VzZUV2ZW50LnBhZ2VYLCB5OiBtb3VzZUV2ZW50LnBhZ2VZIH1cbiAgICA6IGVsXG4gICAgPyAoKHsgeCwgeSB9ID0gZ2V0UmVjdChlbCkhKSwgeyB4LCB5IH0pXG4gICAgOiAodW5kZWZpbmVkIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNWaXNpYmxlID0gKGVsOiBFbGVtZW50IHwgTnVsbGlzaCkgPT4ge1xuICBpZiAoIWVsIHx8ICFlbC5pc0Nvbm5lY3RlZCB8fCBnZXRSZWN0KGVsLCBmYWxzZSkud2lkdGggPD0gMCkgcmV0dXJuIGZhbHNlO1xuICB3aGlsZSAoZWwpIHtcbiAgICBjb25zdCBzdHlsZSA9IChlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IGFzIFdpbmRvdyk/LmdldENvbXB1dGVkU3R5bGUoXG4gICAgICBlbFxuICAgICk7XG5cbiAgICBpZiAoc3R5bGUudmlzaWJpbGl0eSA9PT0gXCJoaWRkZW5cIiB8fCBzdHlsZS5vcGFjaXR5ID09PSBcIjBcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmxldCByZWN0OiBET01SZWN0O1xuZXhwb3J0IGNvbnN0IGdldFJlY3QgPSA8TnVsbHM+KFxuICBlbDogTnVsbGFibGU8RWxlbWVudCwgTnVsbHM+LFxuICBpbmNsdWRlU2Nyb2xsID0gdHJ1ZVxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIFJlY3RhbmdsZT4gPT5cbiAgZWxcbiAgICA/ICgocmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgIChwb3MgPSBpbmNsdWRlU2Nyb2xsID8gc2Nyb2xsUG9zKEYpIDogeyB4OiAwLCB5OiAwIH0pLFxuICAgICAge1xuICAgICAgICB4OiByb3VuZChyZWN0LmxlZnQgKyBwb3MueCksXG4gICAgICAgIHk6IHJvdW5kKHJlY3QudG9wICsgcG9zLnkpLFxuICAgICAgICB3aWR0aDogcm91bmQocmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogcm91bmQocmVjdC5oZWlnaHQpLFxuICAgICAgfSlcbiAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcblxudHlwZSBBbGxNYXBzID0gV2luZG93RXZlbnRNYXAgJlxuICBHbG9iYWxFdmVudEhhbmRsZXJzRXZlbnRNYXAgJlxuICBEb2N1bWVudEV2ZW50TWFwICZcbiAgSFRNTEVsZW1lbnRFdmVudE1hcCAmIHtcbiAgICBmcmVlemU6IFBhZ2VUcmFuc2l0aW9uRXZlbnQ7XG4gICAgcmVzdW1lOiBQYWdlVHJhbnNpdGlvbkV2ZW50O1xuICB9O1xuXG5leHBvcnQgY29uc3QgbGlzdGVuID0gPEsgZXh0ZW5kcyBrZXlvZiBBbGxNYXBzPihcbiAgdGFyZ2V0OiB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuICAgICk6IHZvaWQ7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBFdmVudExpc3RlbmVyT3B0aW9uc1xuICAgICk6IHZvaWQ7XG4gIH0sXG4gIG5hbWU6IEsgfCBLW10sXG4gIGxpc3RlbmVyOiAoXG4gICAgZXY6IEFsbE1hcHNbSyBleHRlbmRzIGFueVtdID8gS1tudW1iZXJdIDogS10sXG4gICAgdW5iaW5kOiBVbmJpbmRlclxuICApID0+IGFueSxcbiAgb3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfVxuKTogQmluZGVycyA9PiB7XG4gIG5hbWUgPSBhcnJheTIobmFtZSkgYXMgYW55O1xuICByZXR1cm4gY3JlYXRlRXZlbnRCaW5kZXJzKFxuICAgIGxpc3RlbmVyLFxuICAgIChsaXN0ZW5lcikgPT5cbiAgICAgIGZvckVhY2gyKG5hbWUsIChuYW1lKSA9PlxuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICAgICksXG4gICAgKGxpc3RlbmVyKSA9PlxuICAgICAgZm9yRWFjaDIobmFtZSwgKG5hbWUpID0+XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKVxuICAgICAgKVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRG9tYWluID0gKGhyZWY6IHN0cmluZyk6IERvbWFpbiA9PiB7XG4gIGNvbnN0IHsgaG9zdCwgc2NoZW1lLCBwb3J0IH0gPSBwYXJzZVVyaShocmVmLCB7XG4gICAgZGVsaW1pdGVyczogZmFsc2UsXG4gICAgcmVxdWlyZUF1dGhvcml0eTogdHJ1ZSxcbiAgfSk7XG4gIHJldHVybiB7IGhvc3Q6IGhvc3QgKyAocG9ydCA/IFwiOlwiICsgcG9ydCA6IFwiXCIpLCBzY2hlbWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3cG9ydFNpemUgPSAoKTogU2l6ZSA9PiAoe1xuICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxufSk7XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3cG9ydCA9ICgpOiBWaWV3cG9ydCA9PiAoXG4gIChwb3MgPSBzY3JvbGxQb3MoVCkpLFxuICB7XG4gICAgLi4ucG9zLFxuICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICB0b3RhbFdpZHRoOiBib2R5Lm9mZnNldFdpZHRoLFxuICAgIHRvdGFsSGVpZ2h0OiBib2R5Lm9mZnNldEhlaWdodCxcbiAgfVxuKTtcblxuZXhwb3J0IHR5cGUgT3ZlcmxheSA9IHtcbiAgbW92ZShyZWN0OiBET01SZWN0IHwgRWxlbWVudCk6IE92ZXJsYXk7XG4gIHRleHQodGV4dDogc3RyaW5nKTogT3ZlcmxheTtcbiAgdG9nZ2xlKHNob3c6IGJvb2xlYW4pOiBPdmVybGF5O1xufTtcbmV4cG9ydCBjb25zdCBvdmVybGF5ID0gKFxuICByZWN0PzogRE9NUmVjdCB8IEVsZW1lbnQsXG4gIHRleHQ/OiBzdHJpbmcsXG4gIHB1bHNlPzogYm9vbGVhblxuKTogT3ZlcmxheSA9PiB7XG4gIGxldCBiYWNrZHJvcEVsOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgbGV0IHRleHRFbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgbGV0IGN1cnJlbnRUZXh0ID0gdGV4dDtcbiAgbGV0IGN1cnJlbnRSZWN0OiBET01SZWN0IHwgdW5kZWZpbmVkID0gcmVjdCBhcyBhbnk7XG4gIGNvbnN0IGVuc3VyZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIGlmIChiYWNrZHJvcEVsKSByZXR1cm4gdHJ1ZTtcblxuICAgIGJhY2tkcm9wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJhY2tkcm9wRWwuc3R5bGUuY3NzVGV4dCA9XG4gICAgICBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjo0cHggc29saWQgYmx1ZTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MTAwXCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChiYWNrZHJvcEVsKTtcblxuICAgIHRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGV4dEVsLnN0eWxlLmNzc1RleHQgPVxuICAgICAgXCJwb3NpdGlvbjphYnNvbHV0ZTsgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsgcmlnaHQ6IDA7IHRvcDogMDttYXJnaW46MTBweFwiO1xuICAgIGJhY2tkcm9wRWwuYXBwZW5kQ2hpbGQodGV4dEVsKTtcblxuICAgIG92ZXJsYXkubW92ZShjdXJyZW50UmVjdCkudGV4dChjdXJyZW50VGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFuZXIgPSBjcmVhdGVUaW1lb3V0KCk7XG5cbiAgY29uc3Qgb3ZlcmxheSA9IHtcbiAgICBtb3ZlKHJlY3Q6IERPTVJlY3QgfCBFbGVtZW50IHwgTnVsbGlzaCkge1xuICAgICAgY3VycmVudFJlY3QgPSByZWN0ID0gKHJlY3QgYXMgRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKSA/P1xuICAgICAgICByZWN0ID8/IHtcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIH07XG5cbiAgICAgIGlmICghZW5zdXJlRWxlbWVudHMoKSkge1xuICAgICAgICByZXR1cm4gb3ZlcmxheTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjdXJyZW50UmVjdCEud2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXkudG9nZ2xlKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG9mZnNldCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBbXCJ0b3BcIiwgXCJsZWZ0XCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIl0uZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgICBiYWNrZHJvcEVsIS5zdHlsZVtwXSA9IHJlY3QhW3BdIC0gKGkgPCAyID8gb2Zmc2V0W3BdIDogMCkgKyBcInB4XCI7XG4gICAgICB9KTtcbiAgICAgIG9mZnNldCA9IGJhY2tkcm9wRWwhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGV4dEVsIS5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCA8IDAgPyAtb2Zmc2V0LnRvcCA6IDApICsgXCJweFwiO1xuXG4gICAgICB0ZXh0RWwhLnN0eWxlLnJpZ2h0ID1cbiAgICAgICAgKG9mZnNldC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgICAgPyBvZmZzZXQucmlnaHQgLSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICAgIDogMCkgKyBcInB4XCI7XG5cbiAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH0sXG4gICAgdGV4dDogKHRleHQ6IHN0cmluZyB8IE51bGxpc2gpID0+IChcbiAgICAgIGVuc3VyZUVsZW1lbnRzKCkgJiYgKHRleHRFbCEuaW5uZXJUZXh0ID0gY3VycmVudFRleHQgPSB0ZXh0ID8/IFwiXCIpLFxuICAgICAgb3ZlcmxheVxuICAgICksXG5cbiAgICB0b2dnbGUoc2hvdzogYm9vbGVhbikge1xuICAgICAgaWYgKCFiYWNrZHJvcEVsKSB7XG4gICAgICAgIGlmICghc2hvdykgcmV0dXJuIG92ZXJsYXk7XG4gICAgICAgIGVuc3VyZUVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgICBiYWNrZHJvcEVsIS5zdHlsZS50cmFuc2l0aW9uID0gc2hvdyA/IFwiXCIgOiBcIm9wYWNpdHkgMXMgLjVzXCI7XG4gICAgICBiYWNrZHJvcEVsIS5zdHlsZS5vcGFjaXR5ID0gc2hvdyA/IFwiMVwiIDogXCIwXCI7XG5cbiAgICAgIHNob3dcbiAgICAgICAgPyBjbGVhbmVyKGZhbHNlKVxuICAgICAgICA6IGNsZWFuZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFiYWNrZHJvcEVsKSByZXR1cm47XG4gICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGJhY2tkcm9wRWwpO1xuICAgICAgICAgICAgYmFja2Ryb3BFbCA9IHRleHRFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LCAxMTAwKTtcbiAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH0sXG4gIH07XG5cbiAgY3VycmVudFJlY3QgJiYgb3ZlcmxheS5tb3ZlKGN1cnJlbnRSZWN0KS50ZXh0KGN1cnJlbnRUZXh0KTtcbiAgcHVsc2UgJiYgb3ZlcmxheS50b2dnbGUodHJ1ZSkudG9nZ2xlKGZhbHNlKTtcblxuICByZXR1cm4gb3ZlcmxheTtcbn07XG4iLCJpbXBvcnQge1xuICBQYXJzYWJsZVRhZ3MsXG4gIFRhZ0NvbGxlY3Rpb24sXG4gIGNvbGxlY3RUYWdzLFxuICB0eXBlIFRhZyxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIFQsXG4gIGNvbmNhdCxcbiAgZmxhdE1hcCxcbiAgZmxhdE1hcDIsXG4gIGZvckVhY2gyLFxuICBpc0Z1bmN0aW9uLFxuICBpc0l0ZXJhYmxlLFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlZ0V4LFxuICBpc1N0cmluZyxcbiAgam9pbjIsXG4gIG1hdGNoZXMsXG4gIG5pbCxcbiAgcGFyc2VCb29sZWFuLFxuICBwYXJzZVJlZ2V4LFxuICByZXBsYWNlLFxuICBzdG9wLFxuICB0ZXN0UmVnZXgsXG4gIHR5cGUgTnVsbGlzaCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuXG5pbXBvcnQge1xuICBOb2RlV2l0aFBhcmVudEVsZW1lbnQsXG4gIGF0dHIsXG4gIGF0dHJpYnV0ZU5hbWVzLFxuICBjcmVhdGVFbGVtZW50LFxuICBjc3NQcm9wZXJ0eSxcbiAgZm9yQW5jZXN0b3JzT3JTZWxmLFxuICBtYXRjaFNlbGVjdG9yLFxuICB0cmFja2VyQ29uZmlnLFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB0eXBlIHsgQm91bmRhcnlEYXRhLCBUYWdNYXBwaW5ncyB9IGZyb20gXCIuLi8uLlwiO1xuXG5leHBvcnQgY29uc3QgYm91bmRhcnlEYXRhID0gbmV3IFdlYWtNYXA8Tm9kZSwgQm91bmRhcnlEYXRhPHRydWU+PigpO1xuZXhwb3J0IGNvbnN0IGdldEJvdW5kYXJ5RGF0YSA9IChlbDogTm9kZSkgPT4gYm91bmRhcnlEYXRhLmdldChlbCk7XG5cbmV4cG9ydCBjb25zdCB0cmFja2VyUHJvcGVydHlOYW1lID0gKG5hbWU6IHN0cmluZywgY3NzID0gRikgPT5cbiAgKGNzcyA/IFwiLS10cmFjay1cIiA6IFwidHJhY2stXCIpICsgbmFtZTtcblxuLy8gY29uc3QgdHJhY2tlclByb3BlcnR5ID0gKFxuLy8gICBlbDogRWxlbWVudCxcbi8vICAgbmFtZTogc3RyaW5nLFxuLy8gICB2YWx1ZSA9IGF0dHIoZWwsIHRyYWNrZXJQcm9wZXJ0eU5hbWUobmFtZSkpLFxuLy8gICBjc3MgPSBjc3NQcm9wZXJ0eShlbCBhcyBFbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUsIFQpKVxuLy8gKSA9PiAodmFsdWUgPyAoY3NzID8gdmFsdWUgKyBcIiBcIiArIGNzcyA6IHZhbHVlKSA6IGNzcyk7XG5cbnR5cGUgTWF0Y2hBdHRyaWJ1dGVSdWxlID0gcmVhZG9ubHkgW1xuICBtYXRjaDogUmVnRXhwLFxuICBzZWxlY3Rvcj86IHN0cmluZyxcbiAgYmFzZVJhbms/OiBzdHJpbmdcbl07XG5cbnR5cGUgQ2FjaGVNYXRjaFJ1bGVzID0gW1xuICBlbGlnaWJsZUNhY2hlOiB7IFtuYW1lOiBzdHJpbmddOiBib29sZWFuIH0sXG4gIHJ1bGVzOiBNYXRjaEF0dHJpYnV0ZVJ1bGVbXSB8IE51bGxpc2hcbl07XG5cbi8qKlxuICogRXh0cmFjdHMgYW4gZWxlbWVudCdzIHRhZ3MgZ2l2ZW4gYW4gYXR0cmlidXRlIG5hbWUsIGFuZCBhIGxpc3Qgb2YgcnVsZXMgYWJvdXQgaG93IHRvIG1hdGNoLi5cbiAqIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgZXh0ZXJuYWwsIGl0cyBsb2NhbCB2YXJpYWJsZXMgYXJlIGFkZGVkIGFzIGxvY2FsIHBhcmFtZXRlcnMuIERvbid0IHRhbXBlci5cbiAqXG4gKiBBbiBvcHRpb25hbCBgZWxpZ2libGVDYWNoZWAgY2FuIGJlIHBhc3NlZCBhbG9uZyB0byBzcGVlZCB1cCByZWplY3RpbmcgYXR0cmlidXRlIG5hbWVzIHRoYXQgZGVmaW5pdGVseSBkb24ndCBtYXRjaCBhbnl0aGluZy5cbiAqL1xuY29uc3QgbWF0Y2hBdHRyaWJ1dGVOYW1lcyA9IChcbiAgZWw6IEVsZW1lbnQgfCBOdWxsaXNoLFxuICBjYWNoZWQ6IENhY2hlTWF0Y2hSdWxlcyB8IE51bGxpc2gsXG4gIHRhZ3M6IFRhZ0NvbGxlY3Rpb24sXG4gIHByZWZpeD86IHN0cmluZyB8IGJvb2xlYW4sXG4gIHZhbHVlPzogc3RyaW5nLFxuICBlbGlnaWJsZT86IGJvb2xlYW5cbikgPT5cbiAgY2FjaGVkPy5bMV0gJiZcbiAgZm9yRWFjaDIoXG4gICAgYXR0cmlidXRlTmFtZXMoZWwpLFxuICAgIChuYW1lKSA9PlxuICAgICAgKGNhY2hlZFswXVtuYW1lXSA/Pz1cbiAgICAgICAgKChlbGlnaWJsZSA9IEYpLFxuICAgICAgICBpc1N0cmluZyhcbiAgICAgICAgICAocHJlZml4ID1cbiAgICAgICAgICAgIC8vIE5vIGNhY2hlLiBMZXQncyBsb29wIHRocm91Z2ggdGhlbSB0aGVuLlxuICAgICAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgICAgIGNhY2hlZFsxXSxcbiAgICAgICAgICAgICAgKFttYXRjaCwgc2VsZWN0b3IsIHByZWZpeF0sIF8pID0+XG4gICAgICAgICAgICAgICAgdGVzdFJlZ2V4KG5hbWUsIG1hdGNoKSAmJlxuICAgICAgICAgICAgICAgIC8vIFNuZWFraWx5IHdlIFwiZGVsZXRlXCIgdGhlIGVsaWdpYmxlIGZsYWcsIHNvIHRoZSBza2lwTmFtZUNhY2hlJ3MgYD8/PWAgYXNzaWdubWVudCB3aWxsIGFsd2F5cyBiZSByZWV2YWx1YXRlZC5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGNvZGUgYnJhbmNoIGlzIG5ldmVyIGhpdCwgd2UgcmV0dXJuIHRoZSBpbml0aWFsIHZhbHVlIGBmYWxzZWAsIGFuZCB0aGlzIGNoZWNrIHdpbGwgbmV2ZXIgYmUgcGVyZm9ybWVkIGFnYWluLlxuICAgICAgICAgICAgICAgIC8vIFdlIGRvIHRoaXMgY2hlY2sgYmVmb3JlIHRoZSBzZWxlY3RvciBjaGVjaywgc2luY2UgdGhpcyByZXN1bHQgaXMgbm90IGdlbmVyYWxseSBjYWNoZWFibGUuXG4gICAgICAgICAgICAgICAgKChlbGlnaWJsZSA9IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgIXNlbGVjdG9yIHx8IG1hdGNoU2VsZWN0b3IoZWwsIHNlbGVjdG9yKSkgJiZcbiAgICAgICAgICAgICAgICBzdG9wKHByZWZpeCA/PyBuYW1lKVxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSAmJiAvLyBUaGUgZW1wdHkgc3RyaW5nIGlzIGFsc28gXCJ0cnVlXCIgc2luY2UgaXQgbWVhbnMgcHJlc2VuY2Ugb2YgdGhlIGF0dHJpYnV0ZSB3aXRob3V0IGEgdmFsdWUgKGFzIGluIGA8ZGl2IHRhZy15ZXMgLz4pLlxuICAgICAgICAgICghKHZhbHVlID0gZWwhLmdldEF0dHJpYnV0ZShuYW1lKSEpIHx8IHBhcnNlQm9vbGVhbih2YWx1ZSkpICYmXG4gICAgICAgICAgY29sbGVjdFRhZ3ModmFsdWUsIHJlcGxhY2UocHJlZml4LCAvXFwtL2csIFwiOlwiKSwgdGFncyksXG4gICAgICAgIGVsaWdpYmxlKSlcbiAgKTtcblxuLy8gV2UgY2FjaGUgdGhlIHRyYWNrZXIgY29uZmlndXJhdGlvbidzIHJ1bGVzIGZvciB0YWcgbWFwcGluZ3MuXG5sZXQgY2FjaGVkVGFnTWFwcGVyOiAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+IHZvaWQgPSAoKSA9PiB7fTtcbmxldCBjYWNoZWRNYXBwaW5nczogVGFnTWFwcGluZ3MgfCB1bmRlZmluZWQ7XG5jb25zdCBwYXJzZVRhZ0F0dHJpYnV0ZXMgPSAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+IHtcbiAgaWYgKGNhY2hlZE1hcHBpbmdzID09PSAoY2FjaGVkTWFwcGluZ3MgPSB0cmFja2VyQ29uZmlnLnRhZ3MpKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRhZ01hcHBlcihlbCwgdGFncyk7XG4gIH1cblxuICBjb25zdCBwYXJzZSA9IChydWxlOiBUYWdNYXBwaW5nc1tzdHJpbmddKTogTWF0Y2hBdHRyaWJ1dGVSdWxlW10gPT5cbiAgICAgICFydWxlXG4gICAgICAgID8gW11cbiAgICAgICAgOiBpc1JlZ0V4KHJ1bGUpXG4gICAgICAgID8gW1tydWxlXV1cbiAgICAgICAgOiBpc0l0ZXJhYmxlKHJ1bGUpXG4gICAgICAgID8gZmxhdE1hcChydWxlLCBwYXJzZSlcbiAgICAgICAgOiBbXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHJ1bGUpXG4gICAgICAgICAgICAgID8gW3BhcnNlUmVnZXgocnVsZS5tYXRjaCkhLCBydWxlLnNlbGVjdG9yLCBydWxlLnByZWZpeF1cbiAgICAgICAgICAgICAgOiBbcGFyc2VSZWdleChydWxlKSFdLFxuICAgICAgICAgIF0sXG4gICAgY2FjaGU6IENhY2hlTWF0Y2hSdWxlcyA9IFtcbiAgICAgIHt9LFxuICAgICAgLy8gU3RhcnQgYnkgY2hlY2tpbmcgd2hldGhlciB3ZSBoYXZlIGFueSBvZiB0aGUgZ29vZCBvbCcsIGRvY3VtZW50ZWQsIFwidGFpbC5qcyBvZmZpY2lhbFwiIHRhZyBhdHRyaWJ1dGVzLlxuICAgICAgW1xuICAgICAgICBbL14oPzp0cmFja1xcLSk/dGFncz8oPzokfFxcLSkoLiopL10sXG4gICAgICAgIC4uLnBhcnNlKGZsYXRNYXAyKGNhY2hlZE1hcHBpbmdzLCAoWywgdmFsdWVdKSA9PiB2YWx1ZSwgMSkpLFxuICAgICAgXSxcbiAgICBdO1xuXG4gIChjYWNoZWRUYWdNYXBwZXIgPSAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+XG4gICAgbWF0Y2hBdHRyaWJ1dGVOYW1lcyhlbCwgY2FjaGUsIHRhZ3MpKShlbCwgdGFncyk7XG59O1xuXG5jb25zdCBjc3NQcm9wZXJ0eVdpdGhCYXNlID0gKGVsOiBFbGVtZW50LCBuYW1lOiBzdHJpbmcpID0+XG4gIGpvaW4yKFxuICAgIGNvbmNhdChcbiAgICAgIGNzc1Byb3BlcnR5KGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUsIFQpKSxcbiAgICAgIGNzc1Byb3BlcnR5KGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKFwiYmFzZS1cIiArIG5hbWUsIFQpKVxuICAgICksXG4gICAgXCIgXCJcbiAgKTtcblxuLy8gV2UgY2Fubm90IGNhY2hlIGFzIGJyb2FkbHkgZm9yIENTUyBiYXNlZCBydWxlcywgc28gd2UgY2FjaGUgcGVyIHNlbGVjdG9yIGluc3RlYWQuXG5jb25zdCBwYXJzZWRDc3NSdWxlczoge1xuICBbcnVsZTogc3RyaW5nXTogQ2FjaGVNYXRjaFJ1bGVzO1xufSA9IHt9O1xuXG5jb25zdCBwYXJzZUNzc01hcHBpbmdSdWxlcyA9IChcbiAgZWw6IEVsZW1lbnQsXG4gIHRhZ3M6IFRhZ0NvbGxlY3Rpb24sXG4gIHJ1bGVzU3RyaW5nID0gY3NzUHJvcGVydHlXaXRoQmFzZShlbCwgXCJhdHRyaWJ1dGVzXCIpXG4pID0+IHtcbiAgcnVsZXNTdHJpbmcgJiZcbiAgICBtYXRjaEF0dHJpYnV0ZU5hbWVzKFxuICAgICAgZWwsXG4gICAgICAocGFyc2VkQ3NzUnVsZXNbcnVsZXNTdHJpbmddID8/PSBbXG4gICAgICAgIHt9LFxuICAgICAgICBtYXRjaGVzKFxuICAgICAgICAgIHJ1bGVzU3RyaW5nLFxuICAgICAgICAgIC8oPzooXFxTKylcXDpcXHMqKT8oPzpcXCgoXFxTKylcXCl8KFteXFxzLDpdKykpXFxzKig/IVxcUypcXDopL2csXG4gICAgICAgICAgKF8sIHByZWZpeCwgcnVsZTEsIHJ1bGUyKSA9PlxuICAgICAgICAgICAgW3BhcnNlUmVnZXgocnVsZTEgfHwgcnVsZTIpLCAsIHByZWZpeF0gYXMgY29uc3RcbiAgICAgICAgKSxcbiAgICAgIF0pLFxuICAgICAgdGFnc1xuICAgICk7XG4gIGNvbGxlY3RUYWdzKGNzc1Byb3BlcnR5V2l0aEJhc2UoZWwsIFwidGFnc1wiKSwgdW5kZWZpbmVkLCB0YWdzKTtcbn07XG5cbmxldCBjdXJyZW50Qm91bmRhcnlEYXRhOiBCb3VuZGFyeURhdGE8dHJ1ZT4gfCBOdWxsaXNoO1xuZXhwb3J0IGNvbnN0IHRyYWNrZXJQcm9wZXJ0eSA9IChcbiAgZWw6IEVsZW1lbnQsXG4gIG5hbWU6IHN0cmluZyxcbiAgaW5oZXJpdDpcbiAgICB8IGJvb2xlYW5cbiAgICB8ICgoZWw6IE5vZGVXaXRoUGFyZW50RWxlbWVudCwgZGlzdGFuY2U6IG51bWJlcikgPT4gYm9vbGVhbikgPSBGLFxuICBib3VuZGFyeURhdGE/OiAoZWw6IEJvdW5kYXJ5RGF0YTx0cnVlPikgPT4gc3RyaW5nIHwgTnVsbGlzaFxuKTogc3RyaW5nIHwgbnVsbCA9PlxuICAoaW5oZXJpdFxuICAgID8gZm9yQW5jZXN0b3JzT3JTZWxmKFxuICAgICAgICBlbCxcbiAgICAgICAgKGVsLCByKSA9PiByKHRyYWNrZXJQcm9wZXJ0eShlbCwgbmFtZSwgRikpLFxuICAgICAgICBpc0Z1bmN0aW9uKGluaGVyaXQpID8gaW5oZXJpdCA6IHVuZGVmaW5lZFxuICAgICAgKVxuICAgIDogam9pbjIoXG4gICAgICAgIGNvbmNhdChcbiAgICAgICAgICBhdHRyKGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUpKSxcbiAgICAgICAgICBjc3NQcm9wZXJ0eShlbCwgdHJhY2tlclByb3BlcnR5TmFtZShuYW1lLCBUKSlcbiAgICAgICAgKSxcbiAgICAgICAgXCIgXCJcbiAgICAgICkpID8/XG4gIChib3VuZGFyeURhdGEgJiZcbiAgICAoY3VycmVudEJvdW5kYXJ5RGF0YSA9IGdldEJvdW5kYXJ5RGF0YShlbCkpICYmXG4gICAgYm91bmRhcnlEYXRhKGN1cnJlbnRCb3VuZGFyeURhdGEpKSA/P1xuICBuaWw7XG5cbmxldCBwcm9wZXJ0eVZhbHVlOiBzdHJpbmcgfCBOdWxsaXNoO1xuZXhwb3J0IGNvbnN0IHRyYWNrZXJGbGFnID0gKFxuICBlbDogRWxlbWVudCxcbiAgbmFtZTogc3RyaW5nLFxuICBpbmhlcml0OlxuICAgIHwgYm9vbGVhblxuICAgIHwgKChlbDogTm9kZVdpdGhQYXJlbnRFbGVtZW50LCBkaXN0YW5jZTogbnVtYmVyKSA9PiBib29sZWFuKSA9IEYsXG4gIGJvdW5kYXJ5RGF0YT86IChkYXRhOiBCb3VuZGFyeURhdGEpID0+IGJvb2xlYW4gfCBOdWxsaXNoXG4pID0+XG4gIChwcm9wZXJ0eVZhbHVlID0gdHJhY2tlclByb3BlcnR5KGVsLCBuYW1lLCBpbmhlcml0LCBib3VuZGFyeURhdGEgYXMgYW55KSkgPT09XG4gICAgXCJcIiB8fCAocHJvcGVydHlWYWx1ZSA9PSBuaWwgPyBwcm9wZXJ0eVZhbHVlIDogcGFyc2VCb29sZWFuKHByb3BlcnR5VmFsdWUpKTtcblxuZXhwb3J0IHR5cGUgUGFyc2VkVGFncyA9IHsgdGFncz86IFRhZ1tdIH07XG5cbmV4cG9ydCBjb25zdCBwYXJzZVRhZ3MgPSAoXG4gIHNvdXJjZUVsOiBFbGVtZW50IHwgTnVsbGlzaCxcbiAgc3RvcHBpbmdDcml0ZXJpb24/OiAoZWw6IEVsZW1lbnQsIGRpc3RhbmNlOiBudW1iZXIpID0+IGJvb2xlYW4sXG4gIGVsZW1lbnRUYWdEYXRhPzogKGVsOiBFbGVtZW50KSA9PiBQYXJzYWJsZVRhZ3MsXG4gIHRhZ3M/OiBUYWdDb2xsZWN0aW9uXG4pOiBQYXJzZWRUYWdzID0+XG4gICFzb3VyY2VFbFxuICAgID8ge31cbiAgICA6ICgodGFncyA/Pz0gbmV3IE1hcCgpKSxcbiAgICAgIHBhcnNlQ3NzTWFwcGluZ1J1bGVzKHNvdXJjZUVsLCB0YWdzKSxcbiAgICAgIGZvckFuY2VzdG9yc09yU2VsZihcbiAgICAgICAgc291cmNlRWwsXG4gICAgICAgIChlbCkgPT4ge1xuICAgICAgICAgIHBhcnNlVGFnQXR0cmlidXRlcyhlbCwgdGFncyEpO1xuICAgICAgICAgIGNvbGxlY3RUYWdzKGVsZW1lbnRUYWdEYXRhPy4oZWwpLCB1bmRlZmluZWQsIHRhZ3MhKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcHBpbmdDcml0ZXJpb25cbiAgICAgICksXG4gICAgICB0YWdzLnNpemUgPyB7IHRhZ3M6IFsuLi50YWdzLnZhbHVlcygpXSB9IDoge30pO1xuXG5sZXQgc3R5bGVFbGVtZW50OiBOb2RlO1xuZXhwb3J0IGNvbnN0IGluamVjdENzc0RlZmF1bHRzID0gKGRvY3VtZW50OiBEb2N1bWVudCkgPT4ge1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFxuICAgICgoKHN0eWxlRWxlbWVudCA9XG4gICAgICAvLyAtLXRyYWNrLWJhc2UtYXR0cmlidXRlcyBhbmQgLS10cmFjay1iYXNlLXRhZ3MgYXJlIG5vdCBzZXQsIHNpbmNlIHRoZXkgYXJlIHN1cHBvc2VkIHRvIGJlIGluaGVyaXRlZC5cbiAgICAgIGNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkuaW5uZXJUZXh0ID0gYCogeyAke3RyYWNrZXJQcm9wZXJ0eU5hbWUoXG4gICAgICBcInRhZ3NcIixcbiAgICAgIFRcbiAgICApfTo7ICR7dHJhY2tlclByb3BlcnR5TmFtZShcImF0dHJpYnV0ZXNcIiwgVCl9Ojt9YCksXG4gICAgc3R5bGVFbGVtZW50KVxuICApO1xufTtcbiIsImltcG9ydCBtc2dwYWNrIGZyb20gXCJAeWdvZS9tc2dwYWNrXCI7XG5jb25zdCB7IGRlc2VyaWFsaXplOiBtc2dEZXNlcmlhbGl6ZSwgc2VyaWFsaXplOiBtc2dTZXJpYWxpemUgfSA9IG1zZ3BhY2s7XG5cbmltcG9ydCB7XG4gIElERU5USVRZLFxuICBJc05ldmVyLFxuICBOdWxsaXNoLFxuICBpc0FycmF5LFxuICBpc0Z1bmN0aW9uLFxuICBpc0l0ZXJhYmxlLFxuICBpc0pzb25TdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNTdHJpbmcsXG4gIGlzU3ltYm9sLFxuICBtYXAyLFxuICB0cnlDYXRjaCxcbiAgdW5kZWZpbmVkLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBIYXNoRnVuY3Rpb24sIGZyb202NHUsIGxmc3IsIHRvNjR1IH0gZnJvbSBcIi5cIjtcblxudHlwZSBDb252ZXJ0ZXJGdW5jdGlvblZhbHVlPFQ+ID0gVCBleHRlbmRzIHsgdG9KU09OKCk6IGluZmVyIFYgfVxuICA/IFZcbiAgOiBUIGV4dGVuZHMgeyB2YWx1ZU9mKCk6IGluZmVyIFYgfVxuICA/IFZcbiAgOiBUO1xuXG50eXBlIENvbnZlcnRlclZhbHVlPFQ+ID0gVCBleHRlbmRzIENvbnZlcnRlckZ1bmN0aW9uVmFsdWU8VD5cbiAgPyBuZXZlclxuICA6IENvbnZlcnRlckZ1bmN0aW9uVmFsdWU8VD47XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZUFycmF5ID0gRW5jb2RhYmxlW107XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZVR1cGxlID0gWy4uLkl0ZW1zOiBFbmNvZGFibGVbXV07XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZU9iamVjdCA9IFBhcnRpYWw8e1xuICBbSyBpbiBzdHJpbmcgfCBudW1iZXJdPzogRW5jb2RhYmxlO1xufT47XG5cbi8qKlxuICogQWxsIHBvc3NpYmxlIHZhbHVlcyB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCB3aXRoIEpTT04uXG4gKi9cbmV4cG9ydCB0eXBlIEVuY29kYWJsZSA9XG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCBFbmNvZGFibGVBcnJheVxuICB8IEVuY29kYWJsZVR1cGxlXG4gIHwgRW5jb2RhYmxlT2JqZWN0O1xuXG4vKipcbiAqIFRoZSBzaGFwZSBvZiB0aGUgZGF0YSB0aGF0IHdpbGwgY29tZSBiYWNrIHdoZW4gZGVjb2RpbmcgdGhlIGVuY29kZWQgdmFsdWUgb2YgYSB0eXBlLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGF0IG9ubHkgdGhlIHNoYXBlcyBwZXJtaXR0ZWQgYnkge0BsaW5rIEVuY29kYWJsZX0gYXJlIHNlcmlhbGl6ZWQuXG4gKiBPdGhlcndpc2Ugbm90IGlnbm9yZWQgc2luY2UgZnVuY3Rpb25zIGFyZSBpbiBmYWN0IHNlcmlhbGl6ZWQgYXMgYHt9YC5cbiAqL1xuZXhwb3J0IHR5cGUgRGVjb2RlZDxUID0gRW5jb2RhYmxlPiA9IEVuY29kYWJsZSBleHRlbmRzIFRcbiAgPyBFbmNvZGFibGVcbiAgOiBUIGV4dGVuZHMgdm9pZFxuICA/IHVuZGVmaW5lZCAvLyBGb3IgYW5ub3lpbmcgcmVhc29uLCBUeXBlU2NyaXB0IGRpZmZlcmVudGlhdGVzIGJldHdlZW4gYHVuZGVmaW5lZGAgYW5kIGB2b2lkYC4gV2Ugd2FudCBgdm9pZGAuXG4gIDogVCBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkXG4gID8gVFxuICA6IElzTmV2ZXI8Q29udmVydGVyVmFsdWU8VD4+IGV4dGVuZHMgZmFsc2VcbiAgPyBEZWNvZGVkPENvbnZlcnRlclZhbHVlPFQ+PlxuICA6IFQgZXh0ZW5kcyBhbnlbXVxuICA/IHsgW2luZGV4IGluIGtleW9mIFRdOiBEZWNvZGVkPFRbaW5kZXhdPiB9XG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XG4gID8gRGVjb2RlZDxUPltdXG4gIDogVCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gID8gdW5kZWZpbmVkXG4gIDogVCBleHRlbmRzIG9iamVjdFxuICA/IHtcbiAgICAgIC1yZWFkb25seSBbUCBpbiBrZXlvZiBUIGFzIFAgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXJcbiAgICAgICAgPyBEZWNvZGVkPFRbUF0+IGV4dGVuZHMgdW5kZWZpbmVkXG4gICAgICAgICAgPyBuZXZlclxuICAgICAgICAgIDogUFxuICAgICAgICA6IG5ldmVyXTogRGVjb2RlZDxUW1BdPjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogVGhlIGJyb2FkZXN0IHBvc3NpYmxlIHN1YnR5cGUgb2YgYSBnaXZlbiB0eXBlIHRoYXQgY2FuIGJlIHNlcmlhbGl6ZWQgYW5kIHRoZW4gZGVzZXJpYWxpemVkIHdpdGhvdXQgdmlvbGF0aW5nIHRoZSB0eXBlJ3MgY29udHJhY3QsXG4gKiB3aXRoIHRoZSBleGNlcHRpb24gb2Ygd2VsbC1rbm93biBzeW1ib2wgcHJvcGVydGllcy4gVGhvc2UgYXJlIGlnbm9yZWQuXG4gKlxuICogTm90IHZpb2xhdGluZyB0aGUgY29udHJhY3QgZG9lcyBub3QgbWVhbiB0aGF0IHRoZSB0eXBlIGNhbiBsb3NsZXNzbHkgYmUgc2VyaWFsaXplZCBhbmQgdGhlbiBkZXNlcmlhbGl6ZWQgYmFjay5cbiAqIEl0IGp1c3QgbWVhbnMgdGhhdCBpdHMgY29udHJhY3Qgd2lsbCBub3QgYmUgdmlvbGF0ZWQgaWYgdmFsdWVzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBvbWl0dGVkIG9yIGRlc2VyaWFsaXplZCBiYWNrIHRvIGFub3RoZXIgdmFsaWQgc3VidHlwZS5cbiAqIEZvciBleGFtcGxlLCBhbiBpdGVyYWJsZSB0aGF0IGlzIG5vdCBhbiBhcnJheSB3aWxsIGJlIGRlc2VyaWFsaXplZCBhcyBhbiBhcnJheS5cbiAqXG4gKiBJbiBwYXJ0aWN1bGFyIGZ1bmN0aW9ucyBvciBwcm9taXNlcyBhcmUgc2VyaWFsaXplZCBhcyBlbXB0eSBvYmplY3RzIGB7fWAsIGFuZCBjYW5ub3QgYmUgZGVzZXJpYWxpemVkIGJhY2suXG4gKiBUaGlzIG1lYW5zIHRoYXQgcmVxdWlyZWQgY29uc3RyYWludHMgb24gcHJvcGVydGllcyB0aGF0IG9ubHkgYWxsb3cgdGhlc2UgdHlwZXMgY2FuIG5ldmVyIGJlIG1ldC5cbiAqIFNpbWlsYXJseSwgYXJyYXlzIHRoZSBjYW4gb25seSBob2xkIGZ1bmN0aW9ucyBvciBwcm9taXNlcyBtdXN0IGJlIGVtcHR5IChgbmV2ZXJbXWApIHRvIHNhdGlzZnkgdGhlIHR5cGUgY29uc3RyYWludC5cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEVuY29kYWJsZUNvbnRyYWN0PFQgPSBFbmNvZGFibGU+ID0gRW5jb2RhYmxlIGV4dGVuZHMgVFxuICA/IEVuY29kYWJsZVxuICA6IFQgZXh0ZW5kcyB2b2lkXG4gID8gdW5kZWZpbmVkIC8vIEZvciBhbm5veWluZyByZWFzb25zLCBUeXBlU2NyaXB0IGRpZmZlcmVudGlhdGVzIGJldHdlZW4gYHVuZGVmaW5lZGAgYW5kIGB2b2lkYC4gV2Ugd2FudCBgdm9pZGAuXG4gIDogVCBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkIHwgdm9pZFxuICA/IFRcbiAgOiBJc05ldmVyPENvbnZlcnRlclZhbHVlPFQ+PiBleHRlbmRzIGZhbHNlXG4gID8gRW5jb2RhYmxlQ29udHJhY3Q8Q29udmVydGVyVmFsdWU8VD4+XG4gIDogVCBleHRlbmRzIGFueVtdXG4gID8geyBbaW5kZXggaW4ga2V5b2YgVF06IEVuY29kYWJsZUNvbnRyYWN0PFRbaW5kZXhdPiB9XG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGFueT5cbiAgPyBUXG4gIDogVCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gID8gdW5kZWZpbmVkXG4gIDogVCBleHRlbmRzIG9iamVjdFxuICA/IHtcbiAgICAgIC8vIEZ1biBmYWN0OiBUeXBlU2NyaXB0IGtlZXBzIG9wdGlvbmFsIHByb3BlcnRpZXMgaWYgd2UgaXRlcmF0ZSBrZXlvZiBQIGFuZCB0aGVuIGV4Y2x1ZGUgc3ltYm9scyB3aXRoIHRoZSBgZXh0ZW5kc2AgY29uc3RydWN0LlxuICAgICAgLy8gIGAoa2V5b2YgVCAmIHN5bWJvbClgIG9yIGBFeGNsdWRlIDxrZXlvZiBULCBzeW1ib2w+YCBtYWtlcyBhbGwgcHJvcGVydGllcyByZXF1aXJlZC4gKGB7IGE/OiB1bmRlZmluZWR9YCBiZWNvbWVzIGB7YTp1bmRlZmluZWR9YClcbiAgICAgIC8vIEtlZXBpbmcgb3B0aW9uYWwgYHVuZGVmaW5lZGAgcHJvcGVydGllcyBtZWFucyB0aGF0IHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHN0aWxsIGFsbG93ZWQgaW4gYSB0eXBlIGxpa2UgYHthKCk/OiBib29sZWFufWAsIGV2ZW4gdGhvdWdoIGZ1bmN0aW9ucyBhcmUgbm90IGFsbG93ZWQuXG4gICAgICBbUCBpbiBrZXlvZiBUIGFzIFAgZXh0ZW5kcyBzeW1ib2wgPyBuZXZlciA6IFBdOiBFbmNvZGFibGVDb250cmFjdDxUW1BdPjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIHZhbHVlIHRvIGFuIEhUVFAgcXVlcnlzdHJpbmcvaGVhZGVyIHNhZmUgc3RyaW5nLCB0aGF0IGlzLCBkb2VzIG5vdCBuZWVkIHRvIGJlIFVSSSBlc2NhcGVkLlxuICogVGhlIGZ1bmN0aW9uIGlzIGFuYWxvZ291cyB0byBgSlNPTi5zdHJpbmdpZnlgLCBleGNlcHQgdGhpcyBvbmUgYWxzbyBzdXBwb3J0cyByZWZlcmVuY2VzLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gYmluYXJ5IHdoZXRoZXIgdG8gc2VyaWFsaXplIHRvIGEgc3RyaW5nIChVUkwgc2FmZSBiYXNlIDY0KSBvciBVaW50OEFycmF5LiBAZGVmYXVsdCBmYWxzZVxuICpcbiAqIEByZXR1cm5zIFRoZSBIVFRQIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZhbHVlLlxuICovXG5leHBvcnQgdHlwZSBFbmNvZGVyID0ge1xuICA8QmluYXJ5IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlPihcbiAgICB2YWx1ZTogYW55LFxuICAgIGJpbmFyeT86IEJpbmFyeVxuICApOiBCaW5hcnkgZXh0ZW5kcyB0cnVlID8gVWludDhBcnJheSA6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIHZhbHVlIGVuY29kZWQgd2l0aCBhbiB7QGxpbmsgRW5jb2Rlcn0uXG4gKi9cbmV4cG9ydCB0eXBlIERlY29kZXIgPSA8VCA9IGFueT4oXG4gIGVuY29kZWQ6IHN0cmluZyB8IFVpbnQ4QXJyYXkgfCBOdWxsaXNoXG4pID0+IFQgfCB1bmRlZmluZWQ7XG5cbmNvbnN0IFJFRl9QUk9QID0gXCIkcmVmXCI7XG5cbmNvbnN0IGluY2x1ZGVWYWx1ZSA9IChrZXk6IGFueSwgdmFsdWU6IGFueSwgaW5jbHVkZURlZmF1bHRWYWx1ZXM6IGJvb2xlYW4pID0+XG4gIGlzU3ltYm9sKGtleSlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaW5jbHVkZURlZmF1bHRWYWx1ZXNcbiAgICA/IHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICA6IHZhbHVlID09PSBudWxsIHx8IHZhbHVlO1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIGluLW1lbW9yeSBvYmplY3QgdG8gYSBmb3JtYXQgdGhhdCBjYW4gYmUgc2VyaWFsaXplZCBvdmVyIGEgd2lyZSBpbmNsdWRpbmcgY3ljbGljIHJlZmVyZW5jZXMuXG4gKi9cbmNvbnN0IHNlcmlhbGl6ZSA9IDxNc2dwYWNrIGV4dGVuZHMgYm9vbGVhbj4oXG4gIHZhbHVlOiBhbnksXG4gIG1zZ3BhY2s6IE1zZ3BhY2ssXG4gIHsgZGVmYXVsdFZhbHVlcyA9IHRydWUsIHByZXR0aWZ5ID0gZmFsc2UgfVxuKTogTXNncGFjayBleHRlbmRzIHRydWUgPyBVaW50OEFycmF5IDogc3RyaW5nID0+IHtcbiAgbGV0IGNsZWFuZXJzOiAoKCkgPT4gdm9pZClbXSB8IHVuZGVmaW5lZDtcbiAgbGV0IHJlZnM6IE1hcDxhbnksIG51bWJlcj4gfCB1bmRlZmluZWQ7XG4gIGxldCByZWZJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBjb25zdCBwYXRjaFByb3BlcnR5ID0gKFxuICAgIHRhcmdldDogYW55LFxuICAgIGtleTogYW55LFxuICAgIHZhbHVlID0gdGFyZ2V0W2tleV0sXG4gICAgcGF0Y2hlZCA9IGluY2x1ZGVWYWx1ZShrZXksIHZhbHVlLCBkZWZhdWx0VmFsdWVzKSA/IGlubmVyKHZhbHVlKSA6IHVuZGVmaW5lZFxuICApID0+IChcbiAgICB2YWx1ZSAhPT0gcGF0Y2hlZCAmJlxuICAgICAgKHBhdGNoZWQgPT09IHVuZGVmaW5lZCAmJiAhaXNBcnJheSh0YXJnZXQpXG4gICAgICAgID8gZGVsZXRlIHRhcmdldFtrZXldXG4gICAgICAgIDogKHRhcmdldFtrZXldID0gcGF0Y2hlZCksXG4gICAgICBhZGRDbGVhbmVyKCgpID0+ICh0YXJnZXRba2V5XSA9IHZhbHVlKSkpLFxuICAgIHBhdGNoZWRcbiAgKTtcblxuICBjb25zdCBhZGRDbGVhbmVyID0gKGNsZWFuZXI6ICgpID0+IHZvaWQpID0+IChjbGVhbmVycyA/Pz0gW10pLnB1c2goY2xlYW5lcik7XG5cbiAgY29uc3QgaW5uZXIgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICgodmFsdWUgYXMgYW55KS50b0pTT04gJiYgdmFsdWUgIT09ICh2YWx1ZSA9ICh2YWx1ZSBhcyBhbnkpLnRvSlNPTigpKSkge1xuICAgICAgcmV0dXJuIGlubmVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoKHJlZkluZGV4ID0gcmVmcz8uZ2V0KHZhbHVlKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKCF2YWx1ZVtSRUZfUFJPUF0pIHtcbiAgICAgICAgLy8gT25seSBhc3NpZ24gSUQgcGFyYW1ldGVyIGlmIHVzZWQuXG4gICAgICAgIHZhbHVlW1JFRl9QUk9QXSA9IHJlZkluZGV4O1xuICAgICAgICBhZGRDbGVhbmVyKCgpID0+IGRlbGV0ZSB2YWx1ZVtSRUZfUFJPUF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgW1JFRl9QUk9QXTogcmVmSW5kZXggfTtcbiAgICB9XG5cbiAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIChyZWZzID8/PSBuZXcgTWFwKCkpLnNldCh2YWx1ZSwgcmVmcy5zaXplICsgMSk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkgcGF0Y2hQcm9wZXJ0eSh2YWx1ZSwga2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgLy8gQXJyYXkgd2l0aCB1bmRlZmluZWQgdmFsdWVzIG9yIGl0ZXJhYmxlICh3aGljaCBpcyBtYWRlIGludG8gYXJyYXkuKS4gKFssMSwyLDNdIGRvZXMgbm90IHJldmVhbCBpdHMgZmlyc3QgZW50cnkpLlxuICAgICAgKCFpc0FycmF5KHZhbHVlKSB8fCBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoIDwgdmFsdWUubGVuZ3RoXG4gICAgICAgID8gWy4uLih2YWx1ZSBhcyBhbnkpXVxuICAgICAgICA6IHZhbHVlXG4gICAgICApLmZvckVhY2goKF8sIGkpID0+XG4gICAgICAgIGkgaW4gdmFsdWVcbiAgICAgICAgICA/IHBhdGNoUHJvcGVydHkodmFsdWUsIGkpXG4gICAgICAgICAgOiAvLyBIYW5kbGUgYXJyYXlzIGxpa2UgW3ZhbHVlMSwsdmFsdWUzLHZhbHVlNCwsLHZhbHVlNl0uIFRoZSBtaXNzaW5nIGVsZW1lbnRzIGRvZXMgbm90IHNlcmlhbGl6ZSB3ZWxsIHdpdGggbXNncGFjay5cbiAgICAgICAgICAgICgodmFsdWVbaV0gPSBudWxsKSwgYWRkQ2xlYW5lcigoKSA9PiBkZWxldGUgdmFsdWVbaV0pKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIHRyeUNhdGNoKFxuICAgICgpID0+XG4gICAgICBtc2dwYWNrXG4gICAgICAgID8gKG1zZ1NlcmlhbGl6ZShpbm5lcih2YWx1ZSkgPz8gbnVsbCkgYXMgYW55KVxuICAgICAgICA6IHRyeUNhdGNoKFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIHVuZGVmaW5lZCwgcHJldHRpZnkgPyAyIDogMCksXG4gICAgICAgICAgICAoKSA9PiBKU09OLnN0cmluZ2lmeShpbm5lcih2YWx1ZSksIHVuZGVmaW5lZCwgcHJldHRpZnkgPyAyIDogMClcbiAgICAgICAgICApLFxuICAgIHRydWUsXG4gICAgKCkgPT4gY2xlYW5lcnM/LmZvckVhY2goKGNsZWFuZXIpID0+IGNsZWFuZXIoKSlcbiAgKTtcbn07XG5cbi8qKlxuICogSHlkcmF0ZXMgdGhlIGZvcm1hdCByZXR1cm5lZCBieSB7QGxpbmsgc2VyaWFsaXplfSBiYWNrIHRvIGl0cyBvcmlnaW5hbCBpbi1tZW1vcnkgZm9ybWF0LlxuICovXG5jb25zdCBkZXNlcmlhbGl6ZSA9ICh2YWx1ZTogc3RyaW5nIHwgVWludDhBcnJheSkgPT4ge1xuICBsZXQgcmVmczogYW55W10gfCB1bmRlZmluZWQ7XG4gIGxldCBtYXRjaGVkUmVmOiBhbnk7XG5cbiAgY29uc3QgaW5uZXIgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cbiAgICBpZiAodmFsdWVbUkVGX1BST1BdICYmIChtYXRjaGVkUmVmID0gKHJlZnMgPz89IFtdKVt2YWx1ZVtSRUZfUFJPUF1dKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZWRSZWY7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlW1JFRl9QUk9QXSkge1xuICAgICAgcmVmcyFbdmFsdWVbUkVGX1BST1BdXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIHZhbHVlW1JFRl9QUk9QXTtcbiAgICB9XG5cbiAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaChcbiAgICAgIChbaywgdl0pID0+IHYgIT09ICh2ID0gaW5uZXIodikpICYmICh2YWx1ZVtrXSA9IHYpXG4gICAgKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gaW5uZXIoXG4gICAgaXNTdHJpbmcodmFsdWUpXG4gICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICgpID0+IEpTT04ucGFyc2UodmFsdWUgYXMgYW55KSxcbiAgICAgICAgICAoKSA9PiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBJbnZhbGlkIEpTT04gcmVjZWl2ZWQuYCwgdmFsdWUsIG5ldyBFcnJvcigpLnN0YWNrKSxcbiAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgOiB2YWx1ZSAhPSBudWxsXG4gICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICgpID0+IG1zZ0Rlc2VyaWFsaXplKHZhbHVlIGFzIGFueSksXG4gICAgICAgICAgKCkgPT4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgbWVzc2FnZSByZWNlaXZlZC5gLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbmV3IEVycm9yKCkuc3RhY2tcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIDogdmFsdWVcbiAgKTtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydCA9IFtcbiAgZW5jb2RlOiBFbmNvZGVyLFxuICBkZWNvZGU6IERlY29kZXIsXG4gIGhhc2g6IEhhc2hGdW5jdGlvbjxhbnk+XG5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydE9wdGlvbnMge1xuICAvKipcbiAgICogU2VyaWFsaXplL2Rlc2VyaWFsaXplIGFzIEpTT04uXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBqc29uPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogT21pdCBmYWxzaXNoIHZhbHVlcyAoYFwiXCJgLCBgMGAgYW5kIGBmYWxzZWApIHVubGVzcyBleHBsaWNpdGx5IHNldCB0byBgbnVsbGAuXG4gICAqXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGRlZmF1bHRWYWx1ZXM/OiBib29sZWFuO1xuXG4gIC8qKiBJbmRlbnQgSlNPTiBlbmNvZGVkIHN0cmluZ3MuIEBkZWZhdWx0IHRydWUgKi9cbiAgcHJldHRpZnk/OiBib29sZWFuO1xuXG4gIC8qKiBBbGxvdyByZWNlaXZlZCBtZXNzYWdlcyB0byBiZSBKU09OLiAqL1xuICBkZWNvZGVKc29uPzogYm9vbGVhbjtcbn1cblxubGV0IF9kZWZhdWx0VHJhbnNwb3J0czogW2NpcGhlcjogVHJhbnNwb3J0LCBqc29uOiBUcmFuc3BvcnRdIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBDcmVhdGVzIGEgcGFpciBvZiB7QGxpbmsgRW5jb2Rlcn0gYW5kIHtAbGluayBEZWNvZGVyfXMgYXMgd2VsbCBhcyBhIHtAbGluayBIYXNoRnVuY3Rpb248c3RyaW5nPn0uXG4gKiBNZXNzYWdlUGFjayBpcyB1c2VkIGZvciBzZXJpYWxpemF0aW9uLCB7QGxpbmsgbGZzcn0gZW5jcnlwdGlvbiBpcyBvcHRpb25hbGx5IHVzZWQgaWYgYSBrZXkgaXMgc3BlY2lmaWVkLCBhbmQgdGhlIGlucHV0IGFuZCBvdXRwdXRzIGFyZSBCYXNlNjRVUkwgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRyYW5zcG9ydCA9IChcbiAga2V5Pzogc3RyaW5nIHwgTnVsbGlzaCxcbiAgb3B0aW9uczogVHJhbnNwb3J0T3B0aW9ucyA9IHt9XG4pOiBUcmFuc3BvcnQgPT4ge1xuICBjb25zdCBmYWN0b3J5ID0gKFxuICAgIGtleTogc3RyaW5nIHwgTnVsbGlzaCxcbiAgICB7IGpzb24gPSBmYWxzZSwgZGVjb2RlSnNvbiA9IGZhbHNlLCAuLi5zZXJpYWxpemVPcHRpb25zIH06IFRyYW5zcG9ydE9wdGlvbnNcbiAgKTogVHJhbnNwb3J0ID0+IHtcbiAgICBjb25zdCBmYXN0U3RyaW5nSGFzaCA9ICh2YWx1ZTogYW55LCBiaXRzT3JOdW1lcmljOiBhbnkpID0+IHtcbiAgICAgIGlmIChpc051bWJlcih2YWx1ZSkgJiYgYml0c09yTnVtZXJpYyA9PT0gdHJ1ZSkgcmV0dXJuIHZhbHVlO1xuXG4gICAgICB2YWx1ZSA9IGlzU3RyaW5nKHZhbHVlKVxuICAgICAgICA/IG5ldyBVaW50OEFycmF5KG1hcDIodmFsdWUubGVuZ3RoLCAoaSkgPT4gdmFsdWUuY2hhckNvZGVBdChpKSAmIDI1NSkpXG4gICAgICAgIDoganNvblxuICAgICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpLFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplKHZhbHVlLCBmYWxzZSwgc2VyaWFsaXplT3B0aW9ucykpXG4gICAgICAgICAgKVxuICAgICAgICA6IHNlcmlhbGl6ZSh2YWx1ZSwgdHJ1ZSwgc2VyaWFsaXplT3B0aW9ucyk7XG4gICAgICByZXR1cm4gaGFzaCh2YWx1ZSwgYml0c09yTnVtZXJpYyk7XG4gICAgfTtcbiAgICBjb25zdCBqc29uRGVjb2RlID0gKGVuY29kZWQ6IGFueSkgPT5cbiAgICAgIGVuY29kZWQgPT0gbnVsbFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRyeUNhdGNoKCgpID0+IGRlc2VyaWFsaXplKGVuY29kZWQpLCB1bmRlZmluZWQpO1xuICAgIGlmIChqc29uKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAoZGF0YTogYW55KSA9PiBzZXJpYWxpemUoZGF0YSwgZmFsc2UsIHNlcmlhbGl6ZU9wdGlvbnMpIGFzIGFueSxcbiAgICAgICAganNvbkRlY29kZSxcbiAgICAgICAgKHZhbHVlOiBhbnksIG51bWVyaWNPckJpdHM/OiBhbnkpID0+XG4gICAgICAgICAgZmFzdFN0cmluZ0hhc2godmFsdWUsIG51bWVyaWNPckJpdHMpIGFzIGFueSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IFtlbmNyeXB0LCBkZWNyeXB0LCBoYXNoXSA9IGxmc3Ioa2V5KTtcblxuICAgIHJldHVybiBbXG4gICAgICAoZGF0YTogYW55LCBiaW5hcnkpID0+XG4gICAgICAgIChiaW5hcnkgPyBJREVOVElUWSA6IHRvNjR1KShcbiAgICAgICAgICBlbmNyeXB0KHNlcmlhbGl6ZShkYXRhLCB0cnVlLCBzZXJpYWxpemVPcHRpb25zKSlcbiAgICAgICAgKSBhcyBhbnksXG4gICAgICAoZW5jb2RlZDogYW55KSA9PlxuICAgICAgICBlbmNvZGVkICE9IG51bGxcbiAgICAgICAgICA/IGRlc2VyaWFsaXplKFxuICAgICAgICAgICAgICBkZWNyeXB0KFxuICAgICAgICAgICAgICAgIGVuY29kZWQgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICAgICAgICA/IGVuY29kZWRcbiAgICAgICAgICAgICAgICAgIDogZGVjb2RlSnNvbiAmJiBpc0pzb25TdHJpbmcoZW5jb2RlZClcbiAgICAgICAgICAgICAgICAgID8ganNvbkRlY29kZShlbmNvZGVkKVxuICAgICAgICAgICAgICAgICAgOiBmcm9tNjR1KGVuY29kZWQpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAodmFsdWU6IGFueSwgbnVtZXJpY09yQml0cz86IGFueSkgPT5cbiAgICAgICAgZmFzdFN0cmluZ0hhc2godmFsdWUsIG51bWVyaWNPckJpdHMpIGFzIGFueSxcbiAgICBdO1xuICB9O1xuXG4gIGlmICgha2V5KSB7XG4gICAgbGV0IGpzb24gPSArKG9wdGlvbnMuanNvbiA/PyAwKTtcbiAgICBpZiAoanNvbiAmJiBvcHRpb25zLnByZXR0aWZ5ICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIChfZGVmYXVsdFRyYW5zcG9ydHMgPz89IFtcbiAgICAgICAgZmFjdG9yeShudWxsLCB7IGpzb246IGZhbHNlIH0pLFxuICAgICAgICBmYWN0b3J5KG51bGwsIHsganNvbjogdHJ1ZSwgcHJldHRpZnk6IHRydWUgfSksXG4gICAgICBdKVsranNvbl07XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWN0b3J5KGtleSwgb3B0aW9ucyk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRyYW5zcG9ydCA9IGNyZWF0ZVRyYW5zcG9ydCgpO1xuLyoqIEEgdHJhbnNwb3J0IHRoYXQgZW5jcnlwdHMgYW5kIGRlY3J5cHRzIG1lc3NhZ2VzLCBidXQgYWxzbyBhbGxvd3MgcGxhaW4gSlNPTiBtZXNzYWdlIHRvIGJlIGRlY29kZWQuICAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRKc29uRGVjb2RlVHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KG51bGwsIHtcbiAganNvbjogdHJ1ZSxcbiAgZGVjb2RlSnNvbjogdHJ1ZSxcbn0pO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRKc29uVHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KG51bGwsIHtcbiAganNvbjogdHJ1ZSxcbiAgcHJldHRpZnk6IHRydWUsXG59KTtcblxuZXhwb3J0IGNvbnN0IFtodHRwRW5jb2RlLCBodHRwRGVjb2RlLCBoYXNoXSA9IGRlZmF1bHRUcmFuc3BvcnQ7XG5leHBvcnQgY29uc3QgW2pzb25FbmNvZGUsIGpzb25EZWNvZGVdID0gZGVmYXVsdEpzb25UcmFuc3BvcnQ7XG4iLCJpbXBvcnQgeyBQQVRDSF9FVkVOVF9QT1NURklYIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcblxuaW1wb3J0IHtcbiAgRXZlbnRQYXRjaCxcbiAgUG9zdFJlcXVlc3QsXG4gIFBvc3RSZXNwb25zZSxcbiAgVHJhY2tlZEV2ZW50LFxuICBjbGVhck1ldGFkYXRhLFxuICBpc0V2ZW50UGF0Y2gsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGLFxuICBOdWxsaXNoLFxuICBUb2dnbGVBcnJheSxcbiAgYXJyYXkyLFxuICBjbG9jayxcbiAgY2xvbmUsXG4gIGNvbmNhdCxcbiAgY291bnQsXG4gIGRpZmYsXG4gIGZvckVhY2gyLFxuICBpc1N0cmluZyxcbiAgaXRlbWl6ZTIsXG4gIG1hcDIsXG4gIG1lcmdlLFxuICBtZXJnZTIsXG4gIG5vdyxcbiAgcGx1cmFsaXplLFxuICBwdXNoLFxuICBza2lwMixcbiAgc3RydWN0dXJhbEVxdWFscyxcbiAgdGhyb3dFcnJvcixcbiAgdW5zaGlmdCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHtcbiAgRVZFTlRfUE9TVF9GUkVRVUVOQ1ksXG4gIFRyYWNrZXJDb250ZXh0LFxuICBhZGRQYWdlVmlzaWJsZUxpc3RlbmVyLFxuICBjaGlsZEdyb3VwcyxcbiAgZGVidWcsXG4gIHJlcXVlc3QsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBVbmxvY2tBcGlDb21tYW5kIH0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRRdWV1ZVBvc3RPcHRpb25zIHtcbiAgZmx1c2g/OiBib29sZWFuO1xuICBhc3luYz86IGJvb2xlYW47XG4gIHZhcmlhYmxlcz86IFBvc3RSZXF1ZXN0W1widmFyaWFibGVzXCJdO1xufVxuXG5leHBvcnQgdHlwZSBQcm90ZWN0ZWRFdmVudCA9IFRyYWNrZWRFdmVudCAmIFVubG9ja0FwaUNvbW1hbmQ7XG5cbmNvbnN0IHBvc3RDYWxsYmFja3MgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCByZWdpc3RlclBvc3RDYWxsYmFjayA9IDxUIGV4dGVuZHMgVHJhY2tlZEV2ZW50PihcbiAgZXY6IFQsXG4gIGNhbGxiYWNrOiAoZXY6IFQpID0+IGJvb2xlYW4gfCB2b2lkXG4pID0+ICgoZXZbcG9zdENhbGxiYWNrc10gPz89IG5ldyBTZXQoKSkuYWRkKGNhbGxiYWNrKSwgZXYpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50UXVldWUge1xuICAvKipcbiAgICogUG9zdHMgZXZlbnRzIHRvIHRoZSBzZXJ2ZXIuIERvIG5vdCBwb3N0IGV2ZW50IHBhdGNoZXMgdXNpbmcgdGhpcyBtZXRob2QuIFVzZSB7QGxpbmsgcG9zdFBhdGNofSBpbnN0ZWFkLlxuICAgKiBJZiBmbHVzaCBpcyBub3QgZXhwbGljaXRseSByZXF1ZXN0ZWQsIHRoZSBldmVudCB3aWxsIGV2ZW50dWFsbHkgZ2V0IHBvc3RlZCwgZWl0aGVyIGJ5IHRoZSBjb25maWd1cmVkIHBvc3QgZnJlcXVlbmN5LCBvciB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGUgdGFiLlxuICAgKi9cbiAgcG9zdDxcbiAgICBUIGV4dGVuZHMgVG9nZ2xlQXJyYXk8UHJvdGVjdGVkRXZlbnQ+LFxuICAgIE9wdGlvbnMgZXh0ZW5kcyBFdmVudFF1ZXVlUG9zdE9wdGlvbnMgfCB1bmRlZmluZWRcbiAgPihcbiAgICBldmVudHM6IFQsXG4gICAgb3B0aW9ucz86IE9wdGlvbnNcbiAgKTogUHJvbWlzZTxPcHRpb25zIGV4dGVuZHMgeyBhc3luYzogZmFsc2UgfSA/IFBvc3RSZXNwb25zZSA6IHZvaWQ+O1xuXG4gIC8qKlxuICAgKiAgUG9zdHMgYSBwYXRjaCB0byBhbiBleGlzdGluZyBldmVudC5cbiAgICovXG4gIHBvc3RQYXRjaDxUIGV4dGVuZHMgUHJvdGVjdGVkRXZlbnQ+KFxuICAgIHRhcmdldDogVCxcbiAgICBwYXRjaDogRXZlbnRQYXRjaERhdGE8VD4sXG4gICAgZmx1c2g/OiBib29sZWFuXG4gICk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIHBhc3NpdmUgZXZlbnQuXG4gICAqXG4gICAqIFRoZSBzb3VyY2Ugd2lsbCBnZXQgaW52b2tlZCB3aGVuZXZlciB0aGUgdGFiIGJlY29tZXMgZGVhY3RpdmF0ZWQuIElmIHRoZSBzb3VyY2UgcmV0dXJucyB1bmRlZmluZWQgb3IgZmFsc2UsIHRoZSBzb3VyY2UgaXMgdW5yZWdpc3RlcmVkLlxuICAgKiBUaGUgcmV0dXJuIHZhbHVlIGlzIGEgZnVuY3Rpb24gdG8gbWFudWFsbHkgdW5yZWdpc3RlciB0aGUgc291cmNlLlxuICAgKi9cbiAgcmVnaXN0ZXJFdmVudFBhdGNoU291cmNlPFQgZXh0ZW5kcyBQcm90ZWN0ZWRFdmVudD4oXG4gICAgc291cmNlRXZlbnQ6IFQsXG4gICAgc291cmNlOiBFdmVudFBhdGNoU291cmNlPFQ+LFxuICAgIGluaXRpYWxQb3N0PzogYm9vbGVhbixcbiAgICByZWxhdGVkTm9kZT86IE5vZGVcbiAgKTogKCkgPT4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgdHlwZSBFdmVudFBhdGNoRGF0YTxUIGV4dGVuZHMgUHJvdGVjdGVkRXZlbnQ+ID0gT21pdDxcbiAgRXZlbnRQYXRjaDxUPixcbiAgXCJwYXRjaFRhcmdldElkXCIgfCBcIm1ldGFkYXRhXCIgfCBcInR5cGVcIlxuPiAmIHsgdHlwZT86IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgdHlwZSBFdmVudFBhdGNoU291cmNlPFQgZXh0ZW5kcyBQcm90ZWN0ZWRFdmVudCA9IFByb3RlY3RlZEV2ZW50PiA9IChcbiAgY3VycmVudDogRXZlbnRQYXRjaERhdGE8VD4sXG4gIHVuYmluZDogKCkgPT4gdW5kZWZpbmVkXG4pID0+IEV2ZW50UGF0Y2hEYXRhPFQ+IHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRXZlbnRRdWV1ZSA9IChcbiAgdXJsOiBzdHJpbmcsXG4gIGNvbnRleHQ6IFRyYWNrZXJDb250ZXh0LFxuICBwb3N0RnJlcXVlbmN5ID0gRVZFTlRfUE9TVF9GUkVRVUVOQ1lcbik6IEV2ZW50UXVldWUgPT4ge1xuICB0eXBlIEZhY3RvcnkgPSAoKSA9PiBbZXZlbnQ6IEV2ZW50UGF0Y2ggfCB1bmRlZmluZWQsIHVuYmluZGluZzogYm9vbGVhbl07XG4gIGNvbnN0IHF1ZXVlOiBQcm90ZWN0ZWRFdmVudFtdID0gW107XG5cbiAgY29uc3Qgc25hcHNob3RzID0gbmV3IFdlYWtNYXA8UHJvdGVjdGVkRXZlbnQsIGFueT4oKTtcbiAgY29uc3Qgc291cmNlcyA9IG5ldyBNYXA8UHJvdGVjdGVkRXZlbnQsIEZhY3Rvcnk+KCk7XG5cbiAgY29uc3QgbWFwUGF0Y2hUYXJnZXQgPSA8VCBleHRlbmRzIFByb3RlY3RlZEV2ZW50PihcbiAgICBzb3VyY2VFdmVudDogVCxcbiAgICBwYXRjaDogRXZlbnRQYXRjaERhdGE8VD4gfCB1bmRlZmluZWRcbiAgKTogRXZlbnRQYXRjaDxUPiA9PlxuICAgICFzb3VyY2VFdmVudC5tZXRhZGF0YT8ucXVldWVkXG4gICAgICA/IHRocm93RXJyb3IoXCJTb3VyY2UgZXZlbnQgbm90IHF1ZXVlZC5cIilcbiAgICAgIDogKG1lcmdlKHBhdGNoLCB7XG4gICAgICAgICAgdHlwZTogc291cmNlRXZlbnQudHlwZSArIFBBVENIX0VWRU5UX1BPU1RGSVgsXG4gICAgICAgICAgcGF0Y2hUYXJnZXRJZDogc291cmNlRXZlbnQuY2xpZW50SWQsXG4gICAgICAgIH0pIGFzIGFueSk7XG5cbiAgY29uc3QgdXBkYXRlU25hcHNob3QgPSAoZXY6IFByb3RlY3RlZEV2ZW50KSA9PiB7XG4gICAgc25hcHNob3RzLnNldChldiwgY2xvbmUoZXYpKTtcbiAgfTtcblxuICBjb25zdCByZWdpc3RlckV2ZW50UGF0Y2hTb3VyY2UgPSA8VCBleHRlbmRzIFByb3RlY3RlZEV2ZW50PihcbiAgICBzb3VyY2VFdmVudDogUHJvdGVjdGVkRXZlbnQsXG4gICAgc291cmNlOiBFdmVudFBhdGNoU291cmNlPFQ+LFxuICAgIGluaXRpYWxQb3N0ID0gZmFsc2UsXG4gICAgcmVsYXRlZE5vZGU/OiBOb2RlXG4gICkgPT4ge1xuICAgIGxldCB1bmJpbmRpbmcgPSBmYWxzZTtcbiAgICBjb25zdCB1bmJpbmQgPSAoKTogdW5kZWZpbmVkID0+IHtcbiAgICAgIHVuYmluZGluZyA9IHRydWU7XG4gICAgfTtcbiAgICB1cGRhdGVTbmFwc2hvdChzb3VyY2VFdmVudCk7XG4gICAgcmVnaXN0ZXJQb3N0Q2FsbGJhY2soc291cmNlRXZlbnQsIHVwZGF0ZVNuYXBzaG90KTtcbiAgICBjb25zdCBmYWN0b3J5OiBGYWN0b3J5ID0gKCkgPT4ge1xuICAgICAgaWYgKHJlbGF0ZWROb2RlPy5pc0Nvbm5lY3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdW5iaW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IHNuYXBzaG90cy5nZXQoc291cmNlRXZlbnQpO1xuICAgICAgICBjb25zdCBwYXRjaGVkID0gc291cmNlKHNuYXBzaG90LCB1bmJpbmQpO1xuICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICB7IGRpZmY6IHsgc25hcHNob3QsIHBhdGNoZWQgfSwgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrIH0sXG4gICAgICAgICAgXCJQYXRjaCBcIiArIHNuYXBzaG90LnR5cGVcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgW2RlbHRhLCBjdXJyZW50XSA9IGRpZmYocGF0Y2hlZCwgc25hcHNob3QpID8/IFtdO1xuXG4gICAgICAgIGlmIChkZWx0YSAmJiAhc3RydWN0dXJhbEVxdWFscyhjdXJyZW50LCBzbmFwc2hvdCkpIHtcbiAgICAgICAgICAvLyBUaGUgbmV3IFwiY3VycmVudFwiIGRpZmZlcnMgZnJvbSB0aGUgcHJldmlvdXMuXG5cbiAgICAgICAgICBzbmFwc2hvdHMuc2V0KHNvdXJjZUV2ZW50LCBjbG9uZShjdXJyZW50KSk7XG4gICAgICAgICAgLy8gQWRkIHBhdGNoIHRhcmdldCBJRCBhbmQgdGhlIGNvcnJlY3QgZXZlbnQgdHlwZSB0byB0aGUgZGVsdGEgZGF0YSBiZWZvcmUgd2UgcmV0dXJuIGl0LlxuICAgICAgICAgIHJldHVybiBbbWFwUGF0Y2hUYXJnZXQoc291cmNlRXZlbnQsIGRlbHRhKSBhcyBhbnksIHVuYmluZGluZ107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuYmluZGluZ107XG4gICAgfTtcbiAgICBzb3VyY2VzLnNldChzb3VyY2VFdmVudCwgZmFjdG9yeSk7XG4gICAgaWYgKGluaXRpYWxQb3N0KSB7XG4gICAgICBwb3N0KHNvdXJjZUV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHVuYmluZDtcbiAgfTtcblxuICBjb25zdCBwb3N0RXZlbnRzID0gYXN5bmMgPEJlYWNvbj4oXG4gICAgZXZlbnRzOlxuICAgICAgfCBQcm90ZWN0ZWRFdmVudFtdXG4gICAgICB8IFthcGlLZXk6IHN0cmluZyB8IE51bGxpc2gsIGV2ZW50czogUHJvdGVjdGVkRXZlbnRbXV0sXG4gICAgYmVhY29uOiBCZWFjb24gPSB0cnVlIGFzIGFueSxcbiAgICB2YXJpYWJsZXM6IGFueVxuICApOiBQcm9taXNlPEJlYWNvbiBleHRlbmRzIHRydWUgPyB2b2lkIDogUG9zdFJlc3BvbnNlPiA9PiB7XG4gICAgbGV0IGtleTogc3RyaW5nIHwgTnVsbGlzaDtcbiAgICBpZiAoIWV2ZW50c1swXSB8fCBpc1N0cmluZyhldmVudHNbMF0pKSB7XG4gICAgICBrZXkgPSBldmVudHNbMF07XG4gICAgICBldmVudHMgPSBldmVudHMuc2xpY2UoMSkgYXMgYW55O1xuICAgIH1cbiAgICBldmVudHMgPSBtYXAyKGV2ZW50cywgKGV2OiBhbnkpID0+IHtcbiAgICAgIGNvbnRleHQ/LnZhbGlkYXRlS2V5KGtleSA/PyBldi5rZXkpO1xuICAgICAgLy8gVXBkYXRlIG1ldGFkYXRhIGluIHRoZSBzb3VyY2UgZXZlbnQsXG4gICAgICAvLyBhbmQgc2VuZCBhIGNsb25lIG9mIHRoZSBldmVudCB3aXRob3V0IGNsaWVudCBtZXRhZGF0YSwgYW5kIGl0cyB0aW1lc3RhbXAgaW4gcmVsYXRpdmUgdGltZVxuICAgICAgLy8gKHRoZSBzZXJ2ZXIgZXhwZWN0cyB0aGlzLCBhbmQgd2lsbCBhZGp1c3QgYWNjb3JkaW5nbHkgdG8gaXRzIG93biB0aW1lKS5cbiAgICAgIG1lcmdlKGV2LCB7IG1ldGFkYXRhOiB7IHBvc3RlZDogdHJ1ZSB9IH0pO1xuICAgICAgaWYgKGV2W3Bvc3RDYWxsYmFja3NdKSB7XG4gICAgICAgIGNvbnN0IGFib3J0ID0gZm9yRWFjaDIoXG4gICAgICAgICAgZXZbcG9zdENhbGxiYWNrc10sXG4gICAgICAgICAgKGNhbGxiYWNrLCBfLCBhYm9ydCkgPT4gY2FsbGJhY2soZXYpID09PSBmYWxzZSB8fCBhYm9ydCxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgICBpZiAoYWJvcnQpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBldltwb3N0Q2FsbGJhY2tzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lcmdlKGNsZWFyTWV0YWRhdGEoY2xvbmUoZXYpLCB0cnVlKSwge1xuICAgICAgICB0aW1lc3RhbXA6IGV2LnRpbWVzdGFtcCEgLSBub3coKSxcbiAgICAgIH0pO1xuICAgIH0pIGFzIFByb3RlY3RlZEV2ZW50W107XG5cbiAgICBkZWJ1ZyhcbiAgICAgIHsgW2NoaWxkR3JvdXBzXTogbWFwMihldmVudHMsIChldjogUHJvdGVjdGVkRXZlbnQpID0+IFtldiwgZXYudHlwZSwgRl0pIH0sXG4gICAgICBcIlBvc3RpbmcgXCIgK1xuICAgICAgICBpdGVtaXplMihbXG4gICAgICAgICAgcGx1cmFsaXplKFwibmV3IGV2ZW50XCIsIFtcbiAgICAgICAgICAgIGNvdW50KGV2ZW50cywgKGV2KSA9PiAhaXNFdmVudFBhdGNoKGV2KSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIHBsdXJhbGl6ZShcImV2ZW50IHBhdGNoXCIsIFtcbiAgICAgICAgICAgIGNvdW50KGV2ZW50cywgKGV2KSA9PiBpc0V2ZW50UGF0Y2goZXYpKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgXSksXG4gICAgICAgIF0pICtcbiAgICAgICAgKGJlYWNvbiA/IFwiIGFzeW5jaHJvbm91c2x5XCIgOiBcIiBzeW5jaHJvbm91c2x5XCIpICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlcXVlc3Q8UG9zdFJlcXVlc3Q+KFxuICAgICAgdXJsLFxuICAgICAge1xuICAgICAgICBldmVudHMsXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgZGV2aWNlU2Vzc2lvbklkOiBjb250ZXh0Py5kZXZpY2VTZXNzaW9uSWQsXG4gICAgICB9LFxuICAgICAgeyBiZWFjb246IGJlYWNvbiBhcyBhbnkgfVxuICAgICkgYXMgYW55O1xuICB9O1xuXG4gIGNvbnN0IHBvc3QgPSBhc3luYyAoXG4gICAgZXZlbnRzOiBUb2dnbGVBcnJheTxQcm90ZWN0ZWRFdmVudD4sXG4gICAgeyBmbHVzaCA9IGZhbHNlLCBhc3luYyA9IHRydWUsIHZhcmlhYmxlcyB9OiBFdmVudFF1ZXVlUG9zdE9wdGlvbnMgPSB7fVxuICApOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IG5ld0V2ZW50czogUHJvdGVjdGVkRXZlbnRbXSA9IFtdO1xuXG4gICAgZXZlbnRzID0gbWFwMihcbiAgICAgIGFycmF5MihldmVudHMpLFxuICAgICAgKGV2ZW50KSA9PiAoXG4gICAgICAgICFldmVudC5tZXRhZGF0YT8ucXVldWVkICYmIHB1c2gobmV3RXZlbnRzLCBldmVudCksXG4gICAgICAgIG1lcmdlMihjb250ZXh0LmFwcGx5RXZlbnRFeHRlbnNpb25zKGV2ZW50KSwge1xuICAgICAgICAgIG1ldGFkYXRhOiB7IHF1ZXVlZDogdHJ1ZSB9LFxuICAgICAgICB9KSA/PyBza2lwMlxuICAgICAgKVxuICAgICkgYXMgUHJvdGVjdGVkRXZlbnRbXTtcblxuICAgIGZvckVhY2gyKG5ld0V2ZW50cywgKGV2ZW50KSA9PiBkZWJ1ZyhldmVudCwgZXZlbnQudHlwZSkpO1xuXG4gICAgaWYgKCFhc3luYykge1xuICAgICAgcmV0dXJuIHBvc3RFdmVudHMoZXZlbnRzLCBmYWxzZSwgdmFyaWFibGVzKTtcbiAgICB9XG4gICAgaWYgKCFmbHVzaCkge1xuICAgICAgZXZlbnRzLmxlbmd0aCAmJiBwdXNoKHF1ZXVlLCAuLi5ldmVudHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHVuc2hpZnQoZXZlbnRzIGFzIGFueSwgLi4ucXVldWUuc3BsaWNlKDApKTtcbiAgICB9XG5cbiAgICBpZiAoIWV2ZW50cy5sZW5ndGgpIHJldHVybjtcblxuICAgIGF3YWl0IHBvc3RFdmVudHMoZXZlbnRzLCB0cnVlLCB2YXJpYWJsZXMpO1xuICB9O1xuXG4gIHBvc3RGcmVxdWVuY3kgPiAwICYmIGNsb2NrKCgpID0+IHBvc3QoW10sIHsgZmx1c2g6IHRydWUgfSksIHBvc3RGcmVxdWVuY3kpO1xuXG4gIGFkZFBhZ2VWaXNpYmxlTGlzdGVuZXIoKHZpc2libGUsIHVubG9hZGluZywgZGVsdGEpID0+IHtcbiAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgdGFiIGhhcyBvbmx5IGJlZW4gdmlzaWJsZSBmb3IgbGVzcyB0aGFuIGEgc2Vjb25kIGFuZCBhIGhhbGYuXG4gICAgLy8gTW9yZSB0aGFuIHRoYXQgdGhlIHVzZXIgaXMgcHJvYmFibHkganVzdCBzd2l0Y2hpbmcgYmV0d2VlbiB0YWJzIG1vdmluZyBwYXN0IHRoaXMgb25lLlxuICAgIC8vIE5PVEU6IChUaGlzIG51bWJlciBzaG91bGQgcHJlZmVyYWJseSBiZSBiZXR0ZXIgcXVhbGlmaWVkLiBXZSBjb3VsZCBhbHNvIGxvb2sgaW50byB1c2VyIGFjdGl2YXRpb24gZXZlbnRzKS5cbiAgICBpZiAoIXZpc2libGUgJiYgKHF1ZXVlLmxlbmd0aCB8fCB1bmxvYWRpbmcgfHwgZGVsdGEgPiAxNTAwKSkge1xuICAgICAgY29uc3QgdXBkYXRlZEV2ZW50cyA9IG1hcDIoc291cmNlcywgKFtzb3VyY2VFdmVudCwgc291cmNlXSkgPT4ge1xuICAgICAgICBjb25zdCBbZXZlbnQsIHVuYmluZGluZ10gPSBzb3VyY2UoKTtcbiAgICAgICAgdW5iaW5kaW5nICYmXG4gICAgICAgICAgKHNvdXJjZXMuZGVsZXRlKHNvdXJjZUV2ZW50KSwgc25hcHNob3RzLmRlbGV0ZShzb3VyY2VFdmVudCkpO1xuICAgICAgICByZXR1cm4gZXZlbnQgPz8gc2tpcDI7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCB1cGRhdGVkRXZlbnRzLmxlbmd0aCkge1xuICAgICAgICBwb3N0KGNvbmNhdChxdWV1ZS5zcGxpY2UoMCksIHVwZGF0ZWRFdmVudHMpISwgeyBmbHVzaDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcG9zdCxcbiAgICBwb3N0UGF0Y2g6ICh0YXJnZXQsIHBhdGNoLCBmbHVzaCkgPT5cbiAgICAgIHBvc3QobWFwUGF0Y2hUYXJnZXQodGFyZ2V0LCBwYXRjaCksIHsgZmx1c2g6IHRydWUgfSksXG4gICAgcmVnaXN0ZXJFdmVudFBhdGNoU291cmNlLFxuICB9O1xufTtcbiIsImltcG9ydCB7IENPTlNFTlRfSU5GT19LRVksIFNDT1BFX0lORk9fS0VZIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcblxuaW1wb3J0IHsgY3JlYXRlVHJhbnNwb3J0IH0gZnJvbSBcIkB0YWlsanMvdHJhbnNwb3J0XCI7XG5pbXBvcnQgeyBpc1RyYWNrZWRFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGLFxuICBGT1JFVkVSLFxuICBULFxuICBhcnJheTIsXG4gIGFzc2lnbixcbiAgZmlsdGVyMixcbiAgZmxhdE1hcDIsXG4gIGZvckVhY2gyLFxuICBpc0FycmF5LFxuICBpc0pzb25TdHJpbmcsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBtZXJnZTIsXG4gIG5pbCxcbiAgbm93LFxuICBwdXNoLFxuICByZW1vdmUsXG4gIHNvcnQsXG4gIHN0b3AyLFxuICB0aHJvd0Vycm9yLFxuICB0cnlDYXRjaCxcbiAgdHlwZSBOdWxsaXNoLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBMaXN0ZW5lcixcbiAgVHJhY2tlcixcbiAgVHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24sXG4gIFRyYWNrZXJDb21tYW5kLFxuICBUcmFja2VyRXh0ZW5zaW9uLFxuICBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSxcbiAgZGVmYXVsdEV4dGVuc2lvbnMsXG4gIGlzRXh0ZW5zaW9uQ29tbWFuZCxcbiAgaXNGbHVzaENvbW1hbmQsXG4gIGlzR2V0Q29tbWFuZCxcbiAgaXNMaXN0ZW5lckNvbW1hbmQsXG4gIGlzU2V0Q29tbWFuZCxcbiAgaXNUYWdBdHRyaWJ1dGVzQ29tbWFuZCxcbiAgaXNUb2dnbGVDb21tYW5kLFxuICBpc1RyYWNrZXJBdmFpbGFibGVDb21tYW5kLFxuICBwb3N0VXNlckFnZW50RXZlbnQsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQge1xuICBFUlJfSU5URVJOQUxfRVJST1IsXG4gIEVSUl9JTlZBTElEX0NPTU1BTkQsXG4gIFRyYWNrZXJDb250ZXh0LFxuICBWQVJfVVJMLFxuICBhZGREZWJ1Z0xpc3RlbmVycyxcbiAgYWRkU3RhdGVMaXN0ZW5lcixcbiAgY3JlYXRlRXZlbnRRdWV1ZSxcbiAgY3JlYXRlVmFyaWFibGVTdG9yYWdlLFxuICBlcnJvckxvZ2dlcixcbiAgaHR0cERlY29kZSxcbiAgaXNUcmFja2VyLFxuICBsb2dFcnJvcixcbiAgbmV4dElkLFxuICBzZXRTdG9yYWdlS2V5LFxuICB0cmFja2VyQ29uZmlnLFxuICB3aW5kb3csXG59IGZyb20gXCIuL2xpYlwiO1xuXG5leHBvcnQgbGV0IHRyYWNrZXI6IFRyYWNrZXI7XG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZVRyYWNrZXIgPSAoXG4gIGNvbmZpZzogVHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24gfCBzdHJpbmdcbikgPT4ge1xuICBpZiAodHJhY2tlcikgcmV0dXJuIHRyYWNrZXI7XG4gIGxldCBjbGllbnRFbmNyeXB0aW9uS2V5OiBzdHJpbmc7XG4gIGlmIChpc1N0cmluZyhjb25maWcpKSB7XG4gICAgLy8gRGVjb2RlIHRoZSB0ZW1wb3Jhcnkga2V5IGZvciBkZWNyeXB0aW5nIHRoZSBjb25maWd1cmF0aW9uIHBheWxvYWQuXG4gICAgW2NsaWVudEVuY3J5cHRpb25LZXksIGNvbmZpZ10gPVxuICAgICAgaHR0cERlY29kZTxba2V5OiBzdHJpbmcsIGNvbmZpZ3VyYXRpb246IGFueV0+KGNvbmZpZykhO1xuXG4gICAgLy8gRGVjcnlwdFxuICAgIGNvbmZpZyA9IGNyZWF0ZVRyYW5zcG9ydChjbGllbnRFbmNyeXB0aW9uS2V5LCB7IGRlY29kZUpzb246IHRydWUgfSlbMV0oXG4gICAgICBjb25maWcgYXMgYW55XG4gICAgKSE7XG4gIH1cblxuICBtZXJnZTIodHJhY2tlckNvbmZpZywgW2NvbmZpZyBhcyBUcmFja2VyQ2xpZW50Q29uZmlndXJhdGlvbl0sIHtcbiAgICBvdmVyd3JpdGU6IHRydWUsXG4gIH0pO1xuXG4gIHNldFN0b3JhZ2VLZXkocmVtb3ZlKHRyYWNrZXJDb25maWcsIFwiZW5jcnlwdGlvbktleVwiKSk7XG5cbiAgY29uc3QgYXBpUHJvdGVjdGlvbktleSA9IHJlbW92ZSh0cmFja2VyQ29uZmlnLCBcImtleVwiKTtcblxuICBjb25zdCBxdWV1ZWRDb21tYW5kcyA9IHdpbmRvd1t0cmFja2VyQ29uZmlnLm5hbWVdPy5fID8/IFtdO1xuICBpZiAoIWlzQXJyYXkocXVldWVkQ29tbWFuZHMpKSB7XG4gICAgdGhyb3dFcnJvcihcbiAgICAgIGBUaGUgZ2xvYmFsIHZhcmlhYmxlIGZvciB0aGUgdHJhY2tlciBcIiR7dHJhY2tlckNvbmZpZy5uYW1lfVwiIGlzIHVzZWQgZm9yIHNvbWV0aGluZyBlbHNlIHRoYW4gYW4gYXJyYXkgb2YgcXVldWVkIGNvbW1hbmRzLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEV4dGVuc2lvbnMgLyBsaXN0ZW5lcnNcbiAgY29uc3QgZXh0ZW5zaW9uczogW1xuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgZXh0ZW5zaW9uOiBUcmFja2VyRXh0ZW5zaW9uLFxuICAgIHNvdXJjZTogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnlcbiAgXVtdID0gW107XG4gIGxldCBsaXN0ZW5lcnM6IExpc3RlbmVyW10gPSBbXTtcbiAgLy8gRXh0ZW5zaW9ucyBtYXkgcG9zdCBjb21tYW5kcyB3aGVuIGNvbnN0cnVjdGVkIGFuZCB3aGlsZSB0aGUgdHJhY2tlciBpcyBpbml0aWFsaXppbmdcblxuICBjb25zdCBjYWxsTGlzdGVuZXJzID0gKGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgbGV0IGtlZXAgPSBUO1xuICAgIGxpc3RlbmVycyA9IGZpbHRlcjIobGlzdGVuZXJzLCAobGlzdGVuZXIpID0+XG4gICAgICB0cnlDYXRjaChcbiAgICAgICAgKCkgPT4gKFxuICAgICAgICAgIGxpc3RlbmVyW2V2ZW50XT8uKC4uLmFyZ3MsIHtcbiAgICAgICAgICAgIHRyYWNrZXI6IHRyYWNrZXIsXG4gICAgICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4gKGtlZXAgPSBGKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBrZWVwIC8vIFdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgaW4gdGhlIHVuc3Vic2NyaWJlIGhhbmRsZXIgYmVmb3JlIHRoaXMgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAgICAgICksXG4gICAgICAgIGVycm9yTG9nZ2VyKGxpc3RlbmVyKVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcGVuZGluZ1N0YXRlQ29tbWFuZHM6IFRyYWNrZXJDb21tYW5kW10gPSBbXTtcblxuICBjb25zdCB0cmFja2VyQ29udGV4dDogVHJhY2tlckNvbnRleHQgPSB7XG4gICAgYXBwbHlFdmVudEV4dGVuc2lvbnMoZXZlbnQpIHtcbiAgICAgIGV2ZW50LmNsaWVudElkID8/PSBuZXh0SWQoKTtcbiAgICAgIGV2ZW50LnRpbWVzdGFtcCA/Pz0gbm93KCk7XG5cbiAgICAgIGluc2VydEFyZ3MgPSBUO1xuICAgICAgY29uc3Qgc2tpcCA9IGZvckVhY2gyKFxuICAgICAgICBleHRlbnNpb25zLFxuICAgICAgICAoWywgZXh0ZW5zaW9uXSkgPT4gZXh0ZW5zaW9uLmRlY29yYXRlPy4oZXZlbnQpID09PSBGICYmIHN0b3AyKHRydWUpXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gc2tpcCA/IHVuZGVmaW5lZCA6IGV2ZW50O1xuICAgIH0sXG4gICAgdmFsaWRhdGVLZXk6IChrZXk6IHN0cmluZyB8IE51bGxpc2gsIHRocm93SWZJbnZhbGlkID0gdHJ1ZSkgPT5cbiAgICAgICghYXBpUHJvdGVjdGlvbktleSAmJiAha2V5KSB8fFxuICAgICAga2V5ID09PSBhcGlQcm90ZWN0aW9uS2V5IHx8XG4gICAgICAoKHRocm93SWZJbnZhbGlkXG4gICAgICAgID8gdGhyb3dFcnJvcihgJyR7a2V5fScgaXMgbm90IGEgdmFsaWQga2V5LmApXG4gICAgICAgIDogZmFsc2UpIGFzIGFueSksXG4gIH07XG4gIC8vIFZhcmlhYmxlc1xuICBjb25zdCB2YXJpYWJsZXMgPSBjcmVhdGVWYXJpYWJsZVN0b3JhZ2UoVkFSX1VSTCwgdHJhY2tlckNvbnRleHQpO1xuXG4gIC8vIE1haW5cbiAgY29uc3QgZXZlbnRzID0gY3JlYXRlRXZlbnRRdWV1ZShWQVJfVVJMLCB0cmFja2VyQ29udGV4dCk7XG5cbiAgbGV0IG1haW5BcmdzOiBUcmFja2VyQ29tbWFuZFtdIHwgbnVsbCA9IG5pbDtcbiAgbGV0IGN1cnJlbnRBcmcgPSAwO1xuICBsZXQgaW5zZXJ0QXJncyA9IEY7XG5cbiAgbGV0IGdsb2JhbFN0YXRlUmVzb2x2ZWQgPSBGO1xuXG4gIGxldCByZWFkeSA9IGZhbHNlO1xuICB0cmFja2VyID0gKCguLi5jb21tYW5kczogKFRyYWNrZXJDb21tYW5kIHwgc3RyaW5nKVtdKSA9PiB7XG4gICAgaWYgKCFyZWFkeSkge1xuICAgICAgcXVldWVkQ29tbWFuZHMucHVzaCguLi5jb21tYW5kcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQga2V5OiBzdHJpbmcgfCBOdWxsaXNoO1xuICAgIGlmIChjb21tYW5kcy5sZW5ndGggPiAxICYmICghY29tbWFuZHNbMF0gfHwgaXNTdHJpbmcoY29tbWFuZHNbMF0pKSkge1xuICAgICAga2V5ID0gY29tbWFuZHNbMF07XG4gICAgICBjb21tYW5kcyA9IGNvbW1hbmRzLnNsaWNlKDEpO1xuICAgIH1cblxuICAgIGlmIChpc1N0cmluZyhjb21tYW5kc1swXSkpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBjb21tYW5kc1swXTtcbiAgICAgIGNvbW1hbmRzID0gaXNKc29uU3RyaW5nKHBheWxvYWQpXG4gICAgICAgID8gSlNPTi5wYXJzZShwYXlsb2FkKVxuICAgICAgICA6IGh0dHBEZWNvZGUocGF5bG9hZCk7XG4gICAgfVxuXG4gICAgbGV0IGZsdXNoID0gRjsgLy8gLy8gRmx1c2ggYWZ0ZXIgdGhlc2UgY29tbWFuZHMsIG9wdGlvbmFsbHkgd2l0aG91dCB3YWl0aW5nIGZvciBvdGhlciByZXF1ZXN0cyB0byBmaW5pc2ggKGJlY2F1c2UgdGhlIHBhZ2UgaXMgdW5sb2FkaW5nIGFuZCB3ZSBoYXZlIG5vIGJldHRlciBvcHRpb24gZXZlbiB0aG91Z2ggaXQgbWF5IHNwbGl0IHNlc3Npb25zLilcblxuICAgIGNvbW1hbmRzID0gZmlsdGVyMihcbiAgICAgIGZsYXRNYXAyKGNvbW1hbmRzLCAoY29tbWFuZCkgPT5cbiAgICAgICAgaXNTdHJpbmcoY29tbWFuZCkgPyBodHRwRGVjb2RlPFRyYWNrZXJDb21tYW5kPihjb21tYW5kKSA6IGNvbW1hbmRcbiAgICAgICkgYXMgVHJhY2tlckNvbW1hbmRbXSxcbiAgICAgIChjb21tYW5kKSA9PiB7XG4gICAgICAgIGlmICghY29tbWFuZCkgcmV0dXJuIEY7XG5cbiAgICAgICAgaWYgKGlzVGFnQXR0cmlidXRlc0NvbW1hbmQoY29tbWFuZCkpIHtcbiAgICAgICAgICB0cmFja2VyQ29uZmlnLnRhZ3MgPSBhc3NpZ24oXG4gICAgICAgICAgICB7fSBhcyBhbnksXG4gICAgICAgICAgICB0cmFja2VyQ29uZmlnLnRhZ3MsXG4gICAgICAgICAgICBjb21tYW5kLnRhZ0F0dHJpYnV0ZXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVG9nZ2xlQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgIHRyYWNrZXJDb25maWcuZGlzYWJsZWQgPSBjb21tYW5kLmRpc2FibGU7XG4gICAgICAgICAgcmV0dXJuIEY7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbHVzaENvbW1hbmQoY29tbWFuZCkpIHtcbiAgICAgICAgICBmbHVzaCA9IFQ7XG4gICAgICAgICAgcmV0dXJuIEY7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNUcmFja2VyQXZhaWxhYmxlQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgIGNvbW1hbmQodHJhY2tlcik7XG4gICAgICAgICAgcmV0dXJuIEY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICFnbG9iYWxTdGF0ZVJlc29sdmVkICYmXG4gICAgICAgICAgIWlzTGlzdGVuZXJDb21tYW5kKGNvbW1hbmQpICYmXG4gICAgICAgICAgIWlzRXh0ZW5zaW9uQ29tbWFuZChjb21tYW5kKVxuICAgICAgICApIHtcbiAgICAgICAgICBwZW5kaW5nU3RhdGVDb21tYW5kcy5wdXNoKGNvbW1hbmQpO1xuICAgICAgICAgIHJldHVybiBGO1xuICAgICAgICB9XG4gICAgICAgIC8vICNlbmRyZWdpb25cbiAgICAgICAgcmV0dXJuIFQ7XG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmICghY29tbWFuZHMubGVuZ3RoICYmICFmbHVzaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGdldENvbW1hbmRSYW5rID0gKGNtZDogVHJhY2tlckNvbW1hbmQpID0+XG4gICAgICBpc0V4dGVuc2lvbkNvbW1hbmQoY21kKVxuICAgICAgICA/IC0xMDBcbiAgICAgICAgOiBpc0xpc3RlbmVyQ29tbWFuZChjbWQpXG4gICAgICAgID8gLTUwXG4gICAgICAgIDogaXNTZXRDb21tYW5kKGNtZClcbiAgICAgICAgPyAtMTBcbiAgICAgICAgOiBpc1RyYWNrZWRFdmVudChjbWQpXG4gICAgICAgID8gOTBcbiAgICAgICAgOiAwO1xuXG4gICAgLy8gUHV0IGV2ZW50cyBsYXN0IHRvIGFsbG93IGxpc3RlbmVycyBhbmQgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHNhbWUgYmF0Y2ggdG8gd29yayBvbiB0aGVtLlxuICAgIC8vIFNldHMgY29tZSBiZWZvcmUgZ2V0cyB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YWl0aW5nXG4gICAgLy8gRXh0ZW5zaW9ucyB0aGVuIGxpc3RlbmVycyBhcmUgZmlyc3Qgc28gdGhleSBjYW4gZXZhbHVhdGUgdGhlIHJlc3QuXG4gICAgY29uc3QgZXhwYW5kZWQ6IFRyYWNrZXJDb21tYW5kW10gPSBzb3J0KGNvbW1hbmRzLCBnZXRDb21tYW5kUmFuayk7XG5cbiAgICAvLyBBbGxvdyBuZXN0ZWQgY2FsbHMgdG8gdHJhY2tlci5wdXNoIGZyb20gbGlzdGVuZXJzIGFuZCBpbnRlcmNlcHRvcnMuIEluc2VydCBjb21tYW5kcyBpbiB0aGUgY3VycmVudGx5IHByb2Nlc3NlZCBtYWluIGJhdGNoLlxuICAgIGlmIChcbiAgICAgIG1haW5BcmdzICYmXG4gICAgICBtYWluQXJncy5zcGxpY2UoXG4gICAgICAgIGluc2VydEFyZ3MgPyBjdXJyZW50QXJnICsgMSA6IG1haW5BcmdzLmxlbmd0aCxcbiAgICAgICAgMCxcbiAgICAgICAgLi4uZXhwYW5kZWRcbiAgICAgIClcbiAgICApXG4gICAgICByZXR1cm47XG5cbiAgICBtYWluQXJncyA9IGV4cGFuZGVkO1xuXG4gICAgZm9yIChjdXJyZW50QXJnID0gMDsgY3VycmVudEFyZyA8IG1haW5BcmdzLmxlbmd0aDsgY3VycmVudEFyZysrKSB7XG4gICAgICBjb25zdCBjb21tYW5kID0gbWFpbkFyZ3MhW2N1cnJlbnRBcmddO1xuXG4gICAgICBpZiAoIWNvbW1hbmQpIGNvbnRpbnVlO1xuXG4gICAgICB0cmFja2VyQ29udGV4dC52YWxpZGF0ZUtleShrZXkgPz8gY29tbWFuZC5rZXkpLFxuICAgICAgICB0cnlDYXRjaChcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gbWFpbkFyZ3MhW2N1cnJlbnRBcmddO1xuICAgICAgICAgICAgY2FsbExpc3RlbmVycyhcImNvbW1hbmRcIiwgY29tbWFuZCk7XG4gICAgICAgICAgICBpbnNlcnRBcmdzID0gRjtcbiAgICAgICAgICAgIGlmIChpc1RyYWNrZWRFdmVudChjb21tYW5kKSkge1xuICAgICAgICAgICAgICBldmVudHMucG9zdChjb21tYW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNHZXRDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgICAgIHZhcmlhYmxlcy5nZXQoYXJyYXkyKGNvbW1hbmQuZ2V0KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2V0Q29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgICAgICB2YXJpYWJsZXMuc2V0KGFycmF5Mihjb21tYW5kLnNldCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpc3RlbmVyQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgICAgICBwdXNoKGxpc3RlbmVycywgY29tbWFuZC5saXN0ZW5lcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRXh0ZW5zaW9uQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgICAgICBsZXQgZXh0ZW5zaW9uOiBUcmFja2VyRXh0ZW5zaW9uIHwgTnVsbGlzaDtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChleHRlbnNpb24gPSB0cnlDYXRjaChcbiAgICAgICAgICAgICAgICAgICgpID0+IGNvbW1hbmQuZXh0ZW5zaW9uLnNldHVwKHRyYWNrZXIpLFxuICAgICAgICAgICAgICAgICAgKGUpID0+IGxvZ0Vycm9yKGNvbW1hbmQuZXh0ZW5zaW9uLmlkLCBlKVxuICAgICAgICAgICAgICAgICkhKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwdXNoKGV4dGVuc2lvbnMsIFtcbiAgICAgICAgICAgICAgICAgIGNvbW1hbmQucHJpb3JpdHkgPz8gMTAwLFxuICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgY29tbWFuZC5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgc29ydChleHRlbnNpb25zLCAoW3ByaW9yaXR5XSkgPT4gcHJpb3JpdHkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzVHJhY2tlckF2YWlsYWJsZUNvbW1hbmQoY29tbWFuZCkpIHtcbiAgICAgICAgICAgICAgY29tbWFuZCh0cmFja2VyKTsgLy8gVmFyaWFibGVzIGhhdmUgYWxyZWFkeSBiZWVuIGxvYWRlZCBvbmNlLlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBGO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFssIGV4dGVuc2lvbl0gb2YgZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgIGlmICgoc3VjY2VzcyA9IGV4dGVuc2lvbi5wcm9jZXNzQ29tbWFuZD8uKGNvbW1hbmQpID8/IEYpKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIXN1Y2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICAgICAgICAgIEVSUl9JTlZBTElEX0NPTU1BTkQsXG4gICAgICAgICAgICAgICAgICBjb21tYW5kLFxuICAgICAgICAgICAgICAgICAgXCJMb2FkZWQgZXh0ZW5zaW9uczpcIixcbiAgICAgICAgICAgICAgICAgIG1hcDIoZXh0ZW5zaW9ucywgKGV4dGVuc2lvbikgPT4gZXh0ZW5zaW9uWzJdLmlkKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoZSkgPT4gbG9nRXJyb3IodHJhY2tlciwgRVJSX0lOVEVSTkFMX0VSUk9SLCBlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIG1haW5BcmdzID0gbmlsO1xuICAgIGlmIChmbHVzaCkge1xuICAgICAgZXZlbnRzLnBvc3QoW10sIHsgZmx1c2ggfSk7XG4gICAgfVxuICB9KSBhcyBhbnk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgdHJhY2tlckNvbmZpZy5uYW1lLCB7XG4gICAgdmFsdWU6IE9iamVjdC5mcmVlemUoXG4gICAgICBPYmplY3QuYXNzaWduKHRyYWNrZXIsIHtcbiAgICAgICAgaWQ6IFwidHJhY2tlcl9cIiArIG5leHRJZCgpLFxuICAgICAgICBldmVudHMsXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgW2lzVHJhY2tlcl06IFQsXG4gICAgICB9KVxuICAgICksXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gIH0pO1xuXG4gIC8vIFRPRE86IEFkZCBjb25kaXRpb25hbCBjb21waWxlciBmbGFnLlxuICBhZGREZWJ1Z0xpc3RlbmVycygpO1xuXG4gIGFkZFN0YXRlTGlzdGVuZXIoYXN5bmMgKGV2ZW50LCBfMSwgXzIsIHVuYmluZCkgPT4ge1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgc2Vzc2lvbiBvbiB0aGUgc2VydmVyIGJlZm9yZSBwb3N0aW5nIGFueXRoaW5nLlxuICAgIC8vIEFzIHBhcnQgb2YgdGhpcywgd2UgYWxzbyBnZXQgdGhlIGRldmljZSBzZXNzaW9uIElELlxuICAgIGlmIChldmVudCA9PT0gXCJyZWFkeVwiKSB7XG4gICAgICBjb25zdCBbc2Vzc2lvbiwgY29uc2VudF0gPSBhd2FpdCB2YXJpYWJsZXNcbiAgICAgICAgLmdldChbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2NvcGU6IFwic2Vzc2lvblwiLFxuICAgICAgICAgICAga2V5OiBTQ09QRV9JTkZPX0tFWSxcbiAgICAgICAgICAgIHJlZnJlc2g6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY29wZTogXCJzZXNzaW9uXCIsXG4gICAgICAgICAgICBrZXk6IENPTlNFTlRfSU5GT19LRVksXG4gICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBjb25zZW50IHN0YXR1cyBhdCBldmVyeSBuZXcgcGFnZSB2aWV3IGluIHRoZSBjYXNlIHRoZSBzZXJ2ZXIgbWFkZSBjaGFuZ2VzIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgLy8gQWZ0ZXIgdGhhdCwgY2FjaGUgaXQgaW5kZWZpbml0ZWx5IHNpbmNlIGl0IGlzIHByZXN1bWFibHkgb25seSBjaGFuZ2VkIGJ5IHRoZSBjbGllbnQgdW50aWwgdGhlIG5leHQgcGFnZSB2aWV3IChpbiBhbnkgdGFiKS5cbiAgICAgICAgICAgIHJlZnJlc2g6IHRydWUsXG4gICAgICAgICAgICBjYWNoZTogRk9SRVZFUixcbiAgICAgICAgICB9LFxuICAgICAgICBdKVxuICAgICAgICAudmFsdWVzKHRydWUpO1xuXG4gICAgICB0cmFja2VyQ29udGV4dC5kZXZpY2VTZXNzaW9uSWQgPSBzZXNzaW9uLmRldmljZVNlc3Npb25JZDtcblxuICAgICAgaWYgKCFzZXNzaW9uLmhhc1VzZXJBZ2VudCkge1xuICAgICAgICBwb3N0VXNlckFnZW50RXZlbnQodHJhY2tlcik7XG4gICAgICAgIHNlc3Npb24uaGFzVXNlckFnZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGdsb2JhbFN0YXRlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgcGVuZGluZ1N0YXRlQ29tbWFuZHMubGVuZ3RoICYmIHRyYWNrZXIocGVuZGluZ1N0YXRlQ29tbWFuZHMpO1xuXG4gICAgICB1bmJpbmQoKTtcblxuICAgICAgLy8gTm93IHdlIGFjY2VwdCBjb21tYW5kcy5cbiAgICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICAgIHRyYWNrZXIoXG4gICAgICAgIC4uLm1hcDIoZGVmYXVsdEV4dGVuc2lvbnMsIChleHRlbnNpb24pID0+ICh7IGV4dGVuc2lvbiB9KSksXG4gICAgICAgIC4uLnF1ZXVlZENvbW1hbmRzXG4gICAgICApO1xuICAgICAgdHJhY2tlcih7IHNldDogeyBzY29wZTogXCJ2aWV3XCIsIGtleTogXCJsb2FkZWRcIiwgdmFsdWU6IHRydWUgfSB9KTtcbiAgICB9XG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiB0cmFja2VyO1xufTtcbiIsImltcG9ydCB7IFNDT1BFX0lORk9fS0VZIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcblxuaW1wb3J0IHtcbiAgTG9jYWxJRCxcbiAgVmlldyxcbiAgVmlld0V2ZW50LFxuICBWaWV3VGltaW5nRGF0YSxcbiAgaXNFdmVudFBhdGNoLFxuICBpc1ZpZXdFdmVudCxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIFQsXG4gIGFkZDIsXG4gIGFycmF5MixcbiAgY2xvY2ssXG4gIGNyZWF0ZUV2ZW50LFxuICBjcmVhdGVUaW1lcixcbiAgZm9yRWFjaDIsXG4gIG1hcDIsXG4gIG5pbCxcbiAgbm93LFxuICBwYXJzZVF1ZXJ5U3RyaW5nLFxuICBwYXJzZVVyaSxcbiAgcmVwbGFjZSxcbiAgc2tpcDIsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LCBpc0NoYW5nZVVzZXJDb21tYW5kIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyB0cmFja2VyIH0gZnJvbSBcIi4uL2luaXRpYWxpemVUcmFja2VyXCI7XG5pbXBvcnQge1xuICBUQUJfSUQsXG4gIGFkZFBhZ2VWaXNpYmxlTGlzdGVuZXIsXG4gIGRlYnVnLFxuICBnZXRBY3RpdmVUaW1lLFxuICBnZXRWaWV3cG9ydCxcbiAgaXNJbnRlcm5hbFVybCxcbiAgbGlzdGVuLFxuICBtYXRjaEV4SGFzaCxcbiAgbmV4dElkLFxuICBwYXJzZURvbWFpbixcbiAgc2V0TG9jYWxWYXJpYWJsZXMsXG4gIHRyeUdldFZhcmlhYmxlLFxufSBmcm9tIFwiLi4vbGliXCI7XG5cbmV4cG9ydCBsZXQgY3VycmVudFZpZXdFdmVudDogVmlld0V2ZW50IHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFZpZXdJZCA9ICgpID0+IGN1cnJlbnRWaWV3RXZlbnQ/LmNsaWVudElkO1xuXG5sZXQgcHVzaFBvcE5hdmlnYXRpb246IFZpZXdFdmVudFtcIm5hdmlnYXRpb25UeXBlXCJdIHwgdW5kZWZpbmVkO1xuXG5jb25zdCByZWZlcnJlcktleSA9IHtcbiAgc2NvcGU6IFwic2hhcmVkXCIsXG4gIGtleTogXCJyZWZlcnJlclwiLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IHB1c2hOYXZpZ2F0aW9uU291cmNlID0gKFxuICBuYXZpZ2F0aW9uRXZlbnRJZDogTG9jYWxJRCxcbiAgY29uc3VtZWQ/OiAoKSA9PiB2b2lkXG4pID0+IHtcbiAgdHJhY2tlci52YXJpYWJsZXMuc2V0KHtcbiAgICAuLi5yZWZlcnJlcktleSxcbiAgICB2YWx1ZTogW2dldEN1cnJlbnRWaWV3SWQoKSEsIG5hdmlnYXRpb25FdmVudElkXSxcbiAgfSk7XG5cbiAgY29uc3VtZWQgJiZcbiAgICB0cmFja2VyLnZhcmlhYmxlcy5nZXQoe1xuICAgICAgLy8gR3JyISBJbnRlbGxpc2Vuc2Ugd29uJ3QgdXNlIHRoZSBjb25zdGFudCBzY29wZSBhbmQga2V5IHZhbHVlcyBpZiBgLi4ucmVmZXJyZXJLZXlgLlxuICAgICAgc2NvcGU6IHJlZmVycmVyS2V5LnNjb3BlLFxuICAgICAga2V5OiByZWZlcnJlcktleS5rZXksXG4gICAgICBwb2xsOiAoY3VycmVudCwgXywgcHJldmlvdXMpID0+XG4gICAgICAgIGN1cnJlbnRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IHByZXZpb3VzPy5bMV0gPT09IG5hdmlnYXRpb25FdmVudElkICYmIGNvbnN1bWVkKCkgJiYgZmFsc2UsXG4gICAgfSk7XG59O1xuXG5jb25zdCB0b3RhbER1cmF0aW9uID0gY3JlYXRlVGltZXIoKTtcbmNvbnN0IHZpc2libGVEdXJhdGlvbiA9IGNyZWF0ZVRpbWVyKCk7XG5cbmxldCBhY3RpdmF0aW9ucyA9IDE7XG5cbmV4cG9ydCBjb25zdCBnZXRWaXNpYmxlRHVyYXRpb24gPSAoKSA9PiB2aXNpYmxlRHVyYXRpb24oKTtcblxuY29uc3QgW2FkZFZpZXdDaGFuZ2VkTGlzdGVuZXIsIGRpc3BhdGNoVmlld0NoYW5nZWRdID1cbiAgY3JlYXRlRXZlbnQ8W3ZpZXdFdmVudDogVmlld0V2ZW50XT4oKTtcblxuZXhwb3J0IHsgYWRkVmlld0NoYW5nZWRMaXN0ZW5lciB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVmlld0R1cmF0aW9uVGltZXIgPSAoc3RhcnRlZD86IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgdG90YWxUaW1lID0gY3JlYXRlVGltZXIoc3RhcnRlZCwgdG90YWxEdXJhdGlvbik7XG4gIGNvbnN0IHZpc2libGVUaW1lID0gY3JlYXRlVGltZXIoc3RhcnRlZCwgdmlzaWJsZUR1cmF0aW9uKTtcbiAgY29uc3QgYWN0aXZlVGltZSA9IGNyZWF0ZVRpbWVyKHN0YXJ0ZWQsIGdldEFjdGl2ZVRpbWUpO1xuICBjb25zdCBhY3RpdmF0aW9uc0NvdW50ZXIgPSBjcmVhdGVUaW1lcihzdGFydGVkLCAoKSA9PiBhY3RpdmF0aW9ucyk7XG4gIHJldHVybiAodG9nZ2xlPzogYm9vbGVhbiwgcmVzZXQ/OiBib29sZWFuKTogVmlld1RpbWluZ0RhdGEgPT4gKHtcbiAgICB0b3RhbFRpbWU6IHRvdGFsVGltZSh0b2dnbGUsIHJlc2V0KSxcbiAgICB2aXNpYmxlVGltZTogdmlzaWJsZVRpbWUodG9nZ2xlLCByZXNldCksXG4gICAgYWN0aXZlVGltZTogYWN0aXZlVGltZSh0b2dnbGUsIHJlc2V0KSxcbiAgICBhY3RpdmF0aW9uczogYWN0aXZhdGlvbnNDb3VudGVyKHRvZ2dsZSwgcmVzZXQpLFxuICB9KTtcbn07XG5cbmNvbnN0IHRpbWVyID0gY3JlYXRlVmlld0R1cmF0aW9uVGltZXIoKTtcbmV4cG9ydCBjb25zdCBnZXRWaWV3VGltZU9mZnNldCA9ICgpID0+IHRpbWVyKCk7XG5cbmNvbnN0IFthZGRGcmFtZUxpc3RlbmVySW50ZXJuYWwsIGNhbGxPbkZyYW1lXSA9XG4gIGNyZWF0ZUV2ZW50PFtmcmFtZTogSFRNTElGcmFtZUVsZW1lbnRdPigpO1xuZXhwb3J0IGNvbnN0IG9uRnJhbWU6IHR5cGVvZiBhZGRGcmFtZUxpc3RlbmVySW50ZXJuYWwgPSAoXG4gIGxpc3RlbmVyLFxuICB0cmlnZ2VyQ3VycmVudFxuKSA9PiB7XG4gIHRyaWdnZXJDdXJyZW50ICYmIGZvckVhY2gyKGZyYW1lcywgKGZyYW1lKSA9PiBsaXN0ZW5lcihmcmFtZSwgKCkgPT4gZmFsc2UpKTtcbiAgcmV0dXJuIGFkZEZyYW1lTGlzdGVuZXJJbnRlcm5hbChsaXN0ZW5lcik7XG59O1xuLy9leHBvcnQgeyBhZGRGcmFtZUxpc3RlbmVyIGFzIG9uRnJhbWUgfTtcblxuY29uc3Qga25vd25GcmFtZXMgPSBuZXcgV2Vha1NldDxhbnk+KCk7XG5jb25zdCBmcmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKTtcblxuZXhwb3J0IGNvbnN0IGNvbnRleHQ6IFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5ID0ge1xuICBpZDogXCJjb250ZXh0XCIsXG4gIHNldHVwKHRyYWNrZXIpIHtcbiAgICBjbG9jayhcbiAgICAgICgpID0+XG4gICAgICAgIGZvckVhY2gyKFxuICAgICAgICAgIGZyYW1lcyxcbiAgICAgICAgICAoZnJhbWUpID0+IGFkZDIoa25vd25GcmFtZXMsIGZyYW1lKSAmJiBjYWxsT25GcmFtZShmcmFtZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMFxuICAgICkudHJpZ2dlcigpO1xuXG4gICAgLy8gVmlldyBkZWZpbml0aW9ucyBtYXkgYmUgbG9hZGVkIGFzeW5jaHJvbm91c2x5IGJvdGggYmVmb3JlIGFuZCBhZnRlciBuYXZpZ2F0aW9uIGhhcHBlbnMuXG4gICAgLy8gVGhpcyBtZWFucyB0aGUgYGRlZmluaXRpb25gIHByb3BlcnR5IG9mIHRoZSBjdXJyZW50IHZpZXcgZXZlbnQgaXMgdXBkYXRlZCBpbmRlcGVuZGVudGx5IG9mIGl0cyBjcmVhdGlvbi5cbiAgICAvLyBJZiB0aGUgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBhbmQgYWRkaXRpb25hbCBwYXRjaCBldmVudCBpcyBzZW50IHdpdGggdGhlIGRlZmluaXRpb24uXG4gICAgLy8gV2hlbiBhIGRlZmluaXRpb24gaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHZpZXcgZXZlbnQsIGl0IHdpbGwgbm90IGJlIGNoYW5nZWQuXG4gICAgLy8gSW5zdGVhZCBhbnkgbmV3IHZpZXcgZGVmaW5pdGlvbiB0aGF0IGFycml2ZXMgYmVmb3JlIHRoZSBuZXh0IG5hdmlnYXRpb24gaXMgYXNzdW1lZCB0byBiZSBmb3IgdGhlIG5leHQgdmlldyBldmVudC5cblxuICAgIGxldCBwZW5kaW5nVmlld0RlZmluaXRpb246IFZpZXcgfCB1bmRlZmluZWQ7XG5cbiAgICB0cmFja2VyLnZhcmlhYmxlcy5nZXQoe1xuICAgICAgc2NvcGU6IFwidmlld1wiLFxuICAgICAga2V5OiBcInZpZXdcIixcbiAgICAgIHBvbGw6IChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50ID09IG51bGwgfHxcbiAgICAgICAgICAhZGVmaW5pdGlvbiB8fFxuICAgICAgICAgIGN1cnJlbnRWaWV3RXZlbnQ/LmRlZmluaXRpb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gQnVmZmVyIGZvciBuZXh0IG5hdmlnYXRpb24uXG4gICAgICAgICAgcGVuZGluZ1ZpZXdEZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgICBpZiAoZGVmaW5pdGlvbj8ubmF2aWdhdGlvbikge1xuICAgICAgICAgICAgLy8gUG9zdCB2aWV3IHJlZ2lzdGVyZWQuIFRoaXMgd2FzIGN1c3RvbSBuYXZpZ2F0aW9uIHRoYXQgd2UgYXJlIG5vdCBub3JtYWxseSBpbnRlcmNlcHRpbmcuXG4gICAgICAgICAgICBwb3N0Vmlldyh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFZpZXdFdmVudC5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgICBpZiAoY3VycmVudFZpZXdFdmVudC5tZXRhZGF0YT8ucG9zdGVkKSB7XG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBkZWZpbml0aW9uIGFzIGEgcGF0Y2ggYmVjYXVzZSB0aGUgdmlldyBldmVudCBoYXMgYWxyZWFkeSBiZWVuIHBvc3RlZC5cbiAgICAgICAgICAgIHRyYWNrZXIuZXZlbnRzLnBvc3RQYXRjaChjdXJyZW50Vmlld0V2ZW50LCB7XG4gICAgICAgICAgICAgIGRlZmluaXRpb246IHBlbmRpbmdWaWV3RGVmaW5pdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgY3VycmVudFZpZXdFdmVudCxcbiAgICAgICAgICAgICAgY3VycmVudFZpZXdFdmVudC50eXBlICsgXCIgKGRlZmluaXRpb24gdXBkYXRlZClcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBsZXQgdmlld0luZGV4ID1cbiAgICAgIHRyeUdldFZhcmlhYmxlKHsgc2NvcGU6IFwidGFiXCIsIGtleTogXCJ2aWV3SW5kZXhcIiB9KT8udmFsdWUgPz8gMDtcbiAgICBsZXQgdGFiSW5kZXggPSB0cnlHZXRWYXJpYWJsZSh7IHNjb3BlOiBcInRhYlwiLCBrZXk6IFwidGFiSW5kZXhcIiB9KT8udmFsdWU7XG5cbiAgICBpZiAodGFiSW5kZXggPT0gbnVsbCkge1xuICAgICAgdGFiSW5kZXggPVxuICAgICAgICB0cnlHZXRWYXJpYWJsZSh7IHNjb3BlOiBcInNoYXJlZFwiLCBrZXk6IFwidGFiSW5kZXhcIiB9KT8udmFsdWUgPz9cbiAgICAgICAgLy8gSWYgd2UgYXJlIHRoZSBvbmx5IHRhYiwgd2UnbGwgc2VlIGlmIHdlIGNhbiBnZXQgdGhlIG51bWJlciBvZiBwcmV2aW91cyB0YWJzIGluIHRoZSBzZXNzaW9uXG4gICAgICAgIC8vIGZyb20gdGhlIHNlc3Npb24gaW5mbyB2YXJpYWJsZS5cbiAgICAgICAgKHRyeUdldFZhcmlhYmxlKHsgc2NvcGU6IFwic2Vzc2lvblwiLCBrZXk6IFNDT1BFX0lORk9fS0VZIH0pPy52YWx1ZVxuICAgICAgICAgID8udGFicyBhcyBudW1iZXIpID8/XG4gICAgICAgIDA7XG4gICAgICBzZXRMb2NhbFZhcmlhYmxlcyhcbiAgICAgICAge1xuICAgICAgICAgIHNjb3BlOiBcInRhYlwiLFxuICAgICAgICAgIGtleTogXCJ0YWJJbmRleFwiLFxuICAgICAgICAgIHZhbHVlOiB0YWJJbmRleCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNjb3BlOiBcInNoYXJlZFwiLFxuICAgICAgICAgIGtleTogXCJ0YWJJbmRleFwiLFxuICAgICAgICAgIHZhbHVlOiB0YWJJbmRleCArIDEsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbjogc3RyaW5nIHwgbnVsbCA9IG5pbDtcblxuICAgIGNvbnN0IHBvc3RWaWV3ID0gKGZvcmNlID0gRikgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBtYXRjaEV4SGFzaChcIlwiICsgY3VycmVudExvY2F0aW9uLCAoY3VycmVudExvY2F0aW9uID0gbG9jYXRpb24uaHJlZikpICYmXG4gICAgICAgICFmb3JjZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBzb3VyY2U6IGhyZWYsXG4gICAgICAgIHNjaGVtZSxcbiAgICAgICAgaG9zdCxcbiAgICAgIH0gPSBwYXJzZVVyaShsb2NhdGlvbi5ocmVmICsgXCJcIiwgeyByZXF1aXJlQXV0aG9yaXR5OiB0cnVlIH0pO1xuICAgICAgY3VycmVudFZpZXdFdmVudCA9IHtcbiAgICAgICAgdHlwZTogXCJ2aWV3XCIsXG4gICAgICAgIHRpbWVzdGFtcDogbm93KCksXG4gICAgICAgIGNsaWVudElkOiBuZXh0SWQoKSxcbiAgICAgICAgdGFiOiBUQUJfSUQsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIHBhdGg6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBoYXNoOiBsb2NhdGlvbi5oYXNoIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZG9tYWluOiB7IHNjaGVtZSwgaG9zdCB9LFxuICAgICAgICB0YWJOdW1iZXI6IHRhYkluZGV4ICsgMSxcbiAgICAgICAgdGFiVmlld051bWJlcjogdmlld0luZGV4ICsgMSxcbiAgICAgICAgdmlld3BvcnQ6IGdldFZpZXdwb3J0KCksXG4gICAgICAgIGR1cmF0aW9uOiB0aW1lcih1bmRlZmluZWQsIHRydWUpLFxuICAgICAgfTtcblxuICAgICAgdGFiSW5kZXggPT09IDAgJiYgKGN1cnJlbnRWaWV3RXZlbnQuZmlyc3RUYWIgPSBUKTtcbiAgICAgIHRhYkluZGV4ID09PSAwICYmIHZpZXdJbmRleCA9PT0gMCAmJiAoY3VycmVudFZpZXdFdmVudC5sYW5kaW5nUGFnZSA9IFQpO1xuXG4gICAgICBzZXRMb2NhbFZhcmlhYmxlcyh7IHNjb3BlOiBcInRhYlwiLCBrZXk6IFwidmlld0luZGV4XCIsIHZhbHVlOiArK3ZpZXdJbmRleCB9KTtcblxuICAgICAgY29uc3QgcXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKGxvY2F0aW9uLmhyZWYpO1xuICAgICAgbWFwMihcbiAgICAgICAgW1wic291cmNlXCIsIFwibWVkaXVtXCIsIFwiY2FtcGFpZ25cIiwgXCJ0ZXJtXCIsIFwiY29udGVudFwiXSxcbiAgICAgICAgKHAsIF8pID0+XG4gICAgICAgICAgKChjdXJyZW50Vmlld0V2ZW50IS51dG0gPz89IHt9KVtwXSA9IGFycmF5Mihxc1tgdXRtXyR7cH1gXSk/LlswXSkgPz9cbiAgICAgICAgICBza2lwMlxuICAgICAgKTtcblxuICAgICAgIShjdXJyZW50Vmlld0V2ZW50Lm5hdmlnYXRpb25UeXBlID0gcHVzaFBvcE5hdmlnYXRpb24pICYmXG4gICAgICAgIHBlcmZvcm1hbmNlICYmXG4gICAgICAgIGZvckVhY2gyKFxuICAgICAgICAgIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpLFxuICAgICAgICAgIChlbnRyeTogUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKSA9PiB7XG4gICAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50IS5yZWRpcmVjdHMgPSBlbnRyeS5yZWRpcmVjdENvdW50O1xuICAgICAgICAgICAgY3VycmVudFZpZXdFdmVudCEubmF2aWdhdGlvblR5cGUgPSByZXBsYWNlKFxuICAgICAgICAgICAgICBlbnRyeS50eXBlLFxuICAgICAgICAgICAgICAvXFxfL2csXG4gICAgICAgICAgICAgIFwiLVwiXG4gICAgICAgICAgICApIGFzIGFueTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgIHB1c2hQb3BOYXZpZ2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoKGN1cnJlbnRWaWV3RXZlbnQubmF2aWdhdGlvblR5cGUgPz89IFwibmF2aWdhdGVcIikgPT09IFwibmF2aWdhdGVcIikge1xuICAgICAgICAvLyBUcnkgZmluZCByZWxhdGVkIGV2ZW50IGFuZCBwYXJlbnQgdGFiIGNvbnRleHQgaWYgYW55LlxuICAgICAgICAvLyBBbmQgb25seSBpZiBuYXZpZ2F0aW5nIChub3QgYmFjay9mb3J3YXJkL3JlZnJlc2gpXG5cbiAgICAgICAgY29uc3QgcmVmZXJyZXIgPSB0cnlHZXRWYXJpYWJsZShyZWZlcnJlcktleSk/LnZhbHVlO1xuXG4gICAgICAgIGlmIChyZWZlcnJlciAmJiBpc0ludGVybmFsVXJsKGRvY3VtZW50LnJlZmVycmVyKSkge1xuICAgICAgICAgIGN1cnJlbnRWaWV3RXZlbnQudmlldyA9IHJlZmVycmVyPy5bMF07XG4gICAgICAgICAgY3VycmVudFZpZXdFdmVudC5yZWxhdGVkRXZlbnRJZCA9IHJlZmVycmVyPy5bMV07XG4gICAgICAgICAgdHJhY2tlci52YXJpYWJsZXMuc2V0KHsgLi4ucmVmZXJyZXJLZXksIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVmZXJyZXJcbiAgICAgIGNvbnN0IHJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXIgfHwgbmlsO1xuICAgICAgcmVmZXJyZXIgJiZcbiAgICAgICAgIWlzSW50ZXJuYWxVcmwocmVmZXJyZXIpICYmXG4gICAgICAgIChjdXJyZW50Vmlld0V2ZW50IS5leHRlcm5hbFJlZmVycmVyID0ge1xuICAgICAgICAgIGhyZWY6IHJlZmVycmVyLFxuICAgICAgICAgIGRvbWFpbjogcGFyc2VEb21haW4ocmVmZXJyZXIpLFxuICAgICAgICB9KTtcblxuICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgdmlldyBkZWZpbml0aW9uIHJlYWR5LCBzZXQgdGhpcyBvbiB0aGUgZXZlbnQsIGFuZCByZXNldCB0aGUgYnVmZmVyLlxuICAgICAgY3VycmVudFZpZXdFdmVudC5kZWZpbml0aW9uID0gcGVuZGluZ1ZpZXdEZWZpbml0aW9uO1xuICAgICAgcGVuZGluZ1ZpZXdEZWZpbml0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cmFja2VyLmV2ZW50cy5wb3N0KGN1cnJlbnRWaWV3RXZlbnQpO1xuXG4gICAgICB0cmFja2VyLmV2ZW50cy5yZWdpc3RlckV2ZW50UGF0Y2hTb3VyY2UoY3VycmVudFZpZXdFdmVudCEsICgpID0+ICh7XG4gICAgICAgIGR1cmF0aW9uOiBnZXRWaWV3VGltZU9mZnNldCgpLFxuICAgICAgfSkpO1xuXG4gICAgICBkaXNwYXRjaFZpZXdDaGFuZ2VkKGN1cnJlbnRWaWV3RXZlbnQpO1xuICAgIH07XG5cbiAgICBhZGRQYWdlVmlzaWJsZUxpc3RlbmVyKCh2aXNpYmxlKSA9PiB7XG4gICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICB2aXNpYmxlRHVyYXRpb24oVCk7XG4gICAgICAgICsrYWN0aXZhdGlvbnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aXNpYmxlRHVyYXRpb24oRik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsaXN0ZW4oXG4gICAgICB3aW5kb3csXG4gICAgICBcInBvcHN0YXRlXCIsXG4gICAgICAoKSA9PiAoKHB1c2hQb3BOYXZpZ2F0aW9uID0gXCJiYWNrLWZvcndhcmRcIiksIHBvc3RWaWV3KCkpXG4gICAgKTtcbiAgICBmb3JFYWNoMihbXCJwdXNoXCIsIFwicmVwbGFjZVwiXSwgKG5hbWUpID0+IHtcbiAgICAgIGNvbnN0IGlubmVyID0gaGlzdG9yeVsobmFtZSArPSBcIlN0YXRlXCIpXTtcbiAgICAgIGhpc3RvcnlbbmFtZV0gPSAoLi4uYXJnczogYW55KSA9PiB7XG4gICAgICAgIGlubmVyLmFwcGx5KGhpc3RvcnksIGFyZ3MpO1xuICAgICAgICBwdXNoUG9wTmF2aWdhdGlvbiA9IFwibmF2aWdhdGVcIjtcbiAgICAgICAgcG9zdFZpZXcoKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBwb3N0VmlldygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2Nlc3NDb21tYW5kOiAoY29tbWFuZCkgPT5cbiAgICAgICAgaXNDaGFuZ2VVc2VyQ29tbWFuZChjb21tYW5kKSAmJlxuICAgICAgICAodHJhY2tlcihcbiAgICAgICAgICBjb21tYW5kLnVzZXJuYW1lXG4gICAgICAgICAgICA/IHsgdHlwZTogXCJsb2dpblwiLCB1c2VybmFtZTogY29tbWFuZC51c2VybmFtZSB9XG4gICAgICAgICAgICA6IHsgdHlwZTogXCJsb2dvdXRcIiB9XG4gICAgICAgICksXG4gICAgICAgIFQpLFxuXG4gICAgICBkZWNvcmF0ZTogKGV2ZW50KSA9PiB7XG4gICAgICAgIGN1cnJlbnRWaWV3RXZlbnQgJiZcbiAgICAgICAgICAhaXNWaWV3RXZlbnQoZXZlbnQpICYmXG4gICAgICAgICAgIWlzRXZlbnRQYXRjaChldmVudCkgJiZcbiAgICAgICAgICAoZXZlbnQudmlldyA9IGN1cnJlbnRWaWV3RXZlbnQuY2xpZW50SWQpO1xuICAgICAgfSxcbiAgICB9O1xuICB9LFxufTtcbiIsImltcG9ydCB7XG4gIENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQsXG4gIHR5cGUgQWN0aXZhdGVkQ29tcG9uZW50LFxuICB0eXBlIEFjdGl2YXRlZENvbnRlbnQsXG4gIHR5cGUgQ29uZmlndXJlZENvbXBvbmVudCxcbiAgdHlwZSBSZWN0YW5nbGUsXG4gIHR5cGUgVXNlckludGVyYWN0aW9uRXZlbnQsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGLFxuICBNYXliZVVuZGVmaW5lZCxcbiAgTnVsbGlzaCxcbiAgVCxcbiAgYXJyYXkyLFxuICBjb25jYXQsXG4gIGZpbHRlcjIsXG4gIGZsYXRNYXAsXG4gIGZvckVhY2gyLFxuICBpc1N0cmluZyxcbiAgam9pbjIsXG4gIG1hcDIsXG4gIG1heCxcbiAgcHVzaCxcbiAgc2V0MixcbiAgc29tZSxcbiAgdW5zaGlmdCxcbiAgdXBkYXRlLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBCb3VuZGFyeUNvbW1hbmQsXG4gIEJvdW5kYXJ5RGF0YSxcbiAgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnksXG4gIGlzRGF0YUJvdW5kYXJ5Q29tbWFuZCxcbiAgaXNTY2FuQ29tcG9uZW50c0NvbW1hbmQsXG59IGZyb20gXCIuLlwiO1xuaW1wb3J0IHtcbiAgTm9kZVdpdGhQYXJlbnRFbGVtZW50LFxuICBib3VuZGFyeURhdGEsXG4gIGNyZWF0ZUltcHJlc3Npb25PYnNlcnZlcixcbiAgZm9yQW5jZXN0b3JzT3JTZWxmLFxuICBnZXRSZWN0LFxuICBwYXJzZVRhZ3MsXG4gIHNjYW5BdHRyaWJ1dGVzLFxuICB0cmFja2VyUHJvcGVydHksXG59IGZyb20gXCIuLi9saWJcIjtcbmV4cG9ydCB0eXBlIEFjdGl2YXRlZERvbUNvbXBvbmVudCA9IENvbmZpZ3VyZWRDb21wb25lbnQgJiBBY3RpdmF0ZWRDb21wb25lbnQ7XG5cbmV4cG9ydCBjb25zdCBjb21wb25lbnREb21Db25maWd1cmF0aW9uID0gU3ltYm9sKFwiRE9NIGNvbmZpZ3VyYXRpb25cIik7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUFjdGl2YXRpb25UYWdzID0gKGVsOiBFbGVtZW50KSA9PlxuICBwYXJzZVRhZ3MoZWwsIHVuZGVmaW5lZCwgKGVsKSA9PiBmaWx0ZXIyKGFycmF5Mihib3VuZGFyeURhdGEuZ2V0KGVsKT8udGFncykpKTtcblxuY29uc3QgaGFzQ29tcG9uZW50T3JDb250ZW50ID0gKGJvdW5kYXJ5PzogQm91bmRhcnlEYXRhPHRydWU+IHwgbnVsbCkgPT5cbiAgYm91bmRhcnk/LmNvbXBvbmVudCB8fCBib3VuZGFyeT8uY29udGVudDtcblxubGV0IGVudHJ5OiBCb3VuZGFyeURhdGE8dHJ1ZT4gfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgcGFyc2VCb3VuZGFyeVRhZ3MgPSAoZWw6IEVsZW1lbnQpID0+IHtcbiAgcmV0dXJuIHBhcnNlVGFncyhcbiAgICBlbCxcbiAgICAoYW5jZXN0b3IpID0+XG4gICAgICBhbmNlc3RvciAhPT0gZWwgJiYgISFoYXNDb21wb25lbnRPckNvbnRlbnQoYm91bmRhcnlEYXRhLmdldChhbmNlc3RvcikpLFxuICAgIChlbCkgPT4ge1xuICAgICAgZW50cnkgPSBib3VuZGFyeURhdGEuZ2V0KGVsKSE7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoZW50cnkgPSBib3VuZGFyeURhdGEuZ2V0KGVsKSkgJiZcbiAgICAgICAgZmxhdE1hcChjb25jYXQoZW50cnkuY29tcG9uZW50LCBlbnRyeS5jb250ZW50LCBlbnRyeSksIFwidGFnc1wiKVxuICAgICAgKTtcbiAgICB9XG4gICk7XG59O1xuXG5sZXQgY29udGVudDogQWN0aXZhdGVkQ29udGVudFtdIHwgdW5kZWZpbmVkO1xuY29uc3Qgc3RyaXBSZWN0cyA9IChcbiAgY29tcG9uZW50OiBBY3RpdmF0ZWREb21Db21wb25lbnQsXG4gIGtlZXA/OiBib29sZWFuXG4pOiBBY3RpdmF0ZWREb21Db21wb25lbnQgPT5cbiAga2VlcFxuICAgID8gY29tcG9uZW50XG4gICAgOiB7XG4gICAgICAgIC4uLmNvbXBvbmVudCxcbiAgICAgICAgcmVjdDogdW5kZWZpbmVkLFxuICAgICAgICBjb250ZW50OlxuICAgICAgICAgIChjb250ZW50ID0gY29tcG9uZW50LmNvbnRlbnQpICYmXG4gICAgICAgICAgbWFwMihjb250ZW50LCAoY29udGVudCkgPT4gKHsgLi4uY29udGVudCwgcmVjdDogdW5kZWZpbmVkIH0pKSxcbiAgICAgIH07XG5cbmNvbnN0IGVudW0gSW5jbHVkZVN0YXRlIHtcbiAgU2Vjb25kYXJ5ID0gMCxcbiAgUHJpbWFyeSA9IDEsXG4gIFByb21vdGVkID0gMixcbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbXBvbmVudENvbnRleHQgPSAoXG4gIGVsOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQsXG4gIGRpcmVjdE9ubHkgPSBGLFxuICBpbmNsdWRlUmVnaW9uPzogYm9vbGVhbiB8IE51bGxpc2hcbikgPT4ge1xuICBsZXQgY29sbGVjdGVkQ29udGVudDogQWN0aXZhdGVkQ29udGVudFtdID0gW107XG5cbiAgdHlwZSBBcmVhID0ge30gJiBzdHJpbmc7IC8vIEZvciBjbGFyaXR5LlxuICBsZXQgY29sbGVjdGVkOiAoQWN0aXZhdGVkRG9tQ29tcG9uZW50IHwgQXJlYSlbXSA9IFtdO1xuXG4gIGxldCBpbmNsdWRlU3RhdGUgPSBJbmNsdWRlU3RhdGUuU2Vjb25kYXJ5O1xuICBsZXQgcmVjdDogUmVjdGFuZ2xlIHwgdW5kZWZpbmVkO1xuXG4gIGZvckFuY2VzdG9yc09yU2VsZihlbCwgKGVsKSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBib3VuZGFyeURhdGEuZ2V0KGVsKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhhc0NvbXBvbmVudE9yQ29udGVudChlbnRyeSkpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudHMgPVxuICAgICAgICBmaWx0ZXIyKGFycmF5MihlbnRyeS5jb21wb25lbnQpLCAoZW50cnkpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaW5jbHVkZVN0YXRlID09PSBJbmNsdWRlU3RhdGUuU2Vjb25kYXJ5IHx8XG4gICAgICAgICAgICAoIWRpcmVjdE9ubHkgJiZcbiAgICAgICAgICAgICAgKChpbmNsdWRlU3RhdGUgPT09IEluY2x1ZGVTdGF0ZS5QcmltYXJ5ICYmXG4gICAgICAgICAgICAgICAgZW50cnkudHJhY2s/LnNlY29uZGFyeSAhPT0gVCkgfHxcbiAgICAgICAgICAgICAgICBlbnRyeS50cmFjaz8ucHJvbW90ZSkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkgPz8gW107XG5cbiAgICAgIHJlY3QgPVxuICAgICAgICAoKGluY2x1ZGVSZWdpb24gPz8gc29tZShjb21wb25lbnRzLCAoaXRlbSkgPT4gaXRlbS50cmFjaz8ucmVnaW9uKSkgJiZcbiAgICAgICAgICBnZXRSZWN0KGVsKSkgfHxcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgY29uc3QgdGFncyA9IHBhcnNlQm91bmRhcnlUYWdzKGVsKTtcbiAgICAgIGVudHJ5LmNvbnRlbnQgJiZcbiAgICAgICAgdW5zaGlmdChcbiAgICAgICAgICBjb2xsZWN0ZWRDb250ZW50LFxuICAgICAgICAgIC4uLm1hcDIoZW50cnkuY29udGVudCwgKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICAgIC4uLnRhZ3MsXG4gICAgICAgICAgfSkpXG4gICAgICAgICk7XG5cbiAgICAgIGNvbXBvbmVudHM/Lmxlbmd0aCAmJlxuICAgICAgICAodW5zaGlmdChcbiAgICAgICAgICBjb2xsZWN0ZWQsXG4gICAgICAgICAgLi4ubWFwMihcbiAgICAgICAgICAgIGNvbXBvbmVudHMsXG4gICAgICAgICAgICAoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAoaW5jbHVkZVN0YXRlID0gbWF4KFxuICAgICAgICAgICAgICAgIGluY2x1ZGVTdGF0ZSxcbiAgICAgICAgICAgICAgICBpdGVtLnRyYWNrPy5zZWNvbmRhcnkgLy8gSU5WOiBTZWNvbmRhcnkgY29tcG9uZW50cyBhcmUgb25seSBpbmNsdWRlZCBoZXJlIGlmIHdlIGRpZCBub3QgaGF2ZSBhbnkgY29tcG9uZW50cyBmcm9tIGEgY2hpbGQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgID8gSW5jbHVkZVN0YXRlLlByaW1hcnlcbiAgICAgICAgICAgICAgICAgIDogSW5jbHVkZVN0YXRlLlByb21vdGVkXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBzdHJpcFJlY3RzKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBjb2xsZWN0ZWRDb250ZW50Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICA/IGNvbGxlY3RlZENvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgICAgICAgLi4udGFncyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICEhcmVjdFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICAoY29sbGVjdGVkQ29udGVudCA9IFtdKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJlYSA9IGVudHJ5LmFyZWEgfHwgdHJhY2tlclByb3BlcnR5KGVsLCBcImFyZWFcIik7XG4gICAgYXJlYSAmJiB1bnNoaWZ0KGNvbGxlY3RlZCwgYXJlYSk7XG4gIH0pO1xuXG4gIGxldCBhcmVhUGF0aDogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG4gIGxldCBjb21wb25lbnRzOiBBY3RpdmF0ZWRDb21wb25lbnRbXSB8IHVuZGVmaW5lZDtcblxuICBpZiAoY29sbGVjdGVkQ29udGVudC5sZW5ndGgpIHtcbiAgICAvLyBDb250ZW50IHdpdGhvdXQgYSBjb250YWluaW5nIGNvbXBvbmVudCBpcyBnYXRoZXJlZCBpbiBhbiBJRC1sZXNzIGNvbXBvbmVudC5cbiAgICBwdXNoKGNvbGxlY3RlZCwgc3RyaXBSZWN0cyh7IGlkOiBcIlwiLCByZWN0LCBjb250ZW50OiBjb2xsZWN0ZWRDb250ZW50IH0pKTtcbiAgfVxuXG4gIGZvckVhY2gyKGNvbGxlY3RlZCwgKGl0ZW0pID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoaXRlbSkpIHtcbiAgICAgIHB1c2goKGFyZWFQYXRoID8/PSBbXSksIGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLmFyZWEgPz89IGpvaW4yKGFyZWFQYXRoLCBcIi9cIik7XG4gICAgICB1bnNoaWZ0KChjb21wb25lbnRzID8/PSBbXSksIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBvbmVudHMgfHwgYXJlYVBhdGhcbiAgICA/IHsgY29tcG9uZW50czogY29tcG9uZW50cywgYXJlYTogam9pbjIoYXJlYVBhdGgsIFwiL1wiKSB9XG4gICAgOiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY29tcG9uZW50czogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImNvbXBvbmVudHNcIixcbiAgc2V0dXAodHJhY2tlcikge1xuICAgIGNvbnN0IGltcHJlc3Npb25zID0gY3JlYXRlSW1wcmVzc2lvbk9ic2VydmVyKHRyYWNrZXIpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQm91bmRhcnlEYXRhID0gPFQgZXh0ZW5kcyBCb3VuZGFyeURhdGEgfCBOdWxsaXNoPihcbiAgICAgIGRhdGE6IFRcbiAgICApOiBNYXliZVVuZGVmaW5lZDxULCBCb3VuZGFyeURhdGE8dHJ1ZT4+ID0+XG4gICAgICBkYXRhID09IG51bGxcbiAgICAgICAgPyAodW5kZWZpbmVkIGFzIGFueSlcbiAgICAgICAgOiAoe1xuICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgIGNvbXBvbmVudDogYXJyYXkyKGRhdGEuY29tcG9uZW50KSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGFycmF5MihkYXRhLmNvbnRlbnQpLFxuICAgICAgICAgICAgdGFnczogYXJyYXkyKGRhdGEudGFncyksXG4gICAgICAgICAgfSBhcyBCb3VuZGFyeURhdGE8dHJ1ZT4pO1xuXG4gICAgY29uc3QgcmVnaXN0ZXJDb21wb25lbnQgPSAoe1xuICAgICAgYm91bmRhcnk6IGVsLFxuICAgICAgLi4uY29tbWFuZFxuICAgIH06IEJvdW5kYXJ5Q29tbWFuZCkgPT4ge1xuICAgICAgdXBkYXRlKGJvdW5kYXJ5RGF0YSwgZWwsIChjdXJyZW50KSA9PiB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVCb3VuZGFyeURhdGEoXG4gICAgICAgICAgXCJhZGRcIiBpbiBjb21tYW5kXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29uY2F0KGN1cnJlbnQ/LmNvbXBvbmVudCwgY29tbWFuZC5jb21wb25lbnQpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbmNhdChjdXJyZW50Py5jb250ZW50LCBjb21tYW5kLmNvbnRlbnQpLFxuICAgICAgICAgICAgICAgIGFyZWE6IGNvbW1hbmQ/LmFyZWEgPz8gY3VycmVudD8uYXJlYSxcbiAgICAgICAgICAgICAgICB0YWdzOiBjb25jYXQoY3VycmVudD8udGFncywgY29tbWFuZC50YWdzKSxcbiAgICAgICAgICAgICAgICBjYXJ0OiBjb21tYW5kLmNhcnQgPz8gY3VycmVudD8uY2FydCxcbiAgICAgICAgICAgICAgICB0cmFjazogY29tbWFuZC50cmFjayA/PyBjdXJyZW50Py50cmFjayxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBcInVwZGF0ZVwiIGluIGNvbW1hbmRcbiAgICAgICAgICAgID8gY29tbWFuZC51cGRhdGUoY3VycmVudClcbiAgICAgICAgICAgIDogY29tbWFuZFxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGltcHJlc3Npb25zKGVsLCBib3VuZGFyeURhdGEuZ2V0KGVsKSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBkZWNvcmF0ZShldmVudERhdGEpIHtcbiAgICAgICAgLy8gU3RyaXAgdHJhY2tpbmcgY29uZmlndXJhdGlvbi5cbiAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgKGV2ZW50RGF0YSBhcyBVc2VySW50ZXJhY3Rpb25FdmVudCkuY29tcG9uZW50cyxcbiAgICAgICAgICAoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBzZXQyKGNvbXBvbmVudCBhcyBhbnksIFwidHJhY2tcIiwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGZvckVhY2gyKFxuICAgICAgICAgICAgICAoZXZlbnREYXRhIGFzIENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQpLmNsaWNrYWJsZXMsXG4gICAgICAgICAgICAgIChjbGlja2FibGUpID0+IHNldDIoY2xpY2thYmxlIGFzIGFueSwgXCJ0cmFja1wiLCB1bmRlZmluZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBwcm9jZXNzQ29tbWFuZChjbWQpIHtcbiAgICAgICAgcmV0dXJuIGlzRGF0YUJvdW5kYXJ5Q29tbWFuZChjbWQpXG4gICAgICAgICAgPyAocmVnaXN0ZXJDb21wb25lbnQoY21kKSwgVClcbiAgICAgICAgICA6IGlzU2NhbkNvbXBvbmVudHNDb21tYW5kKGNtZClcbiAgICAgICAgICA/IChmb3JFYWNoMihcbiAgICAgICAgICAgICAgc2NhbkF0dHJpYnV0ZXMoY21kLnNjYW4uYXR0cmlidXRlLCBjbWQuc2Nhbi5jb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgcmVnaXN0ZXJDb21wb25lbnRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBUKVxuICAgICAgICAgIDogRjtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJpbXBvcnQge1xuICBEZWZpbmVkLFxuICBGYWxzaXNoLFxuICBJZixcbiAgSXNBbnksXG4gIE1heWJlUHJvbWlzZUxpa2UsXG4gIE5vdEZ1bmN0aW9uLFxuICBOdWxsaXNoLFxuICBPbWl0TnVsbGlzaCxcbiAgVG9nZ2xlUHJvbWlzZSxcbiAgVW53cmFwUHJvbWlzZUxpa2UsXG4gIFdyYXBwZWQsXG4gIGRlbGF5LFxuICBpc0FycmF5LFxuICBpc0F3YWl0YWJsZSxcbiAgaXNCb29sZWFuLFxuICBpc0Vycm9yLFxuICBpc0Z1bmN0aW9uLFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1N0cmluZyxcbiAgdW53cmFwLFxufSBmcm9tIFwiLi5cIjtcblxuZXhwb3J0IHR5cGUgRXJyb3JHZW5lcmF0b3IgPSBzdHJpbmcgfCBFcnJvciB8ICgoKSA9PiBzdHJpbmcgfCBFcnJvcik7XG5cbmV4cG9ydCBjb25zdCB0aHJvd0Vycm9yID0gKFxuICBlcnJvcjogRXJyb3JHZW5lcmF0b3IsXG4gIHRyYW5zZm9ybTogKHN0cmluZzogc3RyaW5nKSA9PiBFcnJvciA9IChtZXNzYWdlKSA9PiBuZXcgRXJyb3IobWVzc2FnZSlcbik6IG5ldmVyID0+IHtcbiAgdGhyb3cgaXNTdHJpbmcoKGVycm9yID0gdW53cmFwKGVycm9yKSkpID8gdHJhbnNmb3JtKGVycm9yKSA6IGVycm9yO1xufTtcbmV4cG9ydCBjb25zdCB0aHJvd1R5cGVFcnJvciA9IChtZXNzYWdlOiBzdHJpbmcpOiBuZXZlciA9PlxuICB0aHJvd0Vycm9yKG5ldyBUeXBlRXJyb3IobWVzc2FnZSkpO1xuXG50eXBlIENvbWJpbmVUeXBlVGVzdHM8VD4gPSBUIGV4dGVuZHMgW11cbiAgPyB7fVxuICA6IFQgZXh0ZW5kcyBbaW5mZXIgRiwgLi4uaW5mZXIgUmVzdF1cbiAgPyBGIGV4dGVuZHMgKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIGluZmVyIFJcbiAgICA/IChJc0FueTxSPiBleHRlbmRzIHRydWUgPyBUIDogUikgJiBDb21iaW5lVHlwZVRlc3RzPFJlc3Q+XG4gICAgOiBuZXZlclxuICA6IG5ldmVyO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGUgPSA8XG4gIFQsXG4gIFZhbGlkYXRvciBleHRlbmRzXG4gICAgfCAoKGNhbmRpZGF0ZTogVCkgPT4gY2FuZGlkYXRlIGlzIGFueSlcbiAgICB8ICgoY2FuZGlkYXRlOiBUKSA9PiBSKVxuICAgIHwgW1xuICAgICAgICB2YWxpZGF0ZTogKGNhbmRpZGF0ZTogVCkgPT4gYW55LFxuICAgICAgICAuLi50eXBlVGVzdHM6ICgoY2FuZGlkYXRlOiBUKSA9PiBjYW5kaWRhdGUgaXMgYW55KVtdXG4gICAgICBdXG4gICAgfCAoUiAmIE5vdEZ1bmN0aW9uKSxcbiAgUlxuPihcbiAgdmFsdWU6IFQsXG4gIHZhbGlkYXRlOiBWYWxpZGF0b3IgfCBSLFxuICB2YWxpZGF0aW9uRXJyb3I/OiBFcnJvckdlbmVyYXRvcixcbiAgdW5kZWZpbmVkRXJyb3I/OiBFcnJvckdlbmVyYXRvclxuKTogRGVmaW5lZDxcbiAgSWY8XG4gICAgSXNBbnk8VmFsaWRhdG9yPixcbiAgICBULFxuICAgIFZhbGlkYXRvciBleHRlbmRzIHJlYWRvbmx5IFthbnksIC4uLmluZmVyIFR5cGVUZXN0c11cbiAgICAgID8gQ29tYmluZVR5cGVUZXN0czxUeXBlVGVzdHM+XG4gICAgICA6IFZhbGlkYXRvciBleHRlbmRzICgodmFsdWU6IGFueSkgPT4gaW5mZXIgUikgfCBpbmZlciBSXG4gICAgICA/IFIgZXh0ZW5kcyBGYWxzaXNoXG4gICAgICAgID8gbmV2ZXJcbiAgICAgICAgOiBWYWxpZGF0b3IgZXh0ZW5kcyAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgaW5mZXIgUlxuICAgICAgICA/IERlZmluZWQ8Uj5cbiAgICAgICAgOiBUXG4gICAgICA6IG5ldmVyXG4gID5cbj4gPT5cbiAgKFxuICAgIGlzQXJyYXkodmFsaWRhdGUpXG4gICAgICA/IHZhbGlkYXRlLmV2ZXJ5KCh0ZXN0KSA9PiB0ZXN0KHZhbHVlKSlcbiAgICAgIDogaXNGdW5jdGlvbih2YWxpZGF0ZSlcbiAgICAgID8gdmFsaWRhdGUodmFsdWUpXG4gICAgICA6IHZhbGlkYXRlXG4gIClcbiAgICA/IHZhbHVlXG4gICAgOiByZXF1aXJlZCh2YWx1ZSwgdW5kZWZpbmVkRXJyb3IgPz8gdmFsaWRhdGlvbkVycm9yKSAmJlxuICAgICAgKHRocm93RXJyb3IodmFsaWRhdGlvbkVycm9yID8/IFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIpIGFzIGFueSk7XG5cbmV4cG9ydCBjbGFzcyBJbnZhcmlhbnRWaW9sYXRlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihpbnZhcmlhbnQ/OiBzdHJpbmcpIHtcbiAgICBzdXBlcihpbnZhcmlhbnQgPyBcIklOVjogXCIgKyBpbnZhcmlhbnQgOiBcIkFuIGludmFyaWFudCB3YXMgdmlvbGF0ZWQuXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdHJ1Y3R1cmFsRXF1YWxzID0gKFxuICB2YWx1ZTE6IGFueSxcbiAgdmFsdWUyOiBhbnksXG4gIGRlcHRoID0gLTFcbik6IGJvb2xlYW4gPT4ge1xuICBpZiAodmFsdWUxID09PSB2YWx1ZTIpIHJldHVybiB0cnVlO1xuICAvLyBpbnRlcnByZXQgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhcyB0aGUgc2FtZS5cbiAgaWYgKCh2YWx1ZTEgPz8gdmFsdWUyKSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoXG4gICAgKGlzQXJyYXkodmFsdWUxKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlMSkpICYmXG4gICAgKGlzQXJyYXkodmFsdWUyKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlMikpICYmXG4gICAgdmFsdWUxLmxlbmd0aCA9PT0gdmFsdWUyLmxlbmd0aFxuICApIHtcbiAgICBsZXQgbiA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUxKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbHVlMVtrZXldICE9PSB2YWx1ZTJba2V5XSAmJlxuICAgICAgICAhc3RydWN0dXJhbEVxdWFscyh2YWx1ZTFba2V5XSwgdmFsdWUyW2tleV0sIGRlcHRoIC0gMSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICArK247XG4gICAgfVxuICAgIHJldHVybiBuID09PSBPYmplY3Qua2V5cyh2YWx1ZTIpLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKiogVGVzdHMgd2hldGhlciBhIHZhbHVlIGVxdWFscyBhdCBsZWFzdCBvbmUgb2Ygc29tZSBvdGhlciB2YWx1ZXMuICAqL1xuZXhwb3J0IGNvbnN0IGVxdWFsc0FueTogPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oXG4gIHRhcmdldDogYW55LFxuICAuLi52YWx1ZXM6IFRcbikgPT4gdGFyZ2V0IGlzIFRbbnVtYmVyXSA9ICgoXG4gIHRhcmdldDogYW55LFxuICBzaW5nbGVWYWx1ZTogYW55LFxuICAuLi5vdGhlclZhbHVlczogYW55XG4pID0+XG4gIHRhcmdldCA9PT0gc2luZ2xlVmFsdWUgfHxcbiAgKG90aGVyVmFsdWVzLmxlbmd0aCA+IDAgJiZcbiAgICBvdGhlclZhbHVlcy5zb21lKCh2YWx1ZTogYW55KSA9PiBlcXVhbHNBbnkodGFyZ2V0LCB2YWx1ZSkpKSkgYXMgYW55O1xuXG4vKipcbiAqIFN0YXRlcyBhbiBpbnZhcmlhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnZhcmlhbnQgPSA8VD4oXG4gIHRlc3Q6IFdyYXBwZWQ8VCB8IGZhbHNlPixcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcbik6IERlZmluZWQ8VD4gPT4ge1xuICBjb25zdCB2YWxpZCA9IHVud3JhcCh0ZXN0KTtcbiAgcmV0dXJuIHZhbGlkICE9IG51bGwgJiYgdmFsaWQgIT09IGZhbHNlXG4gICAgPyAodmFsaWQgYXMgYW55KVxuICAgIDogdGhyb3dFcnJvcihuZXcgSW52YXJpYW50VmlvbGF0ZWRFcnJvcihkZXNjcmlwdGlvbikpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlcXVpcmVkID0gPFQ+KHZhbHVlOiBULCBlcnJvcj86IEVycm9yR2VuZXJhdG9yKTogT21pdE51bGxpc2g8VD4gPT5cbiAgdmFsdWUgIT0gbnVsbFxuICAgID8gKHZhbHVlIGFzIGFueSlcbiAgICA6IHRocm93RXJyb3IoXG4gICAgICAgIGVycm9yID8/IFwiQSByZXF1aXJlZCB2YWx1ZSBpcyBtaXNzaW5nXCIsXG4gICAgICAgICh0ZXh0KSA9PiBuZXcgVHlwZUVycm9yKHRleHQucmVwbGFjZShcIi4uLlwiLCBcIiBpcyByZXF1aXJlZC5cIikpXG4gICAgICApO1xuXG5leHBvcnQgY29uc3QgdHJ5Q2F0Y2ggPSA8VCwgRSA9IHRydWU+KFxuICBleHByZXNzaW9uOiAoKSA9PiBULFxuICBlcnJvckhhbmRsZXI6IEUgfCAoYm9vbGVhbiB8ICgoZXJyb3I/OiBhbnkpID0+IGFueSkgfCBOdWxsaXNoKSA9IHRydWUgYXMgYW55LFxuICBhbHdheXM/OiAoKSA9PiB2b2lkXG4pOlxuICB8IFRcbiAgfCAoRSBleHRlbmRzIE51bGxpc2ggfCB0cnVlXG4gICAgICA/IG5ldmVyXG4gICAgICA6IEUgZXh0ZW5kcyBmYWxzZVxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogRSBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFJcbiAgICAgID8gUiBleHRlbmRzIEVycm9yXG4gICAgICAgID8gbmV2ZXJcbiAgICAgICAgOiBSIGV4dGVuZHMgdm9pZFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IFJcbiAgICAgIDogRSkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBleHByZXNzaW9uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihlcnJvckhhbmRsZXIpXG4gICAgICA/IGlzRXJyb3IoKGUgPSBlcnJvckhhbmRsZXIoZSkpKVxuICAgICAgICA/IHRocm93RXJyb3IoZSlcbiAgICAgICAgOiBlXG4gICAgICA6IGlzQm9vbGVhbihlcnJvckhhbmRsZXIpXG4gICAgICA/IGNvbnNvbGUuZXJyb3IoZXJyb3JIYW5kbGVyID8gdGhyb3dFcnJvcihlKSA6IGUpXG4gICAgICA6IChlcnJvckhhbmRsZXIgYXMgYW55KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBhbHdheXM/LigpO1xuICB9XG59O1xuXG5leHBvcnQgdHlwZSBFcnJvckhhbmRsZXIgPSBOdWxsaXNoIHwgYm9vbGVhbiB8ICgoZXJyb3I6IGFueSkgPT4gYW55KTtcbnR5cGUgRXJyb3JIYW5kbGVyUmVzdWx0PEhhbmRsZXI+ID0gSGFuZGxlciBleHRlbmRzIHRydWVcbiAgPyBuZXZlclxuICA6IEhhbmRsZXIgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBSXG4gID8gVG9nZ2xlUHJvbWlzZTxVbndyYXBQcm9taXNlTGlrZTxSPiBleHRlbmRzIEVycm9yID8gbmV2ZXIgOiBSLCBSPlxuICA6IHZvaWQ7XG5cbmNvbnN0IG1heWJlQXdhaXQgPSA8VCwgUj4oXG4gIHZhbHVlOiBNYXliZVByb21pc2VMaWtlPFQ+LFxuICBhY3Rpb246ICh2YWx1ZTogVCkgPT4gUlxuKTogUiA9PiAodmFsdWUgYXMgYW55KT8udGhlbihhY3Rpb24pID8/IGFjdGlvbih2YWx1ZSBhcyBhbnkpO1xuXG5jb25zdCBoYW5kbGVFcnJvciA9IDxIYW5kbGVyIGV4dGVuZHMgRXJyb3JIYW5kbGVyPihcbiAgZXJyb3JIYW5kbGVyOiBIYW5kbGVyLFxuICBlcnJvcjogYW55LFxuICBsb2cgPSB0cnVlXG4pOiBFcnJvckhhbmRsZXJSZXN1bHQ8SGFuZGxlcj4gPT5cbiAgZXJyb3JIYW5kbGVyID09PSBmYWxzZVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBlcnJvckhhbmRsZXIgPT09IHRydWUgfHxcbiAgICAgIGVycm9ySGFuZGxlciA9PSBudWxsIHx8XG4gICAgICBpc0Vycm9yKChlcnJvciA9IGVycm9ySGFuZGxlcihlcnJvcikpKVxuICAgID8gbWF5YmVBd2FpdChcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIChlcnJvcikgPT4gKGxvZyAmJiBjb25zb2xlLmVycm9yKGVycm9yKSwgdGhyb3dFcnJvcihlcnJvcikpXG4gICAgICApXG4gICAgOiBlcnJvcjtcblxudHlwZSBEZWZlcnJlZFByb3BlcnRpZXM8VD4gPSB7IHJlc29sdmVkPzogQXdhaXRlZDxUPiB9O1xuXG50eXBlIE5vdERlZmVycmVkID0geyByZXNvbHZlZD86IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgdHlwZSBEZWZlcnJlZDxUPiA9ICgoKSA9PiBUKSAmIERlZmVycmVkUHJvcGVydGllczxUPjtcblxuZXhwb3J0IHR5cGUgRGVmZXJyZWRBc3luYzxUPiA9IERlZmVycmVkPE1heWJlUHJvbWlzZUxpa2U8VD4+O1xuXG5leHBvcnQgdHlwZSBNYXliZURlZmVycmVkPFQ+ID0gKFQgJiBOb3REZWZlcnJlZCkgfCBEZWZlcnJlZDxUPjtcbmV4cG9ydCB0eXBlIE1heWJlRGVmZXJyZWRBc3luYzxUPiA9XG4gIHwgKChUIHwgUHJvbWlzZUxpa2U8VD4pICYgTm90RGVmZXJyZWQpXG4gIHwgRGVmZXJyZWRBc3luYzxUPjtcblxuZXhwb3J0IGNvbnN0IHJlc29sdmVEZWZlcnJlZDoge1xuICA8VD4odmFsdWU6IERlZmVycmVkPFQ+KTogVDtcbiAgPFQ+KHZhbHVlOiBUKTogVDtcbn0gPSAodmFsdWU6IERlZmVycmVkPGFueT4pID0+XG4gIGlzRnVuY3Rpb24odmFsdWUpID8gKHZhbHVlIGFzIGFueSk/LnJlc29sdmVkID8/IHZhbHVlKCkgOiB2YWx1ZTtcblxuLyoqIEEgdmFsdWUgdGhhdCBpcyBpbml0aWFsaXplZCBsYXppbHkgb24tZGVtYW5kLiAqL1xuZXhwb3J0IGNvbnN0IGRlZmVycmVkID0gPFQ+KFxuICBleHByZXNzaW9uOiBXcmFwcGVkPFQ+XG4pOiBUIGV4dGVuZHMgUHJvbWlzZUxpa2U8aW5mZXIgVD4gPyBEZWZlcnJlZEFzeW5jPFQ+IDogRGVmZXJyZWQ8VD4gPT4ge1xuICBsZXQgcmVzdWx0OiBhbnk7XG4gIGNvbnN0IGdldHRlciA9ICgoKSA9PiB7XG4gICAgaWYgKGdldHRlci5pbml0aWFsaXplZCB8fCByZXN1bHQpIHtcbiAgICAgIC8vIFJlc3VsdCBtYXkgZWl0aGVyIGJlIHRoZSByZXNvbHZlZCB2YWx1ZSBvciBhIHBlbmRpbmcgcHJvbWlzZSBmb3IgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmVzdWx0ID0gdW53cmFwKGV4cHJlc3Npb24pIGFzIGFueTtcbiAgICBpZiAocmVzdWx0LnRoZW4pIHtcbiAgICAgIHJldHVybiAocmVzdWx0ID0gcmVzdWx0LnRoZW4oKHJlc29sdmVkVmFsdWU6IGFueSkgPT4ge1xuICAgICAgICBnZXR0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gKGdldHRlci5yZXNvbHZlZCA9IHJlc3VsdCA9IHJlc29sdmVkVmFsdWUpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXR0ZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHJldHVybiAoZ2V0dGVyLnJlc29sdmVkID0gcmVzdWx0KTtcbiAgfSkgYXMgYW55O1xuICByZXR1cm4gZ2V0dGVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGFzRGVmZXJyZWQgPSA8VCBleHRlbmRzIE1heWJlRGVmZXJyZWQ8YW55Pj4oXG4gIGRlZmVycmVkT3JSZXNvbHZlZDogVFxuKTogVCBleHRlbmRzIERlZmVycmVkPGFueT4gPyBUIDogRGVmZXJyZWQ8VD4gPT5cbiAgaXNGdW5jdGlvbihkZWZlcnJlZE9yUmVzb2x2ZWQpXG4gICAgPyBkZWZlcnJlZE9yUmVzb2x2ZWRcbiAgICA6IChPYmplY3QuYXNzaWduKCgpID0+IGRlZmVycmVkT3JSZXNvbHZlZCwge1xuICAgICAgICByZXNvbHZlZDogaXNBd2FpdGFibGUoZGVmZXJyZWRPclJlc29sdmVkKVxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiBkZWZlcnJlZE9yUmVzb2x2ZWQsXG4gICAgICB9KSBhcyBhbnkpO1xuXG5jbGFzcyBEZWZlcnJlZFByb21pc2U8VD4gZXh0ZW5kcyBQcm9taXNlPFQ+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBfYWN0aW9uOiAoKSA9PiBQcm9taXNlPFQ+O1xuICBwcml2YXRlIF9yZXN1bHQ6IFByb21pc2U8VD47XG5cbiAgcHVibGljIGdldCBpbml0aWFsaXplZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0ICE9IG51bGw7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihhY3Rpb246ICgpID0+IFByb21pc2U8VD4pIHtcbiAgICBzdXBlcigoKSA9PiB7fSk7XG4gICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbiAgdGhlbjxUUmVzdWx0MSA9IFQsIFRSZXN1bHQyID0gbmV2ZXI+KFxuICAgIG9uZnVsZmlsbGVkPzpcbiAgICAgIHwgKCh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4pXG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkLFxuICAgIG9ucmVqZWN0ZWQ/OlxuICAgICAgfCAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPilcbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWRcbiAgKTogUHJvbWlzZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG4gICAgcmV0dXJuICh0aGlzLl9yZXN1bHQgPz89IHRoaXMuX2FjdGlvbigpKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxuXG4gIGNhdGNoPFRSZXN1bHQgPSBuZXZlcj4oXG4gICAgb25yZWplY3RlZD86XG4gICAgICB8ICgocmVhc29uOiBhbnkpID0+IFRSZXN1bHQgfCBQcm9taXNlTGlrZTxUUmVzdWx0PilcbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWRcbiAgKTogUHJvbWlzZTxUIHwgVFJlc3VsdD4ge1xuICAgIHJldHVybiAodGhpcy5fcmVzdWx0ID8/PSB0aGlzLl9hY3Rpb24oKSkuY2F0Y2gob25yZWplY3RlZCk7XG4gIH1cblxuICBmaW5hbGx5KG9uZmluYWxseT86ICgoKSA9PiB2b2lkKSB8IG51bGwgfCB1bmRlZmluZWQpOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gKHRoaXMuX3Jlc3VsdCA/Pz0gdGhpcy5fYWN0aW9uKCkpLmZpbmFsbHkob25maW5hbGx5KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBNYXliZURlZmVycmVkUHJvbWlzZTxUPiA9XG4gIHwgKFQgJiB7IGluaXRpYWxpemVkPzogYm9vbGVhbiB9KVxuICB8IERlZmVycmVkUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBBIHByb21pc2UgdGhhdCBpcyBpbml0aWFsaXplZCBsYXppbHkgb24tZGVtYW5kLlxuICogRm9yIHByb21pc2VzIHRoaXMgaXMgbW9yZSBjb252ZW5pZW50IHRoYW4ge0BsaW5rIGRlZmVycmVkfSwgc2luY2UgaXQganVzdCByZXR1cm5zIGEgcHJvbWlzZSBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZlcnJlZFByb21pc2UgPSA8VD4oXG4gIGV4cHJlc3Npb246IFdyYXBwZWQ8TWF5YmVQcm9taXNlTGlrZTxUPj5cbik6IERlZmVycmVkUHJvbWlzZTxUPiA9PiBuZXcgRGVmZXJyZWRQcm9taXNlKGFzeW5jICgpID0+IHVud3JhcChleHByZXNzaW9uKSk7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRFcnJvciA9IChlcnJvcjogYW55LCBpbmNsdWRlU3RhY2tUcmFjZT86IGJvb2xlYW4pOiBzdHJpbmcgPT5cbiAgIWVycm9yXG4gICAgPyBcIih1bnNwZWNpZmllZCBlcnJvcilcIlxuICAgIDogaW5jbHVkZVN0YWNrVHJhY2UgJiYgZXJyb3I/LnN0YWNrXG4gICAgPyBgJHtmb3JtYXRFcnJvcihlcnJvciwgZmFsc2UpfVxcbiR7ZXJyb3I/LnN0YWNrfWBcbiAgICA6IGVycm9yLm1lc3NhZ2VcbiAgICA/IGAke2Vycm9yLm5hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YFxuICAgIDogXCJcIiArIGVycm9yO1xuXG5leHBvcnQgY29uc3QgdHJ5Q2F0Y2hBc3luYyA9IGFzeW5jIDxcbiAgVCxcbiAgQyxcbiAgRSBleHRlbmRzIGJvb2xlYW4gfCAoKGVycm9yOiBhbnkpID0+IE1heWJlUHJvbWlzZUxpa2U8Qz4pLFxuICBUMSA9IFRcbj4oXG4gIGV4cHJlc3Npb246IFdyYXBwZWQ8TWF5YmVQcm9taXNlTGlrZTxUPj4sXG4gIGVycm9ySGFuZGxlcjogRSA9IHRydWUgYXMgYW55LFxuICBhbHdheXM/OiAoKSA9PiBNYXliZVByb21pc2VMaWtlPGFueT5cbik6IFByb21pc2U8VDEgfCAoRSBleHRlbmRzIHRydWUgPyBuZXZlciA6IEMpPiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIChhd2FpdCB1bndyYXAoZXhwcmVzc2lvbikpIGFzIGFueTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghaXNCb29sZWFuKGVycm9ySGFuZGxlcikpIHtcbiAgICAgIHJldHVybiAoYXdhaXQgZXJyb3JIYW5kbGVyKGUpKSBhcyBhbnk7XG4gICAgfSBlbHNlIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIC8vIGBmYWxzZWAgbWVhbnMgXCJpZ25vcmVcIi5cbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IGFsd2F5cz8uKCk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlTZXR0aW5nczxFcnJvclJlc3VsdCA9IG5ldmVyPiB7XG4gIHJldHJpZXM/OiBudW1iZXI7XG4gIHJldHJ5RGVsYXk/OiBudW1iZXIgfCAoKHJldHJ5OiBudW1iZXIpID0+IG51bWJlcik7XG4gIGVycm9yRmlsdGVyPzogKFxuICAgIGVycm9yOiBhbnksXG4gICAgcmV0cnk6IG51bWJlclxuICApID0+IFwidGhyb3dcIiB8IFwicmVzZXRcIiB8IFwibm9uZVwiIHwgdm9pZDtcbiAgZXJyb3JIYW5kbGVyPzogKGVycm9yOiBhbnksIHJldHJ5OiBudW1iZXIpID0+IE1heWJlUHJvbWlzZUxpa2U8RXJyb3JSZXN1bHQ+O1xufVxuZXhwb3J0IGNvbnN0IHdpdGhSZXRyeSA9IGFzeW5jIDxULCBFcnJvclJlc3VsdCA9IG5ldmVyPihcbiAgYWN0aW9uOiAocmV0cnk6IG51bWJlciwgcHJldmlvdXNFcnJvcjogYW55KSA9PiBNYXliZVByb21pc2VMaWtlPFQ+LFxuICB7XG4gICAgcmV0cmllcyA9IDMsXG4gICAgcmV0cnlEZWxheSA9IDIwMCxcbiAgICBlcnJvckZpbHRlcixcbiAgICBlcnJvckhhbmRsZXIsXG4gIH06IFJldHJ5U2V0dGluZ3M8RXJyb3JSZXN1bHQ+ID0ge31cbik6IFByb21pc2U8VCB8IEVycm9yUmVzdWx0PiA9PiB7XG4gIGlmIChyZXRyaWVzIDw9IDApIHtcbiAgICByZXRyaWVzID0gMTtcbiAgfVxuICBsZXQgcHJldmlvdXNFcnJvcjogYW55ID0gdW5kZWZpbmVkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJldHJpZXM7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgYWN0aW9uKGksIHByZXZpb3VzRXJyb3IpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBwcmV2aW91c0Vycm9yID0gZXJyb3I7XG4gICAgICBjb25zdCBmaWx0ZXJBY3Rpb24gPVxuICAgICAgICBpID09PSByZXRyaWVzIC0gMSA/IFwidGhyb3dcIiA6IGVycm9yRmlsdGVyPy4oZXJyb3IsIGkpO1xuICAgICAgaWYgKGZpbHRlckFjdGlvbiA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgZXJyb3JIYW5kbGVyKGVycm9yLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGRlbGF5KFxuICAgICAgICAgIHR5cGVvZiByZXRyeURlbGF5ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gcmV0cnlEZWxheShpICsgMSlcbiAgICAgICAgICAgIDogcmV0cnlEZWxheSAqICgwLjggKyAwLjQgKiBNYXRoLnJhbmRvbSgpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZmlsdGVyQWN0aW9uID09PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICBpID0gLTE7XG4gICAgICAgICAgcHJldmlvdXNFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwIGFzIG5ldmVyO1xufTtcblxuLyoqXG4gKiAgTm8tb3AgZnVuY3Rpb24gdG8gdmFsaWRhdGUgdHlwZXMgaW4gVHlwZVNjcmlwdC4gQmVjYXVzZSBmdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZSBjb250cmF2YXJpYW50LCBwYXNzaW5nIGFuIGV2ZW50IHRoYXQgZG9lcyBub3QgbWF0Y2ggb24gYWxsIHByb3BlcnRpZXMgd2lsbCBnZXQgcmVkIHdpZ2dseSBsaW5lcylcbiAqL1xuZXhwb3J0IGNvbnN0IHJlc3RyaWN0OiB7XG4gIDxUPihpdGVtOiBUKTogVDtcbn0gPSAoaXRlbTogYW55KSA9PiBpdGVtIGFzIGFueTtcbiIsImltcG9ydCB7IEFsbEtleXMsIEV4dGVuZHMsIE1heWJlVW5kZWZpbmVkLCB0cnlDYXRjaCB9IGZyb20gXCIuLlwiO1xuXG4vKipcbiAqIFRoZSBFQ01BU2NyaXB0IHByaW1pdGl2ZSB0eXBlcy5cbiAqL1xuZXhwb3J0IHR5cGUgUHJpbWl0aXZlcyA9XG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuICB8IHZvaWRcbiAgfCBib29sZWFuXG4gIHwgbnVtYmVyXG4gIHwgYmlnaW50XG4gIHwgc3RyaW5nXG4gIHwgc3ltYm9sXG4gIHwgRGF0ZTtcblxuZXhwb3J0IHR5cGUgTm9uQXN5bmMgPVxuICB8IFByaW1pdGl2ZXNcbiAgfCBJdGVyYWJsZTxhbnk+XG4gIHwgKCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KVxuICB8IFNpbXBsZU9iamVjdDtcblxuLyoqXG4gKiBDb21tb24gZnVuY3Rpb24gdHlwZSB1c2VkIGZvciBwcm9qZWN0aW9uIG9mIFtrZXksdmFsdWVdIGVudHJpZXMuXG4gKi9cbmV4cG9ydCB0eXBlIEtleVZhbHVlUHJvamVjdGlvbjxLLCBWLCBSPiA9IChcbiAgZW50cnk6IFtrZXk6IEssIHZhbHVlOiBWXSxcbiAgaW5kZXg6IG51bWJlclxuKSA9PiBSO1xuXG4vKipcbiAqIEFueXRoaW5nIGJ1dCBhIHByb21pc2UuXG4gKi9cbmV4cG9ydCB0eXBlIE5vdFByb21pc2UgPSB7IHRoZW4/OiBuZXZlciB9O1xuXG4vKipcbiAqIEFueXRoaW5nIGJ1dCBhIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgdHlwZSBOb3RGdW5jdGlvbiA9XG4gIHwgYmlnaW50XG4gIHwgYm9vbGVhblxuICB8IG51bGxcbiAgfCBudW1iZXJcbiAgfCBzdHJpbmdcbiAgfCBzeW1ib2xcbiAgfCB1bmRlZmluZWRcbiAgfCB7XG4gICAgICBba2V5OiBzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2xdOiBhbnk7XG4gICAgICBbU3ltYm9sLmhhc0luc3RhbmNlXT86IG5ldmVyO1xuICAgIH07XG5cbi8qKiBTaG9ydGVyIHRoYW4gd3JpdGluZyBhbGwgdGhpcyBvdXQsIGFuZCBzbGlnaHRseSBlYXNpZXIgdG8gcmVhZC4gKi9cbmV4cG9ydCB0eXBlIE51bGxpc2ggPSBudWxsIHwgdW5kZWZpbmVkO1xuZXhwb3J0IHR5cGUgQ2FwdHVyZU51bGxpc2g8UGFyYW1ldGVyLCBOdWxscz4gPSAoUGFyYW1ldGVyIHwgTnVsbGlzaCkgJiBOdWxscztcbmV4cG9ydCB0eXBlIE1heWJlTnVsbGlzaDxSZXR1cm5UeXBlLCBOdWxscyA9IFJldHVyblR5cGU+ID0gTnVsbHMgZXh0ZW5kcyBOdWxsaXNoXG4gID8gTnVsbHNcbiAgOiBSZXR1cm5UeXBlO1xuXG5leHBvcnQgdHlwZSBQcm9taXNlSWZQcm9taXNlTGlrZTxcbiAgVmFsdWUsXG4gIFBhcmFtZXRlclZhbHVlID0gVmFsdWVcbj4gPSBQYXJhbWV0ZXJWYWx1ZSBleHRlbmRzIFByb21pc2VMaWtlPGFueT5cbiAgPyBQcm9taXNlPFVud3JhcFByb21pc2VMaWtlPFZhbHVlPj5cbiAgOiBWYWx1ZTtcblxuZXhwb3J0IGNvbnN0IGlzVHJ1aXNoID0gPFQ+KHZhbHVlOiBUKTogdmFsdWUgaXMgRXhjbHVkZTxULCBGYWxzaXNoPiA9PiAhIXZhbHVlO1xuZXhwb3J0IGNvbnN0IGlzVHJ1ZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgdHJ1ZSA9PiB2YWx1ZSA9PT0gVDtcbmV4cG9ydCBjb25zdCBpc05vdFRydWUgPSA8VD4odmFsdWU6IFQpOiB2YWx1ZSBpcyBFeGNsdWRlPFQsIHRydWU+ID0+XG4gIHZhbHVlICE9PSBUO1xuXG5leHBvcnQgdHlwZSBGYWxzaXNoID0gdm9pZCB8IG51bGwgfCB1bmRlZmluZWQgfCAwIHwgXCJcIiB8IGZhbHNlO1xuZXhwb3J0IHR5cGUgQ2FwdHVyZUZhbHNpc2g8UGFyYW1ldGVyLCBOdWxscz4gPSAoUGFyYW1ldGVyIHwgRmFsc2lzaCkgJiBOdWxscztcbmV4cG9ydCB0eXBlIE1heWJlRmFsc2lzaDxcbiAgUmV0dXJuVHlwZSxcbiAgVmFsdWUgPSBSZXR1cm5UeXBlXG4+ID0gUmV0dXJuVHlwZSBleHRlbmRzIEZhbHNpc2hcbiAgPyBSZXR1cm5UeXBlIGV4dGVuZHMgTnVsbGlzaFxuICAgID8gUmV0dXJuVHlwZVxuICAgIDogdW5kZWZpbmVkXG4gIDogVmFsdWU7XG5cbmV4cG9ydCB0eXBlIE51bGxpc2hPckZhbHNlID0gdm9pZCB8IG51bGwgfCB1bmRlZmluZWQgfCBmYWxzZTtcbmV4cG9ydCB0eXBlIENhcHR1cmVOdWxsaXNoT3JGYWxzZTxQYXJhbWV0ZXIsIE51bGxzPiA9IChcbiAgfCBQYXJhbWV0ZXJcbiAgfCBOdWxsaXNoT3JGYWxzZVxuKSAmXG4gIE51bGxzO1xuXG5leHBvcnQgdHlwZSBNYXliZU51bGxpc2hPckZhbHNlPFxuICBSZXR1cm5UeXBlLFxuICBQYXJhbWV0ZXIgPSBSZXR1cm5UeXBlXG4+ID0gUGFyYW1ldGVyIGV4dGVuZHMgTnVsbGlzaE9yRmFsc2VcbiAgPyBQYXJhbWV0ZXIgZXh0ZW5kcyBOdWxsaXNoXG4gICAgPyBQYXJhbWV0ZXJcbiAgICA6IHVuZGVmaW5lZFxuICA6IFJldHVyblR5cGU7XG5cbi8qKiBBIHJlY29yZCB0eXBlIHRoYXQgaXMgbmVpdGhlciBpdGVyYWJsZSBvciBhIGZ1bmN0aW9uLiAqL1xuZXhwb3J0IHR5cGUgU2ltcGxlT2JqZWN0PEsgZXh0ZW5kcyBrZXlvZiBhbnkgPSBrZXlvZiBhbnksIFYgPSBhbnk+ID0gb2JqZWN0ICYge1xuICByZWFkb25seSBbUCBpbiBLXT86IFY7XG59ICYge1xuICBbU3ltYm9sLml0ZXJhdG9yXT86IG5ldmVyO1xuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPzogbmV2ZXI7XG4gIFtTeW1ib2wuaGFzSW5zdGFuY2VdPzogbmV2ZXI7XG5cbiAgdGhlbj8oXG4gICAgb25mdWxmaWxsZWQ/OiAoKHZhbHVlOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgIG9ucmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBhbnkpIHwgdW5kZWZpbmVkIHwgbnVsbFxuICApOiBuZXZlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFVud3JhcFByb21pc2VMaWtlPFQ+ID0gVCBleHRlbmRzIFByb21pc2VMaWtlPGluZmVyIFQ+XG4gID8gVW53cmFwUHJvbWlzZUxpa2U8VD5cbiAgOiBUO1xuXG5leHBvcnQgdHlwZSBNYXliZVByb21pc2VMaWtlPFQ+ID0gVCB8IFByb21pc2VMaWtlPFQ+O1xuXG5leHBvcnQgdHlwZSBNYXliZVByb21pc2U8VD4gPSBUIHwgUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBTaG9ydGhhbmQgZm9yIGEgdmFsdWUgdGhhdCBpcyBvcHRpb25hbGx5IGF3YWl0YWJsZS5cbiAqL1xuZXhwb3J0IHR5cGUgVG9nZ2xlUHJvbWlzZTxULCBUb2dnbGUgPSBib29sZWFuPiA9IFRvZ2dsZSBleHRlbmRzXG4gIHwgdHJ1ZVxuICB8IFByb21pc2VMaWtlPGFueT5cbiAgPyBUIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PlxuICAgID8gVFxuICAgIDogUHJvbWlzZUxpa2U8VD5cbiAgOiBUIGV4dGVuZHMgUHJvbWlzZUxpa2U8aW5mZXIgVD5cbiAgPyBVbndyYXBQcm9taXNlTGlrZTxUPlxuICA6IFQ7XG5cbi8qKlxuICogVHJpY2sgZm9yIGhhdmluZyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG5vbi1udWxsIHZhbHVlLCBpZiBhIGZvcm1hbCBwYXJhbWV0ZXIgYWx3YXlzIGhhcyBhIG5vbi1udWxsIHZhbHVlLFxuICogc2ltaWxhciB0byAuTkVUJ3MgW05vdE51bGxJZk5vdE51bGxdLlxuICpcbiAqIElmIHRoZSBhY3R1YWwgcGFyYW1ldGVyIGNhbiBoYXZlIGEgbnVsbCBvciB1bmRlZmluZWQgdmFsdWUgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGluY2x1ZGUgdGhlc2Ugb3B0aW9ucy5cbiAqXG4gKiBgZnVuY3Rpb24gZXhhbXBsZTxULEE+KGFyZzogKFR8bnVsbHx1bmRlZmluZWQpJkEpOiBzdHJpbmcgfCBOdWxsPEE+IHsuLi59YFxuICogYGV4YW1wbGUoODApYCByZXR1cm5zIGBzdHJpbmdgXG4gKiAgYGNvbnN0IHg6IG51bWJlcnxudWxsOyBleGFtcGxlKHgpYCByZXR1cm5zIGBzdHJpbmd8bnVsbGAuXG4gKlxuICogVGhlcmUgY2FuIGFsc28gYmUgYSBcIm51bGxcIiBkZWZhdWx0IChzbyBhbGwgTnVsbCdpc2ggdmFsdWVzIG1hcHMgdG8gb25lIHZhbHVlKS4gSWYgdGhlIGZ1bmN0aW9uIGFib3ZlIHJldHVybmVkIGBzdHJpbmcgfCBOdWxsPFQsdW5kZWZpbmVkPmAsIHRoZW5cbiAqIGBleGFtcGxlKHgpYCByZXR1cm5zIGBzdHJpbmd8dW5kZWZpbmVkYC5cbiAqXG4gKiBAb2Jzb2xldGVcbiAqL1xuZXhwb3J0IHR5cGUgTnVsbHM8VCwgTnVsbExldmVscyA9IG51bGwgfCB1bmRlZmluZWQ+ID0gVCBleHRlbmRzXG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuICB8IHZvaWRcbiAgPyBUIGV4dGVuZHMgTnVsbExldmVscyB8IHZvaWRcbiAgICA/IFQgJiBOdWxsTGV2ZWxzXG4gICAgOiBOdWxsTGV2ZWxzXG4gIDogbmV2ZXI7XG5cbi8qKiBJZiBhbnkgdHlwZSBpbiBhIHVuaW9uIGhhcyBhIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdGhhdCBjYW5ub3QgYmUgbnVsbCdpc2guKi9cbmV4cG9ydCB0eXBlIEhhc1JlcXVpcmVkUHJvcGVydHk8VCwgUD4gPSB0cnVlIGV4dGVuZHMgKFxuICBUIGV4dGVuZHMgaW5mZXIgVFxuICAgID8gdHJ1ZSBleHRlbmRzIEV4dGVuZHM8XG4gICAgICAgIE51bGxpc2gsXG4gICAgICAgIGtleW9mIFQgZXh0ZW5kcyBQID8gVFtQICYga2V5b2YgVF0gOiBQIGV4dGVuZHMga2V5b2YgVCA/IFRbUF0gOiBuZXZlclxuICAgICAgPlxuICAgICAgPyBmYWxzZVxuICAgICAgOiB0cnVlXG4gICAgOiBuZXZlclxuKVxuICA/IHRydWVcbiAgOiBmYWxzZTtcblxuZXhwb3J0IHR5cGUgSWZOZXZlcjxULCBEZWZhdWx0PiA9IFtUXSBleHRlbmRzIFtuZXZlcl0gPyBEZWZhdWx0IDogVDtcbmV4cG9ydCB0eXBlIElmTm90TmV2ZXI8VGVzdCwgVmFsdWUsIERlZmF1bHQgPSBuZXZlcj4gPSBbVGVzdF0gZXh0ZW5kcyBbbmV2ZXJdXG4gID8gRGVmYXVsdFxuICA6IFZhbHVlO1xuXG5leHBvcnQgdHlwZSBGaWx0ZXI8VCwgRmlsdGVyVHlwZXMsIERlZmF1bHQgPSBuZXZlcj4gPSBJZk5ldmVyPFxuICBUIGV4dGVuZHMgaW5mZXIgVCA/IChUIGV4dGVuZHMgRmlsdGVyVHlwZXMgPyBUIDogbmV2ZXIpIDogbmV2ZXIsXG4gIERlZmF1bHRcbj47XG5cbi8qKiBSZXR1cm5zIHRoZSB0eXBlIG9mIGEgcHJvcGVydHkgZm9yIGVhY2ggdHlwZSBpbiBhIHVuaW9uIHdoZW4gdGhlIHR5cGUgaGFzIHRoZSBnaXZlbiBwcm9wZXJ0eS4gKi9cbmV4cG9ydCB0eXBlIFByb3BlcnR5PFQsIFA+ID0gVCBleHRlbmRzIGluZmVyIFRcbiAgPyBrZXlvZiBUIGV4dGVuZHMgUFxuICAgID8gVFtQICYga2V5b2YgVF1cbiAgICA6IFAgZXh0ZW5kcyBrZXlvZiBUXG4gICAgPyBUW1BdXG4gICAgOiBuZXZlclxuICA6IG5ldmVyO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdHlwZSB3aGVyZSB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBmcm9tIGFueSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVzLlxuICogVGhpcyBjYW4gbWFrZSBsaWZlIGVhc2llciBmb3IgY29kZSB3b3JraW5nIHdpdGggcG9seW1vcnBoaWMgdHlwZXMuXG4gKi9cblxuZXhwb3J0IHR5cGUgQ29tbW9uVHlwZVRlbXBsYXRlPFRzPiA9IHtcbiAgW1AgaW4gQWxsS2V5czxUcz5dPzogVHMgZXh0ZW5kcyBpbmZlciBUXG4gICAgPyBQIGV4dGVuZHMga2V5b2YgVFxuICAgICAgPyBUW1BdXG4gICAgICA6IG5ldmVyXG4gICAgOiBuZXZlcjtcbn07XG5cbi8qKlxuICogTWFwcyBhbGwgbnVsbCdpc2ggdHlwZXMgdG8gYHVuZGVmaW5lZGAuXG4gKi9cbmV4cG9ydCB0eXBlIFVuZGVmaW5lZDxUPiA9IFQgZXh0ZW5kcyBOdWxsaXNoIHwgdm9pZCA/IHVuZGVmaW5lZCA6IFQ7XG5cbmV4cG9ydCB0eXBlIEV4cGFuZFR5cGVzPFxuICBUcyxcbiAgQ29tbW9uID0gQ29tbW9uVHlwZVRlbXBsYXRlPFRzPlxuPiA9IFRzIGV4dGVuZHMgaW5mZXIgVFxuICA/IHtcbiAgICAgIFtQIGluIGtleW9mIENvbW1vbl06IFAgZXh0ZW5kcyBrZXlvZiBUID8gVFtQXSA6IENvbW1vbltQXTtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbi8qIEpTT04gKi9cblxuLyoqIE1lcmdlcyBwcm9wZXJ0aWVzIGluIGEgdW5pb24gd2hpY2ggbWFrZXMgaXQgbG9vayBwcmV0dGllciBpbiBJbnRlbGxpc2Vuc2UuICovXG5leHBvcnQgdHlwZSBQcmV0dHk8VD4gPSBUIGV4dGVuZHMgaW5mZXIgVCA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfSA6IG5ldmVyO1xuXG4vKipcbiAqIFVzZSBmb3IgZnVuY3Rpb24gcGFyYW1ldGVycyB3aGVyZSB5b3Ugd2FudCBhbiBhcnJheSB0byBiZSBpbnRlcnByZXRlZCBhcyBhcyB0dXBsZSB3aXRoIGEgZmluaXRlIG51bWJlciBvZiBlbGVtZW50cy5cbiAqXG4gKiBCeSBzdWdnZXN0aW5nIGEgcGFyYW1ldGVyIG1heSBiZSBhIG9uZS10dXBsZSwgVHlwZVNjcmlwdCB3aWxsIHRyZWF0IHRoZSBhcmd1bWVudCBhcyBhIHR1cGxlLFxuICogYWxzbyBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBlbGVtZW50LlxuICovXG5leHBvcnQgdHlwZSBUdXBsZVBhcmFtZXRlcjxUPiA9IHJlYWRvbmx5IFRbXSB8IHJlYWRvbmx5IFtUXTtcblxuLyoqIE1pbmlmeSBmcmllbmRseSB2ZXJzaW9uIG9mIGBmYWxzZWAuICovXG5leHBvcnQgY29uc3QgdW5kZWZpbmVkID0gdm9pZCAwO1xuXG4vKiogQ2FjaGluZyB0aGlzIHZhbHVlIHBvdGVudGlhbGx5IHNwZWVkcyB1cCB0ZXN0cyByYXRoZXIgdGhhbiB1c2luZyBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuLyoqIENhY2hpbmcgdGhpcyB2YWx1ZSBwb3RlbnRpYWxseSBzcGVlZHMgdXAgdGVzdHMgcmF0aGVyIHRoYW4gdXNpbmcgYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC4gKi9cbmV4cG9ydCBjb25zdCBNSU5fU0FGRV9JTlRFR0VSID0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI7XG5cbi8qKiBNaW5pZnkgZnJpZW5kbHkgdmVyc2lvbiBvZiBgZmFsc2VgLiAqL1xuZXhwb3J0IGNvbnN0IEYgPSBmYWxzZTtcblxuLyoqIE1pbmlmeSBmcmllbmRseSB2ZXJzaW9uIG9mIGB0cnVlYC4gKi9cbmV4cG9ydCBjb25zdCBUID0gdHJ1ZTtcblxuLyoqIE1pbmlmeSBmcmllbmRseSB2ZXJzaW9uIG9mIGBudWxsYC4gKi9cbmV4cG9ydCBjb25zdCBuaWwgPSBudWxsO1xuXG5leHBvcnQgdHlwZSBOb09wRnVuY3Rpb24gPSAoLi4uYXJnczogYW55KSA9PiB2b2lkO1xuXG4vKiogQSBmdW5jdGlvbiB0aGF0IGRvZXMgbm90aGluZy4gKi9cbmV4cG9ydCBjb25zdCBOT09QOiBOb09wRnVuY3Rpb24gPSAoKSA9PiB7fTtcblxuZXhwb3J0IHR5cGUgSWRlbnRpdHlGdW5jdGlvbiA9IDxUPihpdGVtOiBULCAuLi5hcmdzOiBhbnkpID0+IFQ7XG5cbi8qKiBUaGUgaWRlbnRpdHkgZnVuY3Rpb24gKHgpPT54LiAqL1xuZXhwb3J0IGNvbnN0IElERU5USVRZOiBJZGVudGl0eUZ1bmN0aW9uID0gKGl0ZW06IGFueSkgPT4gaXRlbTtcblxuZXhwb3J0IHR5cGUgTnVsbEZpbHRlckZ1bmN0aW9uID0gPFQ+KGl0ZW06IFQgfCBOdWxsaXNoKSA9PiBib29sZWFuO1xuXG4vKiogQSBmdW5jdGlvbiB0aGF0IGZpbHRlcnMgb3V0IHZhbHVlcyAhPSBudWxsLiAqL1xuZXhwb3J0IGNvbnN0IEZJTFRFUl9OVUxMSVNIOiBOdWxsRmlsdGVyRnVuY3Rpb24gPSAoaXRlbTogYW55KSA9PiBpdGVtICE9IG5pbDtcblxuZXhwb3J0IGNvbnN0IE5VTEwgPSAwO1xuZXhwb3J0IGNvbnN0IFVOREVGSU5FRCA9IDE7XG5leHBvcnQgY29uc3QgQk9PTEVBTiA9IDI7XG5leHBvcnQgY29uc3QgTlVNQkVSID0gMztcbmV4cG9ydCBjb25zdCBCSUdJTlQgPSA0O1xuZXhwb3J0IGNvbnN0IFNUUklORyA9IDU7XG5leHBvcnQgY29uc3QgQVJSQVkgPSA2O1xuZXhwb3J0IGNvbnN0IE9CSkVDVCA9IDc7XG5leHBvcnQgY29uc3QgREFURSA9IDg7XG5leHBvcnQgY29uc3QgU1lNQk9MID0gOTtcbmV4cG9ydCBjb25zdCBGVU5DVElPTiA9IDEwO1xuZXhwb3J0IGNvbnN0IElURVJBQkxFID0gMTE7XG5leHBvcnQgY29uc3QgTUFQID0gMTI7XG5leHBvcnQgY29uc3QgU0VUID0gMTM7XG5leHBvcnQgY29uc3QgUFJPTUlTRSA9IDE0O1xuXG5jb25zdCBUMSA9IHtcbiAgW1wiblwiXTogTlVNQkVSLFxuICBbXCJmXCJdOiBGVU5DVElPTixcbn07XG5jb25zdCBUMiA9IHtcbiAgW1wib1wiXTogQk9PTEVBTixcbiAgW1wiaVwiXTogQklHSU5ULFxuICBbXCJ0XCJdOiBTVFJJTkcsXG4gIFtcInlcIl06IFNZTUJPTCxcbn07XG5cbmV4cG9ydCB0eXBlIFR5cGVUZXN0ZXI8VD4gPSAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgVDtcbmV4cG9ydCB0eXBlIFR5cGVDb252ZXJ0ZXI8VD4gPSA8ViwgUCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlPihcbiAgdmFsdWU6IFYsXG4gIHBhcnNlPzogUFxuKSA9PiBUIGV4dGVuZHMgTnVsbGlzaFxuICA/IHVuZGVmaW5lZFxuICA6IFYgZXh0ZW5kcyBUXG4gID8gVlxuICA6ICh0cnVlIGV4dGVuZHMgUCA/IFQgOiBuZXZlcikgfCB1bmRlZmluZWQ7XG5cbi8qKiBVc2luZyB0aGlzIGNhY2hlZCB2YWx1ZSBzcGVlZHMgdXAgdGVzdGluZyBpZiBhbiBvYmplY3QgaXMgaXRlcmFibGUgc2VlbWluZ2x5IGJ5IGFuIG9yZGVyIG9mIG1hZ25pdHVkZS4gKi9cbmV4cG9ydCBjb25zdCBzeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcblxuLyoqIFVzaW5nIHRoaXMgY2FjaGVkIHZhbHVlIHNwZWVkcyB1cCB0ZXN0aW5nIGlmIGFuIG9iamVjdCBpcyBpdGVyYWJsZSBzZWVtaW5nbHkgYnkgYW4gb3JkZXIgb2YgbWFnbml0dWRlLiAqL1xuZXhwb3J0IGNvbnN0IHN5bWJvbEFzeW5jSXRlcmF0b3IgPSBTeW1ib2wuYXN5bmNJdGVyYXRvcjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVR5cGVDb252ZXJ0ZXIgPVxuICAvKiNfX1BVUkVfXyovXG5cbiAgICA8VD4oXG4gICAgICB0eXBlVGVzdGVyOiBUeXBlVGVzdGVyPFQ+LFxuICAgICAgcGFyc2VyPzogKHZhbHVlOiBhbnkpID0+IFQgfCB1bmRlZmluZWRcbiAgICApOiBUeXBlQ29udmVydGVyPFQ+ID0+XG4gICAgKHZhbHVlOiBhbnksIHBhcnNlID0gdHJ1ZSBhcyBhbnkpID0+XG4gICAgICB0eXBlVGVzdGVyKHZhbHVlKVxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogcGFyc2VyICYmIHBhcnNlICYmIHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gcGFyc2VyKHZhbHVlKSkgIT0gbnVsbFxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogKHVuZGVmaW5lZCBhcyBhbnkpO1xuXG5leHBvcnQgY29uc3QgaWZEZWZpbmVkID0gPFQsIFAsIFI+KFxuICB2YWx1ZTogVCxcbiAgcmVzdWx0T3JQcm9wZXJ0eTogKFxuICAgIHwgKEFsbEtleXM8VD4gJiAoa2V5b2YgYW55ICYge30pKVxuICAgIHwgKCh2YWx1ZTogRXhjbHVkZTxULCBOdWxsaXNoPikgPT4gUilcbiAgKSAmXG4gICAgUFxuKTogTWF5YmVVbmRlZmluZWQ8VCwgUCBleHRlbmRzIGtleW9mIGFueSA/IEV4Y2x1ZGU8VCwgTnVsbGlzaD4gOiBSPiA9PlxuICBpc0Z1bmN0aW9uKHJlc3VsdE9yUHJvcGVydHkpXG4gICAgPyB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IChyZXN1bHRPclByb3BlcnR5KHZhbHVlIGFzIGFueSkgYXMgYW55KVxuICAgICAgOiB1bmRlZmluZWRcbiAgICA6IHZhbHVlPy5bcmVzdWx0T3JQcm9wZXJ0eSBhcyBhbnldICE9PSB1bmRlZmluZWRcbiAgICA/IHZhbHVlXG4gICAgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBpc051bGxpc2ggPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIHVuZGVmaW5lZCB8IHZvaWQgfCBudWxsID0+XG4gIHZhbHVlID09IG51bGw7XG5cbmV4cG9ydCBjb25zdCBpc0Jvb2xlYW4gPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIGJvb2xlYW4gPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlQm9vbGVhbiA9IGNyZWF0ZVR5cGVDb252ZXJ0ZXIoaXNCb29sZWFuLCAodmFsdWUpID0+XG4gIHZhbHVlID09IDAgLy8gQm90aCBudW1iZXJzIGFuZCBzdHJpbmcgd2l0aCB0aGUgdmFsdWUgMCBvciAxXG4gICAgPyBmYWxzZVxuICAgIDogdmFsdWUgPT0gMVxuICAgID8gdHJ1ZVxuICAgIDogdmFsdWUgPT09IFwiZmFsc2VcIlxuICAgID8gZmFsc2VcbiAgICA6IHZhbHVlID09PSBcInRydWVcIlxuICAgID8gdHJ1ZVxuICAgIDogdW5kZWZpbmVkXG4pO1xuXG5leHBvcnQgdHlwZSBGYWxzaXNoVG9VbmRlZmluZWQ8XG4gIFQsXG4gIFVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuPiA9IFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxuICA/IHsgW1AgaW4ga2V5b2YgVF06IEZhbHNpc2hUb1VuZGVmaW5lZDxUW1BdPiB9XG4gIDogVCBleHRlbmRzIEZhbHNpc2hcbiAgPyBVbmRlZmluZWRcbiAgOiBUO1xuXG5leHBvcnQgY29uc3QgaXNGYWxzaXNoID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBGYWxzaXNoID0+ICF2YWx1ZTtcblxuZXhwb3J0IGNvbnN0IGlzRmFsc2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIGZhbHNlID0+IHZhbHVlID09PSBGO1xuZXhwb3J0IGNvbnN0IGlzTm90RmFsc2UgPSA8VD4odmFsdWU6IFQpOiB2YWx1ZSBpcyBFeGNsdWRlPFQsIGZhbHNlPiA9PlxuICB2YWx1ZSAhPT0gRjtcblxuZXhwb3J0IGNvbnN0IHRydWlzaDoge1xuICA8VD4oaXRlbXM6IEl0ZXJhYmxlPFQgfCBGYWxzaXNoPiwga2VlcFVuZGVmaW5lZD86IGZhbHNlKTogVFtdO1xuICA8VD4oaXRlbXM6IEl0ZXJhYmxlPFQ+LCBrZWVwVW5kZWZpbmVkOiB0cnVlKTogKFQgZXh0ZW5kcyBGYWxzaXNoXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IFQpW107XG4gIDxUIGV4dGVuZHMgeyBbU3ltYm9sLml0ZXJhdG9yXT86IG5ldmVyIH0gfCBzdHJpbmc+KFxuICAgIHZhbHVlOiBUIHwgRmFsc2lzaFxuICApOiBUIGV4dGVuZHMgRmFsc2lzaCA/IHVuZGVmaW5lZCA6IEV4Y2x1ZGU8VCwgRmFsc2lzaD47XG59ID0gKHZhbHVlOiBhbnksIGtlZXBVbmRlZmluZWQ/OiBib29sZWFuKSA9PlxuICBpc0FycmF5KHZhbHVlKVxuICAgID8ga2VlcFVuZGVmaW5lZFxuICAgICAgPyB2YWx1ZS5tYXAoKGl0ZW0pID0+ICghIWl0ZW0gPyBpdGVtIDogdW5kZWZpbmVkKSlcbiAgICAgIDogdmFsdWUuZmlsdGVyKChpdGVtOiBhbnkpID0+ICEhaXRlbSlcbiAgICA6ICEhdmFsdWVcbiAgICA/ICh2YWx1ZSBhcyBhbnkpXG4gICAgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBpc0ludGVnZXI6ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBudW1iZXIgPVxuICBOdW1iZXIuaXNTYWZlSW50ZWdlciBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBpc051bWJlciA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgbnVtYmVyID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcblxuZXhwb3J0IGNvbnN0IGlzRmluaXRlOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgbnVtYmVyID0gTnVtYmVyLmlzRmluaXRlIGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlTnVtYmVyID0gY3JlYXRlVHlwZUNvbnZlcnRlcihpc051bWJlciwgKHZhbHVlKSA9PlxuICBpc05hTigodmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKSkpID8gdW5kZWZpbmVkIDogdmFsdWVcbik7XG5cbmV4cG9ydCBjb25zdCBpc0JpZ0ludCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgYmlnaW50ID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlQmlnSW50ID0gY3JlYXRlVHlwZUNvbnZlcnRlcihpc0JpZ0ludCwgKHZhbHVlKSA9PlxuICB0cnlDYXRjaCgoKSA9PiBCaWdJbnQodmFsdWUpKVxuKTtcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBzdHJpbmcgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xuXG5leHBvcnQgY29uc3QgdG9TdHJpbmcgPSBjcmVhdGVUeXBlQ29udmVydGVyKGlzU3RyaW5nLCAodmFsdWUpID0+XG4gIHZhbHVlPy50b1N0cmluZygpXG4pO1xuXG5leHBvcnQgY29uc3QgaXNBcnJheTogPFQ+KFxuICB2YWx1ZTogcmVhZG9ubHkgYW55W10gfCBUXG4pID0+IHZhbHVlIGlzIFQgZXh0ZW5kcyBhbnlbXVxuICA/IGFueVtdXG4gIDogdW5rbm93biBleHRlbmRzIFRcbiAgPyBhbnlbXVxuICA6IHJlYWRvbmx5IGFueVtdID0gQXJyYXkuaXNBcnJheSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBpc0Vycm9yID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVycm9yID0+XG4gIHZhbHVlIGluc3RhbmNlb2YgRXJyb3I7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgYXMgYW4gYXJyYXkgZm9sbG93aW5nIHRoZXNlIHJ1bGVzOlxuICogLSBJZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkICh0aGlzIGRvZXMgbm90IGluY2x1ZGUgYG51bGxgKSwgc28gaXMgdGhlIHJldHVybiB2YWx1ZS5cbiAqIC0gSWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgYW4gYXJyYXkgaXRzIG9yaWdpbmFsIHZhbHVlIGlzIHJldHVybmVkIHVubGVzcyBgY2xvbmVgIGlzIHRydWUuIEluIHRoYXQgY2FzZSBhIGNvcHkgb2YgdGhlIHZhbHVlIGlzIHJldHVybmVkLlxuICogLSBJZiB0aGUgdmFsdWUgaXMgaXRlcmFibGUsIGFuIGFycmF5IGNvbnRhaW5pbmcgaXRzIHZhbHVlcyBpcyByZXR1cm5lZFxuICogLSBPdGhlcndpc2UsIGFuIGFycmF5IHdpdGggdGhlIHZhbHVlIGFzIGl0cyBzaW5nbGUgaXRlbSBpcyByZXR1cm5lZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGFycmF5OiB7XG4gIC8vIDxUPih2YWx1ZTogQXN5bmNJdGVyYWJsZTxUPiwgY2xvbmU/OiBib29sZWFuKTogTWF5YmVVbmRlZmluZWQ8XG4gIC8vICAgW1RdWzBdLFxuICAvLyAgIFByb21pc2U8VFtdPlxuICAvLyA+O1xuICA8VD4odmFsdWU6IFQsIGNsb25lPzogYm9vbGVhbik6IFQgZXh0ZW5kcyBhbnlcbiAgICA/IHVua25vd25bXSBleHRlbmRzIFRcbiAgICAgID8gYW55W11cbiAgICAgIDogVCBleHRlbmRzIE51bGxpc2hcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IFQgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBJdGVtPlxuICAgICAgPyBUIGV4dGVuZHMgSXRlbVtdXG4gICAgICAgID8gVFxuICAgICAgICA6IEl0ZW1bXVxuICAgICAgOiBUW11cbiAgICA6IG5ldmVyO1xufSA9IC8qI19fUFVSRV9fKi8gKHZhbHVlOiBhbnksIGNsb25lID0gZmFsc2UgYXMgYW55KTogYW55ID0+XG4gIHZhbHVlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogIWNsb25lICYmIGlzQXJyYXkodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogaXNJdGVyYWJsZSh2YWx1ZSlcbiAgICA/IFsuLi52YWx1ZV1cbiAgICA6IChbdmFsdWVdIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IC8qI19fUFVSRV9fKi8gKFxuICB2YWx1ZTogYW55XG4pOiB2YWx1ZSBpcyBvYmplY3QgJiBSZWNvcmQ8YW55LCBhbnk+ID0+IHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcblxuZXhwb3J0IGNvbnN0IGlzUGxhaW5PYmplY3QgPSAvKiNfX1BVUkVfXyovIChcbiAgdmFsdWU6IGFueVxuKTogdmFsdWUgaXMgU2ltcGxlT2JqZWN0PGtleW9mIGFueSwgYW55PiA9PiB2YWx1ZT8uY29uc3RydWN0b3IgPT09IE9iamVjdDtcblxuZXhwb3J0IGNvbnN0IGhhc1Byb3BlcnR5ID0gLyojX19QVVJFX18qLyA8UCBleHRlbmRzIGtleW9mIGFueT4oXG4gIHZhbHVlOiBhbnksXG4gIHByb3BlcnR5OiBQXG4pOiB2YWx1ZSBpcyB7IFtQcm9wIGluIFBdOiBhbnkgfSA9PiBpc09iamVjdCh2YWx1ZSkgJiYgcHJvcGVydHkgaW4gdmFsdWU7XG5cbmV4cG9ydCBjb25zdCBoYXNNZXRob2RzID0gLyojX19QVVJFX18qLyA8TmFtZXMgZXh0ZW5kcyByZWFkb25seSAoa2V5b2YgYW55KVtdPihcbiAgdmFsdWU6IGFueSxcbiAgLi4ubmFtZXM6IE5hbWVzXG4pOiB2YWx1ZSBpcyB7XG4gIFtQIGluIE5hbWVzW251bWJlcl1dOiAoLi4uYXJnczogYW55KSA9PiBhbnk7XG59ID0+XG4gIHZhbHVlID09IG51bGxcbiAgICA/IGZhbHNlXG4gICAgOiBuYW1lcy5ldmVyeSgobmFtZSkgPT4gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIpO1xuXG5leHBvcnQgY29uc3QgaGFzTWV0aG9kID0gLyojX19QVVJFX18qLyA8TmFtZSBleHRlbmRzIGtleW9mIGFueT4oXG4gIHZhbHVlOiBhbnksXG4gIG5hbWU6IE5hbWVcbik6IHZhbHVlIGlzIHtcbiAgW1AgaW4gTmFtZV06ICguLi5hcmdzOiBhbnkpID0+IGFueTtcbn0gPT4gdHlwZW9mICh2YWx1ZSBhcyBhbnkpPy5bbmFtZV0gPT09IFwiZnVuY3Rpb25cIjtcblxuZXhwb3J0IGNvbnN0IGlzRGF0ZSA9IC8qI19fUFVSRV9fKi8gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBEYXRlID0+XG4gIHZhbHVlIGluc3RhbmNlb2YgRGF0ZTtcbmV4cG9ydCBjb25zdCBwYXJzZURhdGUgPSBjcmVhdGVUeXBlQ29udmVydGVyKGlzRGF0ZSwgKHZhbHVlKSA9PlxuICBpc05hTigodmFsdWUgPSBEYXRlLnBhcnNlKHZhbHVlKSkpID8gdW5kZWZpbmVkIDogdmFsdWVcbik7XG5cbmV4cG9ydCBjb25zdCBpc1N5bWJvbCA9IC8qI19fUFVSRV9fKi8gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBzeW1ib2wgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcInN5bWJvbFwiO1xuXG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbiA9IC8qI19fUFVSRV9fKi8gKFxuICB2YWx1ZTogYW55XG4pOiB2YWx1ZSBpcyAoLi4uYXJnczogYW55KSA9PiBhbnkgPT4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBpc1Byb21pc2VMaWtlID0gLyojX19QVVJFX18qLyAoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzIFByb21pc2VMaWtlPGFueT4gPT4gISF2YWx1ZT8uW1widGhlblwiXTtcblxuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAvKiNfX1BVUkVfXyovIChcbiAgdmFsdWU6IGFueSxcbiAgYWNjZXB0U3RyaW5ncyA9IGZhbHNlXG4pOiB2YWx1ZSBpcyBJdGVyYWJsZTxhbnk+ID0+XG4gICEhKHZhbHVlPy5bc3ltYm9sSXRlcmF0b3JdICYmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIgfHwgYWNjZXB0U3RyaW5ncykpO1xuXG5leHBvcnQgY29uc3QgaXNBc3luY0l0ZXJhYmxlID0gLyojX19QVVJFX18qLyAoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzIEFzeW5jSXRlcmFibGU8YW55PiA9PiAhIXZhbHVlPy5bc3ltYm9sQXN5bmNJdGVyYXRvcl07XG5cbmV4cG9ydCBjb25zdCB0b0l0ZXJhYmxlID0gLyojX19QVVJFX18qLyA8VD4oXG4gIHZhbHVlOiBUIHwgSXRlcmFibGU8VD5cbik6IEl0ZXJhYmxlPFQ+ID0+IChpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSk7XG5cbmV4cG9ydCBjb25zdCBhc01hcDogPFQgZXh0ZW5kcyBJdGVyYWJsZTxyZWFkb25seSBbYW55LCBhbnldPiB8IE51bGxpc2g+KFxuICB2YWx1ZXM6IFRcbikgPT4gVCBleHRlbmRzIEl0ZXJhYmxlPHJlYWRvbmx5IFtpbmZlciBLZXksIGluZmVyIFZhbHVlXT5cbiAgPyBNYXA8S2V5LCBWYWx1ZT5cbiAgOiB1bmRlZmluZWQgPSAvKiNfX1BVUkVfXyovICh2YWx1ZXM6IGFueSk6IGFueSA9PlxuICB2YWx1ZXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG5ldyBTZXQodmFsdWVzKTtcblxuZXhwb3J0IGNvbnN0IGlzTWFwID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE1hcDxhbnksIGFueT4gPT5cbiAgdmFsdWUgaW5zdGFuY2VvZiBNYXA7XG5cbmV4cG9ydCBjb25zdCBhc1NldDogPFQgZXh0ZW5kcyBJdGVyYWJsZTxhbnk+IHwgTnVsbGlzaD4oXG4gIHZhbHVlczogVFxuKSA9PiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD4gPyBTZXQ8VD4gOiB1bmRlZmluZWQgPSAvKiNfX1BVUkVfXyovIChcbiAgdmFsdWVzOiBhbnlcbik6IGFueSA9PiAodmFsdWVzID09IG51bGwgPyB1bmRlZmluZWQgOiBuZXcgU2V0KHZhbHVlcykpO1xuXG5leHBvcnQgY29uc3QgaXNTZXQgPSAvKiNfX1BVUkVfXyovICh2YWx1ZTogYW55KTogdmFsdWUgaXMgU2V0PGFueT4gPT5cbiAgdmFsdWUgaW5zdGFuY2VvZiBTZXQ7XG5cbmV4cG9ydCBjb25zdCBpc0F3YWl0YWJsZSA9IC8qI19fUFVSRV9fKi8gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlPGFueT4gPT5cbiAgISF2YWx1ZT8udGhlbjtcblxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgaXMgYSBwcm9taXNlLCBpdCB3aWxsIGJlIGF3YWl0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBhd2FpdElmQXdhaXRhYmxlID0gPFQsIFI+KFxuICB2YWx1ZTogVCxcbiAgYWN0aW9uOiAodmFsdWU6IFQgZXh0ZW5kcyBQcm9taXNlTGlrZTxpbmZlciBUPiA/IFQgOiBUKSA9PiBSXG4pOiBUb2dnbGVQcm9taXNlPFIsIFQ+ID0+XG4gICh2YWx1ZSBhcyBhbnkpPy50aGVuPy4oKHZhbHVlOiBhbnkpID0+IGFjdGlvbih2YWx1ZSkpID8/IGFjdGlvbih2YWx1ZSBhcyBhbnkpO1xuXG5leHBvcnQgY29uc3QgdHlwZUNvZGUgPSAodmFsdWU6IGFueSwgdHlwZU5hbWUgPSB0eXBlb2YgdmFsdWUpID0+XG4gIHZhbHVlID09IG51bGxcbiAgICA/IHZhbHVlID09PSBudWxsXG4gICAgICA/IE5VTExcbiAgICAgIDogVU5ERUZJTkVEXG4gICAgOiBUMVt0eXBlTmFtZVswXV0gPz9cbiAgICAgIFQyW3R5cGVOYW1lWzFdXSA/P1xuICAgICAgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gQVJSQVkgOiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBEQVRFIDogT0JKRUNUKTtcblxuLyoqXG4gKiBSb3VuZCBhIG51bWJlciBvZiB0byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFscy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJvdW5kID0gPFQgZXh0ZW5kcyBudW1iZXIgfCBOdWxsaXNoPihcbiAgbnVtYmVyOiBULFxuICBkZWNpbWFscz86IG51bWJlciB8IGJvb2xlYW5cbik6IE1heWJlVW5kZWZpbmVkPFQsIG51bWJlcj4gPT5cbiAgbnVtYmVyID09IG51bGxcbiAgICA/ICh1bmRlZmluZWQgYXMgYW55KVxuICAgIDogZGVjaW1hbHMgPT09IGZhbHNlXG4gICAgPyBudW1iZXJcbiAgICA6ICgoZGVjaW1hbHMgPSBNYXRoLnBvdygxMCwgIWRlY2ltYWxzIHx8IGRlY2ltYWxzID09PSB0cnVlID8gMCA6IGRlY2ltYWxzKSksXG4gICAgICBNYXRoLnJvdW5kKG51bWJlciAqIGRlY2ltYWxzKSAvIGRlY2ltYWxzKTtcblxuY29uc3QgdGVzdEZpcnN0TGFzdCA9IChzOiBzdHJpbmcsIGZpcnN0OiBzdHJpbmcsIGxhc3Q6IHN0cmluZykgPT5cbiAgc1swXSA9PT0gZmlyc3QgJiYgc1tzLmxlbmd0aCAtIDFdID09PSBsYXN0O1xuXG5leHBvcnQgY29uc3QgaXNKc29uU3RyaW5nID0gKHZhbHVlOiBhbnkpOiBib29sZWFuID0+XG4gIGlzU3RyaW5nKHZhbHVlKSAmJlxuICAodGVzdEZpcnN0TGFzdCh2YWx1ZSwgXCJ7XCIsIFwifVwiKSB8fCB0ZXN0Rmlyc3RMYXN0KHZhbHVlLCBcIltcIiwgXCJdXCIpKTtcblxuZXhwb3J0IHR5cGUgTXV0YWJsZTxUPiA9IFQgZXh0ZW5kc1xuICB8IE1hcDxhbnksIGFueT5cbiAgfCBXZWFrTWFwPGFueSwgYW55PlxuICB8IFNldDxhbnk+XG4gIHwgV2Vha1NldDxhbnk+XG4gID8gVFxuICA6IFQgZXh0ZW5kcyBSZWFkb25seU1hcDxpbmZlciBLLCBpbmZlciBWPlxuICA/IE1hcDxLLCBWPlxuICA6IFQgZXh0ZW5kcyBSZWFkb25seVNldDxpbmZlciBLPlxuICA/IFNldDxLPlxuICA6IFQgZXh0ZW5kcyBQcmltaXRpdmVzXG4gID8gVFxuICA6IHsgLXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBNdXRhYmxlPFRbUF0+IH07XG5cbi8qKiBGb3Igd2hlbiBhbiBvYmplY3QgdGhhdCBjb250YWlucyBpbnRlcm5hbCBzdGF0ZSB0aGF0IG5lZWRzIHRvIGJlIGNoYW5nZWQgaXMgZXhwb3NlZCBhcyByZWFkLW9ubHkgcHVibGljIHByb3BlcnR5LiAqL1xuZXhwb3J0IGNvbnN0IG11dGF0ZTIgPSAvKiNfX1BVUkVfXyovIDxUPih0YXJnZXQ6IFQpOiBNdXRhYmxlPFQ+ID0+XG4gIHRhcmdldCBhcyBhbnk7XG4iLCJpbXBvcnQge1xuICBBbGxLZXlzLFxuICBBbnlBbGwsXG4gIEFycmF5c0FzRW1wdHksXG4gIEVudHJpZXMsXG4gIEV4dGVuZHMsXG4gIEZJTFRFUl9OVUxMSVNILFxuICBGYWxzaXNoLFxuICBHZW5lcmFsaXplQ29uc3RhbnRzLFxuICBJZixcbiAgSWZOb3QsXG4gIEl0ZXJhYmxlT3JBcnJheUxpa2UsXG4gIEtleVZhbHVlUGFpcnNUb09iamVjdCxcbiAgS2V5VmFsdWVTb3VyY2UsXG4gIEtleVZhbHVlU291cmNlc1RvT2JqZWN0LFxuICBNQVhfU0FGRV9JTlRFR0VSLFxuICBNYXliZVVuZGVmaW5lZCxcbiAgTnVsbGlzaCxcbiAgT21pdE51bGxpc2gsXG4gIFByb3BlcnR5LFxuICBTaW1wbGVPYmplY3QsXG4gIFN0cmljdFVuZGVmaW5lZCxcbiAgU3VidHJhY3QsXG4gIFVuZGVmaW5lZElmRW1wdHksXG4gIFVuaW9uVG9JbnRlcnNlY3Rpb24sXG4gIGFkZCxcbiAgYXJyYXksXG4gIGFycmF5MixcbiAgZ2V0LFxuICBpZkRlZmluZWQsXG4gIGlzQXJyYXksXG4gIGlzQm9vbGVhbixcbiAgaXNGYWxzaXNoLFxuICBpc0Z1bmN0aW9uLFxuICBpc0l0ZXJhYmxlLFxuICBpc01hcCxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1NldCxcbiAgaXNTdHJpbmcsXG4gIGlzVHJ1aXNoLFxuICBzeW1ib2xJdGVyYXRvcixcbiAgdW5kZWZpbmVkLFxufSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY29uc3QgVVRGMTZNQVggPSAweGZmZmY7XG5cbmxldCBzdG9wSW52b2tlZCA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHN0b3AgPSAoeWllbGRWYWx1ZT86IGFueSkgPT4gKChzdG9wSW52b2tlZCA9IHRydWUpLCB5aWVsZFZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IHRvQ2hhckNvZGVzID0gKHM6IHN0cmluZykgPT5cbiAgWy4uLm5ldyBBcnJheShzLmxlbmd0aCldLm1hcCgoXywgaSkgPT4gcy5jaGFyQ29kZUF0KGkpKTtcbmV4cG9ydCBjb25zdCBjb2RlUG9pbnQgPSAoc3RyaW5nOiBzdHJpbmcsIGluZGV4OiBudW1iZXIgPSAwKSA9PlxuICBzdHJpbmcuY29kZVBvaW50QXQoaW5kZXgpITtcblxuZXhwb3J0IHR5cGUgUHJvcGVySXRlcmF0b3JTb3VyY2UgPSBJdGVyYWJsZTxhbnk+IHwgU2ltcGxlT2JqZWN0O1xuZXhwb3J0IHR5cGUgSXRlcmF0b3JTb3VyY2UgPVxuICB8IE51bGxpc2hcbiAgfCBudW1iZXJcbiAgfCBJdGVyYWJsZTxhbnk+XG4gIHwgU2ltcGxlT2JqZWN0XG4gIHwgTmF2aWdhdGluZ0l0ZXJhdG9yU3RlcDtcblxuZXhwb3J0IHR5cGUgSXRlcmF0b3JTb3VyY2VPZjxUPiA9XG4gIHwgKFQgZXh0ZW5kcyBudW1iZXIgPyBudW1iZXIgOiBuZXZlcilcbiAgfCBJdGVyYWJsZTxUPlxuICB8IChUIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEssIGluZmVyIFZdXG4gICAgICA/IEsgZXh0ZW5kcyBrZXlvZiBhbnlcbiAgICAgICAgPyBTaW1wbGVPYmplY3Q8SywgVj5cbiAgICAgICAgOiBuZXZlclxuICAgICAgOiBuZXZlcilcbiAgfCBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwPFQ+O1xuXG5leHBvcnQgdHlwZSBJdGVyYXRvckl0ZW08UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPiA9IHVua25vd24gZXh0ZW5kcyBTXG4gID8gYW55XG4gIDogUyBleHRlbmRzIG51bWJlclxuICA/IG51bWJlclxuICA6IFMgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPlxuICA/IFRcbiAgOiBTIGV4dGVuZHMgU2ltcGxlT2JqZWN0PGluZmVyIEssIGluZmVyIFY+XG4gID8gcmVhZG9ubHkgW0ssIFZdXG4gIDogUyBleHRlbmRzIEFycmF5TGlrZTxpbmZlciBUPlxuICA/IFRcbiAgOiBTIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgVCB8IE51bGxpc2hcbiAgPyBUXG4gIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIEl0ZXJhdG9ySXRlbXM8UyBleHRlbmRzIHJlYWRvbmx5IEl0ZXJhdG9yU291cmNlW10+ID1cbiAgUyBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBTXVxuICAgID8gSXRlcmF0b3JJdGVtPFMgJiBJdGVyYXRvclNvdXJjZT5cbiAgICA6IFMgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgUywgLi4uaW5mZXIgUmVzdF1cbiAgICA/IEl0ZXJhdG9ySXRlbTxTICYgSXRlcmF0b3JTb3VyY2U+IHwgSXRlcmF0b3JJdGVtczxSZXN0ICYgSXRlcmF0b3JTb3VyY2VbXT5cbiAgICA6IFMgZXh0ZW5kcyByZWFkb25seSAoaW5mZXIgUylbXVxuICAgID8gSXRlcmF0b3JJdGVtPFMgJiBJdGVyYXRvclNvdXJjZT5cbiAgICA6IG5ldmVyO1xuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhdG9yQ29udHJvbDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+IHtcbiAgc291cmNlOiBTO1xuICBwcmV2OiBJdGVyYXRvckl0ZW08Uz4gfCB1bmRlZmluZWQ7XG4gIHNraXAoKTogdm9pZDtcbiAgZW5kKCk6IHZvaWQ7XG4gIGVuZDxQPih2YWx1ZTogUCk6IFA7XG59XG5cbmV4cG9ydCB0eXBlIEZ1bmN0aW9uYWxJdGVyYXRvckFjdGlvbjxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlID0gSXRlcmF0b3JTb3VyY2UsXG4gIFByb2plY3Rpb24gPSBhbnksXG4gIFZhbHVlID0gSXRlcmF0b3JJdGVtPFM+XG4+ID0gKFxuICB2YWx1ZTogVmFsdWUsXG4gIGluZGV4OiBudW1iZXJcbikgPT4gUHJvamVjdGlvbiB8IHJlYWRvbmx5IFthbnksIGFueV0gfCB0eXBlb2Ygc3RvcCB8IE51bGxpc2g7XG5cbmV4cG9ydCB0eXBlIEl0ZXJhdG9yQWN0aW9uPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UgPSBJdGVyYXRvclNvdXJjZSxcbiAgUHJvamVjdGlvbiA9IHVua25vd24sXG4gIFZhbHVlID0gSXRlcmF0b3JJdGVtPFM+XG4+ID0gQWxsS2V5czxWYWx1ZT4gfCBGdW5jdGlvbmFsSXRlcmF0b3JBY3Rpb248UywgUHJvamVjdGlvbiwgVmFsdWU+O1xuXG4vLyBXZSBuZWVkIGJvdGggdGhlIGluZmVycmVkIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBJdGVyYXRvckFjdGlvbiBhbmQgdGhlIEl0ZXJhdG9yQWN0aW9uIGl0c2VsZiB1c2VkIGFzIHRoZSBwYXJhbWV0ZXJcbi8vIGluIGZ1bmN0aW9ucyBsaWtlIGA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSZXR1cm4sIEFjdGlvbj4oc291cmNlOiBTLCBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPFMsUmV0dXJuPiB8IFApPT5JdGVyYXRvclByb2plY3Rpb248UyxSZXR1cm4sQWN0aW9uPi5cbi8vIEl0IGlzIGltcG9ydGFudCB0byBzZXQgdGhlIGdlbmVyaWMgdHlwZSBmb3IgQWN0aW9uJ3MgZGVmYXVsdCB2YWx1ZSB0byB1bmRlZmluZWRcbi8vIFRoaXMgc2VlbXMgdG8gYmUgdGhlIG9ubHkgd2F5IHdlIGNhbiBib3RoIGF1dG9tYXRpY2FsbHkgaW5mZXIgbm9uLXJlYWRvbmx5IHR1cGxlcyBmcm9tIGAoKT0+W1widGVzdFwiLCAxXWAgYXMgdHVwbGVzLCBhbmQgYXQgdGhlIHNhbWUgdGltZVxuLy8gYWxsb3cgcHJvcGVydHkgbmFtZXMgZnJvbSB0aGUgc291cmNlJ3MgaXRlbXMuIElmIHdlIGRpZCBub3QgaW5jbHVkZSB0aGUgcGFyYW1ldGVyIGl0c2VsZiBpdCB3b3VsZCBub3QgYmUgcG9zc2libGUgdG8gZGlmZmVyZW50aWF0ZVxuLy8gYmV0d2VlbiBwcm9wZXJ0eSBuYW1lcyBhbmQgcmV0dXJuIHZhbHVlcy5cbnR5cGUgSXRlcmF0b3JQcm9qZWN0aW9uPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFJldHVybixcbiAgQWN0aW9uLFxuICBEZWZhdWx0ID0gSXRlcmF0b3JJdGVtPFM+XG4+ID0gQWN0aW9uIGV4dGVuZHMgTnVsbGlzaFxuICA/IERlZmF1bHRcbiAgOiB1bmtub3duIGV4dGVuZHMgQWN0aW9uXG4gID8gRGVmYXVsdFxuICA6IEFjdGlvbiBleHRlbmRzIGtleW9mIGFueVxuICA/IEV4Y2x1ZGU8UHJvcGVydHk8SXRlcmF0b3JJdGVtPFM+LCBBY3Rpb24+LCBOdWxsaXNoPlxuICA6IFJldHVybjtcblxudHlwZSBJdGVyYXRvclByb2plY3Rpb25XaXRoVW5kZWZpbmVkPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFJldHVybixcbiAgQWN0aW9uLFxuICBEZWZhdWx0ID0gSXRlcmF0b3JJdGVtPFM+XG4+ID1cbiAgfCBJdGVyYXRvclByb2plY3Rpb248UywgUmV0dXJuLCBBY3Rpb24sIERlZmF1bHQ+XG4gIHwgKEFjdGlvbiBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFJcbiAgICAgID8gUiBleHRlbmRzIHR5cGVvZiBzdG9wXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogU3RyaWN0VW5kZWZpbmVkPFI+XG4gICAgICA6IEFjdGlvbiBleHRlbmRzIGtleW9mIGFueVxuICAgICAgPyBTdHJpY3RVbmRlZmluZWQ8UHJvcGVydHk8SXRlcmF0b3JJdGVtPFM+LCBBY3Rpb24+PlxuICAgICAgOiBuZXZlcikgZXh0ZW5kcyBpbmZlciBUXG4gID8gVFxuICA6IG5ldmVyO1xuXG50eXBlIFN0YXJ0RW5kQXJnczxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID1cbiAgfCBbXVxuICB8IChTIGV4dGVuZHMgbnVtYmVyXG4gICAgICA/IFtvZmZzZXQ/OiBudW1iZXIgfCBOdWxsaXNoXVxuICAgICAgOiBTIGV4dGVuZHMgTmF2aWdhdGluZ0l0ZXJhdG9yU3RlcDxpbmZlciBUPlxuICAgICAgPyBbc2VlZD86IFQsIG1heEl0ZXJhdGlvbnM/OiBudW1iZXJdXG4gICAgICA6IFtzdGFydDogbnVtYmVyIHwgTnVsbGlzaCwgZW5kPzogbnVtYmVyIHwgTnVsbGlzaF0pO1xuXG5leHBvcnQgdHlwZSBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwPFQgPSBhbnk+ID0gKFxuICBjdXJyZW50OiBUIHwgdW5kZWZpbmVkXG4pID0+IFQgfCB1bmRlZmluZWQ7XG5cbnR5cGUgRmxhdEl0ZXJhdG9ySXRlbTxULCBEIGV4dGVuZHMgbnVtYmVyID0gMSwgT2JqZWN0ID0gZmFsc2U+ID0gVCBleHRlbmRzXG4gIHwgdW5kZWZpbmVkXG4gIHwgdm9pZFxuICA/IG5ldmVyXG4gIDogRCBleHRlbmRzIDBcbiAgPyBUXG4gIDogVCBleHRlbmRzXG4gICAgICB8IEl0ZXJhYmxlPGFueT5cbiAgICAgIHwgKE9iamVjdCBleHRlbmRzIHRydWUgPyBSZWNvcmQ8a2V5b2YgYW55LCBhbnk+IDogbmV2ZXIpXG4gID8gRCBleHRlbmRzIDFcbiAgICA/IEl0ZXJhdG9ySXRlbTxUPlxuICAgIDogRmxhdEl0ZXJhdG9ySXRlbTxJdGVyYXRvckl0ZW08VD4sIFN1YnRyYWN0PEQsIDE+LCBPYmplY3Q+XG4gIDogVDtcblxuY29uc3Qgd3JhcFByb2plY3Rpb24gPSA8UD4oXG4gIHByb2plY3Rpb246IFAgfCB1bmRlZmluZWRcbik6IHVuZGVmaW5lZCB8ICgoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiBhbnkpID0+XG4gIHByb2plY3Rpb24gPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBpc0Z1bmN0aW9uKHByb2plY3Rpb24pXG4gICAgPyAocHJvamVjdGlvbiBhcyBhbnkpXG4gICAgOiAoaXRlbSkgPT4gaXRlbVtwcm9qZWN0aW9uIGFzIGFueV07XG5cbmZ1bmN0aW9uKiBjcmVhdGVGaWx0ZXJpbmdJdGVyYXRvcjxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFA+KFxuICBzb3VyY2U6IFMsXG4gIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFBcbik6IEl0ZXJhYmxlPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybjtcbiAgaWYgKHByb2plY3Rpb24pIHtcbiAgICBwcm9qZWN0aW9uID0gd3JhcFByb2plY3Rpb24ocHJvamVjdGlvbikhO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHNvdXJjZSBhcyBhbnkpIHtcbiAgICAgIGlmICgoaXRlbSA9IHByb2plY3Rpb24oaXRlbSwgaSsrKSkgIT0gbnVsbCkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgICAgaWYgKHN0b3BJbnZva2VkKSB7XG4gICAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHNvdXJjZSBhcyBhbnkpIHtcbiAgICAgIGlmIChpdGVtICE9IG51bGwpIHlpZWxkIGl0ZW07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uKiBjcmVhdGVPYmplY3RJdGVyYXRvcjxTIGV4dGVuZHMgUmVjb3JkPGtleW9mIGFueSwgYW55PiwgUiwgUD4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uPzogSXRlcmF0b3JBY3Rpb248UywgUj4gfCBQXG4pOiBJdGVyYWJsZTxJdGVyYXRvclByb2plY3Rpb248UywgUCwgUj4+IHtcbiAgYWN0aW9uID0gd3JhcFByb2plY3Rpb24oYWN0aW9uKTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICBsZXQgdmFsdWUgPSBba2V5LCBzb3VyY2Vba2V5XV0gYXMgYW55O1xuICAgIGFjdGlvbiAmJiAodmFsdWUgPSBhY3Rpb24odmFsdWUsIGkrKykpO1xuXG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoc3RvcEludm9rZWQpIHtcbiAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24qIGNyZWF0ZVJhbmdlSXRlcmF0b3IobGVuZ3RoID0gMCwgb2Zmc2V0PzogbnVtYmVyKTogSXRlcmFibGU8bnVtYmVyPiB7XG4gIGlmIChsZW5ndGggPCAwKSB7XG4gICAgb2Zmc2V0ID8/PSAtbGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAobGVuZ3RoKyspIHlpZWxkIG9mZnNldC0tO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldCA/Pz0gMDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHlpZWxkIG9mZnNldCsrO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogY3JlYXRlU3RyaW5nSXRlcmF0b3IoXG4gIGlucHV0OiBzdHJpbmcsXG4gIHN0YXJ0OiBudW1iZXIsXG4gIGVuZDogbnVtYmVyXG4pOiBJdGVyYWJsZTxbY2hhcjogc3RyaW5nLCBjb2RlUG9pbnQ6IG51bWJlcl0+IHtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgY29kZVBvaW50ID0gaW5wdXQuY29kZVBvaW50QXQoc3RhcnQpITtcbiAgICBsZXQgcCA9IGlucHV0W3N0YXJ0KytdO1xuICAgIGlmIChjb2RlUG9pbnQgPiBVVEYxNk1BWCkge1xuICAgICAgc3RhcnQrKztcbiAgICAgIHAgPSBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgIH1cbiAgICB5aWVsZCBbcCwgY29kZVBvaW50XTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIGNyZWF0ZU5hdmlnYXRpbmdJdGVyYXRvcjxUPihcbiAgc3RlcDogTmF2aWdhdGluZ0l0ZXJhdG9yU3RlcDxUPixcbiAgc3RhcnQ/OiBUIHwgdW5kZWZpbmVkLFxuICBtYXhJdGVyYXRpb25zID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbik6IEl0ZXJhdG9yPFQ+IHtcbiAgaWYgKHN0YXJ0ICE9IG51bGwpIHlpZWxkIHN0YXJ0O1xuICB3aGlsZSAobWF4SXRlcmF0aW9ucy0tICYmIChzdGFydCA9IHN0ZXAoc3RhcnQpKSAhPSBudWxsKSB7XG4gICAgeWllbGQgc3RhcnQ7XG4gIH1cbn1cblxuY29uc3Qgc2xpY2VBY3Rpb24gPSA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgYWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIHN0YXJ0OiBhbnksXG4gIGVuZDogYW55XG4pOiBQID0+XG4gIChzdGFydCA/PyBlbmQpICE9PSB1bmRlZmluZWRcbiAgICA/ICgoYWN0aW9uID0gd3JhcFByb2plY3Rpb24oYWN0aW9uKSEpLFxuICAgICAgKHN0YXJ0ID8/PSAwKSxcbiAgICAgIChlbmQgPz89IE1BWF9TQUZFX0lOVEVHRVIpLFxuICAgICAgKHZhbHVlLCBpbmRleCkgPT5cbiAgICAgICAgc3RhcnQtLVxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiBlbmQhLS1cbiAgICAgICAgICA/IGFjdGlvblxuICAgICAgICAgICAgPyAoYWN0aW9uIGFzIGFueSkodmFsdWUsIGluZGV4KVxuICAgICAgICAgICAgOiB2YWx1ZVxuICAgICAgICAgIDogZW5kKVxuICAgIDogKGFjdGlvbiBhcyBhbnkpO1xuXG5leHBvcnQgdHlwZSBJdGVyYXRvckZpbHRlcjxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID0gKFxuICB2YWx1ZTogSXRlcmF0b3JJdGVtPFM+LFxuICBpbmRleDogbnVtYmVyXG4pID0+IHVua25vd247XG5cbi8qKiBGYXN0ZXIgd2F5IHRvIGV4Y2x1ZGUgbnVsbCdpc2ggZWxlbWVudHMgZnJvbSBhbiBhcnJheSB0aGFuIHVzaW5nIHtAbGluayBmaWx0ZXJ9IG9yIHtAbGluayBtYXB9ICovXG5leHBvcnQgY29uc3QgZmlsdGVyQXJyYXkgPSA8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdIHwgdW5kZWZpbmVkPihcbiAgYXJyYXk6IFRcbik6IFQgZXh0ZW5kcyByZWFkb25seSAoaW5mZXIgSXRlbSlbXSA/IE9taXROdWxsaXNoPEl0ZW0+W10gOiB1bmRlZmluZWQgPT5cbiAgYXJyYXk/LmZpbHRlcihGSUxURVJfTlVMTElTSCkgYXMgYW55O1xuXG5jb25zdCBjcmVhdGVJdGVyYXRvciA9IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFA+KFxuICBzb3VyY2U6IFMsXG4gIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbik6IEl0ZXJhYmxlPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj4gPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IChbXSBhcyBhbnkpXG4gICAgOiAhcHJvamVjdGlvbiAmJiBpc0FycmF5KHNvdXJjZSlcbiAgICA/IGZpbHRlckFycmF5KHNvdXJjZSlcbiAgICA6IHNvdXJjZVtzeW1ib2xJdGVyYXRvcl1cbiAgICA/IGNyZWF0ZUZpbHRlcmluZ0l0ZXJhdG9yKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHN0YXJ0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHByb2plY3Rpb25cbiAgICAgICAgICA6IHNsaWNlQWN0aW9uKHByb2plY3Rpb24sIHN0YXJ0IGFzIGFueSwgZW5kKVxuICAgICAgKVxuICAgIDogaXNPYmplY3Qoc291cmNlKVxuICAgID8gY3JlYXRlT2JqZWN0SXRlcmF0b3IoXG4gICAgICAgIHNvdXJjZSBhcyBhbnksXG4gICAgICAgIHNsaWNlQWN0aW9uKHByb2plY3Rpb24sIHN0YXJ0IGFzIGFueSwgZW5kKVxuICAgICAgKVxuICAgIDogY3JlYXRlSXRlcmF0b3IoXG4gICAgICAgIGlzRnVuY3Rpb24oc291cmNlKVxuICAgICAgICAgID8gY3JlYXRlTmF2aWdhdGluZ0l0ZXJhdG9yKHNvdXJjZSwgc3RhcnQsIGVuZClcbiAgICAgICAgICA6IChjcmVhdGVSYW5nZUl0ZXJhdG9yKHNvdXJjZSBhcyBudW1iZXIsIHN0YXJ0IGFzIGFueSkgYXMgYW55KSxcbiAgICAgICAgcHJvamVjdGlvblxuICAgICAgKTtcblxuY29uc3QgbWFwVG9BcnJheSA9IDxULCBNPihcbiAgcHJvamVjdGVkOiBJdGVyYWJsZTxUPixcbiAgbWFwOiBNXG4pOiB0cnVlIGV4dGVuZHMgTSA/IFRbXSA6IEl0ZXJhYmxlPFQ+ID0+XG4gIG1hcCAmJiAhaXNBcnJheShwcm9qZWN0ZWQpID8gWy4uLnByb2plY3RlZF0gOiAocHJvamVjdGVkIGFzIGFueSk7XG5cbnR5cGUgUHJvamVjdEZ1bmN0aW9uID0ge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQIGV4dGVuZHMgSXRlcmF0b3JBY3Rpb248UywgUj4+KFxuICAgIHNvdXJjZTogUyxcbiAgICBwcm9qZWN0aW9uPzogUCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogSXRlcmFibGU8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+Pjtcbn07XG5cbnR5cGUgTWFwRnVuY3Rpb24gPSB7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFAgZXh0ZW5kcyBGdW5jdGlvbmFsSXRlcmF0b3JBY3Rpb248UywgUj4+KFxuICAgIHNvdXJjZTogUyxcbiAgICBwcm9qZWN0aW9uPzogdW5kZWZpbmVkLFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBNYXliZVVuZGVmaW5lZDxTLCBFeGNsdWRlPEl0ZXJhdG9ySXRlbTxTPiwgTnVsbGlzaD5bXT47XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFI+KFxuICAgIHNvdXJjZTogUyxcbiAgICBwcm9qZWN0aW9uOiBGdW5jdGlvbmFsSXRlcmF0b3JBY3Rpb248UywgUj4sXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IE1heWJlVW5kZWZpbmVkPFMsIEV4Y2x1ZGU8UiwgTnVsbGlzaD5bXT47XG5cbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgS2V5IGV4dGVuZHMgQWxsS2V5czxTPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb246IEtleSxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogTWF5YmVVbmRlZmluZWQ8UywgRXhjbHVkZTxQcm9wZXJ0eTxJdGVyYXRvckl0ZW08Uz4sIEtleT4sIE51bGxpc2g+W10+O1xufTtcblxudHlwZSBGbGF0UHJvamVjdEZ1bmN0aW9uID0gPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFIsXG4gIFAsXG4gIEQgZXh0ZW5kcyBudW1iZXIgPSAxLFxuICBPIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+KFxuICBzb3VyY2U6IFMsXG4gIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIGRlcHRoPzogRCxcbiAgZXhwYW5kT2JqZWN0cz86IE8sXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBNYXliZVVuZGVmaW5lZDxcbiAgUyxcbiAgSXRlcmFibGU8RmxhdEl0ZXJhdG9ySXRlbTxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4sIEQsIE8+PlxuPjtcblxuZXhwb3J0IGNvbnN0IHByb2plY3Q6IFByb2plY3RGdW5jdGlvbiA9ICgoXG4gIHNvdXJjZTogYW55LFxuICBwcm9qZWN0aW9uOiBhbnksXG4gIHN0YXJ0OiBhbnksXG4gIGVuZDogYW55XG4pID0+IGNyZWF0ZUl0ZXJhdG9yKHNvdXJjZSwgcHJvamVjdGlvbiwgc3RhcnQsIGVuZCkpIGFzIGFueTtcblxuZnVuY3Rpb24qIGZsYXR0ZW5JbnRlcm5hbChcbiAgdmFsdWU6IGFueSxcbiAgZGVwdGg6IG51bWJlcixcbiAgZXhwYW5kT2JqZWN0czogYm9vbGVhbixcbiAgbmVzdGVkOiBib29sZWFuXG4pIHtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBpZiAodmFsdWVbc3ltYm9sSXRlcmF0b3JdIHx8IChleHBhbmRPYmplY3RzICYmIGlzT2JqZWN0KHZhbHVlKSkpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBuZXN0ZWQgPyBjcmVhdGVJdGVyYXRvcih2YWx1ZSkgOiB2YWx1ZSkge1xuICAgICAgICBpZiAoZGVwdGggIT09IDEpIHtcbiAgICAgICAgICB5aWVsZCogZmxhdHRlbkludGVybmFsKGl0ZW0sIGRlcHRoIC0gMSwgZXhwYW5kT2JqZWN0cywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeWllbGQgaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB5aWVsZCB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBjb25zdCBmbGF0dGVuOiBGbGF0UHJvamVjdEZ1bmN0aW9uID0gKFxuICBzb3VyY2UsXG4gIHByb2plY3Rpb24/LFxuICBkZXB0aCA9IDEgYXMgYW55LFxuICBleHBhbmRPYmplY3RzOiBhbnkgPSBmYWxzZSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PlxuICBmbGF0dGVuSW50ZXJuYWwoXG4gICAgY3JlYXRlSXRlcmF0b3Ioc291cmNlLCBwcm9qZWN0aW9uIGFzIGFueSwgc3RhcnQsIGVuZCksXG4gICAgZGVwdGggKyAxLFxuICAgIGV4cGFuZE9iamVjdHMsXG4gICAgZmFsc2VcbiAgKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBtYXA6IE1hcEZ1bmN0aW9uID0gKFxuICBzb3VyY2U6IGFueSxcbiAgcHJvamVjdGlvbj86IGFueSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PiB7XG4gIHByb2plY3Rpb24gPSB3cmFwUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBtYXBwZWQ6IGFueVtdID0gW107XG4gICAgc3RhcnQgPSBzdGFydCEgPCAwID8gc291cmNlLmxlbmd0aCArIHN0YXJ0ISA6IHN0YXJ0ID8/IDA7XG4gICAgZW5kID0gZW5kISA8IDAgPyBzb3VyY2UubGVuZ3RoICsgZW5kISA6IGVuZCA/PyBzb3VyY2UubGVuZ3RoO1xuICAgIGZvciAoOyBzdGFydCA8IGVuZCAmJiAhc3RvcEludm9rZWQ7IHN0YXJ0KyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IHNvdXJjZVtzdGFydF07XG4gICAgICBpZiAoKHByb2plY3Rpb24gPyAodmFsdWUgPSBwcm9qZWN0aW9uKHZhbHVlLCBpKyspKSA6IHZhbHVlKSAhPSBudWxsKSB7XG4gICAgICAgIG1hcHBlZC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbWFwcGVkO1xuICB9XG4gIHJldHVybiBzb3VyY2UgIT0gbnVsbFxuICAgID8gYXJyYXkyKHByb2plY3Qoc291cmNlLCBwcm9qZWN0aW9uLCBzdGFydCwgZW5kKSlcbiAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXBBc3luYzogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gIHNvdXJjZTogUyxcbiAgcHJvamVjdGlvbjogSXRlcmF0b3JBY3Rpb248UywgUj4gfCBQLFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gUHJvbWlzZTxcbiAgTWF5YmVVbmRlZmluZWQ8UywgRXhjbHVkZTxBd2FpdGVkPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj4sIE51bGxpc2g+W10+XG4+ID0gYXN5bmMgKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55LCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PiB7XG4gIHByb2plY3Rpb24gPSB3cmFwUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgY29uc3QgbWFwcGVkOiBhbnkgPSBbXTtcbiAgYXdhaXQgZm9yRWFjaEFzeW5jKFxuICAgIHNvdXJjZSxcbiAgICBhc3luYyAoaXRlbSkgPT4gKGl0ZW0gPSBhd2FpdCBwcm9qZWN0aW9uKGl0ZW0pKSAhPSBudWxsICYmIG1hcHBlZC5wdXNoKGl0ZW0pXG4gICk7XG4gIHJldHVybiBtYXBwZWQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHppcCA9IDxMaHMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUmhzIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBsaHM6IExocyxcbiAgcmhzOiBSaHNcbik6IEl0ZXJhYmxlPFtJdGVyYXRvckl0ZW08TGhzPiwgSXRlcmF0b3JJdGVtPFJocz4gfCB1bmRlZmluZWRdPiA9PiB7XG4gIGNvbnN0IGl0MiA9IGNyZWF0ZUl0ZXJhdG9yKHJocylbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICByZXR1cm4gY3JlYXRlSXRlcmF0b3IobGhzLCAobGhzKSA9PiBbbGhzLCBpdDIubmV4dCgpPy52YWx1ZV0gYXMgW2FueSwgYW55XSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlzdGluY3Q6IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogUyBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IFNldDxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4+O1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgICBzb3VyY2U6IFMsXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IFMgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBTZXQ8SXRlcmF0b3JJdGVtPFM+Pjtcbn0gPSAoc291cmNlOiBhbnksIHByb2plY3Rpb24/OiBhbnksIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+XG4gIHNvdXJjZSAhPSBudWxsXG4gICAgPyBuZXcgU2V0PGFueT4oWy4uLnByb2plY3Qoc291cmNlLCBwcm9qZWN0aW9uLCBzdGFydCwgZW5kKV0pXG4gICAgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBzaW5nbGU6IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IFMgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4gfCB1bmRlZmluZWQ7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICAgIHNvdXJjZTogUyxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogUyBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IEl0ZXJhdG9ySXRlbTxTPiB8IHVuZGVmaW5lZDtcbn0gPSAoc291cmNlOiBhbnksIHByb2plY3Rpb24/OiBhbnksIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IChzb3VyY2UgPSBtYXBEaXN0aW5jdChzb3VyY2UsIHByb2plY3Rpb24sIHN0YXJ0LCBlbmQpIGFzIGFueSkubGVuZ3RoID4gMVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBzb3VyY2VbMF07XG5cbmV4cG9ydCBjb25zdCBtYXBEaXN0aW5jdDogTWFwRnVuY3Rpb24gPSAoXG4gIHNvdXJjZTogYW55LFxuICBwcm9qZWN0aW9uPzogYW55LFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+XG4gIHNvdXJjZSAhPSBudWxsXG4gICAgPyBbLi4uKGRpc3RpbmN0IGFzIGFueSkoc291cmNlLCBwcm9qZWN0aW9uLCBzdGFydCwgZW5kKV1cbiAgICA6IHNvdXJjZTtcblxuZXhwb3J0IGZ1bmN0aW9uKiBjb25jYXRJdGVyYXRvcnM8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlW10+KFxuICAuLi5pdGVyYXRvcnM6IFNcbik6IEl0ZXJhYmxlPEl0ZXJhdG9ySXRlbXM8Uz4+IHtcbiAgZm9yIChjb25zdCBpdGVyYXRvciBvZiBpdGVyYXRvcnMpIHtcbiAgICBpZiAoIWl0ZXJhdG9yKSBjb250aW51ZTtcbiAgICB5aWVsZCogY3JlYXRlSXRlcmF0b3IoaXRlcmF0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpbnRlcnNlY3Rpb24gPSA8XG4gIFQsXG4gIEEgZXh0ZW5kcyBJdGVyYWJsZTxUPiB8IHVuZGVmaW5lZCxcbiAgQiBleHRlbmRzIEl0ZXJhYmxlPFQ+IHwgdW5kZWZpbmVkXG4+KFxuICBhOiBBLFxuICBiOiBCXG4pOiBUW10gPT4ge1xuICBpZiAoIWEgfHwgIWIpIHJldHVybiBbXTtcbiAgaXNTZXQoYikgJiYgKFtiLCBhXSA9IFthLCBiXSBhcyBhbnkpO1xuICBjb25zdCBsb29rdXAgPSBpc1NldChhKSA/IGEgOiBuZXcgU2V0KGEpO1xuICByZXR1cm4gZmlsdGVyKGIsICh2YWx1ZSkgPT4gbG9va3VwLmhhcyh2YWx1ZSkpIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnRlcnNlY3RzID0gKFxuICBhOiBJdGVyYWJsZTxhbnk+IHwgdW5kZWZpbmVkLFxuICBiOiBJdGVyYWJsZTxhbnk+IHwgdW5kZWZpbmVkXG4pID0+ICEhY291bnQoaW50ZXJzZWN0aW9uKGEsIGIpKTtcblxuZXhwb3J0IGNvbnN0IGZsYXRNYXBLdiA9IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFAsIEQgZXh0ZW5kcyBudW1iZXIgPSAxPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIGRlcHRoOiBEID0gMSBhcyBhbnlcbik6IEZsYXRJdGVyYXRvckl0ZW08SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+LCBELCB0cnVlPltdID0+XG4gIGZsYXRNYXAoc291cmNlLCBhY3Rpb24sIGRlcHRoLCB0cnVlKTtcblxuZXhwb3J0IGNvbnN0IGZsYXRNYXA6IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBSLFxuICBQLFxuICBEIGV4dGVuZHMgbnVtYmVyID0gMSxcbiAgTyBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZVxuPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIGRlcHRoPzogRCxcbiAgZXhwYW5kT2JqZWN0cz86IE8sXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBGbGF0SXRlcmF0b3JJdGVtPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPiwgRCwgTz5bXSA9IChcbiAgc291cmNlLFxuICBhY3Rpb24sXG4gIGRlcHRoID0gMSBhcyBhbnksXG4gIGV4cGFuZE9iamVjdHMgPSBmYWxzZSBhcyBhbnksXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT5cbiAgYXJyYXkyKFxuICAgIChmbGF0dGVuIGFzIGFueSkoc291cmNlLCBhY3Rpb24sIGRlcHRoLCBleHBhbmRPYmplY3RzLCBzdGFydCwgZW5kKSBhcyBhbnlcbiAgKSBhcyBhbnk7XG5cbmNvbnN0IHRyYXZlcnNlSW50ZXJuYWwgPSA8VD4oXG4gIHJvb3Q6IFQgfCBUW10gfCB1bmRlZmluZWQsXG4gIHNlbGVjdG9yOiAoY3VycmVudDogVCkgPT4gSXRlcmFibGU8VD4gfCB1bmRlZmluZWQsXG4gIGluY2x1ZGU6IGJvb2xlYW4sXG4gIHJlc3VsdHM6IFRbXSxcbiAgc2VlbjogU2V0PFQ+XG4pID0+IHtcbiAgaWYgKGlzQXJyYXkocm9vdCkpIHtcbiAgICBmb3JFYWNoSW50ZXJuYWwocm9vdCwgKGl0ZW0pID0+XG4gICAgICB0cmF2ZXJzZUludGVybmFsKGl0ZW0sIHNlbGVjdG9yLCBpbmNsdWRlLCByZXN1bHRzLCBzZWVuKVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgaWYgKCFyb290IHx8ICFhZGQoc2Vlbiwgcm9vdCkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGluY2x1ZGUgJiYgcmVzdWx0cy5wdXNoKHJvb3QpO1xuICBmb3JFYWNoSW50ZXJuYWwoc2VsZWN0b3Iocm9vdCksIChpdGVtKSA9PlxuICAgIHRyYXZlcnNlSW50ZXJuYWwoaXRlbSwgc2VsZWN0b3IsIHRydWUsIHJlc3VsdHMsIHNlZW4pXG4gICk7XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG50eXBlIENvbmNhdFJlc3VsdF88VD4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgW11cbiAgPyBuZXZlclxuICA6IFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgSXRlbSwgLi4uaW5mZXIgUmVzdF1cbiAgP1xuICAgICAgfCBFeGNsdWRlPEl0ZW0gZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPiA/IFQgOiBJdGVtLCBOdWxsaXNoPlxuICAgICAgfCBDb25jYXRSZXN1bHRfPFJlc3Q+XG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIEl0ZW0+XG4gID8gRXhjbHVkZTxJdGVtIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD4gPyBUIDogSXRlbSwgTnVsbGlzaD5cbiAgOiBuZXZlcjtcblxudHlwZSBDb25jYXRSZXN1bHQ8VD4gPSBDb25jYXRSZXN1bHRfPFQ+IGV4dGVuZHMgbmV2ZXJcbiAgPyB1bmRlZmluZWRcbiAgOiBDb25jYXRSZXN1bHRfPFQ+W107XG5cbnR5cGUgRmluYWxJdGVyYXRvckl0ZW08XG4gIFQsXG4gIEFycmF5c09ubHkgPSBmYWxzZSxcbiAgTWF4RGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMVxuPiA9IE1heERlcHRoIGV4dGVuZHMgMFxuICA/IFRcbiAgOiBUIGV4dGVuZHMgc3RyaW5nXG4gID8gc3RyaW5nXG4gIDogVCBleHRlbmRzIChcbiAgICAgIFtBcnJheXNPbmx5XSBleHRlbmRzIFt0cnVlXVxuICAgICAgICA/IHJlYWRvbmx5IChpbmZlciBUKVtdXG4gICAgICAgIDogSXRlcmFibGVPckFycmF5TGlrZTxpbmZlciBUPlxuICAgIClcbiAgPyBGaW5hbEl0ZXJhdG9ySXRlbTxcbiAgICAgIFQsXG4gICAgICBBcnJheXNPbmx5LFxuICAgICAgLTEgZXh0ZW5kcyBNYXhEZXB0aCA/IC0xIDogU3VidHJhY3Q8TWF4RGVwdGgsIDE+XG4gICAgPlxuICA6IFQ7XG5cbmV4cG9ydCBjb25zdCB1bm5lc3QgPSA8XG4gIFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXSxcbiAgQXJyYXlzT25seSBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZSxcbiAgRGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMVxuPihcbiAgaXRlbXM6IFQsXG4gIGFycmF5c09ubHk6IEFycmF5c09ubHksXG4gIGRlcHRoOiBEZXB0aCA9IC0xIGFzIGFueVxuKTogRmluYWxJdGVyYXRvckl0ZW08VCwgQXJyYXlzT25seT5bXSA9PiB7XG4gIGlmICghZGVwdGgpIHJldHVybiBpdGVtcyBhcyBhbnk7XG5cbiAgY29uc3QgcmVzdWx0czogYW55W10gPSBbXTtcbiAgY29uc3QgdGVzdCA9IGFycmF5c09ubHkgPyBpc0FycmF5IDogaXNJdGVyYWJsZTtcbiAgZm9yRWFjaChpdGVtcywgKGl0ZW0pID0+XG4gICAgdGVzdChpdGVtKVxuICAgICAgPyByZXN1bHRzLnB1c2goLi4udW5uZXN0KGl0ZW0sIGFycmF5c09ubHksIGRlcHRoIC0gMSkpXG4gICAgICA6IGl0ZW0gIT0gbnVsbCAmJiByZXN1bHRzLnB1c2goaXRlbSlcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5leHBvcnQgY29uc3QgdW5hcnJheToge1xuICA8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdLCBEZXB0aCBleHRlbmRzIG51bWJlciA9IC0xPihcbiAgICBpdGVtczogVFxuICApOiBGaW5hbEl0ZXJhdG9ySXRlbTxULCB0cnVlPltdO1xuICA8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiguLi5pdGVtczogVCk6IEZpbmFsSXRlcmF0b3JJdGVtPFQsIHRydWU+W107XG59ID0gKC4uLml0ZW1zOiBhbnlbXSkgPT4gdW5uZXN0KGl0ZW1zLmxlbmd0aCA9PT0gMSA/IGl0ZW1zWzBdIDogaXRlbXMsIHRydWUpO1xuXG5leHBvcnQgY29uc3QgY29uY2F0OiB7XG4gIDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KGl0ZW1zOiBUKTpcbiAgICB8IENvbmNhdFJlc3VsdDxUPlxuICAgIHwgSWZOb3Q8QW55QWxsPEFycmF5c0FzRW1wdHk8VFtudW1iZXJdPiwgZmFsc2U+PjtcbiAgPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oLi4uaXRlbXM6IFQpOlxuICAgIHwgQ29uY2F0UmVzdWx0PFQ+XG4gICAgfCBJZk5vdDxBbnlBbGw8QXJyYXlzQXNFbXB0eTxUW251bWJlcl0+LCBmYWxzZT4+O1xufSA9ICguLi5pdGVtczogYW55W10pID0+IHtcbiAgbGV0IG1lcmdlZDogYW55W10gfCB1bmRlZmluZWQ7XG4gIGZvckVhY2goXG4gICAgaXRlbXMubGVuZ3RoID09PSAxID8gaXRlbXNbMF0gOiBpdGVtcyxcbiAgICAoaXRlbSkgPT4gaXRlbSAhPSBudWxsICYmIChtZXJnZWQgPz89IFtdKS5wdXNoKC4uLihhcnJheTIoaXRlbSkgYXMgYW55KSlcbiAgKTtcbiAgcmV0dXJuIG1lcmdlZCBhcyBhbnk7XG59O1xuXG50eXBlIEV4cGFuZEl0ZW08VD4gPSBFeGNsdWRlPFQgZXh0ZW5kcyByZWFkb25seSAoaW5mZXIgVClbXSA/IFQgOiBULCBOdWxsaXNoPjtcblxudHlwZSBJdGVtT3JTZWxmPFQ+ID0gRXhjbHVkZTxcbiAgVCBleHRlbmRzIHN0cmluZyA/IFQgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD4gPyBUIDogVCxcbiAgTnVsbGlzaFxuPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3Q8VCwgUj4oXG4gIHNvdXJjZTogVCxcbiAgc2VsZWN0b3I6IChzb3VyY2U6IEl0ZW1PclNlbGY8VD4pID0+IFIgfCBOdWxsaXNoLFxuICBpbmNsdWRlU2VsZj86IGZhbHNlLFxuICBkZXB0aD86IDAgfCAxLFxuICBjb2xsZWN0ZWQ/OiBTZXQ8dW5rbm93bj5cbik6IEl0ZXJhYmxlPEl0ZW1PclNlbGY8Uj4+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3Q8VCwgUj4oXG4gIHNvdXJjZTogVCB8IFIgfCBOdWxsaXNoLFxuICBzZWxlY3RvcjogKHNvdXJjZTogSXRlbU9yU2VsZjxUPikgPT4gUiB8IE51bGxpc2gsXG4gIGluY2x1ZGVTZWxmPzogYm9vbGVhbixcbiAgZGVwdGg/OiBudW1iZXIsXG4gIGNvbGxlY3RlZD86IFNldDx1bmtub3duPlxuKTogSXRlcmFibGU8SXRlbU9yU2VsZjxUPiB8IEl0ZW1PclNlbGY8Uj4+O1xuZXhwb3J0IGZ1bmN0aW9uKiBjb2xsZWN0KFxuICBzb3VyY2U6IGFueSxcbiAgc2VsZWN0b3I6IChzb3VyY2U6IGFueSkgPT4gYW55LFxuICBpbmNsdWRlU2VsZiA9IGZhbHNlLFxuICBkZXB0aCA9IC0xLFxuICBjb2xsZWN0ZWQ6IFNldDxhbnk+ID0gbmV3IFNldCgpXG4pOiBJdGVyYWJsZTxhbnk+IHtcbiAgaWYgKGlzSXRlcmFibGUoc291cmNlKSkge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICAgIGlmICghY29sbGVjdGVkLmhhcyhpdGVtKSkge1xuICAgICAgICB5aWVsZCogY29sbGVjdChpdGVtLCBzZWxlY3RvciwgaW5jbHVkZVNlbGYsIGRlcHRoLCBjb2xsZWN0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzb3VyY2UgIT0gbnVsbCAmJiAhY29sbGVjdGVkLmhhcyhzb3VyY2UpKSB7XG4gICAgaWYgKGluY2x1ZGVTZWxmKSB7XG4gICAgICBjb2xsZWN0ZWQuYWRkKHNvdXJjZSk7XG4gICAgICB5aWVsZCBzb3VyY2UgYXMgYW55O1xuICAgIH1cbiAgICBpZiAoZGVwdGgtLSkge1xuICAgICAgeWllbGQqIGNvbGxlY3QoXG4gICAgICAgIHNlbGVjdG9yKHNvdXJjZSBhcyBhbnkpIGFzIGFueSxcbiAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgIGluY2x1ZGVTZWxmLFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgY29sbGVjdGVkXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZXhwYW5kID0gPFxuICBULFxuICBJbmNsdWRlU2VsZlBhcmFtZXRlciBleHRlbmRzIGJvb2xlYW4gfCByZWFkb25seSBbYm9vbGVhbl0gPSBbdHJ1ZV1cbj4oXG4gIHJvb3Q6IFQsXG4gIHNlbGVjdG9yOiAoXG4gICAgY3VycmVudDogRXhwYW5kSXRlbTxUPlxuICApID0+IEl0ZXJhYmxlPEV4cGFuZEl0ZW08VD4gfCBOdWxsaXNoPiB8IEV4cGFuZEl0ZW08VD4gfCBOdWxsaXNoLFxuICBpbmNsdWRlU2VsZjogSW5jbHVkZVNlbGZQYXJhbWV0ZXIgPSBbdHJ1ZV0gYXMgYW55XG4pOiBUIGV4dGVuZHMgdW5kZWZpbmVkXG4gID8gdW5kZWZpbmVkXG4gIDogSW5jbHVkZVNlbGZQYXJhbWV0ZXIgZXh0ZW5kcyByZWFkb25seSBbYm9vbGVhbl1cbiAgPyBFeHBhbmRJdGVtPFQ+W11cbiAgOiBTZXQ8VD4gPT4ge1xuICBjb25zdCBbYXNBcnJheSwgc2VsZl0gPSBpc0Jvb2xlYW4oaW5jbHVkZVNlbGYpXG4gICAgPyBbZmFsc2UsIGluY2x1ZGVTZWxmXVxuICAgIDogW3RydWUsIGluY2x1ZGVTZWxmWzBdXTtcbiAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8VD4oKTtcbiAgZXhwYW5kSW50ZXJuYWwoaXNBcnJheShyb290KSA/IHJvb3QgOiBbcm9vdF0sIHNlbGVjdG9yLCBzZWVuLCBzZWxmKTtcbiAgcmV0dXJuIGFzQXJyYXkgPyBbLi4uc2Vlbl0gOiAoc2VlbiBhcyBhbnkpO1xufTtcblxuY29uc3QgZXhwYW5kSW50ZXJuYWwgPSAoXG4gIHZhbHVlOiB1bmtub3duLFxuICBzZWxlY3RvcjogKGN1cnJlbnQ6IHVua25vd24pID0+IEl0ZXJhYmxlPHVua25vd24+IHwgdW5rbm93biB8IE51bGxpc2gsXG4gIHNlZW46IFNldDxhbnk+LFxuICBpbmNsdWRlID0gdHJ1ZVxuKSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm47XG4gIGlmICh2YWx1ZVtzeW1ib2xJdGVyYXRvcl0pIHtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUgYXMgYW55KVxuICAgICAgZXhwYW5kSW50ZXJuYWwoaXRlbSwgc2VsZWN0b3IsIHNlZW4sIGluY2x1ZGUpO1xuICB9XG4gIGluY2x1ZGUgJiYgc2Vlbi5hZGQodmFsdWUpO1xuICBleHBhbmRJbnRlcm5hbChzZWxlY3Rvcih2YWx1ZSksIHNlbGVjdG9yLCBzZWVuLCBpbmNsdWRlKTtcbn07XG5cbmNvbnN0IGZvckVhY2hBcnJheSA9IChcbiAgc291cmNlOiByZWFkb25seSBhbnlbXSxcbiAgYWN0aW9uOiBhbnksXG4gIHN0YXJ0OiBhbnksXG4gIGVuZDogYW55XG4pID0+IHtcbiAgbGV0IHJldHVyblZhbHVlOiBhbnk7XG4gIGxldCBpID0gMDtcbiAgc3RhcnQgPSBzdGFydCEgPCAwID8gc291cmNlLmxlbmd0aCArIHN0YXJ0ISA6IHN0YXJ0ID8/IDA7XG4gIGVuZCA9IGVuZCEgPCAwID8gc291cmNlLmxlbmd0aCArIGVuZCEgOiBlbmQgPz8gc291cmNlLmxlbmd0aDtcbiAgZm9yICg7IHN0YXJ0IDwgZW5kOyBzdGFydCsrKSB7XG4gICAgaWYgKFxuICAgICAgc291cmNlW3N0YXJ0XSAhPSBudWxsICYmXG4gICAgICAoKHJldHVyblZhbHVlID0gYWN0aW9uKHNvdXJjZVtzdGFydF0sIGkrKykgPz8gcmV0dXJuVmFsdWUpLCBzdG9wSW52b2tlZClcbiAgICApIHtcbiAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuY29uc3QgZm9yRWFjaEl0ZXJhYmxlID0gKHNvdXJjZTogSXRlcmFibGU8YW55PiwgYWN0aW9uOiBhbnkpID0+IHtcbiAgbGV0IHJldHVyblZhbHVlOiBhbnk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgdmFsdWUgb2Ygc291cmNlIGFzIGFueSkge1xuICAgIGlmIChcbiAgICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICAgICgocmV0dXJuVmFsdWUgPSBhY3Rpb24odmFsdWUsIGkrKykgPz8gcmV0dXJuVmFsdWUpLCBzdG9wSW52b2tlZClcbiAgICApIHtcbiAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuY29uc3QgZm9yRWFjaE9iamVjdCA9IChzb3VyY2U6IGFueSwgYWN0aW9uOiBhbnkpID0+IHtcbiAgbGV0IHJldHVyblZhbHVlOiBhbnk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQga2V5IGluIHNvdXJjZSkge1xuICAgIGlmIChcbiAgICAgICgocmV0dXJuVmFsdWUgPSBhY3Rpb24oW2tleSwgc291cmNlW2tleV1dLCBpKyspID8/IHJldHVyblZhbHVlKSxcbiAgICAgIHN0b3BJbnZva2VkKVxuICAgICkge1xuICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgYXBwbHk6IDxTLCBSLCBBcmdzIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbjogKFxuICAgIGl0ZW06IFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSA/IEl0ZXJhdG9ySXRlbTxTPiA6IE9taXROdWxsaXNoPFM+LFxuICAgIC4uLmFyZ3M6IEFyZ3NcbiAgKSA9PiBSLFxuICAuLi5hcmdzOiBBcmdzXG4pID0+IFMgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBFeGNsdWRlPFIsIE51bGxpc2g+W10gPSAoXG4gIHNvdXJjZSxcbiAgYWN0aW9uLFxuICAuLi5hcmdzXG4pID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IGlzSXRlcmFibGUoc291cmNlKVxuICAgID8gbWFwKHNvdXJjZSwgKGl0ZW0pID0+IGFjdGlvbihpdGVtIGFzIGFueSwgLi4uYXJncykpXG4gICAgOiAoYWN0aW9uKHNvdXJjZSBhcyBhbnksIC4uLmFyZ3MpIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBhcHBseUFzeW5jOiA8XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUiBleHRlbmRzIFByb21pc2VMaWtlPGFueT4sXG4gIEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxuPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb246IChpdGVtOiBJdGVyYXRvckl0ZW08Uz4sIC4uLmFyZ3M6IEFyZ3MpID0+IFIsXG4gIC4uLmFyZ3M6IEFyZ3NcbikgPT4gUHJvbWlzZTxTIGV4dGVuZHMgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogRXhjbHVkZTxSLCBOdWxsaXNoPltdPiA9IChcbiAgc291cmNlLFxuICBhY3Rpb24sXG4gIC4uLmFyZ3NcbikgPT4gbWFwQXN5bmMoc291cmNlLCAoaXRlbSkgPT4gYWN0aW9uKGl0ZW0sIC4uLmFyZ3MpKSBhcyBhbnk7XG5cbmNvbnN0IGZvckVhY2hJbnRlcm5hbDogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUj4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uPzogSXRlcmF0b3JBY3Rpb248UywgUj4sXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT4gUiB8IHVuZGVmaW5lZCA9IChzb3VyY2UsIGFjdGlvbiwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybjtcblxuICBpZiAoaXNBcnJheShzb3VyY2UpKSByZXR1cm4gZm9yRWFjaEFycmF5KHNvdXJjZSwgYWN0aW9uLCBzdGFydCwgZW5kKTtcbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoc291cmNlW3N5bWJvbEl0ZXJhdG9yXSkgcmV0dXJuIGZvckVhY2hJdGVyYWJsZShzb3VyY2UgYXMgYW55LCBhY3Rpb24pO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcIm9iamVjdFwiKSByZXR1cm4gZm9yRWFjaE9iamVjdChzb3VyY2UsIGFjdGlvbik7XG4gIH1cbiAgbGV0IHJldHVyblZhbHVlOiBhbnk7XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgY3JlYXRlSXRlcmF0b3Ioc291cmNlLCBhY3Rpb24sIHN0YXJ0LCBlbmQpKSB7XG4gICAgdmFsdWUgIT0gbnVsbCAmJiAocmV0dXJuVmFsdWUgPSB2YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgZm9yRWFjaCA9IGZvckVhY2hJbnRlcm5hbCBhcyB7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFI+KFxuICAgIHNvdXJjZTogUyxcbiAgICBhY3Rpb246IEZ1bmN0aW9uYWxJdGVyYXRvckFjdGlvbjxTLCBSPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogUiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JFYWNoQXN5bmM6IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBSIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PlxuPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPFMsIFI+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gUHJvbWlzZTxSIHwgdW5kZWZpbmVkPiA9IGFzeW5jIChcbiAgc291cmNlOiBhbnksXG4gIGFjdGlvbjogYW55LFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+IHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueTtcbiAgZm9yIChsZXQgaXRlbSBvZiBwcm9qZWN0KHNvdXJjZSwgYWN0aW9uLCBzdGFydCwgZW5kKSkge1xuICAgIChpdGVtID0gKGF3YWl0IGl0ZW0pIGFzIGFueSkgIT0gbnVsbCAmJiAocmV0dXJuVmFsdWUgPSBpdGVtKTtcbiAgICBpZiAoc3RvcEludm9rZWQpIHtcbiAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGZsYXRGb3JFYWNoID0gPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFIsXG4gIFAsXG4gIERlcHRoIGV4dGVuZHMgbnVtYmVyLFxuICBPIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbjogSXRlcmF0b3JBY3Rpb248UywgUj4gfCBQLFxuICBkZXB0aDogRGVwdGggPSAxIGFzIGFueSxcbiAgZXhwYW5kT2JqZWN0czogTyA9IGZhbHNlIGFzIGFueSxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pOiBGbGF0SXRlcmF0b3JJdGVtPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPiwgRGVwdGgsIE8+IHwgdW5kZWZpbmVkID0+XG4gIGZvckVhY2hJbnRlcm5hbChcbiAgICBmbGF0dGVuKHNvdXJjZSwgdW5kZWZpbmVkLCBkZXB0aCwgZXhwYW5kT2JqZWN0cywgLi4uKHJlc3QgYXMgYW55KSksXG4gICAgYWN0aW9uIGFzIGFueVxuICApIGFzIGFueTtcblxudHlwZSBLZXlWYWx1ZVBhcnRzPFQ+ID0gVCBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBLZXksIGluZmVyIFZhbHVlXVxuICA/IFtLZXksIFZhbHVlXVxuICA6IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG5cbnR5cGUgT2JqZWN0RW50cnlUeXBlPFQ+ID0gVCBleHRlbmRzIGluZmVyIFRcbiAgPyB7IFtQIGluIGtleW9mIFRdLT86IFtQLCBUW1BdXSB9W2tleW9mIFRdXG4gIDogbmV2ZXI7XG5cbnR5cGUgT2JqZWN0RnJvbUVudHJpZXM8RW50cnlUeXBlIGV4dGVuZHMgcmVhZG9ubHkgW2tleW9mIGFueSwgYW55XT4gPVxuICBVbmlvblRvSW50ZXJzZWN0aW9uPFxuICAgIEVudHJ5VHlwZSBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBLZXkgZXh0ZW5kcyBrZXlvZiBhbnksIGluZmVyIFZhbHVlXVxuICAgICAgPyB7IFtQIGluIEtleV06IFZhbHVlIH1cbiAgICAgIDogbmV2ZXJcbiAgPjtcblxuLyoqIEZhc3QgdmVyc2lvbiBvZiBgb2JqYC4gKi9cbmV4cG9ydCBjb25zdCBmcm9tRW50cmllczoge1xuICA8U291cmNlIGV4dGVuZHMgSXRlcmFibGU8cmVhZG9ubHkgW2tleW9mIGFueSwgYW55XSB8IEZhbHNpc2g+IHwgTnVsbGlzaD4oXG4gICAgc291cmNlOiBTb3VyY2VcbiAgKTogU291cmNlIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgRW50cnkgZXh0ZW5kcyByZWFkb25seSBba2V5b2YgYW55LCBhbnldPlxuICAgID8gT2JqZWN0RnJvbUVudHJpZXM8RW50cnk+XG4gICAgOiB1bmRlZmluZWQ7XG4gIDxcbiAgICBTb3VyY2UgZXh0ZW5kcyBSZWNvcmQ8a2V5b2YgYW55LCBhbnk+IHwgTnVsbGlzaCxcbiAgICBNYXBwZWQgZXh0ZW5kcyByZWFkb25seSBba2V5b2YgYW55LCBhbnldIHwgRmFsc2lzaCA9IE9iamVjdEVudHJ5VHlwZTxTb3VyY2U+XG4gID4oXG4gICAgc291cmNlOiBTb3VyY2UsXG4gICAgbWFwOiAoZW50cnk6IE9iamVjdEVudHJ5VHlwZTxTb3VyY2U+LCBpbmRleDogbnVtYmVyKSA9PiBNYXBwZWQgfCBOdWxsaXNoXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2hcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogT2JqZWN0RnJvbUVudHJpZXM8XG4gICAgICAgIE1hcHBlZCBleHRlbmRzIHJlYWRvbmx5IFtrZXlvZiBhbnksIGFueV0gPyBNYXBwZWQgOiBuZXZlclxuICAgICAgPjtcbn0gPSAoc291cmNlOiBhbnksIG1hcD86IGFueSkgPT4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IHJlc3VsdDogYW55ID0ge307XG4gIGlmIChtYXApIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHZhbHVlOiBhbnk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAodmFsdWUgPSBtYXAoW2tleSwgc291cmNlW2tleV1dLCBpKyspKSAmJiAocmVzdWx0W3ZhbHVlWzBdXSA9IHZhbHVlWzFdKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBzb3VyY2UpIHtcbiAgICAgIGVudHJ5ICYmIChyZXN1bHRbZW50cnlbMF1dID0gZW50cnlbMV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBMaWtlIE9iamVjdC5mcm9tRW50cmllcywgYnV0IGFjY2VwdHMgYW55IGl0ZXJhYmxlIHNvdXJjZSBhbmQgYSBwcm9qZWN0aW9uIGluc3RlYWQgb2YganVzdCBrZXkvdmFsdWUgcGFpcnMuXG4gKiBQcm9wZXJ0aWVzIHdpdGggdW5kZWZpbmVkIHZhbHVlcyBhcmUgbm90IGluY2x1ZGVkIGluIHRoZSByZXN1bHRpbmcgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3Qgb2JqOiB7XG4gIDxTIGV4dGVuZHMgS2V5VmFsdWVTb3VyY2UgfCBOdWxsaXNoPihzb3VyY2U6IFMpOiBNYXliZVVuZGVmaW5lZDxcbiAgICBTLFxuICAgIEtleVZhbHVlUGFpcnNUb09iamVjdDxJdGVyYXRvckl0ZW08Uz4+XG4gID47XG4gIDxTIGV4dGVuZHMgSXRlcmFibGU8S2V5VmFsdWVTb3VyY2U+IHwgTnVsbGlzaCwgRyBleHRlbmRzIGJvb2xlYW4+KFxuICAgIHNvdXJjZTogUyxcbiAgICBncm91cDogR1xuICApOiBTIGV4dGVuZHMgTnVsbGlzaFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBLZXlWYWx1ZVNvdXJjZXNUb09iamVjdDxJdGVyYXRvckl0ZW08Uz4sIEc+O1xuXG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UgfCBOdWxsaXNoLCBSIGV4dGVuZHMgcmVhZG9ubHkgW2FueSwgYW55XSwgUD4oXG4gICAgc291cmNlOiBTLFxuICAgIHNlbGVjdG9yOiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gICAgbWVyZ2U/OiAoXG4gICAgICBjdXJyZW50OiBLZXlWYWx1ZVBhcnRzPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj5bMV0gfCB1bmRlZmluZWQsXG4gICAgICB2YWx1ZTogS2V5VmFsdWVQYXJ0czxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4+WzFdXG4gICAgKSA9PiBLZXlWYWx1ZVBhcnRzPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj5bMV0gfCBOdWxsaXNoXG4gICk6IEtleVZhbHVlUGFpcnNUb09iamVjdDxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4+O1xufSA9ICgoc291cmNlOiBhbnksIHNlbGVjdG9yPzogYW55LCBtZXJnZT86IGFueSkgPT4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQm9vbGVhbihzZWxlY3RvcikgfHwgbWVyZ2UpIHtcbiAgICBsZXQgcmVzdWx0ID0ge30gYXMgYW55O1xuICAgIGZvckVhY2goXG4gICAgICBzb3VyY2UsXG4gICAgICBtZXJnZVxuICAgICAgICA/IChpdGVtLCBpKSA9PlxuICAgICAgICAgICAgKGl0ZW0gPSBzZWxlY3RvcihpdGVtLCBpKSkgIT0gbnVsbCAmJlxuICAgICAgICAgICAgKGl0ZW1bMV0gPSBtZXJnZShyZXN1bHRbaXRlbVswXV0sIGl0ZW1bMV0pKSAhPSBudWxsICYmXG4gICAgICAgICAgICAocmVzdWx0W2l0ZW1bMF1dID0gaXRlbVsxXSlcbiAgICAgICAgOiAoc291cmNlKSA9PlxuICAgICAgICAgICAgZm9yRWFjaChcbiAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICBzZWxlY3RvclxuICAgICAgICAgICAgICAgID8gKGl0ZW0pID0+XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0/LlsxXSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICgocmVzdWx0W2l0ZW1bMF1dID8/PSBbXSkucHVzaChpdGVtWzFdKSwgcmVzdWx0KVxuICAgICAgICAgICAgICAgIDogKGl0ZW0pID0+XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0/LlsxXSAhPSBudWxsICYmICgocmVzdWx0W2l0ZW1bMF1dID0gaXRlbVsxXSksIHJlc3VsdClcbiAgICAgICAgICAgIClcbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGZyb21FbnRyaWVzKFxuICAgIG1hcChcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGVjdG9yXG4gICAgICAgID8gKGl0ZW0sIGluZGV4KSA9PiBpZkRlZmluZWQoc2VsZWN0b3IoaXRlbSwgaW5kZXgpLCAxKVxuICAgICAgICA6IChpdGVtKSA9PiBpZkRlZmluZWQoaXRlbSwgMSlcbiAgICApIVxuICApO1xufSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgZ3JvdXBSZWR1Y2U6IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBLZXksXG4gIEFjY3VtdWxhdG9yID0gdW5rbm93blxuPihcbiAgc291cmNlOiBTLFxuICBrZXlTZWxlY3RvcjogKGl0ZW06IEl0ZXJhdG9ySXRlbTxTPiwgaW5kZXg6IG51bWJlcikgPT4gS2V5LFxuICByZWR1Y2VyOiAoXG4gICAgYWNjdW11bGF0b3I6IEdlbmVyYWxpemVDb25zdGFudHM8QWNjdW11bGF0b3I+LFxuICAgIGl0ZW06IEl0ZXJhdG9ySXRlbTxTPixcbiAgICBpbmRleDogbnVtYmVyXG4gICkgPT4gQWNjdW11bGF0b3IsXG4gIHNlZWQ/OiBBY2N1bXVsYXRvciB8ICgoKSA9PiBBY2N1bXVsYXRvciksXG4gIC4uLnJlc2V0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gTWFwPEtleSwgQWNjdW11bGF0b3I+ID0gKFxuICBzb3VyY2UsXG4gIGtleVNlbGVjdG9yLFxuICByZWR1Y2VyLFxuICBzZWVkLFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+IHtcbiAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxhbnksIGFueT4oKTtcbiAgY29uc3Qgc2VlZEZhY3RvcnkgPSAoKSA9PiAoaXNGdW5jdGlvbihzZWVkKSA/IHNlZWQoKSA6IHNlZWQpO1xuICBjb25zdCBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPGFueSwgYW55PiA9IChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGtleVNlbGVjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICBsZXQgYWNjID0gZ3JvdXBzLmdldChrZXkpID8/IHNlZWRGYWN0b3J5KCk7XG4gICAgY29uc3QgdmFsdWUgPSByZWR1Y2VyKGFjYywgaXRlbSwgaW5kZXgpO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBncm91cHMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgZm9yRWFjaEludGVybmFsKHNvdXJjZSwgYWN0aW9uLCBzdGFydCwgZW5kKTtcbiAgcmV0dXJuIGdyb3VwcyBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgZ3JvdXA6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIEtleSwgUiA9IEl0ZXJhdG9ySXRlbTxTPj4oXG4gIHNvdXJjZTogUyxcbiAga2V5U2VsZWN0b3I6IChpdGVtOiBJdGVyYXRvckl0ZW08Uz4sIGluZGV4OiBudW1iZXIpID0+IEtleSxcbiAgdmFsdWVTZWxlY3Rvcj86IChpdGVtOiBJdGVyYXRvckl0ZW08Uz4sIGluZGV4OiBudW1iZXIpID0+IFIsXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBTIGV4dGVuZHMgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogTWFwPEtleSwgUltdPiA9IChcbiAgc291cmNlLFxuICBrZXlTZWxlY3RvcixcbiAgdmFsdWVTZWxlY3RvciA9IChpdGVtOiBhbnkpID0+IGl0ZW0sXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICBjb25zdCBncm91cHMgPSBuZXcgTWFwPGFueSwgYW55W10+KCk7XG4gIChmb3JFYWNoSW50ZXJuYWwgYXMgYW55KShcbiAgICBzb3VyY2UsXG4gICAgKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0ga2V5U2VsZWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZVNlbGVjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICAgIGdldChncm91cHMsIGtleSBhcyBhbnksICgpID0+IFtdKS5wdXNoKHZhbHVlKTtcbiAgICB9LFxuICAgIHN0YXJ0LFxuICAgIGVuZFxuICApO1xuICByZXR1cm4gZ3JvdXBzIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWR1Y2U6IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBSZWR1Y2VyIGV4dGVuZHMgKFxuICAgIC4uLmFyZ3M6IFtcbiAgICAgIGFjY3VtdWxhdG9yOiB1bmtub3duIGV4dGVuZHMgQWNjdW11bGF0b3JcbiAgICAgICAgPyBhbnlcbiAgICAgICAgOiBHZW5lcmFsaXplQ29uc3RhbnRzPEFjY3VtdWxhdG9yPixcbiAgICAgIGl0ZW06IEl0ZXJhdG9ySXRlbTxTPixcbiAgICAgIGluZGV4OiBudW1iZXJcbiAgICBdXG4gICkgPT4gR2VuZXJhbGl6ZUNvbnN0YW50czxBY2N1bXVsYXRvcj4sXG4gIEFjY3VtdWxhdG9yXG4+KFxuICBzb3VyY2U6IFMsXG4gIHJlZHVjZXI6IFJlZHVjZXIsXG4gIHNlZWQ/OiBBY2N1bXVsYXRvciB8ICgoKSA9PiBBY2N1bXVsYXRvciksXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBSZWR1Y2VyIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgUlxuICA/IFIgfCAodW5rbm93biBleHRlbmRzIEFjY3VtdWxhdG9yID8gdW5kZWZpbmVkIDogbmV2ZXIpXG4gIDogbmV2ZXIgPSAoc291cmNlLCByZWR1Y2VyLCBzZWVkLCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PiB7XG4gIGNvbnN0IHNlZWRGYWN0b3J5ID0gKCkgPT4gKGlzRnVuY3Rpb24oc2VlZCkgPyBzZWVkKCkgOiBzZWVkKTtcbiAgcmV0dXJuIChcbiAgICBmb3JFYWNoSW50ZXJuYWwoXG4gICAgICBzb3VyY2UsXG4gICAgICAodmFsdWUsIGluZGV4KSA9PlxuICAgICAgICAoc2VlZCA9XG4gICAgICAgICAgKChyZWR1Y2VyIGFzIGFueSkoc2VlZCBhcyBhbnksIHZhbHVlLCBpbmRleCkgYXMgYW55KSA/P1xuICAgICAgICAgIHNlZWRGYWN0b3J5KCkpLFxuICAgICAgc3RhcnQsXG4gICAgICBlbmRcbiAgICApID8/IChzZWVkRmFjdG9yeSgpIGFzIGFueSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXI6IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUCBleHRlbmRzIEl0ZXJhdG9yRmlsdGVyPFM+PihcbiAgICBzb3VyY2U6IFMsXG4gICAgcHJlZGljYXRlPzogUCxcbiAgICAuLi5hcmdzOiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogTWF5YmVVbmRlZmluZWQ8UywgRXhjbHVkZTxFeGNsdWRlPEl0ZXJhdG9ySXRlbTxTPiwgRmFsc2lzaD5bXSwgbmV2ZXJbXT4+O1xufSA9IChzb3VyY2UsIHByZWRpY2F0ZSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgKG1hcCBhcyBhbnkpKFxuICAgIHNvdXJjZSxcbiAgICAodmFsdWU6IGFueSwgaW5kZXg6IGFueSkgPT5cbiAgICAgIHZhbHVlICYmIHByZWRpY2F0ZT8uKHZhbHVlLCBpbmRleCkgPyB2YWx1ZSA6IHVuZGVmaW5lZCxcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgKSBhcyBhbnk7XG5cbmxldCBmaWx0ZXJJbnRlcm5hbCA9IGZpbHRlcjtcblxuZXhwb3J0IGNvbnN0IGNvdW50OiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxTPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFMsIG51bWJlcj4gPSAoXG4gIHNvdXJjZTogSXRlcmF0b3JTb3VyY2UsXG4gIGZpbHRlcj86IEl0ZXJhdG9yRmlsdGVyPEl0ZXJhdG9yU291cmNlPlxuKSA9PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG5cbiAgbGV0IG46IG51bWJlcjtcbiAgaWYgKCFmaWx0ZXIpIHtcbiAgICBpZiAoKG4gPSBzb3VyY2UhW1wibGVuZ3RoXCJdID8/IHNvdXJjZSFbXCJzaXplXCJdKSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgaWYgKCFzb3VyY2Vbc3ltYm9sSXRlcmF0b3JdKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgbiA9IDA7XG4gIHJldHVybiAoXG4gICAgZm9yRWFjaEludGVybmFsKFxuICAgICAgc291cmNlLFxuICAgICAgZmlsdGVyID8gKGl0ZW0sIGluZGV4KSA9PiAoZmlsdGVyIShpdGVtLCBpbmRleCkgPyArK24gOiBuKSA6ICgpID0+ICsrblxuICAgICkgPz8gKDAgYXMgYW55KVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHN1bToge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlT2Y8bnVtYmVyPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHNlbGVjdG9yPzogSXRlcmF0b3JBY3Rpb248UywgbnVtYmVyPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogbnVtYmVyO1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgICBzb3VyY2U6IFMsXG4gICAgc2VsZWN0b3I6IEl0ZXJhdG9yQWN0aW9uPFMsIG51bWJlcj4sXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IG51bWJlcjtcbn0gPSAoXG4gIHNvdXJjZTogYW55LFxuICBzZWxlY3RvcjogYW55ID0gKGl0ZW06IGFueSkgPT4gaXRlbSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PlxuICByZWR1Y2UoXG4gICAgc291cmNlLFxuICAgIChzdW0sIHZhbHVlLCBpbmRleCkgPT4gc3VtICsgKHNlbGVjdG9yKHZhbHVlLCBpbmRleCkgPz8gMCksXG4gICAgMCxcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgKTtcblxudHlwZSBDYW5CZUVtcHR5U291cmNlPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4gPSBhbnlbXSBleHRlbmRzIFNcbiAgPyB0cnVlXG4gIDogUyBleHRlbmRzIHsgbGVuZ3RoOiAwIH0gfCAwIC8vIFplcm8gbGVuZ3RoIHJhbmdlLlxuICA/IHRydWVcbiAgOiBTIGV4dGVuZHMgcmVhZG9ubHkgYW55W10gfCBudW1iZXJcbiAgPyBmYWxzZVxuICA6IHRydWU7XG5cbnR5cGUgTWluTWF4RnVuY3Rpb24gPSB7XG4gIDxTIGV4dGVuZHMgcmVhZG9ubHkgbnVtYmVyW10+KC4uLm51bWJlcnM6IFMgfCByZWFkb25seSBbbnVtYmVyXSk6XG4gICAgfCAoUyBleHRlbmRzIHJlYWRvbmx5IFtdID8gdW5kZWZpbmVkIDogbnVtYmVyKVxuICAgIHwgVW5kZWZpbmVkSWZFbXB0eTxTPjtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gICAgc291cmNlOiBTIHwgcmVhZG9ubHkgW251bWJlcl0sXG4gICAgc2VsZWN0b3I/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IHRydWUgZXh0ZW5kcyBDYW5CZUVtcHR5U291cmNlPFM+XG4gICAgPyBudW1iZXIgfCB1bmRlZmluZWRcbiAgICA6IElmPFxuICAgICAgICBFeHRlbmRzPEl0ZXJhdG9yUHJvamVjdGlvbldpdGhVbmRlZmluZWQ8UywgUiwgUD4sIG51bWJlcj4sXG4gICAgICAgIG51bWJlcixcbiAgICAgICAgdW5kZWZpbmVkXG4gICAgICA+O1xufTtcblxuZXhwb3J0IGNvbnN0IG1pbjogTWluTWF4RnVuY3Rpb24gPSAoc291cmNlOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBpc051bWJlcihzb3VyY2UpXG4gICAgPyBNYXRoLm1pbihzb3VyY2UsIC4uLmFyZ3MpXG4gICAgOiByZWR1Y2UoXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKFxuICAgICAgICAgIG1pbixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBwcm9qZWN0ZWQgPSBhcmdzWzFdID8gYXJnc1sxXSh2YWx1ZSwgaW5kZXgpIDogdmFsdWVcbiAgICAgICAgKSA9PlxuICAgICAgICAgIG1pbiA9PSBudWxsIHx8IChpc051bWJlcihwcm9qZWN0KSAmJiBwcm9qZWN0ZWQgPCBtaW4pXG4gICAgICAgICAgICA/IHByb2plY3RlZFxuICAgICAgICAgICAgOiBtYXgsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgYXJnc1syXSxcbiAgICAgICAgYXJnc1szXVxuICAgICAgKTtcblxuZXhwb3J0IGNvbnN0IG1heEJ5ID0gPFQ+KFxuICBzb3VyY2U6IEl0ZXJhYmxlPFQ+LFxuICBzZWxlY3RvcjogKGl0ZW06IFQsIGN1cnJlbnRNYXg/OiBudW1iZXIpID0+IG51bWJlciB8IGZhbHNlIHwgTnVsbGlzaFxuKSA9PiB7XG4gIGxldCBiZXN0OiBbVCwgbnVtYmVyXSB8IHVuZGVmaW5lZDtcbiAgbGV0IHNlbGVjdGVkOiBudW1iZXIgfCBib29sZWFuIHwgTnVsbGlzaDtcbiAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIHNlbGVjdGVkID0gc2VsZWN0b3IoaXRlbSwgYmVzdD8uWzFdKTtcbiAgICBpZiAoc2VsZWN0ZWQgPT09IGZhbHNlKSByZXR1cm4gYmVzdDtcbiAgICBpZiAoIWJlc3QgfHwgc2VsZWN0ZWQhID4gYmVzdFsxXSkge1xuICAgICAgYmVzdCA9IFtpdGVtLCBzZWxlY3RlZCFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmVzdDtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXg6IE1pbk1heEZ1bmN0aW9uID0gKHNvdXJjZTogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaXNOdW1iZXIoc291cmNlKVxuICAgID8gTWF0aC5tYXgoc291cmNlLCAuLi5hcmdzKVxuICAgIDogcmVkdWNlKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIChcbiAgICAgICAgICBtYXgsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgcHJvamVjdGVkID0gYXJnc1sxXSA/IGFyZ3NbMV0odmFsdWUsIGluZGV4KSA6IHZhbHVlXG4gICAgICAgICkgPT5cbiAgICAgICAgICBtYXggPT0gbnVsbCB8fCAoaXNOdW1iZXIocHJvamVjdGVkKSAmJiBwcm9qZWN0ZWQgPiBtYXgpXG4gICAgICAgICAgICA/IHByb2plY3RlZFxuICAgICAgICAgICAgOiBtYXgsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgYXJnc1syXSxcbiAgICAgICAgYXJnc1szXVxuICAgICAgKTtcblxuZXhwb3J0IGNvbnN0IHZhbHVlczogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIHNvdXJjZTogUyxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFxuICBTLFxuICAoSXRlcmF0b3JJdGVtPFM+IGV4dGVuZHMgcmVhZG9ubHkgW2FueSwgaW5mZXIgSXRlbV1cbiAgICA/IEl0ZW1cbiAgICA6IEl0ZXJhdG9ySXRlbTxTPilbXVxuPiA9IChzb3VyY2UsIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+XG4gIChtYXAgYXMgYW55KShcbiAgICBzb3VyY2UsXG4gICAgaXNQbGFpbk9iamVjdChzb3VyY2UpIHx8IGlzTWFwKHNvdXJjZSlcbiAgICAgID8gKGl0ZW06IGFueSkgPT4gaXRlbVsxXVxuICAgICAgOiAoaXRlbTogYW55KSA9PiBpdGVtLFxuICAgIHN0YXJ0LFxuICAgIGVuZFxuICApO1xuXG5leHBvcnQgY29uc3QgZW50cmllczogPFMgZXh0ZW5kcyBJdGVyYWJsZTxhbnk+IHwgU2ltcGxlT2JqZWN0PihcbiAgdGFyZ2V0OiBTXG4pID0+IEVudHJpZXM8Uz4gPSAodGFyZ2V0KSA9PlxuICAhaXNBcnJheSh0YXJnZXQpICYmIGlzSXRlcmFibGUodGFyZ2V0KVxuICAgID8gbWFwKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGlzTWFwKHRhcmdldClcbiAgICAgICAgICA/ICh2YWx1ZSkgPT4gdmFsdWVcbiAgICAgICAgICA6IGlzU2V0KHRhcmdldClcbiAgICAgICAgICA/ICh2YWx1ZSkgPT4gW3ZhbHVlLCB0cnVlXVxuICAgICAgICAgIDogKHZhbHVlLCBpbmRleCkgPT4gW2luZGV4LCB2YWx1ZV1cbiAgICAgIClcbiAgICA6IGlzT2JqZWN0KHRhcmdldClcbiAgICA/IChPYmplY3QuZW50cmllcyh0YXJnZXQpIGFzIGFueSlcbiAgICA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGtleXM6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBzb3VyY2U6IFMsXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBNYXliZVVuZGVmaW5lZDxcbiAgUyxcbiAgSXRlcmF0b3JJdGVtPFM+IGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEtleSwgYW55XSA/IEtleSA6IG51bWJlclxuPiA9IChzb3VyY2UsIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+XG4gIChtYXAgYXMgYW55KShcbiAgICBzb3VyY2UsXG4gICAgaXNQbGFpbk9iamVjdChzb3VyY2UpXG4gICAgICA/IChpdGVtOiBhbnkpID0+IGl0ZW1bMF1cbiAgICAgIDogKF9pdGVtOiBhbnksIGk6IG51bWJlcikgPT4gaSxcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgKTtcblxuZXhwb3J0IGNvbnN0IG1hcEZpcnN0OiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgc291cmNlOiBTLFxuICBwcm9qZWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4gfCB1bmRlZmluZWQgPSAoXG4gIHNvdXJjZSxcbiAgcHJvamVjdGlvbixcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAoKHByb2plY3Rpb24gPSB3cmFwUHJvamVjdGlvbihwcm9qZWN0aW9uKSEpLFxuICAgICAgZm9yRWFjaEludGVybmFsKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgICh2YWx1ZSwgaSkgPT5cbiAgICAgICAgICAhcHJvamVjdGlvbiB8fCAodmFsdWUgPSAocHJvamVjdGlvbiBhcyBhbnkpKHZhbHVlLCBpKSlcbiAgICAgICAgICAgID8gc3RvcCh2YWx1ZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kXG4gICAgICApKTtcblxuZXhwb3J0IGNvbnN0IGZpcnN0OiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxTPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IEl0ZXJhdG9ySXRlbTxTPiB8IHVuZGVmaW5lZCA9IChcbiAgc291cmNlLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxhbnk+LFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IGZvckVhY2hJbnRlcm5hbChcbiAgICAgICAgc291cmNlLFxuICAgICAgICAodmFsdWUsIGkpID0+XG4gICAgICAgICAgIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGkpID8gc3RvcCh2YWx1ZSkgOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICAgICk7XG5cbmV4cG9ydCBjb25zdCBsYXN0OiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlIHwgdW5kZWZpbmVkPihcbiAgc291cmNlOiBTLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxTPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IEl0ZXJhdG9ySXRlbTxTPiB8IHVuZGVmaW5lZCA9IChcbiAgc291cmNlLFxuICBwcmVkaWNhdGU/OiBhbnksXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSlcbiAgICA/IHNvdXJjZVtzb3VyY2UubGVuZ3RoIC0gMV1cbiAgICA6IGZvckVhY2hJbnRlcm5hbChcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKGl0ZW0sIGkpID8gaXRlbSA6IHVuZGVmaW5lZCksXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICAgICk7XG5cbmV4cG9ydCBjb25zdCByYW5rID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oc291cmNlOiBTKSA9PlxuICBjcmVhdGVJdGVyYXRvcihzb3VyY2UsIChpdGVtLCBpKSA9PiBbaXRlbSwgaV0gYXMgY29uc3QpO1xuXG5leHBvcnQgY29uc3Qgc29tZTogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIHNvdXJjZTogUyxcbiAgcHJlZGljYXRlPzogSXRlcmF0b3JGaWx0ZXI8Uz4sXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBNYXliZVVuZGVmaW5lZDxTLCBib29sZWFuPiA9IChzb3VyY2UsIHByZWRpY2F0ZSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaXNQbGFpbk9iamVjdChzb3VyY2UpICYmICFwcmVkaWNhdGVcbiAgICA/IE9iamVjdC5rZXlzKHNvdXJjZSkubGVuZ3RoID4gMFxuICAgIDogKHNvdXJjZSBhcyBhbnkpLnNvbWU/LihwcmVkaWNhdGUgPz8gaXNUcnVpc2gpID8/XG4gICAgICBmb3JFYWNoSW50ZXJuYWw8YW55LCBib29sZWFuPihcbiAgICAgICAgc291cmNlLFxuICAgICAgICBwcmVkaWNhdGVcbiAgICAgICAgICA/IChpdGVtLCBpbmRleCkgPT4gKHByZWRpY2F0ZShpdGVtLCBpbmRleCkgPyBzdG9wKHRydWUpIDogZmFsc2UpXG4gICAgICAgICAgOiAoKSA9PiBzdG9wKHRydWUpLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kXG4gICAgICApID8/XG4gICAgICBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGV2ZXJ5OiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxTPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFMsIGJvb2xlYW4+ID0gKHNvdXJjZSwgcHJlZGljYXRlLCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAoIShzb21lIGFzIGFueSkoXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgcHJlZGljYXRlXG4gICAgICAgICAgPyAoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAhcHJlZGljYXRlKGl0ZW0sIGluZGV4KVxuICAgICAgICAgIDogaXNGYWxzaXNoLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kXG4gICAgICApIGFzIGFueSk7XG5cbi8qKlxuICogQXJyYXkncyBgc29ydGAgZnVuY3Rpb24gdGhhdCBvZmZlcnMgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCBpcyBhcHBsaWVkIG9uIGVhY2ggZWxlbWVudCBpbnN0ZWFkIG9mIGhhdmluZyB0byBkbyBpdCB0d2ljZSAoYFsuLi5dLnNvcnQoeCx5KT0+Zih4KS1mKHkpYCkuXG4gKiBEZWZhdWx0IGlzIHRvIHVzZSB0aGUgdmFsdWUgZGlyZWN0bHkuXG4gKi9cbmV4cG9ydCBjb25zdCBzb3J0ID0gPFxuICBUIGV4dGVuZHMgSXRlcmFibGU8YW55PiB8IE51bGxpc2gsXG4gIEl0ZW0gZXh0ZW5kcyBJdGVyYXRvckl0ZW08VD5cbj4oXG4gIGl0ZW1zOiBULFxuICByYW5rOiAoaXRlbTogSXRlbSkgPT4gbnVtYmVyID0gKGl0ZW0pID0+IGl0ZW0gYXMgYW55XG4pOiBNYXliZVVuZGVmaW5lZDxULCBJdGVtW10+ID0+XG4gIChhcnJheShpdGVtcyk/LnNvcnQoKGxocywgcmhzKSA9PiByYW5rKGxocykgLSByYW5rKHJocykpLCBpdGVtcykgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgYmluYXJ5U2VhcmNoOiB7XG4gIChhcnI6IEFycmF5PG51bWJlcj4sIGZpbmQ6IG51bWJlcik6IG51bWJlcjtcbiAgPFQgPSBudW1iZXI+KGFycjogQXJyYXk8VD4sIGZpbmQ6IFQsIGNvbXBhcmU6ICh4OiBULCB5OiBUKSA9PiBudW1iZXIpOiBudW1iZXI7XG59ID0gPFQgPSBudW1iZXI+KFxuICBhcnI6IEFycmF5PFQ+LFxuICBmaW5kOiBULFxuICBjb21wYXJlOiAoeDogVCwgeTogVCkgPT4gbnVtYmVyID0gKCh4OiBhbnksIHk6IGFueSkgPT4geCAtIHkpIGFzIGFueVxuKSA9PiB7XG4gIGxldCBtID0gMDtcbiAgbGV0IG4gPSBhcnIubGVuZ3RoIC0gMTtcbiAgbGV0IGNtcDogbnVtYmVyO1xuICBsZXQgazogbnVtYmVyO1xuICB3aGlsZSAobSA8PSBuKSB7XG4gICAgayA9IChuICsgbSkgPj4gMTtcbiAgICBjbXAgPSBjb21wYXJlKGZpbmQsIGFycltrXSk7XG4gICAgaWYgKGNtcCA+IDApIHtcbiAgICAgIG0gPSBrICsgMTtcbiAgICB9IGVsc2UgaWYgKGNtcCA8IDApIHtcbiAgICAgIG4gPSBrIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGs7XG4gICAgfVxuICB9XG4gIHJldHVybiB+bTtcbn07XG4iLCJpbXBvcnQge1xuICBBbmQsXG4gIEV4dGVuZHMsXG4gIEdlbmVyYWxpemVDb25zdGFudHMsXG4gIElmLFxuICBJc0FueSxcbiAgSXRlcmF0b3JJdGVtLFxuICBJdGVyYXRvclNvdXJjZU9mLFxuICBLZXlWYWx1ZVBhaXJzVG9PYmplY3QsXG4gIE1heWJlVW5kZWZpbmVkLFxuICBNZXRob2RPdmVybG9hZHMsXG4gIE5vdEZ1bmN0aW9uLFxuICBOdWxsaXNoLFxuICBQcmV0dGlmeUludGVyc2VjdGlvbixcbiAgUHJpbWl0aXZlcyxcbiAgU2ltcGxlT2JqZWN0LFxuICBTdWJ0cmFjdCxcbiAgVW5pb25Ub0ludGVyc2VjdGlvbixcbiAgY291bnQsXG4gIGZvckVhY2gsXG4gIGhhc01ldGhvZCxcbiAgaXNBcnJheSxcbiAgaXNGdW5jdGlvbixcbiAgaXNNYXAsXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNTZXQsXG4gIG1hcCxcbiAgb2JqLFxuICBzdHJ1Y3R1cmFsRXF1YWxzLFxuICB0aHJvd0Vycm9yLFxufSBmcm9tIFwiLlwiO1xuXG50eXBlIFJlYWRvbmx5TWFwTGlrZTxLID0gYW55LCBWID0gYW55PiA9IHtcbiAgaGFzPyhrZXk6IEspOiBib29sZWFuO1xuICBnZXQoa2V5OiBLKTogViB8IHVuZGVmaW5lZDtcbn07XG5cbnR5cGUgTWFwTGlrZTxLID0gYW55LCBWID0gYW55PiA9IFJlYWRvbmx5TWFwTGlrZTxLLCBWPiAmIHtcbiAgc2V0KGtleTogSywgdmFsdWU6IFYpOiBhbnk7XG4gIGRlbGV0ZShrZXk6IEspOiBhbnk7XG4gIGNsZWFyKCk6IGFueTtcbn07XG5cbnR5cGUgUmVhZG9ubHlTZXRMaWtlPEsgPSBhbnk+ID0ge1xuICBoYXMoa2V5OiBLKTogYm9vbGVhbjtcbn07XG50eXBlIFNldExpa2U8SyA9IGFueT4gPSBSZWFkb25seVNldExpa2U8Sz4gJiB7XG4gIGFkZChrZXk6IEspOiBhbnk7XG4gIGRlbGV0ZShrZXk6IEspOiBhbnk7XG4gIGNsZWFyKCk6IGFueTtcbn07XG5cbnR5cGUgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcjxLIGV4dGVuZHMgYW55ID0gYW55LCBWIGV4dGVuZHMgYW55ID0gYW55PiA9XG4gIHwgU2ltcGxlT2JqZWN0XG4gIHwgcmVhZG9ubHkgYW55W11cbiAgfCBSZWFkb25seU1hcExpa2U8SywgVj5cbiAgfCBSZWFkb25seVNldExpa2U8Sz47XG5cbnR5cGUgUHJvcGVydHlDb250YWluZXI8SyBleHRlbmRzIGFueSA9IGFueSwgViBleHRlbmRzIGFueSA9IGFueT4gPVxuICB8IFJlYWRvbmx5UHJvcGVydHlDb250YWluZXI8SywgVj5cbiAgfCBNYXBMaWtlPEssIFY+XG4gIHwgU2V0TGlrZTxLPjtcblxuZXhwb3J0IHR5cGUgVHVwbGVJbmRpY2VzPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgW11cbiAgPyBuZXZlclxuICA6IG51bWJlciBleHRlbmRzIFRbXCJsZW5ndGhcIl1cbiAgPyBudW1iZXJcbiAgOiBUIGV4dGVuZHMgcmVhZG9ubHkgW2FueSwgLi4uaW5mZXIgUmVzdF1cbiAgPyBUdXBsZUluZGljZXM8UmVzdD4gfCBSZXN0W1wibGVuZ3RoXCJdXG4gIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIEtleVR5cGU8VCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoPiA9XG4gIFQgZXh0ZW5kcyBQcmltaXRpdmVzXG4gICAgPyBuZXZlclxuICAgIDogVCBleHRlbmRzIFJlYWRvbmx5TWFwTGlrZTxpbmZlciBLLCBhbnk+IHwgUmVhZG9ubHlTZXRMaWtlPGluZmVyIEs+XG4gICAgPyBLXG4gICAgOiBUIGV4dGVuZHMgcmVhZG9ubHkgYW55W11cbiAgICA/IFR1cGxlSW5kaWNlczxUPlxuICAgIDoga2V5b2YgVDtcblxuZXhwb3J0IHR5cGUgVmFsdWVUeXBlPFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsXG4gIEsgPSBLZXlUeXBlPFQ+LFxuICBDb250ZXh0IGV4dGVuZHMgdW5kZWZpbmVkIHwgXCJnZXRcIiB8IFwic2V0XCIgPSB1bmRlZmluZWRcbj4gPSBJc0FueTxUPiBleHRlbmRzIHRydWVcbiAgPyBhbnlcbiAgOiBUIGV4dGVuZHMgTnVsbGlzaFxuICA/IG5ldmVyXG4gIDogSyBleHRlbmRzIEtleVR5cGU8VD5cbiAgPyBUIGV4dGVuZHMgUmVhZG9ubHlNYXBMaWtlPEssIGluZmVyIFY+XG4gICAgPyBWIHwgSWY8RXh0ZW5kczxDb250ZXh0LCBcImdldFwiIHwgXCJzZXRcIj4sIHVuZGVmaW5lZD5cbiAgICA6IFQgZXh0ZW5kcyBSZWFkb25seVNldExpa2U8Sz5cbiAgICA/IGJvb2xlYW5cbiAgICA6XG4gICAgICAgIHwgVFtLXVxuICAgICAgICB8IElmPEFuZDxFeHRlbmRzPFQsIFNpbXBsZU9iamVjdD4sIEV4dGVuZHM8Q29udGV4dCwgXCJzZXRcIj4+LCB1bmRlZmluZWQ+XG4gIDogbmV2ZXI7XG5cbmNvbnN0IHNldCA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlOiBhbnkpID0+IHtcbiAgaWYgKHRhcmdldC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IGlzQXJyYXkodGFyZ2V0KSkge1xuICAgIHZhbHVlID09PSB1bmRlZmluZWQgPyBkZWxldGUgdGFyZ2V0W2tleV0gOiAodGFyZ2V0W2tleV0gPSB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgID8gdGFyZ2V0LmRlbGV0ZVxuICAgICAgPyB0YXJnZXQuZGVsZXRlKGtleSlcbiAgICAgIDogZGVsZXRlIHRhcmdldFtrZXldXG4gICAgOiB0YXJnZXQuc2V0XG4gICAgPyB0YXJnZXQuc2V0KGtleSwgdmFsdWUpXG4gICAgOiB0YXJnZXQuYWRkXG4gICAgPyB2YWx1ZVxuICAgICAgPyB0YXJnZXQuYWRkKGtleSlcbiAgICAgIDogdGFyZ2V0LmRlbGV0ZShrZXkpXG4gICAgOiAodGFyZ2V0W2tleV0gPSB2YWx1ZSk7XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFNpbmdsZUlmTm90RGVmaW5lZCA9IChcbiAgdGFyZ2V0OiBhbnksXG4gIGtleTogYW55LFxuICB2YWx1ZTogYW55LFxuICBlcnJvcjogKFxuICAgIGtleTogc3RyaW5nLFxuICAgIGN1cnJlbnRWYWx1ZTogYW55LFxuICAgIG5ld1ZhbHVlOiBhbnksXG4gICAgdGFyZ2V0OiBhbnlcbiAgKSA9PiBzdHJpbmcgfCBFcnJvclxuKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGdldCh0YXJnZXQsIGtleSk7XG4gIGlmIChjdXJyZW50VmFsdWUgIT0gbnVsbCkge1xuICAgIHRocm93RXJyb3IoZXJyb3Ioa2V5LCBjdXJyZW50VmFsdWUsIHZhbHVlLCB0YXJnZXQpKTtcbiAgfVxuICByZXR1cm4gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgdHJ5QWRkOiB7XG4gIDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+PihcbiAgICB0YXJnZXQ6IFQsXG4gICAga2V5OiBLLFxuICAgIHZhbHVlOiBXcmFwcGVkPFZhbHVlVHlwZTxULCBLLCBcInNldFwiPj4sXG4gICAgY29uZmxpY3Q/OiAoY3VycmVudDogVmFsdWVUeXBlPFQsIEs+KSA9PiB2b2lkXG4gICk6IGJvb2xlYW47XG59ID0gKHRhcmdldCwga2V5LCB2YWx1ZSwgY29uZmxpY3QpID0+IHtcbiAgY29uc3QgY3VycmVudCA9IGdldCh0YXJnZXQsIGtleSk7XG4gIGlmIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICBjb25mbGljdD8uKGN1cnJlbnQgYXMgYW55KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB1bndyYXAodmFsdWUpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0OiB7XG4gIDxUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+PihcbiAgICB0YXJnZXQ6IFQsXG4gICAga2V5OiBLXG4gICk6IFZhbHVlVHlwZTxULCBLLCBcImdldFwiPjtcbiAgPFxuICAgIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaCxcbiAgICBLIGV4dGVuZHMgS2V5VHlwZTxUPixcbiAgICBSIGV4dGVuZHNcbiAgICAgIHwgVmFsdWVUeXBlPFQsIEs+XG4gICAgICB8ICgoKSA9PiBWYWx1ZVR5cGU8VCwgSz4pXG4gICAgICB8IHVuZGVmaW5lZFxuICAgICAgfCAoKCkgPT4gVmFsdWVUeXBlPFQsIEs+IHwgdW5kZWZpbmVkKVxuICA+KFxuICAgIHRhcmdldDogVCxcbiAgICBrZXk6IEssXG4gICAgaW5pdDogUlxuICApOiBWYWx1ZVR5cGU8XG4gICAgVCxcbiAgICBLLFxuICAgIFIgZXh0ZW5kcyBWYWx1ZVR5cGU8VCwgSz4gfCAoKCkgPT4gVmFsdWVUeXBlPFQsIEs+KSA/IHVuZGVmaW5lZCA6IFwiZ2V0XCJcbiAgPjtcbn0gPSA8XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaCxcbiAgSyBleHRlbmRzIEtleVR5cGU8VD4sXG4gIFIgZXh0ZW5kcyBWYWx1ZVR5cGU8VCwgSz4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbj4oXG4gIHRhcmdldDogVCxcbiAga2V5OiBLIHwgdW5kZWZpbmVkLFxuICBpbml0PzogV3JhcHBlZDxSPlxuKSA9PiB7XG4gIGlmICghdGFyZ2V0KSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcblxuICBsZXQgdmFsdWUgPSAodGFyZ2V0IGFzIGFueSkuZ2V0XG4gICAgPyAodGFyZ2V0IGFzIGFueSkuZ2V0KGtleSlcbiAgICA6ICh0YXJnZXQgYXMgYW55KS5oYXNcbiAgICA/ICh0YXJnZXQgYXMgYW55KS5oYXMoa2V5KVxuICAgIDogdGFyZ2V0W2tleSBhcyBhbnldO1xuXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGluaXQgIT0gbnVsbCkge1xuICAgICh2YWx1ZSA9IGlzRnVuY3Rpb24oaW5pdCkgPyAoaW5pdCBhcyBhbnkpKCkgOiBpbml0KSAhPSBudWxsICYmXG4gICAgICBzZXQodGFyZ2V0LCBrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG50eXBlIFVwZGF0ZUZ1bmN0aW9uPFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcixcbiAgS2V5LFxuICBDdXJyZW50LFxuICBGYWN0b3J5XG4+ID0gRmFjdG9yeSBleHRlbmRzIGZhbHNlXG4gID8gKFxuICAgICAgY3VycmVudDogQ3VycmVudCxcbiAgICAgIGtleTogS2V5LFxuICAgICAgdGFyZ2V0OiBUXG4gICAgKSA9PiBHZW5lcmFsaXplQ29uc3RhbnRzPFZhbHVlVHlwZTxULCBLZXk+PiB8IHVuZGVmaW5lZFxuICA6IChrZXk6IEtleSwgdGFyZ2V0OiBUKSA9PiBHZW5lcmFsaXplQ29uc3RhbnRzPFZhbHVlVHlwZTxULCBLZXk+PjtcblxudHlwZSBVcGRhdGVyPFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcixcbiAgS2V5LFxuICBDdXJyZW50ID0gVmFsdWVUeXBlPFQsIEtleT4sXG4gIFNldHRlcnNPbmx5ID0gZmFsc2UsXG4gIEZhY3RvcnkgPSBmYWxzZVxuPiA9IFNldHRlcnNPbmx5IGV4dGVuZHMgdHJ1ZVxuICA/IFZhbHVlVHlwZTxULCBLZXk+IHwgKEZhY3RvcnkgZXh0ZW5kcyB0cnVlID8gbmV2ZXIgOiB1bmRlZmluZWQpXG4gIDogSXNBbnk8VD4gZXh0ZW5kcyB0cnVlXG4gID8gTm90RnVuY3Rpb24gfCBVcGRhdGVGdW5jdGlvbjxhbnksIGFueSwgYW55LCBGYWN0b3J5PlxuICA6XG4gICAgICB8IChWYWx1ZVR5cGU8VCwgS2V5PiBleHRlbmRzIEZ1bmN0aW9uXG4gICAgICAgICAgPyBuZXZlclxuICAgICAgICAgIDogVmFsdWVUeXBlPFQsIEtleT4gfCAoRmFjdG9yeSBleHRlbmRzIHRydWUgPyBuZXZlciA6IHVuZGVmaW5lZCkpXG4gICAgICB8IFVwZGF0ZUZ1bmN0aW9uPFQsIEtleSwgQ3VycmVudCwgRmFjdG9yeT47XG5cbnR5cGUgVXBkYXRlclR5cGU8VCwgU2V0dGVyc09ubHkgPSBmYWxzZT4gPSBTZXR0ZXJzT25seSBleHRlbmRzIHRydWVcbiAgPyBUXG4gIDogVCBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFRcbiAgPyBUXG4gIDogVDtcblxudHlwZSBCdWxrVXBkYXRlT2JqZWN0PFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcixcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcbiAgRmFjdG9yeSA9IGZhbHNlXG4+ID0gVCBleHRlbmRzIE1hcExpa2UgfCBTZXRMaWtlIHwgYW55W11cbiAgPyB7XG4gICAgICBbUCBpbiBLZXlUeXBlPFQ+XTogVXBkYXRlcjxULCBQLCBWYWx1ZVR5cGU8VCwgUD4sIFNldHRlcnNPbmx5LCBGYWN0b3J5PjtcbiAgICB9XG4gIDogeyBbUCBpbiBrZXlvZiBUICYgS2V5VHlwZTxUPl0/OiBVcGRhdGVyPFQsIFAsIFRbUF0sIFNldHRlcnNPbmx5LCBGYWN0b3J5PiB9O1xuXG50eXBlIEJ1bGtVcGRhdGVLZXlWYWx1ZTxcbiAgVCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXIsXG4gIFNldHRlcnNPbmx5ID0gZmFsc2UsXG4gIEZhY3RvcnkgPSBmYWxzZSxcbiAgSyBleHRlbmRzIGtleW9mIFQgPSBrZXlvZiBUXG4+ID0gSXNBbnk8VD4gZXh0ZW5kcyB0cnVlXG4gID8gcmVhZG9ubHkgW2FueSwgVXBkYXRlcjxULCBhbnksIGFueSwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XVxuICA6IFQgZXh0ZW5kcyBNYXBMaWtlIHwgU2V0TGlrZSB8IGFueVtdXG4gID8gcmVhZG9ubHkgW1xuICAgICAgS2V5VHlwZTxUPixcbiAgICAgIFVwZGF0ZXI8VCwgS2V5VHlwZTxUPiwgVmFsdWVUeXBlPFQsIEtleVR5cGU8VD4+LCBTZXR0ZXJzT25seSwgRmFjdG9yeT5cbiAgICBdXG4gIDogSyBleHRlbmRzIGFueVxuICA/IHJlYWRvbmx5IFtLLCBVcGRhdGVyPFQsIEtleVR5cGU8VD4sIGFueSwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XVxuICA6IG5ldmVyO1xuXG50eXBlIEJ1bGtVcGRhdGVzPFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcixcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcbiAgRmFjdG9yeSA9IGZhbHNlXG4+ID1cbiAgfCBCdWxrVXBkYXRlT2JqZWN0PFQsIFNldHRlcnNPbmx5LCBGYWN0b3J5PlxuICB8IEl0ZXJhYmxlPFxuICAgICAgfCBCdWxrVXBkYXRlS2V5VmFsdWU8VCwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XG4gICAgICB8IEJ1bGtVcGRhdGVPYmplY3Q8VCwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XG4gICAgPlxuICB8IHJlYWRvbmx5IChyZWFkb25seSBCdWxrVXBkYXRlS2V5VmFsdWU8VCwgU2V0dGVyc09ubHksIEZhY3Rvcnk+W10pW107XG5cbnR5cGUgTWVyZ2VSZXN1bHRfPFVwZGF0ZXM+ID0gVXBkYXRlcyBleHRlbmRzIEl0ZXJhYmxlPFxuICBpbmZlciBJdGVtIGV4dGVuZHMgcmVhZG9ubHkgW2tleW9mIGFueSwgYW55XVxuPlxuICA/IEtleVZhbHVlUGFpcnNUb09iamVjdDxJdGVtPlxuICA6IFVwZGF0ZXM7XG5cbnR5cGUgTWVyZ2VSZXN1bHQ8VCwgVXBkYXRlcz4gPSBUIGV4dGVuZHMgU2ltcGxlT2JqZWN0XG4gID8gUHJldHRpZnlJbnRlcnNlY3Rpb248XG4gICAgICBUICZcbiAgICAgICAgVW5pb25Ub0ludGVyc2VjdGlvbjxcbiAgICAgICAgICBNZXJnZVJlc3VsdF88XG4gICAgICAgICAgICBVcGRhdGVzIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVXBkYXRlcz4gPyBVcGRhdGVzIDogVXBkYXRlc1xuICAgICAgICAgID5cbiAgICAgICAgPlxuICAgID5cbiAgOiBUICZcbiAgICAgIFVuaW9uVG9JbnRlcnNlY3Rpb248XG4gICAgICAgIE1lcmdlUmVzdWx0XzxcbiAgICAgICAgICBVcGRhdGVzIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVXBkYXRlcz4gPyBVcGRhdGVzIDogVXBkYXRlc1xuICAgICAgICA+XG4gICAgICA+O1xuXG50eXBlIFNldEVycm9ySGFuZGxlcjxUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2g+ID0gKFxuICBrZXk6IEtleVR5cGU8VD4sXG4gIGN1cnJlbnRWYWx1ZTogVmFsdWVUeXBlPFQ+LFxuICBuZXdWYWx1ZTogVmFsdWVUeXBlPFQ+LFxuICB0YXJnZXQ6IFRcbikgPT4gc3RyaW5nIHwgRXJyb3I7XG5cbnR5cGUgU2V0dGFibGVLZXlUeXBlPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcj4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgYW55W11cbiAgPyAvLyBgS2V5VHlwZTxUPmAgd29uJ3QgZG8uXG4gICAgLy8gSWYgdGhpcyBga2V5b2ZgIGNvbnN0cmFpbnQgaXMgbm90IHNldCBUeXBlU2NyaXB0IHdpbGwgb25seSBjb25zdHJhaW4gdmFsdWVzIGZvciByZWFkb25seSB0dXBsZSBpdGVtcyB0byBUW251bWJlcl0gYW5kIG5vdCBUW0tdLlxuICAgIGtleW9mIFRcbiAgOiBUIGV4dGVuZHMgU2ltcGxlT2JqZWN0XG4gID8ga2V5b2YgYW55XG4gIDogS2V5VHlwZTxUPjtcblxudHlwZSBTZXR0YWJsZVZhbHVlVHlwZTxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsIEs+ID0gSyBleHRlbmRzIEtleVR5cGU8VD5cbiAgP1xuICAgICAgfCBWYWx1ZVR5cGU8VCwgSz5cbiAgICAgIC8vIGB1bmRlZmluZWRgIHJlbW92ZXMgZWxlbWVudHMgZnJvbSBtYXBzIGFuZCBzZXRzIHNvIGFsc28gYWxsb3dlZC5cbiAgICAgIHwgKFQgZXh0ZW5kcyBNYXBMaWtlIHwgU2V0TGlrZSA/IHVuZGVmaW5lZCA6IG5ldmVyKVxuICA6IFQgZXh0ZW5kcyBTaW1wbGVPYmplY3RcbiAgPyBhbnlcbiAgOiBuZXZlcjtcblxudHlwZSBJc0dlbmVyYWxLZXk8VCwgUyA9IGtleW9mIGFueT4gPSBTIGV4dGVuZHMgVCA/IHRydWUgOiBmYWxzZTtcblxuLyoqIExpc3Qgb2Yga2V5cyBpbiBUIHRoYXQgaGFzIHVuZGVmaW5lZCB2YWx1ZXMuIElmIFRlbXBsYXRlIGRvZXMgbm90IGFsbG93IHVuZGVmaW5lZCB2YWx1ZXMgZm9yIGEga2V5IGl0IGlzIGV4Y2x1ZGVkIGZyb20gdGhlIHJlc3VsdHMuICovXG50eXBlIFVuZGVmaW5lZEtleXM8XG4gIFQsXG4gIFRlbXBsYXRlID0ge30sXG4gIEsgZXh0ZW5kcyBrZXlvZiBUID0ga2V5b2YgVFxuPiA9IEsgZXh0ZW5kcyBrZXlvZiBUXG4gID8gVFtLXSBleHRlbmRzIHVuZGVmaW5lZFxuICAgID8gSyBleHRlbmRzIGtleW9mIFRlbXBsYXRlXG4gICAgICA/IHVuZGVmaW5lZCBleHRlbmRzIFRlbXBsYXRlW0tdXG4gICAgICAgID8gS1xuICAgICAgICA6IG5ldmVyXG4gICAgICA6IEtcbiAgICA6IG5ldmVyXG4gIDogbmV2ZXI7XG5cbnR5cGUgQWxsS2V5czxUPiA9IFQgZXh0ZW5kcyBpbmZlciBUID8ga2V5b2YgVCA6IG5ldmVyO1xuXG50eXBlIEFueVZhbHVlPFQsIEs+ID0gVCBleHRlbmRzIGluZmVyIFRcbiAgPyBLIGV4dGVuZHMga2V5b2YgVFxuICAgID8gVFtLXVxuICAgIDogbmV2ZXJcbiAgOiBuZXZlcjtcblxudHlwZSBNZXJnZU9iamVjdHM8VD4gPSB7XG4gIFtQIGluIEFsbEtleXM8VD5dOiBBbnlWYWx1ZTxULCBQPjtcbn07XG5cbnR5cGUgS2V5VmFsdWVUdXBsZVRvUmVjb3JkPEl0ZW0+ID0gSXRlbSBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBLLCBpbmZlciBWXVxuICA/IHtcbiAgICAgIFtQIGluIEsgJiBrZXlvZiBhbnldOiBWO1xuICAgIH1cbiAgOiBJdGVtIGV4dGVuZHMgcmVhZG9ubHkgKGluZmVyIEtWKVtdXG4gID8geyBbUCBpbiBLViAmIGtleW9mIGFueV06IEtWIH1cbiAgOiBJdGVtIGV4dGVuZHMgU2ltcGxlT2JqZWN0XG4gID8gSXRlbVxuICA6IG5ldmVyO1xuXG50eXBlIEFzc2lnblJlY29yZDxULCBTPiA9IHtcbiAgW1AgaW4gRXhjbHVkZTxcbiAgICBrZXlvZiBUIHwga2V5b2YgUyxcbiAgICBJc0dlbmVyYWxLZXk8a2V5b2YgVCB8IGtleW9mIFM+IGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogVW5kZWZpbmVkS2V5czxTLCBUPlxuICA+XTogUCBleHRlbmRzIGtleW9mIFNcbiAgICA/IElzR2VuZXJhbEtleTxQPiBleHRlbmRzIHRydWVcbiAgICAgID8gQW55VmFsdWU8UyB8IFQsIFA+XG4gICAgICA6IFAgZXh0ZW5kcyBrZXlvZiBUXG4gICAgICA/IFNbUF0gZXh0ZW5kcyBUW1BdXG4gICAgICAgID8gR2VuZXJhbGl6ZUNvbnN0YW50czxTW1BdPiBleHRlbmRzIFRbUF1cbiAgICAgICAgICA/IEdlbmVyYWxpemVDb25zdGFudHM8U1tQXT5cbiAgICAgICAgICA6IFNbUF1cbiAgICAgICAgOiBuZXZlclxuICAgICAgOiBHZW5lcmFsaXplQ29uc3RhbnRzPFNbUF0+XG4gICAgOiBQIGV4dGVuZHMga2V5b2YgVFxuICAgID8gVFtQXVxuICAgIDogbmV2ZXI7XG59O1xuXG50eXBlIFNldE9yVXBkYXRlRnVuY3Rpb248XG4gIFNldHRlcnNPbmx5LFxuICBFcnJvckhhbmRsZXIgPSBmYWxzZSxcbiAgUmVhZG9ubHkgPSBmYWxzZVxuPiA9IHtcbiAgPFxuICAgIFQgZXh0ZW5kc1xuICAgICAgfCBJZjxSZWFkb25seSwgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciwgUHJvcGVydHlDb250YWluZXI+XG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkLFxuICAgIFUgZXh0ZW5kcyBVcGRhdGVyPFxuICAgICAgVCBleHRlbmRzIE51bGxpc2ggPyBuZXZlciA6IFQsXG4gICAgICBLLFxuICAgICAgVmFsdWVUeXBlPFQsIEs+LFxuICAgICAgU2V0dGVyc09ubHlcbiAgICA+LFxuICAgIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+XG4gID4oXG4gICAgdGFyZ2V0OiBULFxuICAgIGtleTogSyxcbiAgICB2YWx1ZTogVSxcbiAgICAuLi5hcmdzOiBFcnJvckhhbmRsZXIgZXh0ZW5kcyB0cnVlID8gW2Vycm9yOiBTZXRFcnJvckhhbmRsZXI8VD5dIDogW11cbiAgKTogVXBkYXRlclR5cGU8VT47XG4gIDxcbiAgICBUIGV4dGVuZHNcbiAgICAgIHwgSWY8UmVhZG9ubHksIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXIsIFByb3BlcnR5Q29udGFpbmVyPlxuICAgICAgfCBudWxsXG4gICAgICB8IHVuZGVmaW5lZCxcbiAgICBVXG4gID4oXG4gICAgdGFyZ2V0OiBULFxuICAgIHZhbHVlczogQnVsa1VwZGF0ZXM8VCBleHRlbmRzIE51bGxpc2ggPyBuZXZlciA6IFQsIFNldHRlcnNPbmx5PiAmIFUsXG4gICAgLi4uYXJnczogRXJyb3JIYW5kbGVyIGV4dGVuZHMgdHJ1ZSA/IFtlcnJvcjogU2V0RXJyb3JIYW5kbGVyPFQ+XSA6IFtdXG4gICk6IFQ7XG59O1xuXG5leHBvcnQgY29uc3QgbWVyZ2UgPSA8XG4gIFRhcmdldCxcbiAgVmFsdWVzIGV4dGVuZHMgcmVhZG9ubHkgSXRlcmF0b3JTb3VyY2VPZjxyZWFkb25seSBba2V5b2YgYW55LCBhbnldPltdXG4+KFxuICB0YXJnZXQ6IFRhcmdldCxcbiAgLi4udmFsdWVzOiBWYWx1ZXNcbik6IE1heWJlVW5kZWZpbmVkPFRhcmdldCwgTWVyZ2VSZXN1bHQ8VGFyZ2V0LCBWYWx1ZXM+PiA9PiAoXG4gIGZvckVhY2godmFsdWVzLCAodmFsdWVzKSA9PlxuICAgIGZvckVhY2godmFsdWVzLCAoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRba2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICBtZXJnZSh0YXJnZXRba2V5XSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICApLFxuICB0YXJnZXQgYXMgYW55XG4pO1xuXG5jb25zdCBjcmVhdGVTZXRPclVwZGF0ZUZ1bmN0aW9uID1cbiAgPFNldHRlcnNPbmx5LCBFcnJvcj4oXG4gICAgc2V0dGVyOiAodGFyZ2V0OiBhbnksIGtleTogYW55LCB2YWx1ZTogYW55LCBlcnJvcj86IGFueSkgPT4gYW55XG4gICk6IFNldE9yVXBkYXRlRnVuY3Rpb248U2V0dGVyc09ubHksIEVycm9yPiA9PlxuICAodGFyZ2V0OiBQcm9wZXJ0eUNvbnRhaW5lciwga2V5OiBhbnksIHZhbHVlPzogYW55LCBlcnJvcj86IGFueSkgPT4ge1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzZXR0ZXIodGFyZ2V0LCBrZXksIHZhbHVlLCBlcnJvcik7XG4gICAgfVxuXG4gICAgZm9yRWFjaChrZXksIChpdGVtKSA9PlxuICAgICAgaXNBcnJheShpdGVtKVxuICAgICAgICA/IHNldHRlcih0YXJnZXQsIGl0ZW1bMF0sIGl0ZW1bMV0pXG4gICAgICAgIDogZm9yRWFjaChpdGVtLCAoW2tleSwgdmFsdWVdKSA9PiBzZXR0ZXIodGFyZ2V0LCBrZXksIHZhbHVlKSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGFzc2lnbiA9IGNyZWF0ZVNldE9yVXBkYXRlRnVuY3Rpb248dHJ1ZSwgZmFsc2U+KHNldCk7XG5leHBvcnQgY29uc3QgdXBkYXRlOiA8XG4gIFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsXG4gIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+XG4+KFxuICB0YXJnZXQ6IFQsXG4gIGtleTogSyxcbiAgdXBkYXRlOiAoY3VycmVudDogVmFsdWVUeXBlPFQsIEs+IHwgdW5kZWZpbmVkKSA9PiBWYWx1ZVR5cGU8VCwgSz4gfCB1bmRlZmluZWRcbikgPT4gVCA9ICh0YXJnZXQsIGtleSwgdXBkYXRlKSA9PiB7XG4gIGxldCB2YWx1ZTogYW55O1xuICBpZiAoaGFzTWV0aG9kKHRhcmdldCwgXCJzZXRcIikpIHtcbiAgICAodmFsdWUgPSB1cGRhdGUodGFyZ2V0LmdldChrZXkpKSkgPT09IHVuZGVmaW5lZFxuICAgICAgPyB0YXJnZXQuZGVsZXRlKGtleSlcbiAgICAgIDogdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChoYXNNZXRob2QodGFyZ2V0LCBcImFkZFwiKSkge1xuICAgIHZhbHVlID0gdGFyZ2V0LmhhcyhrZXkpO1xuICAgIHVwZGF0ZSh2YWx1ZSkgPyB0YXJnZXQuYWRkKGtleSkgOiB0YXJnZXQuZGVsZXRlKGtleSk7XG4gIH0gZWxzZSBpZiAodGFyZ2V0KSB7XG4gICAgdmFsdWUgPSAodGFyZ2V0IGFzIGFueSlba2V5XSA9IHVwZGF0ZSgodGFyZ2V0IGFzIGFueSlba2V5XSk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaXNQbGFpbk9iamVjdCh0YXJnZXQpKSB7XG4gICAgICBkZWxldGUgdGFyZ2V0W2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5leHBvcnQgY29uc3QgYXNzaWduSWZVbmRlZmluZWQgPSBjcmVhdGVTZXRPclVwZGF0ZUZ1bmN0aW9uPGZhbHNlLCB0cnVlPihcbiAgc2V0U2luZ2xlSWZOb3REZWZpbmVkXG4pO1xuXG5leHBvcnQgY29uc3Qgc3dhcCA9IDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+PihcbiAgdGFyZ2V0OiBULFxuICBrZXk6IEssXG4gIHZhbHVlOiBWYWx1ZVR5cGU8VCwgSz5cbik6IFZhbHVlVHlwZTxULCBLLCBcImdldFwiPiA9PiB7XG4gIGNvbnN0IGN1cnJlbnQgPSBnZXQodGFyZ2V0LCBrZXkpIGFzIGFueTtcbiAgaWYgKHZhbHVlICE9PSBjdXJyZW50KSBzZXQodGFyZ2V0LCBrZXksIHZhbHVlKTtcbiAgcmV0dXJuIGN1cnJlbnQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZCA9IDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXI8YW55LCBib29sZWFuPj4oXG4gIHRhcmdldDogVCxcbiAga2V5OiBLZXlUeXBlPFQ+XG4pID0+XG4gIHRhcmdldCBpbnN0YW5jZW9mIFNldCB8fCB0YXJnZXQgaW5zdGFuY2VvZiBXZWFrU2V0XG4gICAgPyAhdGFyZ2V0LmhhcyhrZXkpICYmICh0YXJnZXQuYWRkKGtleSksIHRydWUpXG4gICAgOiAhZ2V0KHRhcmdldCwga2V5KSAmJiAoc2V0KHRhcmdldCwga2V5LCB0cnVlKSwgdHJ1ZSk7XG5cbmV4cG9ydCBjb25zdCBoYXMgPSA8VCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXI+KFxuICB0YXJnZXQ6IFQsXG4gIGtleTogS2V5VHlwZTxUPlxuKSA9PlxuICBoYXNNZXRob2QodGFyZ2V0LCBcImhhc1wiKVxuICAgID8gdGFyZ2V0LmhhcyhrZXkpXG4gICAgOiAoKHRhcmdldCBhcyBhbnkpLmdldD8uKGtleSkgPz8gKHRhcmdldCBhcyBhbnkpW2tleV0pICE9IG51bGw7XG5cbnR5cGUgUmVtb3ZlRGVlcEFyZ3M8XG4gIFQsXG4gIEN1cnJlbnQgZXh0ZW5kcyBhbnlbXSA9IFtdLFxuICBEZXB0aCBleHRlbmRzIG51bWJlciA9IDIwXG4+ID0gVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyXG4gID8gRGVwdGggZXh0ZW5kcyAwXG4gICAgPyBDdXJyZW50XG4gICAgOlxuICAgICAgICB8IChEZXB0aCBleHRlbmRzIDIwID8gbmV2ZXIgOiBDdXJyZW50KVxuICAgICAgICB8IFJlbW92ZURlZXBBcmdzPFxuICAgICAgICAgICAgVmFsdWVUeXBlPFQ+LFxuICAgICAgICAgICAgWy4uLkN1cnJlbnQsIEtleVR5cGU8VD5bXSB8IEtleVR5cGU8VD5dLFxuICAgICAgICAgICAgU3VidHJhY3Q8RGVwdGgsIDE+XG4gICAgICAgICAgPlxuICA6IEN1cnJlbnQ7XG5cbnR5cGUgUmVtb3ZlRGVlcFZhbHVlPFxuICBULFxuICBBcmdzIGV4dGVuZHMgYW55W10sXG4gIEFycmF5SXQgPSBmYWxzZVxuPiA9IFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lclxuICA/IEFycmF5SXQgZXh0ZW5kcyB0cnVlXG4gICAgPyAoVmFsdWVUeXBlPFQ+IHwgdW5kZWZpbmVkKVtdXG4gICAgOiBBcmdzIGV4dGVuZHMgW0tleVR5cGU8VD5bXV1cbiAgICA/IChWYWx1ZVR5cGU8VD4gfCB1bmRlZmluZWQpW11cbiAgICA6IEFyZ3MgZXh0ZW5kcyBbS2V5VHlwZTxUPl1cbiAgICA/IFZhbHVlVHlwZTxUPiB8IHVuZGVmaW5lZFxuICAgIDogQXJncyBleHRlbmRzIFtpbmZlciBSLCAuLi5pbmZlciBSZXN0XVxuICAgID8gUmVtb3ZlRGVlcFZhbHVlPFZhbHVlVHlwZTxUPiwgUmVzdCwgUiBleHRlbmRzIGFueVtdID8gdHJ1ZSA6IEFycmF5SXQ+XG4gICAgOiBuZXZlclxuICA6IG5ldmVyO1xuXG50eXBlIEtleXNBcmc8VCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaD4gPSBUIGV4dGVuZHMgU2ltcGxlT2JqZWN0XG4gID8gcmVhZG9ubHkgKGtleW9mIFQgfCB1bmRlZmluZWQpW11cbiAgOiByZWFkb25seSAoS2V5VHlwZTxUPiB8IHVuZGVmaW5lZClbXTtcblxuY29uc3QgY2xlYXJTaW5nbGUgPSAodGFyZ2V0OiBhbnksIGtleTogYW55KSA9PiB7XG4gIGlmICgodGFyZ2V0ID8/IGtleSkgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBsZXQgY3VycmVudCA9IGdldCh0YXJnZXQsIGtleSk7XG5cbiAgaWYgKGhhc01ldGhvZCh0YXJnZXQsIFwiZGVsZXRlXCIpKSB7XG4gICAgdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgfVxuICByZXR1cm4gY3VycmVudDtcbn07XG5cbi8qKlxuICogRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGtleXMgZnJvbSB0aGUgdGFyZ2V0IGFuZCByZXR1cm5zIHRoZSB0YXJnZXQuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWw6IHtcbiAgPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciB8IHVuZGVmaW5lZCwgSyBleHRlbmRzIEtleXNBcmc8VD4+KFxuICAgIHRhcmdldDogVCxcbiAgICAuLi5rZXlzOiBLXG4gICk6IFQgZXh0ZW5kcyBTaW1wbGVPYmplY3QgPyB7IFtQIGluIEV4Y2x1ZGU8a2V5b2YgVCwgS1tudW1iZXJdPl06IFRbUF0gfSA6IFQ7XG59ID0gKHRhcmdldDogYW55LCAuLi5rZXlzOiBhbnkpID0+XG4gIHRhcmdldCAmJlxuICAoYXNzaWduKHRhcmdldCwgbWFwKGtleXMsIChrZXkpID0+IFtrZXksIHVuZGVmaW5lZF0pIGFzIGFueSkgYXMgYW55KTtcblxuLyoqXG4gKiBSZW1vdmVzIG9uZSBvciBtb3JlIHZhbHVlcyBmcm9tIGEgcHJvcGVydHkgY29udGFpbmVyIHNwZWNpZmllZCBieSB0aGUgcHJvdmlkZWQga2V5IG9yIGFycmF5IG9mIGtleXMuXG4gKlxuICogSWYgbW9yZSB0aGFuIG9uZSBsZXZlbCBvZiBrZXkgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQsIHZhbHVlcyB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgcHJvcGVydHkgY29udGFpbmVyIGF0IHRoZSBkZWVwZXN0IGxldmVsLlxuICogSWYgYSBwcm9wZXJ0eSBjb250YWluZXIgYmVjb21lcyBlbXB0eSBhbG9uZyB0aGUgcGF0aCBvZiBrZXlzLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBpdHMgcGFyZW50LlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyID0gPFxuICBUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoLFxuICBBcmdzIGV4dGVuZHMgUmVtb3ZlRGVlcEFyZ3M8VD5cbj4oXG4gIHRhcmdldDogVCxcbiAgLi4ua2V5czogQXJnc1xuKTogUmVtb3ZlRGVlcFZhbHVlPFQsIEFyZ3M+ID0+IHtcbiAgY29uc3QgcmVtb3ZlZDogYW55W10gPSBbXTtcbiAgbGV0IGFycmF5ID0gZmFsc2U7XG5cbiAgY29uc3QgY2xlYXJTdGVwID0gKFxuICAgIHRhcmdldDogYW55LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcGFyZW50PzogYW55LFxuICAgIHBhcmVudEtleT86IGFueVxuICApID0+IHtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICAgIGNvbnN0IHRhcmdldEtleXMgPSBrZXlzW2luZGV4XTtcbiAgICBpZiAoaW5kZXggPT09IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKGlzQXJyYXkodGFyZ2V0S2V5cykpIHtcbiAgICAgICAgYXJyYXkgPSB0cnVlO1xuICAgICAgICB0YXJnZXRLZXlzLmZvckVhY2goKGtleSkgPT4gcmVtb3ZlZC5wdXNoKGNsZWFyU2luZ2xlKHRhcmdldCwga2V5KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlZC5wdXNoKGNsZWFyU2luZ2xlKHRhcmdldCwgdGFyZ2V0S2V5cykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNBcnJheSh0YXJnZXRLZXlzKSkge1xuICAgICAgICBhcnJheSA9IHRydWU7XG4gICAgICAgIHRhcmdldEtleXMuZm9yRWFjaCgoa2V5KSA9PlxuICAgICAgICAgIGNsZWFyU3RlcChnZXQodGFyZ2V0LCBrZXkpLCBpbmRleCArIDEsIHRhcmdldCwga2V5KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xlYXJTdGVwKGdldCh0YXJnZXQsIHRhcmdldEtleXMpLCBpbmRleCArIDEsIHRhcmdldCwgdGFyZ2V0S2V5cyk7XG4gICAgICB9XG4gICAgICBpZiAoIWNvdW50KHRhcmdldCkgJiYgcGFyZW50KSB7XG4gICAgICAgIHJlbW92ZShwYXJlbnQsIHBhcmVudEtleSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjbGVhclN0ZXAodGFyZ2V0LCAwKTtcbiAgcmV0dXJuIGFycmF5ID8gcmVtb3ZlZCA6IHJlbW92ZWRbMF07XG59O1xuXG4vKiogUmVtb3ZlcyBhbGwgZW50cmllcyBmcm9tIGEgc2V0IG9yIG1hcCwgYW5kIHJldHVybnMgdGhlbS4gKi9cbmV4cG9ydCBjb25zdCBlbXB0eSA9IDxTIGV4dGVuZHMgU2V0TGlrZSB8IE1hcExpa2UgfCB1bmRlZmluZWQ+KFxuICB0YXJnZXQ6IFNcbik6IE1heWJlVW5kZWZpbmVkPFMsIEl0ZXJhdG9ySXRlbTxTPltdPiA9PiB7XG4gIGlmICghdGFyZ2V0KSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcblxuICBjb25zdCBlbnRyaWVzID0gbWFwKHRhcmdldCk7XG4gIHRhcmdldC5jbGVhcigpO1xuICByZXR1cm4gZW50cmllcyBhcyBhbnk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBrZXkocykgZnJvbSBhIHByb3BlcnR5IGNvbnRhaW5lciBhbmQgcmV0dXJucyB0aGVpciB2YWx1ZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBjb250YWluZXIgZGlkIG5vdCBoYXZlIHRoZSBzcGVjaWZpZWQga2V5LlxuICpcbiAqIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4ge0BsaW5rIGNsZWFyfSBhbmQgdGhpcyBmdW5jdGlvbiBpcyB0aGF0IGl0IGRvZXMgbm90IGNvbnNpZGVyIG5lc3RlZCBwcm9wZXJ0eSBjb250YWluZXJzIGFuZCB0aGF0IGFycmF5cyB3aWxsIGJlIHNwbGljZWQgKGFzIG9wcG9zZWQgdG8gYGNsZWFyYCB3aGVyZSB0aGUgaW5kZXggd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGApLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlOiB7XG4gIDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoLCBLIGV4dGVuZHMgS2V5VHlwZTxUPiB8IHVuZGVmaW5lZD4oXG4gICAgdGFyZ2V0OiBULFxuICAgIGtleTogS1xuICApOiBUIGV4dGVuZHMgTnVsbGlzaCA/IFQgOiBWYWx1ZVR5cGU8VCwgSywgXCJnZXRcIj47XG4gIDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoLCBLIGV4dGVuZHMgS2V5c0FyZzxUPj4oXG4gICAgdGFyZ2V0OiBULFxuICAgIGtleXM6IEtcbiAgKTogKFQgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IFZhbHVlVHlwZTxULCBLW251bWJlcl0sIFwiZ2V0XCI+KVtdO1xufSA9ICh0YXJnZXQ6IFByb3BlcnR5Q29udGFpbmVyLCBrZXlzOiBhbnkpID0+IHtcbiAgaWYgKCF0YXJnZXQpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQXJyYXkoa2V5cykpIHtcbiAgICAvLyBTb3J0IGFycmF5IGtleXMgZGVzY2VuZGluZyBhcyB0aGV5IHdvdWxkIG90aGVyd2lzZSBub3QgbWF0Y2ggdGhlaXIgb2Zmc2V0IGFzIHRoZSBhcnJheSBpcyBzcGxpY2VkIGFsb25nIHRoZSB3YXkuXG4gICAgcmV0dXJuIChcbiAgICAgIGlzQXJyYXkodGFyZ2V0KSAmJiB0YXJnZXQubGVuZ3RoID4gMSA/IGtleXMuc29ydCgoeCwgeSkgPT4geSAtIHgpIDoga2V5c1xuICAgICkubWFwKChrZXkpID0+IHJlbW92ZSh0YXJnZXQsIGtleSkpO1xuICB9XG5cbiAgcmV0dXJuIGlzQXJyYXkodGFyZ2V0KVxuICAgID8ga2V5cyA8IHRhcmdldC5sZW5ndGhcbiAgICAgID8gKHRhcmdldCBhcyBhbnlbXSkuc3BsaWNlKGtleXMsIDEpWzBdXG4gICAgICA6IHVuZGVmaW5lZFxuICAgIDogY2xlYXJTaW5nbGUodGFyZ2V0LCBrZXlzKTtcbn07XG5cbnR5cGUgRW50cnlUb09iamVjdDxJdGVtPiA9IEl0ZW0gZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgSyAmIGtleW9mIGFueSwgaW5mZXIgVl1cbiAgPyB7XG4gICAgICBbUCBpbiBLICYga2V5b2YgYW55XTogVjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbnR5cGUgRW50cmllc1RvT2JqZWN0PEVudHJpZXM+ID0gVW5pb25Ub0ludGVyc2VjdGlvbjxcbiAgSW5saW5lUHJvcGVydHlEZXNjcmlwdG9yczxcbiAgICBFbnRyaWVzIGV4dGVuZHMgTnVsbGlzaCB8IGJvb2xlYW5cbiAgICAgID8ge31cbiAgICAgIDogRW50cmllcyBleHRlbmRzIHJlYWRvbmx5IFtcbiAgICAgICAgICBQYXJ0aWFsPFJlYWRvbmx5PFByb3BlcnR5RGVzY3JpcHRvcj4+LFxuICAgICAgICAgIC4uLmluZmVyIFJlc3RcbiAgICAgICAgXVxuICAgICAgPyBFbnRyaWVzVG9PYmplY3Q8UmVzdFtudW1iZXJdPlxuICAgICAgOiBFbnRyaWVzIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEl0ZW0sIC4uLmluZmVyIFJlc3RdXG4gICAgICA/IEVudHJ5VG9PYmplY3Q8SXRlbT4gJiBFbnRyaWVzVG9PYmplY3Q8UmVzdD5cbiAgICAgIDogRW50cmllcyBleHRlbmRzIHJlYWRvbmx5IChpbmZlciBJdGVtcylbXVxuICAgICAgPyBFbnRyeVRvT2JqZWN0PEl0ZW1zPlxuICAgICAgOiBFbnRyaWVzXG4gID5cbj47XG5cbnR5cGUgSW5saW5lUHJvcGVydHlEZXNjcmlwdG9yczxUPiA9IHtcbiAgW1AgaW4ga2V5b2YgVF06IFRbUF0gZXh0ZW5kcyAoKSA9PiBpbmZlciBWIHwgeyB2YWx1ZTogaW5mZXIgViB9XG4gICAgPyBWXG4gICAgOiBUW1BdIGV4dGVuZHMgeyBnZXQoKTogaW5mZXIgViB9XG4gICAgPyBWXG4gICAgOiBUW1BdO1xufTtcblxudHlwZSBQcm9wZXJ0eUxpc3QgPVxuICB8IGJvb2xlYW5cbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgcmVhZG9ubHkgW2RlZmF1bHRzOiBQYXJ0aWFsPFByb3BlcnR5RGVzY3JpcHRvcj4sIC4uLml0ZW1zOiBQcm9wZXJ0eUxpc3RbXV1cbiAgfCByZWFkb25seSAocmVhZG9ubHkgW2tleToga2V5b2YgYW55LCB2YWx1ZTogYW55XSlbXVxuICB8IFNpbXBsZU9iamVjdDtcblxuZXhwb3J0IGNvbnN0IGRlZmluZToge1xuICA8VCwgUCBleHRlbmRzIHJlYWRvbmx5IFByb3BlcnR5TGlzdFtdPihcbiAgICB0YXJnZXQ6IFQsXG4gICAgLi4ucHJvcGVydGllczogUFxuICApOiAoVCBleHRlbmRzIEZ1bmN0aW9uID8gVCA6IHt9KSAmXG4gICAgUHJldHRpZnlJbnRlcnNlY3Rpb248VCAmIEVudHJpZXNUb09iamVjdDxQW251bWJlcl0+Pjtcbn0gPSAodGFyZ2V0OiBhbnksIC4uLmFyZ3M6IHJlYWRvbmx5IGFueVtdKSA9PiB7XG4gIGNvbnN0IGFkZCA9IChhcmc6IGFueSwgZGVmYXVsdHM/OiBhbnkpID0+IHtcbiAgICBpZiAoIWFyZykgcmV0dXJuO1xuICAgIGxldCBwcm9wZXJ0aWVzOiByZWFkb25seSBhbnlbXTtcbiAgICBpZiAoaXNBcnJheShhcmcpKSB7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChhcmdbMF0pKSB7XG4gICAgICAgIC8vIFR1cGxlIHdpdGggdGhlIGZpcnN0IGl0ZW0gdGhlIGRlZmF1bHRzIGFuZCB0aGUgbmV4dCB0aGUgZGVmaW5pdGlvbnMgd2l0aCB0aG9zZSBkZWZhdWx0cyxcbiAgICAgICAgLy8gKFt7ZW51bWVyYWJsZTogZmFsc2UsIC4uLn0sIC4uLl0pXG4gICAgICAgIChhcmcgYXMgYW55W10pLnNwbGljZSgxKS5mb3JFYWNoKChpdGVtcykgPT4gYWRkKGl0ZW1zLCBhcmdbMF0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gKFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl0sIC4uLl0pXG4gICAgICBwcm9wZXJ0aWVzID0gYXJnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBbiBvYmplY3QuXG4gICAgICBwcm9wZXJ0aWVzID0gbWFwKGFyZykhO1xuICAgIH1cblxuICAgIHByb3BlcnRpZXMuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAgIC4uLihpc1BsYWluT2JqZWN0KHZhbHVlKSAmJiAoXCJnZXRcIiBpbiB2YWx1ZSB8fCBcInZhbHVlXCIgaW4gdmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogaXNGdW5jdGlvbih2YWx1ZSkgJiYgIXZhbHVlLmxlbmd0aFxuICAgICAgICAgID8geyBnZXQ6IHZhbHVlIH1cbiAgICAgICAgICA6IHsgdmFsdWUgfSksXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgYXJncy5mb3JFYWNoKChhcmcpID0+IGFkZChhcmcpKTtcbiAgcmV0dXJuIHRhcmdldCBhcyBhbnk7XG59O1xuXG50eXBlIFByb3BlcnR5U2VsZWN0b3I8VD4gPVxuICB8IGtleW9mIFRcbiAgfCB7XG4gICAgICBbUCBpbiBrZXlvZiBUXT86IFByb3BlcnR5U2VsZWN0b3I8VFtQXT47XG4gICAgfVxuICB8IHJlYWRvbmx5IChrZXlvZiBUKVtdO1xuXG50eXBlIFNpbmdsZVBpY2tSZXN1bHQ8VCwgU2VsZWN0ZWQ+ID0gU2VsZWN0ZWQgZXh0ZW5kc1xuICB8IChzdHJpbmcgJiBpbmZlciBLKVxuICB8IChpbmZlciBLKVtdXG4gID8gdW5rbm93biBleHRlbmRzIEtcbiAgICA/IFRcbiAgICA6IHsgW1AgaW4ga2V5b2YgVCAmIEtdOiBUW1BdIH1cbiAgOiBrZXlvZiBTZWxlY3RlZCBleHRlbmRzIGluZmVyIEtleXNcbiAgPyB7XG4gICAgICBbUCBpbiBLZXlzICYga2V5b2YgYW55ICYga2V5b2YgU2VsZWN0ZWRdOiBQIGV4dGVuZHMga2V5b2YgVFxuICAgICAgICA/IFNlbGVjdGVkW1BdIGV4dGVuZHMgdHJ1ZVxuICAgICAgICAgID8gVFtQXVxuICAgICAgICAgIDogU2luZ2xlUGlja1Jlc3VsdDxUW1BdLCBTZWxlY3RlZFtQXT5cbiAgICAgICAgOiBuZXZlcjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbnR5cGUgUGlja1Jlc3VsdHM8VCwgU2VsZWN0b3JzPiA9IFByZXR0aWZ5SW50ZXJzZWN0aW9uPFxuICBTZWxlY3RvcnMgZXh0ZW5kcyBbaW5mZXIgSXRlbSwgLi4uaW5mZXIgUmVzdF1cbiAgICA/IHVua25vd24gZXh0ZW5kcyBJdGVtXG4gICAgICA/IFRcbiAgICAgIDogU2luZ2xlUGlja1Jlc3VsdDxULCBJdGVtPiAmIFNpbmdsZVBpY2tSZXN1bHQ8VCwgUmVzdD5cbiAgICA6IG5ldmVyXG4+O1xuXG5leHBvcnQgY29uc3QgcGljayA9IDxULCBTZWxlY3RvcnMgZXh0ZW5kcyBQcm9wZXJ0eVNlbGVjdG9yPFQ+W10sIFU+KFxuICBzb3VyY2U6IFQgfCAobnVsbCB8ICh1bmRlZmluZWQgJiBVKSksXG4gIC4uLmFyZ3M6IFNlbGVjdG9yc1xuKTogVSBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IFBpY2tSZXN1bHRzPFQsIFNlbGVjdG9ycz4gPT4ge1xuICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgYXJnc1xuICAgICAgLmZsYXRNYXAoKGFyZykgPT5cbiAgICAgICAgaXNPYmplY3QoYXJnKVxuICAgICAgICAgID8gaXNBcnJheShhcmcpXG4gICAgICAgICAgICA/IGFyZy5tYXAoKGFyZ3MpID0+XG4gICAgICAgICAgICAgICAgaXNBcnJheShhcmdzKVxuICAgICAgICAgICAgICAgICAgPyBhcmdzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgICAgICA/IFthcmdzWzBdLCBzb3VyY2UhW2FyZ3NbMF1dXVxuICAgICAgICAgICAgICAgICAgICA6IHBpY2soc291cmNlIVthcmdzWzBdXSwgLi4uKGFyZ3NbMV0gYXMgYW55W10pKVxuICAgICAgICAgICAgICAgICAgOiBbYXJncywgc291cmNlIVthcmdzXV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBPYmplY3QuZW50cmllcyhhcmdzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gdHJ1ZSA/IHNvdXJjZSFba2V5XSA6IHBpY2soc291cmNlIVtrZXldLCB2YWx1ZSksXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgOiAoW1thcmcsIHNvdXJjZSFbYXJnXV1dIGFzIGFueSlcbiAgICAgIClcbiAgICAgIC5maWx0ZXIoKGFyZykgPT4gYXJnWzFdICE9IG51bGwpXG4gICkgYXMgYW55O1xufTtcblxuZXhwb3J0IHR5cGUgV3JhcHBlZDxUPiA9IFQgfCAoKCkgPT4gVCk7XG5cbmV4cG9ydCB0eXBlIFVud3JhcDxUPiA9IFQgZXh0ZW5kcyAoKSA9PiBpbmZlciBSID8gUiA6IFQ7XG5cbmV4cG9ydCBjb25zdCB1bndyYXA6IHtcbiAgPFQ+KHZhbHVlOiBXcmFwcGVkPFQ+KTogVDtcbn0gPSAodmFsdWU6IFdyYXBwZWQ8YW55Pik6IGFueSA9PiAoaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZSgpIDogdmFsdWUpO1xuXG5leHBvcnQgY29uc3QgdW5sb2NrID0gPFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyPihcbiAgcmVhZG9ubHk6IFRcbik6IFQgZXh0ZW5kcyBSZWFkb25seU1hcExpa2U8aW5mZXIgSywgaW5mZXIgVj5cbiAgPyBNYXBMaWtlPEssIFY+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5U2V0TGlrZTxpbmZlciBUPlxuICA/IFNldExpa2U8VD5cbiAgOiBUID0+IHJlYWRvbmx5IGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IHdyYXAgPSA8VD4oXG4gIG9yaWdpbmFsOiBULFxuICB3cmFwOiAoXG4gICAgb3JpZ2luYWw6IFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBhbnkgPyBUIDogKCkgPT4gVCxcbiAgICAuLi5hcmdzOiBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFyZ3MpID0+IGFueSA/IEFyZ3MgOiBbXVxuICApID0+IFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBSID8gUiA6IFRcbik6IFQgPT5cbiAgb3JpZ2luYWwgPT0gbnVsbFxuICAgID8gb3JpZ2luYWxcbiAgICA6IGlzRnVuY3Rpb24ob3JpZ2luYWwpXG4gICAgPyAoLi4uYXJnczogYW55KSA9PiB3cmFwKG9yaWdpbmFsIGFzIGFueSwgLi4uYXJncylcbiAgICA6ICh3cmFwIGFzIGFueSkoKCkgPT4gb3JpZ2luYWwgYXMgYW55KTtcblxuLyoqIENyZWF0ZXMgYSBjbG9uZSBvZiBhbiBvYmplY3QgKGluY2x1ZGluZyBhcnJheXMsIHNldHMgYW5kIG1hcHMpIGF0IHRoZSBzcGVjaWZpZWQgZGVwdGguIC0xIG1lYW5zIFwiYW55IGRlcHRoXCIuICovXG5leHBvcnQgY29uc3QgY2xvbmUgPSA8VD4odmFsdWU6IFQsIGRlcHRoID0gLTEpOiBUID0+XG4gIGlzQXJyYXkodmFsdWUpXG4gICAgPyBkZXB0aFxuICAgICAgPyB2YWx1ZS5tYXAoKHZhbHVlKSA9PiBjbG9uZSh2YWx1ZSwgZGVwdGggLSAxKSlcbiAgICAgIDogWy4uLnZhbHVlXVxuICAgIDogaXNQbGFpbk9iamVjdCh2YWx1ZSlcbiAgICA/IGRlcHRoXG4gICAgICA/IG9iaih2YWx1ZSBhcyBhbnksIChbaywgdl0pID0+IFtrLCBjbG9uZSh2LCBkZXB0aCAtIDEpXSlcbiAgICAgIDogeyAuLi52YWx1ZSB9XG4gICAgOiBpc1NldCh2YWx1ZSlcbiAgICA/IG5ldyBTZXQ8YW55PihcbiAgICAgICAgZGVwdGhcbiAgICAgICAgICA/IChtYXAgYXMgYW55KSh2YWx1ZSwgKHZhbHVlOiBhbnkpID0+IGNsb25lKHZhbHVlLCBkZXB0aCAtIDEpKVxuICAgICAgICAgIDogdmFsdWVcbiAgICAgIClcbiAgICA6IGlzTWFwKHZhbHVlKVxuICAgID8gbmV3IE1hcDxhbnksIGFueT4oXG4gICAgICAgIGRlcHRoXG4gICAgICAgICAgPyAobWFwIGFzIGFueSkodmFsdWUsICh2YWx1ZTogYW55KSA9PlxuICAgICAgICAgICAgICAvLyBEb2VzIG5vdCBjbG9uZSBrZXlzLlxuICAgICAgICAgICAgICBbdmFsdWVbMF0sIGNsb25lKHZhbHVlWzFdLCBkZXB0aCAtIDEpXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogdmFsdWVcbiAgICAgIClcbiAgICA6ICh2YWx1ZSBhcyBhbnkpO1xuXG4vKipcbiAqIFZlcnkgbXVjaCBsaWtlIGBBcnJheS5wdXNoYCBleGNlcHQgaXQgYWNjZXB0cyBhbnl0aGluZyB3aXRoIGEgYHB1c2ggYCBtZXRob2QgIChpbmNsdWRpbmcgbm9uLWdlbmVyaWMgb3ZlcmxvYWRzKSxcbiAqIGFuZCByZXR1cm5zIHRoZSB0YXJnZXQgc28gY2hhaW5pbmcgaXMgZWFzaWVyLiBTdWl0YWJsZSBmb3IgdGlnaHQgbWluaWZpY2F0aW9uLlxuICovXG5leHBvcnQgY29uc3QgcHVzaCA9IDxUIGV4dGVuZHMgeyBwdXNoOiAoLi4uYXJnczogYW55KSA9PiBhbnkgfSB8IE51bGxpc2g+KFxuICB0YXJnZXQ6IFQsXG4gIC4uLml0ZW1zOiBNZXRob2RPdmVybG9hZHM8VCwgXCJwdXNoXCI+WzBdXG4pOiBUID0+IHRhcmdldD8ucHVzaCguLi4oaXRlbXMgYXMgYW55KSkhO1xuXG4vKipcbiAqIFZlcnkgbXVjaCBsaWtlIGBBcnJheS5wb3BgIGV4Y2VwdCBpdCBhY2NlcHRzIGFueXRoaW5nIHdpdGggYSBgcG9wYCBtZXRob2QuXG4gKiAoSW5jbHVkZWQgb3IgdGhlIHNha2Ugb2YgZ2VuZXJhbGl0eSBzaW5jZSB3ZSBoYXZlIHtAbGluayBwdXNofSkuIFN1aXRhYmxlIGZvciB0aWdodCBtaW5pZmljYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBwb3AgPSA8VCBleHRlbmRzIHsgcG9wKCk6IFIgfSB8IHVuZGVmaW5lZCwgUj4oXG4gIHRhcmdldDogVFxuKTogTWF5YmVVbmRlZmluZWQ8VCwgUj4gPT4gdGFyZ2V0Py5wb3AoKSBhcyBhbnk7XG5cbi8qKlxuICogVmVyeSBtdWNoIGxpa2UgYEFycmF5LnVuc2hpZnRgIGV4Y2VwdCBpdCBhY2NlcHRzIGFueXRoaW5nIHdpdGggYSBgcHVzaCBgIG1ldGhvZCAgKGluY2x1ZGluZyBub24tZ2VuZXJpYyBvdmVybG9hZHMpLFxuICogYW5kIHJldHVybnMgdGhlIHRhcmdldCBzbyBjaGFpbmluZyBpcyBlYXNpZXIuIFN1aXRhYmxlIGZvciB0aWdodCBtaW5pZmljYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2hpZnQgPSA8VCBleHRlbmRzIHsgdW5zaGlmdDogKC4uLmFyZ3M6IGFueSkgPT4gYW55IH0gfCBOdWxsaXNoPihcbiAgdGFyZ2V0OiBULFxuICAuLi5pdGVtczogTWV0aG9kT3ZlcmxvYWRzPFQsIFwidW5zaGlmdFwiPlswXVxuKTogVCA9PiB0YXJnZXQ/LnVuc2hpZnQoLi4uKGl0ZW1zIGFzIGFueSkpITtcblxuLyoqXG4gKiBWZXJ5IG11Y2ggbGlrZSBgQXJyYXkuc2hpZnRgIGV4Y2VwdCBpdCBhY2NlcHRzIGFueXRoaW5nIHdpdGggYSBgc2hpZnRgIG1ldGhvZC5cbiAqIChJbmNsdWRlZCBvciB0aGUgc2FrZSBvZiBnZW5lcmFsaXR5IHNpbmNlIHdlIGhhdmUge0BsaW5rIHVuc2hpZnR9KS4gU3VpdGFibGUgZm9yIHRpZ2h0IG1pbmlmaWNhdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBzaGlmdCA9IDxUIGV4dGVuZHMgeyBzaGlmdCgpOiBSIH0gfCB1bmRlZmluZWQsIFI+KFxuICB0YXJnZXQ6IFRcbik6IE1heWJlVW5kZWZpbmVkPFQsIFI+ID0+IHRhcmdldD8uc2hpZnQoKSBhcyBhbnk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgYW4gb2JqZWN0LCBhbmQgdGhlIGNoYW5nZWQgdmFsdWVzIHNwZWNpZmllZC5cbiAqIElmIGFuIHVwZGF0ZWQgcHJvcGVydHkgaXMgbnVtZXJpYywgdGhlIGRlbHRhIHdpbGwgYmUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdXBkYXRlZCBhbmQgY3VycmVudCBudW1iZXIuXG4gKiBJZiBhbiB1cGRhdGVkIHByb3BlcnR5IGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IHZhbHVlLCBpdCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgZGlmZiByZXN1bHQsXG4gKiBvdGhlcndpc2UgdGhpcyBhbGdvcml0aG0gaXMgbm8gbW9yZSBzb3BoaXN0aWNhdGVkIHRoYW4ganVzdCByZXR1cm5pbmcgdGhlIG5ldyB2YWx1ZSBpbiB0aGUgZGlmZiAoZS5nLiBub3RoaW5nIHNwZWNpYWwgYWJvdXQgc3RyaW5ncykuXG4gKlxuICogQHJldHVybnMgQSB0dXBsZSB3aXRoIHRoZSBmaXJzdCBlbGVtZW50IGJlaW5nIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB1cGRhdGVzIGFuZCB0aGUgY3VycmVudCB2ZXJzaW9uLFxuICogIGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgYSBjbG9uZSBvZiB0aGUgY3VycmVudCB2YWx1ZSB3aXRoIHRoZSBjaGFuZ2VzIGFwcGxpZWQuXG4gKiAgVGhlIGxhdHRlciBzaG91bGQgYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIG5leHQgdGltZSB0aGUgZGlmZiBpcyBjYWxjdWxhdGVkLlxuICovXG5leHBvcnQgY29uc3QgZGlmZiA9IDxUPihcbiAgdXBkYXRlZDogVCxcbiAgcHJldmlvdXM6IFQgfCB1bmRlZmluZWRcbik6IFtkZWx0YTogVCwgY3VycmVudDogVF0gfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXVwZGF0ZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICghaXNQbGFpbk9iamVjdChwcmV2aW91cykpIHJldHVybiBbdXBkYXRlZCwgdXBkYXRlZF07XG5cbiAgY29uc3QgZGVsdGE6IGFueSA9IHt9O1xuICBsZXQgcGF0Y2hlZFZhbHVlOiBhbnk7XG4gIGxldCBwcmV2aW91c1ZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLy8gSWYgdGhlcmUgYXJlIGNoYW5nZXMsIHRoaXMgd2lsbCBiZSBhIGNsb25lIG9mIHRoZSBwcmV2aW91cyB2YWx1ZSB3aXRoIHRoZSBkZWx0YSBjaGFuZ2VzIGFwcGxpZWQuXG4gIGxldCBwYXRjaGVkOiBhbnk7XG5cbiAgaWYgKGlzUGxhaW5PYmplY3QodXBkYXRlZCkpIHtcbiAgICBmb3JFYWNoKHVwZGF0ZWQsIChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmIChzdHJ1Y3R1cmFsRXF1YWxzKHZhbHVlLCBwcmV2aW91c1trZXldLCAtMSkpIHtcbiAgICAgICAgLy8gTm8gY2hhbmdlcy5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNQbGFpbk9iamVjdCgocGF0Y2hlZFZhbHVlID0gdmFsdWUpKSkge1xuICAgICAgICAvLyBkZWx0YVZhbHVlIHdpbGwgYmUgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBubyBjaGFuZ2VkIGluIHRoZSBjaGlsZCBvYmplY3QuXG4gICAgICAgIGlmICghKHZhbHVlID0gZGlmZih2YWx1ZSwgcHJldmlvdXNba2V5XSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFt2YWx1ZSwgcGF0Y2hlZFZhbHVlXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcih2YWx1ZSkgJiYgaXNOdW1iZXIocHJldmlvdXNWYWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSAocGF0Y2hlZFZhbHVlID0gdmFsdWUpIC0gcHJldmlvdXNWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgZGVsdGFba2V5XSA9IHZhbHVlO1xuICAgICAgKHBhdGNoZWQgPz89IGNsb25lKHByZXZpb3VzKSlba2V5XSA9IHBhdGNoZWRWYWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGF0Y2hlZCA/IFtkZWx0YSwgcGF0Y2hlZF0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiIsImltcG9ydCB7XG4gIEYsXG4gIE1BWF9TQUZFX0lOVEVHRVIsXG4gIE1heWJlUHJvbWlzZUxpa2UsXG4gIFQsXG4gIGlzQm9vbGVhbixcbiAgaXNGdW5jdGlvbixcbiAgaXNOb3RGYWxzZSxcbiAgaXNUcnVlLFxuICBwcm9taXNlLFxuICB0cnlDYXRjaEFzeW5jLFxufSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY29uc3QgTUlMTElTRUNPTkQgPSAxO1xuZXhwb3J0IGNvbnN0IFNFQ09ORCA9IE1JTExJU0VDT05EICogMTAwMDtcbmV4cG9ydCBjb25zdCBNSU5VVEUgPSBTRUNPTkQgKiA2MDtcbmV4cG9ydCBjb25zdCBIT1VSID0gTUlOVVRFICogNjA7XG5leHBvcnQgY29uc3QgREFZID0gSE9VUiAqIDI0O1xuZXhwb3J0IGNvbnN0IEZPUkVWRVIgPSBNQVhfU0FGRV9JTlRFR0VSO1xuXG5leHBvcnQgbGV0IG5vdzogKHJvdW5kPzogYm9vbGVhbikgPT4gbnVtYmVyID1cbiAgdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiXG4gICAgPyAocm91bmQgPSBUKSA9PlxuICAgICAgICByb3VuZCA/IE1hdGgudHJ1bmMobm93KEYpKSA6IHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gKyBwZXJmb3JtYW5jZS5ub3coKVxuICAgIDogRGF0ZS5ub3c7XG5cbmV4cG9ydCB0eXBlIFRpbWVyID0ge1xuICAodG9nZ2xlPzogYm9vbGVhbiwgcmVzZXQ/OiBib29sZWFuKTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc2V0ID0gU3ltYm9sKCk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUaW1lciA9IChcbiAgc3RhcnRlZCA9IHRydWUsXG4gIHRpbWVSZWZlcmVuY2UgPSAoKSA9PiBub3coKVxuKTogVGltZXIgPT4ge1xuICBsZXQgdDA6IG51bWJlciA9ICtzdGFydGVkICogdGltZVJlZmVyZW5jZSgpO1xuICBsZXQgZWxhcHNlZCA9IDA7XG4gIGxldCBjYXB0dXJlZEVsYXBzZWQ6IG51bWJlcjtcbiAgcmV0dXJuICh0b2dnbGUgPSBzdGFydGVkLCByZXNldD86IGJvb2xlYW4pID0+IHtcbiAgICBjYXB0dXJlZEVsYXBzZWQgPSBzdGFydGVkXG4gICAgICA/IChlbGFwc2VkICs9IC10MCArICh0MCA9IHRpbWVSZWZlcmVuY2UoKSkpXG4gICAgICA6IGVsYXBzZWQ7XG4gICAgcmVzZXQgJiYgKGVsYXBzZWQgPSAwKTtcblxuICAgIChzdGFydGVkID0gdG9nZ2xlKSAmJiAodDAgPSB0aW1lUmVmZXJlbmNlKCkpO1xuXG4gICAgcmV0dXJuIGNhcHR1cmVkRWxhcHNlZDtcbiAgfTtcbn07XG5cbi8qKlxuICogVGhlIGNhbGxiYWNrIGludm9rZWQgd2hlbiBhIHtAbGluayBDbG9ja30gdGlja3MuXG4gKiBJZiBpdCByZXR1cm5zIGBmYWxzZWAgdGhlIGNsb2NrIHdpbGwgc3RvcC4gQW55IG90aGVyIHJldHVybiB2YWx1ZSBoYXMgbm8gZWZmZWN0LlxuICovXG5leHBvcnQgdHlwZSBDbG9ja0NhbGxiYWNrID0gKFxuICBlbGFwc2VkOiBudW1iZXIsXG4gIGRlbHRhOiBudW1iZXJcbikgPT4gTWF5YmVQcm9taXNlTGlrZTxhbnk+O1xuXG5leHBvcnQgaW50ZXJmYWNlIENsb2NrIHtcbiAgcmVhZG9ubHkgYWN0aXZlOiBib29sZWFuO1xuICByZWFkb25seSBidXN5OiBib29sZWFuO1xuICByZXN0YXJ0KGZyZXF1ZW5jeT86IG51bWJlciwgY2FsbGJhY2s/OiBDbG9ja0NhbGxiYWNrKTogQ2xvY2s7XG4gIHRvZ2dsZShzdGFydDogYm9vbGVhbiwgdHJpZ2dlcj86IGJvb2xlYW4pOiBDbG9jaztcbiAgdHJpZ2dlcihza2lwUXVldWU/OiBib29sZWFuKTogUHJvbWlzZTxib29sZWFuPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja1NldHRpbmdzIHtcbiAgZnJlcXVlbmN5PzogbnVtYmVyO1xuICBxdWV1ZT86IGJvb2xlYW47XG4gIHBhdXNlZD86IGJvb2xlYW47XG4gIHRyaWdnZXI/OiBib29sZWFuO1xuICBvbmNlPzogYm9vbGVhbjtcbiAgY2FsbGJhY2s/OiBDbG9ja0NhbGxiYWNrO1xuICByYWY/OiBib29sZWFuO1xufVxuXG4vKiogTGlnaHQtd2VpZ2h0IHZlcnNpb24gb2Yge0BsaW5rIGNsb2NrfS4gVGhlIHRyaWdnZXIgYW5kIGNhbmNlbCBvdmVybG9hZHMgcmV0dXJucyB0cnVlIHRvIGVuYWJsZSBjaGFpbmluZyBsaWtlIGB0aW1lb3V0KGZhbHNlKSYmLi4uYCAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRpbWVvdXQgPSAoXG4gIGRlZmF1bHRUaW1lb3V0ID0gMFxuKToge1xuICAoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkO1xuICAoY2FuY2VsOiBmYWxzZSk6IHRydWU7XG4gICh0cmlnZ2VyOiB0cnVlKTogdHJ1ZTtcbiAgKCk6IGJvb2xlYW47XG59ID0+IHtcbiAgbGV0IGhhbmRsZTogYW55O1xuICBsZXQgY3VycmVudENhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgc3RpY2t5VGltZW91dCA9IChhcmc/OiBhbnksIHRpbWVvdXQgPSBkZWZhdWx0VGltZW91dCkgPT4ge1xuICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuICEhY3VycmVudENhbGxiYWNrO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICBpZiAoaXNCb29sZWFuKGFyZykpIHtcbiAgICAgIGFyZyAmJiAodGltZW91dCA8IDAgPyBpc05vdEZhbHNlIDogaXNUcnVlKShjdXJyZW50Q2FsbGJhY2s/LigpKVxuICAgICAgICA/IHN0aWNreVRpbWVvdXQoY3VycmVudENhbGxiYWNrLCB0aW1lb3V0KVxuICAgICAgICA6IChjdXJyZW50Q2FsbGJhY2sgPSB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Q2FsbGJhY2sgPSBhcmc7XG4gICAgICBoYW5kbGUgPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiBzdGlja3lUaW1lb3V0KHRydWUsIHRpbWVvdXQpLFxuICAgICAgICB0aW1lb3V0IDwgMCA/IC10aW1lb3V0IDogdGltZW91dFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBzdGlja3lUaW1lb3V0IGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbG9jazoge1xuICAoY2FsbGJhY2s6IENsb2NrQ2FsbGJhY2ssIGZyZXF1ZW5jeTogbnVtYmVyKTogQ2xvY2s7XG4gIChzZXR0aW5nczogQ2xvY2tTZXR0aW5ncyk6IENsb2NrO1xufSA9IChcbiAgY2FsbGJhY2tPclNldHRpbmdzOiBDbG9ja0NhbGxiYWNrIHwgQ2xvY2tTZXR0aW5ncyxcbiAgZnJlcXVlbmN5ID0gMFxuKTogQ2xvY2sgPT4ge1xuICBjb25zdCBzZXR0aW5ncyA9IGlzRnVuY3Rpb24oY2FsbGJhY2tPclNldHRpbmdzKVxuICAgID8ge1xuICAgICAgICBmcmVxdWVuY3ksXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja09yU2V0dGluZ3MsXG4gICAgICB9XG4gICAgOiBjYWxsYmFja09yU2V0dGluZ3M7XG5cbiAgbGV0IHtcbiAgICBxdWV1ZSA9IHRydWUsXG4gICAgcGF1c2VkID0gZmFsc2UsXG4gICAgdHJpZ2dlciA9IGZhbHNlLFxuICAgIG9uY2UgPSBmYWxzZSxcbiAgICBjYWxsYmFjayA9ICgpID0+IHt9LFxuICAgIHJhZixcbiAgfSA9IHNldHRpbmdzO1xuICBmcmVxdWVuY3kgPSBzZXR0aW5ncy5mcmVxdWVuY3kgPz8gMDtcblxuICBsZXQgdGltZW91dElkID0gMDtcbiAgY29uc3QgbXV0ZXggPSBwcm9taXNlKHRydWUpLnJlc29sdmUoKTtcbiAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcighcGF1c2VkKTtcbiAgbGV0IGRlbHRhID0gdGltZXIoKTtcblxuICBjb25zdCBvdXRlckNhbGxiYWNrID0gYXN5bmMgKHNraXBRdWV1ZT86IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoIXRpbWVvdXRJZCB8fCAoIXF1ZXVlICYmIG11dGV4LnBlbmRpbmcgJiYgc2tpcFF1ZXVlICE9PSB0cnVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAoaW5zdGFuY2UgYXMgYW55KS5idXN5ID0gdHJ1ZTtcbiAgICBpZiAoc2tpcFF1ZXVlICE9PSB0cnVlKSB7XG4gICAgICB3aGlsZSAobXV0ZXgucGVuZGluZykge1xuICAgICAgICBhd2FpdCBtdXRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAhc2tpcFF1ZXVlICYmIG11dGV4LnJlc2V0KCk7XG5cbiAgICBpZiAoXG4gICAgICAoYXdhaXQgdHJ5Q2F0Y2hBc3luYyhcbiAgICAgICAgKCkgPT4gY2FsbGJhY2shKHRpbWVyKCksIC1kZWx0YSArIChkZWx0YSA9IHRpbWVyKCkpKSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgICgpID0+ICFza2lwUXVldWUgJiYgbXV0ZXgucmVzb2x2ZSgpXG4gICAgICApKSA9PT0gZmFsc2UgfHxcbiAgICAgIGZyZXF1ZW5jeSA8PSAwIHx8XG4gICAgICBvbmNlXG4gICAgKSB7XG4gICAgICByZXNldChmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICEoKGluc3RhbmNlIGFzIGFueSkuYnVzeSA9IGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVUaW1lb3V0ID0gKCkgPT5cbiAgICAodGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAgICgpID0+IChyYWYgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGltZW91dENhbGxiYWNrKSA6IHRpbWVvdXRDYWxsYmFjaygpKSxcbiAgICAgIGZyZXF1ZW5jeSA8IDAgPyAtZnJlcXVlbmN5IDogZnJlcXVlbmN5XG4gICAgKSBhcyBhbnkpO1xuXG4gIGNvbnN0IHRpbWVvdXRDYWxsYmFjayA9ICgpID0+IHtcbiAgICBpbnN0YW5jZS5hY3RpdmUgJiYgb3V0ZXJDYWxsYmFjaygpO1xuICAgIGluc3RhbmNlLmFjdGl2ZSAmJiB1cGRhdGVUaW1lb3V0KCk7XG4gIH07XG5cbiAgY29uc3QgcmVzZXQgPSAoc3RhcnQ6IGJvb2xlYW4sIHJlc2V0VGltZXIgPSAhc3RhcnQpID0+IHtcbiAgICB0aW1lcihzdGFydCwgcmVzZXRUaW1lcik7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgKGluc3RhbmNlIGFzIGFueSkuYWN0aXZlID0gISEodGltZW91dElkID0gc3RhcnQgPyB1cGRhdGVUaW1lb3V0KCkgOiAwKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgY29uc3QgaW5zdGFuY2U6IENsb2NrID0ge1xuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgYnVzeTogZmFsc2UsXG4gICAgcmVzdGFydDogKG5ld0ZyZXF1ZW5jeSwgbmV3Q2FsbGJhY2spID0+IHtcbiAgICAgIGZyZXF1ZW5jeSA9IG5ld0ZyZXF1ZW5jeSA/PyBmcmVxdWVuY3k7XG4gICAgICBjYWxsYmFjayA9IG5ld0NhbGxiYWNrID8/IGNhbGxiYWNrO1xuICAgICAgcmV0dXJuIHJlc2V0KHRydWUsIHRydWUpO1xuICAgIH0sXG4gICAgdG9nZ2xlOiAoc3RhcnQsIHRyaWdnZXIpID0+XG4gICAgICBzdGFydCAhPT0gaW5zdGFuY2UuYWN0aXZlXG4gICAgICAgID8gc3RhcnRcbiAgICAgICAgICA/IHRyaWdnZXJcbiAgICAgICAgICAgID8gKHJlc2V0KHRydWUpLCBpbnN0YW5jZS50cmlnZ2VyKCksIGluc3RhbmNlKVxuICAgICAgICAgICAgOiByZXNldCh0cnVlKVxuICAgICAgICAgIDogcmVzZXQoZmFsc2UpXG4gICAgICAgIDogaW5zdGFuY2UsXG4gICAgdHJpZ2dlcjogYXN5bmMgKHNraXBRdWV1ZSkgPT5cbiAgICAgIChhd2FpdCBvdXRlckNhbGxiYWNrKHNraXBRdWV1ZSkpICYmIChyZXNldChpbnN0YW5jZS5hY3RpdmUpLCB0cnVlKSxcbiAgfTtcblxuICByZXR1cm4gaW5zdGFuY2UudG9nZ2xlKCFwYXVzZWQsIHRyaWdnZXIpO1xufTtcbiIsImltcG9ydCB7XG4gIElmLFxuICBNYXliZVByb21pc2VMaWtlLFxuICBNYXliZVVuZGVmaW5lZCxcbiAgTnVsbGlzaCxcbiAgVG9nZ2xlUHJvbWlzZSxcbiAgVW53cmFwLFxuICBXcmFwcGVkLFxuICBpc0Z1bmN0aW9uLFxuICBub3csXG4gIHRocm93RXJyb3IsXG4gIHRyeUNhdGNoQXN5bmMsXG4gIHVuZGVmaW5lZCxcbiAgdW53cmFwLFxufSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY2xhc3MgUmVzZXR0YWJsZVByb21pc2U8VCA9IHZvaWQsIEUgPSBhbnk+IGltcGxlbWVudHMgUHJvbWlzZUxpa2U8VD4ge1xuICBwcml2YXRlIF9wcm9taXNlOiBPcGVuUHJvbWlzZTxUPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnZhbHVlO1xuICB9XG4gIHB1YmxpYyBnZXQgZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UuZXJyb3I7XG4gIH1cbiAgcHVibGljIGdldCBwZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnBlbmRpbmc7XG4gIH1cblxuICBwdWJsaWMgcmVzb2x2ZSh2YWx1ZTogVCwgaWZQZW5kaW5nID0gZmFsc2UpIHtcbiAgICB0aGlzLl9wcm9taXNlLnJlc29sdmUodmFsdWUsIGlmUGVuZGluZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgcmVqZWN0KHZhbHVlPzogRSwgaWZQZW5kaW5nID0gZmFsc2UpIHtcbiAgICB0aGlzLl9wcm9taXNlLnJlamVjdCh2YWx1ZSwgaWZQZW5kaW5nKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICB0aGlzLl9wcm9taXNlID0gbmV3IE9wZW5Qcm9taXNlPFQ+KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgc2lnbmFsKHZhbHVlOiBUKSB7XG4gICAgdGhpcy5yZXNvbHZlKHZhbHVlKTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgdGhlbjxUUmVzdWx0MSA9IFQsIFRSZXN1bHQyID0gbmV2ZXI+KFxuICAgIG9uZnVsZmlsbGVkPzpcbiAgICAgIHwgKCh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4pXG4gICAgICB8IHVuZGVmaW5lZFxuICAgICAgfCBudWxsLFxuICAgIG9ucmVqZWN0ZWQ/OlxuICAgICAgfCAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPilcbiAgICAgIHwgdW5kZWZpbmVkXG4gICAgICB8IG51bGxcbiAgKTogUHJvbWlzZUxpa2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuUHJvbWlzZTxUID0gdm9pZCwgRSA9IGFueT4gaW1wbGVtZW50cyBQcm9taXNlTGlrZTxUPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb21pc2U6IFByb21pc2U8VD47XG5cbiAgcHVibGljIHJlYWRvbmx5IHJlc29sdmU6ICh2YWx1ZTogVCwgaWZQZW5kaW5nPzogYm9vbGVhbikgPT4gdGhpcztcbiAgcHVibGljIHJlYWRvbmx5IHJlamVjdDogKHJlYXNvbjogRSB8IHVuZGVmaW5lZCwgaWZQZW5kaW5nPzogYm9vbGVhbikgPT4gdGhpcztcbiAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiAoVCBleHRlbmRzIHZvaWQgPyB0cnVlIDogVCkgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyByZWFkb25seSBlcnJvcjogRSB8IHRydWU7XG4gIHB1YmxpYyBwZW5kaW5nID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgY2FwdHVyZWQ6IGFueVtdO1xuICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZSgoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgIGNhcHR1cmVkID0gYXJncy5tYXAoKGlubmVyLCBpKSA9PiAodmFsdWU6IGFueSwgaWZQZW5kaW5nOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgaWYgKGlmUGVuZGluZykgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2UgYWxyZWFkeSByZXNvbHZlZC9yZWplY3RlZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAodGhpcyBhcyBhbnkpLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgKHRoaXMgYXMgYW55KVtpID8gXCJlcnJvclwiIDogXCJ2YWx1ZVwiXSA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWU7XG4gICAgICAgIGlubmVyKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIFt0aGlzLnJlc29sdmUsIHRoaXMucmVqZWN0XSA9IGNhcHR1cmVkITtcbiAgfVxuXG4gIHB1YmxpYyB0aGVuPFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gICAgb25mdWxmaWxsZWQ/OlxuICAgICAgfCAoKHZhbHVlOiBUKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPilcbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWQsXG4gICAgb25yZWplY3RlZD86XG4gICAgICB8ICgocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+KVxuICAgICAgfCBudWxsXG4gICAgICB8IHVuZGVmaW5lZFxuICApOiBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvY2sge1xuICAvKipcbiAgICogV2FpdCB1bnRpbCB0aGUgbG9jayBpcyBhdmFpbGFibGUuIElmIGEgdGltZW91dCBpcyBub3Qgc3BlY2lmaWVkIG9yIG5lZ2F0aXZlLCB0aGUgY2FsbGluZyB0aHJlYWQgd2lsbCB3YWl0IGluZGVmaW5pdGVseS5cbiAgICogSWYgYSBvd25lciBJRCBpcyBzcGVjaWZpZWQgdGhlIGxvY2sgd2lsbCBiZSByZWVudHJhbnQgZm9yIHRoYXQgSUQuXG4gICAqL1xuICA8TXMgZXh0ZW5kcyBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ+KFxuICAgIHRpbWVvdXQ/OiBNcyxcbiAgICBvd25lcklkPzogc3RyaW5nXG4gICk6IFByb21pc2U8KCgpID0+IHZvaWQpIHwgSWY8TXMsIHVuZGVmaW5lZD4+O1xuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyB0aGUgc3BlY2lmaWVkIGFjdGlvbiB3aGVuIHRoZSBsb2NrIGJlY29tZXMgYXZhaWxhYmxlLlxuICAgKiBJZiBhIHRpbWVvdXQgaXMgbm90IHNwZWNpZmllZCBvciBuZWdhdGl2ZSwgdGhlIGNhbGxpbmcgdGhyZWFkIHdpbGwgd2FpdCBpbmRlZmluaXRlbHkuXG4gICAqIElmIGEgb3duZXIgSUQgaXMgc3BlY2lmaWVkIHRoZSBsb2NrIHdpbGwgYmUgcmVlbnRyYW50IGZvciB0aGF0IElELlxuICAgKi9cbiAgPFQsIE1zIGV4dGVuZHMgbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkPihcbiAgICBhY3Rpb246ICgpID0+IE1heWJlUHJvbWlzZUxpa2U8VD4sXG4gICAgdGltZW91dD86IE1zLFxuICAgIG93bmVySWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxUIHwgSWY8TXMsIHVuZGVmaW5lZD4+O1xufVxuXG5leHBvcnQgdHlwZSBMb2NrU3RhdGUgPSBbb3duZXI6IHN0cmluZyB8IGJvb2xlYW4sIGV4cGlyZXM/OiBudW1iZXJdO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTG9jayA9ICh0aW1lb3V0PzogbnVtYmVyKTogTG9jayA9PiB7XG4gIGNvbnN0IHNlbWFwaG9yZSA9IHByb21pc2U8TG9ja1N0YXRlIHwgYm9vbGVhbj4odHJ1ZSk7XG4gIGxldCBzdGF0ZTogTG9ja1N0YXRlIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHdhaXQgPSBhc3luYyAoXG4gICAgYXJnMT86ICgoKSA9PiBhbnkpIHwgbnVtYmVyLFxuICAgIGFyZzI/OiBudW1iZXIgfCBzdHJpbmcsXG4gICAgYXJnMz86IHN0cmluZ1xuICApID0+IHtcbiAgICBpZiAoaXNGdW5jdGlvbihhcmcxKSkge1xuICAgICAgY29uc3QgcmVsZWFzZSA9IGF3YWl0IHdhaXQoYXJnMiBhcyBudW1iZXIsIGFyZzMpO1xuICAgICAgcmV0dXJuIHJlbGVhc2UgPyBhd2FpdCB0cnlDYXRjaEFzeW5jKGFyZzEsIHRydWUsIHJlbGVhc2UpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvd25lcklkID0gYXJnMiBhcyBzdHJpbmc7XG5cbiAgICBsZXQgbXMgPSBhcmcxIGFzIG51bWJlcjtcbiAgICBsZXQgcmVuZXdJbnRlcnZhbDogYW55ID0gMDtcbiAgICB3aGlsZSAoc3RhdGUgJiYgb3duZXJJZCAhPT0gc3RhdGVbMF0gJiYgKHN0YXRlWzFdID8/IDApISA8IG5vdygpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChhd2FpdCAobXMgPj0gMCA/IHJhY2UoZGVsYXkobXMpLCBzZW1hcGhvcmUpIDogc2VtYXBob3JlKSkgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgYWJvdmUgZGlkIG5vdCByZXR1cm4gdW5kZWZpbmVkIHdlIGdvdCB0aGUgc2VtYXBob3JlLlxuICAgIH1cblxuICAgIGNvbnN0IHJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQocmVuZXdJbnRlcnZhbCk7XG4gICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHNlbWFwaG9yZS5zaWduYWwoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5ldyA9ICgpID0+IHtcbiAgICAgIHN0YXRlID0gW293bmVySWQgPz8gdHJ1ZSwgdGltZW91dCA/IG5vdygpIC0gdGltZW91dCA6IHVuZGVmaW5lZF07XG4gICAgICB0aW1lb3V0ICYmXG4gICAgICAgIChyZW5ld0ludGVydmFsID0gc2V0VGltZW91dCgoKSA9PiBzdGF0ZSAmJiByZW5ldygpLCB0aW1lb3V0IC8gMikpO1xuICAgIH07XG4gICAgcmVuZXcoKTtcblxuICAgIHJldHVybiByZWxlYXNlO1xuICB9O1xuICByZXR1cm4gd2FpdDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZlciA9IChmOiBWb2lkRnVuY3Rpb24sIG1zID0gMCkgPT5cbiAgbXMgPiAwID8gc2V0VGltZW91dChmLCBtcykgOiB3aW5kb3cucXVldWVNaWNyb3Rhc2soZik7XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9IDxcbiAgRGVsYXkgZXh0ZW5kcyBudW1iZXIgfCBOdWxsaXNoLFxuICBUIGV4dGVuZHMgV3JhcHBlZDxhbnk+ID0gdm9pZFxuPihcbiAgbXM6IERlbGF5LFxuICB2YWx1ZT86IFRcbik6IE1heWJlVW5kZWZpbmVkPERlbGF5LCBUb2dnbGVQcm9taXNlPFVud3JhcDxUPiwgdHJ1ZT4+ID0+XG4gIG1zID09IG51bGwgfHwgaXNGaW5pdGUobXMpXG4gICAgPyAhbXMgfHwgbXMgPD0gMFxuICAgICAgPyB1bndyYXAodmFsdWUpIVxuICAgICAgOiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlKSA9PlxuICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gcmVzb2x2ZShhd2FpdCB1bndyYXAodmFsdWUpKSwgbXMpXG4gICAgICAgIClcbiAgICA6ICh0aHJvd0Vycm9yKGBJbnZhbGlkIGRlbGF5ICR7bXN9LmApIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBwcm9taXNlOiB7XG4gIDxUID0gdm9pZD4ocmVzZXR0YWJsZT86IGZhbHNlKTogT3BlblByb21pc2U8VD47XG4gIDxUID0gdm9pZD4ocmVzZXR0YWJsZTogdHJ1ZSk6IFJlc2V0dGFibGVQcm9taXNlPFQ+O1xufSA9IChyZXNldHRhYmxlPzogYm9vbGVhbikgPT5cbiAgcmVzZXR0YWJsZSA/IG5ldyBSZXNldHRhYmxlUHJvbWlzZSgpIDogKG5ldyBPcGVuUHJvbWlzZSgpIGFzIGFueSk7XG5cbnR5cGUgVW53cmFwUHJvbWlzZUFyZzxUPiA9IFQgZXh0ZW5kcyAoKSA9PiBpbmZlciBUID8gQXdhaXRlZDxUPiA6IEF3YWl0ZWQ8VD47XG50eXBlIFVud3JhcFByb21pc2VBcmdzPFQgZXh0ZW5kcyBhbnlbXT4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEFyZ11cbiAgPyBbVW53cmFwUHJvbWlzZUFyZzxBcmc+XVxuICA6IFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgQXJnLCAuLi5pbmZlciBSZXN0XVxuICA/IFtVbndyYXBQcm9taXNlQXJnPEFyZz4sIC4uLlVud3JhcFByb21pc2VBcmdzPFJlc3Q+XVxuICA6IFtdO1xuXG5leHBvcnQgdHlwZSBBc3luY1ZhbHVlPFQ+ID1cbiAgfCB1bmRlZmluZWRcbiAgfCBUXG4gIHwgUHJvbWlzZUxpa2U8VD5cbiAgfCAoKCkgPT4gVClcbiAgfCAoKCkgPT4gUHJvbWlzZUxpa2U8VD4pO1xuXG5leHBvcnQgY29uc3Qgd2FpdEFsbCA9IDxBcmdzIGV4dGVuZHMgQXN5bmNWYWx1ZTxhbnk+W10+KFxuICAuLi5hcmdzOiBBcmdzXG4pOiBQcm9taXNlPFVud3JhcFByb21pc2VBcmdzPEFyZ3M+PiA9PlxuICBQcm9taXNlLmFsbChhcmdzLm1hcCgoYXJnKSA9PiAoaXNGdW5jdGlvbihhcmcpID8gYXJnKCkgOiBhcmcpKSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgcmFjZSA9IDxBcmdzIGV4dGVuZHMgQXN5bmNWYWx1ZTxhbnk+W10+KFxuICAuLi5hcmdzOiBBcmdzXG4pOiBQcm9taXNlPFVud3JhcFByb21pc2VBcmdzPEFyZ3M+W251bWJlcl0+ID0+XG4gIFByb21pc2UucmFjZShhcmdzLm1hcCgoYXJnKSA9PiAoaXNGdW5jdGlvbihhcmcpID8gYXJnKCkgOiBhcmcpKSkgYXMgYW55O1xuIiwiaW1wb3J0IHsgZmlsdGVyLCByZWR1Y2UgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgdHlwZSBSZWJpbmRlciA9ICgpID0+IGJvb2xlYW47XG5leHBvcnQgdHlwZSBVbmJpbmRlciA9ICgpID0+IGJvb2xlYW47XG5leHBvcnQgdHlwZSBCaW5kZXJzID0gW3VuYmluZDogVW5iaW5kZXIsIHJlYmluZDogUmViaW5kZXJdO1xuXG5leHBvcnQgdHlwZSBTb3VyY2VMaXN0ZW5lcjxBcmdzIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+ID0gKFxuICAuLi5hcmdzOiBBcmdzXG4pID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBMaXN0ZW5lcjxBcmdzIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+ID0gKFxuICAuLi5hcmdzOiBbLi4uYXJnczogQXJncywgdW5iaW5kOiBVbmJpbmRlcl1cbikgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV2ZW50QmluZGVycyA9IDxBcmdzIGV4dGVuZHMgYW55W10+KFxuICBsaXN0ZW5lcjogTGlzdGVuZXI8QXJncz4sXG4gIGF0dGFjaDogKGxpc3RlbmVyOiBTb3VyY2VMaXN0ZW5lcjxBcmdzPikgPT4gdm9pZCxcbiAgZGV0YWNoOiAobGlzdGVuZXI6IFNvdXJjZUxpc3RlbmVyPEFyZ3M+KSA9PiB2b2lkXG4pOiBCaW5kZXJzID0+IHtcbiAgbGV0IGJvdW5kID0gZmFsc2U7XG5cbiAgY29uc3Qgb3V0ZXJMaXN0ZW5lciA9ICguLi5hcmdzOiBBcmdzKSA9PiBsaXN0ZW5lciguLi5hcmdzLCB1bmJpbmQpO1xuXG4gIGNvbnN0IHVuYmluZCA9ICgpID0+XG4gICAgYm91bmQgIT09IChib3VuZCA9IGZhbHNlKSAmJiAoZGV0YWNoKG91dGVyTGlzdGVuZXIpLCB0cnVlKTtcblxuICBjb25zdCByZWJpbmQgPSAoKSA9PlxuICAgIGJvdW5kICE9PSAoYm91bmQgPSB0cnVlKSAmJiAoYXR0YWNoKG91dGVyTGlzdGVuZXIpLCB0cnVlKTtcblxuICByZWJpbmQoKTtcbiAgcmV0dXJuIFt1bmJpbmQsIHJlYmluZF07XG59O1xuXG5leHBvcnQgY29uc3Qgam9pbkV2ZW50QmluZGVycyA9IChcbiAgLi4uYmluZGVyczogKEJpbmRlcnMgfCB1bmRlZmluZWQpW11cbik6IEJpbmRlcnMgPT4gKFxuICAoYmluZGVycyA9IGZpbHRlcihiaW5kZXJzKSksXG4gIFtcbiAgICAoKSA9PiByZWR1Y2UoYmluZGVycywgKGNoYW5nZWQsIGJpbmRlcikgPT4gYmluZGVyIVswXSgpIHx8IGNoYW5nZWQsIGZhbHNlKSxcbiAgICAoKSA9PiByZWR1Y2UoYmluZGVycywgKGNoYW5nZWQsIGJpbmRlcikgPT4gYmluZGVyIVsxXSgpIHx8IGNoYW5nZWQsIGZhbHNlKSxcbiAgXVxuKTtcblxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyPEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4gPSAoXG4gIC4uLnBheWxvYWQ6IEFyZ3NcbikgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV2ZW50ID0gPEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oKTogW1xuICBsaXN0ZW46IChsaXN0ZW5lcjogTGlzdGVuZXI8QXJncz4sIHRyaWdnZXJDdXJyZW50PzogYm9vbGVhbikgPT4gQmluZGVycyxcbiAgZGlzcGF0Y2g6ICguLi5wYXlsb2FkOiBBcmdzKSA9PiB2b2lkXG5dID0+IHtcbiAgY29uc3QgbGlzdGVuZXJzID0gbmV3IFNldDxTb3VyY2VMaXN0ZW5lcjxBcmdzPj4oKTtcbiAgbGV0IGRpc3BhdGNoZWRBcmdzOiBBcmdzIHwgdW5kZWZpbmVkO1xuICByZXR1cm4gW1xuICAgIChoYW5kbGVyLCB0cmlnZ2VyKSA9PiB7XG4gICAgICBjb25zdCBiaW5kZXJzID0gY3JlYXRlRXZlbnRCaW5kZXJzKFxuICAgICAgICBoYW5kbGVyIGFzIGFueSxcbiAgICAgICAgKGhhbmRsZXIpID0+IGxpc3RlbmVycy5hZGQoaGFuZGxlciBhcyBhbnkpLFxuICAgICAgICAoaGFuZGxlcikgPT4gbGlzdGVuZXJzLmRlbGV0ZShoYW5kbGVyIGFzIGFueSlcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyICYmXG4gICAgICAgIGRpc3BhdGNoZWRBcmdzICYmXG4gICAgICAgIChoYW5kbGVyIGFzIGFueSkoLi4uZGlzcGF0Y2hlZEFyZ3MsIGJpbmRlcnNbMF0pO1xuICAgICAgcmV0dXJuIGJpbmRlcnM7XG4gICAgfSxcbiAgICAoLi4ucGF5bG9hZCkgPT4gKFxuICAgICAgKGRpc3BhdGNoZWRBcmdzID0gcGF5bG9hZCksXG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlciguLi5wYXlsb2FkKSlcbiAgICApLFxuICBdO1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhaW5lZEV2ZW50SGFuZGxlcjxBcmdzIGV4dGVuZHMgYW55W10sIFQ+ID0gKFxuICAuLi5hcmdzOiBbXG4gICAgLi4uYXJnczogQXJncyxcbiAgICBuZXh0OiB7XG4gICAgICAoKTogVDtcbiAgICAgICguLi5hcmdzOiBBcmdzKTogVDtcbiAgICB9LFxuICAgIHVuYmluZDogVW5iaW5kZXJcbiAgXVxuKSA9PiBUO1xuXG50eXBlIExpbmtlZE5vZGU8VD4gPSBbXG4gIHByZXY6IExpbmtlZE5vZGU8VD4gfCB1bmRlZmluZWQsXG4gIGl0ZW06IFQsXG4gIG5leHQ6IExpbmtlZE5vZGU8VD4gfCB1bmRlZmluZWRcbl07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDaGFpbmVkRXZlbnQgPSA8VCA9IHZvaWQsIEFyZ3MgZXh0ZW5kcyBhbnlbXSA9IFtdPigpOiBbXG4gIHJlZ2lzdGVyOiAoXG4gICAgaGFuZGxlcjogQ2hhaW5lZEV2ZW50SGFuZGxlcjxBcmdzLCBUPixcbiAgICBwcmlvcml0eT86IG51bWJlclxuICApID0+IEJpbmRlcnMsXG4gIGludm9rZTogKC4uLmFyZ3M6IEFyZ3MpID0+IFQgfCB1bmRlZmluZWRcbl0gPT4ge1xuICB0eXBlIEl0ZW0gPSBbXG4gICAgaGFuZGxlcjogQ2hhaW5lZEV2ZW50SGFuZGxlcjxBcmdzLCBUPixcbiAgICBwcmlvcml0eTogbnVtYmVyLFxuICAgIGJpbmRlcnM6IEJpbmRlcnNcbiAgXTtcbiAgdHlwZSBOb2RlID0gTGlua2VkTm9kZTxJdGVtPjtcbiAgbGV0IGhlYWQ6IE5vZGUgfCB1bmRlZmluZWQ7XG4gIGxldCB0YWlsOiBOb2RlIHwgdW5kZWZpbmVkO1xuICBsZXQgbmV4dDogTm9kZSB8IHVuZGVmaW5lZDtcblxuICBjb25zdCByZWdpc3RlciA9IChcbiAgICBoYW5kbGVyOiBDaGFpbmVkRXZlbnRIYW5kbGVyPEFyZ3MsIFQ+LFxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGhhbmRsZXIgZ2V0cyByZWJvdW5kIGF0IHRoZWlyIHByZXZpb3VzIHByaW9yaXR5IHdpdGhvdXQganVtcGluZyBkaXNjcmV0ZSBpbmNyZW1lbnRzLlxuICAgIC8vIChJdCBpcyBkZXNlcmlhYmxlIHRvIGJlIGFibGUgdG8gc3BlY2ZpeSBwcmlvcml0eSAwIG9yICAxMCB3aXRob3V0IGhhdmluZyB0byB0aGluayBhYm91dCBob3cgbWFueSAwcyB0aGVyZSBhcmUpXG4gICAgcHJpb3JpdHkgPSAodGFpbD8uWzFdWzFdID8/IDApICsgMC4wMDAwMDFcbiAgKSA9PiB7XG4gICAgY29uc3QgcmVnaXN0ZXJOb2RlID0gKG5vZGU/OiBOb2RlKSA9PiB7XG4gICAgICBsZXQgYm91bmQgPSB0cnVlO1xuICAgICAgbm9kZSA/Pz0gW1xuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIFtcbiAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgIHByaW9yaXR5LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFib3VuZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBub2RlIVswXSA/IChub2RlIVswXVsyXSA9IG5vZGUhWzJdKSA6IChoZWFkID0gbm9kZSFbMl0pO1xuICAgICAgICAgICAgICBub2RlIVsyXSA/IChub2RlIVsyXVswXSA9IG5vZGUhWzBdKSA6ICh0YWlsID0gbm9kZSFbMF0pO1xuICAgICAgICAgICAgICBub2RlIVswXSA9IG5vZGUhWzJdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICByZXR1cm4gIShib3VuZCA9IGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiAoYm91bmQgPyBmYWxzZSA6IChyZWdpc3Rlck5vZGUobm9kZSksIChib3VuZCA9IHRydWUpKSksXG4gICAgICAgICAgXSxcbiAgICAgICAgXSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgXTtcbiAgICAgIG5leHQgPSBoZWFkO1xuICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgIGhlYWQgPSB0YWlsID0gbm9kZTtcbiAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPj0gdGFpbCFbMV1bMV0pIHtcbiAgICAgICAgbm9kZVswXSA9IHRhaWw7XG4gICAgICAgIHRhaWwgPSB0YWlsIVsyXSA9IG5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJTlY6IHByaW9yaXR5IDwgdGFpbC5wcmlvcml0eSwgc28gbmV4dCB3aWxsIGJlIG5vbi1udWxsIGFmdGVyIGxvb3A7XG4gICAgICAgIHdoaWxlIChuZXh0IVsxXVsxXSEgPD0gcHJpb3JpdHkpIHtcbiAgICAgICAgICBuZXh0ID0gbmV4dFsyXSE7XG4gICAgICAgIH1cblxuICAgICAgICAobm9kZVswXSA9IChub2RlWzJdID0gbmV4dClbMF0pID8gKG5vZGVbMF1bMl0gPSBub2RlKSA6IChoZWFkID0gbm9kZSk7XG4gICAgICAgIG5leHRbMF0gPSBub2RlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZVsxXVsyXTtcbiAgICB9O1xuICAgIHJldHVybiByZWdpc3Rlck5vZGUoKTtcbiAgfTtcblxuICBjb25zdCBpbnZva2UgPSAobm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgYXJnczogQXJncykgPT4gKFxuICAgIChuZXh0ID0gbm9kZT8uWzJdKSxcbiAgICBub2RlXG4gICAgICA/IChub2RlWzFdWzBdKFxuICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgKC4uLm5leHRBcmdzOiBBcmdzKSA9PlxuICAgICAgICAgICAgaW52b2tlKG5leHQhLCBuZXh0QXJncy5sZW5ndGggPyBuZXh0QXJncyA6IGFyZ3MpLFxuICAgICAgICAgIG5vZGVbMV1bMl1bMF1cbiAgICAgICAgKSBhcyBhbnkpXG4gICAgICA6IHVuZGVmaW5lZFxuICApO1xuXG4gIHJldHVybiBbcmVnaXN0ZXIsICguLi5hcmdzKSA9PiBpbnZva2UoaGVhZCwgYXJncyldO1xufTtcbiIsImltcG9ydCB7XG4gIE1JTlVURSxcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxpc2gsXG4gIGZvckVhY2gyLFxuICBpc0FycmF5LFxuICBpc0Jvb2xlYW4sXG4gIGlzSXRlcmFibGUsXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNTdHJpbmcsXG4gIG1hcCxcbiAgcHVzaCxcbiAgcmVwbGFjZSxcbiAgcm91bmQsXG4gIHN5bWJvbEl0ZXJhdG9yLFxuICB1bmRlZmluZWQsXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VDYXNlID0gPFMgZXh0ZW5kcyBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPihcbiAgczogUyxcbiAgdXBwZXI6IGJvb2xlYW5cbik6IFMgPT4gKHMgPT0gbnVsbCA/IHMgOiB1cHBlciA/IHMudG9VcHBlckNhc2UoKSA6IHMudG9Mb3dlckNhc2UoKSkgYXMgUztcblxuZXhwb3J0IGNvbnN0IGNoYW5nZUlkZW50aWZpZXJDYXNlU3R5bGUgPSAoXG4gIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgdHlwZTogXCJjYW1lbFwiIHwgXCJwYXNjYWxcIiB8IFwia2ViYWJcIiB8IFwic25ha2VcIlxuKSA9PlxuICBpZGVudGlmaWVyLnJlcGxhY2UoXG4gICAgLyhbXy1dKikoXFwkKig/OltBLVpdK3xbYS16XSkpKFthLXowLTldKikvZyxcbiAgICAoXywgdW5kZXJzY29yZXMsIGluaXRpYWwsIHJlc3QsIGluZGV4KSA9PlxuICAgICAgKHVuZGVyc2NvcmVzICYmICghaW5kZXggfHwgdHlwZSA9PT0gXCJrZWJhYlwiIHx8IHR5cGUgPT09IFwic25ha2VcIilcbiAgICAgICAgPyB1bmRlcnNjb3Jlcy5yZXBsYWNlKC8uL2csIHR5cGUgPT09IFwic25ha2VcIiA/IFwiLVwiIDogXCJfXCIpXG4gICAgICAgIDogXCJcIikgK1xuICAgICAgKChpbmRleCAmJiAodHlwZSA9PT0gXCJrZWJhYlwiIHx8IHR5cGUgPT09IFwic25ha2VcIikgJiYgIXVuZGVyc2NvcmVzXG4gICAgICAgID8gdHlwZSA9PT0gXCJzbmFrZVwiXG4gICAgICAgICAgPyBcIi1cIlxuICAgICAgICAgIDogXCJfXCJcbiAgICAgICAgOiBcIlwiKSArXG4gICAgICAgIGNoYW5nZUNhc2UoaW5pdGlhbCwgdHlwZSA9PT0gXCJwYXNjYWxcIiB8fCAodHlwZSA9PT0gXCJjYW1lbFwiICYmIGluZGV4KSkgK1xuICAgICAgICBjaGFuZ2VDYXNlKFxuICAgICAgICAgIHR5cGUgPT09IFwia2ViYWJcIiB8fCB0eXBlID09PSBcInNuYWtlXCJcbiAgICAgICAgICAgID8gcmVzdC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIC8oPzw9XFxEKVxcZHwoPzw9XFxkKVxcRC9nLFxuICAgICAgICAgICAgICAgIHR5cGUgPT09IFwia2ViYWJcIiA/IFwiXyQmXCIgOiBcIi0kJlwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogcmVzdCxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApKVxuICApO1xuXG4vKipcbiAqIFBsdXJhbGl6ZXMgYSBub3VuIHVzaW5nIHN0YW5kYXJkIEVuZ2xpc2ggcnVsZXMuXG4gKiBJdCBpcyBub3QgdmVyeSBzbWFydCwgc28gaWYgdGhlIHBsdXJhbCBmb3JtIGlzIG5vdCBqdXN0IGFkZGluZyBhbiBcInNcIiBpbiB0aGUgZW5kIHVubGVzcyB0aGUgc2luZ3VsYXIgZm9ybSBhbHJlYWR5IGVuZHMgd2l0aCBcInNcIixcbiAqIGl0IG11c3QgYmUgc3BlY2lmaWVkIG1hbnVhbGx5LlxuICpcbiAqIEBwYXJhbSBzaW5ndWxhciAtIFRoZSBzaW5ndWxhciBmb3JtIG9mIHRoZSBub3VuXG4gKiBAcGFyYW0gbiAtIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBkZWNpZGVzIGlmIHRoZSBub3VuIHNob3VsZCBiZSBwbHVyYWxpemVkLiBJZiBnaXZlbiBhbiBhcnJheSB0aGUgbnVtYmVyIHdpbGwgYmUgcG9zdGZpeGVkLlxuICogQHBhcmFtIHBsdXJhbCAtIFRoZSBwbHVyYWwgZm9ybSBpZiBpdCBpcyBkaWZmZXJlbnQgZnJvbSBhZGRpbmcgYW4gXCJzXCIgdG8gdGhlIHNpbmd1bGFyIGZvcm0uXG4gKiBAcmV0dXJucyBUaGUgbm91biwgcGx1cmFsaXplZCBpZiBuZWVkZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwbHVyYWxpemUgPSA8XG4gIFQgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoLFxuICBOIGV4dGVuZHMgbnVtYmVyIHwgTnVsbGlzaCxcbiAgUGx1cmFsIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nXG4+KFxuICBzaW5ndWxhcjogVCxcbiAgbjogTiB8IFtjb3VudDogTl0sXG4gIHBsdXJhbD86IFBsdXJhbFxuKTogVCBleHRlbmRzIE51bGxpc2ggPyB1bmRlZmluZWQgOiBOIGV4dGVuZHMgTnVsbGlzaCA/IHVuZGVmaW5lZCA6IHN0cmluZyA9PlxuICBzaW5ndWxhciA9PSBudWxsXG4gICAgPyAodW5kZWZpbmVkIGFzIGFueSlcbiAgICA6IGlzQXJyYXkobilcbiAgICA/IChuID0gblswXSkgPT0gbnVsbFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogbiArIFwiIFwiICsgcGx1cmFsaXplKHNpbmd1bGFyLCBuLCBwbHVyYWwpXG4gICAgOiBuID09IG51bGxcbiAgICA/IHVuZGVmaW5lZCFcbiAgICA6IG4gPT09IDFcbiAgICA/IHNpbmd1bGFyXG4gICAgOiBwbHVyYWwgPz8gKHNpbmd1bGFyID09PSBcImlzXCIgPyBcImFyZVwiIDogc2luZ3VsYXIgKyBcInNcIik7XG5cbmxldCBhbnNpU3VwcG9ydGVkID0gdHJ1ZTtcblxuLyoqIEVuYWJsZXMgb3IgZGlzYWJsZXMgQU5TSSBmb3JtYXR0aW5nIGluIGNvbnNvbGUgb3V0cHV0LiAqL1xuZXhwb3J0IGNvbnN0IHRvZ2dsZUFuc2kgPSAodG9nZ2xlID0gdHJ1ZSkgPT4gKGFuc2lTdXBwb3J0ZWQgPSB0b2dnbGUpO1xuXG4vKipcbiAqIENhbiBjb2xvcml6ZSB0ZXh0IHVzaW5nIEFOU0kgZXNjYXBlIHNlcXVlbmNlcy5cbiAqIFNlZSBlLmcuIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZG9jcy9kZXZ0b29scy9jb25zb2xlL2Zvcm1hdC1zdHlsZSBmb3Igb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGFuc2kgPSA8QnVmZmVyIGV4dGVuZHMgc3RyaW5nW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ+KFxuICB2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10sXG4gIHBzOiBzdHJpbmcgfCBudW1iZXIsXG4gIGJ1ZmZlcj86IEJ1ZmZlclxuKTogQnVmZmVyIGV4dGVuZHMgdW5kZWZpbmVkID8gc3RyaW5nIDogc3RyaW5nW10gPT5cbiAgYnVmZmVyXG4gICAgPyAoYW5zaVN1cHBvcnRlZCAmJiBwdXNoKGJ1ZmZlciwgXCJcXHgxQltcIiwgcHMsIFwibVwiKSxcbiAgICAgIGlzQXJyYXkodmFsdWUpID8gcHVzaChidWZmZXIsIC4uLnZhbHVlKSA6IHB1c2goYnVmZmVyLCB2YWx1ZSksXG4gICAgICBhbnNpU3VwcG9ydGVkICYmIHB1c2goYnVmZmVyLCBcIlxceDFCW21cIiksXG4gICAgICBidWZmZXIpXG4gICAgOiAoYW5zaSh2YWx1ZSwgcHMsIFtdKS5qb2luKFwiXCIpIGFzIGFueSk7XG5cbmNvbnN0IGluZGVudCA9IChidWZmZXI6IHN0cmluZ1tdLCBuOiBudW1iZXIsIC4uLnZhbHVlczogc3RyaW5nW10pID0+IChcbiAgcHVzaChidWZmZXIsIFwiICBcIi5yZXBlYXQobiksIC4uLnZhbHVlcyksIGJ1ZmZlclxuKTtcbmNvbnN0IGJyID0gKGJ1ZmZlcjogc3RyaW5nW10sIGluZGVudHMgPSAwKSA9PiAoXG4gIGluZGVudHMgPiAwICYmIGluZGVudChidWZmZXIsIGluZGVudHMpLCBwdXNoKGJ1ZmZlciwgXCJcXG5cIiksIGJ1ZmZlclxuKTtcblxuY29uc3QgcHJldHR5UHJpbnQgPSAoXG4gIHZhbHVlOiBhbnksXG4gIGJ1ZmZlcjogc3RyaW5nW10gPSBbXSxcbiAgaW5kZW50cyA9IDAsXG4gIHRlcm1pbmF0b3IgPSBcIlwiXG4pID0+IHtcbiAgY29uc3Qgd3JhcCA9IChcbiAgICBzdGFydDogc3RyaW5nLFxuICAgIGVuZDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IChidWZmZXI6IHN0cmluZ1tdKSA9PiB2b2lkXG4gICkgPT4ge1xuICAgIGFuc2koc3RhcnQsIDkwLCBidWZmZXIpO1xuICAgIGNvbnN0IHN1YkJ1ZmZlcjogc3RyaW5nW10gPSBbXTtcbiAgICBjb250ZW50KHN1YkJ1ZmZlcik7XG4gICAgc3ViQnVmZmVyLmxlbmd0aCAmJlxuICAgICAgKGJyKGJ1ZmZlciwgaW5kZW50cyksIHB1c2goYnVmZmVyLCAuLi5zdWJCdWZmZXIpKSAmJlxuICAgICAgaW5kZW50KGJ1ZmZlciwgaW5kZW50cyk7XG5cbiAgICBhbnNpKGVuZCwgOTAsIGJ1ZmZlcik7XG4gIH07XG5cbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICBhbnNpKHZhbHVlID09PSB1bmRlZmluZWQgPyBcIih1bmRlZmluZWQpXCIgOiBcIihudWxsKVwiLCBcIjM3OzJcIiwgYnVmZmVyKTtcbiAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgIHdyYXAoXCJbXCIsIFwiXVwiLCAoYnVmZmVyKSA9PlxuICAgICAgZm9yRWFjaDIoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICAodmFsdWUpID0+IChcbiAgICAgICAgICBpbmRlbnQoYnVmZmVyLCBpbmRlbnRzKSxcbiAgICAgICAgICBwcmV0dHlQcmludCh2YWx1ZSwgYnVmZmVyLCBpbmRlbnRzICsgMSwgXCIsXFxuXCIpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHdyYXAoXCJ7XCIsIFwifVwiLCAoYnVmZmVyKSA9PlxuICAgICAgZm9yRWFjaDIoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICAoW2tleSwgdmFsdWVdKSA9PiAoXG4gICAgICAgICAgaW5kZW50KGJ1ZmZlciwgaW5kZW50cyArIDEpLFxuICAgICAgICAgIGFuc2koW1wiXCIgKyAoa2V5IGFzIGFueSksIFwiOlwiXSwgXCI5MDszXCIsIGJ1ZmZlciksXG4gICAgICAgICAgcHVzaChidWZmZXIsIFwiIFwiKSxcbiAgICAgICAgICBwcmV0dHlQcmludCh2YWx1ZSwgYnVmZmVyLCBpbmRlbnRzICsgMSwgXCIsXFxuXCIpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIGFuc2kodmFsdWUsIDM2LCBidWZmZXIpO1xuICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgYW5zaShcIlwiICsgdmFsdWUsIDMzLCBidWZmZXIpO1xuICB9IGVsc2Uge1xuICAgIHB1c2goYnVmZmVyLCB2YWx1ZSk7XG4gIH1cbiAgdGVybWluYXRvciAmJiBwdXNoKGJ1ZmZlciwgdGVybWluYXRvcik7XG4gIHJldHVybiBidWZmZXI7XG59O1xuXG50eXBlIFVwcGVyY2FzZUxldHRlciA9XG4gIHwgXCJBXCJcbiAgfCBcIkJcIlxuICB8IFwiQ1wiXG4gIHwgXCJEXCJcbiAgfCBcIkVcIlxuICB8IFwiRlwiXG4gIHwgXCJHXCJcbiAgfCBcIkhcIlxuICB8IFwiSVwiXG4gIHwgXCJKXCJcbiAgfCBcIktcIlxuICB8IFwiTFwiXG4gIHwgXCJNXCJcbiAgfCBcIk5cIlxuICB8IFwiT1wiXG4gIHwgXCJQXCJcbiAgfCBcIlFcIlxuICB8IFwiUlwiXG4gIHwgXCJTXCJcbiAgfCBcIlRcIlxuICB8IFwiVVwiXG4gIHwgXCJWXCJcbiAgfCBcIldcIlxuICB8IFwiWFwiXG4gIHwgXCJZXCJcbiAgfCBcIlpcIjtcblxuLyoqXG4gKiBUaGlzIGlzIGludGVuZGVkIGZvciBwcmV0dGlmeWluZyBlbnVtIG5hbWVzIChsaWtlIFNlcnZlcldyaXRlIGJlY29tZXMgJ3NlcnZlci13cml0ZScpLCBhbGFzIGl0IGRvZXMgY3VycmVudGx5IG5vdCB3b3JrIHdpdGhcbiAqIHRzLWpzb24tc2NoZW1hLWdlbmVyYXRvci4gS2VwdCBpbiB0aGUgaG9wZSB0aGlzIHdpbGwgYmUgc3VwcG9ydGVkIG9uZSBkYXkuXG4gKi9cbmV4cG9ydCB0eXBlIFNuYWtlQ2FzZTxcbiAgUyBleHRlbmRzIHN0cmluZyB8IE51bGxpc2gsXG4gIEZpcnN0ID0gdHJ1ZVxuPiA9IFMgZXh0ZW5kcyBOdWxsaXNoXG4gID8gdW5kZWZpbmVkXG4gIDogUyBleHRlbmRzIGAke2luZmVyIFB9JHtpbmZlciBSZXN0fWBcbiAgPyBbUCwgRmlyc3RdIGV4dGVuZHMgW1VwcGVyY2FzZUxldHRlciwgZmFsc2VdXG4gICAgPyBgLSR7TG93ZXJjYXNlPFA+fSR7U25ha2VDYXNlPFJlc3QsIGZhbHNlPn1gXG4gICAgOiBgJHtMb3dlcmNhc2U8UD59JHtTbmFrZUNhc2U8UmVzdCwgZmFsc2U+fWBcbiAgOiBTIGV4dGVuZHMgc3RyaW5nXG4gID8gTG93ZXJjYXNlPFM+XG4gIDogdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3Qgc25ha2VDYXNlID0gPFMgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoPihcbiAgczogU1xuKTogTWF5YmVVbmRlZmluZWQ8UywgU25ha2VDYXNlPFM+PiA9PlxuICByZXBsYWNlKHMsIC8oLik/KFtBLVpdKS9nLCAoXywgcHJldiwgcCkgPT5cbiAgICAoKHByZXYgPyBwcmV2ICsgXCItXCIgOiBcIlwiKSArIHApLnRvTG93ZXJDYXNlKClcbiAgKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBxdW90ZSA9IDxUPihcbiAgaXRlbTogVCxcbiAgcXVvdGVDaGFyID0gXCInXCJcbik6IE1heWJlVW5kZWZpbmVkPFQsIFQgZXh0ZW5kcyBJdGVyYWJsZTxhbnk+ID8gc3RyaW5nW10gOiBzdHJpbmc+ID0+XG4gIGl0ZW0gPT0gbnVsbFxuICAgID8gKHVuZGVmaW5lZCBhcyBhbnkpXG4gICAgOiBpdGVtW3N5bWJvbEl0ZXJhdG9yXVxuICAgID8gbWFwKGl0ZW0sIChpdGVtKSA9PiBxdW90ZShpdGVtLCBxdW90ZUNoYXIpKVxuICAgIDogcXVvdGVDaGFyICsgaXRlbSArIHF1b3RlQ2hhcjtcblxuZXhwb3J0IGNvbnN0IGVsbGlwc2lzID0gPFQgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoPihcbiAgdGV4dDogVCxcbiAgbWF4TGVuZ3RoOiBudW1iZXIsXG4gIGRlYnVnID0gZmFsc2Vcbik6IFQgPT5cbiAgdGV4dCAmJlxuICAoKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoXG4gICAgPyBkZWJ1Z1xuICAgICAgPyBgJHt0ZXh0LnNsaWNlKDAsIG1heExlbmd0aCl9Li4uIFthbmQgJHt0ZXh0Lmxlbmd0aCAtIG1heExlbmd0aH0gbW9yZV1gXG4gICAgICA6IHRleHQuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gMSkgKyBcIuKAplwiXG4gICAgOiB0ZXh0KSBhcyBhbnkpO1xuXG4vKiogV29yZCBzdGF0aXN0aWNzIGZvciBhIHRleHQuICovXG5leHBvcnQgdHlwZSBUZXh0U3RhdHMgPSB7XG4gIC8qKiBUaGUgc291cmNlIHRleHQuICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKiogVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHRoZSB0ZXh0LiAqL1xuICBsZW5ndGg6IG51bWJlcjtcblxuICAvKiogVGhlIG51bWJlciBvZiB3b3JkIGNoYXJhY3RlcnMgKGEgbGV0dGVyIG9yIG51bWJlciBmb2xsb3dlZCBieSBhbnkgbnVtYmVyIG9mIGxldHRlcnMsIG51bWJlcnMgb3IgYXBvc3Ryb3BoZXMpIGluIHRoZSB0ZXh0LiAqL1xuICBjaGFyYWN0ZXJzOiBudW1iZXI7XG5cbiAgLyoqIFRoZSBudW1iZXIgb2Ygd29yZHMgaW4gdGhlIHRleHQuIEEgd29yZCBpcyBkZWZpbmVkIGFzIGEgZ3JvdXAgb2YgY29uc2VjdXRpdmUgd29yZCBjaGFyYWN0ZXJzLiAqL1xuICB3b3JkczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIHNlbnRlbmNlcyBpbiB0aGUgdGV4dC5cbiAgICogQSBzZW50ZW5jZSBpcyBkZWZpbmVkIGFzIGFueSBncm91cCBvZiBjaGFyYWN0ZXJzIHdoZXJlIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIGEgd29yZCBjaGFyYWN0ZXJcbiAgICogdGVybWluYXRlZCBieSBgLmAsIGAhYCwgYD9gIG9yIHRoZSBlbmQgb2YgdGhlIHRleHQuXG4gICAqL1xuICBzZW50ZW5jZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIExJWCBpbmRleCBmb3IgdGhlIHRleHQuIFRoZSBtZWFzdXJlIGdpdmVzIGFuIGluZGljYXRpb24gb2YgaG93IGRpZmZpY3VsdCBpdCBpcyB0byByZWFkLlxuICAgKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGl4XyhyZWFkYWJpbGl0eV90ZXN0KSlcbiAgICovXG4gIGxpeDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZXN0aW1hdGVkIHRpbWUgaXQgd2lsbCB0YWtlIGZvciBhbiBhdmVyYWdlIHVzZXIgdG8gcmVhZCBhbGwgdGhlIHRleHQuXG4gICAqIFRoZSBkdXJhdGlvbiBpcyBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhhdCBpcyB0aGUgdGltZSBwcmVjaXNpb24gZm9yIEVDTUFTY3JpcHQgdGltZXN0YW1wcy5cbiAgICpcbiAgICogVGhlIGVzdGltYXRlIGlzIGFzc3VtaW5nIFwiU2lsZW50IHJlYWRpbmcgdGltZVwiIHdoaWNoIHNlZW1zIHRvIGJlIDIzOCB3b3JkcyBwZXIgbWludXRlIGFjY29yZGluZ1xuICAgKiB0byBbTWFyYyBCcnlzYmFlcnQncyByZXNlYXJjaF0gKGh0dHBzOi8vd3d3LnNjaWVuY2VkaXJlY3QuY29tL3NjaWVuY2UvYXJ0aWNsZS9hYnMvcGlpL1MwNzQ5NTk2WDE5MzAwNzg2P3ZpYSUzRGlodWIpXG4gICAqXG4gICAqL1xuICByZWFkVGltZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY2hhcmFjdGVyIGluZGljZXMgaW4gdGhlIHNvdXJjZSB0ZXh0IHRoYXQgZGVtYXJjYXRlcyBzcGVjaWZpYyBmcmFjdGlvbnMgb2YgdGhlIHRvdGFsIG51bWJlcnMgb2Ygd29yZCBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byAwICUsIDI1ICUsIDUwICUsIDc1ICUgYW5kIDEwMCAlIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgbGV0dGVycyByZXNwZWN0aXZlbHkuXG4gICAqIFRoZSBpbmRleCBpcyBmb3IgdGhlIGNoYXJhY3RlciBhZnRlciB0aGUgbGFzdCBsZXR0ZXIgdGhhdCB0aGF0IGRvZXMgbm90IGV4Y2VlZCB0aGUgYm91bmRhcnkuXG4gICAqIEZvciBleGFtcGxlLCB0aGUgMjUgJSBib3VuZGFyeSBvZiBcImFiY2RcIiBpcyAxIChiZXR3ZWVuIGEgYW5kIGIpLlxuICAgKi9cbiAgYm91bmRhcmllczogeyBvZmZzZXQ6IG51bWJlcjsgd29yZHNCZWZvcmU6IG51bWJlcjsgcmVhZFRpbWU6IG51bWJlciB9W107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGV4dFN0YXRzID0gKFxuICB0ZXh0OiBzdHJpbmcsXG4gIGJvdW5kYXJ5TGltaXRzID0gWzAsIDAuMjUsIDAuNSwgMC43NSwgMV1cbik6IFRleHRTdGF0cyA9PiB7XG4gIGxldCBjaGFyTWF0Y2hlciA9IC9bXFxwe0x9XFxwe059XVtcXHB7TH1cXHB7Tn0n4oCZXSp8KFsuIT9dKykvZ3U7XG4gIGxldCBtYXRjaDogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGw7XG4gIGxldCBjaGFycyA9IDA7XG4gIGxldCB3b3JkcyA9IDA7XG4gIGxldCBsb25nV29yZHMgPSAwO1xuICBsZXQgc2VudGVuY2VzID0gMDtcblxuICBsZXQgaGFzV29yZCA9IGZhbHNlO1xuICB3aGlsZSAoKG1hdGNoID0gY2hhck1hdGNoZXIuZXhlYyh0ZXh0KSkpIHtcbiAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgIGhhc1dvcmQgJiYgKytzZW50ZW5jZXM7XG4gICAgICBoYXNXb3JkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc1dvcmQgPSB0cnVlO1xuICAgICAgY2hhcnMgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgbWF0Y2hbMF0ubGVuZ3RoID4gNiAmJiArK2xvbmdXb3JkcztcbiAgICAgICsrd29yZHM7XG4gICAgfVxuICB9XG4gIGhhc1dvcmQgJiYgKytzZW50ZW5jZXM7XG4gIGNoYXJNYXRjaGVyID0gL1tcXHB7TH1cXHB7Tn1dfChbXlxccHtMfVxccHtOfV0rKS9ndTtcblxuICBjb25zdCBsaW1pdHMgPSBib3VuZGFyeUxpbWl0cy5tYXAoKGJvdW5kYXJ5KSA9PiAoYm91bmRhcnkgKiBjaGFycykgfCAwKTtcbiAgY29uc3QgYm91bmRhcmllczogVGV4dFN0YXRzW1wiYm91bmRhcmllc1wiXSA9IFtdO1xuXG4gIGxldCBpbmRleCA9IDA7XG4gIGxldCBwcmV2SW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgbGV0IHdvcmRzQmVmb3JlID0gMDtcbiAgbGV0IGluU2VudGVuY2UgPSBmYWxzZTtcblxuICBkbyB7XG4gICAgbWF0Y2ggPSBjaGFyTWF0Y2hlci5leGVjKHRleHQpITtcbiAgICBpZiAobWF0Y2g/LlsxXSkge1xuICAgICAgLy8gV29yZCBkZWxpbWl0ZXJcbiAgICAgIGluU2VudGVuY2UgJiYgKyt3b3Jkc0JlZm9yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSBtYXRjaD8uaW5kZXghO1xuICAgICAgbGV0IHdhc0JvdW5kYXJ5ID0gZmFsc2U7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWxpbWl0c1tpXS0tKSB7XG4gICAgICAgICAgYm91bmRhcmllc1tpXSA9IHtcbiAgICAgICAgICAgIG9mZnNldDogcHJldkluZGV4ID8/IGluZGV4LFxuICAgICAgICAgICAgd29yZHNCZWZvcmUsXG4gICAgICAgICAgICByZWFkVGltZTogcm91bmQoTUlOVVRFICogKHdvcmRzQmVmb3JlIC8gMjM4KSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICB3YXNCb3VuZGFyeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpblNlbnRlbmNlID0gIXdhc0JvdW5kYXJ5KSB8fCAod29yZHNCZWZvcmUgPSAwKTtcbiAgICAgIHByZXZJbmRleCA9IGluZGV4ICsgMTtcbiAgICB9XG4gIH0gd2hpbGUgKG1hdGNoKTtcblxuICByZXR1cm4ge1xuICAgIHRleHQsXG4gICAgbGVuZ3RoOiB0ZXh0Lmxlbmd0aCxcbiAgICBjaGFyYWN0ZXJzOiBjaGFycyxcbiAgICB3b3JkcyxcbiAgICBzZW50ZW5jZXMsXG4gICAgbGl4OiByb3VuZCh3b3JkcyAvIHNlbnRlbmNlcyArICgxMDAgKiBsb25nV29yZHMpIC8gd29yZHMpLFxuICAgIHJlYWRUaW1lOiByb3VuZChNSU5VVEUgKiAod29yZHMgLyAyMzgpKSxcbiAgICBib3VuZGFyaWVzLFxuICB9O1xufTtcbiIsImltcG9ydCB7IE51bGxpc2gsIGlzTnVtYmVyLCBtYXAyLCBza2lwMiwgdGhyb3dFcnJvciwgdW5kZWZpbmVkIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IHR5cGUgRW51bVBhcnNlcjxWYWx1ZXM+ID0gX0VudW1QYXJzZXI8RmlsdGVyRW51bVZhbHVlczxWYWx1ZXM+PjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVudW1QYXJzZXI6IDxWYWx1ZXM+KFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlczogVmFsdWVzXG4pID0+IEVudW1QYXJzZXI8VmFsdWVzPiA9IChuYW1lLCB2YWx1ZXMpID0+IHtcbiAgY29uc3QgbGV2ZWxzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCByYW5rczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICBjb25zdCBwYXJzZXI6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICBsZXQgcmFuayA9IDA7XG4gIGZvciAobGV0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICBpZiAoa2V5ID09PSB2YWx1ZXNba2V5XSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlciwga2V5LCB7XG4gICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgcmFua3Nba2V5XSA9IHJhbmsrKztcbiAgICAgIGxldmVscy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGFyc2UgPSAodmFsdWU6IGFueSwgdmFsaWRhdGUgPSB0cnVlKSA9PlxuICAgIHZhbHVlID09IG51bGxcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHJhbmtzW3ZhbHVlXSAhPSBudWxsXG4gICAgICA/IHZhbHVlXG4gICAgICA6IHZhbGlkYXRlXG4gICAgICA/IHRocm93RXJyb3IoYFRoZSAke25hbWV9IFwiJHt2YWx1ZX1cIiBpcyBub3QgZGVmaW5lZC5gKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgcHJvcGVydHlTZXR0aW5ncyA9IHtcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGFyc2VyLCB7XG4gICAgcGFyc2U6IHtcbiAgICAgIHZhbHVlOiBwYXJzZSxcbiAgICAgIC4uLnByb3BlcnR5U2V0dGluZ3MsXG4gICAgfSxcbiAgICByYW5rczoge1xuICAgICAgdmFsdWU6IHJhbmtzLFxuICAgICAgLi4ucHJvcGVydHlTZXR0aW5ncyxcbiAgICB9LFxuICAgIGxldmVsczoge1xuICAgICAgdmFsdWU6IGxldmVscyxcbiAgICAgIC4uLnByb3BlcnR5U2V0dGluZ3MsXG4gICAgfSxcbiAgICBjb21wYXJlOiB7XG4gICAgICB2YWx1ZTogKGxoczogYW55LCByaHM6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByYW5rMSA9IHJhbmtzW3BhcnNlKGxocyldLFxuICAgICAgICAgIHJhbmsyID0gcmFua3NbcGFyc2UocmhzKV07XG4gICAgICAgIHJldHVybiByYW5rMSA8IHJhbmsyID8gLTEgOiByYW5rMSA+IHJhbmsyID8gMSA6IDA7XG4gICAgICB9LFxuICAgICAgLi4ucHJvcGVydHlTZXR0aW5ncyxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gcGFyc2VyIGFzIGFueTtcbn07XG5cbnR5cGUgRmlsdGVyRW51bVZhbHVlczxUPiA9IFBpY2s8XG4gIFQsXG4gIHtcbiAgICBbUCBpbiBrZXlvZiBUXTogW1RbUF1dIGV4dGVuZHMgW1BdID8gVFtQXSA6IG5ldmVyO1xuICB9W2tleW9mIFRdXG4+O1xuXG50eXBlIF9FbnVtUGFyc2VyPFxuICBWYWx1ZXMsXG4gIEtleXMgZXh0ZW5kcyBzdHJpbmcgPSBrZXlvZiBWYWx1ZXMgJiBzdHJpbmdcbj4gPSBWYWx1ZXMgJiB7XG4gIHBhcnNlPFxuICAgIFQgZXh0ZW5kcyBLZXlzIHwgKHN0cmluZyAmIHt9KSB8IG51bWJlciB8IE51bGxpc2gsXG4gICAgVmFsaWRhdGUgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZVxuICA+KFxuICAgIHZhbHVlOiBULFxuICAgIHZhbGlkYXRlPzogVmFsaWRhdGVcbiAgKTogVCBleHRlbmRzIE51bGxpc2hcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogS2V5cyB8IChWYWxpZGF0ZSBleHRlbmRzIHRydWUgPyBuZXZlciA6IHVuZGVmaW5lZCk7XG5cbiAgcmVhZG9ubHkgbGV2ZWxzOiBLZXlzW107XG4gIHJlYWRvbmx5IHJhbmtzOiB7IFtQIGluIEtleXNdOiBudW1iZXIgfTtcblxuICBjb21wYXJlKGxoczogS2V5cywgcmhzOiBLZXlzKTogbnVtYmVyO1xufTtcbiIsImltcG9ydCB7XG4gIE1heWJlVW5kZWZpbmVkLFxuICBOdWxsaXNoLFxuICBQaWNrUmVxdWlyZWQsXG4gIFByZXR0aWZ5SW50ZXJzZWN0aW9uLFxuICBTaW1wbGVPYmplY3QsXG4gIGNvbmNhdDIsXG4gIGZvckVhY2gyLFxuICBncm91cDIsXG4gIGlzQXJyYXksXG4gIGlzU3RyaW5nLFxuICBqb2luMixcbiAgbWFwLFxuICBtYXAyLFxuICBtYXRjaCxcbiAgbmlsLFxuICBvYmoyLFxuICBza2lwMixcbiAgc3RvcDIsXG4gIHVuZGVmaW5lZCxcbn0gZnJvbSBcIi5cIjtcblxudHlwZSBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID1cbiAgfCBib29sZWFuXG4gIHwgc3RyaW5nXG4gIHwgcmVhZG9ubHkgc3RyaW5nW11cbiAgfCByZWFkb25seSBbXTtcblxuZXhwb3J0IHR5cGUgUGFyc2VkVXJpPFxuICBRdWVyeVN0cmluZ0RlbGltaXRlcnMgZXh0ZW5kcyBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID0gUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZVxuPiA9IHtcbiAgLyoqIFRoZSBvcmlnaW5hbCBVUkkgdGhhdCB3YXMgcGFyc2VkLiAqL1xuICBzb3VyY2U6IHN0cmluZztcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBzY2hlbWUgZXhjbHVkaW5nIGNvbG9uIGFuZCBzbGFzaGVzLiAqL1xuICBzY2hlbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHNjaGVtZSBpbmNsdWRlcyB0d28gc2xhc2hlcyBvciBub3QgKGluIHdoaWNoIGNhc2UgaXQgaXMgYSB1cm4pLlxuICAgKiBTbGFzaGVzIGFyZSBvbmx5IGluY2x1ZGVkIHdoZW4gZm9ybWF0dGluZyB0aGUgVVJJIGlmIHRoaXMgdmFsdWUgaXMgZXhwbGljaXR5IGBmYWxzZWAsXG4gICAqIG9yIHtAbGluayBzY2hlbWV9IGhhcyBhIHZhbHVlIGFuZCBpdCBpcyBub3QgZXhwbGljaXRseSBgdHJ1ZWAuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB1cm4/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBVc2VyIG5hbWUsIHBhc3N3b3JkLCBob3N0IGFuZCBwb3J0IGFzIG11Y2ggYXMgYW55IG9mIHRoZXNlIGFyZSBwYXJ0IG9mIHRoZSBVUkkuXG4gICAqIFdoZW4gZm9ybWF0dGluZyBhIHBhcnNlZCBVUkksIHRoaXMgaXMgbm90IHVzZWQsIGJ1dCByYXRoZXIgdGhlIGluZGl2aWR1YWwgcGFydHMuXG4gICAqL1xuICBhdXRob3JpdHk/OiBzdHJpbmc7XG5cbiAgdXNlcj86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gIGhvc3Q/OiBzdHJpbmc7XG4gIHBvcnQ/OiBudW1iZXI7XG4gIHBhdGg/OiBzdHJpbmc7XG4gIHF1ZXJ5PzogUXVlcnlTdHJpbmdEZWxpbWl0ZXJzIGV4dGVuZHMgZmFsc2VcbiAgICA/IHN0cmluZ1xuICAgIDogUGFyc2VkUXVlcnlTdHJpbmc8RXhjbHVkZTxRdWVyeVN0cmluZ0RlbGltaXRlcnMsIG51bGw+PjtcbiAgZnJhZ21lbnQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyYW1ldGVyTGlzdFN5bWJvbCA9IFN5bWJvbCgpO1xuZXhwb3J0IHR5cGUgUGFyc2VkUXVlcnlTdHJpbmc8RGVsaW1pdGVycyBleHRlbmRzIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWU+ID1cbiAgUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICBEZWxpbWl0ZXJzIGV4dGVuZHMgTnVsbGlzaCB8IHJlYWRvbmx5IFtdIHwgZmFsc2VcbiAgICAgID8gc3RyaW5nXG4gICAgICA6IHN0cmluZyB8IHN0cmluZ1tdXG4gID4gJiB7XG4gICAgW3BhcmFtZXRlckxpc3RTeW1ib2xdPzogW1xuICAgICAgc3RyaW5nLFxuICAgICAgRGVsaW1pdGVycyBleHRlbmRzIE51bGxpc2ggfCByZWFkb25seSBbXSB8IGZhbHNlXG4gICAgICAgID8gc3RyaW5nXG4gICAgICAgIDogc3RyaW5nIHwgc3RyaW5nW11cbiAgICBdO1xuICB9O1xuXG5leHBvcnQgY29uc3QgdXJpRW5jb2RlID0gKHZhbHVlOiBhbnkpID0+XG4gIHZhbHVlICE9IG5pbCA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUtleVZhbHVlID0gPFxuICBEZWxpbWl0ZXJzIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZSA9IFtcInxcIiwgXCI7XCIsIFwiLFwiXVxuPihcbiAgdmFsdWU6IHN0cmluZyB8IE51bGxpc2gsXG4gIHtcbiAgICBkZWxpbWl0ZXJzID0gW1wifFwiLCBcIjtcIiwgXCIsXCJdIGFzIGFueSxcbiAgICBkZWNvZGUgPSB0cnVlLFxuICAgIGxvd2VyQ2FzZSxcbiAgfTogUXVlcnlTdHJpbmdQYXJzZU9wdGlvbnM8RGVsaW1pdGVycz4gPSB7fVxuKTpcbiAgfCByZWFkb25seSBba2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQsIHZhbHVlczogc3RyaW5nW11dXG4gIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgcGFydHM6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nW11dID0gdmFsdWUuc3BsaXQoXCI9XCIpLm1hcCgodikgPT4ge1xuICAgIHYgPSBkZWNvZGUgPyBkZWNvZGVVUklDb21wb25lbnQodi50cmltKCkpLnJlcGxhY2VBbGwoXCIrXCIsIFwiIFwiKSA6IHYudHJpbSgpO1xuICAgIHJldHVybiBsb3dlckNhc2UgPyB2LnRvTG93ZXJDYXNlKCkgOiB2O1xuICB9KSBhcyBhbnk7XG4gIGxldCBzcGxpdDogc3RyaW5nW107XG4gIHBhcnRzWzFdID8/PSBcIlwiO1xuICBwYXJ0c1syXSA9XG4gICAgKHBhcnRzWzFdICYmXG4gICAgICAoKGlzU3RyaW5nKGRlbGltaXRlcnMpICYmIChkZWxpbWl0ZXJzID0gW2RlbGltaXRlcnNdIGFzIGFueSkpIHx8XG4gICAgICAgIGlzQXJyYXkoZGVsaW1pdGVycykpICYmXG4gICAgICBmb3JFYWNoMihkZWxpbWl0ZXJzIGFzIHN0cmluZ1tdLCAoZGVsaW0pID0+XG4gICAgICAgIChzcGxpdCA9IHBhcnRzWzFdIS5zcGxpdChkZWxpbSkpLmxlbmd0aCA+IDEgPyBzdG9wMihzcGxpdCkgOiB1bmRlZmluZWRcbiAgICAgICkpIHx8XG4gICAgKHBhcnRzWzFdID8gW3BhcnRzWzFdXSA6IFtdKTtcblxuICByZXR1cm4gcGFydHM7XG59O1xuXG4vLyAvLyBCcm93c2VycyBhY2NlcHRzIGAvL2AgYXMgXCJ3aGF0ZXZlciB0aGUgcHJvdG9jb2wgaXNcIiBpcyBsaW5rcy5cbi8vIC8vIEEgc2NoZW1lIGNhbiBvbmx5IGJlIGxldHRlcnMsIGRpZ2l0cywgYCtgLCBgLWAgYW5kIGAuYC5cbi8vIC8vIFRoZSBzbGFzaGVzIGFyZSBjYXB0dXJlZCBzbyB3ZSBjYW4gcHV0IHRoZSBwYXJzZWQgVVJJIGNvcnJlY3RseSBiYWNrIHRvZ2V0aGVyLlxuLy8gLy8gaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4xXG4vLyBTY2hlbWUgKGdyb3VwIDEgYW5kIDIpID0gYC8vYCBvciBgbmFtZTpgIG9yIGBuYW1lOi8vYCA9ICg/Oig/OihbXFx3Ky4tXSspOik/KFxcL1xcLyk/KVxuXG4vLyAvLyBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjIuMVxuLy8gVXNlciBJbmZvcm1hdGlvbiAoZ3JvdXBzIDQgYW5kIDUpID0gYHVzZXJAYCBvciBgdXNlcjpwYXNzd29yZEBgID0gKD86KFteOkBdKykoPzpcXDooW15AXSopKT9AKVxuXG4vLyAvLyBJZiBhbiBJUHY2IGFkZHJlc3MgaXMgdXNlZCB3aXRoIGEgcG9ydCBpdCBpcyB3cmFwcGVkIGluIHNxdWFyZSBicmFja2V0cy5cbi8vIC8vIE90aGVyd2lzZSBhIGhvc3QgaXMgYW55dGhpbmcgdW50aWwgcG9ydCwgcGF0aCBvciBxdWVyeSBzdHJpbmcuXG4vLyAvLyBTZSBhbHNvIGh0dHBzOi8vc2VydmVyZmF1bHQuY29tL3F1ZXN0aW9ucy8yMDU3OTMvaG93LWNhbi1vbmUtZGlzdGluZ3Vpc2gtdGhlLWhvc3QtYW5kLXRoZS1wb3J0LWluLWFuLWlwdjYtdXJsIGFib3V0IHRoZSBicmFja2V0cy5cbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4yXG4vLyBIb3N0IChncm91cCA2IG9yIDcpID0gYFsgSVB2NiBvciBJUHZGdXR1cmUgXTpwb3J0YCBvciBJUHY2IG9yIGBJUHY0OnBvcnRgIG9yIGBkb21haW46cG9ydGAgID0gKD86XFxbKFteXFxdXSspXFxdfChbMC05Ol0rfFteLytdKz8pKVxuXG4vLyAvL1BvcnQgaXMgaW5jbHVkZWQgaW4gdGhlIG9wdGlvbmFsIGhvc3QgZ3JvdXAgdG8gc2VwYXJhdGUgYGFib3V0OmJsYW5rYCBsaWtlIHNjaGVtZXMgZnJvbSBgbG9jYWxob3N0OjEzMzdgIGxpa2UgaG9zdHNcbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4zXG4vLyBQb3J0IChncm91cCA4KSA9ICg/OjooXFxkKikpP1xuXG4vLyBBdXRob3JpdHkgKGdyb3VwIDMpID0gVXNlciBJbmZvcm1hdGlvbiArIEhvc3QgKyBQb3J0XG5cbi8vIC8vIEFueXRoaW5nIHVudGlsIGFuIG9wdGlvbmFsIHF1ZXJ5IG9yIGZyYWdtZW50XG4vLyAvLyBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjNcbi8vIFBhdGggYW5kICAoZ3JvdXAgOSkgPSAoXFwvW14jP10qKVxuXG4vLyAvLyBBbnl0aGluZyBmb2xsb3dpbmcgYSBgP2AgdW50aWwgYW4gb3B0aW9uYWwgZnJhZ21lbnQuXG4vLyAvLyBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjRcbi8vIFF1ZXJ5IChncm91cCAxMCkgPSAoPzpcXD8oW14jXSopKVxuXG4vLyAvLyBBbnl0aGluZyBmb2xsb3dpbmcgYSBwb3VuZCBzaWduIHVudGlsIGVuZC5cbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuNVxuLy8gRnJhZ21lbnQgKGdyb3VwIDExKSA9ICg/OiMuKilcblxuLy8gRXZlcnl0aGluZyBwdXQgdG9nZXRoZXJcbi8vIF4oPzooPzooW1xcdysuLV0rKTopPyg/OlxcL1xcLyk/KT8oKD86KFteOkBdKykoPzpcXDooW15AXSopKT9AKT8oPzpcXFsoW15cXF1dKylcXF18KFswLTk6XSt8W14vK10rPykpPyg/OjooXFxkKikpPyk/KFxcL1teIz9dKik/KD86XFw/KFteI10qKSk/KD86IyguKikpPyRcblxuLyoqXG4gKiBQYXJzZXMgYW4gVVJJIGFjY29yZGluZyB0byBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjMzk4NiNzZWN0aW9uLTIuMS5cbiAqIFRoZSBwYXJzZXIgaXMgbm90IHBlZGFudGljIGFib3V0IHRoZSBhbGxvd2VkIGNoYXJhY3RlcnMgaW4gZWFjaCBncm91cFxuICpcbiAqIEBwYXJhbSB1cmkgVGhlIFVSSSB0byBwYXJzZVxuICogQHBhcmFtIHF1ZXJ5IFdoZXRoZXIgdG8gcGFyc2UgdGhlIHF1ZXJ5IGludG8gYSByZWNvcmQgd2l0aCBlYWNoIHBhcmFtZXRlciBhbmQgaXRzIHZhbHVlKHMpIG9yIGp1c3QgdGhlIHN0cmluZy5cbiAqICBJZiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGVzZSBhcmUgdGhlIGNoYXJhY3RlcnMgdGhhdCBhcmUgdXNlZCB0byBzcGxpdCBxdWVyeSBzdHJpbmcgdmFsdWVzLiBJZiB0aGlzIGlzIGVtcHR5LCBhcnJheXMgYXJlIG5vdCBwYXJzZWQuXG4gKiBAcmV0dXJucyBBIHJlY29yZCB3aXRoIHRoZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIFVSSS5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlVXJpID0gPFxuICBVcmkgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoLFxuICBEZWxpbWl0ZXIgZXh0ZW5kcyBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID0gdHJ1ZSxcbiAgUmVxdWlyZUF1dGhvcml0eSBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZVxuPihcbiAgdXJpOiBVcmksXG4gIHtcbiAgICBkZWxpbWl0ZXJzID0gdHJ1ZSBhcyBhbnksXG4gICAgcmVxdWlyZUF1dGhvcml0eSxcbiAgICAuLi5vcHRpb25zXG4gIH06IFF1ZXJ5U3RyaW5nUGFyc2VPcHRpb25zPERlbGltaXRlcj4gJiB7XG4gICAgcmVxdWlyZUF1dGhvcml0eT86IFJlcXVpcmVBdXRob3JpdHk7XG4gIH0gPSB7fVxuKTpcbiAgfCBQcmV0dGlmeUludGVyc2VjdGlvbjxcbiAgICAgIFJlcXVpcmVBdXRob3JpdHkgZXh0ZW5kcyB0cnVlXG4gICAgICAgID8gUGlja1JlcXVpcmVkPFBhcnNlZFVyaTxEZWxpbWl0ZXI+LCBcInNjaGVtZVwiIHwgXCJob3N0XCIgfCBcInVyblwiIHwgXCJwYXRoXCI+XG4gICAgICAgIDogUGFyc2VkVXJpPERlbGltaXRlcj4sXG4gICAgICB0cnVlXG4gICAgPlxuICB8IChVcmkgZXh0ZW5kcyBOdWxsaXNoID8gdW5kZWZpbmVkIDogbmV2ZXIpID0+XG4gIHVyaSA9PSBuaWxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogKG1hdGNoKFxuICAgICAgICB1cmksXG4gICAgICAgIC9eKD86KD86KFtcXHcrLi1dKyk6KT8oXFwvXFwvKT8pPygoPzooW146QF0rKSg/OlxcOihbXkBdKikpP0ApPyg/OlxcWyhbXlxcXV0rKVxcXXwoWzAtOTpdK3xbXi8rXSs/KSk/KD86OihcXGQqKSk/KT8oXFwvW14jP10qKT8oPzpcXD8oW14jXSopKT8oPzojKC4qKSk/JC9nLFxuICAgICAgICAoXG4gICAgICAgICAgc291cmNlOiBzdHJpbmcsXG4gICAgICAgICAgc2NoZW1lLFxuICAgICAgICAgIHNsYXNoZXMsXG4gICAgICAgICAgYXV0aG9yaXR5LFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgYnJhY2tldEhvc3QsXG4gICAgICAgICAgaG9zdCxcbiAgICAgICAgICBwb3J0LFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgZnJhZ21lbnRcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkOiBQYXJzZWRVcmkgPSB7XG4gICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICBzY2hlbWUsXG4gICAgICAgICAgICB1cm46IHNjaGVtZSA/ICFzbGFzaGVzIDogc2xhc2hlcyA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXV0aG9yaXR5LFxuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgaG9zdDogYnJhY2tldEhvc3QgPz8gaG9zdCxcbiAgICAgICAgICAgIHBvcnQ6IHBvcnQgIT0gbnVsbCA/IHBhcnNlSW50KHBvcnQpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHF1ZXJ5OlxuICAgICAgICAgICAgICBkZWxpbWl0ZXJzID09PSBmYWxzZVxuICAgICAgICAgICAgICAgID8gcXVlcnlTdHJpbmdcbiAgICAgICAgICAgICAgICA6IHF1ZXJ5U3RyaW5nXG4gICAgICAgICAgICAgICAgPyBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5U3RyaW5nLCB7IC4uLm9wdGlvbnMsIGRlbGltaXRlcnMgfSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgIH07XG4gICAgICAgICAgcGFyc2VkLnBhdGggPVxuICAgICAgICAgICAgcGFyc2VkLnBhdGggfHxcbiAgICAgICAgICAgIChwYXJzZWQuYXV0aG9yaXR5ID8gKHBhcnNlZC51cm4gPyBcIlwiIDogXCIvXCIpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgICB9XG4gICAgICApIGFzIGFueSk7XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5U3RyaW5nUGFyc2VPcHRpb25zPFxuICBEZWxpbWl0ZXJzIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZSA9IFtcIixcIl1cbj4gPSB7XG4gIC8qKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgZGlzYWJsZXMgcGFyc2luZyBvZiBxdWVyeSBzdHJpbmcgcGFyYW1ldGVycywgYW5kIGluc3RlYWQgZ2l2ZXMgdGhlIHJhdyBxdWVyeSBzdHJpbmcgaW4gdGhlIFVSSSBwYXJzZSByZXN1bHQuICovXG4gIGRlbGltaXRlcnM/OiBEZWxpbWl0ZXJzO1xuICBkZWNvZGU/OiBib29sZWFuO1xuICBsb3dlckNhc2U/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlSHR0cEhlYWRlciA9IDxcbiAgViBleHRlbmRzIHN0cmluZyB8IE51bGxpc2gsXG4gIERlbGltaXRlciBleHRlbmRzIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWUgPSBcIixcIlxuPihcbiAgcXVlcnk6IFYsXG4gIG9wdGlvbnM/OiBRdWVyeVN0cmluZ1BhcnNlT3B0aW9uczxEZWxpbWl0ZXI+XG4pOiBQcmV0dGlmeUludGVyc2VjdGlvbjxQYXJzZWRRdWVyeVN0cmluZzxEZWxpbWl0ZXI+PiA9PlxuICBwYXJzZVBhcmFtZXRlcnMocXVlcnksIFwiOyBcIiwgb3B0aW9ucyk7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVF1ZXJ5U3RyaW5nID0gPFxuICBWIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaCxcbiAgRGVsaW1pdGVycyBleHRlbmRzIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWUgPSB0cnVlXG4+KFxuICBxdWVyeTogVixcbiAgb3B0aW9ucz86IFF1ZXJ5U3RyaW5nUGFyc2VPcHRpb25zPERlbGltaXRlcnM+XG4pOiBQcmV0dGlmeUludGVyc2VjdGlvbjxQYXJzZWRRdWVyeVN0cmluZzxEZWxpbWl0ZXJzPj4gPT5cbiAgcGFyc2VQYXJhbWV0ZXJzKHF1ZXJ5LCBcIiZcIiwgb3B0aW9ucyk7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVBhcmFtZXRlcnMgPSA8XG4gIFYgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoLFxuICBEZWxpbWl0ZXJzIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZSA9IHRydWVcbj4oXG4gIHF1ZXJ5OiBWLFxuICBzZXBhcmF0b3I6IHN0cmluZyxcbiAge1xuICAgIGRlbGltaXRlcnMgPSB0cnVlIGFzIGFueSxcbiAgICAuLi5vcHRpb25zXG4gIH06IFF1ZXJ5U3RyaW5nUGFyc2VPcHRpb25zPERlbGltaXRlcnM+ID0ge31cbik6IFByZXR0aWZ5SW50ZXJzZWN0aW9uPFBhcnNlZFF1ZXJ5U3RyaW5nPERlbGltaXRlcnM+PiA9PiB7XG4gIGNvbnN0IHBhcmFtZXRlcnMgPSBtYXAyKFxuICAgIHF1ZXJ5Py5tYXRjaCgvKD86Xi4qP1xcP3xeKShbXiNdKikvKT8uWzFdPy5zcGxpdChzZXBhcmF0b3IpLFxuICAgIChwYXJ0KSA9PiB7XG4gICAgICBsZXQgW2tleSwgdmFsdWUsIHZhbHVlc10gPVxuICAgICAgICBwYXJzZUtleVZhbHVlKHBhcnQsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGRlbGltaXRlcnM6XG4gICAgICAgICAgICBkZWxpbWl0ZXJzID09PSBmYWxzZVxuICAgICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICAgIDogZGVsaW1pdGVycyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA6IGRlbGltaXRlcnMsXG4gICAgICAgIH0pID8/IFtdO1xuICAgICAgcmV0dXJuIChrZXkgPSBrZXk/LnJlcGxhY2UoL1xcW1xcXSQvLCBcIlwiKSkgIT0gbnVsbFxuICAgICAgICA/IGRlbGltaXRlcnMgIT09IGZhbHNlXG4gICAgICAgICAgPyBba2V5LCB2YWx1ZXMhLmxlbmd0aCA+IDEgPyB2YWx1ZXMhIDogdmFsdWUhXVxuICAgICAgICAgIDogW2tleSwgdmFsdWUhXVxuICAgICAgICA6IHNraXAyO1xuICAgIH1cbiAgKTtcblxuICBjb25zdCByZXN1bHRzID0gb2JqMihncm91cDIocGFyYW1ldGVycywgZmFsc2UpLCAoW2tleSwgdmFsdWVzXSkgPT4gW1xuICAgIGtleSxcbiAgICBkZWxpbWl0ZXJzICE9PSBmYWxzZVxuICAgICAgPyB2YWx1ZXMubGVuZ3RoID4gMVxuICAgICAgICA/IGNvbmNhdDIodmFsdWVzKVxuICAgICAgICA6IHZhbHVlc1swXVxuICAgICAgOiB2YWx1ZXMuam9pbihcIixcIiksXG4gIF0pIGFzIGFueTtcblxuICByZXR1cm4gcmVzdWx0c1xuICAgID8gKChyZXN1bHRzW3BhcmFtZXRlckxpc3RTeW1ib2xdID0gcGFyYW1ldGVycyksIHJlc3VsdHMpXG4gICAgOiByZXN1bHRzO1xufTtcblxuZXhwb3J0IGNvbnN0IHRvUXVlcnlTdHJpbmcgPSA8XG4gIFAgZXh0ZW5kc1xuICAgIHwgSXRlcmFibGU8cmVhZG9ubHkgW3N0cmluZywgYW55XT5cbiAgICB8IFNpbXBsZU9iamVjdDxzdHJpbmcsIGFueT5cbiAgICB8IHVuZGVmaW5lZFxuPihcbiAgcGFyYW1ldGVyczogUCxcbiAgZGVsaW1pdGVyID0gXCIsXCJcbik6IE1heWJlVW5kZWZpbmVkPFAsIHN0cmluZz4gPT5cbiAgcGFyYW1ldGVycyA9PSBuaWxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogKG1hcChwYXJhbWV0ZXJzLCAoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhrZXkpXG4gICAgICAgICAgPyBrZXkgK1xuICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgIChpc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgICAgID8gbWFwKHZhbHVlLCB1cmlFbmNvZGUpLmpvaW4oZGVsaW1pdGVyKVxuICAgICAgICAgICAgICAgIDogdXJpRW5jb2RlKHZhbHVlKSA/PyBcIlwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfSk/LmpvaW4oXCImXCIpIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBhcHBlbmRRdWVyeVN0cmluZyA9IDxVcmkgZXh0ZW5kcyBzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICBiYXNlVXJpOiBVcmksXG4gIHBhcmFtZXRlcnM6XG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgfCBJdGVyYWJsZTxyZWFkb25seSBba2V5OiBzdHJpbmcsIHZhbHVlOiBhbnldPlxuICAgIHwgdW5kZWZpbmVkXG4pOiBNYXliZVVuZGVmaW5lZDxVcmksIHN0cmluZz4gPT4ge1xuICBpZiAoIWJhc2VVcmkpIHJldHVybiB1bmRlZmluZWQhO1xuICBjb25zdCBxcyA9IHRvUXVlcnlTdHJpbmcocGFyYW1ldGVycyk7XG4gIHJldHVybiAoYmFzZVVyaS5tYXRjaCgvXlteP10qLykhWzBdICsgKHFzID8gXCI/XCIgKyBxcyA6IFwiXCIpKSBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgbWVyZ2VRdWVyeVN0cmluZyA9IDxVcmkgZXh0ZW5kcyBzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICBjdXJyZW50VXJpOiBVcmksXG4gIHBhcmFtZXRlcnM6XG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgfCBJdGVyYWJsZTxyZWFkb25seSBba2V5OiBzdHJpbmcsIHZhbHVlOiBhbnldPlxuICAgIHwgdW5kZWZpbmVkXG4pOiBNYXliZVVuZGVmaW5lZDxVcmksIHN0cmluZz4gPT4ge1xuICBpZiAoIWN1cnJlbnRVcmkpIHJldHVybiB1bmRlZmluZWQhO1xuICBjb25zdCBjdXJyZW50ID0gcGFyc2VRdWVyeVN0cmluZyhjdXJyZW50VXJpKTtcbiAgZm9yRWFjaDIoXG4gICAgcGFyYW1ldGVycyxcbiAgICAoW2tleSwgdmFsdWVdKSA9PiAoY3VycmVudFtrZXldID0gY3VycmVudFtrZXldID8/IHZhbHVlKVxuICApO1xuICByZXR1cm4gYXBwZW5kUXVlcnlTdHJpbmcoY3VycmVudFVyaSwgY3VycmVudCkgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdFVyaSA9IDxVcmkgZXh0ZW5kcyBPbWl0PFBhcnNlZFVyaSwgXCJzb3VyY2VcIj4+KFxuICB1cmk6IFVyaVxuKTogTWF5YmVVbmRlZmluZWQ8VXJpLCBzdHJpbmc+ID0+XG4gIHVyaSA9PSBuaWxcbiAgICA/ICh1bmRlZmluZWQgYXMgYW55KVxuICAgIDogam9pbjIoXG4gICAgICAgIFtcbiAgICAgICAgICB1cmkuc2NoZW1lIHx8IHVyaS51cm4gPT09IGZhbHNlXG4gICAgICAgICAgICA/ICh1cmkuc2NoZW1lID8gdXJpLnNjaGVtZSArIFwiOlwiIDogXCJcIikgKyAoIXVyaS51cm4gPyBcIi8vXCIgOiBcIlwiKVxuICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIHVyaS51c2VyLFxuICAgICAgICAgIHVyaS5wYXNzd29yZCA/IFwiOlwiICsgdXJpLnBhc3N3b3JkIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHVyaS51c2VyICYmIFwiQFwiLFxuICAgICAgICAgIHVyaS5ob3N0LFxuICAgICAgICAgIHVyaS5wb3J0ID8gXCI6XCIgKyB1cmkucG9ydCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB1cmkucGF0aCA9PT0gXCIvXCIgPyBcIlwiIDogdXJpLnBhdGgsXG4gICAgICAgICAgdXJpLnF1ZXJ5ICYmXG4gICAgICAgICAgICBcIj9cIiArIChpc1N0cmluZyh1cmkucXVlcnkpID8gdXJpLnF1ZXJ5IDogdG9RdWVyeVN0cmluZyh1cmkucXVlcnkpKSxcbiAgICAgICAgICB1cmkuZnJhZ21lbnQgJiYgXCIjXCIgKyB1cmkuZnJhZ21lbnQsXG4gICAgICAgIF0sXG4gICAgICAgIFwiXCJcbiAgICAgICkgfHwgdW5kZWZpbmVkITtcbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gXCIuXCI7XHJcblxyXG5leHBvcnQgdHlwZSBJbnRlcnZhbDxUPiA9IFtzdGFydDogVCwgZW5kOiBUXTtcclxuZXhwb3J0IHR5cGUgSW50ZXJ2YWxzPFQgPSBudW1iZXI+ID0gUmVhZG9ubHlBcnJheTxbc3RhcnQ6IFQsIGVuZDogVF0+ICYge1xyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGludGVydmFscyB0byBpbmNsdWRlIHRoZSBzcGVjaWZpZWQgc3RhcnQgYW5kIGVuZCxcclxuICAgKiBhbmQgcmV0dXJucyB0aGUgdXBkYXRlZCB0b3RhbCB3aWR0aC5cclxuICAgKlxyXG4gICAqL1xyXG4gIHB1c2g6IChzdGFydDogVCwgZW5kOiBUKSA9PiBudW1iZXI7XHJcblxyXG4gIC8qKiBUaGUgdG90YWwgd2lkdGggb2YgdGhlIGludGVydmFscy4gKi9cclxuICB3aWR0aDogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUludGVydmFscyA9IDxUID0gbnVtYmVyPihcclxuICBjbXA6ICh4OiBULCB5OiBUKSA9PiBudW1iZXIgPSAoeDogYW55LCB5OiBhbnkpID0+ICh4IC0geSkgYXMgYW55LFxyXG4gIHdpZHRoOiAoaW50ZXJ2YWw6IEludGVydmFsPFQ+KSA9PiBudW1iZXIgPSAoaW50ZXJ2YWw6IGFueSkgPT5cclxuICAgIChpbnRlcnZhbFsxXSAtIGludGVydmFsWzBdKSBhcyBhbnlcclxuKTogSW50ZXJ2YWxzPFQ+ID0+IHtcclxuICBjb25zdCByYW5nZXM6IEludGVydmFsPFQ+W10gPSBbXTtcclxuXHJcbiAgcmV0dXJuIGFzc2lnbihyYW5nZXMsIHtcclxuICAgIHB1c2goc3RhcnQ6IFQsIGVuZDogVCkge1xyXG4gICAgICBsZXQgcGVuZGluZzogSW50ZXJ2YWw8VD4gfCB1bmRlZmluZWQgPSBbc3RhcnQsIGVuZF07XHJcblxyXG4gICAgICBjb25zdCBmaW5hbGl6ZSA9ICh1cGRhdGU6IGFueSA9IHRydWUpID0+XHJcbiAgICAgICAgdXBkYXRlXHJcbiAgICAgICAgICA/ICgocmFuZ2VzIGFzIGFueSkud2lkdGggPSByYW5nZXMucmVkdWNlKFxyXG4gICAgICAgICAgICAgIChzdW0sIGludGVydmFsKSA9PiBzdW0gKyB3aWR0aChpbnRlcnZhbCksXHJcbiAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgOiAocmFuZ2VzIGFzIGFueSkud2lkdGg7XHJcblxyXG4gICAgICBsZXQgY2hhbmdlZDogYW55O1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gcmFuZ2VzW2ldO1xyXG4gICAgICAgIGlmIChjbXAocGVuZGluZ1sxXSwgY3VycmVudFswXSkgPCAwKSB7XHJcbiAgICAgICAgICAvLyBFbmRzIGJlZm9yZSBuZXh0IHN0YXJ0LiBJbnNlcnQgYmVmb3JlLlxyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXplKHJhbmdlcy5zcGxpY2UoaSwgMCwgcGVuZGluZykpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY21wKHBlbmRpbmdbMF0sIGN1cnJlbnRbMV0pIDw9IDApIHtcclxuICAgICAgICAgIGlmIChjbXAocGVuZGluZ1swXSwgY3VycmVudFswXSkgPCAwKSB7XHJcbiAgICAgICAgICAgIC8vIEV4cGFuZCBsZWZ0IChjaGFuZ2VkKS5cclxuICAgICAgICAgICAgY2hhbmdlZCA9IGN1cnJlbnRbMF0gPSBwZW5kaW5nWzBdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGNtcChwZW5kaW5nWzFdLCBjdXJyZW50WzFdKSA+IDApIHtcclxuICAgICAgICAgICAgLy8gRXhwYW5kIHJpZ2h0IChjaGFuZ2VkKS5cclxuICAgICAgICAgICAgY2hhbmdlZCA9IGN1cnJlbnRbMV0gPSBwZW5kaW5nWzFdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHJhbmdlc1tpICsgMV0/LlswXSA8IGN1cnJlbnRbMV0pIHtcclxuICAgICAgICAgICAgLy8gRGV0YWNoIHRoZSBjdXJyZW50IHJhbmdlIHNpbmNlIGl0IGlzIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBuZXh0LlxyXG4gICAgICAgICAgICBjaGFuZ2VkID0gcGVuZGluZyA9IHJhbmdlcy5zcGxpY2UoaS0tLCAxKVswXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSB0b3RhbCB3aWR0aCBpZiB0aGUgY3VycmVudCByYW5nZSB3YXMgZXhwYW5kZWQgb3IgbWVyZ2VkLlxyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemUoY2hhbmdlZCAhPSBudWxsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIHN0aWxsIGlzIGEgcGVuZGluZyByYW5nZSBpdCBtZWFucyBpdHMgc3RhcnQgY29tZXMgYWZ0ZXIgdGhlIGN1cnJlbnQgZW5kLlxyXG4gICAgICAvLyBPbmx5IHVwZGF0ZSB3aWR0aCBpbiB0aGF0IGNhc2UuXHJcbiAgICAgIHJldHVybiBmaW5hbGl6ZShwZW5kaW5nICYmIChyYW5nZXNbcmFuZ2VzLmxlbmd0aF0gPSBwZW5kaW5nKSk7XHJcbiAgICB9LFxyXG4gICAgd2lkdGg6IDAsXHJcbiAgfSkgYXMgYW55O1xyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIEZhbHNpc2gsXHJcbiAgSXRlcmF0b3JJdGVtMixcclxuICBNYXliZU51bGxpc2hPckZhbHNlLFxyXG4gIE51bGxpc2gsXHJcbiAgU2ltcGxlT2JqZWN0LFxyXG4gIFVuaW9uVG9JbnRlcnNlY3Rpb24sXHJcbn0gZnJvbSBcIi4uXCI7XHJcblxyXG4vKiogRW5jb3VyYWdlcyBUeXBlU2NyaXB0IHRvIHRyZWF0IGEgcmV0dXJuIHZhbHVlIGFzIGEgdHVwbGUgKGZvciBzb21lIHJlYXNvbiBhbHNvLCBpZiB0aGUgdHVwbGUgaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudCkuICovXHJcbmV4cG9ydCB0eXBlIEFueVR1cGxlID1cclxuICB8IHJlYWRvbmx5IFthbnldXHJcbiAgfCByZWFkb25seSBbYW55XVtdXHJcbiAgfCByZWFkb25seSBbYW55XVtdW11cclxuICB8IHJlYWRvbmx5IFthbnldW11bXVtdXHJcbiAgfCByZWFkb25seSBbYW55XVtdW11bXVtdO1xyXG5cclxuZXhwb3J0IHR5cGUgRW5jb3VyYWdlVHVwbGVzPFQ+ID0gVCB8IChUICYgQW55VHVwbGUpO1xyXG5cclxuZXhwb3J0IHR5cGUgQWxsb3dBZGRpdGlvbmFsRWxlbWVudHM8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiA9XHJcbiAgbnVtYmVyIGV4dGVuZHMgVFtcImxlbmd0aFwiXSA/IFQgOiBbLi4uVCwgLi4uYW55XTtcclxuXHJcbmV4cG9ydCB0eXBlIEtleVZhbHVlVHlwZTxLID0ga2V5b2YgYW55LCBWID0gYW55PiA9IHJlYWRvbmx5IFtLLCBWXTtcclxuZXhwb3J0IHR5cGUgS2V5VmFsdWVUeXBlTGlrZTxLID0ga2V5b2YgYW55LCBWID0gYW55PiA9IHJlYWRvbmx5IFtLLCBWLCAuLi5hbnldO1xyXG5cclxuZXhwb3J0IHR5cGUgVW5rbm93bklzT2theTxSLCBWPiA9IFIgZXh0ZW5kcyB1bmRlZmluZWRcclxuICA/IFJcclxuICA6IHVua25vd24gZXh0ZW5kcyBWXHJcbiAgPyBhbnlcclxuICA6IFIgZXh0ZW5kcyBWXHJcbiAgPyBSXHJcbiAgOiBWICYgUiBleHRlbmRzIG5ldmVyW11cclxuICA/IFJcclxuICA6IG5ldmVyO1xyXG5cclxuZXhwb3J0IHR5cGUgTmV2ZXJJc0FueTxUPiA9IFQgZXh0ZW5kcyBuZXZlcltdXHJcbiAgPyBhbnlbXVxyXG4gIDogdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogW1RdIGV4dGVuZHMgW25ldmVyXVxyXG4gID8gYW55XHJcbiAgOiBUO1xyXG5cclxuZXhwb3J0IHR5cGUgTm90TWFwT3JTZXQ8VD4gPSBUIGV4dGVuZHNcclxuICB8IFJlYWRvbmx5TWFwPGFueSwgYW55PlxyXG4gIHwgV2Vha01hcDxhbnksIGFueT5cclxuICB8IFJlYWRvbmx5U2V0PGFueT5cclxuICB8IFdlYWtTZXQ8YW55PlxyXG4gID8gbmV2ZXJcclxuICA6IFQ7XHJcblxyXG5leHBvcnQgdHlwZSBSZWNvcmRLZXlPZjxUPiA9IFQgZXh0ZW5kcyBpbmZlciBUID8ga2V5b2YgVCA6IG5ldmVyO1xyXG5cclxuZXhwb3J0IHR5cGUgU2VsZWN0b3I8VCA9IGFueT4gPVxyXG4gIHwgUmVjb3JkS2V5T2Y8VD5cclxuICB8ICgoaXRlbTogVCwgLi4uYXJnczogYW55KSA9PiBhbnkpXHJcbiAgfCBOdWxsaXNoO1xyXG5cclxuZXhwb3J0IHR5cGUgRW50cmllc09mPFQ+ID0geyBbUCBpbiBrZXlvZiBUXS0/OiBbUCwgVFtQXV0gfVtrZXlvZiBUXTtcclxuXHJcbnR5cGUgU3RyaW5nT3JOdW1iZXI8Wj4gPVxyXG4gIHwgWlxyXG4gIHwgKFogZXh0ZW5kcyBgJHtpbmZlciBOIGV4dGVuZHMgbnVtYmVyfWAgPyBOIDogbmV2ZXIpO1xyXG5cclxuZXhwb3J0IHR5cGUgS2V5VHlwZU9mPFQ+ID0gdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIE51bGxpc2hcclxuICA/IG5ldmVyXHJcbiAgOiBUIGV4dGVuZHMgTWFwPGluZmVyIEssIGFueT5cclxuICA/IEtcclxuICA6IFQgZXh0ZW5kcyBXZWFrTWFwPGluZmVyIEssIGFueT5cclxuICA/IEtcclxuICA6IFQgZXh0ZW5kcyBTZXQ8aW5mZXIgSz5cclxuICA/IEtcclxuICA6IFQgZXh0ZW5kcyBXZWFrU2V0PGluZmVyIEs+XHJcbiAgPyBLXHJcbiAgOiBUIGV4dGVuZHMgcmVhZG9ubHkgYW55W11cclxuICA/IFN0cmluZ09yTnVtYmVyPGtleW9mIFQgJiBgJHtudW1iZXJ9YD5cclxuICA6IGtleW9mIFQ7XHJcblxyXG5leHBvcnQgdHlwZSBJbnB1dFZhbHVlVHlwZU9mPFQsIEsgPSBLZXlUeXBlT2Y8VD4+ID0gdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIFNldDxhbnk+XHJcbiAgPyB1bmtub3duXHJcbiAgOiBWYWx1ZVR5cGVPZjxULCBLPjtcclxuXHJcbmV4cG9ydCB0eXBlIFZhbHVlVHlwZU9mPFQsIEsgPSBLZXlUeXBlT2Y8VD4+ID0gdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIE1hcDxpbmZlciBNYXBLZXksIGluZmVyIFY+XHJcbiAgPyBLIGV4dGVuZHMgTWFwS2V5XHJcbiAgICA/IFYgfCB1bmRlZmluZWRcclxuICAgIDogbmV2ZXJcclxuICA6IFQgZXh0ZW5kcyBXZWFrTWFwPGluZmVyIE1hcEtleSwgaW5mZXIgVj5cclxuICA/IEsgZXh0ZW5kcyBNYXBLZXlcclxuICAgID8gViB8IHVuZGVmaW5lZFxyXG4gICAgOiBuZXZlclxyXG4gIDogVCBleHRlbmRzIFNldDxhbnk+IHwgV2Vha1NldDxhbnk+XHJcbiAgPyBib29sZWFuXHJcbiAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gID8gbmV2ZXJcclxuICA6IHVua25vd24gZXh0ZW5kcyBLXHJcbiAgPyBUW0tleVR5cGVPZjxUPiAmIGtleW9mIFRdXHJcbiAgOiBLIGV4dGVuZHMgS2V5VHlwZU9mPFQ+XHJcbiAgPyBUW0sgJiBrZXlvZiBUXVxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBFbnRyeVR5cGVPZjxTb3VyY2U+ID0gdW5rbm93biBleHRlbmRzIFNvdXJjZVxyXG4gID8gcmVhZG9ubHkgW2FueSwgYW55XVxyXG4gIDogS2V5VHlwZU9mPFNvdXJjZT4gZXh0ZW5kcyBpbmZlciBLXHJcbiAgPyByZWFkb25seSBbSywgVmFsdWVUeXBlT2Y8U291cmNlLCBLPl1cclxuICA6IG5ldmVyO1xyXG5cclxuZXhwb3J0IHR5cGUgT2JqZWN0RnJvbUVudHJpZXM8XHJcbiAgRW50cmllcyBleHRlbmRzIEtleVZhbHVlVHlwZUxpa2U8YW55LCBhbnk+IHwgTnVsbGlzaFxyXG4+ID0gVW5pb25Ub0ludGVyc2VjdGlvbjxcclxuICBFbnRyaWVzIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEtleSBleHRlbmRzIGtleW9mIGFueSwgaW5mZXIgVmFsdWUsIC4uLmFueV1cclxuICAgID8geyBbUCBpbiBLZXldOiBWYWx1ZSB9XHJcbiAgICA6IHt9XHJcbj4gZXh0ZW5kcyBpbmZlciBUXHJcbiAgPyB7IFtQIGluIGtleW9mIFRdOiBUW1BdIH1cclxuICA6IG5ldmVyO1xyXG5cclxuZXhwb3J0IHR5cGUgTWFwRnJvbUVudHJpZXM8RW50cmllcyBleHRlbmRzIHJlYWRvbmx5IFthbnksIGFueV0gfCBOdWxsaXNoPiA9IFtcclxuICBFbnRyaWVzIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEtleSwgaW5mZXIgVmFsdWVdXHJcbiAgICA/IFtLZXksIFZhbHVlXVxyXG4gICAgOiBbbmV2ZXIsIG5ldmVyXVxyXG5dIGV4dGVuZHMgW1tpbmZlciBLZXksIGluZmVyIFZhbHVlXV1cclxuICA/IE1hcDxLZXksIFZhbHVlPlxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBPYmplY3RTb3VyY2VUb09iamVjdDxTb3VyY2U+ID0gU291cmNlIGV4dGVuZHMgRmFsc2lzaFxyXG4gID8ge31cclxuICA6IFNvdXJjZSBleHRlbmRzIEl0ZXJhYmxlPEZhbHNpc2ggfCBpbmZlciBLdiBleHRlbmRzIEtleVZhbHVlVHlwZUxpa2U+XHJcbiAgPyBPYmplY3RGcm9tRW50cmllczxLdj5cclxuICA6IFNvdXJjZTtcclxuXHJcbmV4cG9ydCB0eXBlIEl0ZXJhdGlvblJlc3VsdEFycmF5PEl0PiA9IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgW0l0ZXJhdG9ySXRlbTI8SXQ+XSBleHRlbmRzIFtuZXZlcl0gPyB1bmRlZmluZWQgOiBJdGVyYXRvckl0ZW0yPEl0PltdLFxyXG4gIEl0XHJcbj47XHJcblxyXG5leHBvcnQgdHlwZSBEZWZhdWx0QXNzaWduVmFsdWU8XHJcbiAgVCxcclxuICBLIGV4dGVuZHMgS2V5VHlwZU9mPFQ+ID0gS2V5VHlwZU9mPFQ+XHJcbj4gPSBUIGV4dGVuZHMgU2V0PGFueT4gfCBXZWFrU2V0PGFueT5cclxuICA/IHRydWVcclxuICA6IHVuZGVmaW5lZCBleHRlbmRzIFZhbHVlVHlwZU9mPFQsIEs+XHJcbiAgPyB1bmRlZmluZWRcclxuICA6IG5ldmVyO1xyXG5cclxuLyoqIENvbnZlcnRzIGdlbmVyaWMgdHlwZXMgd2l0aCBgYW55YCBwYXJhbWV0ZXJzIHRvIHRoZWlyIHNwZWNpZmljIHR5cGVzLiBFLmcuIE1hcDxhbnksYW55PiB0byBNYXA8c3RyaW5nLG51bWJlcj4uICAqL1xyXG5leHBvcnQgdHlwZSBUb1NwZWNpZmljR2VuZXJpY1R5cGU8VmFsdWUsIFNwZWNpZmljVHlwZT4gPVxyXG4gIFNwZWNpZmljVHlwZSBleHRlbmRzIGluZmVyIFNwZWNpZmljVHlwZVxyXG4gICAgPyBWYWx1ZSBleHRlbmRzIFNwZWNpZmljVHlwZVxyXG4gICAgICA/IFNwZWNpZmljVHlwZVxyXG4gICAgICA6IG5ldmVyXHJcbiAgICA6IG5ldmVyO1xyXG5cclxuLyoqIFdyYXBzIHRoZSB2YWx1ZSBpbiBhIHByb21pc2UgaWYgdGhlIGZ1bmN0aW9uIGlzIGFzeW5jLiAgKi9cclxuZXhwb3J0IHR5cGUgUHJvbWlzZUlmQXN5bmM8VmFsdWUsIEY+ID0gRiBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFJcclxuICA/IHVua25vd24gZXh0ZW5kcyBSXHJcbiAgICA/IGFueVxyXG4gICAgOiBSIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PlxyXG4gICAgPyBQcm9taXNlPFZhbHVlPlxyXG4gICAgOiBWYWx1ZVxyXG4gIDogbmV2ZXI7XHJcblxyXG4vLyAjcmVnaW9uIHJlZ2lvbl9zaW1wbGVfb2JqZWN0c1xyXG5cclxudHlwZSBTcGVjaWZpY0tleXM8SyBleHRlbmRzIGtleW9mIGFueT4gPSBLIGV4dGVuZHMga2V5b2YgYW55XHJcbiAgPyBzdHJpbmcgZXh0ZW5kcyBLXHJcbiAgICA/IG5ldmVyXHJcbiAgICA6IG51bWJlciBleHRlbmRzIEtcclxuICAgID8gbmV2ZXJcclxuICAgIDogc3ltYm9sIGV4dGVuZHMgS1xyXG4gICAgPyBuZXZlclxyXG4gICAgOiBLXHJcbiAgOiBuZXZlcjtcclxuXHJcbnR5cGUgR2VuZXJpY0tleXM8SyBleHRlbmRzIGtleW9mIGFueT4gPSBLIGV4dGVuZHMga2V5b2YgYW55XHJcbiAgPyBzdHJpbmcgZXh0ZW5kcyBLXHJcbiAgICA/IEtcclxuICAgIDogbnVtYmVyIGV4dGVuZHMgS1xyXG4gICAgPyBLXHJcbiAgICA6IHN5bWJvbCBleHRlbmRzIEtcclxuICAgID8gS1xyXG4gICAgOiBuZXZlclxyXG4gIDogbmV2ZXI7XHJcblxyXG50eXBlIE9wdGlvbmFsS2V5czxULCBLIGV4dGVuZHMga2V5b2YgVCA9IGtleW9mIFQ+ID0gSyBleHRlbmRzIGtleW9mIFRcclxuICA/IHsgW1AgaW4gS10/OiBUW0tdIH0gZXh0ZW5kcyBQaWNrPFQsIEs+XHJcbiAgICA/IEtcclxuICAgIDogbmV2ZXJcclxuICA6IG5ldmVyO1xyXG5cclxudHlwZSBSZXF1aXJlZEtleXM8VD4gPSBFeGNsdWRlPGtleW9mIFQsIE9wdGlvbmFsS2V5czxUPj47XHJcblxyXG50eXBlIF9EaXNwYXRjaE1lcmdlUmVjb3JkczxUMSwgVDIsIE1lcmdlUmVjb3JkcywgT3ZlcndyaXRlLCBPdmVyd3JpdGVOdWxscz4gPVxyXG4gIFQxIGV4dGVuZHMgRmFsc2lzaFxyXG4gICAgPyBUMlxyXG4gICAgOiBUMiBleHRlbmRzIEZhbHNpc2hcclxuICAgID8gVDFcclxuICAgIDogX01lcmdlUmVjb3JkczI8VDEsIFQyLCBNZXJnZVJlY29yZHMsIE92ZXJ3cml0ZSwgT3ZlcndyaXRlTnVsbHM+O1xyXG5cclxudHlwZSBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gIFQxUCxcclxuICBUMlAsXHJcbiAgRGVlcCxcclxuICBPdmVyd3JpdGUsXHJcbiAgT3ZlcndyaXRlTnVsbHMsXHJcbiAgRGVmYXVsdFxyXG4+ID0gRGVlcCBleHRlbmRzIHRydWVcclxuICA/IFQxUCBleHRlbmRzIFNpbXBsZU9iamVjdFxyXG4gICAgPyBUMlAgZXh0ZW5kcyBTaW1wbGVPYmplY3RcclxuICAgICAgPyBfRGlzcGF0Y2hNZXJnZVJlY29yZHM8VDFQLCBUMlAsIHRydWUsIE92ZXJ3cml0ZSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgIDogRGVmYXVsdFxyXG4gICAgOiBEZWZhdWx0XHJcbiAgOiBEZWZhdWx0O1xyXG5cclxudHlwZSBfT3ZlcndyaXRlTnVsbDxWMSwgVjIsIFRvZ2dsZT4gPSBUb2dnbGUgZXh0ZW5kcyB0cnVlXHJcbiAgPyBWMSBleHRlbmRzIG51bGxcclxuICAgID8gVjJcclxuICAgIDogVjFcclxuICA6IFYxO1xyXG50eXBlIF9NZXJnZVJlY29yZHMyPFxyXG4gIFQxLFxyXG4gIFQyLFxyXG4gIERlZXAsXHJcbiAgT3ZlcndyaXRlLFxyXG4gIE92ZXJ3cml0ZU51bGxzLFxyXG4gIE8xIGV4dGVuZHMga2V5b2YgVDEgPSBPcHRpb25hbEtleXM8VDE+LFxyXG4gIE8yIGV4dGVuZHMga2V5b2YgVDIgPSBPcHRpb25hbEtleXM8VDI+LFxyXG4gIFIxIGV4dGVuZHMga2V5b2YgVDEgPSBSZXF1aXJlZEtleXM8VDE+LFxyXG4gIFIyIGV4dGVuZHMga2V5b2YgVDIgPSBSZXF1aXJlZEtleXM8VDI+XHJcbj4gPSBQaWNrPFQxLCBFeGNsdWRlPGtleW9mIFQxLCBTcGVjaWZpY0tleXM8a2V5b2YgVDI+Pj4gJlxyXG4gIFBpY2s8VDIsIEV4Y2x1ZGU8a2V5b2YgVDIsIFNwZWNpZmljS2V5czxrZXlvZiBUMT4+PiAmIHtcclxuICAgIC8vIFJlc3VsdGluZyBwcm9wZXJ0eSBtYXkgYmUgb3B0aW9uYWwgb25seSBpZiBib3RoIG9wdGlvbmFsIGluIFQxIGFuZCBUMlxyXG4gICAgW1AgaW4gTzEgJiBPMl0/OlxyXG4gICAgICB8IF9PdmVyd3JpdGVOdWxsPFQxW1BdLCBUMltQXSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgIHwgVDJbUF1cclxuICAgICAgfCBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICAgICAgVDFbUF0sXHJcbiAgICAgICAgICBUMltQXSxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxscyxcclxuICAgICAgICAgIG5ldmVyXHJcbiAgICAgICAgPjtcclxuICB9ICYge1xyXG4gICAgLy8gQ2FuIG9ubHkgYmUgVDEgaWYgb3ZlcndyaXRlPWZhbHNlXHJcbiAgICBbUCBpbiBPMSAmIFIyXTpcclxuICAgICAgfCBUMltQXVxyXG4gICAgICB8IF9NZXJnZVJlY29yZHNJZlJlY29yZHM8XHJcbiAgICAgICAgICBUMVtQXSxcclxuICAgICAgICAgIFQyW1BdLFxyXG4gICAgICAgICAgRGVlcCxcclxuICAgICAgICAgIE92ZXJ3cml0ZSxcclxuICAgICAgICAgIE92ZXJ3cml0ZU51bGxzLFxyXG4gICAgICAgICAgT3ZlcndyaXRlIGV4dGVuZHMgZmFsc2VcclxuICAgICAgICAgICAgPyBFeGNsdWRlPFxyXG4gICAgICAgICAgICAgICAgX092ZXJ3cml0ZU51bGw8VDFbUF0sIFQyW1BdLCBPdmVyd3JpdGVOdWxscz4sXHJcbiAgICAgICAgICAgICAgICBTaW1wbGVPYmplY3QgfCB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDogbmV2ZXJcclxuICAgICAgICA+O1xyXG4gIH0gJiB7XHJcbiAgICAvLyBXaWxsIG5ldmVyIGJlIFQyIGlmIG92ZXJ3cml0ZT1mYWxzZVxyXG4gICAgW1AgaW4gUjEgJiBPMl06XHJcbiAgICAgIHwgX092ZXJ3cml0ZU51bGw8VDFbUF0sIFQyW1BdLCBPdmVyd3JpdGVOdWxscz5cclxuICAgICAgfCBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICAgICAgVDFbUF0sXHJcbiAgICAgICAgICBUMltQXSxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxscyxcclxuICAgICAgICAgIE92ZXJ3cml0ZSBleHRlbmRzIGZhbHNlID8gbmV2ZXIgOiBFeGNsdWRlPFQyW1BdLCBTaW1wbGVPYmplY3Q+XHJcbiAgICAgICAgPjtcclxuICB9ICYge1xyXG4gICAgLy8gT3ZlcndyaXRlIGRlY2lkZXMgd2hldGhlciB0aGUgdmFsdWUgaXMgVDEgb3IgVDJcclxuICAgIFtQIGluIFIxICYgUjJdOiBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICBUMVtQXSxcclxuICAgICAgVDJbUF0sXHJcbiAgICAgIERlZXAsXHJcbiAgICAgIE92ZXJ3cml0ZSxcclxuICAgICAgT3ZlcndyaXRlTnVsbHMsXHJcbiAgICAgIEV4Y2x1ZGU8XHJcbiAgICAgICAgT3ZlcndyaXRlIGV4dGVuZHMgZmFsc2VcclxuICAgICAgICAgID9cclxuICAgICAgICAgICAgICB8IF9PdmVyd3JpdGVOdWxsPFQxW1BdLCBUMltQXSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgICAgICAgICAgfCBUMltHZW5lcmljS2V5czxSMT4gJiBrZXlvZiBUMl1cclxuICAgICAgICAgIDpcclxuICAgICAgICAgICAgICB8IF9PdmVyd3JpdGVOdWxsPFxyXG4gICAgICAgICAgICAgICAgICBUMVtHZW5lcmljS2V5czxSMj4gJiBrZXlvZiBUMV0sXHJcbiAgICAgICAgICAgICAgICAgIFQyW1BdLFxyXG4gICAgICAgICAgICAgICAgICBPdmVyd3JpdGVOdWxsc1xyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHwgVDJbUF0sXHJcbiAgICAgICAgU2ltcGxlT2JqZWN0XHJcbiAgICAgID5cclxuICAgID47XHJcbiAgfSBleHRlbmRzIGluZmVyIFRcclxuICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBNZXJnZU9iamVjdFNvdXJjZXM8XHJcbiAgVGFyZ2V0LFxyXG4gIFNvdXJjZXMsXHJcbiAgRGVlcCxcclxuICBPdmVyd3JpdGUsXHJcbiAgT3ZlcndyaXRlTnVsbHNcclxuPiA9IChcclxuICBTb3VyY2VzIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIFQsIC4uLmluZmVyIFJlc3RdXHJcbiAgICA/IFQgZXh0ZW5kcyBpbmZlciBUXHJcbiAgICAgID8gTWVyZ2VPYmplY3RTb3VyY2VzPFxyXG4gICAgICAgICAgX0Rpc3BhdGNoTWVyZ2VSZWNvcmRzPFxyXG4gICAgICAgICAgICBUYXJnZXQsXHJcbiAgICAgICAgICAgIE9iamVjdFNvdXJjZVRvT2JqZWN0PFQ+LFxyXG4gICAgICAgICAgICBEZWVwLFxyXG4gICAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICAgIE92ZXJ3cml0ZU51bGxzXHJcbiAgICAgICAgICA+LFxyXG4gICAgICAgICAgUmVzdCxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxsc1xyXG4gICAgICAgID5cclxuICAgICAgOiBuZXZlclxyXG4gICAgOiBTb3VyY2VzIGV4dGVuZHMgRmFsc2lzaCB8IHJlYWRvbmx5IFtdXHJcbiAgICA/IFRhcmdldFxyXG4gICAgOiBfRGlzcGF0Y2hNZXJnZVJlY29yZHM8XHJcbiAgICAgICAgVGFyZ2V0LFxyXG4gICAgICAgIE9iamVjdFNvdXJjZVRvT2JqZWN0PFNvdXJjZXM+LFxyXG4gICAgICAgIERlZXAsXHJcbiAgICAgICAgT3ZlcndyaXRlLFxyXG4gICAgICAgIE92ZXJ3cml0ZU51bGxzXHJcbiAgICAgID5cclxuKSBleHRlbmRzIGluZmVyIFRcclxuICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxyXG4gIDogbmV2ZXI7XHJcblxyXG4vLyAjZW5kcmVnaW9uXHJcblxyXG5jb25zdCBnZXRSb290UHJvdG90eXBlID0gKHZhbHVlOiBhbnkpID0+IHtcclxuICBsZXQgcHJvdG8gPSB2YWx1ZTtcclxuICB3aGlsZSAocHJvdG8pIHtcclxuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKCh2YWx1ZSA9IHByb3RvKSk7XHJcbiAgfVxyXG4gIHJldHVybiB2YWx1ZTtcclxufTtcclxuY29uc3QgZmluZFByb3RvdHlwZUZyYW1lID0gKFxyXG4gIGZyYW1lV2luZG93OiBXaW5kb3cgfCBudWxsLFxyXG4gIG1hdGNoUHJvdG90eXBlOiBhbnlcclxuKSA9PiB7XHJcbiAgaWYgKCFmcmFtZVdpbmRvdyB8fCBnZXRSb290UHJvdG90eXBlKGZyYW1lV2luZG93KSA9PT0gbWF0Y2hQcm90b3R5cGUpIHtcclxuICAgIHJldHVybiBmcmFtZVdpbmRvdztcclxuICB9XHJcbiAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZVdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChmcmFtZVdpbmRvdyA9IGZpbmRQcm90b3R5cGVGcmFtZShmcmFtZS5jb250ZW50V2luZG93LCBtYXRjaFByb3RvdHlwZSkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBmcmFtZVdpbmRvdztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBDcm9zcyBkb21haW4gaXNzdWUuXHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdoZW4gaW4gaWZyYW1lcywgd2UgbmVlZCB0byBjb3B5IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIHRoZSBnbG9iYWwgc2NvcGUncyBwcm90b3R5cGVzIHNpbmNlLFxyXG4gKiBlLmcuLCBgT2JqZWN0YCBpbiBhbiBpZnJhbWUgaXMgZGlmZmVyZW50IGZyb20gYE9iamVjdGAgaW4gdGhlIHRvcCBmcmFtZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBmaW5kRGVjbGFyaW5nU2NvcGUgPSAodGFyZ2V0OiBhbnkpID0+XHJcbiAgdGFyZ2V0ID09IG51bGxcclxuICAgID8gdGFyZ2V0XHJcbiAgICA6IGdsb2JhbFRoaXMud2luZG93XHJcbiAgICA/IGZpbmRQcm90b3R5cGVGcmFtZSh3aW5kb3csIGdldFJvb3RQcm90b3R5cGUodGFyZ2V0KSlcclxuICAgIDogZ2xvYmFsVGhpcztcclxuIiwiaW1wb3J0IHtcclxuICBBc3luY0l0ZXJhdGlvbkl0ZW0sXHJcbiAgQXN5bmNJdGVyYXRpb25Qcm9qZWN0aW9uMixcclxuICBBc3luY0l0ZXJhdGlvblNvdXJjZSxcclxuICBBc3luY0l0ZXJhdGlvblNvdXJjZU9mLFxyXG4gIEFzeW5jSXRQcm9qZWN0aW9uLFxyXG4gIEZhbHNpc2gsXHJcbiAgZ2V0MixcclxuICBpc0FycmF5LFxyXG4gIGlzSXRlcmFibGUsXHJcbiAgaXNQcm9taXNlTGlrZSxcclxuICBpdGVtaXplMixcclxuICBJdGVyYXRpb25GaWx0ZXJDYWxsYmFjazIsXHJcbiAgSXRlcmF0aW9uUHJvamVjdGVkLFxyXG4gIEl0ZXJhdGlvblByb2plY3Rpb24yLFxyXG4gIEl0ZXJhdGlvblNvdXJjZSxcclxuICBJdGVyYXRpb25Tb3VyY2VPZixcclxuICBJdGVyYXRpb25UeXBlR3VhcmRDYWxsYmFjazIsXHJcbiAgSXRlcmF0b3JJdGVtMixcclxuICBNYXliZUFycmF5LFxyXG4gIE1heWJlTnVsbGlzaCxcclxuICBNYXliZU51bGxpc2hPckZhbHNlLFxyXG4gIE51bGxpc2gsXHJcbiAgTnVsbGlzaE9yRmFsc2UsXHJcbiAgT2JqZWN0U291cmNlLFxyXG4gIFNvcnRhYmxlLFxyXG4gIHN5bWJvbEFzeW5jSXRlcmF0b3IsXHJcbiAgdGhyb3dFcnJvcixcclxuICBUb2dnbGVBcnJheSxcclxuICBUdXBsZU9yQXJyYXksXHJcbiAgVW53cmFwUHJvbWlzZUxpa2UsXHJcbn0gZnJvbSBcIi4uXCI7XHJcbmltcG9ydCB7XHJcbiAgRW5jb3VyYWdlVHVwbGVzLFxyXG4gIGZpbmREZWNsYXJpbmdTY29wZSxcclxuICBJdGVyYXRpb25SZXN1bHRBcnJheSxcclxuICBLZXlWYWx1ZVR5cGUsXHJcbiAgT2JqZWN0U291cmNlVG9PYmplY3QsXHJcbiAgU2VsZWN0b3IsXHJcbn0gZnJvbSBcIi4vX2ludGVybmFsXCI7XHJcblxyXG5sZXQgc3RvcEludm9rZWQgPSBmYWxzZTtcclxuY29uc3Qgc3RvcFN5bWJvbCA9IFN5bWJvbCgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNraXAyID0gU3ltYm9sKCk7XHJcbmV4cG9ydCBjb25zdCBzdG9wMjogKDxUID0gYW55Pih2YWx1ZTogVCkgPT4gVCkgJiB0eXBlb2Ygc3RvcFN5bWJvbCA9ICg8VD4oXHJcbiAgdmFsdWU6IFRcclxuKSA9PiAoKHN0b3BJbnZva2VkID0gdHJ1ZSksIHZhbHVlKSkgYXMgYW55O1xyXG5cclxuLy8gI3JlZ2lvbiByZWdpb25faXRlcmF0b3JfaW1wbGVtZW50YXRpb25zXHJcbmNvbnN0IGZvckVhY2hTeW1ib2wgPSBTeW1ib2woKTtcclxuY29uc3QgYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2wgPSBTeW1ib2woKTtcclxuY29uc3Qgc3ltYm9sSXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3I7XHJcblxyXG4vLyBQcm90b3R5cGUgZXh0ZW5zaW9ucyBhcmUgYXNzaWduZWQgb24tZGVtYW5kIHRvIGV4Y2x1ZGUgdGhlbSB3aGVuIHRyZWUtc2hha2luZyBjb2RlIHRoYXQgYXJlIG5vdCB1c2luZyBhbnkgb2YgdGhlIGl0ZXJhdG9ycy5cclxuY29uc3QgZW5zdXJlRm9yRWFjaEltcGxlbWVudGF0aW9ucyA9IDxSPihcclxuICB0YXJnZXQ6IGFueSxcclxuICBlcnJvcjogYW55LFxyXG4gIHJldHJ5OiAoKSA9PiBSXHJcbik6IFIgPT4ge1xyXG4gIGlmICh0YXJnZXQgPT0gbnVsbCB8fCB0YXJnZXQ/Lltmb3JFYWNoU3ltYm9sXSkge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG4gIGxldCBzY29wZSA9IGZpbmREZWNsYXJpbmdTY29wZSh0YXJnZXQpO1xyXG4gIGlmICghc2NvcGUpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZm9yRWFjaEl0ZXJhYmxlOiAoKSA9PiBGb3JFYWNoRnVuY3Rpb24gPVxyXG4gICAgLy8gRmFjdG9yeSB0byBnZW5lcmF0ZSBzZXBhcmF0ZSBmdW5jdGlvbnMgZm9yIGVhY2ggcHJvdG90eXBlLiBKYXZhU2NyaXB0IEpJVCBjb21waWxlcnMgcHJvYmFibHkgbGlrZSB0aGF0LlxyXG4gICAgKCkgPT4gKHRhcmdldCwgcHJvamVjdGlvbiwgbWFwcGVkLCBzZWVkLCBjb250ZXh0KSA9PiB7XHJcbiAgICAgIGxldCBwcm9qZWN0ZWQ6IGFueSxcclxuICAgICAgICBpID0gMDtcclxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRhcmdldCkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChwcm9qZWN0ZWQgPSBwcm9qZWN0aW9uXHJcbiAgICAgICAgICAgID8gcHJvamVjdGlvbihpdGVtLCBpKyssIHNlZWQsIGNvbnRleHQpXHJcbiAgICAgICAgICAgIDogaXRlbSkgIT09IHNraXAyXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAocHJvamVjdGVkID09PSBzdG9wMikge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlZWQgPSBwcm9qZWN0ZWQ7XHJcbiAgICAgICAgICBpZiAobWFwcGVkKSBtYXBwZWQucHVzaChwcm9qZWN0ZWQpO1xyXG4gICAgICAgICAgaWYgKHN0b3BJbnZva2VkKSB7XHJcbiAgICAgICAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbWFwcGVkIHx8IHNlZWQ7XHJcbiAgICB9O1xyXG5cclxuICBzY29wZS5BcnJheS5wcm90b3R5cGVbZm9yRWFjaFN5bWJvbF0gPSAoKFxyXG4gICAgdGFyZ2V0OiBhbnlbXSxcclxuICAgIHByb2plY3Rpb24sXHJcbiAgICBtYXBwZWQsXHJcbiAgICBzZWVkLFxyXG4gICAgY29udGV4dFxyXG4gICkgPT4ge1xyXG4gICAgbGV0IHByb2plY3RlZDogYW55LCBpdGVtOiBhbnk7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IHRhcmdldC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgaXRlbSA9IHRhcmdldFtpXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChwcm9qZWN0ZWQgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpLCBzZWVkLCBjb250ZXh0KSA6IGl0ZW0pICE9PVxyXG4gICAgICAgIHNraXAyXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChwcm9qZWN0ZWQgPT09IHN0b3AyKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VlZCA9IHByb2plY3RlZDtcclxuICAgICAgICBpZiAobWFwcGVkKSB7XHJcbiAgICAgICAgICBtYXBwZWQucHVzaChwcm9qZWN0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RvcEludm9rZWQpIHtcclxuICAgICAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtYXBwZWQgfHwgc2VlZDtcclxuICB9KSBzYXRpc2ZpZXMgRm9yRWFjaEZ1bmN0aW9uO1xyXG5cclxuICBjb25zdCBnZW5lcmljRm9yRWFjaEl0ZXJhYmxlID0gZm9yRWFjaEl0ZXJhYmxlKCk7XHJcbiAgc2NvcGUuT2JqZWN0LnByb3RvdHlwZVtmb3JFYWNoU3ltYm9sXSA9ICgoXHJcbiAgICB0YXJnZXQsXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgbWFwcGVkLFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApID0+IHtcclxuICAgIGlmICh0YXJnZXRbc3ltYm9sSXRlcmF0b3JdKSB7XHJcbiAgICAgIGlmICh0YXJnZXQuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmljRm9yRWFjaEl0ZXJhYmxlKFxyXG4gICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgcHJvamVjdGlvbixcclxuICAgICAgICAgIG1hcHBlZCxcclxuICAgICAgICAgIHNlZWQsXHJcbiAgICAgICAgICBjb250ZXh0XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpW2ZvckVhY2hTeW1ib2xdID0gZm9yRWFjaEl0ZXJhYmxlKCkpKFxyXG4gICAgICAgIHRhcmdldCxcclxuICAgICAgICBwcm9qZWN0aW9uLFxyXG4gICAgICAgIG1hcHBlZCxcclxuICAgICAgICBzZWVkLFxyXG4gICAgICAgIGNvbnRleHRcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGxldCBwcm9qZWN0ZWQ6IGFueSxcclxuICAgICAgaXRlbTogYW55LFxyXG4gICAgICBpID0gMDtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xyXG4gICAgICBpdGVtID0gW2tleSwgdGFyZ2V0W2tleV1dO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHByb2plY3RlZCA9IHByb2plY3Rpb25cclxuICAgICAgICAgID8gcHJvamVjdGlvbihpdGVtLCBpKyssIHNlZWQsIGNvbnRleHQpXHJcbiAgICAgICAgICA6IGl0ZW0pICE9PSBza2lwMlxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAocHJvamVjdGVkID09PSBzdG9wMikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlZWQgPSBwcm9qZWN0ZWQ7XHJcbiAgICAgICAgaWYgKG1hcHBlZCkgbWFwcGVkLnB1c2gocHJvamVjdGVkKTtcclxuICAgICAgICBpZiAoc3RvcEludm9rZWQpIHtcclxuICAgICAgICAgIHN0b3BJbnZva2VkID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtYXBwZWQgfHwgc2VlZDtcclxuICB9KSBzYXRpc2ZpZXMgRm9yRWFjaEZ1bmN0aW9uO1xyXG5cclxuICBzY29wZS5PYmplY3QucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzW3N5bWJvbEl0ZXJhdG9yXSB8fCB0aGlzW3N5bWJvbEFzeW5jSXRlcmF0b3JdKSB7XHJcbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1tzeW1ib2xBc3luY0l0ZXJhdG9yXSgpID8/IHRoaXNbc3ltYm9sSXRlcmF0b3JdKCk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XHJcbiAgICAgIHByb3RvW2FzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sXSA9XHJcbiAgICAgICAgcHJvdG9bc3ltYm9sQXN5bmNJdGVyYXRvcl0gPz8gcHJvdG9bc3ltYm9sSXRlcmF0b3JdO1xyXG4gICAgICByZXR1cm4gdGhpc1thc3luY0l0ZXJhdG9yRmFjdG9yeVN5bWJvbF0oKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZUVudHJpZXModGhpcyk7XHJcbiAgfTtcclxuXHJcbiAgZm9yIChjb25zdCBwcm90byBvZiBbXHJcbiAgICBzY29wZS5NYXAucHJvdG90eXBlLFxyXG4gICAgc2NvcGUuV2Vha01hcC5wcm90b3R5cGUsXHJcbiAgICBzY29wZS5TZXQucHJvdG90eXBlLFxyXG4gICAgc2NvcGUuV2Vha1NldC5wcm90b3R5cGUsXHJcbiAgICAvLyBHZW5lcmF0b3IgZnVuY3Rpb25cclxuICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihmdW5jdGlvbiogKCkge30pLFxyXG4gIF0pIHtcclxuICAgIHByb3RvW2ZvckVhY2hTeW1ib2xdID0gZm9yRWFjaEl0ZXJhYmxlKCk7XHJcbiAgICBwcm90b1thc3luY0l0ZXJhdG9yRmFjdG9yeVN5bWJvbF0gPSBwcm90b1tzeW1ib2xJdGVyYXRvcl07XHJcbiAgfVxyXG5cclxuICBzY29wZS5OdW1iZXIucHJvdG90eXBlW2ZvckVhY2hTeW1ib2xdID0gKChcclxuICAgIHRhcmdldCxcclxuICAgIHByb2plY3Rpb24sXHJcbiAgICBtYXBwZWQsXHJcbiAgICBzZWVkLFxyXG4gICAgY29udGV4dFxyXG4gICkgPT5cclxuICAgIGdlbmVyaWNGb3JFYWNoSXRlcmFibGUoXHJcbiAgICAgIHJhbmdlMih0YXJnZXQpLFxyXG4gICAgICBwcm9qZWN0aW9uLFxyXG4gICAgICBtYXBwZWQsXHJcbiAgICAgIHNlZWQsXHJcbiAgICAgIGNvbnRleHRcclxuICAgICkpIHNhdGlzZmllcyBGb3JFYWNoRnVuY3Rpb247XHJcbiAgc2NvcGUuTnVtYmVyLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yRmFjdG9yeVN5bWJvbF0gPSByYW5nZTI7XHJcblxyXG4gIHNjb3BlLkZ1bmN0aW9uLnByb3RvdHlwZVtmb3JFYWNoU3ltYm9sXSA9ICgoXHJcbiAgICB0YXJnZXQsXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgbWFwcGVkLFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApID0+XHJcbiAgICBnZW5lcmljRm9yRWFjaEl0ZXJhYmxlKFxyXG4gICAgICB0cmF2ZXJzZTIodGFyZ2V0KSxcclxuICAgICAgcHJvamVjdGlvbixcclxuICAgICAgbWFwcGVkLFxyXG4gICAgICBzZWVkLFxyXG4gICAgICBjb250ZXh0XHJcbiAgICApKSBzYXRpc2ZpZXMgRm9yRWFjaEZ1bmN0aW9uO1xyXG5cclxuICBzY29wZS5GdW5jdGlvbi5wcm90b3R5cGVbYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2xdID0gdHJhdmVyc2UyO1xyXG5cclxuICByZXR1cm4gcmV0cnkoKTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEZvckVhY2hGdW5jdGlvbiA9IChcclxuICB0YXJnZXQ6IGFueSxcclxuICBwcm9qZWN0aW9uOiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxhbnksIGFueSwgYW55PiB8IHVuZGVmaW5lZCxcclxuICBtYXBwZWQ6IGFueVtdIHwgdW5kZWZpbmVkLFxyXG4gIHNlZWQ6IGFueSxcclxuICBjb250ZXh0OiBhbnlcclxuKSA9PiBhbnk7XHJcblxyXG4vLyAjZW5kcmVnaW9uXHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIHJhbmdlMihsZW5ndGg6IG51bWJlciA9IHRoaXMpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB5aWVsZCBpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIHRyYXZlcnNlMihcclxuICBuZXh0OiA8VD4oY3VycmVudDogVCB8IHVuZGVmaW5lZCkgPT4gVCB8IE51bGxpc2ggPSB0aGlzXHJcbikge1xyXG4gIGxldCBpdGVtOiBhbnkgPSB1bmRlZmluZWQ7XHJcbiAgd2hpbGUgKChpdGVtID0gbmV4dChpdGVtKSkgIT09IHVuZGVmaW5lZCkgeWllbGQgaXRlbTtcclxufVxyXG5cclxuZnVuY3Rpb24qIGl0ZXJhdGVFbnRyaWVzKHNvdXJjZTogYW55KSB7XHJcbiAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XHJcbiAgICB5aWVsZCBba2V5LCBzb3VyY2Vba2V5XV07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZm9yRWFjaDI6IHtcclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlPihzb3VyY2U6IFNvdXJjZSk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBJdGVyYXRvckl0ZW0yPFNvdXJjZT4gfCB1bmRlZmluZWQsXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsXHJcbiAgICBDb250ZXh0ID0gU291cmNlXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjpcclxuICAgICAgfCBJdGVyYXRpb25Qcm9qZWN0aW9uMjxTb3VyY2UsIEFjY3VtdWxhdG9yLCBQcm9qZWN0ZWQgfCBTaWduYWwsIENvbnRleHQ+XHJcbiAgICAgIHwgTnVsbGlzaCxcclxuICAgIHNlZWQ/OiBBY2N1bXVsYXRvcixcclxuICAgIGNvbnRleHQ/OiBDb250ZXh0XHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkPiB8IHVuZGVmaW5lZCwgU291cmNlPjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSwgc2VlZD86IGFueSwgY29udGV4dD86IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gc291cmNlXHJcbiAgICAgID8gc291cmNlW2ZvckVhY2hTeW1ib2xdKHNvdXJjZSwgcHJvamVjdGlvbiwgdW5kZWZpbmVkLCBzZWVkLCBjb250ZXh0KVxyXG4gICAgICA6IHNvdXJjZSA9PSBudWxsXHJcbiAgICAgID8gc291cmNlXHJcbiAgICAgIDogdW5kZWZpbmVkO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgZm9yRWFjaDIoc291cmNlLCBwcm9qZWN0aW9uLCBzZWVkLCBjb250ZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgbGV0IG1hcDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyLCAvLyBPdGhlcndpc2UgUHJvamVjdGVkIG1heSBiZSBgc3ltYm9sYFxyXG4gICAgVGFyZ2V0ID0gdW5kZWZpbmVkLFxyXG4gICAgQ29udGV4dCA9IFNvdXJjZVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICB0YXJnZXQ/OiBUYXJnZXQgJiBJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkPltdLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdG9yLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBNYXliZU51bGxpc2hPckZhbHNlPFxyXG4gICAgSXRlcmF0aW9uUHJvamVjdGVkPFByb2plY3RlZD5bXSBleHRlbmRzIFRhcmdldFxyXG4gICAgICA/IFRhcmdldFxyXG4gICAgICA6IEl0ZXJhdGlvblByb2plY3RlZDxQcm9qZWN0ZWQ+W10sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG5cclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlT2Y8VD4sIFQsIFRhcmdldCA9IG5ldmVyW10+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uPzogdW5kZWZpbmVkIHwgbnVsbCxcclxuICAgIHRhcmdldD86IFRhcmdldCAmIFRbXSxcclxuICAgIHNlZWQ/OiBhbnksXHJcbiAgICBjb250ZXh0PzogYW55XHJcbiAgKTogVGFyZ2V0IGV4dGVuZHMgbmV2ZXJbXSA/IEl0ZXJhdGlvblJlc3VsdEFycmF5PFNvdXJjZT4gOiBUYXJnZXQ7XHJcbn0gPSAoXHJcbiAgc291cmNlOiBhbnksXHJcbiAgcHJvamVjdGlvbj86IGFueSxcclxuICB0YXJnZXQgPSBbXSxcclxuICBzZWVkPzogYW55LFxyXG4gIGNvbnRleHQgPSBzb3VyY2VcclxuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiAhc291cmNlICYmIHNvdXJjZSAhPT0gMCAmJiBzb3VyY2UgIT09IFwiXCJcclxuICAgICAgPyBzb3VyY2UgPT0gbnVsbFxyXG4gICAgICAgID8gc291cmNlXHJcbiAgICAgICAgOiB1bmRlZmluZWRcclxuICAgICAgOiBzb3VyY2VbZm9yRWFjaFN5bWJvbF0oc291cmNlLCBwcm9qZWN0aW9uLCB0YXJnZXQsIHNlZWQsIGNvbnRleHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgbWFwMihzb3VyY2UsIHByb2plY3Rpb24sIHRhcmdldCwgc2VlZCwgY29udGV4dClcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGJhdGNoMiA9IDxULCBBcmc+KFxyXG4gIHNvdXJjZTogQXJnICYgSXRlcmFibGU8VD4sXHJcbiAgYmF0Y2hTaXplOiBudW1iZXJcclxuKTogTWF5YmVOdWxsaXNoPFRbXVtdLCBBcmc+ID0+IHtcclxuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiBzb3VyY2U7XHJcblxyXG4gIGNvbnN0IGJhdGNoZXM6IFRbXVtdID0gW107XHJcbiAgbGV0IGJhdGNoOiBUW10gPSBbXTtcclxuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlKSB7XHJcbiAgICBiYXRjaC5wdXNoKGl0ZW0pO1xyXG4gICAgaWYgKGJhdGNoLmxlbmd0aCA9PT0gYmF0Y2hTaXplKSB7XHJcbiAgICAgIGJhdGNoZXMucHVzaChiYXRjaCk7XHJcbiAgICAgIGJhdGNoID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChiYXRjaC5sZW5ndGggPiAwKSB7XHJcbiAgICBiYXRjaGVzLnB1c2goYmF0Y2gpO1xyXG4gIH1cclxuICByZXR1cm4gYmF0Y2hlcyBhcyBhbnk7XHJcbn07XHJcblxyXG50eXBlIEZpbHRlclRydWlzaDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+ID0gVCBleHRlbmRzIHJlYWRvbmx5IFtcclxuICBpbmZlciBULFxyXG4gIC4uLmluZmVyIFJlc3RcclxuXVxyXG4gID8gVCBleHRlbmRzIEZhbHNpc2hcclxuICAgID8gRmlsdGVyVHJ1aXNoPFJlc3Q+XHJcbiAgICA6IFtULCAuLi5GaWx0ZXJUcnVpc2g8UmVzdD5dXHJcbiAgOiBUIGV4dGVuZHMgcmVhZG9ubHkgW11cclxuICA/IFtdXHJcbiAgOiBUIGV4dGVuZHMgcmVhZG9ubHkgKGluZmVyIFQpW11cclxuICA/IEV4Y2x1ZGU8VCwgRmFsc2lzaD5bXVxyXG4gIDogbmV2ZXI7XHJcblxyXG4vKiogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIHRoZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIG5vdCBmYWxzZSdpc2ggKi9cclxuZXhwb3J0IGNvbnN0IHRydWlzaDI6IHtcclxuICA8VmFsdWVzIGV4dGVuZHMgVHVwbGVPckFycmF5PHt9IHwgRmFsc2lzaD4+KFxyXG4gICAgdmFsdWVzOiBWYWx1ZXNcclxuICApOiBGaWx0ZXJUcnVpc2g8VmFsdWVzPjtcclxuICA8VmFsdWVzIGV4dGVuZHMgcmVhZG9ubHkgKHt9IHwgRmFsc2lzaClbXT4oXHJcbiAgICAuLi52YWx1ZXM6IFZhbHVlc1xyXG4gICk6IEZpbHRlclRydWlzaDxWYWx1ZXM+O1xyXG59ID0gKC4uLnZhbHVlczogYW55W10pID0+XHJcbiAgZmlsdGVyMih2YWx1ZXMubGVuZ3RoID09PSAxID8gdmFsdWVzWzBdIDogdmFsdWVzLCBmYWxzZSkgYXMgYW55O1xyXG5cclxuZXhwb3J0IGxldCBmaWx0ZXIyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSwgU3RyaWN0IGV4dGVuZHMgYm9vbGVhbiA9IHRydWU+KFxyXG4gICAgdGFyZ2V0OiBTb3VyY2UsXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdG8gZmlsdGVyIG91dCBvbmx5IGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgb3IgYWxsIGZhbHNlJ2lzaCB2YWx1ZXMgKGBudWxsYCwgYHVuZGVmaW5lZGAsIGBmYWxzZWAsIGBcIlwiYCBhbmQgYDBgKS5cclxuICAgICAqIElmIHRoZSBsYXR0ZXIgYmVoYXZpb3IgaXMgcHJlZmVycmVkLCB5b3UgY2FuIGFsc28gdXNlIHtAbGluayB0cnVpc2gyfS5cclxuICAgICAqXHJcbiAgICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICAgKi9cclxuICAgIHN0cmljdD86IFN0cmljdFxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBFeGNsdWRlPFxyXG4gICAgICBJdGVyYXRvckl0ZW0yPFNvdXJjZT4sXHJcbiAgICAgIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IChTdHJpY3QgZXh0ZW5kcyB0cnVlID8gTnVsbGlzaCA6IEZhbHNpc2gpXHJcbiAgICA+W10sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFIgZXh0ZW5kcyBFeGNsdWRlPFxyXG4gICAgICBJdGVyYXRvckl0ZW0yPFNvdXJjZT4sXHJcbiAgICAgIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IEZhbHNpc2hcclxuICAgID5cclxuICA+KFxyXG4gICAgdGFyZ2V0OiBTb3VyY2UsXHJcbiAgICBmaWx0ZXI6IEl0ZXJhdGlvblR5cGVHdWFyZENhbGxiYWNrMjxTb3VyY2UsIFI+LFxyXG4gICAgaW52ZXJ0PzogYm9vbGVhblxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8UltdLCBTb3VyY2U+O1xyXG5cclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlPihcclxuICAgIHRhcmdldDogU291cmNlLFxyXG4gICAgZmlsdGVyOiBJdGVyYXRpb25GaWx0ZXJDYWxsYmFjazI8U291cmNlPixcclxuICAgIGludmVydD86IGJvb2xlYW5cclxuICApOiBJdGVyYXRpb25SZXN1bHRBcnJheTxTb3VyY2U+O1xyXG5cclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlPihcclxuICAgIHRhcmdldDogU291cmNlLFxyXG4gICAgZmlsdGVyOiB7IGhhcyhpdGVtOiBFeGNsdWRlPEl0ZXJhdG9ySXRlbTI8U291cmNlPiwgTnVsbGlzaD4pOiBhbnkgfSxcclxuICAgIGludmVydD86IGJvb2xlYW5cclxuICApOiBNYXliZU51bGxpc2hPckZhbHNlPFxyXG4gICAgSXRlcmF0b3JJdGVtMjxFeGNsdWRlPFNvdXJjZSwgTnVsbGlzaE9yRmFsc2U+PltdLFxyXG4gICAgU291cmNlXHJcbiAgPjtcclxufSA9IChpdGVtczogYW55LCBmaWx0ZXI6IGFueSA9IHRydWUsIGludmVydCA9IGZhbHNlKSA9PlxyXG4gIG1hcDIoXHJcbiAgICBpdGVtcyxcclxuICAgIGZpbHRlciA9PT0gdHJ1ZVxyXG4gICAgICA/IChpdGVtKSA9PiBpdGVtID8/IHNraXAyXHJcbiAgICAgIDogIWZpbHRlclxyXG4gICAgICA/IChpdGVtKSA9PiBpdGVtIHx8IHNraXAyXHJcbiAgICAgIDogZmlsdGVyLmhhc1xyXG4gICAgICA/IChpdGVtKSA9PiAoaXRlbSA9PSBudWxsIHx8IGZpbHRlci5oYXMoaXRlbSkgPT09IGludmVydCA/IHNraXAyIDogaXRlbSlcclxuICAgICAgOiAoaXRlbSwgaW5kZXgsIHByZXYpID0+XHJcbiAgICAgICAgICAhZmlsdGVyKGl0ZW0sIGluZGV4LCBwcmV2KSA9PT0gaW52ZXJ0ID8gaXRlbSA6IHNraXAyXHJcbiAgKTtcclxuXHJcbmV4cG9ydCBjb25zdCB0YWtlMjoge1xyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBjb3VudDogbnVtYmVyLFxyXG4gICAgcHJvamVjdGlvbj86IHVuZGVmaW5lZFxyXG4gICk6IEl0ZXJhdGlvblJlc3VsdEFycmF5PFNvdXJjZT47XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlclxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIGNvdW50OiBudW1iZXIsXHJcbiAgICBwcm9qZWN0aW9uOiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxTb3VyY2UsIEFjY3VtdWxhdG9yLCBQcm9qZWN0ZWQgfCBTaWduYWw+XHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkPltdLCBTb3VyY2U+O1xyXG59ID0gKHNvdXJjZTogYW55LCBjb3VudDogYW55LCBwcm9qZWN0aW9uPzogYW55KSA9PlxyXG4gIG1hcDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+IChcclxuICAgICAgaW5kZXggPT09IGNvdW50ICsgMSAmJiAoc3RvcEludm9rZWQgPSB0cnVlKSxcclxuICAgICAgcHJvamVjdGlvbiA/IHByb2plY3Rpb24oaXRlbSwgaW5kZXgsIHByZXYpIDogaXRlbVxyXG4gICAgKVxyXG4gICk7XHJcbmV4cG9ydCBjb25zdCBmaXJzdDI6IHtcclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLCBSPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJlZGljYXRlOiBJdGVyYXRpb25UeXBlR3VhcmRDYWxsYmFjazI8U291cmNlLCBSPlxyXG4gICk6IFIgfCB1bmRlZmluZWQ7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByZWRpY2F0ZT86IEl0ZXJhdGlvbkZpbHRlckNhbGxiYWNrMjxTb3VyY2U+XHJcbiAgKTogSXRlcmF0b3JJdGVtMjxTb3VyY2U+IHwgdW5kZWZpbmVkO1xyXG59ID0gKHNvdXJjZTogYW55LCBwcmVkaWNhdGUgPSBzb3VyY2UpID0+XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+IChcclxuICAgICAgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKGl0ZW0sIGluZGV4LCBwcmV2LCBzb3VyY2UpKSAmJlxyXG4gICAgICAgIChzdG9wSW52b2tlZCA9IHRydWUpLFxyXG4gICAgICBpdGVtXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbnR5cGUgT25lczxOIGV4dGVuZHMgbnVtYmVyLCBBIGV4dGVuZHMgbnVtYmVyW10gPSBbXT4gPSBBW1wibGVuZ3RoXCJdIGV4dGVuZHMgTlxyXG4gID8gQVxyXG4gIDogT25lczxOLCBbLi4uQSwgMV0+O1xyXG5cclxudHlwZSBEZWM8QSBleHRlbmRzIG51bWJlcj4gPSBBIGV4dGVuZHMgMFxyXG4gID8gLTFcclxuICA6IGAke0F9YCBleHRlbmRzIGAtJHtpbmZlciBffWBcclxuICA/IC0xXHJcbiAgOiBPbmVzPEE+IGV4dGVuZHMgW2FueSwgLi4uaW5mZXIgUmVzdF1cclxuICA/IFJlc3RbXCJsZW5ndGhcIl1cclxuICA6IG5ldmVyO1xyXG5cclxudHlwZSBGbGF0PFQsIERlcHRoIGV4dGVuZHMgbnVtYmVyPiA9IERlcHRoIGV4dGVuZHMgMFxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIHN0cmluZ1xyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XHJcbiAgPyBGbGF0PFQsIERlYzxEZXB0aD4+XHJcbiAgOiBUO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZsYXRNYXAyOiB7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlciwgLy8gT3RoZXJ3aXNlIFIgbWF5IGJlIGBzeW1ib2xgXHJcbiAgICBUYXJnZXQgPSB1bmRlZmluZWQsXHJcbiAgICBDb250ZXh0ID0gU291cmNlLFxyXG4gICAgRGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBkZXB0aD86IERlcHRoLFxyXG4gICAgdGFyZ2V0PzogVGFyZ2V0ICYgRmxhdDxJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkPiwgRGVwdGg+W10sXHJcbiAgICBzZWVkPzogQWNjdW11bGF0b3IsXHJcbiAgICBjb250ZXh0PzogQ29udGV4dFxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBGbGF0PEl0ZXJhdGlvblByb2plY3RlZDxQcm9qZWN0ZWQ+LCBEZXB0aD5bXSBleHRlbmRzIFRhcmdldFxyXG4gICAgICA/IFRhcmdldFxyXG4gICAgICA6IEZsYXQ8SXRlcmF0aW9uUHJvamVjdGVkPFByb2plY3RlZD4sIERlcHRoPltdLFxyXG4gICAgU291cmNlXHJcbiAgPjtcclxuXHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSwgRGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb24/OiBOdWxsaXNoLFxyXG4gICAgZGVwdGg/OiBEZXB0aCxcclxuICAgIHRhcmdldD86IGFueVtdLFxyXG4gICAgc2VlZD86IGFueSxcclxuICAgIGNvbnRleHQ/OiBhbnlcclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gU291cmNlIDogRmxhdDxJdGVyYXRvckl0ZW0yPFNvdXJjZT4sIERlcHRoPltdO1xyXG59ID0gKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBhbnksXHJcbiAgZGVwdGg6IGFueSA9IC0xLFxyXG4gIHRhcmdldDogYW55W10gPSBbXSxcclxuICBzZWVkPzogYW55LFxyXG4gIGNvbnRleHQgPSBzb3VyY2VcclxuKSA9PlxyXG4gIG1hcDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXZpb3VzKSA9PlxyXG4gICAgICAocHJvamVjdGlvbiA/IChpdGVtID0gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldmlvdXMpKSA6IGl0ZW0pICE9XHJcbiAgICAgICAgbnVsbCAmJlxyXG4gICAgICBpdGVtW1N5bWJvbC5pdGVyYXRvcl0gJiZcclxuICAgICAgdHlwZW9mIGl0ZW0gIT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgZGVwdGhcclxuICAgICAgICA/IChmbGF0TWFwMihpdGVtLCB1bmRlZmluZWQsIGRlcHRoIC0gMSwgdGFyZ2V0LCBpdGVtKSwgc2tpcDIpXHJcbiAgICAgICAgOiBpdGVtLFxyXG4gICAgdGFyZ2V0LFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApO1xyXG5cclxudHlwZSBHcm91cDJSZXN1bHQ8U291cmNlLCBBc01hcCwgTWFueSA9IHRydWU+ID0gQXNNYXAgZXh0ZW5kcyB0cnVlXHJcbiAgPyBTb3VyY2UgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUIGV4dGVuZHMgS2V5VmFsdWVUeXBlPGFueT4+XHJcbiAgICA/IE1hcDxFeGNsdWRlPFRbMF0sIHVuZGVmaW5lZD4sIFRvZ2dsZUFycmF5PFRbMV0sIE1hbnk+PlxyXG4gICAgOiBTb3VyY2UgZXh0ZW5kcyB7IFtQIGluIGluZmVyIEtleV06IGluZmVyIFZhbHVlIH1cclxuICAgID8gTWFwPEtleSwgVG9nZ2xlQXJyYXk8VmFsdWUsIE1hbnk+PlxyXG4gICAgOiBuZXZlclxyXG4gIDogU291cmNlIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVCBleHRlbmRzIEtleVZhbHVlVHlwZT5cclxuICA/IHsgW1AgaW4gRXhjbHVkZTxUWzBdLCB1bmRlZmluZWQ+XTogVG9nZ2xlQXJyYXk8VFsxXSwgTWFueT4gfVxyXG4gIDogU291cmNlIGV4dGVuZHMgeyBbUCBpbiBpbmZlciBLZXldOiBpbmZlciBWYWx1ZSB9XHJcbiAgPyB7IFtQIGluIEtleV06IFRvZ2dsZUFycmF5PFZhbHVlLCBNYW55PiB9XHJcbiAgOiBuZXZlcjtcclxuXHJcbmV4cG9ydCBjb25zdCBncm91cDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBPYmplY3RTb3VyY2U8YW55PiB8IE51bGxpc2hPckZhbHNlLFxyXG4gICAgQXNNYXAgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIG1hcD86IEFzTWFwXHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgIEdyb3VwMlJlc3VsdDxPYmplY3RTb3VyY2VUb09iamVjdDxTb3VyY2U+LCBBc01hcD4sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG5cclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmFibGU8S2V5VmFsdWVUeXBlPGFueT4+IHwgTnVsbGlzaE9yRmFsc2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBtYXA/OiB0cnVlXHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgIEdyb3VwMlJlc3VsdDxPYmplY3RTb3VyY2VUb09iamVjdDxTb3VyY2U+LCB0cnVlPixcclxuICAgIFNvdXJjZVxyXG4gID47XHJcblxyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCBleHRlbmRzIEtleVZhbHVlVHlwZTxrZXlvZiBhbnk+IHwgRmFsc2lzaCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsXHJcbiAgICBBc01hcCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgIG1hcD86IEFzTWFwXHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgIEdyb3VwMlJlc3VsdDxJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkLCBGYWxzaXNoPltdLCBBc01hcD4sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCBleHRlbmRzIEtleVZhbHVlVHlwZTxhbnk+IHwgRmFsc2lzaCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXJcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uOiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxTb3VyY2UsIEFjY3VtdWxhdG9yLCBQcm9qZWN0ZWQgfCBTaWduYWw+LFxyXG4gICAgbWFwPzogdHJ1ZVxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBHcm91cDJSZXN1bHQ8SXRlcmF0aW9uUHJvamVjdGVkPFByb2plY3RlZCwgRmFsc2lzaD5bXSwgdHJ1ZT4sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG59ID0gKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55LCBtYXA/OiBhbnkpID0+IHtcclxuICBpZiAocHJvamVjdGlvbiAhPSBudWxsICYmIHR5cGVvZiBwcm9qZWN0aW9uICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIFtwcm9qZWN0aW9uLCBtYXBdID0gW3VuZGVmaW5lZCwgcHJvamVjdGlvbl07XHJcbiAgfVxyXG4gIGxldCBncm91cHM6IGFueSwga3Y6IFthbnksIGFueV07XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICBtYXAgIT09IGZhbHNlXHJcbiAgICAgID8gKChncm91cHMgPSBuZXcgTWFwKCkpLFxyXG4gICAgICAgIChpdGVtLCBpbmRleCwgcHJldikgPT4ge1xyXG4gICAgICAgICAga3YgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtO1xyXG4gICAgICAgICAgaWYgKGt2WzBdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZ2V0Mihncm91cHMsIGt2WzBdLCAoKSA9PiBbXSkucHVzaChrdlsxXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgOiAoKGdyb3VwcyA9IHt9KSxcclxuICAgICAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+XHJcbiAgICAgICAgICAoa3YgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtKSAmJlxyXG4gICAgICAgICAga3ZbMF0gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgKGdyb3Vwc1trdlswXV0gPz89IFtdKS5wdXNoKGt2WzFdKSlcclxuICApO1xyXG5cclxuICByZXR1cm4gZ3JvdXBzO1xyXG59O1xyXG5cclxuZXhwb3J0IGxldCBmb3JFYWNoQXdhaXQyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEFzeW5jSXRlcmF0aW9uU291cmNlIHwgTnVsbGlzaD4oc291cmNlOiBTb3VyY2UpOiBQcm9taXNlPFxyXG4gICAgTWF5YmVOdWxsaXNoPEFzeW5jSXRlcmF0aW9uSXRlbTxTb3VyY2U+LCBTb3VyY2U+IHwgdW5kZWZpbmVkXHJcbiAgPjtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBBc3luY0l0ZXJhdGlvblNvdXJjZSB8IE51bGxpc2gsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRlZCBleHRlbmRzIFVud3JhcFByb21pc2VMaWtlPFByb2plY3RlZD4sXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlcixcclxuICAgIENvbnRleHQgPSBTb3VyY2VcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uOlxyXG4gICAgICB8IEFzeW5jSXRlcmF0aW9uUHJvamVjdGlvbjI8XHJcbiAgICAgICAgICBTb3VyY2UsXHJcbiAgICAgICAgICBBY2N1bXVsYXRlZCxcclxuICAgICAgICAgIEVuY291cmFnZVR1cGxlczxQcm9qZWN0ZWQ+IHwgU2lnbmFsLFxyXG4gICAgICAgICAgQ29udGV4dFxyXG4gICAgICAgID5cclxuICAgICAgfCBOdWxsaXNoLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdGVkLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBQcm9taXNlPE1heWJlTnVsbGlzaDxBc3luY0l0UHJvamVjdGlvbjxQcm9qZWN0ZWQ+LCBTb3VyY2U+IHwgdW5kZWZpbmVkPjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSwgc2VlZD86IGFueSwgY29udGV4dD86IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gaXRlcmF0ZUFzeW5jMihzb3VyY2UsIHByb2plY3Rpb24sIHVuZGVmaW5lZCwgc2VlZCwgY29udGV4dCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUZvckVhY2hJbXBsZW1lbnRhdGlvbnMoc291cmNlLCBlLCAoKSA9PlxyXG4gICAgICBmb3JFYWNoQXdhaXQyKHNvdXJjZSwgcHJvamVjdGlvbiwgc2VlZCwgY29udGV4dClcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBtYXBBd2FpdDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFVud3JhcFByb21pc2VMaWtlPFByb2plY3RlZD4sXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlciwgLy8gT3RoZXJ3aXNlIFIgbWF5IGJlIGBzeW1ib2xgXHJcbiAgICBUYXJnZXQgPSB1bmRlZmluZWQsXHJcbiAgICBDb250ZXh0ID0gU291cmNlXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjogQXN5bmNJdGVyYXRpb25Qcm9qZWN0aW9uMjxcclxuICAgICAgU291cmNlLFxyXG4gICAgICBBY2N1bXVsYXRvcixcclxuICAgICAgUHJvamVjdGVkIHwgU2lnbmFsXHJcbiAgICA+LFxyXG4gICAgdGFyZ2V0PzogVGFyZ2V0ICYgQXN5bmNJdFByb2plY3Rpb248UHJvamVjdGVkPltdLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdG9yLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBQcm9taXNlPFxyXG4gICAgTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgICAgQXN5bmNJdFByb2plY3Rpb248UHJvamVjdGVkPltdIGV4dGVuZHMgVGFyZ2V0XHJcbiAgICAgICAgPyBUYXJnZXRcclxuICAgICAgICA6IEFzeW5jSXRQcm9qZWN0aW9uPFByb2plY3RlZD5bXSxcclxuICAgICAgU291cmNlXHJcbiAgICA+XHJcbiAgPjtcclxuXHJcbiAgPFNvdXJjZSBleHRlbmRzIEFzeW5jSXRlcmF0aW9uU291cmNlT2Y8VD4sIFQsIFRhcmdldCA9IG5ldmVyW10+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uPzogdW5kZWZpbmVkIHwgbnVsbCxcclxuICAgIHRhcmdldD86IFRhcmdldCAmIFRbXSxcclxuICAgIHNlZWQ/OiBhbnksXHJcbiAgICBjb250ZXh0PzogYW55XHJcbiAgKTogUHJvbWlzZTxcclxuICAgIFRhcmdldCBleHRlbmRzIG5ldmVyW11cclxuICAgICAgPyBJdGVyYXRpb25SZXN1bHRBcnJheTxJdGVyYWJsZTxBc3luY0l0ZXJhdGlvbkl0ZW08U291cmNlPj4+XHJcbiAgICAgIDogVGFyZ2V0XHJcbiAgPjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbjogYW55LCB0YXJnZXQgPSBbXSwgc2VlZDogYW55LCBjb250ZXh0OiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGl0ZXJhdGVBc3luYzIoc291cmNlLCBwcm9qZWN0aW9uLCB0YXJnZXQsIHNlZWQsIGNvbnRleHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgbWFwQXdhaXQyKHNvdXJjZSwgcHJvamVjdGlvbiwgdGFyZ2V0LCBzZWVkLCBjb250ZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBpdGVyYXRlQXN5bmMyID0gYXN5bmMgKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxhbnksIGFueSwgYW55LCBhbnk+IHwgTnVsbGlzaCxcclxuICBtYXBwZWQ/OiBhbnlbXSxcclxuICBzZWVkPzogYW55LFxyXG4gIGNvbnRleHQ/OiBhbnlcclxuKSA9PiB7XHJcbiAgaWYgKChzb3VyY2UgPSBhd2FpdCBzb3VyY2UpID09IG51bGwpIHJldHVybiBzb3VyY2U7XHJcbiAgaWYgKHNvdXJjZSA9PT0gZmFsc2UpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0IGl0ZXJhdG9yID0gc291cmNlW2FzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sXSgpIGFzIEFzeW5jSXRlcmF0b3I8YW55PjtcclxuXHJcbiAgbGV0IHJlc3VsdDogSXRlcmF0b3JSZXN1bHQ8YW55PjtcclxuICBsZXQgcHJvamVjdGVkOiBhbnksXHJcbiAgICBpID0gMDtcclxuXHJcbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkgYXMgYW55KSkge1xyXG4gICAgaWYgKGlzUHJvbWlzZUxpa2UocmVzdWx0KSkge1xyXG4gICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0LmRvbmUpIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGl0ZW0gPSByZXN1bHQudmFsdWU7XHJcbiAgICBpZiAoaXNQcm9taXNlTGlrZShpdGVtKSkge1xyXG4gICAgICBpdGVtID0gYXdhaXQgaXRlbTtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgKHByb2plY3RlZCA9IGF3YWl0IChwcm9qZWN0aW9uXHJcbiAgICAgICAgPyBwcm9qZWN0aW9uKGl0ZW0sIGkrKywgc2VlZCwgY29udGV4dClcclxuICAgICAgICA6IGl0ZW0pKSAhPT0gc2tpcDJcclxuICAgICkge1xyXG4gICAgICBpZiAocHJvamVjdGVkID09PSBzdG9wMikge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHNlZWQgPSBwcm9qZWN0ZWQ7XHJcbiAgICAgIG1hcHBlZD8ucHVzaChwcm9qZWN0ZWQpO1xyXG4gICAgICBpZiAoc3RvcEludm9rZWQpIHtcclxuICAgICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFwcGVkIHx8IHNlZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29sbGVjdDIgPSA8VCwgTnVsbHM+KFxyXG4gIHNvdXJjZTogVCB8IEl0ZXJhYmxlPFQ+IHwgTnVsbHMsXHJcbiAgZ2VuZXJhdG9yOiAoaXRlbTogVCkgPT4gSXRlcmFibGU8VD4gfCBUIHwgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyLFxyXG4gIGluY2x1ZGVTZWxmID0gdHJ1ZSxcclxuICBjb2xsZWN0ZWQ/OiBTZXQ8VD5cclxuKTogTWF5YmVOdWxsaXNoPFNldDxUPiwgTnVsbHM+ID0+IHtcclxuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiBzb3VyY2UgYXMgYW55O1xyXG4gIGNvbnN0IHJvb3QgPSBjb2xsZWN0ZWQ7XHJcbiAgY29sbGVjdGVkID8/PSBuZXcgU2V0KCk7XHJcbiAgaWYgKHNvdXJjZVtzeW1ib2xJdGVyYXRvcl0gJiYgdHlwZW9mIHNvdXJjZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSBhcyBJdGVyYWJsZTxhbnk+KSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAoY29sbGVjdDIoaXRlbSwgZ2VuZXJhdG9yLCBpbmNsdWRlU2VsZiwgY29sbGVjdGVkKSBhcyBhbnkpID09PSBzdG9wMlxyXG4gICAgICApIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoIWNvbGxlY3RlZC5oYXMoc291cmNlIGFzIGFueSkpIHtcclxuICAgIGlmIChpbmNsdWRlU2VsZikge1xyXG4gICAgICBjb2xsZWN0ZWQuYWRkKHNvdXJjZSBhcyBhbnkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGdlbmVyYXRlZCA9IGdlbmVyYXRvcihzb3VyY2UgYXMgYW55KTtcclxuICAgIGlmIChnZW5lcmF0ZWQgPT09IHN0b3AyKSByZXR1cm4gcm9vdCA/IHN0b3AyIDogKGNvbGxlY3RlZCBhcyBhbnkpO1xyXG4gICAgaWYgKGdlbmVyYXRlZCAhPT0gc2tpcDIpIHtcclxuICAgICAgY29sbGVjdDIoZ2VuZXJhdGVkLCBnZW5lcmF0b3IsIHRydWUsIGNvbGxlY3RlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3RpbmN0MiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIE51bGxpc2hcclxuICA/IFRcclxuICA6IFQgZXh0ZW5kcyBTZXQ8YW55PlxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XHJcbiAgPyBTZXQ8VD5cclxuICA6IFNldDxUPiA9PlxyXG4gIHNvdXJjZSA9PSBudWxsXHJcbiAgICA/IHNvdXJjZVxyXG4gICAgOiBzb3VyY2UgaW5zdGFuY2VvZiBTZXRcclxuICAgID8gc291cmNlXHJcbiAgICA6IChuZXcgU2V0KFxyXG4gICAgICAgIHNvdXJjZVtzeW1ib2xJdGVyYXRvcl0gJiYgdHlwZW9mIHNvdXJjZSAhPT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgPyBzb3VyY2VcclxuICAgICAgICAgIDogKFtzb3VyY2VdIGFzIGFueSlcclxuICAgICAgKSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGl0ZXJhYmxlMiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogVCBleHRlbmRzIHVuZGVmaW5lZCA/IFtdIDogVCBleHRlbmRzIEl0ZXJhYmxlPGFueT4gPyBUIDogW1RdID0+XHJcbiAgc291cmNlID09PSB2b2lkIDBcclxuICAgID8gW11cclxuICAgIDogc291cmNlPy5bc3ltYm9sSXRlcmF0b3JdICYmIHR5cGVvZiBzb3VyY2UgIT09IFwic3RyaW5nXCJcclxuICAgID8gc291cmNlXHJcbiAgICA6IChbc291cmNlXSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFycmF5MiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVtdXHJcbiAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdXHJcbiAgPyBUXHJcbiAgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgSXRlbT5cclxuICA/IEl0ZW1bXVxyXG4gIDogW1RdID0+XHJcbiAgc291cmNlID09IG51bGxcclxuICAgID8gc291cmNlXHJcbiAgICA6IGlzQXJyYXkoc291cmNlKVxyXG4gICAgPyBzb3VyY2VcclxuICAgIDogc291cmNlW3N5bWJvbEl0ZXJhdG9yXSAmJiB0eXBlb2Ygc291cmNlICE9PSBcInN0cmluZ1wiXHJcbiAgICA/IFsuLi4oc291cmNlIGFzIGFueSldXHJcbiAgICA6IChbc291cmNlXSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNvbWUyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByZWRpY2F0ZT86IEl0ZXJhdGlvbkZpbHRlckNhbGxiYWNrMjxTb3VyY2U+XHJcbiAgKTogYm9vbGVhbjtcclxufSA9IChzb3VyY2UsIHByZWRpY2F0ZSkgPT5cclxuICBmb3JFYWNoMihzb3VyY2UsIChpdGVtLCBpbmRleCwgcHJldikgPT5cclxuICAgIChwcmVkaWNhdGUgPyBwcmVkaWNhdGUoaXRlbSwgaW5kZXgsIHByZXYsIHNvdXJjZSkgOiBpdGVtKVxyXG4gICAgICA/IChzdG9wSW52b2tlZCA9IHRydWUpXHJcbiAgICAgIDogaXRlbVxyXG4gICkgPT09IHRydWU7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsMjoge1xyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcmVkaWNhdGU/OiBJdGVyYXRpb25GaWx0ZXJDYWxsYmFjazI8U291cmNlPlxyXG4gICk6IGJvb2xlYW47XHJcbn0gPSAoc291cmNlLCBwcmVkaWNhdGUpID0+XHJcbiAgZm9yRWFjaDIoc291cmNlLCAoaXRlbSwgaW5kZXgsIHByZXYpID0+XHJcbiAgICAhKHByZWRpY2F0ZSA/IHByZWRpY2F0ZShpdGVtLCBpbmRleCwgcHJldiwgc291cmNlKSA6IGl0ZW0pXHJcbiAgICAgID8gIShzdG9wSW52b2tlZCA9IHRydWUpXHJcbiAgICAgIDogaXRlbVxyXG4gICkgIT09IGZhbHNlO1xyXG5cclxudHlwZSBDb25jYXRSZXN1bHQ8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiA9IFtOdWxsaXNoIHwgVFtudW1iZXJdXSBleHRlbmRzIFtcclxuICBOdWxsaXNoXHJcbl1cclxuICA/IHVuZGVmaW5lZFxyXG4gIDoge1xyXG4gICAgICBbUCBpbiBrZXlvZiBUXTogVFtQXSBleHRlbmRzIGluZmVyIFRcclxuICAgICAgICA/IHVua25vd24gZXh0ZW5kcyBUXHJcbiAgICAgICAgICA/IGFueVxyXG4gICAgICAgICAgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD5cclxuICAgICAgICAgID8gVFxyXG4gICAgICAgICAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgICAgICAgPyBuZXZlclxyXG4gICAgICAgICAgOiBUXHJcbiAgICAgICAgOiBuZXZlcjtcclxuICAgIH1bbnVtYmVyXVtdO1xyXG5leHBvcnQgY29uc3QgY29uY2F0Mjoge1xyXG4gIDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KGFyZ3M6IFQpOiBDb25jYXRSZXN1bHQ8VD47XHJcbiAgPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oLi4uYXJnczogVCk6IENvbmNhdFJlc3VsdDxUPjtcclxufSA9IChhcmcwOiBhbnksIC4uLm90aGVyOiBhbnlbXSkgPT4ge1xyXG4gIGlmIChvdGhlci5sZW5ndGggfHwgIWlzSXRlcmFibGUoYXJnMCkpIHtcclxuICAgIGFyZzAgPSBbYXJnMCwgLi4ub3RoZXJdO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogYW55W10gfCB1bmRlZmluZWQ7XHJcbiAgZm9yIChjb25zdCBhcmcgb2YgYXJnMCkge1xyXG4gICAgaWYgKGFyZyA9PSBudWxsKSBjb250aW51ZTtcclxuICAgIGlmIChpc0l0ZXJhYmxlKGFyZykpIHtcclxuICAgICAgKHJlc3VsdCA/Pz0gW10pLnB1c2goLi4uYXJnKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICAocmVzdWx0ID8/PSBbXSkucHVzaChhcmcpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0IGFzIGFueTtcclxufTtcclxuXHJcbmNvbnN0IHNvcnRDb21wYXJlID0gKHg6IFNvcnRhYmxlLCB5OiBTb3J0YWJsZSwgZGVzY2VuZGluZzogYm9vbGVhbikgPT5cclxuICAoZGVzY2VuZGluZyA/IC0xIDogMSkgKlxyXG4gICh4ID09PSB5XHJcbiAgICA/IDBcclxuICAgIDogdHlwZW9mIHggPT09IFwic3RyaW5nXCJcclxuICAgID8gdHlwZW9mIHkgPT09IFwic3RyaW5nXCJcclxuICAgICAgPyB4LmxvY2FsZUNvbXBhcmUoeSlcclxuICAgICAgOiAxXHJcbiAgICA6IHR5cGVvZiB5ID09PSBcInN0cmluZ1wiXHJcbiAgICA/IC0xXHJcbiAgICA6IHggPT0gbnVsbFxyXG4gICAgPyB5ID09IG51bGxcclxuICAgICAgPyAwXHJcbiAgICAgIDogLTFcclxuICAgIDogeSA9PSBudWxsXHJcbiAgICA/IDFcclxuICAgIDogKHggYXMgYW55KSAtICh5IGFzIGFueSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNvcnQyOiB7XHJcbiAgPFQgZXh0ZW5kcyBTb3J0YWJsZSwgU291cmNlPihcclxuICAgIGl0ZW1zOiBTb3VyY2UgJiAoSXRlcmFibGU8VD4gfCBOdWxsaXNoKSxcclxuICAgIGRlc2NlbmRpbmc/OiBib29sZWFuXHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFQgOiBJdGVyYXRvckl0ZW0yPFQ+W107XHJcblxyXG4gIDxULCBTb3VyY2U+KFxyXG4gICAgaXRlbXM6IFNvdXJjZSAmIChJdGVyYWJsZTxUPiB8IHVuZGVmaW5lZCksXHJcbiAgICBzZWxlY3RvcjogTWF5YmVBcnJheTwoaXRlbTogVCkgPT4gU29ydGFibGU+LFxyXG4gICAgZGVzY2VuZGluZz86IGJvb2xlYW5cclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IFRbXTtcclxufSA9IChpdGVtczogYW55LCBzZWxlY3RvcjogYW55LCBkZXNjZW5kaW5nPzogYW55KSA9PlxyXG4gIChhcnJheTIoaXRlbXMpIGFzIGFueVtdKS5zb3J0KFxyXG4gICAgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgPyAoeCwgeSkgPT4gc29ydENvbXBhcmUoc2VsZWN0b3IoeCksIHNlbGVjdG9yKHkpLCBkZXNjZW5kaW5nKVxyXG4gICAgICA6IGlzQXJyYXkoc2VsZWN0b3IpXHJcbiAgICAgID8gc2VsZWN0b3IubGVuZ3RoXHJcbiAgICAgICAgPyAoeCwgeSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYyA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0b3IubGVuZ3RoICYmICFjOyBpKyspIHtcclxuICAgICAgICAgICAgICBjID0gc29ydENvbXBhcmUoc2VsZWN0b3JbaV0oeCksIHNlbGVjdG9yW2ldKHkpLCBkZXNjZW5kaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYztcclxuICAgICAgICAgIH1cclxuICAgICAgICA6ICh4LCB5KSA9PiBzb3J0Q29tcGFyZSh4LCB5LCBkZXNjZW5kaW5nKVxyXG4gICAgICA6ICh4LCB5KSA9PiBzb3J0Q29tcGFyZSh4LCB5LCBzZWxlY3RvcilcclxuICApO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvcG9Tb3J0MiA9IDxTb3VyY2UsIFQ+KFxyXG4gIGl0ZW1zOiAoSXRlcmFibGU8VD4gfCBOdWxsaXNoKSAmIFNvdXJjZSxcclxuICBkZXBlbmRlbmNpZXM6IChpdGVtOiBUKSA9PiBJdGVyYWJsZTxUPiB8IE51bGxpc2gsXHJcbiAgZm9ybWF0PzogU2VsZWN0b3I8VD5cclxuKTogTWF5YmVOdWxsaXNoPFRbXSwgU291cmNlPiA9PiB7XHJcbiAgaWYgKGl0ZW1zID09IG51bGwpIHJldHVybiBpdGVtcyBhcyBhbnk7XHJcblxyXG4gIHR5cGUgSW5mbyA9IFtpdGVtOiBULCBkZXBlbmRlbnRzOiBJbmZvW10sIGJsb2NraW5nRWRnZXM6IFNldDxUPl07XHJcblxyXG4gIGxldCBjbGVhcjogSW5mb1tdID0gW107XHJcbiAgbGV0IG1hcHBlZDogVFtdID0gW107XHJcblxyXG4gIGNvbnN0IGVkZ2VzID0gbmV3IE1hcDxULCBJbmZvPihcclxuICAgIG1hcDIoaXRlbXMsIChpdGVtKSA9PiBbaXRlbSwgW2l0ZW0sIFtdLCBudWxsIV1dKVxyXG4gICk7XHJcbiAgZm9yIChjb25zdCBbaXRlbSwgaW5mb10gb2YgZWRnZXMpIHtcclxuICAgIGZvciAoY29uc3QgZGVwZW5kZW5jeSBvZiBkZXBlbmRlbmNpZXMoaXRlbSkgPz8gW10pIHtcclxuICAgICAgLy8gSWdub3JlIGRlcGVuZGVuY2llcyBub3QgcHJlc2VudC5cclxuICAgICAgZWRnZXMuZ2V0KGRlcGVuZGVuY3kpPy5bMV0ucHVzaChpbmZvKSAmJlxyXG4gICAgICAgIChpbmZvWzJdID8/PSBuZXcgU2V0KCkpLmFkZChkZXBlbmRlbmN5KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mb1syXSkge1xyXG4gICAgICBjbGVhci5wdXNoKGluZm8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBbaXRlbSwgZGVwZW5kZW50c10gb2YgY2xlYXIpIHtcclxuICAgIG1hcHBlZC5wdXNoKGl0ZW0pO1xyXG4gICAgZm9yIChjb25zdCBkZXBlbmRlbnQgb2YgZGVwZW5kZW50cykge1xyXG4gICAgICBkZXBlbmRlbnRbMl0uZGVsZXRlKGl0ZW0pO1xyXG4gICAgICBpZiAoIWRlcGVuZGVudFsyXS5zaXplKSB7XHJcbiAgICAgICAgY2xlYXIucHVzaChkZXBlbmRlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFwcGVkLmxlbmd0aCA9PT0gZWRnZXMuc2l6ZVxyXG4gICAgPyAobWFwcGVkIGFzIGFueSlcclxuICAgIDogdGhyb3dFcnJvcihcclxuICAgICAgICBgQ3ljbGljIGRlcGVuZGVuY2llczogJHtpdGVtaXplMihcclxuICAgICAgICAgIG1hcDIoZWRnZXMsIChbLCBpbmZvXSkgPT5cclxuICAgICAgICAgICAgaW5mb1syXT8uc2l6ZVxyXG4gICAgICAgICAgICAgID8gKGZvcm1hdCA9IG5vcm1hbGl6ZVNlbGVjdG9yKGZvcm1hdCkpKGluZm9bMF0pICtcclxuICAgICAgICAgICAgICAgIFwiIGRlcGVuZHMgb24gXCIgK1xyXG4gICAgICAgICAgICAgICAgaXRlbWl6ZTIoaW5mb1syXSwgZm9ybWF0KVxyXG4gICAgICAgICAgICAgIDogc2tpcDJcclxuICAgICAgICAgIClcclxuICAgICAgICApfS5gXHJcbiAgICAgICk7XHJcbn07XHJcblxyXG5jb25zdCBub3JtYWxpemVTZWxlY3RvciA9IChzZWxlY3RvcjogU2VsZWN0b3IsIHJlcXVpcmUgPSBmYWxzZSkgPT5cclxuICB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgPyBzZWxlY3RvclxyXG4gICAgOiBzZWxlY3RvciAhPSBudWxsXHJcbiAgICA/IChpdGVtOiBhbnkpID0+XHJcbiAgICAgICAgKGl0ZW0gPSBpdGVtW3NlbGVjdG9yXSkgPT09IHVuZGVmaW5lZCAmJiByZXF1aXJlID8gc2tpcDIgOiBpdGVtXHJcbiAgICA6IChpdGVtOiBhbnkpID0+IGl0ZW07XHJcblxyXG50eXBlIFJlZHVjZUZ1bmN0aW9uPERlZmF1bHQgPSB1bmRlZmluZWQsIEJ5ID0gZmFsc2U+ID0ge1xyXG4gIDxTb3VyY2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UgJiBJdGVyYWJsZTxudW1iZXIgfCB1bmRlZmluZWQ+XHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFNvdXJjZSA6IG51bWJlciB8IERlZmF1bHQ7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkIGV4dGVuZHMgbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCA9IGFueSxcclxuICAgIEl0ZW0gZXh0ZW5kcyBib29sZWFuID0gZmFsc2VcclxuICA+KFxyXG4gICAgLi4uYXJnczogW1xyXG4gICAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgICAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgICAgLi4uKHRydWUgZXh0ZW5kcyBCeSA/IFtyZXR1cm5JdGVtPzogSXRlbV0gOiBbXSlcclxuICAgIF1cclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoXHJcbiAgICA/IFNvdXJjZVxyXG4gICAgOiBJdGVtIGV4dGVuZHMgdHJ1ZVxyXG4gICAgPyBJdGVyYXRvckl0ZW0yPFNvdXJjZT5cclxuICAgIDogbnVtYmVyIHwgRGVmYXVsdDtcclxufTtcclxuXHJcbmNvbnN0IHJlZHVjZTIgPSAoXHJcbiAgc291cmNlOiBhbnksXHJcbiAgcHJvamVjdGlvbjogYW55LFxyXG4gIHJlZHVjZTogKGN1cnJlbnQ6IG51bWJlciB8IHVuZGVmaW5lZCwgdmFsdWU6IG51bWJlcikgPT4gbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gIHJldHVybkl0ZW0gPSBmYWxzZVxyXG4pID0+IHtcclxuICBsZXQgdmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICBsZXQgcmVzdWx0OiBhbnk7XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICByZXR1cm5JdGVtXHJcbiAgICAgID8gKGl0ZW0sIGluZGV4LCBwcmV2OiBhbnkpID0+XHJcbiAgICAgICAgICAodmFsdWUgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtKSAhPT1cclxuICAgICAgICAgICAgdW5kZWZpbmVkICYmIHByZXYgIT09IChwcmV2ID0gcmVkdWNlKHByZXYsIHZhbHVlKSlcclxuICAgICAgICAgICAgPyAoKHJlc3VsdCA9IGl0ZW0pLCBwcmV2KVxyXG4gICAgICAgICAgICA6IHByZXZcclxuICAgICAgOiAoaXRlbSwgaW5kZXgsIHByZXY6IGFueSkgPT5cclxuICAgICAgICAgICh2YWx1ZSA9IHByb2plY3Rpb24gPyBwcm9qZWN0aW9uKGl0ZW0sIGluZGV4LCBwcmV2KSA6IGl0ZW0pICE9PVxyXG4gICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gKHJlc3VsdCA9IHJlZHVjZShwcmV2LCB2YWx1ZSkpXHJcbiAgICAgICAgICAgIDogcHJldlxyXG4gICk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtaW4yOiBSZWR1Y2VGdW5jdGlvbjx1bmRlZmluZWQsIHRydWU+ID0gKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBhbnksXHJcbiAgYnk/OiBib29sZWFuXHJcbikgPT5cclxuICByZWR1Y2UyKFxyXG4gICAgc291cmNlLFxyXG4gICAgcHJvamVjdGlvbixcclxuICAgIChwcmV2LCB4KSA9PiAocHJldiA9PSBudWxsIHx8IHggPCBwcmV2ID8geCA6IHByZXYpLFxyXG4gICAgYnlcclxuICApO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1heDI6IFJlZHVjZUZ1bmN0aW9uPHVuZGVmaW5lZCwgdHJ1ZT4gPSAoXHJcbiAgc291cmNlOiBhbnksXHJcbiAgcHJvamVjdGlvbj86IGFueSxcclxuICBieT86IGJvb2xlYW5cclxuKSA9PlxyXG4gIHJlZHVjZTIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgKHByZXYsIHgpID0+IChwcmV2ID09IG51bGwgfHwgeCA+IHByZXYgPyB4IDogcHJldiksXHJcbiAgICBieVxyXG4gICk7XHJcblxyXG5leHBvcnQgY29uc3Qgc3VtMjogUmVkdWNlRnVuY3Rpb248bnVtYmVyPiA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSkgPT5cclxuICByZWR1Y2UyKHNvdXJjZSwgcHJvamVjdGlvbiwgKHByZXYgPSAwLCB4KSA9PiB7XHJcbiAgICByZXR1cm4gcHJldiArIHg7XHJcbiAgfSkgfHwgMDtcclxuXHJcbmV4cG9ydCBjb25zdCBhdmcyOiBSZWR1Y2VGdW5jdGlvbjxudW1iZXI+ID0gKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55KSA9PiB7XHJcbiAgbGV0IG4gPSAwO1xyXG4gIGxldCBzdW0gPSByZWR1Y2UyKHNvdXJjZSwgcHJvamVjdGlvbiwgKHByZXYgPSAwLCB4KSA9PiAobisrLCBwcmV2ICsgeCkpO1xyXG4gIHJldHVybiBuID8gc3VtIC8gbiA6IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhc0tleXMyID0gKG9iajogYW55KSA9PiAhIWtleUNvdW50MihvYmosIHRydWUpO1xyXG5leHBvcnQgY29uc3Qga2V5Q291bnQyID0gKG9iajogYW55LCBzb21lID0gZmFsc2UpID0+IHtcclxuICBpZiAoIW9iaikgcmV0dXJuIDA7XHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICBmb3IgKGNvbnN0IF8gaW4gb2JqKSB7XHJcbiAgICBpZiAoKytjb3VudCAmJiBzb21lKSB7XHJcbiAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gY291bnQ7XHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgQXNzaWduU291cmNlLFxyXG4gIEZhbHNpc2gsXHJcbiAgZm9yRWFjaDIsXHJcbiAgaXNBcnJheSxcclxuICBpdGVyYWJsZTIsXHJcbiAgSXRlcmF0aW9uUHJvamVjdGVkLFxyXG4gIEl0ZXJhdGlvblByb2plY3Rpb24yLFxyXG4gIEl0ZXJhdGlvblNvdXJjZSxcclxuICBNYXBTb3VyY2UsXHJcbiAgTWF5YmVOdWxsaXNoLFxyXG4gIE1heWJlUHJvbWlzZUxpa2UsXHJcbiAgTnVsbGlzaCxcclxuICBPYmplY3RTb3VyY2UsXHJcbiAgUHJvbWlzZUlmUHJvbWlzZUxpa2UsXHJcbiAgU2ltcGxlT2JqZWN0LFxyXG4gIHNraXAyLFxyXG4gIHN0b3AyLFxyXG59IGZyb20gXCIuLlwiO1xyXG5pbXBvcnQge1xyXG4gIEVuY291cmFnZVR1cGxlcyxcclxuICBmaW5kRGVjbGFyaW5nU2NvcGUsXHJcbiAgSW5wdXRWYWx1ZVR5cGVPZixcclxuICBLZXlUeXBlT2YsXHJcbiAgS2V5VmFsdWVUeXBlLFxyXG4gIE1hcEZyb21FbnRyaWVzLFxyXG4gIE1lcmdlT2JqZWN0U291cmNlcyxcclxuICBPYmplY3RGcm9tRW50cmllcyxcclxuICBPYmplY3RTb3VyY2VUb09iamVjdCxcclxuICBSZWNvcmRLZXlPZixcclxuICBWYWx1ZVR5cGVPZixcclxufSBmcm9tIFwiLi9faW50ZXJuYWxcIjtcclxuXHJcbmNvbnN0IHNldFN5bWJvbCA9IFN5bWJvbCgpO1xyXG5jb25zdCBnZXRTeW1ib2wgPSBTeW1ib2woKTtcclxuY29uc3QgcHVzaFN5bWJvbCA9IFN5bWJvbCgpO1xyXG5cclxubGV0IGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyA9IDxSPihcclxuICB0YXJnZXQ6IGFueSxcclxuICBlcnJvcjogYW55LFxyXG4gIHJldHJ5OiAoKSA9PiBSXHJcbik6IFIgPT4ge1xyXG4gIGlmICh0YXJnZXQgPT0gbnVsbCB8fCB0YXJnZXQ/LltnZXRTeW1ib2xdKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbiAgbGV0IHNjb3BlID0gZmluZERlY2xhcmluZ1Njb3BlKHRhcmdldCk7XHJcbiAgaWYgKCFzY29wZSkge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG5cclxuICBpZiAoc2NvcGUuT2JqZWN0LnByb3RvdHlwZVtzZXRTeW1ib2xdKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgZm9yIChjb25zdCB7IHByb3RvdHlwZSB9IG9mIFtzY29wZS5NYXAsIHNjb3BlLldlYWtNYXBdKSB7XHJcbiAgICBwcm90b3R5cGVbc2V0U3ltYm9sXSA9IGZ1bmN0aW9uIChrZXk6IGFueSwgdmFsdWU6IGFueSkge1xyXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZvaWQgMFxyXG4gICAgICAgID8gdGhpcy5kZWxldGUoa2V5KVxyXG4gICAgICAgIDogdGhpcy5nZXQoa2V5KSAhPT0gdmFsdWUgJiYgISF0aGlzLnNldChrZXksIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBwcm90b3R5cGVbZ2V0U3ltYm9sXSA9IHByb3RvdHlwZS5nZXQ7XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IHsgcHJvdG90eXBlIH0gb2YgW3Njb3BlLlNldCwgc2NvcGUuV2Vha1NldF0pIHtcclxuICAgIHByb3RvdHlwZVtzZXRTeW1ib2xdID0gZnVuY3Rpb24gKGtleTogYW55LCB2YWx1ZTogYW55LCBhZGQgPSBmYWxzZSkge1xyXG4gICAgICByZXR1cm4gdmFsdWUgfHwgKGFkZCAmJiB2YWx1ZSA9PT0gdm9pZCAwKVxyXG4gICAgICAgID8gdGhpcy5oYXMoa2V5KVxyXG4gICAgICAgICAgPyBmYWxzZVxyXG4gICAgICAgICAgOiAhIXRoaXMuYWRkKGtleSlcclxuICAgICAgICA6IHRoaXMuZGVsZXRlKGtleSk7XHJcbiAgICB9O1xyXG4gICAgcHJvdG90eXBlW2dldFN5bWJvbF0gPSBwcm90b3R5cGUuaGFzO1xyXG4gICAgcHJvdG90eXBlW3B1c2hTeW1ib2xdID0gZnVuY3Rpb24gKGtleXM6IGFueVtdKSB7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIGtleSAhPT0gdm9pZCAwICYmIHRoaXMuYWRkKGtleSk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICB9XHJcbiAgc2NvcGUuQXJyYXkucHJvdG90eXBlW3B1c2hTeW1ib2xdID0gZnVuY3Rpb24gKHZhbHVlczogYW55W10pIHtcclxuICAgIHRoaXMucHVzaCguLi52YWx1ZXMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgZm9yIChjb25zdCB7IHByb3RvdHlwZSB9IG9mIFtzY29wZS5PYmplY3QsIHNjb3BlLkFycmF5XSkge1xyXG4gICAgcHJvdG90eXBlW3NldFN5bWJvbF0gPSBmdW5jdGlvbiAoa2V5OiBhbnksIHZhbHVlOiBhbnkpIHtcclxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAodGhpc1trZXldID0gdmFsdWUpICE9PSB2YWx1ZTtcclxuICAgIH07XHJcbiAgICBwcm90b3R5cGVbZ2V0U3ltYm9sXSA9IGZ1bmN0aW9uIChrZXk6IGFueSkge1xyXG4gICAgICByZXR1cm4gdGhpc1trZXldO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXRyeSgpO1xyXG59O1xyXG5cclxudHlwZSBHZXRSZXN1bHQ8U291cmNlLCBLLCBEZWZhdWx0PiA9IHVua25vd24gZXh0ZW5kcyBEZWZhdWx0XHJcbiAgPyBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+XHJcbiAgOiB1bmRlZmluZWQgZXh0ZW5kcyBEZWZhdWx0XHJcbiAgPyBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+XHJcbiAgOiBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge307XHJcblxyXG5leHBvcnQgbGV0IGdldDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UsXHJcbiAgICBLIGV4dGVuZHMgS2V5VHlwZU9mPFNvdXJjZT4sXHJcbiAgICBJbml0aWFsaXplRGVmYXVsdCBleHRlbmRzICgpID0+IE1heWJlUHJvbWlzZUxpa2U8XHJcbiAgICAgIElucHV0VmFsdWVUeXBlT2Y8U291cmNlLCBLPlxyXG4gICAgPlxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIGtleTogSyxcclxuICAgIGluaXRpYWxpemU6IEluaXRpYWxpemVEZWZhdWx0XHJcbiAgKTogdW5rbm93biBleHRlbmRzIEluaXRpYWxpemVEZWZhdWx0XHJcbiAgICA/IFZhbHVlVHlwZU9mPFNvdXJjZSwgSz4gLy8gQXNzdW1lIGBhbnlgIGlzIG5vdCBhbiBhc3luYyBmdW5jdGlvbi5cclxuICAgIDogSW5pdGlhbGl6ZURlZmF1bHQgZXh0ZW5kcyAoKSA9PiBpbmZlciBEZWZhdWx0XHJcbiAgICA/IERlZmF1bHQgZXh0ZW5kcyBQcm9taXNlTGlrZTxpbmZlciBEZWZhdWx0PlxyXG4gICAgICA/IFByb21pc2U8R2V0UmVzdWx0PFNvdXJjZSwgSywgRGVmYXVsdD4+XHJcbiAgICAgIDogR2V0UmVzdWx0PFNvdXJjZSwgSywgRGVmYXVsdD5cclxuICAgIDogbmV2ZXI7XHJcbiAgPFNvdXJjZSwgSyBleHRlbmRzIEtleVR5cGVPZjxTb3VyY2U+PihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAga2V5OiBLLFxyXG4gICAgaW5pdGlhbGl6ZTogSW5wdXRWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge31cclxuICApOiBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge307XHJcbiAgPFNvdXJjZSwgSyBleHRlbmRzIEtleVR5cGVPZjxTb3VyY2U+PihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAga2V5OiBLLFxyXG4gICAgaW5pdGlhbGl6ZT86IElucHV0VmFsdWVUeXBlT2Y8U291cmNlLCBLPlxyXG4gICk6IFZhbHVlVHlwZU9mPFNvdXJjZSwgSz47XHJcbn0gPSAoc291cmNlOiBhbnksIGtleT86IGFueSwgaW5pdGlhbGl6ZT86IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiBzb3VyY2U7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gc291cmNlW2dldFN5bWJvbF0oa2V5KTtcclxuICAgIGlmIChcclxuICAgICAgdmFsdWUgPT09IHZvaWQgMCAmJlxyXG4gICAgICAodmFsdWUgPSB0eXBlb2YgaW5pdGlhbGl6ZSA9PT0gXCJmdW5jdGlvblwiID8gaW5pdGlhbGl6ZSgpIDogaW5pdGlhbGl6ZSkgIT09XHJcbiAgICAgICAgdm9pZCAwXHJcbiAgICApIHtcclxuICAgICAgaWYgKHZhbHVlPy50aGVuKVxyXG4gICAgICAgIHJldHVybiB2YWx1ZS50aGVuKCh2YWx1ZTogYW55KSA9PlxyXG4gICAgICAgICAgdmFsdWUgPT09IHZvaWQgMCA/IHZhbHVlIDogc291cmNlW3NldFN5bWJvbF0oa2V5LCB2YWx1ZSlcclxuICAgICAgICApO1xyXG4gICAgICBzb3VyY2Vbc2V0U3ltYm9sXShrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gZW5zdXJlQXNzaWduSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgZ2V0Mihzb3VyY2UsIGtleSwgaW5pdGlhbGl6ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBhZGQyOiB7XHJcbiAgPFRhcmdldCwgSyBleHRlbmRzIEtleVR5cGVPZjxUYXJnZXQ+PihcclxuICAgIHRhcmdldDogKFNldDxLPiB8IFdlYWtTZXQ8SyAmIHt9PikgJiBUYXJnZXQsXHJcbiAgICBrZXk6IEssXHJcbiAgICB2YWx1ZT86IElucHV0VmFsdWVUeXBlT2Y8VGFyZ2V0PlxyXG4gICk6IE1heWJlTnVsbGlzaDxib29sZWFuLCBUYXJnZXQ+O1xyXG4gIDxUYXJnZXQsIEsgZXh0ZW5kcyBLZXlUeXBlT2Y8VGFyZ2V0Pj4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogSyxcclxuICAgIHZhbHVlOiBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICApOiBNYXliZU51bGxpc2g8Ym9vbGVhbiwgVGFyZ2V0PjtcclxufSA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlPzogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiB0YXJnZXQ/LltzZXRTeW1ib2xdKGtleSwgdmFsdWUsIHRydWUpID09PSB0cnVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnModGFyZ2V0LCBlLCAoKSA9PlxyXG4gICAgICBhZGQyKHRhcmdldCwga2V5LCB2YWx1ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBzZXQyOiB7XHJcbiAgPFxyXG4gICAgVGFyZ2V0LFxyXG4gICAgSyBleHRlbmRzIEtleVR5cGVPZjxUYXJnZXQ+LFxyXG4gICAgVmFsdWUgZXh0ZW5kcyBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICA+KFxyXG4gICAgdGFyZ2V0OiBUYXJnZXQsXHJcbiAgICBrZXk6IEssXHJcbiAgICB2YWx1ZTogVmFsdWVcclxuICApOiBNYXliZU51bGxpc2g8VmFsdWUsIFRhcmdldD47XHJcbn0gPSAodGFyZ2V0OiBhbnksIGtleTogYW55LCB2YWx1ZTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHRhcmdldFtzZXRTeW1ib2xdKGtleSwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnModGFyZ2V0LCBlLCAoKSA9PlxyXG4gICAgICBzZXQyKHRhcmdldCwga2V5LCB2YWx1ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBleGNoYW5nZTI6IHtcclxuICA8XHJcbiAgICBUYXJnZXQsXHJcbiAgICBLIGV4dGVuZHMgS2V5VHlwZU9mPFRhcmdldD4sXHJcbiAgICBWYWx1ZSBleHRlbmRzIElucHV0VmFsdWVUeXBlT2Y8VGFyZ2V0LCBLPlxyXG4gID4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogSyxcclxuICAgIHZhbHVlOiBWYWx1ZVxyXG4gICk6IE1heWJlTnVsbGlzaDxWYWx1ZSwgVGFyZ2V0PjtcclxufSA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJldmlvdXMgPSB0YXJnZXRbZ2V0U3ltYm9sXShrZXkpO1xyXG4gICAgdGFyZ2V0W3NldFN5bWJvbF0oa2V5LCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gcHJldmlvdXM7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyh0YXJnZXQsIGUsICgpID0+XHJcbiAgICAgIGV4Y2hhbmdlMih0YXJnZXQsIGtleSwgdmFsdWUpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGUyOiB7XHJcbiAgPFRhcmdldCwgSywgVmFsdWUgZXh0ZW5kcyBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz4sIFVwZGF0ZVJlc3VsdD4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogS2V5VHlwZU9mPFRhcmdldD4gJiBLLFxyXG4gICAgdXBkYXRlOiAoXHJcbiAgICAgIGN1cnJlbnQ6IFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICAgICkgPT4gVXBkYXRlUmVzdWx0ICYgTWF5YmVQcm9taXNlTGlrZTxFbmNvdXJhZ2VUdXBsZXM8VmFsdWUgfCB1bmRlZmluZWQ+PlxyXG4gICk6IFByb21pc2VJZlByb21pc2VMaWtlPFxyXG4gICAgTWF5YmVOdWxsaXNoPFZhbHVlVHlwZU9mPFRhcmdldCwgSz4sIFRhcmdldD4sXHJcbiAgICBVcGRhdGVSZXN1bHRcclxuICA+O1xyXG59ID0gKHRhcmdldDogYW55LCBrZXk6IGFueSwgdXBkYXRlOiBhbnkpID0+IHtcclxuICBsZXQgdXBkYXRlZCA9IHVwZGF0ZShnZXQyKHRhcmdldCwga2V5KSk7XHJcbiAgcmV0dXJuIHR5cGVvZiB1cGRhdGVkPy50aGVuID09PSBcImZ1bmN0aW9uXCJcclxuICAgID8gdXBkYXRlZC50aGVuKCh2YWx1ZTogYW55KSA9PiBzZXQyKHRhcmdldCwga2V5LCB2YWx1ZSkpXHJcbiAgICA6IHNldDIodGFyZ2V0LCBrZXksIHVwZGF0ZWQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb25lMjoge1xyXG4gIDxUIGV4dGVuZHMgU2ltcGxlT2JqZWN0IHwgcmVhZG9ubHkgYW55W10+KHZhbHVlOiBULCBkZXB0aD86IG51bWJlcik6IFQ7XHJcbn0gPSAodGVtcGxhdGUsIGRlcHRoID0gLTEpID0+IHtcclxuICBjb25zdCBjdG9yID0gdGVtcGxhdGU/LmNvbnN0cnVjdG9yO1xyXG4gIGlmIChjdG9yID09PSBPYmplY3QgfHwgY3RvciA9PT0gQXJyYXkpIHtcclxuICAgIGNvbnN0IGNsb25lOiBhbnkgPSBjdG9yKCk7XHJcbiAgICBmb3IgKGNvbnN0IHAgaW4gdGVtcGxhdGUpIHtcclxuICAgICAgY29uc3QgcHJvcFZhbHVlID0gdGVtcGxhdGVbcF07XHJcbiAgICAgIGNsb25lW3BdID1cclxuICAgICAgICBkZXB0aCAmJiAocHJvcFZhbHVlPy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IGlzQXJyYXkocHJvcFZhbHVlKSlcclxuICAgICAgICAgID8gY2xvbmUyKHByb3BWYWx1ZSwgZGVwdGggLSAxKVxyXG4gICAgICAgICAgOiBwcm9wVmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG4gIHJldHVybiB0ZW1wbGF0ZTtcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgcHVzaDI6IHtcclxuICA8VGFyZ2V0LCBJdGVtPihcclxuICAgIHRhcmdldDogVGFyZ2V0ICYgKHJlYWRvbmx5IEl0ZW1bXSB8IE51bGxpc2gpLFxyXG4gICAgLi4udmFsdWVzOiAoSXRlbSB8IHVuZGVmaW5lZClbXVxyXG4gICk6IFRhcmdldDtcclxuICA8VGFyZ2V0LCBLPihcclxuICAgIHRhcmdldDogVGFyZ2V0ICYgKFNldDxLPiB8IFdlYWtTZXQ8SyAmIHt9PiksXHJcbiAgICAuLi52YWx1ZXM6IChLIHwgdW5kZWZpbmVkKVtdXHJcbiAgKTtcclxufSA9ICh0YXJnZXQ6IGFueSwgLi4uaXRlbXM6IGFueVtdKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiB0YXJnZXQgPT0gbnVsbCA/IHRhcmdldCA6IHRhcmdldFtwdXNoU3ltYm9sXShpdGVtcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyh0YXJnZXQsIGUsICgpID0+XHJcbiAgICAgIHB1c2gyKHRhcmdldCwgLi4uaXRlbXMpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkaWN0Mjoge1xyXG4gIDxTb3VyY2UgZXh0ZW5kcyBNYXBTb3VyY2U8SywgVj4sIEssIFY+KHNvdXJjZTogU291cmNlKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgPyBTb3VyY2VcclxuICAgIDogT2JqZWN0U291cmNlVG9PYmplY3Q8U291cmNlPjtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQgZXh0ZW5kcyByZWFkb25seSBbSywgVl0gfCBOdWxsaXNoLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlcixcclxuICAgIEssXHJcbiAgICBWXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPlxyXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2hcclxuICAgID8gU291cmNlXHJcbiAgICA6IE1hcEZyb21FbnRyaWVzPEl0ZXJhdGlvblByb2plY3RlZDxQcm9qZWN0ZWQ+PjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSkgPT4ge1xyXG4gIGNvbnN0IHRhcmdldCA9IG5ldyBNYXAoKTtcclxuICBmb3JFYWNoMihcclxuICAgIHNvdXJjZSxcclxuICAgIHByb2plY3Rpb25cclxuICAgICAgPyAoaXRlbSwgaW5kZXgsIHNlZWQpID0+XHJcbiAgICAgICAgICAoaXRlbSA9IHByb2plY3Rpb24oaXRlbSwgaW5kZXgsIHNlZWQpKSAmJlxyXG4gICAgICAgICAgKHR5cGVvZiBpdGVtICE9PSBcInN5bWJvbFwiIHx8IChpdGVtICE9PSBza2lwMiAmJiBpdGVtICE9PSBzdG9wMikpXHJcbiAgICAgICAgICAgID8gdGFyZ2V0LnNldChpdGVtWzBdLCBpdGVtWzFdKVxyXG4gICAgICAgICAgICA6IGl0ZW1cclxuICAgICAgOiAoaXRlbSkgPT5cclxuICAgICAgICAgIGl0ZW0gJiZcclxuICAgICAgICAgICh0eXBlb2YgaXRlbSAhPT0gXCJzeW1ib2xcIiB8fCAoaXRlbSAhPT0gc2tpcDIgJiYgaXRlbSAhPT0gc3RvcDIpKVxyXG4gICAgICAgICAgICA/IHRhcmdldC5zZXQoaXRlbVswXSwgaXRlbVsxXSlcclxuICAgICAgICAgICAgOiBpdGVtXHJcbiAgKTtcclxuICByZXR1cm4gdGFyZ2V0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9iajI6IHtcclxuICA8U291cmNlIGV4dGVuZHMgT2JqZWN0U291cmNlPEssIFY+LCBLIGV4dGVuZHMga2V5b2YgYW55LCBWPihcclxuICAgIHNvdXJjZTogU291cmNlXHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFNvdXJjZSA6IE9iamVjdFNvdXJjZVRvT2JqZWN0PFNvdXJjZT47XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkIGV4dGVuZHMgS2V5VmFsdWVUeXBlPEssIFY+IHwgTnVsbGlzaCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsXHJcbiAgICBLIGV4dGVuZHMga2V5b2YgYW55LFxyXG4gICAgVlxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD5cclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoXHJcbiAgICA/IFNvdXJjZVxyXG4gICAgOiBPYmplY3RGcm9tRW50cmllczxJdGVyYXRpb25Qcm9qZWN0ZWQ8UHJvamVjdGVkPj47XHJcbn0gPSAoc291cmNlOiBhbnksIHByb2plY3Rpb24/OiBhbnkpID0+IHtcclxuICBjb25zdCB0YXJnZXQgPSB7fTtcclxuICBmb3JFYWNoMihcclxuICAgIHNvdXJjZSxcclxuICAgIHByb2plY3Rpb25cclxuICAgICAgPyAoaXRlbSwgaW5kZXgsIHNlZWQpID0+XHJcbiAgICAgICAgICAoaXRlbSA9IHByb2plY3Rpb24oaXRlbSwgaW5kZXgsIHNlZWQpKSAmJlxyXG4gICAgICAgICAgKHR5cGVvZiBpdGVtICE9PSBcInN5bWJvbFwiIHx8IChpdGVtICE9PSBza2lwMiAmJiBpdGVtICE9PSBzdG9wMikpXHJcbiAgICAgICAgICAgID8gKHRhcmdldFtpdGVtWzBdXSA9IGl0ZW1bMV0pXHJcbiAgICAgICAgICAgIDogaXRlbVxyXG4gICAgICA6IChpdGVtKSA9PlxyXG4gICAgICAgICAgaXRlbSAmJlxyXG4gICAgICAgICAgKHR5cGVvZiBpdGVtICE9PSBcInN5bWJvbFwiIHx8IChpdGVtICE9PSBza2lwMiAmJiBpdGVtICE9PSBzdG9wMikpXHJcbiAgICAgICAgICAgID8gKHRhcmdldFtpdGVtWzBdXSA9IGl0ZW1bMV0pXHJcbiAgICAgICAgICAgIDogaXRlbVxyXG4gICk7XHJcbiAgcmV0dXJuIHRhcmdldDtcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgYXNzaWduMjoge1xyXG4gIDxUYXJnZXQsIEl0cyBleHRlbmRzIHJlYWRvbmx5IEFzc2lnblNvdXJjZTxUYXJnZXQ+W10+KFxyXG4gICAgdGFyZ2V0OiBUYXJnZXQsXHJcbiAgICAuLi5zb3VyY2VzOiBJdHNcclxuICApOiBUYXJnZXQ7XHJcbn0gPSAodGFyZ2V0LCAuLi5zb3VyY2VzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICh0YXJnZXQ/LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgZm9yRWFjaDIoc291cmNlcywgKHNvdXJjZSkgPT5cclxuICAgICAgICBmb3JFYWNoMihzb3VyY2UhLCAoa3YpID0+IGt2ICYmICh0YXJnZXRba3ZbMF1dID0ga3ZbMV0pKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yRWFjaDIoc291cmNlcywgKHNvdXJjZSkgPT5cclxuICAgICAgICBmb3JFYWNoMihzb3VyY2UsIChrdikgPT4ga3YgJiYgdGFyZ2V0W3NldFN5bWJvbF0oa3ZbMF0sIGt2WzFdKSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyh0YXJnZXQsIGUsICgpID0+XHJcbiAgICAgIGFzc2lnbjIodGFyZ2V0LCAuLi5zb3VyY2VzKVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lcmdlMlNldHRpbmdzPFxyXG4gIERlZXAgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcclxuICBPdmVyd3JpdGUgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcclxuICBPdmVyd3JpdGVOdWxscyBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXHJcbj4ge1xyXG4gIC8qKlxyXG4gICAqIE1lcmdlIG5lc3RlZCBvYmplY3RzIGlmIGJvdGggdGhlIHRhcmdldCBhbmQgc291cmNlIHZhbHVlcyBhcmUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXA/OiBEZWVwO1xyXG5cclxuICAvKipcclxuICAgKiBEb24ndCBtZXJnZSB0aGUgdmFsdWUgZnJvbSB0aGUgb3RoZXIgb2JqZWN0KHMpIGlmIHRoZSB0YXJnZXQgYWxyZWFkeSBoYXMgYSB2YWx1ZS5cclxuICAgKi9cclxuICBvdmVyd3JpdGU/OiBPdmVyd3JpdGU7XHJcbiAgLyoqXHJcbiAgICogT3ZlcndyaXRlIGBudWxsYCBhcyBpZiBpdCB3YXMgYHVuZGVmaW5lZGAgd2hlbiBtZXJnaW5nIHdpdGggYG92ZXJ3cml0ZTogZmFsc2VgLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgbnVsbHM/OiBib29sZWFuO1xyXG59XHJcbmV4cG9ydCBjb25zdCBtZXJnZTI6IHtcclxuICA8XHJcbiAgICBUYXJnZXQsXHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBTaW1wbGVPYmplY3QgfCBGYWxzaXNoIHwgSXRlcmFibGU8T2JqZWN0U291cmNlPixcclxuICAgIERlZXAgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZSxcclxuICAgIE92ZXJ3cml0ZSBleHRlbmRzIGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgT3ZlcndyaXRlTnVsbHMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2VcclxuICA+KFxyXG4gICAgdGFyZ2V0OiBUYXJnZXQsXHJcbiAgICBzb3VyY2VzOiBFbmNvdXJhZ2VUdXBsZXM8U291cmNlPixcclxuICAgIG9wdGlvbnM/OiBNZXJnZTJTZXR0aW5nczxEZWVwLCBPdmVyd3JpdGUsIE92ZXJ3cml0ZU51bGxzPlxyXG4gICk6IFRhcmdldCBleHRlbmRzIE51bGxpc2hcclxuICAgID8gVGFyZ2V0XHJcbiAgICA6IE1lcmdlT2JqZWN0U291cmNlczxUYXJnZXQsIFNvdXJjZSwgRGVlcCwgT3ZlcndyaXRlLCBPdmVyd3JpdGVOdWxscz47XHJcbn0gPSAoXHJcbiAgdGFyZ2V0OiBhbnksXHJcbiAgc291cmNlczogYW55LFxyXG4gIG9wdGlvbnM6IHsgZGVlcD86IGJvb2xlYW47IG92ZXJ3cml0ZT86IGJvb2xlYW47IG51bGxzPzogYm9vbGVhbiB9ID0ge31cclxuKSA9PiB7XHJcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkZWVwID0gdHJ1ZSwgb3ZlcndyaXRlID0gdHJ1ZSwgbnVsbHMgPSBmYWxzZSB9ID0gb3B0aW9ucztcclxuXHJcbiAgZm9yIChjb25zdCBzb3VyY2Ugb2YgaXRlcmFibGUyKHNvdXJjZXMpKSB7XHJcbiAgICBmb3JFYWNoMihzb3VyY2UsIChrdikgPT4ge1xyXG4gICAgICBpZiAoIWt2KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGt2O1xyXG4gICAgICBjb25zdCBjdXJyZW50ID0gdGFyZ2V0W2tleV07XHJcbiAgICAgIGlmIChudWxscyA/IGN1cnJlbnQgPT0gbnVsbCA6IGN1cnJlbnQgPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZGVlcCAmJlxyXG4gICAgICAgIHZhbHVlPy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmXHJcbiAgICAgICAgY3VycmVudD8uY29uc3RydWN0b3IgPT09IE9iamVjdFxyXG4gICAgICApIHtcclxuICAgICAgICBtZXJnZTIoY3VycmVudCwgdmFsdWUsIG9wdGlvbnMpO1xyXG4gICAgICB9IGVsc2UgaWYgKG92ZXJ3cml0ZSkge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHBpY2syOiB7XHJcbiAgPFxyXG4gICAgVCBleHRlbmRzIG9iamVjdCB8IE51bGxpc2gsXHJcbiAgICBUSyBleHRlbmRzIGtleW9mIChUICYge30pLFxyXG4gICAgSyBleHRlbmRzIFJlY29yZEtleU9mPFQ+XHJcbiAgPihcclxuICAgIHRhcmdldDogVCxcclxuICAgIC8vIFRoZSBgSyB8IEdgIHRyaWNrIGlzIGJlY2F1c2UgVHlwZVNjcmlwdCB3aWxsIGNvbnNpZGVyIGBbXCJwcm9wMVwiLCBcInByb3AyXCJdYCBhcyBgc3RyaW5nW11gXHJcbiAgICAvLyAgd2l0aG91dCB0aGUgYEsgZXh0ZW5kcyBrZXlvZiBUYCBjb25zdHJhaW50IChpbiB3aGljaCBjYXNlIGl0IGdldHMgaXQgcmlnaHQgYXMgKFwicHJvcDFcInxcInByb3AyXCIpW10pLlxyXG4gICAgLy8gYGtleW9mIFRgIGlzIHRvbyByZXN0cmljdGl2ZSBzaW5jZSB3ZSBhbHNvIHdhbnQgdG8gc3VwcG9ydCBpbnRlcnNlY3Rpb24gdHlwZXMuXHJcbiAgICBrZXlzOiBJdGVyYWJsZTxUSyB8IEs+XHJcbiAgKTogVCBleHRlbmRzIE51bGxpc2hcclxuICAgID8gVFxyXG4gICAgOiBUIGV4dGVuZHMgaW5mZXIgVFxyXG4gICAgPyAoVEsgfCBLKSAmIGtleW9mIFQgZXh0ZW5kcyBpbmZlciBLIGV4dGVuZHMga2V5b2YgVFxyXG4gICAgICA/IHtcclxuICAgICAgICAgIFtQIGluIEtdOiBUW1BdO1xyXG4gICAgICAgIH1cclxuICAgICAgOiBuZXZlclxyXG4gICAgOiBuZXZlcjtcclxufSA9ICh0YXJnZXQsIGtleXMpID0+XHJcbiAgdGFyZ2V0ID09IG51bGxcclxuICAgID8gdGFyZ2V0XHJcbiAgICA6IChvYmoyKGtleXMsIChrZXkpID0+XHJcbiAgICAgICAgLy8gVGhlIGZpcnN0IGNoZWNrIGlzIHByZXN1bWFibHkgZmFzdGVyIHRoYW4gdGhlIGBpbmAgb3BlcmF0b3IuXHJcbiAgICAgICAgdGFyZ2V0W2tleSBhcyBhbnldICE9PSB2b2lkIDAgfHwga2V5IGluIHRhcmdldFxyXG4gICAgICAgICAgPyBba2V5LCB0YXJnZXRba2V5IGFzIGFueV1dXHJcbiAgICAgICAgICA6IHNraXAyXHJcbiAgICAgICkgYXMgYW55KTtcclxuIiwiaW1wb3J0IHtcclxuICBmaWx0ZXIyLFxyXG4gIGZvckVhY2gyLFxyXG4gIGlzQXJyYXksXHJcbiAgaXNJdGVyYWJsZSxcclxuICBJdGVyYXRpb25Qcm9qZWN0aW9uMixcclxuICBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgbWFwMixcclxuICBOdWxsaXNoLFxyXG4gIHJlcGxhY2UsXHJcbiAgc2tpcDIsXHJcbiAgc3RvcDIsXHJcbn0gZnJvbSBcIi4uXCI7XHJcblxyXG5jb25zdCBpc0VtcHR5U3RyaW5nID0gKHM6IGFueSkgPT5cclxuICBzID09IG51bGwgfHwgdHlwZW9mIHMgPT09IFwiYm9vbGVhblwiIHx8IHMudG9TdHJpbmcoKSA9PT0gXCJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luMjoge1xyXG4gIC8qKiBKb2lucyB0aGUgc3BlY2lmaWVkIHZhbHVlcyB3aXRoIHRoZSBzcGVjaWZpZWQgc2VwYXJhdG9yIChkZWZhdWx0IFwiXCIpLiBgbnVsbGAsIGB1bmRlZmluZWRgLCBlbXB0eSBzdHJpbmdzIGFuZCBib29sZWFucyBhcmUgb21pdHRlZC4gKi9cclxuICA8U291cmNlPihzb3VyY2U6IFNvdXJjZSwgc2VwYXJhdG9yPzogc3RyaW5nKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgPyBTb3VyY2VcclxuICAgIDogc3RyaW5nO1xyXG4gIC8qKiBKb2lucyB0aGUgcHJvamVjdGlvbiBvZiB0aGUgc3BlY2lmaWVkIHZhbHVlcyB3aXRoIHRoZSBzcGVjaWZpZWQgc2VwYXJhdG9yIChkZWZhdWx0IFwiXCIpLiBgbnVsbGAsIGB1bmRlZmluZWRgLCBlbXB0eSBzdHJpbmdzIGFuZCBib29sZWFucyBhcmUgb21pdHRlZC4gKi9cclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlcixcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkID0gYW55XHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbj86IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBzZXBhcmF0b3I/OiBzdHJpbmdcclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gU291cmNlIDogc3RyaW5nO1xyXG59ID0gKHNvdXJjZTogYW55LCBhcmcxOiBhbnksIGFyZzI/OiBhbnkpID0+XHJcbiAgc291cmNlID09IG51bGxcclxuICAgID8gc291cmNlXHJcbiAgICA6ICFpc0l0ZXJhYmxlKHNvdXJjZSlcclxuICAgID8gaXNFbXB0eVN0cmluZyhzb3VyY2UpXHJcbiAgICAgID8gXCJcIlxyXG4gICAgICA6IHNvdXJjZS50b1N0cmluZygpXHJcbiAgICA6IGZpbHRlcjIoXHJcbiAgICAgICAgdHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgPyBtYXAyKHNvdXJjZSwgYXJnMSlcclxuICAgICAgICAgIDogKChhcmcyID0gYXJnMSksIHNvdXJjZSksXHJcbiAgICAgICAgaXNFbXB0eVN0cmluZyxcclxuICAgICAgICB0cnVlXHJcbiAgICAgICkuam9pbihhcmcyID8/IFwiXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluZGVudDIgPSA8VCBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxyXG4gIHRleHQ6IFQsXHJcbiAgaW5kZW50ID0gXCIgIFwiXHJcbik6IFQgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IHN0cmluZyA9PiB7XHJcbiAgaWYgKHRleHQgPT0gbnVsbCkgcmV0dXJuIHRleHQgYXMgYW55O1xyXG4gIGxldCBpID0gMDtcclxuICBsZXQgYmFzZUluZGVudCA9IDA7XHJcbiAgcmV0dXJuIHJlcGxhY2UodGV4dCwgLyggKikoW15cXHJcXG5dKikoXFxyP1xcbj8pL2csIChfLCBsaW5lSW5kZW50LCB0ZXh0LCBicikgPT4ge1xyXG4gICAgaWYgKCF0ZXh0KSB7XHJcbiAgICAgIHJldHVybiBicjtcclxuICAgIH1cclxuICAgIGlmICghaSsrKSB7XHJcbiAgICAgIGJhc2VJbmRlbnQgPSBsaW5lSW5kZW50Lmxlbmd0aDtcclxuICAgIH1cclxuICAgIHJldHVybiBgJHtpbmRlbnR9JHtcclxuICAgICAgbGluZUluZGVudC5sZW5ndGggPj0gYmFzZUluZGVudCA/IGxpbmVJbmRlbnQuc2xpY2UoYmFzZUluZGVudCkgOiBcIlwiXHJcbiAgICB9JHt0ZXh0fSR7YnJ9YDtcclxuICB9KSBhcyBhbnk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5MjogPFQ+KHZhbHVlOiBUKSA9PiBUIGV4dGVuZHMgdW5kZWZpbmVkID8gVCA6IHN0cmluZyA9XHJcbiAgSlNPTi5zdHJpbmdpZnk7XHJcblxyXG5leHBvcnQgY29uc3QganNvbjIgPSA8VmFsdWUgPSBhbnk+KFxyXG4gIHZhbHVlOiBhbnlcclxuKTogVmFsdWUgZXh0ZW5kcyBOdWxsaXNoIHwgXCJcIiA/IHVuZGVmaW5lZCA6IFZhbHVlID0+XHJcbiAgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gXCJcIlxyXG4gICAgPyB1bmRlZmluZWRcclxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiXHJcbiAgICA/IHZhbHVlXHJcbiAgICA6IEpTT04ucGFyc2UodmFsdWUgKyBcIlwiKTtcclxuXHJcbi8qKlxyXG4gKiBJdGVtaXplcyBhbiBhcnJheSBvZiBpdGVtcyBieSBzZXBhcmF0aW5nIHRoZW0gd2l0aCBjb21tYXMgYW5kIGEgY29uanVuY3Rpb24gbGlrZSBcImFuZFwiIG9yIFwib3JcIi5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpdGVtaXplMjoge1xyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgdmFsdWVzOiBTb3VyY2UsXHJcbiAgICBjb25qdW5jdGlvbj86XHJcbiAgICAgIHwgbnVsbFxyXG4gICAgICB8IHN0cmluZ1xyXG4gICAgICB8IFtjb21tYTogc3RyaW5nIHwgTnVsbGlzaCwgY29uanVuY3Rpb246IHN0cmluZyB8IE51bGxpc2hdLFxyXG4gICAgcmVzdWx0PzogKGVudW1lcmF0ZWQ6IHN0cmluZywgbjogbnVtYmVyKSA9PiBzdHJpbmdcclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gU291cmNlIDogc3RyaW5nO1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXJcclxuICA+KFxyXG4gICAgdmFsdWVzOiBTb3VyY2UsXHJcbiAgICBmb3JtYXQ6IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBjb25qdW5jdGlvbj86XHJcbiAgICAgIHwgc3RyaW5nXHJcbiAgICAgIHwgW2NvbW1hOiBzdHJpbmcgfCBOdWxsaXNoLCBjb25qdW5jdGlvbjogc3RyaW5nIHwgTnVsbGlzaF0sXHJcbiAgICByZXN1bHQ/OiAoZW51bWVyYXRlZDogc3RyaW5nLCBuOiBudW1iZXIpID0+IHN0cmluZ1xyXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2ggPyBTb3VyY2UgOiBzdHJpbmc7XHJcbn0gPSAodmFsdWVzOiBhbnksIHNlcGFyYXRvcnM/OiBhbnksIHJlc3VsdD86IGFueSwgcmVzdD86IGFueSkgPT4ge1xyXG4gIGlmICghdmFsdWVzICYmIHZhbHVlcyAhPT0gMCkgcmV0dXJuIHZhbHVlcyA9PSBudWxsID8gdmFsdWVzIDogdW5kZWZpbmVkO1xyXG5cclxuICBpZiAodHlwZW9mIHNlcGFyYXRvcnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgcmV0dXJuIGl0ZW1pemUyKG1hcDIodmFsdWVzLCBzZXBhcmF0b3JzKSwgcmVzdWx0LCByZXN0KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpcnN0OiBzdHJpbmdbXSA9IFtdO1xyXG4gIGNvbnN0IGxhc3QgPSBmb3JFYWNoMih2YWx1ZXMsIChpdGVtLCBfLCBwcmV2KSA9PlxyXG4gICAgaXNFbXB0eVN0cmluZyhpdGVtKSA/IHNraXAyIDogKHByZXYgJiYgZmlyc3QucHVzaChwcmV2KSwgaXRlbS50b1N0cmluZygpKVxyXG4gICk7XHJcblxyXG4gIGxldCBbc2VwYXJhdG9yLCBjb25qdW5jdGlvbl0gPSBpc0FycmF5KHNlcGFyYXRvcnMpXHJcbiAgICA/IHNlcGFyYXRvcnNcclxuICAgIDogWywgc2VwYXJhdG9yc107XHJcblxyXG4gIHNlcGFyYXRvciA/Pz0gXCIsXCI7XHJcbiAgY29uanVuY3Rpb24gPVxyXG4gICAgKGNvbmp1bmN0aW9uID8/PSBcImFuZFwiKVswXSA9PT0gc2VwYXJhdG9yXHJcbiAgICAgID8gLy8gVGhlIGNvbmp1bmN0aW9uIHN0YXJ0cyB3aXRoIHRoZSBzZXBhcmF0b3IgZm9yIFwiMSwgMiwgb3IgM1wiLlxyXG4gICAgICAgIGNvbmp1bmN0aW9uICsgXCIgXCJcclxuICAgICAgOiBcIiBcIiArXHJcbiAgICAgICAgLy8gRG9uJ3QgYWRkIHR3byBzcGFjZXMgaWYgdGhlIGNvbmp1bmN0aW9uIGlzIHRoZSBlbXB0eSBzdHJpbmcuXHJcbiAgICAgICAgKGNvbmp1bmN0aW9uID8gY29uanVuY3Rpb24gKyBcIiBcIiA6IFwiXCIpO1xyXG5cclxuICBjb25zdCBlbnVtZXJhdGVkID0gZmlyc3QubGVuZ3RoXHJcbiAgICA/IGAke2ZpcnN0LmpvaW4oc2VwYXJhdG9yICsgXCIgXCIpfSR7Y29uanVuY3Rpb259JHtsYXN0fWBcclxuICAgIDogbGFzdCA/PyBcIlwiO1xyXG5cclxuICByZXR1cm4gcmVzdWx0XHJcbiAgICA/IHJlc3VsdChlbnVtZXJhdGVkLCBmaXJzdC5sZW5ndGggKyArKGxhc3QgIT0gbnVsbCkpXHJcbiAgICA6IChlbnVtZXJhdGVkIGFzIGFueSk7XHJcbn07XHJcbiIsImltcG9ydCB7IGNyZWF0ZUVudW1QYXJzZXIgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5cbi8qKlxuICogRGVmaW5lcyB0byB3aGljaCBleHRlbmQgYSBwaWVjZSBvZiBpbmZvcm1hdGlvbiByZWxhdGVzIHRvIGEgbmF0dXJhbCBpbmRpdmlkdWFsIHdoaWNoIGlzIHR5cGljYWxseSBzb21lb25lIHZpc2l0aW5nIHlvdXIgYXBwIG9yIHdlYnNpdGUuXG4gKlxuICogVGFpbC5qcyByZXF1aXJlcyBhbGwgZGF0YSB0aGF0IGNhbiBiZSBjb2xsZWN0ZWQgdG8gYmUgY2xhc3NpZmllZCB0byBwcmV2ZW50IGFueSBkYXRhIGZyb20gYmVpbmcgc3RvcmVkIG9yIG90aGVyd2lzZSB1c2VkIGJleW9uZFxuICogYW4gaW5kaXZpZHVhbCdzIGNvbnNlbnQuXG4gKlxuICogQmUgYXdhcmUgdGhhdCBkZSBkZWZhdWx0IHNldHRpbmdzIGluIHRoZSB0YWlsLmpzIHNjaGVtYSAqZG8gbm90KiBndWFyYW50ZWUgbGVnYWwgY29tcGxpYW5jZSwgYW5kIHlvdSBhcmUgcmVzcG9uc2libGVcbiAqIGZvciBub3QgdXNpbmcgdGhlIGNvbGxlY3RlZCBkYXRhIGZvciBvdGhlciBwdXJwb3NlcyB0aGFuIHRob3NlIGludGVuZGVkLlxuICpcbiAqL1xuY29uc3QgbGV2ZWxzID0ge1xuICAvKipcbiAgICogQSBcImNvbnNlbnRcIiBmb3IgdGhpcyBkYXRhIGNsYXNzaWZpY2F0aW9uIG1lYW5zIHRoYXQgbm8gZGF0YSB3aWxsIGJlIHN0b3JlZCBmb3IgYW55IHJlYXNvbi5cbiAgICpcbiAgICogTGlrZXdpc2UsIGlmIHVzZWQgaW4gYSBzY2hlbWEgYWxsIGRhdGEgd2l0aCB0aGlzIGNsYXNzaWZpY2F0aW9uIHdpbGwgbm90IGJlIHN0b3JlZC5cbiAgICovXG4gIG5ldmVyOiBcIm5ldmVyXCIsXG5cbiAgLyoqXG4gICAqIFRoZSBkYXRhIGNhbm5vdCBiZSBsaW5rZWQgdG8gYSBzcGVjaWZpYyBpbmRpdmlkdWFsIGFmdGVyIHRoZXkgbGVhdmUgdGhlIHdlYnNpdGUgb3IgYXBwLCBhbmQgdGhlaXIgc2Vzc2lvbiBlbmRzLlxuICAgKlxuICAgKiBUaGlzIGRvZXMgX25vdF8gaW5jbHVkZSBzZWVtaW5nbHkgYW5vbnltb3VzIGRhdGEgc3VjaCBhcyB0aGUgaGFzaCBvZiBhbiBJUCBhZGRyZXNzLCBzaW5jZSB0aGF0IG1heSBzdGlsbCBiZSBsaW5rZWQgYmFja1xuICAgKiB0byBhbiBpbmRpdmlkdWFsIHVzaW5nIFwiYWRkaXRpb25hbCBpbmZvcm1hdGlvblwiLiBBcyBhbiBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0ZXN0IGlmIGEgc3BlY2lmaWMgcGVyc29uIHZpc2l0ZWQgYSB3ZWJzaXRlIGF0IGEgZ2l2ZW4gdGltZVxuICAgKiBhbmQgeW91IGtub3cgdGhlaXIgSVAgYWRkcmVzcyBhdCB0aGF0IHRpbWUgYnkgc29tZSBvdGhlciBtZWFucywgeW91IGNhbiBnZW5lcmF0ZSBhIGhhc2ggd2l0aCB0aGUgc2FtZSBhbGdvcml0aG0gYW5kIHNlZSBpZiBpdCBpc1xuICAgKiBpbiB0aGUgZGF0YS5cbiAgICpcbiAgICogVGFpbC5qcyB3aWxsIGNvbGxlY3QgdGhpcyBraW5kIG9mIGRhdGEgaW4gYSB3YXkgdGhhdCBkb2VzIG5vdCB1c2UgY29va2llcyBvciBvdGhlciBpbmZvcm1hdGlvbiBwZXJzaXN0ZWQgaW4gdGhlIGluZGl2aWR1YWwncyBkZXZpY2UuICovXG4gIGFub255bW91czogXCJhbm9ueW1vdXNcIixcblxuICAvKipcbiAgICogVGhlIGRhdGEgaXMgdW5saWtlbHkgdG8gaWRlbnRpZnkgYW4gaW5kaXZpZHVhbCBieSBpdHNlbGYsIGJ1dCBtYXkgbGluayB0byBhIHNwZWNpZmljIGluZGl2aWR1YWwgaWYgY29tYmluZWQgd2l0aCBvdGhlciBkYXRhLlxuICAgKlxuICAgKiBFeGFtcGxlcyBhcmUgSVAgYWRkcmVzc2VzLCBkZXRhaWxlZCBsb2NhdGlvbiBkYXRhLCBhbmQgcmFuZG9tbHkgZ2VuZXJhdGVkIGRldmljZSBJRHMgcGVyc2lzdGVkIG92ZXIgdGltZSB0byB0cmFjayByZXR1cm5pbmcgdmlzaXRvcnMuXG4gICAqL1xuICBpbmRpcmVjdDogXCJpbmRpcmVjdFwiLFxuXG4gIC8qKlxuICAgKiBUaGUgZGF0YSBkaXJlY3RseSBpZGVudGlmaWVzIGEgc3BlY2lmaWMgaW5kaXZpZHVhbC5cbiAgICpcbiAgICogRXhhbXBsZXMgYXJlIG5hbWVzLCBlbWFpbCBhZGRyZXNzZXMsIHVzZXIgbmFtZXMsIGN1c3RvbWVyIElEcyBmcm9tIGEgQ1JNIHN5c3RlbSBvciBvcmRlciBudW1iZXJzIHRoYXQgY2FuIGJlIGxpbmtlZFxuICAgKiB0byBhbm90aGVyIHN5c3RlbSB3aGVyZSB0aGUgcGVyc29ucyBkZXRhaWxzIGFyZSBhdmFpbGFibGUuXG4gICAqL1xuICBkaXJlY3Q6IFwiZGlyZWN0XCIsXG5cbiAgLyoqXG4gICAqIE5vdCBvbmx5IGRvZXMgdGhlIGRhdGEgaWRlbnRpZnkgYSBzcGVjaWZpYyBpbmRpdmlkdWFsIGJ1dCBtYXkgYWxzbyByZXZlYWwgc2Vuc2l0aXZlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyXG4gICAqIHN1Y2ggYXMgaGVhbHRoIGRhdGEsIGZpbmFuY2lhbCBtYXR0ZXJzLCByYWNlLCBwb2xpdGljYWwgYW5kIHJlbGlnaW91cyB2aWV3cywgb3IgdW5pb24gbWVtYmVyc2hpcC5cbiAgICpcbiAgICogdGFpbC5qcydzIGRlZmF1bHQgc2NoZW1hIGRvZXMgbm90IGhhdmUgYW55IGRhdGEgd2l0aCB0aGlzIGNsYXNzaWZpY2F0aW9uLiBJZiB5b3UgaW50ZW5kIHRvIGNhcHR1cmUgc2Vuc2l0aXZlIGRhdGEgaW4geW91ciBldmVudHNcbiAgICogeW91IG1heSBjb25zaWRlciBwc2V1ZG9ub21pemluZyBpdCBieSBoYXNoaW5nIGl0IG9yIG9iZnVzY2F0aW5nIGl0IGJ5IHNvbWUgb3RoZXIgbWVjaGFuaXNtLlxuICAgKiBXaGV0aGVyIHRoZSBkYXRhIHdpbGwgdGhlbiBjbGFzc2lmeSBhcyBcImluZGlyZWN0XCIgb3Igc3RpbGwgYmUgXCJzZW5zaXRpdmVcIiBkZXBlbmRzIG9uIGNvbnRleHQsIGJ1dCBpdCB3aWxsIGFyZ3VhYmx5IHRoZW4gYmVcbiAgICogXCJsZXNzIHNlbnNpdGl2ZVwiLlxuICAgKi9cbiAgc2Vuc2l0aXZlOiBcInNlbnNpdGl2ZVwiLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgRGF0YUNsYXNzaWZpY2F0aW9uID0gKHR5cGVvZiBsZXZlbHMpW2tleW9mIHR5cGVvZiBsZXZlbHNdO1xuXG5leHBvcnQgY29uc3QgRGF0YUNsYXNzaWZpY2F0aW9uID0gY3JlYXRlRW51bVBhcnNlcihcbiAgXCJkYXRhIGNsYXNzaWZpY2F0aW9uXCIsXG4gIGxldmVsc1xuKTtcbiIsImltcG9ydCB7XG4gIGZyb21FbnRyaWVzLFxuICBpc0FycmF5LFxuICBpc1N0cmluZyxcbiAga2V5czIsXG4gIG1hcDIsXG4gIE51bGxpc2gsXG4gIG9iajIsXG4gIHNraXAyLFxuICB0aHJvd0Vycm9yLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBTQ0hFTUFfVFlQRV9QUk9QRVJUWSwgdHlwZSBEYXRhVXNhZ2UgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgdHlwZSBEYXRhUHVycG9zZU5hbWUgPSBrZXlvZiBEYXRhUHVycG9zZXMgfCBcIm5lY2Vzc2FyeVwiO1xuY29uc3QgREFUQV9QVVJQT1NFUzogRGF0YVB1cnBvc2VOYW1lW10gPSBbXG4gIFwibmVjZXNzYXJ5XCIsXG4gIFwicGVyZm9ybWFuY2VcIixcbiAgXCJmdW5jdGlvbmFsaXR5XCIsXG4gIFwibWFya2V0aW5nXCIsXG4gIFwicGVyc29uYWxpemF0aW9uXCIsXG4gIFwic2VjdXJpdHlcIixcbl07XG5cbmNvbnN0IFZBTElEX1BVUlBPU0VfTkFNRVMgPSBvYmoyKERBVEFfUFVSUE9TRVMsIChwdXJwb3NlKSA9PiBbXG4gIHB1cnBvc2UsXG4gIHB1cnBvc2UsXG5dKTtcblxuZXhwb3J0IGNvbnN0IERBVEFfUFVSUE9TRVNfQUxMOiBEYXRhUHVycG9zZXMgPSBPYmplY3QuZnJlZXplKFxuICBmcm9tRW50cmllcyhEQVRBX1BVUlBPU0VTLm1hcCgocHVycG9zZSkgPT4gW3B1cnBvc2UsIHRydWVdKSlcbik7XG5cbi8qKlxuICogT3B0aW9uYWwgcHVycG9zZXMgdGhhdCBtdXN0IGJlIHRyZWF0ZWQgc2VwYXJhdGVseS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25hbFB1cnBvc2VzIHtcbiAgLyoqXG4gICAqIENvbnNpZGVyIHRoZSBzZWN1cml0eSBwdXJwb3NlIGRpZmZlcmVudCBmcm9tIFwibmVjZXNzYXJ5XCIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBzZWN1cml0eTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ29uc2lkZXIgdGhlIHBlcnNvbmFsaXphdGlvbiBwdXJwb3NlIGRpZmZlcmVudCBmcm9tIFwiZnVuY3Rpb25hbGl0eVwiLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcGVyc29uYWxpemF0aW9uOiBib29sZWFuO1xufVxuXG5jb25zdCBtYXBPcHRpb25hbFB1cnBvc2U6IHtcbiAgPFQgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoPihcbiAgICBwdXJwb3NlOiBULFxuICAgIG9wdGlvbmFsUHVycG9zZXM6IE9wdGlvbmFsUHVycG9zZXMgfCBOdWxsaXNoXG4gICk6IFQgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IERhdGFQdXJwb3NlTmFtZTtcbn0gPSAocHVycG9zZSwgb3B0aW9uYWxQdXJwb3Nlcyk6IGFueSA9PlxuICBwdXJwb3NlID09PSBcInBlcnNvbmFsaXphdGlvblwiICYmIG9wdGlvbmFsUHVycG9zZXM/LnBlcnNvbmFsaXphdGlvbiAhPT0gdHJ1ZVxuICAgID8gXCJmdW5jdGlvbmFsaXR5XCJcbiAgICA6IHB1cnBvc2UgPT09IFwic2VjdXJpdHlcIiAmJiBvcHRpb25hbFB1cnBvc2VzPy5zZWN1cml0eSAhPT0gdHJ1ZVxuICAgID8gXCJuZWNlc3NhcnlcIlxuICAgIDogcHVycG9zZTtcblxuY29uc3QgbWFwT3B0aW9uYWxQdXJwb3Nlczoge1xuICAoXG4gICAgcHVycG9zZXM6IERhdGFQdXJwb3NlcyxcbiAgICBvcHRpb25hbFB1cnBvc2VzOiBPcHRpb25hbFB1cnBvc2VzIHwgTnVsbGlzaFxuICApOiBEYXRhUHVycG9zZXM7XG59ID0gKHB1cnBvc2VzLCBvcHRpb25hbFB1cnBvc2VzKSA9PiB7XG4gIGxldCBtYXBwZWRQdXJwb3NlcyA9IHB1cnBvc2VzO1xuICBpZiAoXG4gICAgb3B0aW9uYWxQdXJwb3Nlcz8ucGVyc29uYWxpemF0aW9uICE9PSB0cnVlICYmXG4gICAgbWFwcGVkUHVycG9zZXMucGVyc29uYWxpemF0aW9uICE9IG51bGxcbiAgKSB7XG4gICAgbWFwcGVkUHVycG9zZXMgPT09IHB1cnBvc2VzICYmIChtYXBwZWRQdXJwb3NlcyA9IHsgLi4ucHVycG9zZXMgfSk7XG4gICAgaWYgKG1hcHBlZFB1cnBvc2VzLmZ1bmN0aW9uYWxpdHkgIT0gbnVsbCkge1xuICAgICAgbWFwcGVkUHVycG9zZXMucGVyc29uYWxpemF0aW9uID0gbWFwcGVkUHVycG9zZXMuZnVuY3Rpb25hbGl0eTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFwcGVkUHVycG9zZXMuZnVuY3Rpb25hbGl0eSA9IG1hcHBlZFB1cnBvc2VzLnBlcnNvbmFsaXphdGlvbjtcbiAgICB9XG4gICAgZGVsZXRlIG1hcHBlZFB1cnBvc2VzLnBlcnNvbmFsaXphdGlvbjtcbiAgfVxuICBpZiAob3B0aW9uYWxQdXJwb3Nlcz8uc2VjdXJpdHkgIT09IHRydWUgJiYgbWFwcGVkUHVycG9zZXMuc2VjdXJpdHkgIT0gbnVsbCkge1xuICAgIG1hcHBlZFB1cnBvc2VzID09PSBwdXJwb3NlcyAmJiAobWFwcGVkUHVycG9zZXMgPSB7IC4uLnB1cnBvc2VzIH0pO1xuXG4gICAgZGVsZXRlIG1hcHBlZFB1cnBvc2VzLnNlY3VyaXR5O1xuICB9XG5cbiAgcmV0dXJuIG1hcHBlZFB1cnBvc2VzO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBQdXJwb3NlVGVzdE9wdGlvbnMge1xuICBpbnRlcnNlY3Q/OiBcInNvbWVcIiB8IFwiYWxsXCIgfCBmYWxzZTtcbiAgdGFyZ2V0UHVycG9zZT86IERhdGFQdXJwb3NlTmFtZTtcbiAgb3B0aW9uYWxQdXJwb3Nlcz86IE9wdGlvbmFsUHVycG9zZXMgfCBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgRGF0YVB1cnBvc2VzOiB7XG4gIHBhcnNlPFxuICAgIFQgZXh0ZW5kcyBzdHJpbmcgfCBzdHJpbmdbXSB8IERhdGFQdXJwb3NlcyB8IERhdGFVc2FnZSB8IE51bGxpc2gsXG4gICAgTmFtZXMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG4gICAgSW5jbHVkZURlZmF1bHQgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZVxuICA+KFxuICAgIHZhbHVlOiBULFxuICAgIG9wdGlvbnM/OiB7IG5hbWVzPzogTmFtZXM7IGluY2x1ZGVEZWZhdWx0PzogYm9vbGVhbjsgdmFsaWRhdGU/OiBib29sZWFuIH1cbiAgKTogVCBleHRlbmRzIE51bGxpc2hcbiAgICA/IFRcbiAgICA6IE5hbWVzIGV4dGVuZHMgdHJ1ZVxuICAgID8gKFtJbmNsdWRlRGVmYXVsdF0gZXh0ZW5kcyB0cnVlID8gRGF0YVB1cnBvc2VOYW1lIDoga2V5b2YgRGF0YVB1cnBvc2VzKVtdXG4gICAgOiBEYXRhUHVycG9zZXM7XG5cbiAgcmVhZG9ubHkgYWxsOiBEYXRhUHVycG9zZXM7XG5cbiAgLyoqXG4gICAqIENvbXBhcmVzIHdoZXRoZXIgYSBjb25zZW50IGlzIHN1ZmZpY2llbnQgZm9yIGEgc2V0IG9mIHRhcmdldCBwdXJwb3Nlcywgb3Igd2hldGhlclxuICAgKiBhIGZpbHRlciBtYXRjaGVzIGFsbCB0aGUgcHVycG9zZXMgaW4gYSB0YXJnZXQuXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB0byB2YWxpZGF0ZSB0aGUgY29uc2VudCBhZ2FpbnN0LlxuICAgKiBAcGFyYW0gdGVzdCBUaGUgc2V0IG9mIGFsbG93ZWQgcHVycG9zZXMgaW4gZWl0aGVyIGEgY29uc2VudCBvciBmaWx0ZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIGhvdyB0byB0ZXN0LlxuICAgKlxuICAgKiAgVGhlIGRlZmF1bHQgaXMgXCJub3JtYWxcIiBjb25zZW50IHZhbGlkYXRpb24gd2hpY2ggb25seSByZXF1aXJlcyB0aGUgdGFyZ2V0IHRvIGhhdmUgb25lIHB1cnBvc2Ugd2l0aCBjb25zZW50IChvciBubyByZXF1aXJlZCBwdXJwb3NlcykuXG4gICAqXG4gICAqL1xuICB0ZXN0KFxuICAgIHRhcmdldDogRGF0YVB1cnBvc2VzLFxuICAgIHRlc3Q6IERhdGFQdXJwb3NlcyxcbiAgICBvcHRpb25zPzogUHVycG9zZVRlc3RPcHRpb25zXG4gICk6IGJvb2xlYW47XG5cbiAgbmFtZXM6IERhdGFQdXJwb3NlTmFtZVtdO1xuICBzcGVjaWZpY05hbWVzOiAoa2V5b2YgRGF0YVB1cnBvc2VzKVtdO1xufSA9IHtcbiAgbmFtZXM6IERBVEFfUFVSUE9TRVMsXG4gIHNwZWNpZmljTmFtZXM6IERBVEFfUFVSUE9TRVMuZmlsdGVyKChwdXJwb3NlKSA9PiBwdXJwb3NlICE9PSBcIm5lY2Vzc2FyeVwiKSxcbiAgcGFyc2U6IChcbiAgICB2YWx1ZTogYW55LFxuICAgIHsgbmFtZXMgPSBmYWxzZSwgaW5jbHVkZURlZmF1bHQgPSB0cnVlLCB2YWxpZGF0ZSA9IHRydWUgfSA9IHt9XG4gICkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHZhbHVlLnB1cnBvc2VzKSB7XG4gICAgICAvLyBGcm9tIERhdGFVc2FnZVxuICAgICAgdmFsdWUgPSB2YWx1ZS5wdXJwb3NlcztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBjb25zdCBwdXJwb3NlczogRGF0YVB1cnBvc2VzID0ge307XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdmFsdWUgYXMgYW55KSB7XG4gICAgICAgIGlmIChuYW1lID09PSBTQ0hFTUFfVFlQRV9QUk9QRVJUWSkgY29udGludWU7XG5cbiAgICAgICAgaWYgKCFWQUxJRF9QVVJQT1NFX05BTUVTW25hbWVdKSB7XG4gICAgICAgICAgdmFsaWRhdGUgJiYgdGhyb3dFcnJvcihgVGhlIHB1cnBvc2UgbmFtZSAnJHtuYW1lfScgaXMgbm90IGRlZmluZWQuYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSAhPT0gXCJuZWNlc3NhcnlcIikge1xuICAgICAgICAgIHB1cnBvc2VzW25hbWUgYXMgYW55XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhbHVlID0gcHVycG9zZXM7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBtYXAyKHZhbHVlLCAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBWQUxJRF9QVVJQT1NFX05BTUVTW2tleV0gJiYgdmFsdWUgPyBrZXkgOiBza2lwMlxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoIHx8ICFpbmNsdWRlRGVmYXVsdCA/IHJlc3VsdCA6IFtcIm5lY2Vzc2FyeVwiXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBnZXQgYWxsKCk6IERhdGFQdXJwb3NlcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZ1bmN0aW9uYWxpdHk6IHRydWUsXG4gICAgICBtYXJrZXRpbmc6IHRydWUsXG4gICAgICBwZXJmb3JtYW5jZTogdHJ1ZSxcbiAgICAgIHBlcnNvbmFsaXphdGlvbjogdHJ1ZSxcbiAgICAgIHNlY3VyaXR5OiB0cnVlLFxuICAgIH07XG4gIH0sXG5cbiAgdGVzdChcbiAgICB0YXJnZXQ6IERhdGFQdXJwb3NlcyxcbiAgICB0ZXN0OiBEYXRhUHVycG9zZXMsXG4gICAgeyBpbnRlcnNlY3QsIG9wdGlvbmFsUHVycG9zZXMsIHRhcmdldFB1cnBvc2UgfTogUHVycG9zZVRlc3RPcHRpb25zXG4gICkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uYWxQdXJwb3NlcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIG9wdGlvbmFsUHVycG9zZXMgPSB7XG4gICAgICAgIHBlcnNvbmFsaXphdGlvbjogb3B0aW9uYWxQdXJwb3NlcyxcbiAgICAgICAgc2VjdXJpdHk6IG9wdGlvbmFsUHVycG9zZXMsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0YXJnZXRQdXJwb3NlICYmXG4gICAgICAodGFyZ2V0UHVycG9zZSA9IG1hcE9wdGlvbmFsUHVycG9zZSh0YXJnZXRQdXJwb3NlLCBvcHRpb25hbFB1cnBvc2VzKSkgIT09XG4gICAgICAgIFwibmVjZXNzYXJ5XCIgJiZcbiAgICAgICF0ZXN0W21hcE9wdGlvbmFsUHVycG9zZSh0YXJnZXRQdXJwb3NlLCBvcHRpb25hbFB1cnBvc2VzKV1cbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBtYXBPcHRpb25hbFB1cnBvc2VzKHRhcmdldCwgb3B0aW9uYWxQdXJwb3Nlcyk7XG4gICAgdGVzdCA9IG1hcE9wdGlvbmFsUHVycG9zZXModGVzdCwgb3B0aW9uYWxQdXJwb3Nlcyk7XG5cbiAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICBmb3IgKGxldCBwdXJwb3NlIGluIHRlc3QpIHtcbiAgICAgICAgaWYgKCFWQUxJRF9QVVJQT1NFX05BTUVTW3B1cnBvc2VdKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHRlc3RbcHVycG9zZV0gJiYgIXRhcmdldFtwdXJwb3NlXSkge1xuICAgICAgICAgIC8vIEF0IGxlYXN0IG9uZSBwdXJwb3NlIGluIHRoZSBjb25zZW50IGlzIG5vdCBwcmVzZW50IGluIHRoZSB0YXJnZXQuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcnNlY3QgPT09IFwiYWxsXCIpIHtcbiAgICAgICAgZm9yIChsZXQgcHVycG9zZSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICBpZiAoIVZBTElEX1BVUlBPU0VfTkFNRVNbcHVycG9zZV0pIGNvbnRpbnVlO1xuICAgICAgICAgIGlmICh0YXJnZXRbcHVycG9zZV0gJiYgIXRlc3RbcHVycG9zZV0pIHtcbiAgICAgICAgICAgIC8vIFRoZSB0YXJnZXQgaGFzIGEgcHVycG9zZSB0aGF0IGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgY29uc2VudC5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbGV0IGhhc0FueSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHB1cnBvc2UgaW4gdGFyZ2V0KSB7XG4gICAgICBpZiAoIVZBTElEX1BVUlBPU0VfTkFNRVNbcHVycG9zZV0pIGNvbnRpbnVlO1xuICAgICAgaWYgKHRhcmdldFtwdXJwb3NlXSkge1xuICAgICAgICBpZiAodGVzdFtwdXJwb3NlXSkge1xuICAgICAgICAgIC8vIEp1c3Qgb25lIG9mIHRoZSBwdXJwb3NlcyBpcyBnb29kIGVub3VnaC5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBoYXNBbnkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgdGFyZ2V0IGhhcyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgcHVycG9zZSwgYW5kIHRoZSBjb25zZW50IGRvZXMgbm90IGluY2x1ZGUgYW55LlxuICAgIHJldHVybiAhaGFzQW55O1xuICB9LFxufTtcblxuLy9cbi8qKlxuICogVGhlIHB1cnBvc2VzIGRhdGEgY2FuIGJlIHVzZWQgZm9yLlxuICogTm9uLW5lY2Vzc2FyeSBkYXRhIHJlcXVpcmVzIGFuIGluZGl2aWR1YWwncyBjb25zZW50IHRvIGJlIGNvbGxlY3RlZCBhbmQgdXNlZC5cbiAqXG4gKiBEYXRhIGNhdGVnb3JpemVkIGFzIFwiYW5vbnltb3VzXCIgd2lsbCBiZSBzdG9yZWQgcmVnYXJkbGVzcyBvZiBjb25zZW50IHNpbmNlIGEgY29uc2VudCBvbmx5IHJlbGF0ZXNcbiAqIHRvIFwicGVyc29uYWwgZGF0YVwiLCBhbmQgYW5vbnltb3VzIGRhdGEgaXMganVzdCBcImRhdGFcIi5cbiAqXG4gKiBXaGV0aGVyIHRoZSB0d28gcHVycG9zZXMgXCJwZXJzb25hbGl6YXRpb25cIiBhbmQgXCJzZWN1cml0eVwiIGFyZSBjb25zaWRlcmVkIHNlcGFyYXRlIHB1cnBvc2VzXG4gKiBpcyBjb25maWd1cmFibGUuIFRoZSBkZWZhdWx0IGlzIHRvIGNvbnNpZGVyIFwicGVyc29uYWxpemF0aW9uXCIgdGhlIHNhbWUgYXMgXCJmdW5jdGlvbmFsaXR5XCIsIGFuZFxuICogXCJzZWN1cml0eVwiIHRoZSBzYW1lIGFzIFwibmVjZXNzYXJ5XCIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVB1cnBvc2VzIHtcbiAgLyoqXG4gICAqIERhdGEgc3RvcmVkIGZvciB0aGlzIHB1cnBvc2UgaXMgdXNlZCB0byBnYWluIGluc2lnaHRzIG9uIGhvdyBpbmRpdmlkdWFscyBpbnRlcmFjdCB3aXRoIGEgd2Vic2l0ZSBvciBhcHAgb3B0aW9uYWxseSBpbmNsdWRpbmdcbiAgICogZGVtb2dyYXBoaWNzIGFuZCBzaW1pbGFyIHRyYWl0cyB3aXRoIHRoZSBwdXJwb3NlIG9mIG9wdGltaXppbmcgdGhlIHdlYnNpdGUgb3IgYXBwLlxuICAgKlxuICAgKiBETyBOT1QgdXNlIHRoaXMgY2F0ZWdvcnkgaWYgdGhlIGRhdGEgbWF5IGJlIHNoYXJlZCB3aXRoIHRoaXJkIHBhcnRpZXMgb3Igb3RoZXJ3aXNlIHVzZWQgZm9yIHRhcmdldGVkIG1hcmtldGluZyBvdXRzaWRlIHRoZSBzY29wZVxuICAgKiBvZiB0aGUgd2Vic2l0ZSBvciBhcHAuIFVzZSB7QGxpbmsgRGF0YVB1cnBvc2VGbGFncy5UYXJnZXRpbmd9IGluc3RlYWQuXG4gICAqXG4gICAqIEl0IG1heSBiZSBva2F5IGlmIHRoZSBkYXRhIGlzIG9ubHkgdXNlZCBmb3IgZGlmZmVyZW50IHdlYnNpdGUgYW5kIGFwcHMgdGhhdCByZWxhdGUgdG8gdGhlIHNhbWUgcHJvZHVjdCBvciBzZXJ2aWNlLlxuICAgKiBUaGlzIHdvdWxkIGJlIHRoZSBjYXNlIGlmIGFuIGluZGl2aWR1YWwgaXMgYWJsZSB0byB1c2UgYW4gYXBwIGFuZCB3ZWJzaXRlIGludGVyY2hhbmdlYWJseSBmb3IgdGhlIHNhbWUgc2VydmljZS4gRGlmZmVyZW50IGFyZWFzIG9mIGEgYnJhbmQgbWF5XG4gICAqIGFsc28gYmUgZGlzdHJpYnV0ZWQgYWNyb3NzIG11bHRpcGxlIGRvbWFpbiBuYW1lcy5cbiAgICpcbiAgICovXG4gIHBlcmZvcm1hbmNlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGF0YSBzdG9yZWQgZm9yIHRoaXMgcHVycG9zZSBpcyB1c2VkIGZvciBzZXR0aW5ncyB0aGF0IGFkanVzdCB0aGUgYXBwZWFyYW5jZSBvZiBhIHdlYnNpdGUgb3IgYXBwXG4gICAqIGFjY29yZGluZyB0byBhbiBpbmRpdmlkdWFsJ3MgcHJlZmVyZW5jZXMgc3VjaCBhcyBcImRhcmsgbW9kZVwiIG9yIGxvY2FsaXphdGlvbiBvZiBkYXRlIGFuZCBudW1iZXIgZm9ybWF0dGluZy5cbiAgICpcbiAgICogRGVwZW5kaW5nIG9uIHlvdXIgY29uZmlndXJhdGlvbiwgYSBmdW5jdGlvbmFsaXR5IGNvbnNlbnQgbWF5IGFsc28gaW5jbHVkZSBwZXJzb25hbGl6YXRpb24uXG4gICAqIFBlcnNvbmFsaXphdGlvbiBzdWNoIGFzIHN1Z2dlc3RlZCBhcnRpY2xlcyBhbmQgdmlkZW9zIGlzIHBlciBkZWZpbml0aW9uIGZ1bmN0aW9uYWxpdHksXG4gICAqIGJ1dCBhIHNwZWNpYWwgc3ViY2F0ZWdvcnkgbWF5IGJlIHVzZWQgdG8gbWFrZSB0aGUgZGlzdGluY3Rpb24gYmV0d2VlbiBwcm9maWxlIHNldHRpbmdzXG4gICAqIGFuZCBiZWhhdmlvcmFsIGhpc3RvcnkgZGVwZW5kaW5nIG9uIHlvdXIgcmVxdWlyZW1lbnRzLlxuICAgKlxuICAgKiBETyBOT1QgdXNlIHRoaXMgY2F0ZWdvcnkgaWYgdGhlIGRhdGEgbWF5IGJlIHNoYXJlZCB3aXRoIHRoaXJkIHBhcnRpZXMgb3Igb3RoZXJ3aXNlIHVzZWQgZm9yIHRhcmdldGVkIG1hcmtldGluZyBvdXRzaWRlIHRoZSBzY29wZVxuICAgKiBvZiB0aGUgd2Vic2l0ZSBvciBhcHAuIFVzZSB7QGxpbmsgRGF0YVB1cnBvc2VGbGFncy5NYXJrZXRpbmd9IGluc3RlYWQuXG4gICAqXG4gICAqIEl0IG1heSBiZSBva2F5IGlmIHRoZSBkYXRhIGlzIG9ubHkgdXNlZCBmb3IgZGlmZmVyZW50IHdlYnNpdGUgYW5kIGFwcHMgdGhhdCByZWxhdGUgdG8gdGhlIHNhbWUgcHJvZHVjdCwgYnJhbmQgb3Igc2VydmljZSwgaGVuY2VcbiAgICogdGhlIGluZm9ybWF0aW9uIGlzIHN0aWxsIFwiZmlyc3QgcGFydHlcIiB3aXRoIHJlc3BlY3QgdG8gdGhlIGxlZ2FsIGVudGl0eS9icmFuZCB0byB3aG9tIHRoZSBjb25zZW50IGlzIG1hZGUuXG4gICAqXG4gICAqIFRoaXMgd291bGQgYmUgdGhlIGNhc2UgaWYgYW4gaW5kaXZpZHVhbCBpcyBhYmxlIHRvIHVzZSBhbiBhcHAgYW5kIHdlYnNpdGUgaW50ZXJjaGFuZ2VhYmx5IGZvciB0aGUgc2FtZSBzZXJ2aWNlLiBEaWZmZXJlbnQgYXJlYXMgb2YgYSBicmFuZCBtYXlcbiAgICogYWxzbyBiZSBkaXN0cmlidXRlZCBhY3Jvc3MgbXVsdGlwbGUgZG9tYWluIG5hbWVzLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb25hbGl0eT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERhdGEgc3RvcmVkIGZvciB0aGlzIHB1cnBvc2UgbWF5IGJlIHNpbWlsYXIgdG8gYm90aCBmdW5jdGlvbmFsaXR5IGFuZCBwZXJmb3JtYW5jZSBkYXRhLCBob3dldmVyIGl0IG1heSBiZSBzaGFyZWQgd2l0aCB0aGlyZCBwYXJ0aWVzXG4gICAqIG9yIG90aGVyd2lzZSB1c2VkIHRvIHBlcmZvcm0gbWFya2V0aW5nIG91dHNpZGUgdGhlIHNjb3BlIG9mIHRoZSBzcGVjaWZpYyB3ZWJzaXRlIG9yIGFwcC5cbiAgICpcbiAgICogV2hlbiB0YWdnaW5nIGRhdGEgcG9pbnRzIGluIGEgc2NoZW1hIGl0IGlzIGdvb2QgcHJhY3RpY2UgdG8gYWxzbyBzcGVjaWZ5IHdoZXRoZXIgdGhlIGRhdGEgaXMgcmVsYXRlZCB0b1xuICAgKiBwZXJmb3JtYW5jZSwgZnVuY3Rpb25hbGl0eSBvciBib3RoXG4gICAqXG4gICAqIElmIHRoZSBkYXRhIGlzIG9ubHkgdXNlZCBmb3IgZGlmZmVyZW50IHdlYnNpdGVzIGFuZCBhcHBzIHRoYXQgcmVsYXRlIHRvIHRoZSBzYW1lIHByb2R1Y3Qgb3Igc2VydmljZSB0aGF0IGJlbG9uZ3MgdG8geW91ciBicmFuZCxcbiAgICogaXQgbWlnaHQgbm90IGJlIG5lY2Vzc2FyeSB0byB1c2UgdGhpcyBjYXRlZ29yeS5cbiAgICovXG4gIG1hcmtldGluZz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFBlcnNvbmFsaXphdGlvbiBpcyBhIHNwZWNpYWwgc3ViY2F0ZWdvcnkgb2YgZnVuY3Rpb25hbGl0eSBkYXRhIHRoYXQgaXNcbiAgICogZm9yIHRoaW5ncyBzdWNoIGFzIHJlY29tbWVuZGluZyBhcnRpY2xlcyBhbmQgdmlkZW9zLlxuICAgKiBUaGlzIHB1cnBvc2UgaXMgcGVyIGRlZmF1bHQgc3lub255bW91cyB3aXRoIHtAbGluayBEYXRhUHVycG9zZXMuZnVuY3Rpb25hbGl0eX0sIGJ1dCBjYW4gYmUgY29uZmlndXJlZCB0byBiZSBhIHNlcGFyYXRlIHB1cnBvc2VcbiAgICogdGhhdCByZXF1aXJlcyBpdHMgb3duIGNvbnNlbnQuXG4gICAqL1xuICBwZXJzb25hbGl6YXRpb24/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEYXRhIHN0b3JlZCBmb3IgdGhpcyBwdXJwb3NlIGlzIHJlbGF0ZWQgdG8gc2VjdXJpdHkgc3VjaCBhcyBhdXRoZW50aWNhdGlvbiwgZnJhdWQgcHJldmVudGlvbiwgYW5kIG90aGVyIHVzZXIgcHJvdGVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBwdXJwb3NlIGlzIHBlciBkZWZhdWx0IHN5bm9ueW1vdXMgd2l0aCB7QGxpbmsgRGF0YVB1cnBvc2VzLmVzc2VudGlhbH0gYnV0IGNhbiBiZSBjb25maWd1cmVkIHRvIGJlIGEgc2VwYXJhdGUgcHVycG9zZVxuICAgKiB0aGF0IHJlcXVpcmVzIGl0cyBvd24gY29uc2VudC5cbiAgICovXG4gIHNlY3VyaXR5PzogYm9vbGVhbjtcbn1cbiIsImltcG9ydCB7IGl0ZW1pemUyLCBNYXliZU51bGxpc2gsIE51bGxpc2ggfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBEYXRhQ2xhc3NpZmljYXRpb24sXG4gIERhdGFQdXJwb3NlcyxcbiAgUHVycG9zZVRlc3RPcHRpb25zLFxuICBTY2hlbWFEYXRhVXNhZ2UsXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXREYXRhVXNhZ2UgPSAodXNhZ2U/OiBEYXRhVXNhZ2UpID0+XG4gIGAke3VzYWdlPy5jbGFzc2lmaWNhdGlvbiA/PyBcImFub255bW91c1wifSBkYXRhIGZvciAke2l0ZW1pemUyKFxuICAgIERhdGFQdXJwb3Nlcy5wYXJzZSh1c2FnZT8ucHVycG9zZXMsIHsgbmFtZXM6IHRydWUgfSlcbiAgKX0gIHB1cnBvc2VzLmA7XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNvbnNlbnQgPSAoXG4gIHRhcmdldDogRGF0YVVzYWdlLFxuICBjb25zZW50OiBEYXRhVXNhZ2UsXG4gIG9wdGlvbnM6IFB1cnBvc2VUZXN0T3B0aW9uc1xuKSA9PiB7XG4gIGlmICh0YXJnZXQuY2xhc3NpZmljYXRpb24gPT09IFwibmV2ZXJcIiB8fCBjb25zZW50LmNsYXNzaWZpY2F0aW9uID09PSBcIm5ldmVyXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHRhcmdldC5jbGFzc2lmaWNhdGlvbiA9PT0gXCJhbm9ueW1vdXNcIikge1xuICAgIC8vIEFub255bW91cyBkYXRhIGRvZXMgbm90IHJlcXVpcmUgY29uc2VudCAoaXQgaXMgbm90IFwiX3BlcnNvbmFsXyBkYXRhXCIgLSBqdXN0IF9kYXRhXykuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFxuICAgIERhdGFDbGFzc2lmaWNhdGlvbi5yYW5rc1t0YXJnZXQuY2xhc3NpZmljYXRpb25dID5cbiAgICBEYXRhQ2xhc3NpZmljYXRpb24ucmFua3NbY29uc2VudC5jbGFzc2lmaWNhdGlvbl1cbiAgKSB7XG4gICAgLy8gVG9vIHBlcnNvbmFsLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBEYXRhUHVycG9zZXMudGVzdCh0YXJnZXQucHVycG9zZXMsIGNvbnNlbnQucHVycG9zZXMsIG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBUaGUgY29tYmluYXRpb24gb2YgdGhlIGNsYXNzaWZpY2F0aW9uIGFuZCBwdXJwb3NlcyBpdCBjYW4gYmUgdXNlZCBmb3IgZGV0ZXJtaW5lcyB3aGV0aGVyXG4gKiBkYXRhIGNhbiBiZSBzdG9yZWQgb3IgdXNlZCB3aGVuIGNvbXBhcmVkIHRvIGFuIGluZGl2aWR1YWwncyBjb25zZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGFVc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBjbGFzc2lmaWNhdGlvbiBvZiBkYXRhIGEgdXNlciBoYXMgY29uc2VudGVkIHRvIGJlIGNvbGxlY3RlZCBhbmQgc3RvcmVkLlxuICAgKlxuICAgKiBBbnkgcHJvcGVydHkgd2l0aCBhIGNsYXNzaWZpY2F0aW9uIGhpZ2hlciB0aGFuIHRoaXMgd2lsbCBiZSBjbGVhcmVkIChjZW5zb3JlZCkgYmVmb3JlIGFuIG9iamVjdCBpcyBzdG9yZWQuXG4gICAqIElmIGFsbCBwcm9wZXJ0aWVzIGdldHMgY2Vuc29yZWQsIHRoZSBvYmplY3QgaXMgbm90IHN0b3JlZCBhdCBhbGwuXG4gICAqXG4gICAqIEFub255bW91cyBkYXRhIGRvZXMgbm90IHJlcXVpcmUgYWN0aXZlIGNvbnNlbnQsIHNvIGRhdGEgaXMgc3RvcmVkIHJlZ2FyZGxlc3Mgb2YgaXRzIHB1cnBvc2VzXG4gICAqIHNpbmNlIGl0IGlzIG5vdCBcInBlcnNvbmFsIGRhdGFcIiBidXQganVzdCBcImRhdGFcIi5cbiAgICogVGhpcyBtZWFucyB5b3Ugc2hvdWxkIG5vdCBhbm5vdGF0ZSBhbGwgYW5vbnltb3VzIGRhdGEgYXMgXCJuZWNlc3NhcnlcIiBpbiB5b3VyIHNjaGVtYSwgYnV0IHJhdGhlclxuICAgKiB1c2UgdGhlIHB1cnBvc2UocykgdGhhdCB3b3VsZCByZXF1aXJlIGNvbnNlbnQgaGFkIHRoZSBkYXRhIG5vdCBiZWVuIGFub255bW91cy5cbiAgICpcbiAgICogSW4gdGhpcyB3YXkgeW91IGNhbiBzaW1wbHkgcmVtb3ZlIHRoZSBgYW5vbnltb3VzYCBhbm5vdGF0aW9uIGZyb20gYSBmaWVsZCBvciBvYmplY3QgaWYgaXQgdHVybnNcbiAgICogb3V0IGl0IGlzIG5vdCB0cnVseSBhbm9ueW1vdXMuIEFmdGVyIHRoYXQgdGhlIGRhdGEgY2FuIG5vIGxvbmdlciBiZSByZWFkIGZvciBwdXJwb3NlcyB3aXRob3V0XG4gICAqIHVzZXIgY29uc2VudC4gSG93ZXZlciwgdGFpbC5qcyBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCByZWRhY3RpbmcvcHVyZ2luZyB0aGUgZGF0YSBmcm9tIHN0b3JhZ2VcbiAgICogc28gdGhpcyB5b3UgbmVlZCB0byBkbyBtYW51YWxseS5cbiAgICpcbiAgICogRm9yIHNjaGVtYSBkZWZpbml0aW9ucyBzZWUge0BsaW5rIFNjaGVtYURhdGFVc2FnZX0gZm9yIGluaGVyaXRhbmNlIHJ1bGVzLlxuICAgKlxuICAgKiBAZGVmYXVsdCBhbm9ueW1vdXNcbiAgICpcbiAgICovXG4gIGNsYXNzaWZpY2F0aW9uOiBEYXRhQ2xhc3NpZmljYXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSBwdXJwb3NlcyB0aGUgZGF0YSBtYXkgYmUgdXNlZCBmb3IuXG4gICAqXG4gICAqIElmIGEgZGF0YSBwb2ludCBoYXMgbXVsdGlwbGUgcHVycG9zZXMsIGNvbnNlbnQgaXMgb25seSBuZWVkIGZvciBvbmUgb2YgdGhlbVxuICAgKiBmb3IgdGhlIGRhdGEgdG8gZ2V0IHN0b3JlZC4gSG93ZXZlciwgaWYgc29tZSBsb2dpYyB0cmllcyB0byByZWFkIHRoZSBkYXRhIGZvciBhIHB1cnBvc2Ugd2l0aG91dCBjb25zZW50LFxuICAgKiBpdCBpcyBub3QgcmV0dXJuZWQsIHNpbmNlIGl0IGlzIG9ubHkgc3RvcmVkIGZvciBvdGhlciBwdXJwb3Nlcy5cbiAgICpcbiAgICogUHVycG9zZXMgZG8gbm90IHJlc3RyaWN0IGFub255bW91cyBkYXRhLiBJZiBubyBwdXJwb3NlcyBhcmUgZXhwbGljaXRseSBzcGVjaWZpZWQgaXQgaW1wbGllcyBcIm5lY2Vzc2FyeVwiLlxuICAgKlxuICAgKiBGb3Igc2NoZW1hIGRlZmluaXRpb25zIHNlZSB7QGxpbmsgU2NoZW1hRGF0YVVzYWdlfSBmb3IgaW5oZXJpdGFuY2UgcnVsZXMuXG4gICAqL1xuICBwdXJwb3NlczogRGF0YVB1cnBvc2VzO1xufVxuXG5leHBvcnQgY29uc3QgRGF0YVVzYWdlID0ge1xuICBhbm9ueW1vdXM6IHtcbiAgICBjbGFzc2lmaWNhdGlvbjogXCJhbm9ueW1vdXNcIixcbiAgICBwdXJwb3Nlczoge30sXG4gIH0gYXMgRGF0YVVzYWdlLFxuICBjbG9uZTogPFQgZXh0ZW5kcyBEYXRhVXNhZ2UgfCBOdWxsaXNoPihcbiAgICB1c2FnZTogVFxuICApOiBNYXliZU51bGxpc2g8VCwgRGF0YVVzYWdlPiA9PlxuICAgIHVzYWdlICYmXG4gICAgKHtcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiB1c2FnZS5jbGFzc2lmaWNhdGlvbixcbiAgICAgIHB1cnBvc2VzOiB7IC4uLnVzYWdlLnB1cnBvc2VzIH0sXG4gICAgfSBzYXRpc2ZpZXMgRGF0YVVzYWdlIGFzIGFueSksXG5cbiAgZXF1YWxzOiAodXNhZ2UxOiBEYXRhVXNhZ2UgfCBOdWxsaXNoLCB1c2FnZTI6IERhdGFVc2FnZSB8IE51bGxpc2gpID0+XG4gICAgdXNhZ2UxID09PSB1c2FnZTIgfHxcbiAgICAodXNhZ2UxICYmXG4gICAgICB1c2FnZTIgJiZcbiAgICAgIHVzYWdlMS5jbGFzc2lmaWNhdGlvbiA9PT0gdXNhZ2UyLmNsYXNzaWZpY2F0aW9uICYmXG4gICAgICBEYXRhUHVycG9zZXMudGVzdCh1c2FnZTEucHVycG9zZXMsIHVzYWdlMi5wdXJwb3Nlcywge1xuICAgICAgICBpbnRlcnNlY3Q6IFwiYWxsXCIsXG4gICAgICAgIG9wdGlvbmFsUHVycG9zZXM6IHRydWUsXG4gICAgICB9KSksXG5cbiAgc2VyaWFsaXplOiAodXNhZ2U6IERhdGFVc2FnZSk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGNvbnN0IHB1cnBvc2VzID0gRGF0YVB1cnBvc2VzLnBhcnNlKHVzYWdlLnB1cnBvc2VzLCB7XG4gICAgICBuYW1lczogdHJ1ZSxcbiAgICAgIGluY2x1ZGVEZWZhdWx0OiBmYWxzZSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoIXVzYWdlLmNsYXNzaWZpY2F0aW9uIHx8IHVzYWdlLmNsYXNzaWZpY2F0aW9uID09PSBcImFub255bW91c1wiKSAmJlxuICAgICAgIXB1cnBvc2VzPy5sZW5ndGhcbiAgICAgID8gbnVsbFxuICAgICAgOiBgJHt1c2FnZS5jbGFzc2lmaWNhdGlvbn06JHtwdXJwb3Nlc31gO1xuICB9LFxuXG4gIGRlc2VyaWFsaXplOiAoXG4gICAgdXNhZ2VTdHJpbmc6IHN0cmluZyB8IE51bGxpc2gsXG4gICAgZGVmYXVsdFVzYWdlPzogRGF0YVVzYWdlXG4gICk6IERhdGFVc2FnZSA9PiB7XG4gICAgaWYgKCF1c2FnZVN0cmluZylcbiAgICAgIHJldHVybiBkZWZhdWx0VXNhZ2VcbiAgICAgICAgPyBEYXRhVXNhZ2UuY2xvbmUoZGVmYXVsdFVzYWdlKVxuICAgICAgICA6IHsgY2xhc3NpZmljYXRpb246IFwiYW5vbnltb3VzXCIsIHB1cnBvc2VzOiB7fSB9O1xuICAgIGNvbnN0IFtjbGFzc2lmaWNhdGlvbiwgcHVycG9zZXNdID0gdXNhZ2VTdHJpbmcuc3BsaXQoXCI6XCIpO1xuICAgIHJldHVybiB7XG4gICAgICBjbGFzc2lmaWNhdGlvbjpcbiAgICAgICAgRGF0YUNsYXNzaWZpY2F0aW9uLnBhcnNlKGNsYXNzaWZpY2F0aW9uLCBmYWxzZSkgPz8gXCJhbm9ueW1vdXNcIixcbiAgICAgIHB1cnBvc2VzOiBEYXRhUHVycG9zZXMucGFyc2UocHVycG9zZXMsIHsgdmFsaWRhdGU6IGZhbHNlIH0pID8/IHt9LFxuICAgIH07XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRW51bVBhcnNlciB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuY29uc3QgbGV2ZWxzID0ge1xuICAvKiogRGF0YSBjYW4gYmUgcmVhZCBhbmQgd3JpdHRlbiBmcm9tIGFueXdoZXJlLiAqL1xuICBwdWJsaWM6IFwicHVibGljXCIsXG4gIC8qKiBEYXRhIGNhbiBiZSByZWFkIGZyb20gYW55d2hlcmUgYnV0IGNhbiBvbmx5IGJlIHdyaXR0ZW4gaW4gdHJ1c3RlZCBjb250ZXh0LiAqL1xuICBcInRydXN0ZWQtd3JpdGVcIjogXCJ0cnVzdGVkLXdyaXRlXCIsXG4gIC8qKiBEYXRhIGlzIG9ubHkgYXZhaWxhYmxlIGluIHRydXN0ZWQgY29udGV4dC4gKi9cbiAgXCJ0cnVzdGVkLW9ubHlcIjogXCJ0cnVzdGVkLW9ubHlcIixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIERhdGFWaXNpYmlsaXR5ID0gKHR5cGVvZiBsZXZlbHMpW2tleW9mIHR5cGVvZiBsZXZlbHNdO1xuXG4vKipcbiAqIERlZmluZXMgcmVzdHJpY3Rpb25zIG9uIHdoZXJlIGRhdGEgaXMgYXZhaWxhYmxlIGFuZCB3aGVuIGl0IGNhbiBiZSBtb2RpZmllZC5cbiAqL1xuZXhwb3J0IHR5cGUgRGF0YUFjY2VzcyA9IHtcbiAgLyoqXG4gICAqIFRoZSBkYXRhIGNhbm5vdCBiZSBjaGFuZ2VkIG9uY2Ugc2V0LlxuICAgKlxuICAgKiBGb3Igc2NoZW1hIGRlZmluaXRpb25zIHNlZSB7QGxpbmsgU2NoZW1hRGF0YVVzYWdlfSBmb3IgaW5oZXJpdGFuY2UgcnVsZXMuXG4gICAqL1xuICByZWFkb25seTogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgZGF0YSBjYW4gYmUgYWNjZXNzZWQgb3V0c2lkZSB0cnVzdGVkIGNvbnRleHQuXG4gICAqXG4gICAqIEZvciBzY2hlbWEgZGVmaW5pdGlvbnMgc2VlIHtAbGluayBTY2hlbWFEYXRhVXNhZ2V9IGZvciBpbmhlcml0YW5jZSBydWxlcy5cbiAgICovXG4gIHZpc2liaWxpdHk6IERhdGFWaXNpYmlsaXR5O1xufTtcblxuZXhwb3J0IGNvbnN0IERhdGFWaXNpYmlsaXR5ID0gY3JlYXRlRW51bVBhcnNlcihcImRhdGEgcmVzdHJpY3Rpb25cIiwgbGV2ZWxzKTtcbiIsImltcG9ydCB0eXBlIHsgVHJhY2tlZEV2ZW50IH0gZnJvbSBcIi5cIjtcblxuLyoqIFRoZSBzaGFwZSBvZiB0aGUgcGF0Y2ggZGF0YSBmb3IgYSB7QGxpbmsgVHJhY2tlZEV2ZW50fSAqL1xuZXhwb3J0IHR5cGUgRXZlbnRQYXRjaDxUIGV4dGVuZHMgVHJhY2tlZEV2ZW50ID0gVHJhY2tlZEV2ZW50PiA9IFBhcnRpYWw8XG4gIE9taXQ8VCwgXCJ0eXBlXCI+XG4+ICYge1xuICB0eXBlOiBgJHtUW1widHlwZVwiXX1fcGF0Y2hgO1xufSAmIFJlcXVpcmVkPFBpY2s8VHJhY2tlZEV2ZW50LCBcInBhdGNoVGFyZ2V0SWRcIj4+O1xuXG5leHBvcnQgY29uc3QgaXNFdmVudFBhdGNoID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBFdmVudFBhdGNoID0+XG4gICEhdmFsdWU/LnBhdGNoVGFyZ2V0SWQ7XG4iLCJpbXBvcnQgeyBTY2hlbWFEYXRhVXNhZ2UsIFNjaGVtYVByb3BlcnR5RGVmaW5pdGlvbiB9IGZyb20gXCIuLi8uLlwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2hlbWFPYmplY3RUeXBlRGVmaW5pdGlvbiBleHRlbmRzIFBhcnRpYWw8U2NoZW1hRGF0YVVzYWdlPiB7XHJcbiAgLyoqXHJcbiAgICogTWF5IGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIHR5cGUgbmFtZSBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUga2V5cyBpbiB0aGUgc2NoZW1hLlxyXG4gICAqL1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSB0eXBlIGluaGVyaXRzIHByb3BlcnRpZXMgZnJvbSB0aGVzZSBvdGhlciB0eXBlcy5cclxuICAgKlxyXG4gICAqIERhdGEgdXNhZ2Ugd2lsbCBiZSBpbmhlcml0ZWQgYnkgdGhlc2UgdHlwZXMgaW4gb3JkZXIsIHRoYXQgaXMsIGlmIGJvdGggdGhlIGZpcnN0IGFuZCBsYXN0XHJcbiAgICogdHlwZSBoYXMgYSBkYXRhIGNsYXNzaWZpY2F0aW9uLCB0aGUgbGFzdCBvbmUgd2lucy5cclxuICAgKi9cclxuICBleHRlbmRzPzogc3RyaW5nW107XHJcblxyXG4gIC8qKiBUaGUgcHJvcGVydGllcyBvZiB0aGUgdHlwZS4gKi9cclxuICBwcm9wZXJ0aWVzOiB7XHJcbiAgICBbUCBpbiBzdHJpbmddOiBTY2hlbWFQcm9wZXJ0eURlZmluaXRpb247XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNDSEVNQV9UWVBFX1BST1BFUlRZID0gXCJAc2NoZW1hXCI7XHJcbmV4cG9ydCBjb25zdCBTQ0hFTUFfUFJJVkFDWV9QUk9QRVJUWSA9IFwiQHByaXZhY3lcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFNjaGVtYVR5cGVkRGF0YVR5cGVJbmZvID0gc3RyaW5nO1xyXG4vLyAge1xyXG4vLyAgIC8qKiBUaGUgbmFtZXNwYWNlIG9mIHRoZSBzY2hlbWEgdGhhdCBkZWZpbmVzIHRoZSB0eXBlLiAqL1xyXG4vLyAgIG5zOiBzdHJpbmc7XHJcbi8vICAgLyoqIFRoZSBuYW1lIG9mIHRoZSB0eXBlIChleGNsdWRpbmcgbmFtZXNwYWNlKS4gKi9cclxuLy8gICBuYW1lOiBzdHJpbmc7XHJcbi8vICAgLyoqIFRoZSB2ZXJzaW9uIG9mIHRoZSB0eXBlLCBpZiBzcGVjaWZpZWQuICovXHJcbi8vICAgdmVyc2lvbj86IHN0cmluZztcclxuLy8gfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2hlbWFUeXBlZERhdGFQcml2YWN5SW5mbyB7XHJcbiAgLyoqXHJcbiAgICogT25lIG9yIG1vcmUgcHJvcGVydHkgdmFsdWVzIGhhdmUgYmVlbiByZW1vdmVkIGJlY2F1c2UgdGhleSB3b3VsZCB2aW9sYXRlIGEgdXNlcidzIGNvbnNlbnQuXHJcbiAgICogV2hlbiB0aGlzIGlzIHRoZSBjYXNlLCBwbGVhc2UgYWxzbyBjaGVja2VkIHRoZSB7QGxpbmsgaW52YWxpZH0gZmxhZyBzaW5jZSB0aGUgcGFydGlhbCBkYXRhIGFmdGVyIGNlbnNvcmluZ1xyXG4gICAqIG1heSBub3QgdmFsaWRhdGUgYWdhaW5zdCB0aGUgc2NoZW1hLlxyXG4gICAqL1xyXG4gIGNlbnNvcmVkPzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGEgZG9lcyBub3QgdmFsaWRhdGUgYWdhaW5zdCB0aGUgc2NoZW1hLlxyXG4gICAqL1xyXG4gIGludmFsaWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVtYVR5cGVkRGF0YSB7XHJcbiAgW1NDSEVNQV9UWVBFX1BST1BFUlRZXT86IFNjaGVtYVR5cGVkRGF0YVR5cGVJbmZvO1xyXG5cclxuICBbU0NIRU1BX1BSSVZBQ1lfUFJPUEVSVFldPzogU2NoZW1hVHlwZWREYXRhUHJpdmFjeUluZm87XHJcbn1cclxuIiwiaW1wb3J0IHsgZWxsaXBzaXMsIE51bGxpc2ggfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7IFNjaGVtYVZhbGlkYXRpb25Db250ZXh0LCBTY2hlbWFWYWx1ZVZhbGlkYXRvciB9IGZyb20gXCIuXCI7XHJcbmltcG9ydCB7IFNjaGVtYVByb3BlcnR5VHlwZSB9IGZyb20gXCIuLi9TY2hlbWFQcm9wZXJ0eVR5cGVcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFZhbGlkYXRpb25FcnJvckNvbnRleHQgPSB7XHJcbiAgcGF0aDogc3RyaW5nO1xyXG4gIG1lc3NhZ2U6IHN0cmluZztcclxuICBzb3VyY2U6IGFueTtcclxuICB0eXBlOiBTY2hlbWFQcm9wZXJ0eVR5cGUgfCBudWxsO1xyXG4gIGZvcmJpZGRlbj86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVkFMSURBVElPTl9FUlJPUl9TWU1CT0wgPSBTeW1ib2woKTtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luUGF0aCA9IChwcmVmaXg6IHN0cmluZywgY3VycmVudDogc3RyaW5nKSA9PlxyXG4gIGN1cnJlbnQ/Lmxlbmd0aCA/IHByZWZpeCArIChjdXJyZW50WzBdID09PSBcIltcIiA/IFwiXCIgOiBcIi5cIikgKyBjdXJyZW50IDogcHJlZml4O1xyXG5cclxuZXhwb3J0IGNvbnN0IHB1c2hJbm5lckVycm9ycyA9IDxUPihcclxuICBwcmVmaXg6IHN0cmluZyxcclxuICB2YWx1ZTogVCxcclxuICBjdXJyZW50OiBhbnksXHJcbiAgY29udGV4dDogU2NoZW1hVmFsaWRhdGlvbkNvbnRleHQsXHJcbiAgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0W10sXHJcbiAgdmFsaWRhdGFibGU6IHsgdmFsaWRhdGU6IFNjaGVtYVZhbHVlVmFsaWRhdG9yIH1cclxuKTogVCB8IHR5cGVvZiBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCA9PiB7XHJcbiAgY29uc3QgaW5uZXJFcnJvcnM6IFZhbGlkYXRpb25FcnJvckNvbnRleHRbXSA9IFtdO1xyXG4gIGlmIChcclxuICAgICh2YWx1ZSA9IHZhbGlkYXRhYmxlLnZhbGlkYXRlKFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgY3VycmVudCxcclxuICAgICAgY29udGV4dCxcclxuICAgICAgaW5uZXJFcnJvcnNcclxuICAgICkgYXMgYW55KSA9PT0gVkFMSURBVElPTl9FUlJPUl9TWU1CT0wgfHxcclxuICAgIGlubmVyRXJyb3JzLmxlbmd0aFxyXG4gICkge1xyXG4gICAgZXJyb3JzLnB1c2goXHJcbiAgICAgIC4uLmlubmVyRXJyb3JzLm1hcCgoZXJyb3IpID0+ICh7XHJcbiAgICAgICAgLi4uZXJyb3IsXHJcbiAgICAgICAgcGF0aDogam9pblBhdGgocHJlZml4LCBlcnJvci5wYXRoKSxcclxuICAgICAgfSkpXHJcbiAgICApO1xyXG4gIH1cclxuICByZXR1cm4gdmFsdWU7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKGVycm9yczogVmFsaWRhdGlvbkVycm9yQ29udGV4dFtdLCBtZXNzYWdlPzogc3RyaW5nKSB7XHJcbiAgICBzdXBlcigobWVzc2FnZSA/IG1lc3NhZ2UgKyBcIjpcXG5cIiA6IFwiXCIpICsgZm9ybWF0VmFsaWRhdGlvbkVycm9ycyhlcnJvcnMpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtYXRFcnJvclNvdXJjZSA9ICh2YWx1ZTogYW55KSA9PlxyXG4gIHZhbHVlID09PSB1bmRlZmluZWQgPyBcInVuZGVmaW5lZFwiIDogZWxsaXBzaXMoSlNPTi5zdHJpbmdpZnkodmFsdWUpLCA0MCwgdHJ1ZSk7XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlVmFsaWRhdGlvbkVycm9ycyA9IDxcclxuICBSLFxyXG4gIENvbGxlY3RlZCBleHRlbmRzIFZhbGlkYXRpb25FcnJvckNvbnRleHRbXSB8IE51bGxpc2hcclxuPihcclxuICBhY3Rpb246IChcclxuICAgIGVycm9yczogVmFsaWRhdGlvbkVycm9yQ29udGV4dFtdXHJcbiAgKSA9PiBSIHwgdHlwZW9mIFZBTElEQVRJT05fRVJST1JfU1lNQk9MLFxyXG4gIGNvbGxlY3RlZEVycm9ycz86IENvbGxlY3RlZCxcclxuICBtZXNzYWdlPzogc3RyaW5nXHJcbik6IENvbGxlY3RlZCBleHRlbmRzIE51bGxpc2hcclxuICA/IEV4Y2x1ZGU8UiwgdHlwZW9mIFZBTElEQVRJT05fRVJST1JfU1lNQk9MPlxyXG4gIDogUiA9PiB7XHJcbiAgY29uc3QgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0W10gPSBjb2xsZWN0ZWRFcnJvcnMgPz8gW107XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGFjdGlvbihlcnJvcnMpO1xyXG4gIGlmIChcclxuICAgICFjb2xsZWN0ZWRFcnJvcnMgJiZcclxuICAgIChyZXN1bHQgPT09IFZBTElEQVRJT05fRVJST1JfU1lNQk9MIHx8IGVycm9ycy5sZW5ndGgpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGVycm9ycywgbWVzc2FnZSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQgYXMgYW55O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1hdFZhbGlkYXRpb25FcnJvcnMgPSAoXHJcbiAgZXJyb3JzOiByZWFkb25seSBWYWxpZGF0aW9uRXJyb3JDb250ZXh0W10sXHJcbiAgYnVsbGV0ID0gXCJcIlxyXG4pOiBzdHJpbmcgPT4ge1xyXG4gIGlmICghZXJyb3JzLmxlbmd0aCkgcmV0dXJuIFwiKHVuc3BlY2lmaWVkIGVycm9yKVwiO1xyXG5cclxuICBjb25zdCBmb3JtYXR0ZWQgPSAoZXJyb3JzLmxlbmd0aCA+IDEwID8gZXJyb3JzLnNsaWNlKDAsIDEwKSA6IGVycm9ycykubWFwKFxyXG4gICAgKHsgcGF0aCwgbWVzc2FnZSB9KSA9PiBgJHtidWxsZXR9JHtwYXRoID8gYCR7cGF0aH06ICR7bWVzc2FnZX1gIDogbWVzc2FnZX1gXHJcbiAgKTtcclxuICBpZiAoZXJyb3JzLmxlbmd0aCA+IDEwKSB7XHJcbiAgICBmb3JtYXR0ZWQucHVzaChcIlwiLCBgKGFuZCAke2Vycm9ycy5sZW5ndGggLSAxMH0gbW9yZSlgKTtcclxuICB9XHJcbiAgcmV0dXJuIGZvcm1hdHRlZC5qb2luKFwiXFxuXCIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBkaXN0aW5jdDIsIGl0ZW1pemUyIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQge1xyXG4gIFNjaGVtYUVudW1UeXBlRGVmaW5pdGlvbixcclxuICBTY2hlbWFQcmltaXRpdmVUeXBlRGVmaW5pdGlvbixcclxuICBTY2hlbWFWYWxpZGF0aW9uRXJyb3IsXHJcbiAgVkFMSURBVElPTl9FUlJPUl9TWU1CT0wsXHJcbn0gZnJvbSBcIi4uLy4uLy4uLy4uXCI7XHJcbmltcG9ydCB7IGZvcm1hdEVycm9yU291cmNlIH0gZnJvbSBcIi5cIjtcclxuXHJcbmNvbnN0IFJFR0VYX0RBVEUgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9KD86VDAwOjAwOjAwKD86XFwuMDAwKT8pP1okLztcclxuY29uc3QgUkVHRVhfREFURVRJTUUgPVxyXG4gIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0oPzpUXFxkezJ9OlxcZHsyfTpcXGR7Mn0oPzpcXC5cXGR7MSw3fSk/KT9aJC87XHJcbmNvbnN0IFJFR0VYX1VVSUQgPVxyXG4gIC9eXFx7PyhbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXsxMn0pXFx9PyQvO1xyXG5cclxuY29uc3QgUkVHRVhfVVJJID1cclxuICAvXig/Oig/OihbXFx3Ky4tXSspOikoXFwvXFwvKT8pKCg/OihbXjpAXSspKD86XFw6KFteQF0qKSk/QCk/KD86XFxbKFteXFxdXSspXFxdfChbMC05Ol0rfFteLytdKz8pKSg/OjooXFxkKikpPykoXFwvW14jP10qKT8oPzpcXD8oW14jXSopKT8oPzojKC4qKSk/JC87XHJcbmNvbnN0IFJFR0VYX0VNQUlMID1cclxuICAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86KFxcWygoWzAtOS5dKyl8KFswLTlhLWY6XSspKVxcXSl8KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pKT8kLztcclxuXHJcbmV4cG9ydCB0eXBlIFNjaGVtYVByaW1pdGl2ZVZhbHVlVmFsaWRhdG9yID0gKFxyXG4gIHZhbHVlOiBhbnksXHJcbiAgZXJyb3JzOiBTY2hlbWFWYWxpZGF0aW9uRXJyb3JbXVxyXG4pID0+IGFueSB8IG51bGw7XHJcblxyXG5jb25zdCBhZGRFcnJvciA9IChcclxuICBlcnJvcnM6IFNjaGVtYVZhbGlkYXRpb25FcnJvcltdLFxyXG4gIHZhbHVlOiBhbnksXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbikgPT4gKFxyXG4gIGVycm9ycy5wdXNoKHtcclxuICAgIHBhdGg6IFwiXCIsXHJcbiAgICB0eXBlOiBudWxsLFxyXG4gICAgc291cmNlOiB2YWx1ZSxcclxuICAgIG1lc3NhZ2U6IGAke2Zvcm1hdEVycm9yU291cmNlKHZhbHVlKX0gJHttZXNzYWdlfS5gLFxyXG4gIH0pLFxyXG4gIFZBTElEQVRJT05fRVJST1JfU1lNQk9MXHJcbik7XHJcblxyXG5jb25zdCBpc051bWJlciA9ICh2YWx1ZTogYW55LCBpbnRlZ2VyOiBib29sZWFuLCBhbGxvd1N0cmluZ3M6IGJvb2xlYW4pID0+XHJcbiAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJlxyXG4gICAgLy8gT25seSBhY3R1YWwgbnVtYmVycy4gSUVFRSA3NTQgc3R1ZmYgbGlrZSBOYU4gaXMgbm90IHN1cHBvcnRlZCBpbiBKU09OIHNvIGFsc28gbm90IGhlcmUuXHJcbiAgICAoKCFpbnRlZ2VyICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkgJiYgIU51bWJlci5pc05hTih2YWx1ZSkpIHx8XHJcbiAgICAgIE51bWJlci5pc0ludGVnZXIodmFsdWUpKSkgfHxcclxuICAoYWxsb3dTdHJpbmdzICYmXHJcbiAgICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcclxuICAgIGlzTnVtYmVyKGludGVnZXIgPyBwYXJzZUludCh2YWx1ZSkgOiBwYXJzZUZsb2F0KHZhbHVlKSwgaW50ZWdlciwgZmFsc2UpKTtcclxuXHJcbmNvbnN0IHByaW1pdGl2ZVZhbGlkYXRvcnM6IFJlY29yZDxzdHJpbmcsIFNjaGVtYVByaW1pdGl2ZVZhbHVlVmFsaWRhdG9yPiA9IHt9O1xyXG5leHBvcnQgY29uc3QgZ2V0UHJpbWl0aXZlVHlwZVZhbGlkYXRvciA9IChcclxuICB0eXBlOiBTY2hlbWFQcmltaXRpdmVUeXBlRGVmaW5pdGlvbiB8IFNjaGVtYUVudW1UeXBlRGVmaW5pdGlvbixcclxuICBhbGxvd051bWVyaWNTdHJpbmdzID0gZmFsc2VcclxuKToge1xyXG4gIHZhbGlkYXRvcjogU2NoZW1hUHJpbWl0aXZlVmFsdWVWYWxpZGF0b3I7XHJcbiAgcHJpbWl0aXZlOiBTY2hlbWFQcmltaXRpdmVUeXBlRGVmaW5pdGlvbltcInByaW1pdGl2ZVwiXTtcclxuICBlbnVtVmFsdWVzOiBTZXQ8c3RyaW5nIHwgbnVtYmVyPiB8IHVuZGVmaW5lZDtcclxufSA9PiB7XHJcbiAgbGV0IHByaW1pdGl2ZSA9XHJcbiAgICB0eXBlLnByaW1pdGl2ZSA/PyAodHlwZS5wcmltaXRpdmUgPSB0eXBlb2YgKHR5cGUuZW51bT8uWzBdID8/IFwiXCIpIGFzIGFueSk7XHJcblxyXG4gIGxldCB2YWxpZGF0b3IgPSAocHJpbWl0aXZlVmFsaWRhdG9yc1tcclxuICAgIHR5cGUucHJpbWl0aXZlICsgXCItXCIgKyAodHlwZVtcImZvcm1hdFwiXSA/PyBcIlwiKSArIFwiLVwiICsgYWxsb3dOdW1lcmljU3RyaW5nc1xyXG4gIF0gPz89IGNyZWF0ZSh0eXBlIGFzIFNjaGVtYVByaW1pdGl2ZVR5cGVEZWZpbml0aW9uLCBhbGxvd051bWVyaWNTdHJpbmdzKSk7XHJcblxyXG4gIGNvbnN0IG1heExlbmd0aCA9IHR5cGVbXCJtYXhMZW5ndGhcIl07XHJcbiAgaWYgKG1heExlbmd0aCAhPSBudWxsKSB7XHJcbiAgICBjb25zdCBpbm5lciA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvciA9ICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAodmFsdWUgPSBpbm5lcih2YWx1ZSwgZXJyb3JzKSkgPT09IFZBTElEQVRJT05fRVJST1JfU1lNQk9MXHJcbiAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgIDogdmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoXHJcbiAgICAgICAgPyBhZGRFcnJvcihcclxuICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgYGV4Y2VlZHMgdGhlIG1heGltdW0gYWxsb3dlZCAke21heExlbmd0aH0gbnVtYmVyIG9mIGNoYXJhY3RlcnNgXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgOiB2YWx1ZTtcclxuICB9XHJcbiAgY29uc3QgbWluID0gdHlwZVtcIm1pblwiXSxcclxuICAgIG1heCA9IHR5cGVbXCJtYXhcIl07XHJcbiAgaWYgKG1pbiAhPSBudWxsIHx8IG1heCAhPSBudWxsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxyXG4gICAgICBtaW4gIT0gbnVsbFxyXG4gICAgICAgID8gbWF4ICE9IG51bGxcclxuICAgICAgICAgID8gYGJldHdlZW4gJHttaW59IGFuZCAke21heH1gXHJcbiAgICAgICAgICA6IGBhdCBsZWFzdCAke21pbn1gXHJcbiAgICAgICAgOiBgYXQgbW9zdCAke21heH1gO1xyXG4gICAgY29uc3QgaW5uZXIgPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IgPSAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgKHZhbHVlID0gaW5uZXIodmFsdWUsIGVycm9ycykpID09PSBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTFxyXG4gICAgICAgID8gdmFsdWVcclxuICAgICAgICA6IChtaW4gPT0gbnVsbCB8fCB2YWx1ZSA+PSBtaW4pICYmIChtYXggPT0gbnVsbCB8fCB2YWx1ZSA8PSBtYXgpXHJcbiAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgZXJyb3JNZXNzYWdlKTtcclxuICB9XHJcblxyXG4gIGxldCBlbnVtVmFsdWVzOiBTZXQ8YW55PiB8IHVuZGVmaW5lZDtcclxuICBpZiAoXCJlbnVtXCIgaW4gdHlwZSkge1xyXG4gICAgY29uc3QgaW5uZXIgPSB2YWxpZGF0b3I7XHJcbiAgICBlbnVtVmFsdWVzID0gbmV3IFNldChcclxuICAgICAgKEFycmF5LmlzQXJyYXkodHlwZS5lbnVtKSA/IHR5cGUuZW51bSA6IFt0eXBlLmVudW1dKS5tYXAoKHZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcclxuICAgICAgICBpZiAoKHZhbHVlID0gaW5uZXIodmFsdWUsIGVycm9ycykpID09PSBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihlcnJvcnNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghZW51bVZhbHVlcy5zaXplKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcbiAgICAgICAgXCJBdCBsZWFzdCBvbmUgZW51bSB2YWx1ZSB0byB0ZXN0IGFnYWluc3QgaXMgcmVxdWlyZWQuXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxyXG4gICAgICBcImlzIG5vdCB0aGUgY29uc3RhbnQgdmFsdWUgXCIgK1xyXG4gICAgICBpdGVtaXplMihcclxuICAgICAgICAodHlwZS5lbnVtIGFzIGFueVtdKS5tYXAoKHZhbHVlOiBhbnkpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXHJcbiAgICAgICAgXCJvclwiXHJcbiAgICAgICk7XHJcblxyXG4gICAgdmFsaWRhdG9yID0gKHZhbHVlLCBlcnJvcnMpID0+XHJcbiAgICAgICh2YWx1ZSA9IGlubmVyKHZhbHVlLCBlcnJvcnMpKSA9PT0gVkFMSURBVElPTl9FUlJPUl9TWU1CT0xcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiBlbnVtVmFsdWVzIS5oYXModmFsdWUpXHJcbiAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgZXJyb3JNZXNzYWdlKTtcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIHZhbGlkYXRvcixcclxuICAgIHByaW1pdGl2ZSxcclxuICAgIGVudW1WYWx1ZXM6IGRpc3RpbmN0MihlbnVtVmFsdWVzKSxcclxuICB9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlKFxyXG4gIHR5cGU6IFNjaGVtYVByaW1pdGl2ZVR5cGVEZWZpbml0aW9uLFxyXG4gIGFsbG93TnVtZXJpY1N0cmluZ3M6IGJvb2xlYW5cclxuKTogU2NoZW1hUHJpbWl0aXZlVmFsdWVWYWxpZGF0b3Ige1xyXG4gIHN3aXRjaCAodHlwZS5wcmltaXRpdmUpIHtcclxuICAgIGNhc2UgXCJib29sZWFuXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiXHJcbiAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgQm9vbGVhblwiKTtcclxuXHJcbiAgICBjYXNlIFwiZGF0ZVwiOlxyXG4gICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+XHJcbiAgICAgICAgdmFsdWUgJiYgUkVHRVhfREFURS50ZXN0KHZhbHVlKSAmJiAhaXNOYU4oK25ldyBEYXRlKHZhbHVlKSlcclxuICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgIDogYWRkRXJyb3IoXHJcbiAgICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgIFwiaXMgbm90IGEgdmFsaWQgSVNPIDg2MDEgVVRDIGRhdGUgKHRpbWUgaXMgbm90IGFsbG93ZWQsIGFuZCB0aGUgJ1onIHBvc3RmaXggbXVzdCBiZSBhZGRlZCB0byBpbmRpY2F0ZSBDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZSlcIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgIGNhc2UgXCJ0aW1lc3RhbXBcIjpcclxuICAgIGNhc2UgXCJkYXRldGltZVwiOlxyXG4gICAgICBjb25zdCBpc28gPVxyXG4gICAgICAgIFwiZm9ybWF0XCIgaW4gdHlwZVxyXG4gICAgICAgICAgPyB0eXBlLmZvcm1hdCAhPT0gXCJ1bml4XCJcclxuICAgICAgICAgIDogdHlwZS5wcmltaXRpdmUgPT09IFwiZGF0ZXRpbWVcIjtcclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PiB7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCBpc051bWJlcih2YWx1ZSwgZmFsc2UsIGFsbG93TnVtZXJpY1N0cmluZ3MpKSB7XHJcbiAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlLCB0cnVlLCBhbGxvd051bWVyaWNTdHJpbmdzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSB2YWxpZCBVTklYIHRpbWVzdGFtcFwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhbHVlID0gK3ZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIVJFR0VYX0RBVEVUSU1FLnRlc3QodmFsdWUpIHx8IGlzTmFOKCtuZXcgRGF0ZSh2YWx1ZSkpKSB7XHJcbiAgICAgICAgICByZXR1cm4gYWRkRXJyb3IoXHJcbiAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIFwiaXMgbm90IGEgdmFsaWQgSVNPIDg2MDEgVVRDIGRhdGUvdGltZSAodGhlICdaJyBwb3N0Zml4IG11c3QgYmUgYWRkZWQgdG8gaW5kaWNhdGUgQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUpXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gaXNvID8gbmV3IERhdGUodmFsdWUpLnRvSVNPU3RyaW5nKCkgOiArdmFsdWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICBpc051bWJlcih2YWx1ZSwgdHJ1ZSwgYWxsb3dOdW1lcmljU3RyaW5ncylcclxuICAgICAgICAgID8gK3ZhbHVlXHJcbiAgICAgICAgICA6IGFkZEVycm9yKFxyXG4gICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICBcImlzIG5vdCBhIHZhbGlkIGR1cmF0aW9uIChtdXN0IGJlIHByb3ZpZGVkIGFzIG1pbGxpc2Vjb25kcylcIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgIGNhc2UgXCJpbnRlZ2VyXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICBpc051bWJlcih2YWx1ZSwgdHJ1ZSwgYWxsb3dOdW1lcmljU3RyaW5ncylcclxuICAgICAgICAgID8gK3ZhbHVlXHJcbiAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgdmFsaWQgaW50ZWdlclwiKTtcclxuXHJcbiAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICBpc051bWJlcih2YWx1ZSwgZmFsc2UsIGFsbG93TnVtZXJpY1N0cmluZ3MpXHJcbiAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgbnVtYmVyXCIpO1xyXG5cclxuICAgIGNhc2UgXCJzdHJpbmdcIjpcclxuICAgICAgc3dpdGNoICh0eXBlLmZvcm1hdCkge1xyXG4gICAgICAgIGNhc2UgXCJ1cmlcIjpcclxuICAgICAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIFJFR0VYX1VSSS50ZXN0KHZhbHVlKVxyXG4gICAgICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgdmFsaWQgVVJJXCIpO1xyXG5cclxuICAgICAgICBjYXNlIFwidXJsXCI6XHJcbiAgICAgICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgUkVHRVhfVVJJLmV4ZWModmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4gYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSB2YWxpZCBVUkxcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsyXVxyXG4gICAgICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgICAgICA6IGFkZEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICBcImlzIG5vdCBhIHZhbGlkIFVSTCAoaXQgaXMgYSBVUkksIGJ1dCBhIFVSTCBpcyByZXF1aXJlZClcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgY2FzZSBcInVyblwiOlxyXG4gICAgICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIFJFR0VYX1VSSS5leGVjKHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgdmFsaWQgVVJOXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV0gPT09IFwidXJuXCIgJiYgIW1hdGNoWzJdXHJcbiAgICAgICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICAgIDogYWRkRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgIFwiaXMgbm90IGEgdmFsaWQgVVJOIChpdCBpcyBhIFVSSSwgYnV0IGEgVVJOIGlzIHJlcXVpcmVkKVwiXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBjYXNlIFwiZW1haWxcIjpcclxuICAgICAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIFJFR0VYX0VNQUlMLnRlc3QodmFsdWUpXHJcbiAgICAgICAgICAgICAgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgOiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBcImlzIG5vdCBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgOiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBcImlzIG5vdCBhIHN0cmluZ1wiKTtcclxuXHJcbiAgICBjYXNlIFwidXVpZFwiOlxyXG4gICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+XHJcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgPyBSRUdFWF9VVUlELmV4ZWModmFsdWUpPy5bMV0udG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgOiBudWxsKSA/PyBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBcImlzIG5vdCBhIHZhbGlkIFVVSURcIik7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgICBgJyR7Zm9ybWF0RXJyb3JTb3VyY2UodHlwZSl9JyBpcyBub3QgYSBzdXBwb3J0ZWQgcHJpbWl0aXZlIHR5cGUuYFxyXG4gICAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xuICBjcmVhdGVFbnVtUGFyc2VyLFxuICBpdGVtaXplMixcbiAgTWF5YmVOdWxsaXNoLFxuICBOdWxsaXNoLFxuICBwaWNrMixcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgVGltZXN0YW1wLCBWYXJpYWJsZUtleSB9IGZyb20gXCIuLi8uLlwiO1xuaW1wb3J0IHsgU2NoZW1hRGF0YVVzYWdlIH0gZnJvbSBcIi4uL3NjaGVtYS9TY2hlbWFEYXRhVXNhZ2VcIjtcblxuZXhwb3J0IHR5cGUgS25vd25WYXJpYWJsZU1hcCA9IHtcbiAgW3Njb3BlOiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufTtcblxuY29uc3QgdmFyaWFibGVTY29wZU5hbWVzID0ge1xuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgYXJlIG5vdCBib3VuZCB0byBpbmRpdmlkdWFscywgZG9lcyBub3QgY29udGFpbiBwZXJzb25hbCBkYXRhLCBhbmQgbm90IHN1YmplY3QgdG8gY2Vuc29yaW5nLlxuICAgKiBUaGVzZSBtYXkgYmUgdXNlZCBmb3IgcHVycG9zZXMgc3VjaCBhcyBzaGFyZWQgcnVudGltZSBjb25maWd1cmF0aW9uXG4gICAqIG9yIGF1Z21lbnRpbmcgZXh0ZXJuYWwgZW50aXRpZXMgd2l0aCByZWFsLXRpbWUgZGF0YSBmb3IgcGVyc29uYWxpemF0aW9uIG9yIHRlc3RpbmcuXG4gICAqL1xuICBnbG9iYWw6IFwiZ2xvYmFsXCIsXG5cbiAgLyoqXG4gICAqIFZhcmlhYmxlcyB0aGF0IHJlbGF0ZXMgdG8gYW4gaW5kaXZpZHVhbCdzIGN1cnJlbnQgc2Vzc2lvbi4gVGhlc2UgYXJlIHB1cmdlZCB3aGVuIHRoZSBzZXNzaW9uIGVuZHMuXG4gICAqXG4gICAqIFNlc3Npb24gdmFyaWFibGVzIGNhbiBvbmx5IGJlIHJlYWQgZm9yIHRoZSBjdXJyZW50IHNlc3Npb24gZnJvbSB1bnRydXN0ZWQgY29udGV4dHMuXG4gICAqL1xuICBzZXNzaW9uOiBcInNlc3Npb25cIixcblxuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgcmVsYXRlcyB0byBhbiBpbmRpdmlkdWFsJ3MgZGV2aWNlLlxuICAgKlxuICAgKiBUaGVzZSB2YXJpYWJsZXMgYXJlIHBoeXNpY2FsbHkgc3RvcmVkIGluIHRoZSBkZXZpY2Ugd2hlcmUgdGhlIGF2YWlsYWJsZSBzcGFjZSBtYXkgYmUgdmVyeSBsaW1pdGVkLlxuICAgKiBGb3IgZXhhbXBsZSwgZG8gbm90IGV4Y2VlZCBhIHRvdGFsIG9mIDIgS2lCIGlmIHRhcmdldGluZyB3ZWIgYnJvd3NlcnMuXG4gICAqXG4gICAqIFRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zIGJldHdlZW4gY29uY3VycmVudCByZXF1ZXN0cywgZGV2aWNlIGRhdGEgbWF5IHRlbXBvcmFyaWx5IGJlIGxvYWRlZCBpbnRvIHNlc3Npb24gc3RvcmFnZS5cbiAgICpcbiAgICogQW55IGRhdGEgc3RvcmVkIGhlcmUgaXMgcGVyIGRlZmluaXRpb24gYXQgbGVhc3QgYGluZGlyZWN0YCBzaW5jZSBpdCBpcyBsaW5rZWQgdG8gYSBkZXZpY2UuXG4gICAqL1xuICBkZXZpY2U6IFwiZGV2aWNlXCIsXG5cbiAgLyoqXG4gICAqIFZhcmlhYmxlcyB0aGF0IHJlbGF0ZXMgdG8gYW4gaW5kaXZpZHVhbCBhY3Jvc3MgZGV2aWNlcy5cbiAgICpcbiAgICogQXNzb2NpYXRpbmcgYSB1c2VyIElEIHdpdGggYSBzZXNzaW9uIGNhbiBvbmx5IGhhcHBlbiBmcm9tIGEgdHJ1c3RlZCBjb250ZXh0LFxuICAgKiBidXQgZGF0YSBmb3IgdGhlIGFzc29jaWF0ZWQgdXNlciBjYW4gdGhlbiBiZSByZWFkIGZyb20gdW50cnVzdGVkIGNvbnRleHRzIHVubGVzcyBhIGB0cnVzdGVkLW9ubHlgIHJlc3RyaWN0aW9uIGlzIHB1dCBvbiB0aGUgZGF0YS5cbiAgICpcbiAgICogQW55IGRhdGEgc3RvcmVkIGhlcmUgaXMgcGVyIGRlZmluaXRpb24gYXQgbGVhc3QgYGRpcmVjdGAgc2luY2UgaXQgZGlyZWN0bHkgbGlua2VkIHRvIGFuIGluZGl2aWR1YWwuXG4gICAqL1xuICB1c2VyOiBcInVzZXJcIixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFZhcmlhYmxlU2VydmVyU2NvcGUgPVxuICAodHlwZW9mIHZhcmlhYmxlU2NvcGVOYW1lcylba2V5b2YgdHlwZW9mIHZhcmlhYmxlU2NvcGVOYW1lc107XG5cbmV4cG9ydCB0eXBlIFZhcmlhYmxlRXhwbGljaXRTZXJ2ZXJTY29wZXMgPSBcImdsb2JhbFwiO1xuXG5leHBvcnQgY29uc3QgVmFyaWFibGVTZXJ2ZXJTY29wZSA9IGNyZWF0ZUVudW1QYXJzZXIoXG4gIFwidmFyaWFibGUgc2NvcGVcIixcbiAgdmFyaWFibGVTY29wZU5hbWVzXG4pO1xuXG5leHBvcnQgY29uc3QgVkFSSUFCTEVfU1lOVEFYX1JVTEVTX1RFWFQgPVxuICBcIlZhcmlhYmxlcyBtdXN0IGJlIGxvd2VyY2FzZSwgc3RhcnQgd2l0aCBhIGxldHRlciBhbmQgdGhlbiBvbmx5IHVzZXIgbGV0dGVycywgbnVtYmVycywgdW5kZXJzY29yZXMsIGRvdHMgYW5kIGh5cGhlbnMuIChLZXlzIHByZWZpeGVkIHdpdGggJ0AnIGFyZSByZXNlcnZlZCBmb3IgaW50ZXJuYWwgdXNlLilcIjtcbi8qKiBWYWxpZGF0ZXMgdGhhdCB0aGUgc3ludGF4IGZvciBhIGtleSwgc2NvcGUgb3Igc291cmNlIGluIGEgdmFyaWFibGUgY29uZm9ybXMgdG8gdGhlIGFsbG93ZWQgc3ludGF4LiAgKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVZhcmlhYmxlS2V5Q29tcG9uZW50ID0gKHN5bnRheDogc3RyaW5nKSA9PlxuICAvXltAYS16XVthLXowLTlfLi1dezAsNDl9JC8udGVzdChzeW50YXgpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHNwZWxsaW5nIG9mIHRoZSBjb21wb25lbnRzIGluIGEgdmFyaWFibGUga2V5IGNvbmZvcm1zIHRvIHRoZSBhbGxvd2VkIHN5bnRheC5cbiAqIElmIG5vdCwgaXQgcmV0dXJucyB0aGUgdGV4dCBmb3IgYW4gZXJyb3IgbWVzc2FnZSwgaW5kaWNhdGluZyB3aGljaCBkaWRuJ3QsIHNvIGJlIGF3YXJlIHRoZSB0cnV0aHknbmVzcyBvZiB0aGUgcmV0dXJuIHZhbHVlIGlzIG9wcG9zaXRlXG4gKiBvZiB3aGF0IG9uZSBtaWdodCBleHBlY3QuXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVZhcmlhYmxlS2V5U3ludGF4ID0gKFxuICBrZXk6IFZhcmlhYmxlS2V5IHwgTnVsbGlzaFxuKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFrZXkpIHJldHVybiB1bmRlZmluZWQ7XG4gIGxldCBpbnZhbGlkQ29tcG9uZW50czogc3RyaW5nW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGlmICghdmFsaWRhdGVWYXJpYWJsZUtleUNvbXBvbmVudChrZXkua2V5KSkge1xuICAgIChpbnZhbGlkQ29tcG9uZW50cyA/Pz0gW10pLnB1c2goXCJrZXlcIik7XG4gIH1cbiAgaWYgKCF2YWxpZGF0ZVZhcmlhYmxlS2V5Q29tcG9uZW50KGtleS5zY29wZSkpIHtcbiAgICAoaW52YWxpZENvbXBvbmVudHMgPz89IFtdKS5wdXNoKFwic2NvcGVcIik7XG4gIH1cbiAgaWYgKGtleS5zb3VyY2UgJiYgIXZhbGlkYXRlVmFyaWFibGVLZXlDb21wb25lbnQoa2V5LnNvdXJjZSkpIHtcbiAgICAoaW52YWxpZENvbXBvbmVudHMgPz89IFtdKS5wdXNoKFwic291cmNlXCIpO1xuICB9XG4gIHJldHVybiAoXG4gICAgaW52YWxpZENvbXBvbmVudHMgJiZcbiAgICBgSW52YWxpZCAke2l0ZW1pemUyKGludmFsaWRDb21wb25lbnRzKX0uICR7VkFSSUFCTEVfU1lOVEFYX1JVTEVTX1RFWFR9YFxuICApO1xufTtcblxuLyoqXG4gKiBBIHZhcmlhYmxlIGlzIGEgc3BlY2lmaWMgcGllY2Ugb2YgaW5mb3JtYXRpb24gdGhhdCBjYW4gYmUgY2xhc3NpZmllZCBhbmQgY2hhbmdlZCBpbmRlcGVuZGVudGx5LlxuICogQSB2YXJpYWJsZSBjYW4gZWl0aGVyIGJlIGdsb2JhbCBvciByZWxhdGVkIHRvIGEgc3BlY2lmaWMgZW50aXR5IG9yIHRyYWNrZXIgc2NvcGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGU8VCBleHRlbmRzIHt9ID0gYW55PiBleHRlbmRzIFZhcmlhYmxlS2V5IHtcbiAgLyoqXG4gICAqIFRoaXMgaW5mb3JtYXRpb24gaXMgb25seSBwcm92aWRlZCBpZiB0aGUgdmFyaWFibGUgaXMgc2NoZW1hIGJvdW5kLlxuICAgKi9cbiAgc2NoZW1hPzoge1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgdmVyc2lvbj86IHN0cmluZztcbiAgICB1c2FnZTogU2NoZW1hRGF0YVVzYWdlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSB2YXJpYWJsZSB3YXMgY3JlYXRlZCAoVW5peCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzKS5cbiAgICovXG4gIGNyZWF0ZWQ6IFRpbWVzdGFtcDtcblxuICAvKipcbiAgICogV2hlbiB0aGUgdmFyaWFibGUgd2FzIGxhc3QgbW9kaWZpZWQuIChVbml4IG1zKS5cbiAgICovXG4gIG1vZGlmaWVkOiBUaW1lc3RhbXA7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIHRva2VuIHRoYXQgY2hhbmdlcyBldmVyeSB0aW1lIGEgdmFyaWFibGUgaXMgdXBkYXRlZC5cbiAgICpcbiAgICogSXQgZm9sbG93cyB0aGUgc2VtYW50aWNzIG9mIGEgXCJ3ZWFrXCIgRVRhZyBpbiB0aGUgSFRUUCBwcm90b2NvbC5cbiAgICogSG93IHRoZSB2YWx1ZSBpcyBnZW5lcmF0ZWQgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIHNwZWNpZmljIHRvIHRoZSBzdG9yYWdlIHRoYXQgbWFuYWdlcyB0aGUgdmFyaWFibGUuXG4gICAqXG4gICAqXG4gICAqL1xuICB2ZXJzaW9uOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoaW50IHRvIHZhcmlhYmxlIHN0b3JhZ2VzIHRoYXQgdGhlIHZhcmlhYmxlIHNob3VsZCBiZSBkZWxldGVkIGFmdGVyIHRoaXMgYW1vdW50IG9mIG1pbGxpc2Vjb25kc1xuICAgKiB1bmxlc3MgdXBkYXRlZCBvciByZWZyZXNoZWQgKHZpYSBWYXJpYWJsZVN0b3JhZ2UgaW4gQHRhaWxqcy9lbmdpbmUgc2V0IG9yIHJlZnJlc2ggbWV0aG9kcykuXG4gICAqXG4gICAqIFZhcmlhYmxlIHN0b3JhZ2VzIGNhbiBkZWNpZGUgaG93IGFjY3VyYXRlbHkgdGhleSB3YW50IHRvIGVuZm9yY2UgdGhpcyBpbiB0aGUgYmFja2dyb3VuZCxcbiAgICogeWV0IGl0IHdpbGwgYmUgYWNjdXJhdGUgZnJvbSBhIGNsaWVudCBwZXJzcGVjdGl2ZSwgc2luY2UgdGFpbC5qcyBmaWx0ZXJzIG91dCBleHBpcmVkIHZhcmlhYmxlcyBvbiByZWFkLlxuICAgKi9cbiAgdHRsPzogbnVtYmVyO1xuXG4gIC8qKiBJZiB0aGUgdmFyaWFibGUgaGFzIGEgdGltZS10by1saXZlLCB0aGlzIGlzIHdoZW4gaXQgc2hvdWxkIGV4cGlyZS4gKi9cbiAgZXhwaXJlcz86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS4gSXQgbXVzdCBvbmx5IGJlIHVuZGVmaW5lZCBpbiBhIHNldCBvcGVyYXRpb24gaW4gd2hpY2ggY2FzZSBpdCBtZWFucyBcImRlbGV0ZVwiLlxuICAgKi9cbiAgdmFsdWU6IFQ7XG59XG5cbi8qKiBSZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgbG9nZ2luZyBhbmQgZXJyb3IgbWVzc2FnZXMuICAqL1xuZXhwb3J0IGNvbnN0IGZvcm1hdFZhcmlhYmxlS2V5ID0gKFxuICB7XG4gICAga2V5LFxuICAgIHNjb3BlID0gXCJcIixcbiAgICBlbnRpdHlJZCA9IFwiXCIsXG4gICAgc291cmNlID0gXCJcIixcbiAgfToge1xuICAgIHNvdXJjZT86IHN0cmluZyB8IG51bGw7XG4gICAgc2NvcGU/OiBzdHJpbmc7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgZW50aXR5SWQ/OiBzdHJpbmc7XG4gIH0sXG4gIGVycm9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBcIlwiXG4pID0+XG4gIFtcbiAgICBcIidcIiArIGtleSArIFwiJ1wiLFxuICAgIHNvdXJjZSAmJiBcImZyb20gJ1wiICsgc291cmNlICsgXCInXCIsXG4gICAgZXJyb3IsXG4gICAgc2NvcGUgJiYgXCJpbiBcIiArIHNjb3BlICsgXCIgc2NvcGVcIixcbiAgICBlbnRpdHlJZCAmJiBcImZvciAnXCIgKyBlbnRpdHlJZCArIFwiJ1wiLFxuICBdXG4gICAgLmZpbHRlcigocykgPT4gcylcbiAgICAuam9pbihcIiBcIik7XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0S2V5ID0gPFxuICBUIGV4dGVuZHMgKFBhcnRpYWw8VmFyaWFibGVLZXk+ICYgeyBrZXk6IHN0cmluZyB9KSB8IE51bGxpc2hcbj4oXG4gIHZhbHVlOiBUXG4pOiBUIGV4dGVuZHMgaW5mZXIgVFxuICA/IFBpY2s8VCwga2V5b2YgVCAmIChcInNvdXJjZVwiIHwgXCJrZXlcIiB8IFwic2NvcGVcIiB8IFwiZW50aXR5SWRcIik+IGV4dGVuZHMgaW5mZXIgVFxuICAgID8geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB9XG4gICAgOiBuZXZlclxuICA6IG5ldmVyID0+XG4gIHZhbHVlID09IG51bGxcbiAgICA/IHZhbHVlXG4gICAgOiAoe1xuICAgICAgICBzb3VyY2U6IHZhbHVlLnNvdXJjZSxcbiAgICAgICAga2V5OiB2YWx1ZS5rZXksXG4gICAgICAgIHNjb3BlOiB2YWx1ZS5zY29wZSxcbiAgICAgICAgZW50aXR5SWQ6IHZhbHVlLmVudGl0eUlkLFxuICAgICAgfSBhcyBhbnkpO1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdFZhcmlhYmxlID0gPFQgZXh0ZW5kcyBQYXJ0aWFsPFZhcmlhYmxlPiB8IE51bGxpc2g+KFxuICB2YXJpYWJsZTogVFxuKTogTWF5YmVOdWxsaXNoPFBpY2s8VmFyaWFibGUsIGtleW9mIFQgJiBrZXlvZiBWYXJpYWJsZT4sIFQ+ID0+IHtcbiAgaWYgKHZhcmlhYmxlID09IG51bGwpIHJldHVybiB2YXJpYWJsZSBhcyBhbnk7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHZhcmlhYmxlLnNjb3BlLFxuICAgIGtleTogdmFyaWFibGUua2V5LFxuICAgIGVudGl0eUlkOiB2YXJpYWJsZS5lbnRpdHlJZCxcbiAgICBjcmVhdGVkOiB2YXJpYWJsZS5jcmVhdGVkLFxuICAgIG1vZGlmaWVkOiB2YXJpYWJsZS5tb2RpZmllZCxcbiAgICB2ZXJzaW9uOiB2YXJpYWJsZS52ZXJzaW9uLFxuICAgIGV4cGlyZXM6IHZhcmlhYmxlLmV4cGlyZXMsXG4gICAgdHRsOiB2YXJpYWJsZS50dGwsXG4gICAgdmFsdWU6IHZhcmlhYmxlLnZhbHVlLFxuICB9IHNhdGlzZmllcyBQYXJ0aWFsPFZhcmlhYmxlPiBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlTG9jYWxTY29wZWRFbnRpdHlJZCA9ICh2YXJpYWJsZTogVmFyaWFibGUpID0+IHtcbiAgaWYgKHZhcmlhYmxlLnNjb3BlICE9PSBcImdsb2JhbFwiKSB7XG4gICAgdmFyaWFibGUuZW50aXR5SWQgPSB1bmRlZmluZWQhO1xuICB9XG4gIHJldHVybiB2YXJpYWJsZTtcbn07XG4iLCJpbXBvcnQge1xyXG4gIGFycmF5MixcclxuICBlbGxpcHNpcyxcclxuICBmb3JFYWNoMixcclxuICBnZXQyLFxyXG4gIE51bGxpc2gsXHJcbiAgb2JqMixcclxuICB0aHJvd0Vycm9yLFxyXG4gIHRyeUFkZCxcclxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7XHJcbiAgQ09SRV9TQ0hFTUFfTlMsXHJcbiAgU0NIRU1BX0RBVEFfVVNBR0VfQU5PTllNT1VTLFxyXG4gIFNjaGVtYVR5cGVEZWZpbml0aW9uLFxyXG4gIHR5cGUgU2NoZW1hRGVmaW5pdGlvbixcclxuICB0eXBlIFZhcmlhYmxlU2VydmVyU2NvcGUsXHJcbn0gZnJvbSBcIi4uLy4uLy4uXCI7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9DRU5TT1JfVkFMSURBVEU6IFZhbGlkYXRhYmxlU2NoZW1hRW50aXR5ID0ge1xyXG4gIHZhbGlkYXRlOiAodmFsdWU6IGFueSwgX2N1cnJlbnQsIF9jb250ZXh0LCBfZXJyb3JzKSA9PiB2YWx1ZSxcclxuICBjZW5zb3I6ICh2YWx1ZSwgX2NvbnRleHQpID0+IHZhbHVlLFxyXG59O1xyXG5cclxuaW1wb3J0IHtcclxuICBDT1JFX0VWRU5UX0RJU0NSSU1JTkFUT1IsXHJcbiAgaGFzRW51bVZhbHVlcyxcclxuICBpc1NjaGVtYU9iamVjdFR5cGUsXHJcbiAgU2NoZW1hLFxyXG4gIFNjaGVtYURhdGFVc2FnZSxcclxuICBTY2hlbWFPYmplY3RUeXBlLFxyXG4gIFNjaGVtYVByb3BlcnR5VHlwZSxcclxuICBTY2hlbWFTeXN0ZW1UeXBlRGVmaW5pdGlvbixcclxuICBTY2hlbWFWYXJpYWJsZSxcclxufSBmcm9tIFwiLi4vLi5cIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlRXZlbnRQYXRjaERlZmluaXRpb24sXHJcbiAgY3JlYXRlU2NoZW1hVHlwZU1hcHBlcixcclxuICBwYXJzZUJhc2VUeXBlcyxcclxuICBwYXJzZVByb3BlcnR5LFxyXG4gIHBhcnNlVHlwZSxcclxuICBwYXJzZVR5cGVQcm9wZXJ0aWVzLFxyXG4gIFNjaGVtYVR5cGVTZWxlY3RvcixcclxuICBzZXJpYWxpemVBc0RlZmluaXRpb25zLFxyXG4gIFR5cGVQYXJzZUNvbnRleHQsXHJcbn0gZnJvbSBcIi4vcGFyc2luZ1wiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUFjY2Vzc1ZhbGlkYXRvcixcclxuICBjcmVhdGVDZW5zb3JBY3Rpb24sXHJcbiAgZ2V0UHJpbWl0aXZlVHlwZVZhbGlkYXRvcixcclxuICBoYW5kbGVWYWxpZGF0aW9uRXJyb3JzLFxyXG4gIG92ZXJyaWRlVXNhZ2UsXHJcbiAgVmFsaWRhdGFibGVTY2hlbWFFbnRpdHksXHJcbiAgVkFMSURBVElPTl9FUlJPUl9TWU1CT0wsXHJcbiAgYWRkVHlwZVZhbGlkYXRvcnMsXHJcbn0gZnJvbSBcIi4vdmFsaWRhdGlvblwiO1xyXG5pbXBvcnQgeyBQQVRDSF9FVkVOVF9QT1NURklYIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFNjaGVtYURlZmluaXRpb25Tb3VyY2UgPSB7XHJcbiAgc2NoZW1hOiBTY2hlbWFEZWZpbml0aW9uO1xyXG4gIC8qKlxyXG4gICAqIERvIG5vdCBhZGQgZXZlbnRzIGFuZCB2YXJpYWJsZXMgZnJvbSB0aGlzIHNjaGVtYSB0byBhdm9pZCBuYW1lIGNsYXNoZXMuXHJcbiAgICogVXNlIHRoaXMgaWYgdGhlIHR5cGVzIGZyb20gdGhlIHNjaGVtYSBhcmUgb25seSByZWZlcmVuY2VkIGJ5IG90aGVyIHNjaGVtYXMgdGhhdCBwcm92aWRlIGV2ZW50cyBhbmQgdmFyaWFibGVzLlxyXG4gICAqL1xyXG4gIHR5cGVzT25seT86IGJvb2xlYW47XHJcbn07XHJcblxyXG5jb25zdCB1cmlWYWxpZGF0b3IgPSBnZXRQcmltaXRpdmVUeXBlVmFsaWRhdG9yKHtcclxuICBwcmltaXRpdmU6IFwic3RyaW5nXCIsXHJcbiAgZm9ybWF0OiBcInVyaVwiLFxyXG59KTtcclxuZXhwb3J0IGNsYXNzIFR5cGVSZXNvbHZlciB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfc2NoZW1hcyA9IG5ldyBNYXA8c3RyaW5nLCBTY2hlbWE+KCk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfdHlwZXMgPSBuZXcgTWFwPHN0cmluZywgU2NoZW1hT2JqZWN0VHlwZT4oKTtcclxuICBwcml2YXRlIHJlYWRvbmx5IF9zeXN0ZW1UeXBlczogVHlwZVBhcnNlQ29udGV4dFtcInN5c3RlbVR5cGVzXCJdID0ge307XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfZXZlbnRNYXBwZXI6IFNjaGVtYVR5cGVTZWxlY3RvciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfdmFyaWFibGVzID0gbmV3IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIFNjaGVtYVZhcmlhYmxlPj4oKTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHNjaGVtYXM6IHJlYWRvbmx5IFNjaGVtYVtdO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IF9zb3VyY2VEZWZpbml0aW9uczogcmVhZG9ubHkgU2NoZW1hRGVmaW5pdGlvblNvdXJjZVtdO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWZpbml0aW9uczogcmVhZG9ubHkgU2NoZW1hRGVmaW5pdGlvbltdO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX2RlZmF1bHRVc2FnZTogU2NoZW1hRGF0YVVzYWdlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRlZmluaXRpb25zOiByZWFkb25seSBTY2hlbWFEZWZpbml0aW9uU291cmNlW10sXHJcbiAgICBkZWZhdWx0VXNhZ2UgPSBTQ0hFTUFfREFUQV9VU0FHRV9BTk9OWU1PVVNcclxuICApIHtcclxuICAgIHRoaXMuX3NvdXJjZURlZmluaXRpb25zID0gZGVmaW5pdGlvbnM7XHJcbiAgICB0aGlzLl9kZWZhdWx0VXNhZ2UgPSBkZWZhdWx0VXNhZ2U7XHJcbiAgICBjb25zdCBzY2hlbWFDb250ZXh0czogW3NjaGVtYTogU2NoZW1hLCBjb250ZXh0OiBUeXBlUGFyc2VDb250ZXh0XVtdID1cclxuICAgICAgZGVmaW5pdGlvbnMubWFwKCh7IHNjaGVtYSwgdHlwZXNPbmx5IH0pID0+IHtcclxuICAgICAgICBpZiAoIXNjaGVtYS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgYCR7ZWxsaXBzaXMoXHJcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2NoZW1hKSxcclxuICAgICAgICAgICAgICA0MCxcclxuICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICl9IGlzIG5vdCBhIHZhbGlkIHNjaGVtYSAtIG5hbWVzcGFjZSBpcyBtaXNzaW5nLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGhhbmRsZVZhbGlkYXRpb25FcnJvcnMoKGVycm9ycykgPT5cclxuICAgICAgICAgIHVyaVZhbGlkYXRvci52YWxpZGF0b3Ioc2NoZW1hLm5hbWVzcGFjZSwgZXJyb3JzKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NjaGVtYXMuaGFzKG5hbWVzcGFjZSkpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgYE9ubHkgb25lIHNjaGVtYSBjYW4gZGVmaW5lIHRoZSBuYW1lc3BhY2UgJyR7bmFtZXNwYWNlfScuYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VkOiBTY2hlbWEgPSB7XHJcbiAgICAgICAgICBpZDogbmFtZXNwYWNlLFxyXG4gICAgICAgICAgbmFtZXNwYWNlLFxyXG4gICAgICAgICAgc291cmNlOiBzY2hlbWEsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgbmFtZTogc2NoZW1hLm5hbWUgPz8gbmFtZXNwYWNlLFxyXG4gICAgICAgICAgcXVhbGlmaWVkTmFtZTogbmFtZXNwYWNlLFxyXG4gICAgICAgICAgdHlwZXNPbmx5OiAhIXR5cGVzT25seSxcclxuICAgICAgICAgIHZlcnNpb246IHNjaGVtYS52ZXJzaW9uLFxyXG4gICAgICAgICAgdXNhZ2VPdmVycmlkZXM6IHNjaGVtYSxcclxuICAgICAgICAgIHR5cGVzOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICBldmVudHM6IG5ldyBNYXAoKSxcclxuICAgICAgICAgIHZhcmlhYmxlczogbmV3IE1hcCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fc2NoZW1hcy5zZXQobmFtZXNwYWNlLCBwYXJzZWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgcGFyc2VkLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzY2hlbWE6IHBhcnNlZCxcclxuICAgICAgICAgICAgcGFyc2VkVHlwZXM6IHRoaXMuX3R5cGVzLFxyXG4gICAgICAgICAgICBzeXN0ZW1UeXBlczogdGhpcy5fc3lzdGVtVHlwZXMsXHJcbiAgICAgICAgICAgIGRlZmF1bHRVc2FnZTogb3ZlcnJpZGVVc2FnZShkZWZhdWx0VXNhZ2UsIHBhcnNlZC51c2FnZU92ZXJyaWRlcyksXHJcbiAgICAgICAgICAgIHVzYWdlT3ZlcnJpZGVzOiBzY2hlbWEsXHJcbiAgICAgICAgICAgIHR5cGVzT25seTogISF0eXBlc09ubHksXHJcbiAgICAgICAgICAgIGxvY2FsVHlwZXM6IHBhcnNlZC50eXBlcyxcclxuICAgICAgICAgICAgdHlwZUFsaWFzZXM6IG5ldyBNYXAoKSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgZm9yIChjb25zdCBbc2NoZW1hLCBjb250ZXh0XSBvZiBzY2hlbWFDb250ZXh0cykge1xyXG4gICAgICAvLyBQb3B1bGF0ZSB0aGUgdHlwZSBkaWN0aW9uYXJ5IHdpdGggaW5pdGlhbCB0eXBlIHN0dWJzIHdpdGhvdXQgcHJvcGVydGllcyBhbmQgYmFzZSB0eXBlcy5cclxuICAgICAgLy8gVGhpcyBhbGxvd3MgY2lyY3VsYXIgcmVmZXJlbmNlcyB0byBiZSByZXNvbHZlZCwgYW5kIHNjaGVtYXMgYW5kIHRoZWlyIHR5cGVzIGJlIHBhcnNlZCBpbiBhbnkgb3JkZXIuXHJcbiAgICAgIGZvckVhY2gyKFxyXG4gICAgICAgIHNjaGVtYS5zb3VyY2UudHlwZXMsXHJcbiAgICAgICAgKFtuYW1lLCB0eXBlXTogW3N0cmluZywgU2NoZW1hVHlwZURlZmluaXRpb25dKSA9PlxyXG4gICAgICAgICAgcGFyc2VUeXBlKFtuYW1lLCB0eXBlXSwgY29udGV4dCwgbnVsbClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGV2ZW50VHlwZSA9IHRoaXMuX3N5c3RlbVR5cGVzLmV2ZW50O1xyXG5cclxuICAgIGZvciAoY29uc3QgW3NjaGVtYSwgY29udGV4dF0gb2Ygc2NoZW1hQ29udGV4dHMpIHtcclxuICAgICAgLy8gUGFyc2UgYmFzZSB0eXBlcyBzbyBcImV4dGVuZGVkQnlcIiBpcyBwb3B1bGF0ZWQgZm9yIGFsbCB0eXBlcyBiZWZvcmUgd2UgcGFyc2UgcHJvcGVydGllcy4uXHJcbiAgICAgIGZvckVhY2gyKHNjaGVtYS50eXBlcywgKFssIHR5cGVdKSA9PiBwYXJzZUJhc2VUeXBlcyh0eXBlLCBjb250ZXh0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChjb25zdCBbc2NoZW1hLCBjb250ZXh0XSBvZiBzY2hlbWFDb250ZXh0cykge1xyXG4gICAgICBmb3JFYWNoMihzY2hlbWEudHlwZXMsIChbLCB0eXBlXSkgPT4gcGFyc2VUeXBlUHJvcGVydGllcyh0eXBlLCBjb250ZXh0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV2ZW50VHlwZSkge1xyXG4gICAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQgdHlwZXMgdG8gYXZvaWQgaW5maW5pdGUgbG9vcCAodGhhdCBpcywgcGF0Y2ggdHlwZXMgZm9yIHBhdGNoIHR5cGVzIGZvciBwYXRjaCB0eXBlcyBldGMuLi4pLlxyXG4gICAgICBmb3JFYWNoMihldmVudFR5cGUuZXh0ZW5kZWRCeUFsbCwgKHR5cGUpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gKHNjaGVtYUNvbnRleHRzLmZpbmQoXHJcbiAgICAgICAgICAoY29udGV4dCkgPT4gY29udGV4dFswXSA9PT0gdHlwZS5zY2hlbWFcclxuICAgICAgICApID8/XHJcbiAgICAgICAgICB0aHJvd0Vycm9yKFxyXG4gICAgICAgICAgICBgTm8gcGFyc2UgY29udGV4dCBmb3IgdGhlIHNjaGVtYSAnJHt0eXBlLnNjaGVtYS5uYW1lfScuYFxyXG4gICAgICAgICAgKSlbMV07XHJcblxyXG4gICAgICAgIGlmICghaGFzRW51bVZhbHVlcyh0eXBlLnByb3BlcnRpZXNbQ09SRV9FVkVOVF9ESVNDUklNSU5BVE9SXT8udHlwZSkpIHtcclxuICAgICAgICAgIC8vIEV2ZW50IHR5cGVzIHdpdGhvdXQgYSBzcGVjaWZpYyBjb25zdCB2YWx1ZSBmb3IgYHR5cGVgIGFyZSBwZXIgZGVmaW5pdGlvbiBhYnN0cmFjdC5cclxuICAgICAgICAgIHR5cGUuYWJzdHJhY3QgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAhdHlwZS5uYW1lLmVuZHNXaXRoKFBBVENIX0VWRU5UX1BPU1RGSVgpICYmXHJcbiAgICAgICAgICAhdGhpcy5fdHlwZXMuaGFzKHR5cGUuaWQgKyBQQVRDSF9FVkVOVF9QT1NURklYKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgY29ycmVzcG9uZGluZyBwYXRjaCB0eXBlLlxyXG4gICAgICAgICAgY29uc3QgcGF0Y2hEZWZpbml0aW9uID0gY3JlYXRlRXZlbnRQYXRjaERlZmluaXRpb24oZXZlbnRUeXBlLCB0eXBlKTtcclxuICAgICAgICAgIChwYXRjaERlZmluaXRpb24gYXMgU2NoZW1hU3lzdGVtVHlwZURlZmluaXRpb24pLnN5c3RlbSA9IFwicGF0Y2hcIjtcclxuICAgICAgICAgIGNvbnN0IHBhdGNoVHlwZSA9IHBhcnNlVHlwZShcclxuICAgICAgICAgICAgW3R5cGUubmFtZSArIFBBVENIX0VWRU5UX1BPU1RGSVgsIHBhdGNoRGVmaW5pdGlvbl0sXHJcbiAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBwYXJzZUJhc2VUeXBlcyhwYXRjaFR5cGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgcGFyc2VUeXBlUHJvcGVydGllcyhwYXRjaFR5cGUsIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yRWFjaDIodGhpcy5fdHlwZXMsIChbLCB0eXBlXSkgPT4ge1xyXG4gICAgICAvLyBGaW5pc2ggdGhlIHR5cGVzLlxyXG4gICAgICBhZGRUeXBlVmFsaWRhdG9ycyh0eXBlKTtcclxuXHJcbiAgICAgIGZvckVhY2gyKHR5cGUuZXh0ZW5kZWRCeSwgKHN1YnR5cGUpID0+IHtcclxuICAgICAgICBmb3JFYWNoMih0eXBlLnJlZmVyZW5jZWRCeSwgKHByb3ApID0+IHN1YnR5cGUucmVmZXJlbmNlZEJ5LmFkZChwcm9wKSk7XHJcbiAgICAgICAgZm9yRWFjaDIodHlwZS52YXJpYWJsZXMsIChbc2NvcGUsIGtleXNdKSA9PlxyXG4gICAgICAgICAgZm9yRWFjaDIoa2V5cywgKGtleSkgPT5cclxuICAgICAgICAgICAgZ2V0Migoc3VidHlwZS52YXJpYWJsZXMgPz89IG5ldyBNYXAoKSksIHNjb3BlLCAoKSA9PiBuZXcgU2V0KCkpLmFkZChcclxuICAgICAgICAgICAgICBrZXlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGV2ZW50VHlwZSkge1xyXG4gICAgICB0aGlzLl9ldmVudE1hcHBlciA9IGNyZWF0ZVNjaGVtYVR5cGVNYXBwZXIoW2V2ZW50VHlwZV0pLm1hdGNoO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgW3NjaGVtYSwgY29udGV4dF0gb2Ygc2NoZW1hQ29udGV4dHMpIHtcclxuICAgICAgaWYgKHNjaGVtYS50eXBlc09ubHkpIHtcclxuICAgICAgICAvLyBTY2hlbWEgb25seSBpbmNsdWRlZCBmb3IgdHlwZSByZWZlcmVuY2VzLCBkbyBub3QgY29uc2lkZXIgZXhwb3J0ZWQgdmFyaWFibGVzLlxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEZpbmQgdmFyaWFibGVzLlxyXG4gICAgICBmb3JFYWNoMihzY2hlbWEuc291cmNlLnZhcmlhYmxlcywgKFtzY29wZSwga2V5c10pID0+IHtcclxuICAgICAgICBmb3JFYWNoMihrZXlzLCAoW2tleSwgZGVmaW5pdGlvbl0pID0+IHtcclxuICAgICAgICAgIGlmICghZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsZXQgdmFyaWFibGVUeXBlOiBTY2hlbWFQcm9wZXJ0eVR5cGUgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgaWYgKFwicmVmZXJlbmNlXCIgaW4gZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHJlZmVyZW5jZWQgdHlwZS5cclxuICAgICAgICAgICAgdmFyaWFibGVUeXBlID0gcGFyc2VUeXBlKGRlZmluaXRpb24sIGNvbnRleHQsIG51bGwpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChcInByb3BlcnRpZXNcIiBpbiBkZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdCBhIHJlZmVyZW5jZSwgdXBncmFkZSB0aGUgYW5vbnltb3VzIG9iamVjdCB0eXBlcyB0byBhIHR5cGUgZGVmaW5pdGlvbiBieSBnaXZpbmcgaXQgYSBuYW1lLlxyXG4gICAgICAgICAgICB2YXJpYWJsZVR5cGUgPSBwYXJzZVR5cGUoXHJcbiAgICAgICAgICAgICAgW3Njb3BlICsgXCJfXCIgKyBrZXksIGRlZmluaXRpb25dLFxyXG4gICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBwYXJzZUJhc2VUeXBlcyh2YXJpYWJsZVR5cGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBwYXJzZVR5cGVQcm9wZXJ0aWVzKHZhcmlhYmxlVHlwZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGFkZFR5cGVWYWxpZGF0b3JzKHZhcmlhYmxlVHlwZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgZHVtbXlQcm9wZXJ0eSA9IHBhcnNlUHJvcGVydHkoXHJcbiAgICAgICAgICAgIHZhcmlhYmxlVHlwZSBhcyBhbnksXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbiBhcyBhbnksXHJcbiAgICAgICAgICAgIGNvbnRleHRcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgdmFyaWFibGVUeXBlID8/PSBkdW1teVByb3BlcnR5LnR5cGU7XHJcblxyXG4gICAgICAgICAgY29uc3QgdmFyaWFibGU6IFNjaGVtYVZhcmlhYmxlID0ge1xyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIHNjb3BlLFxyXG4gICAgICAgICAgICB0eXBlOiB2YXJpYWJsZVR5cGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkdW1teVByb3BlcnR5LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICB1c2FnZTogZHVtbXlQcm9wZXJ0eS51c2FnZSxcclxuICAgICAgICAgICAgdmFsaWRhdGU6IGR1bW15UHJvcGVydHkudmFsaWRhdGUsXHJcbiAgICAgICAgICAgIGNlbnNvcjogZHVtbXlQcm9wZXJ0eS5jZW5zb3IsXHJcbiAgICAgICAgICAgIGR5bmFtaWM6ICEhZGVmaW5pdGlvbi5keW5hbWljLFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB0cnlBZGQoXHJcbiAgICAgICAgICAgIGdldDIodGhpcy5fdmFyaWFibGVzLCBzY29wZSwgKCkgPT4gbmV3IE1hcCgpKSxcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICB2YXJpYWJsZSxcclxuICAgICAgICAgICAgKGN1cnJlbnQpID0+IHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICBgVGhlIHR5cGUgXCIke3ZhcmlhYmxlVHlwZS50b1N0cmluZygpfVwiIGNhbm5vdCBiZSByZWdpc3RlcmVkIGZvciB0aGUgdmFyaWFibGUga2V5IFwiJHtrZXl9XCIgaW4gJHtzY29wZX0gc2NvcGUsIHNpbmNlIGl0IGlzIGFscmVhZHkgdXNlZCBieSBcIiR7XHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQudHlwZS50b1N0cmluZ1xyXG4gICAgICAgICAgICAgICAgfVwiLmBcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGdldDIoc2NoZW1hLnZhcmlhYmxlcywgc2NvcGUsICgpID0+IG5ldyBNYXAoKSkuc2V0KGtleSwgdmFyaWFibGUpO1xyXG5cclxuICAgICAgICAgIGlmIChcInByb3BlcnRpZXNcIiBpbiB2YXJpYWJsZVR5cGUpIHtcclxuICAgICAgICAgICAgZ2V0MihcclxuICAgICAgICAgICAgICAodmFyaWFibGVUeXBlLnZhcmlhYmxlcyA/Pz0gbmV3IE1hcCgpKSxcclxuICAgICAgICAgICAgICBzY29wZSxcclxuICAgICAgICAgICAgICAoKSA9PiBuZXcgU2V0KClcclxuICAgICAgICAgICAgKS5hZGQoa2V5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50eXBlcyA9IG9iajIodGhpcy5fdHlwZXMpO1xyXG4gICAgdGhpcy52YXJpYWJsZXMgPSBvYmoyKHRoaXMuX3ZhcmlhYmxlcywgKFtzY29wZSwgdmFyaWFibGVzXSkgPT4gW1xyXG4gICAgICBzY29wZSxcclxuICAgICAgb2JqMih2YXJpYWJsZXMsIChba2V5LCB2YXJpYWJsZV0pID0+IHtcclxuICAgICAgICBjb25zdCB1c2FnZSA9ICh2YXJpYWJsZS51c2FnZSA9IG92ZXJyaWRlVXNhZ2UoXHJcbiAgICAgICAgICBpc1NjaGVtYU9iamVjdFR5cGUodmFyaWFibGUudHlwZSkgPyB2YXJpYWJsZS50eXBlLnVzYWdlIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgdmFyaWFibGUudXNhZ2VcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5uZXJWYWxpZGF0b3IgPSBjcmVhdGVBY2Nlc3NWYWxpZGF0b3IoXHJcbiAgICAgICAgICBzY29wZSArIFwiLlwiICsga2V5LFxyXG4gICAgICAgICAgdmFyaWFibGUudHlwZSxcclxuICAgICAgICAgIHVzYWdlLFxyXG4gICAgICAgICAgXCJ2YXJpYWJsZVwiXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdmFyaWFibGUudmFsaWRhdGUgPSB2YXJpYWJsZS5keW5hbWljXHJcbiAgICAgICAgICA/ICh2YWx1ZSwgY3VycmVudCwgY29udGV4dCwgZXJyb3JzLCBwb2x5bW9ycGhpYykgPT5cclxuICAgICAgICAgICAgICBoYW5kbGVWYWxpZGF0aW9uRXJyb3JzKChlcnJvcnMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmZvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpbm5lclZhbGlkYXRvcihcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvbHltb3JwaGljXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaGUgdmFsdWUgaXMgZHluYW1pY2FsbHkgY2FsY3VsYXRlZCBhbmQgY2Fubm90IGJlIHNldFwiLFxyXG4gICAgICAgICAgICAgICAgICBwYXRoOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICB0eXBlOiB2YXJpYWJsZS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICBzb3VyY2U6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICBmb3JiaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgfSwgZXJyb3JzKVxyXG4gICAgICAgICAgOiBpbm5lclZhbGlkYXRvcjtcclxuXHJcbiAgICAgICAgdmFyaWFibGUuY2Vuc29yID0gY3JlYXRlQ2Vuc29yQWN0aW9uKHVzYWdlLCB2YXJpYWJsZS50eXBlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtrZXksIHZhcmlhYmxlXTtcclxuICAgICAgfSksXHJcbiAgICBdKTtcclxuXHJcbiAgICB0aGlzLnNjaGVtYXMgPSBbLi4udGhpcy5fc2NoZW1hcy52YWx1ZXMoKV07XHJcblxyXG4gICAgdGhpcy5kZWZpbml0aW9ucyA9IHNlcmlhbGl6ZUFzRGVmaW5pdGlvbnModGhpcy5zY2hlbWFzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRFdmVudFR5cGU8VD4oXHJcbiAgICBldmVudERhdGE6IFRcclxuICApOiBUIGV4dGVuZHMgTnVsbGlzaCA/IFQgOiBTY2hlbWFPYmplY3RUeXBlIHtcclxuICAgIHJldHVybiAhdGhpcy5fZXZlbnRNYXBwZXJcclxuICAgICAgPyB0aHJvd0Vycm9yKFwiU3lzdGVtIGV2ZW50IHR5cGUgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWRcIilcclxuICAgICAgOiBldmVudERhdGEgJiYgKHRoaXMuX2V2ZW50TWFwcGVyKGV2ZW50RGF0YSkgYXMgYW55KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRUeXBlPFJlcXVpcmVkIGV4dGVuZHMgYm9vbGVhbiA9IHRydWU+KFxyXG4gICAgdHlwZU5hbWU6IHN0cmluZyxcclxuICAgIHJlcXVpcmVkOiBSZXF1aXJlZCA9IHRydWUgYXMgYW55LFxyXG4gICAgZGVmYXVsdE5hbWVzcGFjZT86IHN0cmluZ1xyXG4gICk6IFNjaGVtYU9iamVjdFR5cGUgfCAoUmVxdWlyZWQgZXh0ZW5kcyB0cnVlID8gbmV2ZXIgOiB1bmRlZmluZWQpIHtcclxuICAgIGNvbnN0IHR5cGVJZCA9IHR5cGVOYW1lLmluY2x1ZGVzKFwiI1wiKVxyXG4gICAgICA/IHR5cGVOYW1lXHJcbiAgICAgIDogKGRlZmF1bHROYW1lc3BhY2UgPz8gQ09SRV9TQ0hFTUFfTlMpICsgXCIjXCIgKyB0eXBlTmFtZTtcclxuXHJcbiAgICBjb25zdCB0eXBlID0gdGhpcy5fdHlwZXMuZ2V0KHR5cGVJZCk7XHJcbiAgICBpZiAocmVxdWlyZWQgJiYgIXR5cGUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdHlwZSAnJHt0eXBlSWR9JyBpcyBub3QgZGVmaW5lZC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0eXBlIGFzIGFueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRWYXJpYWJsZTxSZXF1aXJlZCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlPihcclxuICAgIHNjb3BlOiBzdHJpbmcsXHJcbiAgICBrZXk6IHN0cmluZyxcclxuICAgIHJlcXVpcmVkOiBSZXF1aXJlZCA9IHRydWUgYXMgYW55XHJcbiAgKTogU2NoZW1hVmFyaWFibGUgfCAoUmVxdWlyZWQgZXh0ZW5kcyB0cnVlID8gbmV2ZXIgOiB1bmRlZmluZWQpIHtcclxuICAgIGNvbnN0IHZhcmlhYmxlID0gdGhpcy5fdmFyaWFibGVzLmdldChzY29wZSk/LmdldChrZXkpO1xyXG4gICAgaWYgKCF2YXJpYWJsZSAmJiByZXF1aXJlZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgYFRoZSB2YXJpYWJsZSAnJHtrZXl9JyBpbiAke3Njb3BlfSBzY29wZSBpcyBub3QgZGVmaW5lZC5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFyaWFibGUgYXMgYW55O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHR5cGVzOiB7XHJcbiAgICByZWFkb25seSBbUCBpbiBzdHJpbmddPzogUmVhZG9ubHk8U2NoZW1hT2JqZWN0VHlwZT47XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHZhcmlhYmxlczoge1xyXG4gICAgcmVhZG9ubHkgW1AgaW4gVmFyaWFibGVTZXJ2ZXJTY29wZSB8IChzdHJpbmcgJiB7fSldPzoge1xyXG4gICAgICByZWFkb25seSBbUCBpbiBzdHJpbmddOiBSZWFkb25seTxTY2hlbWFWYXJpYWJsZT47XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBzdWJzZXQobmFtZXNwYWNlczogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkU2NoZW1hcyA9IG5ldyBTZXQ8U2NoZW1hRGVmaW5pdGlvblNvdXJjZT4oKTtcclxuICAgIGZvciAoY29uc3Qgc2NoZW1hU2VsZWN0b3Igb2YgQXJyYXkuaXNBcnJheShuYW1lc3BhY2VzKVxyXG4gICAgICA/IG5hbWVzcGFjZXNcclxuICAgICAgOiBbbmFtZXNwYWNlc10pIHtcclxuICAgICAgbGV0IG1hdGNoZWRBbnkgPSBmYWxzZTtcclxuICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2YgdGhpcy5fc291cmNlRGVmaW5pdGlvbnMpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY2hlbWFTZWxlY3RvciA9PT0gXCIqXCIgfHxcclxuICAgICAgICAgIHNjaGVtYVNlbGVjdG9yID09PSBzb3VyY2Uuc2NoZW1hLm5hbWVzcGFjZSB8fFxyXG4gICAgICAgICAgc2NoZW1hU2VsZWN0b3IgPT09IHNvdXJjZS5zY2hlbWEubmFtZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgbWF0Y2hlZEFueSA9IHRydWU7XHJcbiAgICAgICAgICBzZWxlY3RlZFNjaGVtYXMuYWRkKHNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghbWF0Y2hlZEFueSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgIGBUaGUgc2NoZW1hIHNlbGVjdG9yICcke3NjaGVtYVNlbGVjdG9yfScgZGlkIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBjdXJyZW50bHkgbG9hZGVkIGluIHRoZSBnbG9iYWwgdHlwZSByZXNvbHZlci5gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgVHlwZVJlc29sdmVyKFxyXG4gICAgICB0aGlzLl9zb3VyY2VEZWZpbml0aW9ucy5tYXAoXHJcbiAgICAgICAgKHNvdXJjZSkgPT5cclxuICAgICAgICAgIHNlbGVjdGVkU2NoZW1hcy5oYXMoc291cmNlKVxyXG4gICAgICAgICAgICA/IHsgLi4uc291cmNlLCB0eXBlc09ubHk6IGZhbHNlIH1cclxuICAgICAgICAgICAgOiB7IC4uLnNvdXJjZSwgdHlwZXNPbmx5OiB0cnVlIH0sXHJcbiAgICAgICAgdGhpcy5fZGVmYXVsdFVzYWdlXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XG4gIFZhcmlhYmxlLFxuICBWYXJpYWJsZUdldFJlc3VsdCxcbiAgVmFyaWFibGVLZXksXG4gIFZhcmlhYmxlU2V0UmVzdWx0LFxufSBmcm9tIFwiLi4vLi5cIjtcblxuZXhwb3J0IGVudW0gVmFyaWFibGVSZXN1bHRTdGF0dXMge1xuICBTdWNjZXNzID0gMjAwLFxuICBDcmVhdGVkID0gMjAxLFxuICBOb3RNb2RpZmllZCA9IDMwNCxcbiAgQmFkUmVxdWVzdCA9IDQwMCxcbiAgRm9yYmlkZGVuID0gNDAzLFxuICBOb3RGb3VuZCA9IDQwNCxcbiAgQ29uZmxpY3QgPSA0MDksXG4gIEVycm9yID0gNTAwLFxufVxuXG5leHBvcnQgdHlwZSBWYXJpYWJsZVN1Y2Nlc3NTdGF0dXNXaXRoVmFsdWUgPVxuICB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3NcbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkO1xuXG5leHBvcnQgdHlwZSBWYXJpYWJsZVN1Y2Nlc3NTdGF0dXMgPVxuICB8IFZhcmlhYmxlU3VjY2Vzc1N0YXR1c1dpdGhWYWx1ZVxuICB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdE1vZGlmaWVkO1xuXG5leHBvcnQgdHlwZSBWYXJpYWJsZUVycm9yU3RhdHVzID1cbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Gb3JiaWRkZW5cbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZFxuICB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkJhZFJlcXVlc3RcbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Db25mbGljdFxuICB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkVycm9yO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlUmVzdWx0IGV4dGVuZHMgVmFyaWFibGVLZXkge1xuICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlTm90Rm91bmRSZXN1bHQgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQ7XG4gIHZhbHVlPzogdW5kZWZpbmVkO1xuICB2ZXJzaW9uPzogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlVmFsdWVFcnJvclJlc3VsdCBleHRlbmRzIFZhcmlhYmxlUmVzdWx0IHtcbiAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Gb3JiaWRkZW4gfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5CYWRSZXF1ZXN0O1xuICBlcnJvcj86IHN0cmluZztcbiAgdHJhbnNpZW50PzogZmFsc2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVFcnJvclJlc3VsdCBleHRlbmRzIFZhcmlhYmxlUmVzdWx0IHtcbiAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5FcnJvcjtcbiAgZXJyb3I6IHN0cmluZztcbiAgdHJhbnNpZW50PzogYm9vbGVhbjtcbn1cblxuLyoqIFRoZSB2YXJpYWJsZSBvcGVyYXRpb24gc3VjY2VlZGVkLCBhbmQgdGhlIHJlc3VsdCByZXByZXNlbnRzIGEgdmFyaWFibGUsIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuICovXG5leHBvcnQgY29uc3QgaXNWYXJpYWJsZVJlc3VsdDoge1xuICA8VCBleHRlbmRzIHt9ID0gYW55Pih2YWx1ZTogYW55LCByZXF1aXJlRm91bmQ/OiB0cnVlKTogdmFsdWUgaXMgVmFyaWFibGU8VD47XG4gIDxUIGV4dGVuZHMge30gPSBhbnk+KHZhbHVlOiBhbnksIHJlcXVpcmVGb3VuZDogYm9vbGVhbik6IHZhbHVlIGlzXG4gICAgfCBWYXJpYWJsZTxUPlxuICAgIHwgdW5kZWZpbmVkXG4gICAgfCB7XG4gICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQ7XG4gICAgICAgIHZhbHVlPzogdW5kZWZpbmVkO1xuICAgICAgfTtcbn0gPSAodmFsdWU6IGFueSwgcmVxdWlyZUZvdW5kID0gdHJ1ZSk6IHZhbHVlIGlzIGFueSA9PlxuICAodmFsdWUgYXMgVmFyaWFibGUpPy52YWx1ZSAhPSBudWxsIHx8XG4gICghcmVxdWlyZUZvdW5kICYmXG4gICAgKCF2YWx1ZSB8fFxuICAgICAgKHZhbHVlIGFzIFZhcmlhYmxlR2V0UmVzdWx0KS5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kKSk7XG5cbi8qKlxuICogVGhlIHZhcmlhYmxlIGV4aXN0ZWQgc28gdGhlIHJlc3VsdCBoYXMgYSB2YWx1ZSxcbiAqIG9yIHRoZSB2YXJpYWJsZSBkaWQgbm90IGV4aXN0cywgaW4gd2hpY2ggY2FzZSB0aGUgdmFsdWUgY2FuIGJlIGludGVycHJldGVkIGFzIGBudWxsYC5cbiAqL1xuXG5leHBvcnQgY29uc3QgaXNTdWNjZXNzUmVzdWx0OiB7XG4gIDxUID0gYW55PihcbiAgICB2YWx1ZTogYW55LFxuICAgIC8qKiBXaGV0aGVyIFwibm90IGZvdW5kXCIgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3MuICovXG4gICAgcmVxdWlyZUZvdW5kPzogdHJ1ZVxuICApOiB2YWx1ZSBpc1xuICAgIHwge1xuICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkO1xuICAgICAgICB2YWx1ZTogVCB8IG51bGw7XG4gICAgICB9XG4gICAgfCB7IHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90TW9kaWZpZWQgfTtcblxuICA8VCBleHRlbmRzIHt9ID0gYW55PihcbiAgICB2YWx1ZTogYW55LFxuICAgIC8qKiBXaGV0aGVyIFwibm90IGZvdW5kXCIgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3MuICovXG4gICAgcmVxdWlyZUZvdW5kOiBib29sZWFuXG4gICk6IHZhbHVlIGlzXG4gICAgfCB7XG4gICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNyZWF0ZWQ7XG4gICAgICAgIHZhbHVlOiBUIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBzdGF0dXM6XG4gICAgICAgICAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RNb2RpZmllZFxuICAgICAgICAgIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQ7XG4gICAgICB9O1xufSA9ICh2YWx1ZTogYW55LCByZXF1aXJlRm91bmQgPSB0cnVlKTogdmFsdWUgaXMgYW55ID0+XG4gIHZhbHVlICYmXG4gICgodmFsdWUgYXMgVmFyaWFibGVSZXN1bHQpLnN0YXR1cyA8IDQwMCB8fFxuICAgICghcmVxdWlyZUZvdW5kICYmXG4gICAgICAodmFsdWUgYXMgVmFyaWFibGVSZXN1bHQpLnN0YXR1cyA9PT0gVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQpKTtcblxuZXhwb3J0IGNvbnN0IGlzVHJhbnNpZW50RXJyb3IgPSAoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzIHsgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5FcnJvcjsgdHJhbnNpZW50OiB0cnVlIH0gPT5cbiAgKHZhbHVlIGFzIGFueSk/LnRyYW5zaWVudDtcblxuZXhwb3J0IGludGVyZmFjZSBWYXJpYWJsZUNvbmZsaWN0UmVzdWx0PFQgZXh0ZW5kcyB7fSA9IGFueT5cbiAgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCxcbiAgICBWYXJpYWJsZTxUPiB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuQ29uZmxpY3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVOb3RNb2RpZmllZFJlc3VsdCBleHRlbmRzIFZhcmlhYmxlUmVzdWx0IHtcbiAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RNb2RpZmllZDtcbiAgdmFsdWU/OiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVTdWNjZXNzUmVzdWx0PFQgZXh0ZW5kcyB7fSA9IGFueT5cbiAgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCxcbiAgICBWYXJpYWJsZTxUPiB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNyZWF0ZWQ7XG59XG5cbmV4cG9ydCB0eXBlIEFueVZhcmlhYmxlUmVzdWx0PFQgZXh0ZW5kcyB7fSA9IGFueT4gPVxuICB8IFZhcmlhYmxlR2V0UmVzdWx0PFQ+XG4gIHwgVmFyaWFibGVTZXRSZXN1bHQ8VD47XG4iLCJpbXBvcnQge1xyXG4gIEFsbEtleXMsXHJcbiAgQXJyYXlPclNlbGYsXHJcbiAgZGVmZXJyZWRQcm9taXNlLFxyXG4gIEZhbHNpc2gsXHJcbiAgSWZOZXZlcixcclxuICBpc0FycmF5LFxyXG4gIE1heWJlUHJvbWlzZUxpa2UsXHJcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQge1xyXG4gIGZvcm1hdFZhcmlhYmxlS2V5LFxyXG4gIGlzU3VjY2Vzc1Jlc3VsdCxcclxuICBpc1ZhcmlhYmxlUmVzdWx0LFxyXG4gIEtub3duVmFyaWFibGVNYXAsXHJcbiAgTWF0Y2hTY29wZXMsXHJcbiAgUmVtb3ZlU2NvcGVSZXN0cmljdGlvbnMsXHJcbiAgUmVzdHJpY3RTY29wZXMsXHJcbiAgVmFyaWFibGUsXHJcbiAgVmFyaWFibGVHZXRSZXN1bHQsXHJcbiAgVmFyaWFibGVHZXR0ZXIsXHJcbiAgVmFyaWFibGVJbml0aWFsaXplcixcclxuICBWYXJpYWJsZUluaXRpYWxpemVyQ2FsbGJhY2ssXHJcbiAgVmFyaWFibGVLZXksXHJcbiAgVmFyaWFibGVQYXRjaCxcclxuICBWYXJpYWJsZVBhdGNoRnVuY3Rpb24sXHJcbiAgVmFyaWFibGVSZXN1bHQsXHJcbiAgVmFyaWFibGVSZXN1bHRTdGF0dXMsXHJcbiAgVmFyaWFibGVTZXRSZXN1bHQsXHJcbiAgVmFyaWFibGVTZXR0ZXIsXHJcbiAgVmFyaWFibGVTdWNjZXNzU3RhdHVzLFxyXG4gIFZhcmlhYmxlVmFsdWVFcnJvclJlc3VsdCxcclxuICBWYXJpYWJsZVZhbHVlU2V0dGVyLFxyXG59IGZyb20gXCIuLi8uLlwiO1xyXG5cclxudHlwZSBOb3RTdHJpbmc8Uz4gPSBzdHJpbmcgZXh0ZW5kcyBTID8gbmV2ZXIgOiBTO1xyXG50eXBlIExvb2t1cDxULCBTb3VyY2UsIEtleT4gPSB1bmtub3duIGV4dGVuZHMgS2V5XHJcbiAgPyBuZXZlclxyXG4gIDogVFtrZXlvZiBUICYgTm90U3RyaW5nPFNvdXJjZVtLZXkgJiBrZXlvZiBTb3VyY2VdPl07XHJcblxyXG5leHBvcnQgdHlwZSBLbm93blR5cGVGb3I8XHJcbiAgT3BlcmF0aW9uLFxyXG4gIEtub3duVHlwZXMgZXh0ZW5kcyBLbm93blZhcmlhYmxlTWFwLFxyXG4gIERlZmF1bHQgPSB1bmtub3duXHJcbj4gPSBJZk5ldmVyPFxyXG4gIExvb2t1cDxMb29rdXA8S25vd25UeXBlcywgT3BlcmF0aW9uLCBcInNjb3BlXCI+LCBPcGVyYXRpb24sIFwia2V5XCI+LFxyXG4gIERlZmF1bHRcclxuPiAmIHt9O1xyXG5cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVDYWxsYmFjazxSZXN1bHQgPSBWYXJpYWJsZVJlc3VsdCwgUmV0dXJuID0gYW55PiA9IChcclxuICByZXN1bHQ6IFJlc3VsdFxyXG4pID0+IE1heWJlUHJvbWlzZUxpa2U8UmV0dXJuPjtcclxuXHJcbi8qKlxyXG4gKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdHJ1ZWAgdGhlIHZhcmlhYmxlIHdpbGwgZ2V0IHBvbGxlZCwgdGhhdCBpcywgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFnYWluIGlmIHRoZSB2YXJpYWJsZSBjaGFuZ2VzLlxyXG4gKiBJZiB0aGUgdmFyaWFibGUgaXMgZGVsZXRlZCwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYSBOb3RGb3VuZCBnZXQgcmVzdWx0LlxyXG4gKlxyXG4gKiBQb2xsaW5nIGN1cnJlbnRseSBvbmx5IHdvcmtzIGNsaWVudC1zaWRlLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVHZXR0ZXJDYWxsYmFjazxcclxuICBLZXlUeXBlID0gVmFyaWFibGVLZXksXHJcbiAgVCBleHRlbmRzIHt9ID0gYW55XHJcbj4gPSBWYXJpYWJsZUNhbGxiYWNrPFxyXG4gIE1hdGNoU2NvcGVzPFxyXG4gICAgVmFyaWFibGVSZXN1bHRQcm9taXNlUmVzdWx0PFwiZ2V0XCIsIFZhcmlhYmxlR2V0UmVzdWx0PFQ+PixcclxuICAgIEtleVR5cGVcclxuICA+LFxyXG4gIGJvb2xlYW4gfCB1bmRlZmluZWQgfCB2b2lkXHJcbj47XHJcblxyXG4vKipcclxuICogSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIHRoZSB2YXJpYWJsZSB3aWxsIGdldCBwb2xsZWQsIHRoYXQgaXMsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhZ2FpbiBpZiB0aGUgdmFyaWFibGUgY2hhbmdlcy5cclxuICogSWYgdGhlIHZhcmlhYmxlIGlzIGRlbGV0ZWQgb3Igbm90IGZvdW5kLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGB1bmRlZmluZWRgLlxyXG4gKlxyXG4gKiBQb2xsaW5nIGN1cnJlbnRseSBvbmx5IHdvcmtzIGNsaWVudC1zaWRlLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVQb2xsQ2FsbGJhY2s8VCBleHRlbmRzIHt9ID0gYW55PiA9IChcclxuICByZXN1bHQ6IFQgfCB1bmRlZmluZWQsXHJcbiAgZnJvbVNvdXJjZU9wZXJhdGlvbjogYm9vbGVhbixcclxuICBwcmV2aW91czogVCB8IHVuZGVmaW5lZFxyXG4pID0+IE1heWJlUHJvbWlzZUxpa2U8Ym9vbGVhbiB8IHVuZGVmaW5lZCB8IHZvaWQ+O1xyXG5cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVTZXR0ZXJDYWxsYmFjazxcclxuICBLZXlUeXBlID0gVmFyaWFibGVLZXksXHJcbiAgVCBleHRlbmRzIHt9ID0gYW55XHJcbj4gPSBWYXJpYWJsZUNhbGxiYWNrPFxyXG4gIE1hdGNoU2NvcGVzPFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdDxcInNldFwiLCBWYXJpYWJsZVNldFJlc3VsdDxUPj4sIEtleVR5cGU+XHJcbj47XHJcblxyXG50eXBlIFZhbGlkT3BlcmF0aW9uS2V5cyA9XHJcbiAgfCBBbGxLZXlzPFZhcmlhYmxlR2V0dGVyIHwgVmFyaWFibGVTZXR0ZXIgfCBWYXJpYWJsZT5cclxuICAvLyBUbyBzdXNwZW5kIGNsaWVudC1zaWRlIHBvbGxpbmcgY2FsbGJhY2tzXHJcbiAgfCBcInBhc3NpdmVcIjtcclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZSB0eXBlcyBmb3IgY2FsbGJhY2tzLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgV2l0aENhbGxiYWNrczxcclxuICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiB8IFwic2V0XCIsXHJcbiAgT3BlcmF0aW9uLFxyXG4gIEtub3duVmFyaWFibGVzIGV4dGVuZHMgS25vd25WYXJpYWJsZU1hcFxyXG4+ID0gT3BlcmF0aW9uIGV4dGVuZHMgcmVhZG9ubHkgYW55W11cclxuICA/IHtcclxuICAgICAgW1AgaW4ga2V5b2YgT3BlcmF0aW9uXTogV2l0aENhbGxiYWNrczxcclxuICAgICAgICBPcGVyYXRpb25UeXBlLFxyXG4gICAgICAgIE9wZXJhdGlvbltQXSxcclxuICAgICAgICBLbm93blZhcmlhYmxlc1xyXG4gICAgICA+O1xyXG4gICAgfVxyXG4gIDogT3BlcmF0aW9uIGV4dGVuZHMgeyBzY29wZTogYW55IH1cclxuICA/IHtcclxuICAgICAgW1AgaW4ga2V5b2YgT3BlcmF0aW9uXTogUCBleHRlbmRzIFwicGF0Y2hcIlxyXG4gICAgICAgID8gT3BlcmF0aW9uW1BdIGV4dGVuZHMgVmFyaWFibGVQYXRjaEZ1bmN0aW9uPFxyXG4gICAgICAgICAgICBpbmZlciBDdXJyZW50LFxyXG4gICAgICAgICAgICBpbmZlciBSZXN1bHRcclxuICAgICAgICAgID5cclxuICAgICAgICAgID8gVmFyaWFibGVQYXRjaEZ1bmN0aW9uPFxyXG4gICAgICAgICAgICAgIEtub3duVHlwZUZvcjxcclxuICAgICAgICAgICAgICAgIE9wZXJhdGlvbixcclxuICAgICAgICAgICAgICAgIEtub3duVmFyaWFibGVzLFxyXG4gICAgICAgICAgICAgICAgdW5rbm93biBleHRlbmRzIEN1cnJlbnQgPyBSZXN1bHQgOiBDdXJyZW50XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICA6IG5ldmVyXHJcbiAgICAgICAgOiBQIGV4dGVuZHMgXCJ2YWx1ZVwiXHJcbiAgICAgICAgPyBLbm93blR5cGVGb3I8T3BlcmF0aW9uLCBLbm93blZhcmlhYmxlcywgYW55PiB8IG51bGwgfCB1bmRlZmluZWRcclxuICAgICAgICA6IFAgZXh0ZW5kcyBcImluaXRcIlxyXG4gICAgICAgID9cclxuICAgICAgICAgICAgfCB1bmRlZmluZWRcclxuICAgICAgICAgICAgfCBWYXJpYWJsZUluaXRpYWxpemVyQ2FsbGJhY2s8XHJcbiAgICAgICAgICAgICAgICBLbm93blR5cGVGb3I8T3BlcmF0aW9uLCBLbm93blZhcmlhYmxlcywgYW55PlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICA6IFAgZXh0ZW5kcyBcImNhbGxiYWNrXCJcclxuICAgICAgICA/XHJcbiAgICAgICAgICAgIHwgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHwgKE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcInNldFwiXHJcbiAgICAgICAgICAgICAgICA/IFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2s8XHJcbiAgICAgICAgICAgICAgICAgICAgT3BlcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIEtub3duVHlwZUZvcjxPcGVyYXRpb24sIEtub3duVmFyaWFibGVzLCBhbnk+XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDogVmFyaWFibGVHZXR0ZXJDYWxsYmFjazxcclxuICAgICAgICAgICAgICAgICAgICBPcGVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgS25vd25UeXBlRm9yPE9wZXJhdGlvbiwgS25vd25WYXJpYWJsZXMsIGFueT5cclxuICAgICAgICAgICAgICAgICAgPilcclxuICAgICAgICA6IFtQLCBPcGVyYXRpb25UeXBlXSBleHRlbmRzIFtcInBvbGxcIiwgXCJnZXRcIl1cclxuICAgICAgICA/XHJcbiAgICAgICAgICAgIHwgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHwgVmFyaWFibGVQb2xsQ2FsbGJhY2s8S25vd25UeXBlRm9yPE9wZXJhdGlvbiwgS25vd25WYXJpYWJsZXMsIGFueT4+XHJcbiAgICAgICAgOiBQIGV4dGVuZHMgVmFsaWRPcGVyYXRpb25LZXlzXHJcbiAgICAgICAgPyBPcGVyYXRpb25bUF1cclxuICAgICAgICA6IG5ldmVyO1xyXG4gICAgfVxyXG4gIDogT3BlcmF0aW9uO1xyXG5cclxudHlwZSBUdXBsZU9yU2VsZjxUPiA9IFQgfCByZWFkb25seSBUW10gfCByZWFkb25seSBbVF07XHJcblxyXG5leHBvcnQgdHlwZSBWYXJpYWJsZU9wZXJhdGlvblBhcmFtZXRlcjxcclxuICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiB8IFwic2V0XCIsXHJcbiAgT3BlcmF0aW9uXHJcbj4gPSBUdXBsZU9yU2VsZjxcclxuICB8IEZhbHNpc2hcclxuICB8IChPcGVyYXRpb24gJlxyXG4gICAgICAoT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCJcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgY2FsbGJhY2s/OiBWYXJpYWJsZUdldHRlckNhbGxiYWNrPE9wZXJhdGlvbj47XHJcbiAgICAgICAgICAgIHBvbGw/OiBWYXJpYWJsZVBvbGxDYWxsYmFjaztcclxuICAgICAgICAgIH1cclxuICAgICAgICA6IHsgY2FsbGJhY2s/OiBWYXJpYWJsZVNldHRlckNhbGxiYWNrPE9wZXJhdGlvbj4gfSkpXHJcbj47XHJcblxyXG50eXBlIFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0SXRlbTxPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiB8IFwic2V0XCI+ID1cclxuICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiA/IFZhcmlhYmxlR2V0UmVzdWx0IDogVmFyaWFibGVTZXRSZXN1bHQ7XHJcblxyXG5leHBvcnQgdHlwZSBWYXJpYWJsZU9wZXJhdGlvblJlc3VsdDxcclxuICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiB8IFwic2V0XCIsXHJcbiAgT3BlcmF0aW9ucyxcclxuICBTY29wZVRlbXBsYXRlIGV4dGVuZHMgeyBzY29wZTogc3RyaW5nOyBlbnRpdHlJZD86IHN0cmluZyB9LFxyXG4gIEtub3duVHlwZXMgZXh0ZW5kcyBLbm93blZhcmlhYmxlTWFwID0gbmV2ZXJcclxuPiA9IFZhcmlhYmxlUmVzdWx0UHJvbWlzZTxPcGVyYXRpb25UeXBlLCBPcGVyYXRpb25zLCBTY29wZVRlbXBsYXRlLCBLbm93blR5cGVzPjtcclxuXHJcbnR5cGUgR2VuZXJpY1ZhcmlhYmxlVmFsdWUgPSB1bmtub3duO1xyXG5cclxudHlwZSBSZXBsYWNlS2V5PFRhcmdldCwgU291cmNlPiA9IFRhcmdldCBleHRlbmRzIGluZmVyIFRhcmdldFxyXG4gID8ge1xyXG4gICAgICBbUCBpbiBrZXlvZiBUYXJnZXRdOiBQIGV4dGVuZHMga2V5b2YgVmFyaWFibGVLZXlcclxuICAgICAgICA/IFNvdXJjZVtQICYga2V5b2YgU291cmNlXVxyXG4gICAgICAgIDogVGFyZ2V0W1BdO1xyXG4gICAgfSBleHRlbmRzIGluZmVyIFRcclxuICAgID8geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB9XHJcbiAgICA6IG5ldmVyXHJcbiAgOiBuZXZlcjtcclxuXHJcbnR5cGUgTWFwVmFyaWFibGVSZXN1bHQ8XHJcbiAgT3BlcmF0aW9uLFxyXG4gIFR5cGUgZXh0ZW5kcyBcInN1Y2Nlc3NcIiB8IFwiYWxsXCIgfCBcInZhbHVlXCIgPSBcInN1Y2Nlc3NcIixcclxuICBSZXF1aXJlIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlLFxyXG4gIEtub3duVHlwZXMgZXh0ZW5kcyBLbm93blZhcmlhYmxlTWFwID0gbmV2ZXIsXHJcbiAgRGVmYXVsdFR5cGUgZXh0ZW5kcyB7fSA9IHt9XHJcbj4gPSBPcGVyYXRpb24gZXh0ZW5kcyBGYWxzaXNoXHJcbiAgPyB1bmRlZmluZWRcclxuICA6IE9wZXJhdGlvbiBleHRlbmRzIHJlYWRvbmx5IGFueVtdXHJcbiAgPyB7XHJcbiAgICAgIC1yZWFkb25seSBbUCBpbiBrZXlvZiBPcGVyYXRpb25dOiBNYXBWYXJpYWJsZVJlc3VsdDxcclxuICAgICAgICBPcGVyYXRpb25bUF0sXHJcbiAgICAgICAgVHlwZSxcclxuICAgICAgICBSZXF1aXJlLFxyXG4gICAgICAgIEtub3duVHlwZXNcclxuICAgICAgPjtcclxuICAgIH1cclxuICA6IChcclxuICAgICAgT3BlcmF0aW9uIGV4dGVuZHNcclxuICAgICAgICB8IFBpY2s8VmFyaWFibGVWYWx1ZVNldHRlcjxpbmZlciBSZXN1bHQ+LCBcInZhbHVlXCI+XHJcbiAgICAgICAgfCBQaWNrPFZhcmlhYmxlUGF0Y2g8aW5mZXIgQ3VycmVudCwgaW5mZXIgUmVzdWx0PiwgXCJwYXRjaFwiPlxyXG4gICAgICAgID8gW1xyXG4gICAgICAgICAgICBcInNldFwiLFxyXG4gICAgICAgICAgICBSZXBsYWNlS2V5PFxyXG4gICAgICAgICAgICAgIFZhcmlhYmxlU2V0UmVzdWx0PFxyXG4gICAgICAgICAgICAgICAgdW5rbm93biBleHRlbmRzIEN1cnJlbnRcclxuICAgICAgICAgICAgICAgICAgPyB1bmtub3duIGV4dGVuZHMgUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBLbm93blR5cGVGb3I8T3BlcmF0aW9uLCBLbm93blR5cGVzLCBHZW5lcmljVmFyaWFibGVWYWx1ZT5cclxuICAgICAgICAgICAgICAgICAgICA6IFJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICA6IEN1cnJlbnRcclxuICAgICAgICAgICAgICA+LFxyXG4gICAgICAgICAgICAgIE9wZXJhdGlvblxyXG4gICAgICAgICAgICA+ICYge1xyXG4gICAgICAgICAgICAgIC8vIE5vdE1vZGlmaWVkIGlzIG9ubHkgZm9yIHVuZGVybHlpbmcgVmFyaWFibGVTdG9yYWdlcyBiZWhpbmQgZmHDp2FkZXMgdGhhdCByZXR1cm5zIHJlc3VsdCBwcm9taXNlcy5cclxuICAgICAgICAgICAgICBzdGF0dXM6IEV4Y2x1ZGU8XHJcbiAgICAgICAgICAgICAgICBWYXJpYWJsZVJlc3VsdFN0YXR1cyxcclxuICAgICAgICAgICAgICAgIFJlc3VsdCBleHRlbmRzIG51bGwgPyBuZXZlciA6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kXHJcbiAgICAgICAgICAgICAgPjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIDogW09wZXJhdGlvbl0gZXh0ZW5kcyBbbmV2ZXJdXHJcbiAgICAgICAgPyBuZXZlclxyXG4gICAgICAgIDogW1xyXG4gICAgICAgICAgICBcImdldFwiLFxyXG4gICAgICAgICAgICBSZXBsYWNlS2V5PFxyXG4gICAgICAgICAgICAgIFZhcmlhYmxlR2V0UmVzdWx0PFxyXG4gICAgICAgICAgICAgICAgRGVmYXVsdFR5cGUgJlxyXG4gICAgICAgICAgICAgICAgICAoT3BlcmF0aW9uIGV4dGVuZHMgUGljazxcclxuICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZUluaXRpYWxpemVyPGluZmVyIFJlc3VsdD4sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbml0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgID8gdW5rbm93biBleHRlbmRzIFJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBLbm93blR5cGVGb3I8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgT3BlcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEtub3duVHlwZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJpY1ZhcmlhYmxlVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICA6IEtub3duVHlwZUZvcjxPcGVyYXRpb24sIEtub3duVHlwZXMsIEdlbmVyaWNWYXJpYWJsZVZhbHVlPilcclxuICAgICAgICAgICAgICA+ICYge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBFeGNsdWRlPFxyXG4gICAgICAgICAgICAgICAgICBWYXJpYWJsZVJlc3VsdFN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgfCAoW09wZXJhdGlvbl0gZXh0ZW5kcyBbXHJcbiAgICAgICAgICAgICAgICAgICAgICB7IGlmTW9kaWZpZWRTaW5jZTogbnVtYmVyIH0gfCB7IGlmTm9uZU1hdGNoOiBzdHJpbmcgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgID8gbmV2ZXJcclxuICAgICAgICAgICAgICAgICAgICAgIDogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90TW9kaWZpZWQpXHJcbiAgICAgICAgICAgICAgICAgIHwgKFtPcGVyYXRpb25dIGV4dGVuZHMgW3sgaW5pdDogYW55IH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IG5ldmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBWYXJpYWJsZVZhbHVlRXJyb3JSZXN1bHRbXCJzdGF0dXNcIl0pXHJcbiAgICAgICAgICAgICAgICA+O1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgT3BlcmF0aW9uXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgIF1cclxuICAgICkgZXh0ZW5kcyBbaW5mZXIgT3BlcmF0aW9uVHlwZSwgaW5mZXIgUmVzdWx0XVxyXG4gID8gKFxyXG4gICAgICBUeXBlIGV4dGVuZHMgXCJhbGxcIlxyXG4gICAgICAgID8gUmVzdWx0XHJcbiAgICAgICAgOiBSZXN1bHQgZXh0ZW5kcyB7IHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQgfVxyXG4gICAgICAgID8gUmVxdWlyZSBleHRlbmRzIHRydWVcclxuICAgICAgICAgID8gbmV2ZXJcclxuICAgICAgICAgIDogT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCJcclxuICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICA6IG5ldmVyIC8vIE5vdCBmb3VuZCBpcyBhbiBlcnJvciByZXN1bHQgZm9yIHNldCBvcGVyYXRpb25zLlxyXG4gICAgICAgIDogUmVzdWx0IGV4dGVuZHMgeyBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdE1vZGlmaWVkIH1cclxuICAgICAgICA/IFR5cGUgZXh0ZW5kcyBcInZhbHVlXCJcclxuICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICA6IFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdDxPcGVyYXRpb25UeXBlLCBSZXN1bHQ+XHJcbiAgICAgICAgOiBSZXN1bHQgZXh0ZW5kcyB7IHN0YXR1czogVmFyaWFibGVTdWNjZXNzU3RhdHVzOyB2YWx1ZT86IGFueSB9XHJcbiAgICAgICAgPyBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIlxyXG4gICAgICAgICAgPyBUeXBlIGV4dGVuZHMgXCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgID8gUmVzdWx0W1widmFsdWVcIl1cclxuICAgICAgICAgICAgOiBSZXN1bHRcclxuICAgICAgICAgIDogT3BlcmF0aW9uIGV4dGVuZHMgeyB2YWx1ZT86IG51bGwgfCB1bmRlZmluZWQgfVxyXG4gICAgICAgICAgPyBUeXBlIGV4dGVuZHMgXCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIDogUmVzdWx0ICYgeyB2YWx1ZT86IHVuZGVmaW5lZCB9XHJcbiAgICAgICAgICA6IFR5cGUgZXh0ZW5kcyBcInZhbHVlXCJcclxuICAgICAgICAgID8gUmVzdWx0W1widmFsdWVcIl0gJiBPcGVyYXRpb25ba2V5b2YgT3BlcmF0aW9uICYgXCJ2YWx1ZVwiXVxyXG4gICAgICAgICAgOiBSZXN1bHQgJiBQaWNrPE9wZXJhdGlvbiwga2V5b2YgT3BlcmF0aW9uICYgXCJ2YWx1ZVwiPlxyXG4gICAgICAgIDogbmV2ZXJcclxuICAgICkgZXh0ZW5kcyBpbmZlciBSZXN1bHRcclxuICAgID8gVHlwZSBleHRlbmRzIFwidmFsdWVcIlxyXG4gICAgICA/IFJlc3VsdFxyXG4gICAgICA6IFJlc3VsdCBleHRlbmRzIHVuZGVmaW5lZFxyXG4gICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICA6IFJlc3VsdCBleHRlbmRzIHsgW3g6IHN0cmluZ106IG5ldmVyIH1cclxuICAgICAgPyBuZXZlclxyXG4gICAgICA6IFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdDxPcGVyYXRpb25UeXBlLCBSZXN1bHQ+XHJcbiAgICA6IG5ldmVyXHJcbiAgOiBuZXZlcjtcclxuXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlUmVzdWx0UHJvbWlzZTxcclxuICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiB8IFwic2V0XCIsXHJcbiAgT3BlcmF0aW9ucyxcclxuICBTY29wZVRlbXBsYXRlIGV4dGVuZHMgeyBzY29wZTogc3RyaW5nOyBlbnRpdHlJZD86IHN0cmluZyB9LFxyXG4gIEtub3duVHlwZXMgZXh0ZW5kcyBLbm93blZhcmlhYmxlTWFwID0gbmV2ZXJcclxuPiA9IHVua25vd25bXSBleHRlbmRzIE9wZXJhdGlvbnNcclxuICA/IFZhcmlhYmxlUmVzdWx0UHJvbWlzZTxcclxuICAgICAgT3BlcmF0aW9uVHlwZSxcclxuICAgICAgVmFyaWFibGVPcGVyYXRpb25SZXN1bHRJdGVtPE9wZXJhdGlvblR5cGU+W10sXHJcbiAgICAgIFNjb3BlVGVtcGxhdGVcclxuICAgID5cclxuICA6IHVua25vd24gZXh0ZW5kcyBPcGVyYXRpb25zXHJcbiAgPyBWYXJpYWJsZVJlc3VsdFByb21pc2U8XHJcbiAgICAgIE9wZXJhdGlvblR5cGUsXHJcbiAgICAgIFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0SXRlbTxPcGVyYXRpb25UeXBlPixcclxuICAgICAgU2NvcGVUZW1wbGF0ZVxyXG4gICAgPlxyXG4gIDogUHJvbWlzZTxcclxuICAgICAgTWF0Y2hTY29wZXM8XHJcbiAgICAgICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJzdWNjZXNzXCIsIGZhbHNlLCBLbm93blR5cGVzPixcclxuICAgICAgICBTY29wZVRlbXBsYXRlXHJcbiAgICAgID5cclxuICAgID4gJiB7XHJcbiAgICAgIC8qKiBSZXR1cm4gYWxsIHZhcmlhYmxlIHJlc3VsdHMgd2l0aCBlcnJvciBzdGF0dXMgY29kZXMgaW5zdGVhZCBvZiB0aHJvd2luZyBlcnJvcnMuICovXHJcbiAgICAgIGFsbDxUIGV4dGVuZHMge30gPSB7fT4oKTogUHJvbWlzZTxcclxuICAgICAgICBNYXRjaFNjb3BlczxcclxuICAgICAgICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwiYWxsXCIsIGZhbHNlLCBLbm93blR5cGVzLCBUPixcclxuICAgICAgICAgIFNjb3BlVGVtcGxhdGVcclxuICAgICAgICA+XHJcbiAgICAgID47XHJcbiAgICAgIHJlcXVpcmU8VCBleHRlbmRzIHt9ID0ge30+KCk6IFByb21pc2U8XHJcbiAgICAgICAgTWF0Y2hTY29wZXM8XHJcbiAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInN1Y2Nlc3NcIiwgdHJ1ZSwgS25vd25UeXBlcywgVD4sXHJcbiAgICAgICAgICBTY29wZVRlbXBsYXRlXHJcbiAgICAgICAgPlxyXG4gICAgICA+O1xyXG4gICAgICBhczxUIGV4dGVuZHMge30+KCk6IFByb21pc2U8XHJcbiAgICAgICAgTWF0Y2hTY29wZXM8XHJcbiAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInN1Y2Nlc3NcIiwgZmFsc2UsIEtub3duVHlwZXMsIFQ+LFxyXG4gICAgICAgICAgU2NvcGVUZW1wbGF0ZVxyXG4gICAgICAgID5cclxuICAgICAgPjtcclxuICAgIH0gJiAoT3BlcmF0aW9ucyBleHRlbmRzIHJlYWRvbmx5IGFueVtdXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIHZhbHVlczxUIGV4dGVuZHMge30gPSB7fT4oXHJcbiAgICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZVxyXG4gICAgICAgICAgICApOiBQcm9taXNlPFxyXG4gICAgICAgICAgICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwidmFsdWVcIiwgdHJ1ZSwgS25vd25UeXBlcywgVD5cclxuICAgICAgICAgICAgPjtcclxuICAgICAgICAgICAgdmFsdWVzPFQgZXh0ZW5kcyB7fSA9IHt9PihcclxuICAgICAgICAgICAgICByZXF1aXJlPzogYm9vbGVhblxyXG4gICAgICAgICAgICApOiBQcm9taXNlPFxyXG4gICAgICAgICAgICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwidmFsdWVcIiwgZmFsc2UsIEtub3duVHlwZXMsIFQ+XHJcbiAgICAgICAgICAgID47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgIHZhbHVlPFQgZXh0ZW5kcyB7fSA9IHt9PihcclxuICAgICAgICAgICAgICByZXF1aXJlOiB0cnVlXHJcbiAgICAgICAgICAgICk6IFByb21pc2U8XHJcbiAgICAgICAgICAgICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJ2YWx1ZVwiLCB0cnVlLCBLbm93blR5cGVzLCBUPlxyXG4gICAgICAgICAgICA+O1xyXG4gICAgICAgICAgICB2YWx1ZTxUIGV4dGVuZHMge30gPSB7fT4oXHJcbiAgICAgICAgICAgICAgcmVxdWlyZT86IGJvb2xlYW5cclxuICAgICAgICAgICAgKTogUHJvbWlzZTxcclxuICAgICAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInZhbHVlXCIsIGZhbHNlLCBLbm93blR5cGVzLCBUPlxyXG4gICAgICAgICAgICA+O1xyXG4gICAgICAgICAgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybWF0VmFyaWFibGVSZXN1bHQgPSAoXHJcbiAgcmVzdWx0OiBSZXN0cmljdFNjb3BlczxWYXJpYWJsZVJlc3VsdCwgc3RyaW5nLCBhbnk+XHJcbikgPT4ge1xyXG4gIGNvbnN0IGtleSA9IGZvcm1hdFZhcmlhYmxlS2V5KHJlc3VsdCk7XHJcbiAgY29uc3QgZXJyb3IgPSAocmVzdWx0IGFzIGFueSkuZXJyb3I7XHJcbiAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPCA0MDBcclxuICAgID8gYCR7a2V5fSBzdWNjZWVkZWQgd2l0aCBzdGF0dXMgJHtyZXN1bHQuc3RhdHVzfSAtICR7XHJcbiAgICAgICAgVmFyaWFibGVSZXN1bHRTdGF0dXNbcmVzdWx0LnN0YXR1c11cclxuICAgICAgfS5gXHJcbiAgICA6IGAke2tleX0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzdWx0LnN0YXR1c30gLSAke1xyXG4gICAgICAgIFZhcmlhYmxlUmVzdWx0U3RhdHVzW3Jlc3VsdC5zdGF0dXNdXHJcbiAgICAgIH0ke2Vycm9yID8gYCAoJHtlcnJvcn0pYCA6IFwiXCJ9LmA7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVmFyaWFibGVTdG9yYWdlRXJyb3I8XHJcbiAgT3BlcmF0aW9ucyBleHRlbmRzIHVuZGVmaW5lZCB8IHsgW1N5bWJvbC5pdGVyYXRvcl0/OiBuZXZlciB9IHwgcmVhZG9ubHkgYW55W11cclxuPiBleHRlbmRzIEVycm9yIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgc3VjY2VlZGVkOiBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInN1Y2Nlc3NcIj47XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBmYWlsZWQ6IEV4Y2x1ZGU8XHJcbiAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcImFsbFwiPixcclxuICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwic3VjY2Vzc1wiPlxyXG4gID47XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnM6IE9wZXJhdGlvbnMsIG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgc3VwZXIobWVzc2FnZSA/PyBcIk9uZSBvciBtb3JlIG9wZXJhdGlvbnMgZmFpbGVkLlwiKTtcclxuICAgIHRoaXMuc3VjY2VlZGVkID1cclxuICAgICAgKChvcGVyYXRpb25zIGFzIFZhcmlhYmxlUmVzdWx0W10pPy5maWx0ZXIoKG9wZXJhdGlvbikgPT5cclxuICAgICAgICBpc1N1Y2Nlc3NSZXN1bHQob3BlcmF0aW9uLCBmYWxzZSlcclxuICAgICAgKSBhcyBhbnkpID8/IFtdO1xyXG4gICAgdGhpcy5mYWlsZWQgPVxyXG4gICAgICAoKG9wZXJhdGlvbnMgYXMgVmFyaWFibGVSZXN1bHRbXSk/LmZpbHRlcihcclxuICAgICAgICAob3BlcmF0aW9uKSA9PiAhaXNTdWNjZXNzUmVzdWx0KG9wZXJhdGlvbiwgZmFsc2UpXHJcbiAgICAgICkgYXMgYW55KSA/PyBbXTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGhhc0NhbGxiYWNrID0gKG9wOiBhbnkpOiBvcCBpcyB7IGNhbGxiYWNrOiBWYXJpYWJsZUNhbGxiYWNrIH0gPT5cclxuICAhIW9wW1wiY2FsbGJhY2tcIl07XHJcblxyXG5jb25zdCBoYXNQb2xsQ2FsbGJhY2sgPSAob3A6IGFueSk6IG9wIGlzIHsgcG9sbDogVmFyaWFibGVQb2xsQ2FsbGJhY2sgfSA9PlxyXG4gICEhb3BbXCJwb2xsXCJdO1xyXG5cclxuY29uc3Qgc291cmNlT3BlcmF0aW9uID0gU3ltYm9sKCk7XHJcblxyXG5leHBvcnQgY29uc3QgdG9WYXJpYWJsZVJlc3VsdFByb21pc2UgPSA8XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiLFxyXG4gIE9wZXJhdGlvbnMsXHJcbiAgU2NvcGVcclxuPihcclxuICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxyXG4gIG9wZXJhdGlvbnM6IE9wZXJhdGlvbnMgfCBBcnJheU9yU2VsZjxGYWxzaXNoIHwgeyBzY29wZTogU2NvcGUgfT4sXHJcbiAgaGFuZGxlcjogKFxyXG4gICAgb3BlcmF0aW9uczogUmVtb3ZlU2NvcGVSZXN0cmljdGlvbnM8XHJcbiAgICAgIE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcImdldFwiID8gVmFyaWFibGVHZXR0ZXIgOiBWYXJpYWJsZVNldHRlclxyXG4gICAgPltdXHJcbiAgKSA9PiBQcm9taXNlPFxyXG4gICAgTWFwPFxyXG4gICAgICBSZW1vdmVTY29wZVJlc3RyaWN0aW9uczxWYXJpYWJsZUtleSwgdHJ1ZT4sXHJcbiAgICAgIFJlbW92ZVNjb3BlUmVzdHJpY3Rpb25zPFZhcmlhYmxlUmVzdWx0LCB0cnVlPlxyXG4gICAgPlxyXG4gID4sXHJcbiAge1xyXG4gICAgcG9sbCxcclxuICAgIGxvZ0NhbGxiYWNrRXJyb3IsXHJcbiAgfToge1xyXG4gICAgcG9sbD86IChcclxuICAgICAgc291cmNlOiBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiA/IFZhcmlhYmxlR2V0dGVyIDogVmFyaWFibGVTZXR0ZXIsXHJcbiAgICAgIGNhbGxiYWNrOiBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIlxyXG4gICAgICAgID8gVmFyaWFibGVHZXR0ZXJDYWxsYmFja1xyXG4gICAgICAgIDogVmFyaWFibGVTZXR0ZXJDYWxsYmFja1xyXG4gICAgKSA9PiB2b2lkO1xyXG4gICAgbG9nQ2FsbGJhY2tFcnJvcj86IChcclxuICAgICAgbWVzc2FnZTogc3RyaW5nLFxyXG4gICAgICBvcGVyYXRpb246IE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcImdldFwiID8gVmFyaWFibGVHZXR0ZXIgOiBWYXJpYWJsZVNldHRlcixcclxuICAgICAgZXJyb3I6IGFueVxyXG4gICAgKSA9PiB2b2lkO1xyXG4gIH0gPSB7fVxyXG4pOiBWYXJpYWJsZVJlc3VsdFByb21pc2U8T3BlcmF0aW9uVHlwZSwgT3BlcmF0aW9ucywgYW55PiA9PiB7XHJcbiAgY29uc3Qgb3BzID0gaXNBcnJheShvcGVyYXRpb25zKSA/IChvcGVyYXRpb25zIGFzIGFueSkgOiBbb3BlcmF0aW9uc107XHJcbiAgY29uc3QgY2FsbGJhY2tFcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGNvbnN0IGhhbmRsZXJSZXN1bHRQcm9taXNlID0gKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBoYW5kbGVyKG9wcy5maWx0ZXIoKG9wOiBhbnkpID0+IG9wKSk7XHJcbiAgICBjb25zdCBjYWxsYmFja3M6IFtcclxuICAgICAgb3A6IGFueSxcclxuICAgICAgaW5pdGlhbFJlc3VsdDogYW55LFxyXG4gICAgICBjYWxsYmFjazogKHJlc3VsdDogVmFyaWFibGVSZXN1bHQpID0+IGFueVxyXG4gICAgXVtdID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBvcCBvZiBvcHMpIHtcclxuICAgICAgaWYgKCFvcCkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQ6IFZhcmlhYmxlUmVzdWx0ID0gcmVzdWx0cy5nZXQob3ApIGFzIGFueTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xyXG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2lsbCBiZSBjYXVnaHQsIGlmIHRoZSByZXN1bHQgcHJvbWlzZSBpcyBhd2FpdGVkLlxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXN1bHRbc291cmNlT3BlcmF0aW9uXSA9IG9wO1xyXG5cclxuICAgICAgaWYgKGhhc0NhbGxiYWNrKG9wKSkge1xyXG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKFtvcCwgcmVzdWx0LCAocmVzdWx0KSA9PiBvcC5jYWxsYmFjayhyZXN1bHQpID09PSB0cnVlXSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGhhc1BvbGxDYWxsYmFjayhvcCkpIHtcclxuICAgICAgICBsZXQgcHJldmlvdXM6IGFueTtcclxuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgZGVmaW5lZCBmb3IgZ2V0IG9wZXJhdGlvbnMuXHJcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goW1xyXG4gICAgICAgICAgb3AsXHJcbiAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXNWYXJpYWJsZVJlc3VsdChyZXN1bHQsIGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGwgPSBpc1ZhcmlhYmxlUmVzdWx0KHJlc3VsdCwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgPyBvcC5wb2xsKHJlc3VsdC52YWx1ZSwgcmVzdWx0W3NvdXJjZU9wZXJhdGlvbl0gPT09IG9wLCBwcmV2aW91cylcclxuICAgICAgICAgICAgICA6IHRydWU7XHJcblxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHJlc3VsdC52YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvbGw7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IFtvcCwgaW5pdGlhbFJlc3VsdCwgY2FsbGJhY2tdIG9mIGNhbGxiYWNrcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBvbGxpbmdDYWxsYmFjayA9XHJcbiAgICAgICAgICBvcGVyYXRpb25UeXBlID09PSBcImdldFwiXHJcbiAgICAgICAgICAgID8gYXN5bmMgKHJlc3VsdDogYW55KSA9PlxyXG4gICAgICAgICAgICAgICAgKGF3YWl0IGNhbGxiYWNrKHJlc3VsdCkpID09PSB0cnVlICYmIHBvbGw/LihvcCwgcG9sbGluZ0NhbGxiYWNrKVxyXG4gICAgICAgICAgICA6IGNhbGxiYWNrO1xyXG4gICAgICAgIGF3YWl0IHBvbGxpbmdDYWxsYmFjayhpbml0aWFsUmVzdWx0KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7b3BlcmF0aW9uVHlwZX0gY2FsbGJhY2sgZm9yICR7Zm9ybWF0VmFyaWFibGVLZXkoXHJcbiAgICAgICAgICBvcFxyXG4gICAgICAgICl9IGZhaWxlZDogJHtlcnJvcn0uYDtcclxuICAgICAgICBpZiAobG9nQ2FsbGJhY2tFcnJvcikge1xyXG4gICAgICAgICAgbG9nQ2FsbGJhY2tFcnJvcihtZXNzYWdlLCBvcCwgZXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjYWxsYmFja0Vycm9ycy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRzO1xyXG4gIH0pKCk7XHJcblxyXG4gIGNvbnN0IG1hcFJlc3VsdHMgPSBhc3luYyAoXHJcbiAgICB0eXBlOlxyXG4gICAgICB8IDAgLy8gYW55XHJcbiAgICAgIHwgMSAvLyB0aHJvdyBvbiBlcnJvcnNcclxuICAgICAgfCAyLCAvLyB2YWx1ZXMgKGFsc28gdGhyb3cgb24gZXJyb3JzKVxyXG4gICAgcmVxdWlyZTogYm9vbGVhblxyXG4gICkgPT4ge1xyXG4gICAgLy8gVGhlIHJhdyByZXN1bHRzIGZyb20gdGhlIG1hcCBmdW5jdGlvbiBpbmNsdWRpbmcgZXJyb3IgcmVzdWx0cy5cclxuICAgIGNvbnN0IGhhbmRsZXJSZXN1bHRzID0gYXdhaXQgaGFuZGxlclJlc3VsdFByb21pc2U7XHJcblxyXG4gICAgLy8gVGhlIHJlc3VsdHMgd2Ugd2lsbCByZXR1cm4gaWYgdGhlcmUgYXJlIG5vIGVycm9ycztcclxuICAgIGNvbnN0IHJlc3VsdHM6IGFueVtdID0gW107XHJcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBvcCBvZiBvcHMpIHtcclxuICAgICAgaWYgKCFvcCkge1xyXG4gICAgICAgIC8vIEZhbHNpc2ggdG8gdW5kZWZpbmVkLlxyXG4gICAgICAgIHJlc3VsdHMucHVzaCh1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHJlc3VsdDogVmFyaWFibGVSZXN1bHQgPSBoYW5kbGVyUmVzdWx0cy5nZXQob3ApIGFzIGFueTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xyXG4gICAgICAgIGVycm9ycy5wdXNoKGBObyByZXN1bHQgZm9yICR7Zm9ybWF0VmFyaWFibGVLZXkob3ApfS5gKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgICF0eXBlIHx8XHJcbiAgICAgICAgaXNTdWNjZXNzUmVzdWx0KFxyXG4gICAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgICAgLy8gNDA0IGlzIGFuIGVycm9yIHJlc3VsdCBmb3Igc2V0IG9wZXJhdGlvbnMsIGJ1dCBub3QgZm9yIGdldC5cclxuICAgICAgICAgIHJlcXVpcmUgfHwgb3BlcmF0aW9uVHlwZSA9PT0gXCJzZXRcIlxyXG4gICAgICAgIClcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKFxyXG4gICAgICAgICAgdHlwZSAmJiByZXN1bHQuc3RhdHVzID09PSBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZFxyXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA6IHR5cGUgPiAxXHJcbiAgICAgICAgICAgID8gcmVzdWx0W1widmFsdWVcIl0gPz8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIDogcmVzdWx0XHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlcnJvcnMucHVzaChmb3JtYXRWYXJpYWJsZVJlc3VsdChyZXN1bHQpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVycm9ycy5wdXNoKC4uLmNhbGxiYWNrRXJyb3JzKTtcclxuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XHJcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMTApIHtcclxuICAgICAgICBlcnJvcnMucHVzaChgXFxuKGFuZCAke2Vycm9ycy5zcGxpY2UoMTApLmxlbmd0aH0gbW9yZS4uLilgKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgVmFyaWFibGVTdG9yYWdlRXJyb3IocmVzdWx0cywgZXJyb3JzLmpvaW4oXCJcXG5cIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvcHMgPT09IG9wZXJhdGlvbnMgPyByZXN1bHRzIDogcmVzdWx0c1swXTsgLy8gU2luZ2xlIHZhbHVlIGlmIHNpbmdsZSB2YWx1ZS5cclxuICB9O1xyXG5cclxuICBjb25zdCByZXN1bHRQcm9taXNlID0gT2JqZWN0LmFzc2lnbihcclxuICAgIGRlZmVycmVkUHJvbWlzZSgoKSA9PiBtYXBSZXN1bHRzKDEsIGZhbHNlKSksXHJcbiAgICB7XHJcbiAgICAgIGFzOiAoKSA9PiBtYXBSZXN1bHRzKDEsIGZhbHNlKSxcclxuICAgICAgYWxsOiAoKSA9PiBtYXBSZXN1bHRzKDAsIGZhbHNlKSxcclxuICAgICAgcmVxdWlyZTogKCkgPT4gbWFwUmVzdWx0cygxLCB0cnVlKSxcclxuICAgICAgdmFsdWU6IChyZXF1aXJlID0gZmFsc2UpID0+IG1hcFJlc3VsdHMoMiwgcmVxdWlyZSksXHJcbiAgICAgIHZhbHVlczogKHJlcXVpcmUgPSBmYWxzZSkgPT4gbWFwUmVzdWx0cygyLCByZXF1aXJlKSxcclxuICAgIH1cclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0UHJvbWlzZSBhcyBhbnk7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBWYXJpYWJsZVJlc3VsdFByb21pc2VSZXN1bHQ8T3BlcmF0aW9uVHlwZSwgUmVzdWx0PiA9IFJlc3VsdDtcclxuIiwiaW1wb3J0IHR5cGUge1xuICBDYXJ0VXBkYXRlZEV2ZW50LFxuICBDb21wb25lbnRDbGlja0V2ZW50LFxuICBFdmVudE1ldGFkYXRhLFxuICBMb2NhbElELFxuICBTZXNzaW9uLFxuICBUYWdnZWQsXG4gIFRpbWVzdGFtcCxcbiAgVXVpZCxcbiAgVmlld0V2ZW50LFxufSBmcm9tIFwiLi5cIjtcblxuLyoqXG4gKiBUaGUgYmFzZSB0eXBlIGZvciBhbGwgZXZlbnRzIHRoYXQgYXJlIHRyYWNrZWQuXG4gKlxuICogVGhlIG5hbWluZyBjb252ZW50aW9uIGlzOlxuICogLSBJZiB0aGUgZXZlbnQgcmVwcmVzZW50cyBzb21ldGhpbmcgdGhhdCBjYW4gYWxzbyBiZSBjb25zaWRlcmVkIGFuIGVudGl0eSBsaWtlIGEgXCJwYWdlIHZpZXdcIiwgXCJ1c2VyIGxvY2F0aW9uXCIgZXRjLiB0aGUgbmFtZSBzaG91bGQgYmUgdGhhdC5cbiAqIC0gSWYgdGhlIGV2ZW50IGluZGljYXRlcyBzb21ldGhpbmcgdGhhdCBoYXBwZW5lZCwgbGlrZSBcInNlc3Npb24gc3RhcnRlZFwiLCBcInZpZXcgZW5kZWRcIiBldGMuIHRoZSBuYW1lIHNob3VsZCBlbmQgd2l0aCBhIHZlcmIgaW4gdGhlIHBhc3QgdGVuc2UuXG4gKlxuICogQGlkIHVybjp0YWlsanM6Y29yZTpldmVudFxuICogQHN5c3RlbV90eXBlIGV2ZW50XG4gKiBAYWJzdHJhY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja2VkRXZlbnQgZXh0ZW5kcyBUYWdnZWQge1xuICAvKipcbiAgICogVGhlIHR5cGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEFsbCBjb25jcmV0ZSBldmVudCB0eXBlcyBtdXN0IG92ZXJyaWRlIHRoaXMgcHJvcGVydHkgd2l0aCBhIGNvbnN0YW50IHZhbHVlLCBhbmQgaXQgaXMgYW4gZXJyb3IgdG8gdHJ5XG4gICAqIHRvIHN0b3JlIGFuIGV2ZW50IHdpdGhvdXQgYSBjb25zdGFudCB0eXBlLlxuICAgKlxuICAgKiBTaW5jZSB0aGlzIGlzIGEgc3lzdGVtIHByb3BlcnR5IHRoYXQgaXMgaWdub3JlZCBkdXJpbmcgY2Vuc29yaW5nIHBlciBkZWZhdWx0LFxuICAgKiBpdCBhdXRvbWF0aWNhbGx5IGJlY29tZXMgYW5vbnltb3VzIGFuZCBuZWNlc3NhcnkgaW4gY3VzdG9tIGV2ZW50cyB3aXRob3V0IHJlcXVpcmVkIHByb3BlcnRpZXMgdW5sZXNzIHRoZSBzeXN0ZW1cbiAgICogYW5ub3RhdGlvbiBpcyBleHBsaWNpdGx5IHJlcGVhdGVkLlxuICAgKlxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHNjaGVtYSB0aGUgZXZlbnQgY29tZXMgZnJvbS4gSXQgaXMgc3VnZ2VzdGVkIHRoYXQgdGhlIHNjaGVtYSBJRCBpbmNsdWRlcyBhIFNlbVZlciB2ZXJzaW9uIG51bWJlciBpbiB0aGUgZW5kLiAoZS5nLiB1cm46dGFpbGpzOjAuOS4wIG9yIGh0dHBzOi8vd3d3LmJsYWguZ2Uvc2NoZW1hLzMuMjEuMClcbiAgICovXG4gIHNjaGVtYT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhpcyBpcyBhc3NpZ25lZCBieSB0aGUgc2VydmVyLiBPbmx5IHVzZSB7QGxpbmsgY2xpZW50SWR9IGNsaWVudC1zaWRlLlxuICAgKlxuICAgKi9cbiAgaWQ/OiBVdWlkO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHNldCBieSB0aGUgY2xpZW50IGFuZCB1c2VkIHRvIHdoZW4gZXZlbnRzIHJlZmVyZW5jZSBlYWNoIG90aGVyLlxuICAgKi9cbiAgY2xpZW50SWQ/OiBMb2NhbElEO1xuXG4gIC8qKiBUaGVzZSBwcm9wZXJ0aWVzIGFyZSB1c2VkIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiB0aGUgZXZlbnQgYXMgaXQgZ2V0cyBjb2xsZWN0ZWQsIGFuZCBpcyBub3QgcGVyc2lzdGVkLiAqL1xuICBtZXRhZGF0YT86IEV2ZW50TWV0YWRhdGE7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgaXQgbWVhbnMgdGhpcyBldmVudCBjb250YWlucyB1cGRhdGVzIHRvIGFuIGV4aXN0aW5nIGV2ZW50IHdpdGggdGhpcyB7QGxpbmsgY2xpZW50SWR9LCBhbmQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGEgc2VwYXJhdGUgZXZlbnQuXG4gICAqIEl0IG11c3QgaGF2ZSB0aGUgdGFyZ2V0IGV2ZW50J3Mge0BsaW5rIFRyYWNrZWRFdmVudC50eXBlfSBwb3N0Zml4ZWQgd2l0aCBcIl9wYXRjaFwiIChmb3IgZXhhbXBsZSBcInZpZXdfcGF0Y2hcIikuXG4gICAqXG4gICAqIE51bWJlcnMgaW4gcGF0Y2hlcyBhcmUgY29uc2lkZXJlZCBpbmNyZW1lbnRhbCB3aGljaCBtZWFucyB0aGUgcGF0Y2ggd2lsbCBpbmNsdWRlIHRoZSBhbW91bnQgdG8gYWRkIHRvIGFuIGV4aXN0aW5nIG51bWJlciAob3IgemVybyBpZiBpdCBkb2VzIG5vdCB5ZXQgaGF2ZSBhIHZhbHVlKS5cbiAgICogQWxsIG90aGVyIHZhbHVlcyBhcmUganVzdCBvdmVyd3JpdHRlbiB3aXRoIHRoZSBwYXRjaCB2YWx1ZXMuXG4gICAqXG4gICAqIFBsZWFzZSBwYXkgYXR0ZW50aW9uIHRvIHRoaXMgcHJvcGVydHkgd2hlbiBkb2luZyBhbmFseXRpY3MgbGVzdCB5b3UgbWF5IG92ZXIgY291bnQgb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBQYXRjaGVzIGFyZSBhbHdheXMgY29uc2lkZXJlZCBwYXNzaXZlLCBjZi4ge0BsaW5rIEV2ZW50TWV0YWRhdGEucGFzc2l2ZX0uXG4gICAqL1xuICBwYXRjaFRhcmdldElkPzogTG9jYWxJRDtcblxuICAvKipcbiAgICogVGhlIGNsaWVudCBJRCBvZiB0aGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSB0cmlnZ2VyZWQgb3IgZ290IHRyaWdnZXJlZCBpbiB0aGUgc2FtZSBjb250ZXh0LlxuICAgKiBGb3IgZXhhbXBsZSwgYSB7QGxpbmsgTmF2aWdhdGlvbkV2ZW50fSBtYXkgdHJpZ2dlciBhIHtAbGluayBWaWV3RXZlbnR9LFxuICAgKiBvciBhIHtAbGluayBDYXJ0VXBkYXRlZEV2ZW50fSBtYXkgYmUgdHJpZ2dlcmVkIHdpdGggYSB7QGxpbmsgQ29tcG9uZW50Q2xpY2tFdmVudH0uXG4gICAqXG4gICAqL1xuICByZWxhdGVkRXZlbnRJZD86IExvY2FsSUQ7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG4gICAqL1xuICBzZXNzaW9uPzogU2Vzc2lvbjtcblxuICAvKipcbiAgICogV2hlbiBhcHBsaWNhYmxlLCB0aGUgdmlldyB3aGVyZSB0aGUgZXZlbnQgaGFwcGVuZWQgKHJlbGF0ZWQgYnkge0BsaW5rIFZpZXdFdmVudH0pLlxuICAgKi9cbiAgdmlldz86IExvY2FsSUQ7XG5cbiAgLyoqXG4gICAqIElmIHNwZWNpZmllZCwgaXQgbXVzdCBiZSBhIG5lZ2F0aXZlIG51bWJlciB3aGVuIHNlbnQgZnJvbSB0aGUgY2xpZW50IChkaWZmZXJlbmNlIGJldHdlZW4gd2hlbiB0aGUgZXZlbnQgd2FzIGdlbmVyYXRlZCBhbmQgd2hlbiBpcyB3YXMgcG9zdGVkIGluIG1pbGxpc2Vjb25kcykuXG4gICAqXG4gICAqIFRoZSB0aW1lc3RhbXAgaXMgYXNzaWduZWQgYmVmb3JlIGl0IHJlYWNoZXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAZGVmYXVsdCBub3dcbiAgICovXG4gIHRpbWVzdGFtcD86IFRpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGNvbnN0IGlzVHJhY2tlZEV2ZW50ID0gKGV2OiBhbnkpOiBldiBpcyBUcmFja2VkRXZlbnQgPT5cbiAgZXYgJiYgdHlwZW9mIGV2LnR5cGUgPT09IFwic3RyaW5nXCI7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIERvbWFpbixcbiAgSW50ZWdlcixcbiAgTG9jYWxJRCxcbiAgVHJhY2tlZEV2ZW50LFxuICBWaWV3LFxuICBWaWV3VGltaW5nRGF0YSxcbiAgVmlld3BvcnQsXG59IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgdHlwZVRlc3QgfSBmcm9tIFwiLi4vdXRpbC90eXBlLXRlc3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDbGlja0lkcyB7XG4gIGdvb2dsZT86IHN0cmluZztcbiAgZ29vZ2xlRG91YmxlQ2xpY2s/OiBzdHJpbmc7XG4gIGZhY2Vib29rPzogc3RyaW5nO1xuICBtaWNyb3NvZnQ/OiBzdHJpbmc7XG4gIGdvb2dsZUFuYWx5dGljcz86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgYSB1c2VyIG5hdmlnYXRlcyBiZXR3ZWVuIHZpZXdzLiAocGFnZSwgc2NyZWVuIG9yIHNpbWlsYXIpLlxuICpcbiAqIFRoaXMgZXZlbnQgZG9lcyBub3RcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlld0V2ZW50IGV4dGVuZHMgVHJhY2tlZEV2ZW50IHtcbiAgdHlwZTogXCJ2aWV3XCI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBjbGllbnRJZDogTG9jYWxJRDtcblxuICAvKipcbiAgICogVGhlIHByaW1hcnkgY29udGVudCB1c2VkIHRvIGdlbmVyYXRlIHRoZSB2aWV3IGluY2x1ZGluZyB0aGUgcGVyc29uYWxpemF0aW9uIHRoYXQgbGVkIHRvIHRoZSBkZWNpc2lvbiwgaWYgYW55LlxuICAgKiBJZiB2aWV3cyBhcmUgbG9hZGVkIGFzeW5jaHJvbm91c2x5IGluIGEgd2F5IHdoZXJlIHRoZXkgYXJlIG5vdCBhdmFpbGFibGUgaW1tZWRpYXRlbHkgYWZ0ZXIgYSB1c2VyIG5hdmlnYXRlcyB0byBhIFVSTFxuICAgKiBvbiB0aGUgd2Vic2l0ZSwgdGhlIHZpZXcgZGVmaW5pdGlvbiBtYXkgZm9sbG93IGZyb20gYSBzZXBhcmF0ZSBwYXRjaCBldmVudC5cbiAgICovXG4gIGRlZmluaXRpb24/OiBWaWV3O1xuXG4gIC8qKlxuICAgKiBUaGUgdGFiIHdoZXJlIHRoZSB2aWV3IHdhcyBzaG93bi5cbiAgICovXG4gIHRhYj86IExvY2FsSUQ7XG5cbiAgLyoqXG4gICAqIFRoZSBmdWxseSBxdWFsaWZpZWQgVVJMIGFzIHNob3duIGluIHRoZSBhZGRyZXNzIGxpbmUgb2YgdGhlIGJyb3dzZXIgZXhjbHVkaW5nIHRoZSBkb21haW4uXG4gICAqL1xuICBocmVmOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBoYXNoIHBhcnQgb2YgdGhlIFVSTCAoL2Fib3V0LXVzI2FkZHJlc3MpLlxuICAgKi9cbiAgaGFzaD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhdGggcG9ydGlvbiBvZiB0aGUgVVJMLlxuICAgKi9cbiAgcGF0aD86IHN0cmluZztcblxuICAvKiogRm9yIGhvdyBsb25nIHRoZSB2aWV3IHdhcyBhY3RpdmUuIFRoaXMgaXMgc2V0IHZpYSBwYXRjaGVzICovXG4gIGR1cmF0aW9uPzogVmlld1RpbWluZ0RhdGE7XG5cbiAgLyoqXG4gICAqIFRoZSBIVFRQIHN0YXR1cyBmb3IgdGhlIHJlc3BvbnNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmlldy5cbiAgICpcbiAgICogQGRlZmF1bHQgMjAwXG4gICAqL1xuICBodHRwU3RhdHVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBVcmNoaW4gVHJhY2tpbmcgTW9kdWxlIChVVE0pIHBhcmFtZXRlcnMgYXMgZGVmaW5lZCBieSAoV2lraXBlZGlhKVtodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVE1fcGFyYW1ldGVyc10uXG4gICAqL1xuICB1dG0/OiB7XG4gICAgc291cmNlPzogc3RyaW5nO1xuICAgIG1lZGl1bT86IHN0cmluZztcbiAgICBjYW1wYWlnbj86IHN0cmluZztcbiAgICB0ZXJtPzogc3RyaW5nO1xuICAgIGNvbnRlbnQ/OiBzdHJpbmc7XG4gIH07XG4gIC8qKlxuICAgKiBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlcnMgaW4gdGhlIFVSTCwgZS5nLiB1dG1fY2FtcGFpZ24uXG4gICAqIEVhY2ggcGFyYW1ldGVyIGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcywgZm9yIGV4YW1wbGUgSWYgdGhlIHBhcmFtZXRlciBpcyBzcGVjaWZpZWQgbW9yZSB0aGFuIG9uY2UuXG4gICAqIElmIHRoZSBwYXJhbWV0ZXIgaXMgb25seSBzcGVjaWZpZWQgb25jZSBwaXBlcywgc2VtaWNvbG9ucyBhbmQgY29tbWFzIGFyZSBhc3N1bWVkIHRvIHNlcGFyYXRlIHZhbHVlcyAoaW4gdGhhdCBvcmRlcikuXG4gICAqIEEgcGFyYW1ldGVyIHdpdGhvdXQgYSB2YWx1ZSB3aWxsIGdldCByZWNvcmRlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIEBleGFtcGxlIFRoZSBVUkwgaHR0cHM6Ly93d3cuZm9vLmNvbS8/dXRtX3NvdXJjZT1iYXImdXRtX2NhbXBhaWduPWNhbXBhaWduMSxjYW1wYWlnbjImZmxhZyZnY2xpZD0xMjN4eXomcDE9YSZwMT1iJnAyPWE7YixjO2QgaGFzIHRoZXNlIHBhcmFtZXRlcnM6XG4gICAqICB1dG1fc291cmNlID0gW1wiYmFyXCJdIFxcXG4gICAqICB1dG1fY2FtcGFpZ24gPSBbXCJjYW1wYWlnbjFcIiwgXCJjYW1wYWlnbjJcIl0gXFxcbiAgICogIGdjbGlkID0gW1wiMTIzeHl6XCJdIFxcXG4gICAqICBmbGFnID0gW1wiXCJdIFxcXG4gICAqICBnY2xpZD1bXCIxMjN4eXpcIl0gXFxcbiAgICogIHAxPVtcImFcIiwgXCJiXCJdIFxcXG4gICAqICBwMj1bXCJhXCIsIFwiYixjXCIsIFwiZFwiXVxuICAgKi9cbiAgcXVlcnlTdHJpbmc/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT47XG5cbiAgLy8gcXVlcnlTdHJpbmc/OiB7XG4gIC8vICAgc291cmNlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvLyAgIHBhcnNlZDogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xuICAvLyB9O1xuXG4gIC8qKlxuICAgKiBUaGUgZG9tYWluIHBhcnQgb2YgdGhlIGhyZWYsIGlmIGFueS5cbiAgICovXG4gIGRvbWFpbj86IERvbWFpbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGhpcyB3YXMgdGhlIGZpcnN0IHZpZXcgaW4gdGhlIGZpcnN0IHRhYiB0aGUgdXNlciBvcGVuZWQuXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIE5PVCB0aWVkIHRvIHRoZSBzZXNzaW9uLiBJZiBhIHVzZXIgY2xvc2VzIGFsbCB0YWJzIGFuZCB3aW5kb3dzIGZvciB0aGUgc2l0ZSBhbmQgdGhlbiBsYXRlciBuYXZpZ2F0ZXMgYmFjayB0byB0aGUgc2l0ZSBpbiB0aGUgc2FtZSBzZXNzaW9uIHRoaXMgZmxhZyB3aWxsIGJlIHNldCBhZ2Fpbi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGxhbmRpbmdQYWdlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgbm8gb3RoZXIgdGFicyB3ZXJlIG9wZW4gd2hlbiB0aGUgdmlldyBoYXBwZW5lZC5cbiAgICogVGhpcyBmbGFnIGFsbG93cyBhIGJhY2tlbmQgdG8gZXh0ZW5kIHRoZSBkZWZpbml0aW9uIG9mIGEgc2Vzc2lvbiB0aGF0IGNhbiBsYXN0IGluZGVmaW5pdGVseSBidXQgc3RpbGwgcmVzdGFydCBhZnRlciBpbmFjdGl2aXR5LlxuICAgKiBCeSBtZWFzdXJpbmcgdGhlIHRpbWUgYmV0d2VlbiBhIHZpZXcgd2l0aCB0aGlzIGZsYWcgYW5kIHRoZSBwcmV2aW91cyBldmVudCBmcm9tIHRoZSBzYW1lIGRldmljZSwgaXQgaXMgcG9zc2libGUgdG8gc2VlIGZvciBob3cgbG9uZyB0aGUgZGV2aWNlIGhhcyBiZWVuIGF3YXkgZnJvbSB0aGUgc2l0ZS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGZpcnN0VGFiPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHRhYiBudW1iZXIgaW4gdGhlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICovXG4gIHRhYk51bWJlcj86IEludGVnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB2aWV3IG51bWJlciBpbiB0aGUgY3VycmVudCB0YWIuXG4gICAqIFRoaXMgaXMga2VwdCBhcyBhIGNvbnZlbmllbmNlLCB5ZXQgdGVjaG5pY2FsbHkgcmVkdW5kYW50IHNpbmNlIGl0IGZvbGxvd3MgZnJvbSB0aW1lc3RhbXBzIGFuZCBjb250ZXh0LlxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICB0YWJWaWV3TnVtYmVyPzogSW50ZWdlcjtcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHJlZGlyZWN0cyB0aGF0IGhhcHBlbmVkIGR1cmluZyBuYXZpZ2F0aW9uIHRvIHRoaXMgdmlldy4qL1xuICByZWRpcmVjdHM/OiBJbnRlZ2VyO1xuXG4gIC8qKlxuICAgKiBOYXZpZ2F0aW9uIHR5cGUuXG4gICAqL1xuICBuYXZpZ2F0aW9uVHlwZT86IFwibmF2aWdhdGVcIiB8IFwiYmFjay1mb3J3YXJkXCIgfCBcInByZXJlbmRlclwiIHwgXCJyZWxvYWRcIjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGV2ZW50IHdhcyBtYW51YWxseSB0cmlnZ2VyZWQgdGhyb3VnaCBhIHRyYWNrZXIgY29tbWFuZCwgb3IgaGFwcGVuZWQgYXV0b21hdGljYWxseSBieSB0aGUgdHJhY2tlcidzIGFiaWxpdHkgdG8gaW5mZXIgbmF2aWdhdGlvbi5cbiAgICpcbiAgICogQGRlZmF1bHQgXCJhdXRvbWF0aWNcIlxuICAgKi9cbiAgbW9kZT86IFwibWFudWFsXCIgfCBcImF1dG9tYXRpY1wiO1xuXG4gIC8qKlxuICAgKiBFeHRlcm5hbCByZWZlcnJlci4gSW50ZXJuYWwgcmVmZXJyZXJzIGZvbGxvd3MgZnJvbSB0aGUgZXZlbnQncyB7QGxpbmsgVHJhY2tlZEV2ZW50W1wicmVsYXRlZFZpZXdcIl19IGZpZWxkLlxuICAgKi9cbiAgZXh0ZXJuYWxSZWZlcnJlcj86IHtcbiAgICBocmVmPzogc3RyaW5nO1xuICAgIGRvbWFpbj86IERvbWFpbjtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIHVzZXIncyB2aWV3cG9ydCAoZS5nLiBicm93c2VyIHdpbmRvdykgYW5kIGhvdyBtdWNoIGl0IHdhcyBzY3JvbGxlZCB3aGVuIHRoZSBwYWdlIHdhcyBvcGVuZWQuXG4gICAqL1xuICB2aWV3cG9ydD86IFZpZXdwb3J0O1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB2aWV3LCBlLmcuIFwicGFnZVwiIG9yIFwic2NyZWVuXCIuXG4gICAqXG4gICAqIEBkZWZhdWx0IFwicGFnZVwiXG4gICAqL1xuICB2aWV3VHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGlzVmlld0V2ZW50ID0gdHlwZVRlc3Q8Vmlld0V2ZW50PihcInZpZXdcIik7XG4iLCJpbXBvcnQgdHlwZSB7IFRyYWNrZWRFdmVudCB9IGZyb20gXCIuLlwiO1xuXG5leHBvcnQgY29uc3QgdHlwZVRlc3QgPVxuICA8VCBleHRlbmRzIFRyYWNrZWRFdmVudD4oLi4udHlwZXM6IHN0cmluZ1tdKSA9PlxuICAoZXY6IGFueSk6IGV2IGlzIFQgPT5cbiAgICBldj8udHlwZSAmJiB0eXBlcy5zb21lKCh0eXBlKSA9PiB0eXBlID09PSBldj8udHlwZSk7XG4iLCJpbXBvcnQgeyBWYXJpYWJsZSwgVmFyaWFibGVLZXksIFZhcmlhYmxlU2VydmVyU2NvcGUgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgTWF5YmVOdWxsaXNoLCBOdWxsaXNoLCBjcmVhdGVFbnVtUGFyc2VyIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgQ09OU0VOVF9JTkZPX0tFWSwgU0NPUEVfSU5GT19LRVkgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuaW1wb3J0IHR5cGUge1xuICBMb2NhbElELFxuICBSZXN0cmljdFNjb3BlcyxcbiAgU2VydmVyU2NvcGVkLFxuICBTZXNzaW9uSW5mbyxcbiAgVXNlckNvbnNlbnQsXG4gIFZhcmlhYmxlR2V0UmVxdWVzdCxcbiAgVmFyaWFibGVHZXRSZXNwb25zZSxcbiAgVmFyaWFibGVHZXRSZXN1bHQsXG4gIFZhcmlhYmxlR2V0dGVyLFxuICBWYXJpYWJsZUdldHRlckNhbGxiYWNrLFxuICBWYXJpYWJsZVBvbGxDYWxsYmFjayxcbiAgVmFyaWFibGVSZXN1bHRQcm9taXNlUmVzdWx0LFxuICBWYXJpYWJsZVNldFJlc3VsdCxcbiAgVmFyaWFibGVTZXR0ZXIsXG4gIFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2ssXG4gIFZpZXcsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFJlZmVycmluZ1ZpZXdEYXRhID0gW1xuICB2aWV3SWQ6IExvY2FsSUQsXG4gIHJlbGF0ZWRFdmVudElkOiBMb2NhbElEIHwgdW5kZWZpbmVkXG5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnJlbnRWaWV3IGV4dGVuZHMgVmlldyB7XG4gIC8qKlxuICAgKiBJZiB0aGUgdmlldyBpcyB1cGRhdGVkLCBhbmQgdGhpcyBpcyBzZXQsIGl0IGlzIGNvbnNpZGVyZWQgbmF2aWdhdGlvbi5cbiAgICogVXNlIHRoaXMgaWYgeW91IGhhdmUgaW1wbGVtZW50ZWQgY3VzdG9tIG5hdmlnYXRpb24gdGhhdCBkb2VzIG5vdCBtYWtlIHVzZSBvZlxuICAgKiBoaXN0b3J5LnB1c2gvcmVwbGFjZS5cbiAgICovXG4gIG5hdmlnYXRpb24/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBSZXNlcnZlZFRyYWNrZXJWYXJpYWJsZXMgPSB7XG4gIHNlc3Npb246IHtcbiAgICBbU0NPUEVfSU5GT19LRVldOiBTZXNzaW9uSW5mbztcbiAgICBbQ09OU0VOVF9JTkZPX0tFWV06IFVzZXJDb25zZW50O1xuICB9O1xuICB2aWV3OiB7XG4gICAgdmlldzogQ3VycmVudFZpZXc7XG4gICAgbG9hZGVkOiBib29sZWFuO1xuICAgIHJlZmVycmVyOiBzdHJpbmc7XG4gIH07XG4gIHNoYXJlZDoge1xuICAgIHRhYkluZGV4OiBudW1iZXI7XG4gICAgdmlld0luZGV4OiBudW1iZXI7XG4gICAgcmVmZXJyZXI6IFt2aWV3SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCwgbmF2aWdhdGlvbkV2ZW50SWQ6IHN0cmluZ107XG4gIH07XG59O1xuXG5jb25zdCBsZXZlbHMgPSB7XG4gIC8qKlxuICAgKiBWYXJpYWJsZXMgdGhhdCBhcmUgb25seSBhdmFpbGFibGUgaW4gbWVtb3J5IGluIHRoZSBjdXJyZW50IHZpZXcsIGFuZCBsb3N0IGFzIHNvb24gYXMgdGhlIHVzZXIgbmF2aWdhdGVzIGF3YXkgKHdpdGhvdXQgYmZfY2FjaGUpIG9yIGNsb3NlcyB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogRGF0YSBpbiB0aGlzIHNjb3BlIG1heSBiZSB1c2VkIHdpdGhvdXQgdXNlciBjb25zZW50IChhbm9ueW1vdXMgdHJhY2tpbmcpLCBob3dldmVyIGlmIGl0IGlzIHVzZWQgaW4gbG9naWMgZm9yIGV2ZW50IHRyYWNraW5nXG4gICAqIG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCBjb250YWluIHBlcnNvbmFsIGluZm9ybWF0aW9uIHRoYXQgbWF5IGlkZW50aWZ5IHRoZSB1c2VyLCBoZW5jZSB2aW9sYXRlIHRoZSBwcmVtaXNlIGZvciB0aGUgb3RoZXJ3aXNlIGFub255bW91c2x5XG4gICAqIGNvbGxlY3RlZCBkYXRhLlxuICAgKlxuICAgKlxuICAgKi9cbiAgdmlldzogXCJ2aWV3XCIsXG5cbiAgLyoqXG4gICAqIFZhcmlhYmxlcyB0aGF0IGFyZSBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCB0YWIsIGluY2x1ZGluZyBiZXR3ZWVuIHZpZXdzIGluIHRoZSBzYW1lIHRhYiBhcyBuYXZpZ2F0aW9uIG9jY3VycywgYnV0IGxvc3QgYXMgc29vbiBhcyB0aGUgdXNlciBjbG9zZXMgdGhlIHRhYi5cbiAgICpcbiAgICogRGF0YSBpcyBlbmNyeXB0ZWQgYXQgcmVzdCwgeWV0IG9ubHkgYXZhaWxhYmxlIGlmIHRoZSB1c2VyIGhhcyBjb25zZW50ZWQgdG8gZGF0YSBiZWluZyBzdG9yZWQgZm9yIHRoZSB2YXJpYWJsZXMnIHB1cnBvc2VzLlxuICAgKi9cbiAgdGFiOiBcInRhYlwiLFxuXG4gIC8qKlxuICAgKiBWYXJpYWJsZXMgdGhhdCBhcmUgc2hhcmVkIGJldHdlZW4gb3BlbiB0YWJzLCBhbmQgbG9zdCBhcyBzb29uIGFzIHRoZSBsYXN0IHRhYiBpcyBjbG9zZWQuXG4gICAqIFRoZXNlIHZhcmlhYmxlcyBhcmUga2VwdCBlbnRpcmVseSBpbiBtZW1vcnkgYW5kIHNoYXJlZCB2aWEgbWVzc2FnaW5nIHdoaWNoIG1lYW5zIHRoZXkgYXJlIG5ldmVyIHBlcnNpc3RlZCBpbiB0aGUgdXNlcidzXG4gICAqIGRldmljZSBiZXR3ZWVuIGJyb3dzZXIgcmVzdGFydHMuXG4gICAqXG4gICAqIFVzZSB0aGUgc2VydmVyLXNpZGUgc2NvcGVzIGBzZXNzaW9uYCwgYGRldmljZWAgb3IgYHVzZXJgIGlmIHRoZSBkYXRhIG11c3QgYmUgcGVyc2lzdGVkIGZvciBhIGxvbmdlciBkdXJhdGlvbi5cbiAgICovXG4gIHNoYXJlZDogXCJzaGFyZWRcIixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIExvY2FsVmFyaWFibGVTY29wZSA9ICh0eXBlb2YgbGV2ZWxzKVtrZXlvZiB0eXBlb2YgbGV2ZWxzXTtcblxuZXhwb3J0IHR5cGUgQW55VmFyaWFibGVTY29wZSA9IFZhcmlhYmxlU2VydmVyU2NvcGUgfCBMb2NhbFZhcmlhYmxlU2NvcGU7XG5cbmV4cG9ydCBjb25zdCBsb2NhbFZhcmlhYmxlU2NvcGUgPSBjcmVhdGVFbnVtUGFyc2VyKFxuICBcImxvY2FsIHZhcmlhYmxlIHNjb3BlXCIsXG4gIGxldmVsc1xuKTtcblxuZXhwb3J0IGNvbnN0IGFueVZhcmlhYmxlU2NvcGUgPSBjcmVhdGVFbnVtUGFyc2VyKFwidmFyaWFibGUgc2NvcGVcIiwge1xuICAuLi5sb2NhbFZhcmlhYmxlU2NvcGUsXG4gIC4uLlZhcmlhYmxlU2VydmVyU2NvcGUsXG59KTtcblxuZXhwb3J0IHR5cGUgQ2xpZW50U2NvcGVkPFxuICBUYXJnZXQsXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gTG9jYWxPbmx5IGV4dGVuZHMgdHJ1ZVxuICA/IFJlc3RyaWN0U2NvcGVzPFRhcmdldCwgTG9jYWxWYXJpYWJsZVNjb3BlLCBuZXZlcj5cbiAgOiBTZXJ2ZXJTY29wZWQ8VGFyZ2V0LCB0cnVlPjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGVLZXk8TG9jYWxPbmx5IGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4+ID1cbiAgQ2xpZW50U2NvcGVkPFZhcmlhYmxlS2V5LCBMb2NhbE9ubHk+O1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZTxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IENsaWVudFNjb3BlZDxWYXJpYWJsZTxUPiwgTG9jYWxPbmx5PjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGVHZXR0ZXI8XG4gIFQgZXh0ZW5kcyB7fSA9IGFueSxcbiAgTG9jYWxPbmx5IGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW5cbj4gPSBDbGllbnRTY29wZWQ8VmFyaWFibGVHZXR0ZXI8VD4sIExvY2FsT25seT4gJiB7XG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHJlc3VsdC5cbiAgICpcbiAgICogUmV0dXJuIGB0cnVlYCBmcm9tIHRoZSBjYWxsYmFjayB0byBwb2xsIGZvciBjaGFuZ2VzLCB0aGF0IGlzLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIGFnYWluIG5leHQgdGltZSB0aGUgdmFyaWFibGUgY2hhbmdlc1xuICAgKiB1bnRpbCBpdCByZXR1cm5zIHNvbWV0aGluZyBlbHNlIHRoYW4gYHRydWVgLlxuICAgKi9cbiAgY2FsbGJhY2s/OiBDbGllbnRWYXJpYWJsZUdldHRlckNhbGxiYWNrPFQsIExvY2FsT25seT47XG5cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIHZhcmlhYmxlIHdoZW5ldmVyIGEgY2hhbmdlIGlzIGRldGVjdGVkIGluIHRoZSBsb2NhbCBjYWNoZVxuICAgKiB1bnRpbCB0aGUgY2FsbGJhY2sgcmV0dXJucyBzb21ldGhpbmcgZGlmZmVyZW50IHRoYW4gYHRydWVgLlxuICAgKlxuICAgKi9cbiAgcG9sbD86IFZhcmlhYmxlUG9sbENhbGxiYWNrPFQ+O1xufSAmIFBpY2s8VmFyaWFibGVHZXRSZXF1ZXN0LCBcInBhc3NpdmVcIj4gJlxuICBWYXJpYWJsZUNhY2hlU2V0dGluZ3M7XG5cbmV4cG9ydCB0eXBlIENsaWVudFZhcmlhYmxlU2V0dGVyPFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gQ2xpZW50U2NvcGVkPFZhcmlhYmxlU2V0dGVyPFQ+LCBMb2NhbE9ubHk+ICYge1xuICBjYWxsYmFjaz86IENsaWVudFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2s8VCwgTG9jYWxPbmx5Pjtcbn07XG5cbmV4cG9ydCB0eXBlIENsaWVudFZhcmlhYmxlR2V0UmVzdWx0PFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gQ2xpZW50U2NvcGVkPFxuICBWYXJpYWJsZVJlc3VsdFByb21pc2VSZXN1bHQ8XCJnZXRcIiwgVmFyaWFibGVHZXRSZXN1bHQ8VD4+ICZcbiAgICBQaWNrPFZhcmlhYmxlR2V0UmVzcG9uc2UsIFwicGFzc2l2ZVwiPixcbiAgTG9jYWxPbmx5XG4+O1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZVNldFJlc3VsdDxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IENsaWVudFNjb3BlZDxcbiAgVmFyaWFibGVSZXN1bHRQcm9taXNlUmVzdWx0PFwic2V0XCIsIFZhcmlhYmxlU2V0UmVzdWx0PFQ+PixcbiAgTG9jYWxPbmx5XG4+O1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZUdldHRlckNhbGxiYWNrPFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gVmFyaWFibGVHZXR0ZXJDYWxsYmFjazxDbGllbnRTY29wZWQ8VmFyaWFibGVLZXksIExvY2FsT25seT4sIFQ+O1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZVNldHRlckNhbGxiYWNrPFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gVmFyaWFibGVTZXR0ZXJDYWxsYmFjazxDbGllbnRTY29wZWQ8VmFyaWFibGVLZXksIExvY2FsT25seT4sIFQ+O1xuXG5leHBvcnQgdHlwZSBWYXJpYWJsZUNhY2hlU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoZSB2YWx1ZSBvZiB0aGlzIHZhcmlhYmxlIGNhbiBiZSBjYWNoZWQuXG4gICAqIElmIG9taXR0ZWQgb3IgYHRydWVgIHRoZSBkZWZhdWx0IHZhbHVlIG9mIDMgc2Vjb25kcyB3aWxsIGJlIHVzZWQuXG4gICAqIGBmYWxzZWAgb3IgMCBtZWFucyB0aGUgdmFyaWFibGUgd2lsbCBub3QgYmUgY2FjaGVkLlxuICAgKi9cbiAgY2FjaGU/OiBudW1iZXIgfCBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hc2tFbnRpdHlJZCA9IDxUIGV4dGVuZHMgeyBzY29wZTogc3RyaW5nOyBlbnRpdHlJZD86IHN0cmluZyB9PihcbiAga2V5OiBUXG4pOiBUICYgQ2xpZW50U2NvcGVkPFZhcmlhYmxlS2V5PiA9PiAoXG4gIGtleVtcInNjb3BlXCJdICE9PSBcImdsb2JhbFwiICYmIGtleVtcImVudGl0eUlkXCJdICYmIChrZXlbXCJlbnRpdHlJZFwiXSA9IHVuZGVmaW5lZCksXG4gIGtleSBhcyBhbnlcbik7XG5cbmV4cG9ydCBjb25zdCBpc0xvY2FsU2NvcGVLZXkgPSAoXG4gIGtleTogeyBzY29wZTogc3RyaW5nIH0gfCBOdWxsaXNoXG4pOiBrZXkgaXMge1xuICBzY29wZTogTG9jYWxWYXJpYWJsZVNjb3BlO1xufSA9PiAoa2V5Py5zY29wZSA/IGxvY2FsVmFyaWFibGVTY29wZS5yYW5rc1trZXkuc2NvcGVdICE9IG51bGwgOiBmYWxzZSk7XG5cbmV4cG9ydCBjb25zdCB2YXJpYWJsZUtleVRvU3RyaW5nOiA8UyBleHRlbmRzIENsaWVudFZhcmlhYmxlS2V5IHwgTnVsbGlzaD4oXG4gIGtleTogU1xuKSA9PiBNYXliZU51bGxpc2g8c3RyaW5nLCBTPiA9IChrZXk6IENsaWVudFZhcmlhYmxlS2V5IHwgTnVsbGlzaCk6IGFueSA9PlxuICBrZXkgPT0gbnVsbCA/IGtleSA6IFtrZXkuc2NvcGUsIGtleS5rZXksIGtleS5lbnRpdHlJZF0uam9pbihcIlxcMFwiKTtcblxuZXhwb3J0IGNvbnN0IHN0cmluZ1RvVmFyaWFibGVLZXkgPSAoa2V5OiBzdHJpbmcpOiBDbGllbnRWYXJpYWJsZUtleSA9PiB7XG4gIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KFwiXFwwXCIpO1xuICByZXR1cm4ge1xuICAgIHNjb3BlOiBwYXJ0c1swXSBhcyBhbnksXG4gICAga2V5OiBwYXJ0c1sxXSxcbiAgICBlbnRpdHlJZDogcGFydHNbMl0sXG4gIH0gc2F0aXNmaWVzIENsaWVudFZhcmlhYmxlS2V5O1xufTtcbiIsImltcG9ydCB7IENMSUVOVF9TVE9SQUdFX1BSRUZJWCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IFRyYWNrZWRFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQgeyBOdWxsaXNoLCB0aHJvd0Vycm9yIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgREVCVUcgPSB0cnVlO1xuZXhwb3J0IGNvbnN0IEhFQVJUQkVBVF9GUkVRVUVOQ1kgPSA1XzAwMDtcbmV4cG9ydCBjb25zdCBSRVFVRVNUX0xPQ0tfS0VZID0gQ0xJRU5UX1NUT1JBR0VfUFJFRklYICsgXCJycVwiO1xuZXhwb3J0IGNvbnN0IFZBUklBQkxFX1BPTExfRlJFUVVFTkNZID0gM18wMDA7XG5leHBvcnQgY29uc3QgVkFSSUFCTEVfQ0FDSEVfRFVSQVRJT04gPSAzXzAwMDtcbmV4cG9ydCBjb25zdCBFVkVOVF9QT1NUX0ZSRVFVRU5DWSA9IDUwMDA7XG5cbmV4cG9ydCBjb25zdCBOT1RfSU5JVElBTElaRUQgPSAoKSA9PiAoKSA9PiB0aHJvd0Vycm9yKFwiTm90IGluaXRpYWxpemVkLlwiKTtcblxuZXhwb3J0IHR5cGUgVHJhY2tlckNvbnRleHQgPSB7XG4gIGRldmljZVNlc3Npb25JZD86IHN0cmluZztcblxuICBhcHBseUV2ZW50RXh0ZW5zaW9ucyhldmVudDogVHJhY2tlZEV2ZW50KTogVHJhY2tlZEV2ZW50IHwgdW5kZWZpbmVkO1xuXG4gIHZhbGlkYXRlS2V5OiB7XG4gICAgKGtleTogc3RyaW5nIHwgTnVsbGlzaCwgdGhyb3dJZkludmFsaWQ/OiB0cnVlKTogdHJ1ZTtcbiAgICAoa2V5OiBzdHJpbmcgfCBOdWxsaXNoLCB0aHJvd0lmSW52YWxpZDogZmFsc2UpOiBib29sZWFuO1xuICB9O1xufTtcbiIsImltcG9ydCB7IHRvZ2dsZUFuc2ksIHR5cGUgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuZXhwb3J0IGNvbnN0IFNTUiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG5cbmNvbnN0IHdpbiA9IHdpbmRvdztcbmNvbnN0IGRvYyA9IGRvY3VtZW50O1xuY29uc3QgbmF2ID0gbmF2aWdhdG9yO1xuY29uc3QgYm9keSA9IGRvYy5ib2R5O1xuY29uc3QgbG9jID0gbG9jYXRpb247XG5jb25zdCBwZXJmID0gcGVyZm9ybWFuY2U7XG5jb25zdCBoaXN0ID0gd2luLmhpc3Rvcnk7XG5leHBvcnQge1xuICBib2R5LFxuICBkb2MgYXMgZG9jdW1lbnQsXG4gIGhpc3QgYXMgaGlzdG9yeSxcbiAgbG9jIGFzIGxvY2F0aW9uLFxuICBuYXYgYXMgbmF2aWdhdG9yLFxuICBwZXJmIGFzIHBlcmZvcm1hbmNlLFxuICB3aW4gYXMgd2luZG93LFxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodGFnTmFtZTogc3RyaW5nKSA9PiBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcblxuZXhwb3J0IGNvbnN0IG1hdGNoU2VsZWN0b3IgPSAobm9kZTogRWxlbWVudCB8IE51bGxpc2gsIHNlbGVjdG9yOiBzdHJpbmcpID0+XG4gICEhbm9kZT8ubWF0Y2hlcyhzZWxlY3Rvcik7XG5cbnRvZ2dsZUFuc2koISEod2luIGFzIGFueSkuY2hyb21lKTtcbiIsImltcG9ydCB7IE9taXRVbmlvbiB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB0eXBlIHsgVHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi5cIjtcblxuZXhwb3J0IGNvbnN0IGlzVHJhY2tlciA9IFwiX19pc1RyYWNrZXJcIjtcblxuZXhwb3J0IGNvbnN0IHRyYWNrZXJDb25maWc6IFJlcXVpcmVkPFxuICBPbWl0VW5pb248VHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24sIFwic2NyaXB0QmxvY2tlckF0dHJpYnV0ZXNcIj5cbj4gPSB7XG4gIG5hbWU6IFwidGFpbFwiLFxuICBzcmM6IFwiL190LmpzXCIsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgcG9zdEV2ZW50czogdHJ1ZSxcbiAgcG9zdEZyZXF1ZW5jeTogMjAwMCxcbiAgcmVxdWVzdFRpbWVvdXQ6IDUwMDAsXG4gIGVuY3J5cHRpb25LZXk6IG51bGwsXG4gIGtleTogbnVsbCxcbiAgYXBpS2V5OiBudWxsLFxuICBqc29uOiBmYWxzZSxcblxuICAvKipcbiAgICogTG9nIGV2ZW50cyB0byB0aGUgYnJvd3NlcidzIGRldmVsb3BlciBjb25zb2xlLlxuICAgKi9cbiAgaW1wcmVzc2lvblRocmVzaG9sZDogMTAwMCxcbiAgY2FwdHVyZUNvbnRleHRNZW51OiB0cnVlLFxuXG4gIHRhZ3M6IHsgZGVmYXVsdDogW1wiZGF0YS1pZFwiLCBcImRhdGEtbmFtZVwiXSB9LFxufTtcbiIsImNvbnN0IGNvZGVzOiBudW1iZXJbXSA9IFtdO1xuY29uc3QgY2hhcnM6IG51bWJlcltdID0gW107XG5leHBvcnQgY29uc3QgY2hhckNvZGUgPSAoczogc3RyaW5nLCBpbmRleCA9IDApID0+IHMuY2hhckNvZGVBdChpbmRleCk7XG5leHBvcnQgY29uc3QgZnJvbUNoYXJDb2RlcyA9IChjaGFyczogbnVtYmVyW10pID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uY2hhcnMpO1xuXG5bLi4uXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCJdLmZvckVhY2goXG4gIChwLCBpKSA9PiAoY29kZXNbKGNoYXJzW2ldID0gcC5jaGFyQ29kZUF0KDApKV0gPSBpKVxuKTtcblxuLyoqXG4gKiBFbmNvZGVzIGFuIGFycmF5IG9mIGJ5dGVzIHRvIEJhc2U2NFVSTCB3aXRob3V0IHBhZGRpbmcgKFVSTCBzYWZlIEJhc2U2NCB1c2luZyBgLWAgYW5kIGBfYCBpbnN0ZWFkIG9mIGArYCBhbmQgYC9gKS5cbiAqXG4gKiAodGhhbmtzIHRvIEpvbiBMZWlnaHRvbiBhdCBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb25sZWlnaHRvbi85NTg4NDEpLlxuICovXG5leHBvcnQgY29uc3QgdG82NHUgPSAoYnl0ZXM6IFVpbnQ4QXJyYXkpID0+IHtcbiAgbGV0IGkgPSAwO1xuICBsZXQgY2h1bms6IG51bWJlcjtcbiAgY29uc3QgbiA9IGJ5dGVzLmxlbmd0aDtcblxuICBjb25zdCBiYXNlNjQ6IG51bWJlcltdID0gW107XG4gIHdoaWxlIChpIDwgbikge1xuICAgIGNodW5rID0gKGJ5dGVzW2krK10gPDwgMTYpIHwgKGJ5dGVzW2krK10gPDwgOCkgfCBieXRlc1tpKytdO1xuICAgIGJhc2U2NC5wdXNoKFxuICAgICAgY2hhcnNbKGNodW5rICYgMTY1MTUwNzIpID4+IDE4XSxcbiAgICAgIGNoYXJzWyhjaHVuayAmIDI1ODA0OCkgPj4gMTJdLFxuICAgICAgY2hhcnNbKGNodW5rICYgNDAzMikgPj4gNl0sXG4gICAgICBjaGFyc1tjaHVuayAmIDYzXVxuICAgICk7XG4gIH1cbiAgYmFzZTY0Lmxlbmd0aCArPSBuIC0gaTtcblxuICByZXR1cm4gZnJvbUNoYXJDb2RlcyhiYXNlNjQpO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgQmFzZVVSTCBlbmNvZGVkIHN0cmluZyAod2l0aG91dCBwYWRkaW5nKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb202NHUgPSAoZW5jb2RlZDogc3RyaW5nKSA9PiB7XG4gIGxldCBpID0gMDtcbiAgbGV0IGogPSAwO1xuICBsZXQgcDogbnVtYmVyO1xuICBjb25zdCBuID0gZW5jb2RlZC5sZW5ndGg7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMyAqICgobiAvIDQpIHwgMCkgKyAoKChuICsgMykgJiAzKSAlIDMpKTtcbiAgd2hpbGUgKGkgPCBuKSB7XG4gICAgYnl0ZXNbaisrXSA9XG4gICAgICAoY29kZXNbY2hhckNvZGUoZW5jb2RlZCwgaSsrKV0gPDwgMikgfFxuICAgICAgKChwID0gY29kZXNbY2hhckNvZGUoZW5jb2RlZCwgaSsrKV0pID4+IDQpO1xuICAgIGlmIChpIDwgbikge1xuICAgICAgYnl0ZXNbaisrXSA9ICgocCAmIDE1KSA8PCA0KSB8ICgocCA9IGNvZGVzW2NoYXJDb2RlKGVuY29kZWQsIGkrKyldKSA+PiAyKTtcbiAgICAgIGlmIChpIDwgbikge1xuICAgICAgICBieXRlc1tqKytdID0gKChwICYgMykgPDwgNikgfCBjb2Rlc1tjaGFyQ29kZShlbmNvZGVkLCBpKyspXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIHRoZSBzcGVjaWZpZWQgVVRGOCBieXRlcyB0byBhIHN0cmluZy5cbiAqXG4gKiBbVGhhbmtzIV0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vWWFmZmxlLzU0NTgyODYpXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVVdGY4ID0gPFQgZXh0ZW5kcyBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZD4oXG4gIG9jdGV0czogVFxuKTogVCBleHRlbmRzIG51bGwgfCB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzdHJpbmcgPT4ge1xuICBpZiAob2N0ZXRzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICBpZiAodHlwZW9mIG9jdGV0cyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG9jdGV0cyBhcyBhbnk7XG5cbiAgY29uc3QgY2hhcnM6IG51bWJlcltdID0gW107XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBvY3RldHMubGVuZ3RoKSB7XG4gICAgbGV0IG9jdGV0ID0gb2N0ZXRzW2ldO1xuICAgIGxldCBieXRlc05lZWRlZCA9IDA7XG4gICAgbGV0IGNvZGVQb2ludCA9IDA7XG4gICAgaWYgKG9jdGV0IDw9IDB4N2YpIHtcbiAgICAgIGJ5dGVzTmVlZGVkID0gMDtcbiAgICAgIGNvZGVQb2ludCA9IG9jdGV0ICYgMHhmZjtcbiAgICB9IGVsc2UgaWYgKG9jdGV0IDw9IDB4ZGYpIHtcbiAgICAgIGJ5dGVzTmVlZGVkID0gMTtcbiAgICAgIGNvZGVQb2ludCA9IG9jdGV0ICYgMHgxZjtcbiAgICB9IGVsc2UgaWYgKG9jdGV0IDw9IDB4ZWYpIHtcbiAgICAgIGJ5dGVzTmVlZGVkID0gMjtcbiAgICAgIGNvZGVQb2ludCA9IG9jdGV0ICYgMHgwZjtcbiAgICB9IGVsc2UgaWYgKG9jdGV0IDw9IDB4ZjQpIHtcbiAgICAgIGJ5dGVzTmVlZGVkID0gMztcbiAgICAgIGNvZGVQb2ludCA9IG9jdGV0ICYgMHgwNztcbiAgICB9XG4gICAgaWYgKG9jdGV0cy5sZW5ndGggLSBpIC0gYnl0ZXNOZWVkZWQgPiAwKSB7XG4gICAgICB2YXIgayA9IDA7XG4gICAgICB3aGlsZSAoayA8IGJ5dGVzTmVlZGVkKSB7XG4gICAgICAgIG9jdGV0ID0gb2N0ZXRzW2kgKyBrICsgMV07XG4gICAgICAgIGNvZGVQb2ludCA9IChjb2RlUG9pbnQgPDwgNikgfCAob2N0ZXQgJiAweDNmKTtcbiAgICAgICAgayArPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb2RlUG9pbnQgPSAweGZmZmQ7XG4gICAgICBieXRlc05lZWRlZCA9IG9jdGV0cy5sZW5ndGggLSBpO1xuICAgIH1cbiAgICBjaGFycy5wdXNoKGNvZGVQb2ludCk7XG4gICAgaSArPSBieXRlc05lZWRlZCArIDE7XG4gIH1cblxuICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY2hhcnMpIGFzIGFueTtcbn07XG4iLCJpbXBvcnQgeyBOdWxsaXNoLCBpc0Jvb2xlYW4gfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5cbi8qKiBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgZW50cm9weSBieXRlcy4gKi9cbmNvbnN0IEVOVFJPUFkgPSA0O1xuLyoqIFRoZSBwYWRkaW5nIGxlbmd0aC4gQ2lwaGVyIHRleHRzIHdpbGwgYWx3YXlzIGJlIGEgbXVsdGlwbGUgb2YgdGhpcy4gKi9cbmNvbnN0IE1BWF9QQURESU5HID0gMTY7XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zvd2xlciVFMiU4MCU5M05vbGwlRTIlODAlOTNWb19oYXNoX2Z1bmN0aW9uI0ZOVl9oYXNoX3BhcmFtZXRlcnNcbnR5cGUgRm52MWFDb25maWd1cmF0aW9uID0gW29mZnNldDogYmlnaW50LCBwcmltZTogYmlnaW50XTtcbmNvbnN0IEZOVnM6IFJlY29yZDxudW1iZXIsIEZudjFhQ29uZmlndXJhdGlvbj4gPSB7XG4gIDMyOiBbMHg4MTFjOWRjNW4sIDB4MDEwMDAxOTNuXSxcbiAgNjQ6IFsweGNiZjI5Y2U0ODQyMjIzMjVuLCAweDEwMDAwMDAwMWIzbl0sXG4gIDEyODogWzB4NmM2MjI3MmUwN2JiMDE0MjYyYjgyMTc1NjI5NWM1OGRuLCAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMTNibl0sXG59O1xuXG4vKiogQSByYW5kb20gYnl0ZS4gKi9cbmNvbnN0IGVudHJvcHkgPSAobWF4ID0gMjU2KSA9PiAobWF4ICogTWF0aC5yYW5kb20oKSkgfCAwO1xuXG5leHBvcnQgdHlwZSBIYXNoRnVuY3Rpb248VD4gPSB7XG4gICh2YWx1ZTogVCwgYml0cz86IDMyIHwgNjQgfCAxMjgpOiBzdHJpbmc7XG4gIDxCIGV4dGVuZHMgYm9vbGVhbj4odmFsdWU6IFQsIG51bWVyaWM6IEIpOiBCIGV4dGVuZHMgdHJ1ZSA/IG51bWJlciA6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIENpcGhlckZ1bmN0aW9uID0gKGRhdGE6IFVpbnQ4QXJyYXkpID0+IFVpbnQ4QXJyYXk7XG5leHBvcnQgdHlwZSBDaXBoZXJGdW5jdGlvbnMgPSBbXG4gIENpcGhlckZ1bmN0aW9uLFxuICBDaXBoZXJGdW5jdGlvbixcbiAgSGFzaEZ1bmN0aW9uPFVpbnQ4QXJyYXk+XG5dO1xuXG4vKipcbiAqIExpbmVhci1mZWVkYmFjayBzaGlmdCByZWdpc3RlciBlbmNyeXB0aW9uIHdpdGggbGVhZGluZyBlbnRyb3B5IGFuZCBmaXhlZCBwYWRkaW5nLlxuICpcbiAqIFVzZWQgZm9yIG9uLXRoZS1mbHkgZW5jcnlwdGlvbi4gSXQgaXMgbm90IHRoZSBzdHJvbmdlc3QgZW5jcnlwdGlvbiwgeWV0IGl0IGlzIGFubm95aW5nbHkgY2hhbGxlbmdpbmcgdG8gYnJlYWsuXG4gKiBEdWUgdG8gZW50cm9weSB0aGUgc2FtZSB0ZXh0IHdpdGggdGhlIHNhbWUga2V5IHdpbGwgcmVzdWx0IGluIGEgZGlmZmVyZW50IGNpcGhlciB0ZXh0IGV2ZXJ5IHRpbWUuXG4gKlxuICpcbiAqIFwiSXQgaXMgZmFzdCBhbmQgc21hbGwuXCIsIEJvYiBzYWlkIHRvIEFsaWNlLiBcIkl0IGlzIGFsbCByaWdodC5cIiwgc2hlIHJlcGxpZWQuXG4gKlxuICogKEFkYXB0ZWQgZnJvbSBodHRwOi8vcXVpbm5mdHcuY29tL3hvci1jaXBoZXJzLykuXG4gKi9cbmV4cG9ydCBjb25zdCBsZnNyID0gKGtleT86IHN0cmluZyB8IE51bGxpc2gpOiBDaXBoZXJGdW5jdGlvbnMgPT4ge1xuICAvKiogTnVtYmVyIG9mIHNvdXJjZSBieXRlcyBmb3IgKGVuL2RlKWNyeXB0aW9uLiAqL1xuICBsZXQgbjogbnVtYmVyO1xuICAvKiogU291cmNlIGJ5dGUgaW5kZXguICovXG4gIGxldCBpOiBudW1iZXI7XG4gIC8qKiBUYXJnZXQgYnl0ZSBpbmRleC4gKi9cbiAgbGV0IGo6IG51bWJlcjtcbiAgLyoqIFBhZGRpbmcgbGVuZ3RoLiAqL1xuICBsZXQgcGFkOiBudW1iZXI7XG5cbiAgLyoqIEhvbGRzIHRoZSAoZW4vZGUpY3J5cHRlZCBieXRlcy4gKi9cbiAgbGV0IHRhcmdldDogVWludDhBcnJheTtcblxuICAvKiogSGFzaCBjb2RlLiAqL1xuICBsZXQgaGFzaCA9IDBuO1xuXG4gIC8qKiBCaXRzIGZvciBGTlYtMWEgaGFzaCBjb2RlLiAqL1xuICBsZXQgYml0cyA9IDA7XG5cbiAgLyoqIFByaW1lIGZvciBGTlYtMWEgaGFzaCBjb2RlLiAqL1xuICBsZXQgcHJpbWUgPSAwbjtcblxuICAvKipcbiAgICogVGhlIHNsaWRpbmcgd2luZG93IHdpdGggdGhlIHBhc3QgY2lwaGVycyB1c2VkIHRvIHVwZGF0ZSBmb3IgdGhlIG1peGVyLlxuICAgKiBJdCB3b3JrcyBhcyBhIGxpbmVhciBmZWVkYmFjayBzaGZpdCByZWdpc3RlciB0byBib2xzdGVyIGFnYWluc3QgZnJlcXVlbmN5IGFuYWx5c2lzLlxuICAgKlxuICAgKiBodHRwOi8vcXVpbm5mdHcuY29tL3hvci1jaXBoZXJzLy5cbiAgICovXG4gIGxldCB3aW5kb3c6IG51bWJlcltdID0gW107XG5cbiAgLyoqIFRoZSBtaXhlciB1c2VkIHRvIGl0ZXJhdGl2ZWx5IHVwZGF0ZSB0aGUga2V5IHdoaWxlIChlbi9kZSljcnlwdGluZy4gKi9cbiAgbGV0IG1peGVyID0gMDtcbiAgLyoqIFRoZSBtaXhlciBtb2R1bG8gMjU2LiAqL1xuICBsZXQgbWl4ZXIyNTUgPSAwO1xuXG4gIC8qKiBDdXJyZW50IHN0YXJ0IG9mIHRoZSBtaXhlciB3aW5kb3cuICovXG4gIGxldCBpdyA9IDA7XG4gIC8qKiBJbml0aWFsIG1peGVyLiAqL1xuICBsZXQgbWl4ZXIwID0gMDtcbiAgLyoqIEluaXRpYWwgYnl0ZXMgZm9yIHRoZSBtaXhlci4gKi9cbiAgY29uc3Qgd2luZG93MDogbnVtYmVyW10gPSBbXTtcblxuICBmb3IgKFxuICAgIGl3ID0gMDtcbiAgICBpdyA8IGtleT8ubGVuZ3RoITtcbiAgICBtaXhlcjAgKz0gd2luZG93MFtpd10gPSBrZXkhLmNoYXJDb2RlQXQoaXcrKylcbiAgKTtcblxuICAvKiogUmVzZXRzIHRoZSBtaXhlciB3aGVuIChlbi9kZSljcnlwdGlvbiBzdGFydHMuICovXG4gIGNvbnN0IHJlc2V0TWl4ZXIgPSBrZXlcbiAgICA/ICgpID0+IHtcbiAgICAgICAgd2luZG93ID0gWy4uLndpbmRvdzBdO1xuICAgICAgICBtaXhlcjI1NSA9IChtaXhlciA9IG1peGVyMCkgJiAyNTU7XG4gICAgICAgIGl3ID0gLTE7XG4gICAgICB9XG4gICAgOiAoKSA9PiB7fTtcblxuICAvKiogVXBkYXRlcyB0aGUgbWl4ZXIgd2l0aCB0aGUgKGVuL2RlKWNyeXB0ZWQgYnl0ZS4gKi9cbiAgY29uc3QgdXBkYXRlTWl4ZXIgPSAoYzogbnVtYmVyKSA9PiAoXG4gICAgKG1peGVyMjU1ID1cbiAgICAgIChtaXhlciArPVxuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgYnl0ZSBsZWF2aW5nIHRoZSB3aW5kb3cuXG4gICAgICAgIC13aW5kb3dbKGl3ID0gKGl3ICsgMSkgJSB3aW5kb3cubGVuZ3RoKV0gK1xuICAgICAgICAvLyBBZGQgdGhlIGJ5dGUgZW50ZXJpbmcgdGhlIHdpbmRvdy5cbiAgICAgICAgKHdpbmRvd1tpd10gPSBjKSkgJiAyNTUpLFxuICAgIGNcbiAgKTtcblxuICByZXR1cm4gW1xuICAgIC8vIEVuY3J5cHRcbiAgICBrZXlcbiAgICAgID8gKHNvdXJjZSkgPT4ge1xuICAgICAgICAgIHJlc2V0TWl4ZXIoKTtcbiAgICAgICAgICBuID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgICBwYWQgPSBNQVhfUEFERElORyAtICgobiArIEVOVFJPUFkpICUgTUFYX1BBRERJTkcpO1xuICAgICAgICAgIHRhcmdldCA9IG5ldyBVaW50OEFycmF5KEVOVFJPUFkgKyBuICsgcGFkKTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBFTlRST1BZIC0gMTsgdGFyZ2V0W2orK10gPSB1cGRhdGVNaXhlcihlbnRyb3B5KCkpKTtcblxuICAgICAgICAgIC8vIEFsaWduIGxhc3QgZW50cm9weSBieXRlIHRvIG1heCBwYWRkaW5nIGFuZCBhZGQgcGFkZGluZy5cbiAgICAgICAgICB0YXJnZXRbaisrXSA9IHVwZGF0ZU1peGVyKFxuICAgICAgICAgICAgbWl4ZXIyNTUgXiAoTUFYX1BBRERJTkcgKiBlbnRyb3B5KDI1NiAvIE1BWF9QQURESU5HKSArIHBhZClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IG47IHRhcmdldFtqKytdID0gdXBkYXRlTWl4ZXIobWl4ZXIyNTUgXiBzb3VyY2VbaSsrXSkpO1xuICAgICAgICAgIHdoaWxlIChwYWQtLSkgdGFyZ2V0W2orK10gPSBlbnRyb3B5KCk7XG5cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICA6IChzb3VyY2UpID0+IHNvdXJjZSxcblxuICAgIC8vIERlY3J5cHRcbiAgICBrZXlcbiAgICAgID8gKHNvdXJjZSkgPT4ge1xuICAgICAgICAgIHJlc2V0TWl4ZXIoKTtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgRU5UUk9QWSAtIDE7IHVwZGF0ZU1peGVyKHNvdXJjZVtpKytdKSk7XG4gICAgICAgICAgbiA9XG4gICAgICAgICAgICBzb3VyY2UubGVuZ3RoIC1cbiAgICAgICAgICAgIEVOVFJPUFkgLVxuICAgICAgICAgICAgLy8gUGFkZGluZy4gSWYgcGFkZGluZyBpcyB6ZXJvLCBhbGwgbGFzdCBQQURESU5HIGNoYXJhY3RlcnMgYXJlIHBhZGRpbmcuXG4gICAgICAgICAgICAoKG1peGVyMjU1IF4gdXBkYXRlTWl4ZXIoc291cmNlW2krK10pKSAlIE1BWF9QQURESU5HIHx8XG4gICAgICAgICAgICAgIE1BWF9QQURESU5HKTtcbiAgICAgICAgICBpZiAobiA8PSAwKSByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgICB0YXJnZXQgPSBuZXcgVWludDhBcnJheShuKTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBuOyB0YXJnZXRbaisrXSA9IG1peGVyMjU1IF4gdXBkYXRlTWl4ZXIoc291cmNlW2krK10pKTtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICA6IChjaXBoZXIpID0+IGNpcGhlcixcblxuICAgIC8vIEZOVjFhIGhhc2ggY29kZS5cbiAgICAoc291cmNlOiBVaW50OEFycmF5LCBudW1lcmljT3JCaXRzOiBhbnkgPSA2NCkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIGJpdHMgPSBpc0Jvb2xlYW4obnVtZXJpY09yQml0cykgPyA2NCA6IG51bWVyaWNPckJpdHM7XG5cbiAgICAgIHJlc2V0TWl4ZXIoKTtcblxuICAgICAgW2hhc2gsIHByaW1lXSA9IEZOVnNbYml0c107XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGkgPSAwO1xuICAgICAgICBpIDwgc291cmNlLmxlbmd0aDtcbiAgICAgICAgaGFzaCA9IEJpZ0ludC5hc1VpbnROKFxuICAgICAgICAgIGJpdHMsXG4gICAgICAgICAgKGhhc2ggXiBCaWdJbnQobWl4ZXIyNTUgXiB1cGRhdGVNaXhlcihzb3VyY2VbaSsrXSkpKSAqIHByaW1lXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBudW1lcmljT3JCaXRzID09PSB0cnVlXG4gICAgICAgID8gTnVtYmVyKFxuICAgICAgICAgICAgQmlnSW50KE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSArXG4gICAgICAgICAgICAgIChoYXNoICUgQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpKVxuICAgICAgICAgIClcbiAgICAgICAgOiAoaGFzaC50b1N0cmluZygzNikgYXMgYW55KTtcbiAgICB9LFxuICBdO1xufTtcbiIsIu+7vyhmdW5jdGlvbiAoKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdC8vIFNlcmlhbGl6ZXMgYSB2YWx1ZSB0byBhIE1lc3NhZ2VQYWNrIGJ5dGUgYXJyYXkuXHJcblx0Ly9cclxuXHQvLyBkYXRhOiBUaGUgdmFsdWUgdG8gc2VyaWFsaXplLiBUaGlzIGNhbiBiZSBhIHNjYWxhciwgYXJyYXkgb3Igb2JqZWN0LlxyXG5cdC8vIG9wdGlvbnM6IEFuIG9iamVjdCB0aGF0IGRlZmluZXMgYWRkaXRpb25hbCBvcHRpb25zLlxyXG5cdC8vIC0gbXVsdGlwbGU6IChib29sZWFuKSBJbmRpY2F0ZXMgd2hldGhlciBtdWx0aXBsZSB2YWx1ZXMgaW4gZGF0YSBhcmUgY29uY2F0ZW5hdGVkIHRvIG11bHRpcGxlIE1lc3NhZ2VQYWNrIGFycmF5cy4gRGVmYXVsdDogZmFsc2UuXHJcblx0Ly8gLSBpbnZhbGlkVHlwZVJlcGxhY2VtZW50OlxyXG5cdC8vICAgKGFueSkgVGhlIHZhbHVlIHRoYXQgaXMgdXNlZCB0byByZXBsYWNlIHZhbHVlcyBvZiB1bnN1cHBvcnRlZCB0eXBlcy5cclxuXHQvLyAgIChmdW5jdGlvbikgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgc3VjaCBhIHZhbHVlLCBnaXZlbiB0aGUgb3JpZ2luYWwgdmFsdWUgYXMgcGFyYW1ldGVyLlxyXG5cdGZ1bmN0aW9uIHNlcmlhbGl6ZShkYXRhLCBvcHRpb25zKSB7XHJcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLm11bHRpcGxlICYmICFBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdHlwZTogRXhwZWN0ZWQgYW4gQXJyYXkgdG8gc2VyaWFsaXplIG11bHRpcGxlIHZhbHVlcy5cIik7XHJcblx0XHR9XHJcblx0XHRjb25zdCBwb3czMiA9IDB4MTAwMDAwMDAwOyAgIC8vIDJeMzJcclxuXHRcdGxldCBmbG9hdEJ1ZmZlciwgZmxvYXRWaWV3O1xyXG5cdFx0bGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMTI4KTtcclxuXHRcdGxldCBsZW5ndGggPSAwO1xyXG5cdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tdWx0aXBsZSkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRhcHBlbmQoZGF0YVtpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRhcHBlbmQoZGF0YSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYXJyYXkuc3ViYXJyYXkoMCwgbGVuZ3RoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmQoZGF0YSwgaXNSZXBsYWNlbWVudCkge1xyXG5cdFx0XHRzd2l0Y2ggKHR5cGVvZiBkYXRhKSB7XHJcblx0XHRcdFx0Y2FzZSBcInVuZGVmaW5lZFwiOlxyXG5cdFx0XHRcdFx0YXBwZW5kTnVsbChkYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJib29sZWFuXCI6XHJcblx0XHRcdFx0XHRhcHBlbmRCb29sZWFuKGRhdGEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcIm51bWJlclwiOlxyXG5cdFx0XHRcdFx0YXBwZW5kTnVtYmVyKGRhdGEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcInN0cmluZ1wiOlxyXG5cdFx0XHRcdFx0YXBwZW5kU3RyaW5nKGRhdGEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcIm9iamVjdFwiOlxyXG5cdFx0XHRcdFx0aWYgKGRhdGEgPT09IG51bGwpXHJcblx0XHRcdFx0XHRcdGFwcGVuZE51bGwoZGF0YSk7XHJcblx0XHRcdFx0XHRlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgRGF0ZSlcclxuXHRcdFx0XHRcdFx0YXBwZW5kRGF0ZShkYXRhKTtcclxuXHRcdFx0XHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpXHJcblx0XHRcdFx0XHRcdGFwcGVuZEFycmF5KGRhdGEpO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KVxyXG5cdFx0XHRcdFx0XHRhcHBlbmRCaW5BcnJheShkYXRhKTtcclxuXHRcdFx0XHRcdGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBJbnQ4QXJyYXkgfHwgZGF0YSBpbnN0YW5jZW9mIEludDE2QXJyYXkgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5IHx8XHJcblx0XHRcdFx0XHRcdGRhdGEgaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8IGRhdGEgaW5zdGFuY2VvZiBVaW50MzJBcnJheSB8fFxyXG5cdFx0XHRcdFx0XHRkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8IGRhdGEgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpXHJcblx0XHRcdFx0XHRcdGFwcGVuZEFycmF5KGRhdGEpO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRhcHBlbmRPYmplY3QoZGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0aWYgKCFpc1JlcGxhY2VtZW50ICYmIG9wdGlvbnMgJiYgb3B0aW9ucy5pbnZhbGlkVHlwZVJlcGxhY2VtZW50KSB7XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnZhbGlkVHlwZVJlcGxhY2VtZW50ID09PSBcImZ1bmN0aW9uXCIpXHJcblx0XHRcdFx0XHRcdFx0YXBwZW5kKG9wdGlvbnMuaW52YWxpZFR5cGVSZXBsYWNlbWVudChkYXRhKSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRhcHBlbmQob3B0aW9ucy5pbnZhbGlkVHlwZVJlcGxhY2VtZW50LCB0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHR5cGU6IFRoZSB0eXBlICdcIiArICh0eXBlb2YgZGF0YSkgKyBcIicgY2Fubm90IGJlIHNlcmlhbGl6ZWQuXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kTnVsbChkYXRhKSB7XHJcblx0XHRcdGFwcGVuZEJ5dGUoMHhjMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQm9vbGVhbihkYXRhKSB7XHJcblx0XHRcdGFwcGVuZEJ5dGUoZGF0YSA/IDB4YzMgOiAweGMyKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmROdW1iZXIoZGF0YSkge1xyXG5cdFx0XHRpZiAoaXNGaW5pdGUoZGF0YSkgJiYgTnVtYmVyLmlzU2FmZUludGVnZXIoZGF0YSkpIHtcclxuXHRcdFx0XHQvLyBJbnRlZ2VyXHJcblx0XHRcdFx0aWYgKGRhdGEgPj0gMCAmJiBkYXRhIDw9IDB4N2YpIHtcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGUoZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPCAwICYmIGRhdGEgPj0gLTB4MjApIHtcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGUoZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZikgeyAgIC8vIHVpbnQ4XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjYywgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID49IC0weDgwICYmIGRhdGEgPD0gMHg3ZikgeyAgIC8vIGludDhcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQwLCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZmZmKSB7ICAgLy8gdWludDE2XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjZCwgZGF0YSA+Pj4gOCwgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID49IC0weDgwMDAgJiYgZGF0YSA8PSAweDdmZmYpIHsgICAvLyBpbnQxNlxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDEsIGRhdGEgPj4+IDgsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+IDAgJiYgZGF0YSA8PSAweGZmZmZmZmZmKSB7ICAgLy8gdWludDMyXHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjZSwgZGF0YSA+Pj4gMjQsIGRhdGEgPj4+IDE2LCBkYXRhID4+PiA4LCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPj0gLTB4ODAwMDAwMDAgJiYgZGF0YSA8PSAweDdmZmZmZmZmKSB7ICAgLy8gaW50MzJcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQyLCBkYXRhID4+PiAyNCwgZGF0YSA+Pj4gMTYsIGRhdGEgPj4+IDgsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+IDAgJiYgZGF0YSA8PSAweGZmZmZmZmZmZmZmZmZmZmYpIHsgICAvLyB1aW50NjRcclxuXHRcdFx0XHRcdC8vIFNwbGl0IDY0IGJpdCBudW1iZXIgaW50byB0d28gMzIgYml0IG51bWJlcnMgYmVjYXVzZSBKYXZhU2NyaXB0IG9ubHkgcmVnYXJkc1xyXG5cdFx0XHRcdFx0Ly8gMzIgYml0cyBmb3IgYml0d2lzZSBvcGVyYXRpb25zLlxyXG5cdFx0XHRcdFx0bGV0IGhpID0gZGF0YSAvIHBvdzMyO1xyXG5cdFx0XHRcdFx0bGV0IGxvID0gZGF0YSAlIHBvdzMyO1xyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDMsIGhpID4+PiAyNCwgaGkgPj4+IDE2LCBoaSA+Pj4gOCwgaGksIGxvID4+PiAyNCwgbG8gPj4+IDE2LCBsbyA+Pj4gOCwgbG9dKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+PSAtMHg4MDAwMDAwMDAwMDAwMDAwICYmIGRhdGEgPD0gMHg3ZmZmZmZmZmZmZmZmZmZmKSB7ICAgLy8gaW50NjRcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGUoMHhkMyk7XHJcblx0XHRcdFx0XHRhcHBlbmRJbnQ2NChkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA8IDApIHsgICAvLyBiZWxvdyBpbnQ2NFxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDMsIDB4ODAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7ICAgLy8gYWJvdmUgdWludDY0XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZl0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHQvLyBGbG9hdFxyXG5cdFx0XHRcdGlmICghZmxvYXRWaWV3KSB7XHJcblx0XHRcdFx0XHRmbG9hdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcclxuXHRcdFx0XHRcdGZsb2F0VmlldyA9IG5ldyBEYXRhVmlldyhmbG9hdEJ1ZmZlcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZsb2F0Vmlldy5zZXRGbG9hdDY0KDAsIGRhdGEpO1xyXG5cdFx0XHRcdGFwcGVuZEJ5dGUoMHhjYik7XHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMobmV3IFVpbnQ4QXJyYXkoZmxvYXRCdWZmZXIpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZFN0cmluZyhkYXRhKSB7XHJcblx0XHRcdGxldCBieXRlcyA9IGVuY29kZVV0ZjgoZGF0YSk7XHJcblx0XHRcdGxldCBsZW5ndGggPSBieXRlcy5sZW5ndGg7XHJcblxyXG5cdFx0XHRpZiAobGVuZ3RoIDw9IDB4MWYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZSgweGEwICsgbGVuZ3RoKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDksIGxlbmd0aF0pO1xyXG5cdFx0XHRlbHNlIGlmIChsZW5ndGggPD0gMHhmZmZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRhLCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZGIsIGxlbmd0aCA+Pj4gMjQsIGxlbmd0aCA+Pj4gMTYsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblxyXG5cdFx0XHRhcHBlbmRCeXRlcyhieXRlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQXJyYXkoZGF0YSkge1xyXG5cdFx0XHRsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcblxyXG5cdFx0XHRpZiAobGVuZ3RoIDw9IDB4ZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlKDB4OTAgKyBsZW5ndGgpO1xyXG5cdFx0XHRlbHNlIGlmIChsZW5ndGggPD0gMHhmZmZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRjLCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZGQsIGxlbmd0aCA+Pj4gMjQsIGxlbmd0aCA+Pj4gMTYsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XHJcblx0XHRcdFx0YXBwZW5kKGRhdGFbaW5kZXhdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEJpbkFycmF5KGRhdGEpIHtcclxuXHRcdFx0bGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKGxlbmd0aCA8PSAweGZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGM0LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNSwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGM2LCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0YXBwZW5kQnl0ZXMoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kT2JqZWN0KGRhdGEpIHtcclxuXHRcdFx0bGV0IGxlbmd0aCA9IDA7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0aWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRsZW5ndGgrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChsZW5ndGggPD0gMHhmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGUoMHg4MCArIGxlbmd0aCk7XHJcblx0XHRcdGVsc2UgaWYgKGxlbmd0aCA8PSAweGZmZmYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZGUsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkZiwgbGVuZ3RoID4+PiAyNCwgbGVuZ3RoID4+PiAxNiwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0bGV0IHZhbHVlID0gZGF0YVtrZXldO1xyXG5cdFx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRhcHBlbmQoa2V5KTtcclxuXHRcdFx0XHRcdGFwcGVuZCh2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kRGF0ZShkYXRhKSB7XHJcblx0XHRcdGxldCBzZWMgPSBkYXRhLmdldFRpbWUoKSAvIDEwMDA7XHJcblx0XHRcdGlmIChkYXRhLmdldE1pbGxpc2Vjb25kcygpID09PSAwICYmIHNlYyA+PSAwICYmIHNlYyA8IDB4MTAwMDAwMDAwKSB7ICAgLy8gMzIgYml0IHNlY29uZHNcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkNiwgMHhmZiwgc2VjID4+PiAyNCwgc2VjID4+PiAxNiwgc2VjID4+PiA4LCBzZWNdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChzZWMgPj0gMCAmJiBzZWMgPCAweDQwMDAwMDAwMCkgeyAgIC8vIDMwIGJpdCBuYW5vc2Vjb25kcywgMzQgYml0IHNlY29uZHNcclxuXHRcdFx0XHRsZXQgbnMgPSBkYXRhLmdldE1pbGxpc2Vjb25kcygpICogMTAwMDAwMDtcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkNywgMHhmZiwgbnMgPj4+IDIyLCBucyA+Pj4gMTQsIG5zID4+PiA2LCAoKG5zIDw8IDIpID4+PiAwKSB8IChzZWMgLyBwb3czMiksIHNlYyA+Pj4gMjQsIHNlYyA+Pj4gMTYsIHNlYyA+Pj4gOCwgc2VjXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7ICAgLy8gMzIgYml0IG5hbm9zZWNvbmRzLCA2NCBiaXQgc2Vjb25kcywgbmVnYXRpdmUgdmFsdWVzIGFsbG93ZWRcclxuXHRcdFx0XHRsZXQgbnMgPSBkYXRhLmdldE1pbGxpc2Vjb25kcygpICogMTAwMDAwMDtcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNywgMTIsIDB4ZmYsIG5zID4+PiAyNCwgbnMgPj4+IDE2LCBucyA+Pj4gOCwgbnNdKTtcclxuXHRcdFx0XHRhcHBlbmRJbnQ2NChzZWMpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQnl0ZShieXRlKSB7XHJcblx0XHRcdGlmIChhcnJheS5sZW5ndGggPCBsZW5ndGggKyAxKSB7XHJcblx0XHRcdFx0bGV0IG5ld0xlbmd0aCA9IGFycmF5Lmxlbmd0aCAqIDI7XHJcblx0XHRcdFx0d2hpbGUgKG5ld0xlbmd0aCA8IGxlbmd0aCArIDEpXHJcblx0XHRcdFx0XHRuZXdMZW5ndGggKj0gMjtcclxuXHRcdFx0XHRsZXQgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xyXG5cdFx0XHRcdG5ld0FycmF5LnNldChhcnJheSk7XHJcblx0XHRcdFx0YXJyYXkgPSBuZXdBcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhcnJheVtsZW5ndGhdID0gYnl0ZTtcclxuXHRcdFx0bGVuZ3RoKys7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQnl0ZXMoYnl0ZXMpIHtcclxuXHRcdFx0aWYgKGFycmF5Lmxlbmd0aCA8IGxlbmd0aCArIGJ5dGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdGxldCBuZXdMZW5ndGggPSBhcnJheS5sZW5ndGggKiAyO1xyXG5cdFx0XHRcdHdoaWxlIChuZXdMZW5ndGggPCBsZW5ndGggKyBieXRlcy5sZW5ndGgpXHJcblx0XHRcdFx0XHRuZXdMZW5ndGggKj0gMjtcclxuXHRcdFx0XHRsZXQgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xyXG5cdFx0XHRcdG5ld0FycmF5LnNldChhcnJheSk7XHJcblx0XHRcdFx0YXJyYXkgPSBuZXdBcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhcnJheS5zZXQoYnl0ZXMsIGxlbmd0aCk7XHJcblx0XHRcdGxlbmd0aCArPSBieXRlcy5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kSW50NjQodmFsdWUpIHtcclxuXHRcdFx0Ly8gU3BsaXQgNjQgYml0IG51bWJlciBpbnRvIHR3byAzMiBiaXQgbnVtYmVycyBiZWNhdXNlIEphdmFTY3JpcHQgb25seSByZWdhcmRzIDMyIGJpdHMgZm9yXHJcblx0XHRcdC8vIGJpdHdpc2Ugb3BlcmF0aW9ucy5cclxuXHRcdFx0bGV0IGhpLCBsbztcclxuXHRcdFx0aWYgKHZhbHVlID49IDApIHtcclxuXHRcdFx0XHQvLyBTYW1lIGFzIHVpbnQ2NFxyXG5cdFx0XHRcdGhpID0gdmFsdWUgLyBwb3czMjtcclxuXHRcdFx0XHRsbyA9IHZhbHVlICUgcG93MzI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gU3BsaXQgYWJzb2x1dGUgdmFsdWUgdG8gaGlnaCBhbmQgbG93LCB0aGVuIE5PVCBhbmQgQUREKDEpIHRvIHJlc3RvcmUgbmVnYXRpdml0eVxyXG5cdFx0XHRcdHZhbHVlKys7XHJcblx0XHRcdFx0aGkgPSBNYXRoLmFicyh2YWx1ZSkgLyBwb3czMjtcclxuXHRcdFx0XHRsbyA9IE1hdGguYWJzKHZhbHVlKSAlIHBvdzMyO1xyXG5cdFx0XHRcdGhpID0gfmhpO1xyXG5cdFx0XHRcdGxvID0gfmxvO1xyXG5cdFx0XHR9XHJcblx0XHRcdGFwcGVuZEJ5dGVzKFtoaSA+Pj4gMjQsIGhpID4+PiAxNiwgaGkgPj4+IDgsIGhpLCBsbyA+Pj4gMjQsIGxvID4+PiAxNiwgbG8gPj4+IDgsIGxvXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBEZXNlcmlhbGl6ZXMgYSBNZXNzYWdlUGFjayBieXRlIGFycmF5IHRvIGEgdmFsdWUuXHJcblx0Ly9cclxuXHQvLyBhcnJheTogVGhlIE1lc3NhZ2VQYWNrIGJ5dGUgYXJyYXkgdG8gZGVzZXJpYWxpemUuIFRoaXMgbXVzdCBiZSBhbiBBcnJheSBvciBVaW50OEFycmF5IGNvbnRhaW5pbmcgYnl0ZXMsIG5vdCBhIHN0cmluZy5cclxuXHQvLyBvcHRpb25zOiBBbiBvYmplY3QgdGhhdCBkZWZpbmVzIGFkZGl0aW9uYWwgb3B0aW9ucy5cclxuXHQvLyAtIG11bHRpcGxlOiAoYm9vbGVhbikgSW5kaWNhdGVzIHdoZXRoZXIgbXVsdGlwbGUgY29uY2F0ZW5hdGVkIE1lc3NhZ2VQYWNrIGFycmF5cyBhcmUgcmV0dXJuZWQgYXMgYW4gYXJyYXkuIERlZmF1bHQ6IGZhbHNlLlxyXG5cdGZ1bmN0aW9uIGRlc2VyaWFsaXplKGFycmF5LCBvcHRpb25zKSB7XHJcblx0XHRjb25zdCBwb3czMiA9IDB4MTAwMDAwMDAwOyAgIC8vIDJeMzJcclxuXHRcdGxldCBwb3MgPSAwO1xyXG5cdFx0aWYgKGFycmF5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcclxuXHRcdFx0YXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSk7XHJcblx0XHR9XHJcblx0XHRpZiAodHlwZW9mIGFycmF5ICE9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBhcnJheS5sZW5ndGggPT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0eXBlOiBFeHBlY3RlZCBhIGJ5dGUgYXJyYXkgKEFycmF5IG9yIFVpbnQ4QXJyYXkpIHRvIGRlc2VyaWFsaXplLlwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghYXJyYXkubGVuZ3RoKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQ6IFRoZSBieXRlIGFycmF5IHRvIGRlc2VyaWFsaXplIGlzIGVtcHR5LlwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcclxuXHRcdFx0YXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSk7XHJcblx0XHR9XHJcblx0XHRsZXQgZGF0YTtcclxuXHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubXVsdGlwbGUpIHtcclxuXHRcdFx0Ly8gUmVhZCBhcyBtYW55IG1lc3NhZ2VzIGFzIGFyZSBhdmFpbGFibGVcclxuXHRcdFx0ZGF0YSA9IFtdO1xyXG5cdFx0XHR3aGlsZSAocG9zIDwgYXJyYXkubGVuZ3RoKSB7XHJcblx0XHRcdFx0ZGF0YS5wdXNoKHJlYWQoKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHQvLyBSZWFkIG9ubHkgb25lIG1lc3NhZ2UgYW5kIGlnbm9yZSBhZGRpdGlvbmFsIGRhdGFcclxuXHRcdFx0ZGF0YSA9IHJlYWQoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBkYXRhO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWQoKSB7XHJcblx0XHRcdGNvbnN0IGJ5dGUgPSBhcnJheVtwb3MrK107XHJcblx0XHRcdGlmIChieXRlID49IDB4MDAgJiYgYnl0ZSA8PSAweDdmKSByZXR1cm4gYnl0ZTsgICAvLyBwb3NpdGl2ZSBmaXhpbnRcclxuXHRcdFx0aWYgKGJ5dGUgPj0gMHg4MCAmJiBieXRlIDw9IDB4OGYpIHJldHVybiByZWFkTWFwKGJ5dGUgLSAweDgwKTsgICAvLyBmaXhtYXBcclxuXHRcdFx0aWYgKGJ5dGUgPj0gMHg5MCAmJiBieXRlIDw9IDB4OWYpIHJldHVybiByZWFkQXJyYXkoYnl0ZSAtIDB4OTApOyAgIC8vIGZpeGFycmF5XHJcblx0XHRcdGlmIChieXRlID49IDB4YTAgJiYgYnl0ZSA8PSAweGJmKSByZXR1cm4gcmVhZFN0cihieXRlIC0gMHhhMCk7ICAgLy8gZml4c3RyXHJcblx0XHRcdGlmIChieXRlID09PSAweGMwKSByZXR1cm4gbnVsbDsgICAvLyBuaWxcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzEpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYnl0ZSBjb2RlIDB4YzEgZm91bmQuXCIpOyAgIC8vIG5ldmVyIHVzZWRcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzIpIHJldHVybiBmYWxzZTsgICAvLyBmYWxzZVxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjMykgcmV0dXJuIHRydWU7ICAgLy8gdHJ1ZVxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNCkgcmV0dXJuIHJlYWRCaW4oLTEsIDEpOyAgIC8vIGJpbiA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGM1KSByZXR1cm4gcmVhZEJpbigtMSwgMik7ICAgLy8gYmluIDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGM2KSByZXR1cm4gcmVhZEJpbigtMSwgNCk7ICAgLy8gYmluIDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGM3KSByZXR1cm4gcmVhZEV4dCgtMSwgMSk7ICAgLy8gZXh0IDhcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzgpIHJldHVybiByZWFkRXh0KC0xLCAyKTsgICAvLyBleHQgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzkpIHJldHVybiByZWFkRXh0KC0xLCA0KTsgICAvLyBleHQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2EpIHJldHVybiByZWFkRmxvYXQoNCk7ICAgLy8gZmxvYXQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2IpIHJldHVybiByZWFkRmxvYXQoOCk7ICAgLy8gZmxvYXQgNjRcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2MpIHJldHVybiByZWFkVUludCgxKTsgICAvLyB1aW50IDhcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2QpIHJldHVybiByZWFkVUludCgyKTsgICAvLyB1aW50IDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGNlKSByZXR1cm4gcmVhZFVJbnQoNCk7ICAgLy8gdWludCAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjZikgcmV0dXJuIHJlYWRVSW50KDgpOyAgIC8vIHVpbnQgNjRcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDApIHJldHVybiByZWFkSW50KDEpOyAgIC8vIGludCA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGQxKSByZXR1cm4gcmVhZEludCgyKTsgICAvLyBpbnQgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDIpIHJldHVybiByZWFkSW50KDQpOyAgIC8vIGludCAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkMykgcmV0dXJuIHJlYWRJbnQoOCk7ICAgLy8gaW50IDY0XHJcblx0XHRcdGlmIChieXRlID09PSAweGQ0KSByZXR1cm4gcmVhZEV4dCgxKTsgICAvLyBmaXhleHQgMVxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkNSkgcmV0dXJuIHJlYWRFeHQoMik7ICAgLy8gZml4ZXh0IDJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDYpIHJldHVybiByZWFkRXh0KDQpOyAgIC8vIGZpeGV4dCA0XHJcblx0XHRcdGlmIChieXRlID09PSAweGQ3KSByZXR1cm4gcmVhZEV4dCg4KTsgICAvLyBmaXhleHQgOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkOCkgcmV0dXJuIHJlYWRFeHQoMTYpOyAgIC8vIGZpeGV4dCAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkOSkgcmV0dXJuIHJlYWRTdHIoLTEsIDEpOyAgIC8vIHN0ciA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGRhKSByZXR1cm4gcmVhZFN0cigtMSwgMik7ICAgLy8gc3RyIDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGRiKSByZXR1cm4gcmVhZFN0cigtMSwgNCk7ICAgLy8gc3RyIDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGRjKSByZXR1cm4gcmVhZEFycmF5KC0xLCAyKTsgICAvLyBhcnJheSAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkZCkgcmV0dXJuIHJlYWRBcnJheSgtMSwgNCk7ICAgLy8gYXJyYXkgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZGUpIHJldHVybiByZWFkTWFwKC0xLCAyKTsgICAvLyBtYXAgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZGYpIHJldHVybiByZWFkTWFwKC0xLCA0KTsgICAvLyBtYXAgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPj0gMHhlMCAmJiBieXRlIDw9IDB4ZmYpIHJldHVybiBieXRlIC0gMjU2OyAgIC8vIG5lZ2F0aXZlIGZpeGludFxyXG5cdFx0XHRjb25zb2xlLmRlYnVnKFwibXNncGFjayBhcnJheTpcIiwgYXJyYXkpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgdmFsdWUgJ1wiICsgYnl0ZSArIFwiJyBhdCBpbmRleCBcIiArIChwb3MgLSAxKSArIFwiIGluIHRoZSBNZXNzYWdlUGFjayBiaW5hcnkgZGF0YSAobGVuZ3RoIFwiICsgYXJyYXkubGVuZ3RoICsgXCIpOiBFeHBlY3RpbmcgYSByYW5nZSBvZiAwIHRvIDI1NS4gVGhpcyBpcyBub3QgYSBieXRlIGFycmF5LlwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkSW50KHNpemUpIHtcclxuXHRcdFx0bGV0IHZhbHVlID0gMDtcclxuXHRcdFx0bGV0IGZpcnN0ID0gdHJ1ZTtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHRpZiAoZmlyc3QpIHtcclxuXHRcdFx0XHRcdGxldCBieXRlID0gYXJyYXlbcG9zKytdO1xyXG5cdFx0XHRcdFx0dmFsdWUgKz0gYnl0ZSAmIDB4N2Y7XHJcblx0XHRcdFx0XHRpZiAoYnl0ZSAmIDB4ODApIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgLT0gMHg4MDsgICAvLyBUcmVhdCBtb3N0LXNpZ25pZmljYW50IGJpdCBhcyAtMl5pIGluc3RlYWQgb2YgMl5pXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHZhbHVlICo9IDI1NjtcclxuXHRcdFx0XHRcdHZhbHVlICs9IGFycmF5W3BvcysrXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHZhbHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRVSW50KHNpemUpIHtcclxuXHRcdFx0bGV0IHZhbHVlID0gMDtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHR2YWx1ZSAqPSAyNTY7XHJcblx0XHRcdFx0dmFsdWUgKz0gYXJyYXlbcG9zKytdO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkRmxvYXQoc2l6ZSkge1xyXG5cdFx0XHRsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheS5idWZmZXIsIHBvcyArIGFycmF5LmJ5dGVPZmZzZXQsIHNpemUpO1xyXG5cdFx0XHRwb3MgKz0gc2l6ZTtcclxuXHRcdFx0aWYgKHNpemUgPT09IDQpXHJcblx0XHRcdFx0cmV0dXJuIHZpZXcuZ2V0RmxvYXQzMigwLCBmYWxzZSk7XHJcblx0XHRcdGlmIChzaXplID09PSA4KVxyXG5cdFx0XHRcdHJldHVybiB2aWV3LmdldEZsb2F0NjQoMCwgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRCaW4oc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IGRhdGEgPSBhcnJheS5zdWJhcnJheShwb3MsIHBvcyArIHNpemUpO1xyXG5cdFx0XHRwb3MgKz0gc2l6ZTtcclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZE1hcChzaXplLCBsZW5ndGhTaXplKSB7XHJcblx0XHRcdGlmIChzaXplIDwgMCkgc2l6ZSA9IHJlYWRVSW50KGxlbmd0aFNpemUpO1xyXG5cdFx0XHRsZXQgZGF0YSA9IHt9O1xyXG5cdFx0XHR3aGlsZSAoc2l6ZS0tID4gMCkge1xyXG5cdFx0XHRcdGxldCBrZXkgPSByZWFkKCk7XHJcblx0XHRcdFx0ZGF0YVtrZXldID0gcmVhZCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRBcnJheShzaXplLCBsZW5ndGhTaXplKSB7XHJcblx0XHRcdGlmIChzaXplIDwgMCkgc2l6ZSA9IHJlYWRVSW50KGxlbmd0aFNpemUpO1xyXG5cdFx0XHRsZXQgZGF0YSA9IFtdO1xyXG5cdFx0XHR3aGlsZSAoc2l6ZS0tID4gMCkge1xyXG5cdFx0XHRcdGRhdGEucHVzaChyZWFkKCkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRTdHIoc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IHN0YXJ0ID0gcG9zO1xyXG5cdFx0XHRwb3MgKz0gc2l6ZTtcclxuXHRcdFx0cmV0dXJuIGRlY29kZVV0ZjgoYXJyYXksIHN0YXJ0LCBzaXplKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkRXh0KHNpemUsIGxlbmd0aFNpemUpIHtcclxuXHRcdFx0aWYgKHNpemUgPCAwKSBzaXplID0gcmVhZFVJbnQobGVuZ3RoU2l6ZSk7XHJcblx0XHRcdGxldCB0eXBlID0gcmVhZFVJbnQoMSk7XHJcblx0XHRcdGxldCBkYXRhID0gcmVhZEJpbihzaXplKTtcclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSAyNTU6XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVhZEV4dERhdGUoZGF0YSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHsgdHlwZTogdHlwZSwgZGF0YTogZGF0YSB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRFeHREYXRlKGRhdGEpIHtcclxuXHRcdFx0aWYgKGRhdGEubGVuZ3RoID09PSA0KSB7XHJcblx0XHRcdFx0bGV0IHNlYyA9ICgoZGF0YVswXSA8PCAyNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsxXSA8PCAxNikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsyXSA8PCA4KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0ZGF0YVszXTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGVuZ3RoID09PSA4KSB7XHJcblx0XHRcdFx0bGV0IG5zID0gKChkYXRhWzBdIDw8IDIyKSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzFdIDw8IDE0KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzJdIDw8IDYpID4+PiAwKSArXHJcblx0XHRcdFx0XHQoZGF0YVszXSA+Pj4gMik7XHJcblx0XHRcdFx0bGV0IHNlYyA9ICgoZGF0YVszXSAmIDB4MykgKiBwb3czMikgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzRdIDw8IDI0KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzVdIDw8IDE2KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzZdIDw8IDgpID4+PiAwKSArXHJcblx0XHRcdFx0XHRkYXRhWzddO1xyXG5cdFx0XHRcdHJldHVybiBuZXcgRGF0ZShzZWMgKiAxMDAwICsgbnMgLyAxMDAwMDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5sZW5ndGggPT09IDEyKSB7XHJcblx0XHRcdFx0bGV0IG5zID0gKChkYXRhWzBdIDw8IDI0KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzFdIDw8IDE2KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KChkYXRhWzJdIDw8IDgpID4+PiAwKSArXHJcblx0XHRcdFx0XHRkYXRhWzNdO1xyXG5cdFx0XHRcdHBvcyAtPSA4O1xyXG5cdFx0XHRcdGxldCBzZWMgPSByZWFkSW50KDgpO1xyXG5cdFx0XHRcdHJldHVybiBuZXcgRGF0ZShzZWMgKiAxMDAwICsgbnMgLyAxMDAwMDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgbGVuZ3RoIGZvciBhIGRhdGUgdmFsdWUuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gRW5jb2RlcyBhIHN0cmluZyB0byBVVEYtOCBieXRlcy5cclxuXHRmdW5jdGlvbiBlbmNvZGVVdGY4KHN0cikge1xyXG5cdFx0Ly8gUHJldmVudCBleGNlc3NpdmUgYXJyYXkgYWxsb2NhdGlvbiBhbmQgc2xpY2luZyBmb3IgYWxsIDctYml0IGNoYXJhY3RlcnNcclxuXHRcdGxldCBhc2NpaSA9IHRydWUsIGxlbmd0aCA9IHN0ci5sZW5ndGg7XHJcblx0XHRmb3IgKGxldCB4ID0gMDsgeCA8IGxlbmd0aDsgeCsrKSB7XHJcblx0XHRcdGlmIChzdHIuY2hhckNvZGVBdCh4KSA+IDEyNykge1xyXG5cdFx0XHRcdGFzY2lpID0gZmFsc2U7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBCYXNlZCBvbjogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGFzY2FsZGVrbG9lLzYyNTQ2MTAzYTE1NzY4MDNkYWRlOTI2OWNjZjc2MzMwXHJcblx0XHRsZXQgaSA9IDAsIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc3RyLmxlbmd0aCAqIChhc2NpaSA/IDEgOiA0KSk7XHJcblx0XHRmb3IgKGxldCBjaSA9IDA7IGNpICE9PSBsZW5ndGg7IGNpKyspIHtcclxuXHRcdFx0bGV0IGMgPSBzdHIuY2hhckNvZGVBdChjaSk7XHJcblx0XHRcdGlmIChjIDwgMTI4KSB7XHJcblx0XHRcdFx0Ynl0ZXNbaSsrXSA9IGM7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGMgPCAyMDQ4KSB7XHJcblx0XHRcdFx0Ynl0ZXNbaSsrXSA9IGMgPj4gNiB8IDE5MjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpZiAoYyA+IDB4ZDdmZiAmJiBjIDwgMHhkYzAwKSB7XHJcblx0XHRcdFx0XHRpZiAoKytjaSA+PSBsZW5ndGgpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGVuY29kZTogaW5jb21wbGV0ZSBzdXJyb2dhdGUgcGFpclwiKTtcclxuXHRcdFx0XHRcdGxldCBjMiA9IHN0ci5jaGFyQ29kZUF0KGNpKTtcclxuXHRcdFx0XHRcdGlmIChjMiA8IDB4ZGMwMCB8fCBjMiA+IDB4ZGZmZilcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVVRGLTggZW5jb2RlOiBzZWNvbmQgc3Vycm9nYXRlIGNoYXJhY3RlciAweFwiICsgYzIudG9TdHJpbmcoMTYpICsgXCIgYXQgaW5kZXggXCIgKyBjaSArIFwiIG91dCBvZiByYW5nZVwiKTtcclxuXHRcdFx0XHRcdGMgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoYzIgJiAweDAzZmYpO1xyXG5cdFx0XHRcdFx0Ynl0ZXNbaSsrXSA9IGMgPj4gMTggfCAyNDA7XHJcblx0XHRcdFx0XHRieXRlc1tpKytdID0gYyA+PiAxMiAmIDYzIHwgMTI4O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGJ5dGVzW2krK10gPSBjID4+IDEyIHwgMjI0O1xyXG5cdFx0XHRcdGJ5dGVzW2krK10gPSBjID4+IDYgJiA2MyB8IDEyODtcclxuXHRcdFx0fVxyXG5cdFx0XHRieXRlc1tpKytdID0gYyAmIDYzIHwgMTI4O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGFzY2lpID8gYnl0ZXMgOiBieXRlcy5zdWJhcnJheSgwLCBpKTtcclxuXHR9XHJcblxyXG5cdC8vIERlY29kZXMgYSBzdHJpbmcgZnJvbSBVVEYtOCBieXRlcy5cclxuXHRmdW5jdGlvbiBkZWNvZGVVdGY4KGJ5dGVzLCBzdGFydCwgbGVuZ3RoKSB7XHJcblx0XHQvLyBCYXNlZCBvbjogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGFzY2FsZGVrbG9lLzYyNTQ2MTAzYTE1NzY4MDNkYWRlOTI2OWNjZjc2MzMwXHJcblx0XHRsZXQgaSA9IHN0YXJ0LCBzdHIgPSBcIlwiO1xyXG5cdFx0bGVuZ3RoICs9IHN0YXJ0O1xyXG5cdFx0d2hpbGUgKGkgPCBsZW5ndGgpIHtcclxuXHRcdFx0bGV0IGMgPSBieXRlc1tpKytdO1xyXG5cdFx0XHRpZiAoYyA+IDEyNykge1xyXG5cdFx0XHRcdGlmIChjID4gMTkxICYmIGMgPCAyMjQpIHtcclxuXHRcdFx0XHRcdGlmIChpID49IGxlbmd0aClcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDItYnl0ZSBzZXF1ZW5jZVwiKTtcclxuXHRcdFx0XHRcdGMgPSAoYyAmIDMxKSA8PCA2IHwgYnl0ZXNbaSsrXSAmIDYzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChjID4gMjIzICYmIGMgPCAyNDApIHtcclxuXHRcdFx0XHRcdGlmIChpICsgMSA+PSBsZW5ndGgpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAzLWJ5dGUgc2VxdWVuY2VcIik7XHJcblx0XHRcdFx0XHRjID0gKGMgJiAxNSkgPDwgMTIgfCAoYnl0ZXNbaSsrXSAmIDYzKSA8PCA2IHwgYnl0ZXNbaSsrXSAmIDYzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChjID4gMjM5ICYmIGMgPCAyNDgpIHtcclxuXHRcdFx0XHRcdGlmIChpICsgMiA+PSBsZW5ndGgpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGRlY29kZTogaW5jb21wbGV0ZSA0LWJ5dGUgc2VxdWVuY2VcIik7XHJcblx0XHRcdFx0XHRjID0gKGMgJiA3KSA8PCAxOCB8IChieXRlc1tpKytdICYgNjMpIDw8IDEyIHwgKGJ5dGVzW2krK10gJiA2MykgPDwgNiB8IGJ5dGVzW2krK10gJiA2MztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IHVua25vd24gbXVsdGlieXRlIHN0YXJ0IDB4XCIgKyBjLnRvU3RyaW5nKDE2KSArIFwiIGF0IGluZGV4IFwiICsgKGkgLSAxKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGMgPD0gMHhmZmZmKSBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcclxuXHRcdFx0ZWxzZSBpZiAoYyA8PSAweDEwZmZmZikge1xyXG5cdFx0XHRcdGMgLT0gMHgxMDAwMDtcclxuXHRcdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+IDEwIHwgMHhkODAwKVxyXG5cdFx0XHRcdHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgJiAweDNGRiB8IDB4ZGMwMClcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihcIlVURi04IGRlY29kZTogY29kZSBwb2ludCAweFwiICsgYy50b1N0cmluZygxNikgKyBcIiBleGNlZWRzIFVURi0xNiByZWFjaFwiKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHI7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgZXhwb3J0ZWQgZnVuY3Rpb25zXHJcblx0bGV0IG1zZ3BhY2sgPSB7XHJcblx0XHRzZXJpYWxpemU6IHNlcmlhbGl6ZSxcclxuXHRcdGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcclxuXHJcblx0XHQvLyBDb21wYXRpYmlsaXR5IHdpdGggb3RoZXIgbGlicmFyaWVzXHJcblx0XHRlbmNvZGU6IHNlcmlhbGl6ZSxcclxuXHRcdGRlY29kZTogZGVzZXJpYWxpemVcclxuXHR9O1xyXG5cclxuXHQvLyBFbnZpcm9ubWVudCBkZXRlY3Rpb25cclxuXHRpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHQvLyBOb2RlLmpzXHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IG1zZ3BhY2s7XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0Ly8gR2xvYmFsIG9iamVjdFxyXG5cdFx0d2luZG93W3dpbmRvdy5tc2dwYWNrSnNOYW1lIHx8IFwibXNncGFja1wiXSA9IG1zZ3BhY2s7XHJcblx0fVxyXG5cclxufSkoKTtcclxuIiwiaW1wb3J0IHtcbiAgQ09OVEVYVF9OQVZfUVVFUlksXG4gIEVWRU5UX0hVQl9RVUVSWSxcbiAgVkFSSUFCTEVTX1FVRVJZLFxufSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBqc29uRW5jb2RlIH0gZnJvbSBcIkB0YWlsanMvdHJhbnNwb3J0XCI7XG5pbXBvcnQge1xuICBGLFxuICBULFxuICBhbnNpLFxuICBpc0Z1bmN0aW9uLFxuICBpc09iamVjdCxcbiAgam9pbjIsXG4gIHBhcnNlVXJpLFxuICByZXBsYWNlLFxuICBzcGxpdCxcbiAgdHlwZSBOdWxsaXNoLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBkb2N1bWVudCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBFUlJfQlVGRkVSX09WRVJGTE9XID0gXCJidWZmZXItb3ZlcmZsb3dcIjtcbmV4cG9ydCBjb25zdCBFUlJfUE9TVF9GQUlMRUQgPSBcInBvc3QtZmFpbGVkXCI7XG5leHBvcnQgY29uc3QgRVJSX0lOVkFMSURfQ09NTUFORCA9IFwiaW52YWxpZC1jb21tYW5kXCI7XG5leHBvcnQgY29uc3QgRVJSX0lOVEVSTkFMX0VSUk9SID0gXCJpbnRlcm5hbC1lcnJvclwiO1xuZXhwb3J0IGNvbnN0IEVSUl9BUkdVTUVOVF9FUlJPUiA9IFwiaW52YWxpZC1hcmd1bWVudFwiO1xuZXhwb3J0IGNvbnN0IEVSUl9SRVNFUlZFRCA9IFwicmVzZXJ2ZWRcIjtcbmV4cG9ydCBjb25zdCBFUlJfQ09ORklHX0xPQ0tFRCA9IFwiY29uZmlnLWxvY2tlZFwiO1xuZXhwb3J0IGNvbnN0IEVSUl9EVVBMSUNBVEVfS0VZID0gXCJrZXlcIjtcblxuY29uc3Qgc3JjID0gc3BsaXQoXCJcIiArIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQhW1wic3JjXCJdLCBcIiNcIik7XG5jb25zdCBhcmdzID0gc3BsaXQoXCJcIiArIChzcmNbMV0gfHwgXCJcIiksIFwiO1wiKTtcblxuZXhwb3J0IGNvbnN0IFNDUklQVF9TUkMgPSBzcmNbMF07XG5leHBvcnQgY29uc3QgVFJBQ0tFUl9ET01BSU4gPVxuICBhcmdzWzFdIHx8IHBhcnNlVXJpKFNDUklQVF9TUkMsIHsgZGVsaW1pdGVyczogZmFsc2UgfSk/Lmhvc3QhO1xuXG5leHBvcnQgY29uc3QgaXNJbnRlcm5hbFVybCA9ICh1cmw6IHN0cmluZyB8IE51bGxpc2gpID0+XG4gICEhKFxuICAgIFRSQUNLRVJfRE9NQUlOICYmXG4gICAgcGFyc2VVcmkodXJsLCB7IGRlbGltaXRlcnM6IGZhbHNlIH0pPy5ob3N0Py5lbmRzV2l0aChUUkFDS0VSX0RPTUFJTikgPT09IFRcbiAgKTtcblxuZXhwb3J0IGNvbnN0IG1hcFVybCA9ICguLi51cmxQYXJ0czogc3RyaW5nW10pID0+XG4gIHJlcGxhY2Uoam9pbjIodXJsUGFydHMpLCAvKF4oPz1cXD8pKXwoXlxcLig/PVxcLykpLywgU0NSSVBUX1NSQy5zcGxpdChcIj9cIilbMF0pO1xuXG5leHBvcnQgY29uc3QgVkFSX1VSTCA9IG1hcFVybChcIj9cIiwgRVZFTlRfSFVCX1FVRVJZKTtcbmV4cG9ydCBjb25zdCBNTlRfVVJMID0gbWFwVXJsKFwiP1wiLCBDT05URVhUX05BVl9RVUVSWSk7XG5leHBvcnQgY29uc3QgVVNSX1VSTCA9IG1hcFVybChcIj9cIiwgVkFSSUFCTEVTX1FVRVJZKTtcblxuZXhwb3J0IGNvbnN0IGdyb3VwVmFsdWUgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBjaGlsZEdyb3VwcyA9IFN5bWJvbCgpO1xuXG5leHBvcnQgY29uc3QgZGVidWcgPSAoXG4gIHZhbHVlOiBhbnksXG4gIGdyb3VwPzogc3RyaW5nLFxuICBjb2xsYXBzZWQgPSBULFxuICBuZXN0ZWQgPSBGXG4pID0+IHtcbiAgZ3JvdXAgJiZcbiAgICAoY29sbGFwc2VkID8gY29uc29sZS5ncm91cENvbGxhcHNlZCA6IGNvbnNvbGUuZ3JvdXApKFxuICAgICAgKG5lc3RlZCA/IFwiXCIgOiBhbnNpKFwidGFpbC5qczogXCIsIFwiOTA7M1wiKSkgKyBncm91cFxuICAgICk7XG4gIGNvbnN0IGNoaWxkcmVuID0gdmFsdWU/LltjaGlsZEdyb3Vwc107XG4gIGNoaWxkcmVuICYmICh2YWx1ZSA9IHZhbHVlW2dyb3VwVmFsdWVdKTtcbiAgdmFsdWUgIT0gbnVsbCAmJlxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgaXNPYmplY3QodmFsdWUpXG4gICAgICAgID8gYW5zaShqc29uRW5jb2RlKHZhbHVlKSwgXCI5NFwiKVxuICAgICAgICA6IC8vID8gd2luZG93W1wiY2hyb21lXCJdXG4gICAgICAgIC8vICAgPyBwcmV0dHlQcmludCh2YWx1ZSkuam9pbihcIlwiKVxuICAgICAgICAvLyAgIDogSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsIDIpXG4gICAgICAgIGlzRnVuY3Rpb24odmFsdWUpXG4gICAgICAgID8gXCJcIiArIHZhbHVlXG4gICAgICAgIDogdmFsdWVcbiAgICApO1xuICBjaGlsZHJlbiAmJlxuICAgIGNoaWxkcmVuLmZvckVhY2goKFt2YWx1ZSwgZ3JvdXAsIGNvbGxhcHNlZF0pID0+XG4gICAgICBkZWJ1Zyh2YWx1ZSwgZ3JvdXAsIGNvbGxhcHNlZCwgdHJ1ZSlcbiAgICApO1xuXG4gIGdyb3VwICYmIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFdmVudCwgdHlwZSBOdWxsaXNoIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgRGVjb2RlciwgRW5jb2RlciwgY3JlYXRlVHJhbnNwb3J0IH0gZnJvbSBcIkB0YWlsanMvdHJhbnNwb3J0XCI7XG5pbXBvcnQgeyBERUJVRywgTk9UX0lOSVRJQUxJWkVEIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGNvbnN0IFtodHRwRW5jb2RlLCBodHRwRGVjb2RlXSA9IGNyZWF0ZVRyYW5zcG9ydCgpO1xuXG5leHBvcnQgbGV0IFtodHRwRW5jcnlwdCwgaHR0cERlY3J5cHRdID0gW1xuICBOT1RfSU5JVElBTElaRUQsXG4gIE5PVF9JTklUSUFMSVpFRCxcbl0gYXMgYW55IGFzIFtFbmNvZGVyLCBEZWNvZGVyXTtcblxuZXhwb3J0IGxldCBVU0VfRU5DUllQVElPTiA9IHRydWU7XG5cbmV4cG9ydCBjb25zdCBbYWRkRW5jcnlwdGlvbk5lZ290aWF0ZWRMaXN0ZW5lciwgZGlzcGF0Y2hFbmNyeXB0aW9uTmVnb3RpYXRlZF0gPVxuICBjcmVhdGVFdmVudDxbaHR0cEVuY3J5cHQ6IEVuY29kZXIsIGh0dHBEZWNyeXB0OiBEZWNvZGVyXT4oKTtcblxuZXhwb3J0IGNvbnN0IHNldFN0b3JhZ2VLZXkgPSAoa2V5OiBzdHJpbmcgfCBOdWxsaXNoKSA9PiB7XG4gIGlmIChodHRwRGVjcnlwdCAhPT0gTk9UX0lOSVRJQUxJWkVEKSByZXR1cm47XG5cbiAgW2h0dHBFbmNyeXB0LCBodHRwRGVjcnlwdF0gPSBjcmVhdGVUcmFuc3BvcnQoa2V5LCB7XG4gICAganNvbjogIWtleSxcbiAgICBwcmV0dGlmeTogZmFsc2UsXG4gIH0pO1xuXG4gIFVTRV9FTkNSWVBUSU9OID0gISFrZXk7XG5cbiAgZGlzcGF0Y2hFbmNyeXB0aW9uTmVnb3RpYXRlZChodHRwRW5jcnlwdCwgaHR0cERlY3J5cHQpO1xufTtcbiIsImltcG9ydCB7IE5vbkFzeW5jLCBpc1N0cmluZyB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBlcnJvckxvZ2dlciA9IChzb3VyY2U6IGFueSkgPT4gKGVycm9yOiBhbnkpID0+XHJcbiAgbG9nRXJyb3Ioc291cmNlLCBlcnJvcik7XHJcblxyXG5leHBvcnQgY29uc3QgbG9nRXJyb3I6IHtcclxuICAoc291cmNlOiBhbnksIG1lc3NhZ2U6IEVycm9yIHwgc3RyaW5nIHwgdW5kZWZpbmVkLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XHJcbiAgKHNvdXJjZTogYW55LCBhcmcxOiBFeGNsdWRlPE5vbkFzeW5jLCBzdHJpbmc+LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XHJcbn0gPSAoLi4uYXJnczogYW55W10pID0+IHtcclxuICBsZXQgc291cmNlID0gYXJncy5zaGlmdCgpO1xyXG4gIGxldCBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgaWYgKGFyZ3NbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgbWVzc2FnZSA9IGFyZ3NbMV0ubWVzc2FnZTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWVzc2FnZSA9IGlzU3RyaW5nKGFyZ3NbMV0pXHJcbiAgICAgID8gYXJncy5zaGlmdCgpXHJcbiAgICAgIDogYXJnc1sxXT8ubWVzc2FnZSA/PyBcIkFuIGVycm9yIG9jY3VycmVkXCI7XHJcbiAgfVxyXG4gIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgc291cmNlLmlkID8/IHNvdXJjZSwgLi4uYXJncyk7XHJcbn07XHJcbiIsImltcG9ydCB7IGNsb2NrLCBjcmVhdGVFdmVudCwgY3JlYXRlVGltZXIgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBsaXN0ZW4gfSBmcm9tIFwiLlwiO1xuXG50eXBlIFBhZ2VMb2FkTGlzdGVuZXJBcmdzID0gW2xvYWRlZDogYm9vbGVhbiwgc3RhdGVEdXJhdGlvbjogbnVtYmVyXTtcbmNvbnN0IFthZGRQYWdlTG9hZGVkTGlzdGVuZXIsIGRpc3BhdGNoUGFnZUxvYWRlZF0gPVxuICBjcmVhdGVFdmVudDxQYWdlTG9hZExpc3RlbmVyQXJncz4oKTtcblxuY29uc3QgW2FkZFBhZ2VWaXNpYmxlTGlzdGVuZXIsIGRpc3BhdGNoUGFnZVZpc2libGVdID1cbiAgY3JlYXRlRXZlbnQ8W3Zpc2libGU6IGJvb2xlYW4sIHVubG9hZGluZzogYm9vbGVhbiwgZGVsdGE6IG51bWJlcl0+KCk7XG5cbmNvbnN0IG1heWJlRGlzcGF0Y2hQYWdlTG9hZGVkID0gKG5ld0xvYWRlZDogYm9vbGVhbikgPT5cbiAgbG9hZGVkICE9PSAobG9hZGVkID0gbmV3TG9hZGVkKSAmJlxuICBkaXNwYXRjaFBhZ2VMb2FkZWQobG9hZGVkLCBzbGVlcFRpbWVyKHRydWUsIHRydWUpKTtcblxuY29uc3QgbWF5YmVEaXNwYXRjaFBhZ2VWaXNpYmxlID0gKGxvYWRlZDogYm9vbGVhbikgPT5cbiAgdmlzaWJsZSAhPT1cbiAgICAodmlzaWJsZSA9IGxvYWRlZCA/IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIgOiBmYWxzZSkgJiZcbiAgZGlzcGF0Y2hQYWdlVmlzaWJsZSh2aXNpYmxlLCAhbG9hZGVkLCB2aXNpYmxlVGltZXIodHJ1ZSwgdHJ1ZSkpO1xuXG4vLyBBIHZpc2liaWxpdHljaGFuZ2UgZXZlbnQgbWF5IG5vdCBiZSB0cmlnZ2VyZWQgaWYgdGhlIHBhZ2UgQkYgY2FjaGUgbG9hZHMvdW5sb2Fkcy5cbmFkZFBhZ2VMb2FkZWRMaXN0ZW5lcihtYXliZURpc3BhdGNoUGFnZVZpc2libGUpO1xuXG5sZXQgbG9hZGVkID0gdHJ1ZTtcbmxldCB2aXNpYmxlID0gZmFsc2U7XG5sZXQgdmlzaWJsZVRpbWVyID0gY3JlYXRlVGltZXIoZmFsc2UpO1xubGV0IHNsZWVwVGltZXIgPSBjcmVhdGVUaW1lcihmYWxzZSk7XG5cbmxpc3Rlbih3aW5kb3csIFtcInBhZ2VoaWRlXCIsIFwiZnJlZXplXCIsIFwiYmVmb3JldW5sb2FkXCJdLCAoKSA9PlxuICBtYXliZURpc3BhdGNoUGFnZUxvYWRlZChmYWxzZSlcbik7XG5saXN0ZW4od2luZG93LCBbXCJwYWdlc2hvd1wiLCBcInJlc3VtZVwiXSwgKCkgPT4gbWF5YmVEaXNwYXRjaFBhZ2VMb2FkZWQodHJ1ZSkpO1xubGlzdGVuKFxuICBkb2N1bWVudCxcbiAgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsXG4gICgpID0+IChcbiAgICBtYXliZURpc3BhdGNoUGFnZVZpc2libGUodHJ1ZSksIHZpc2libGUgJiYgbWF5YmVEaXNwYXRjaFBhZ2VMb2FkZWQodHJ1ZSlcbiAgKVxuKTtcblxuZGlzcGF0Y2hQYWdlTG9hZGVkKGxvYWRlZCwgc2xlZXBUaW1lcih0cnVlLCB0cnVlKSk7XG5cbnR5cGUgUGFnZUFjdGl2YXRlZExpc3RlbmVyQXJncyA9IFthY3RpdmF0ZWQ6IGJvb2xlYW4sIHRvdGFsRHVyYXRpb246IG51bWJlcl07XG5sZXQgYWN0aXZhdGVkID0gZmFsc2U7XG5sZXQgYWN0aXZlVGltZSA9IGNyZWF0ZVRpbWVyKGZhbHNlKTtcblxuY29uc3QgW2FkZFBhZ2VBY3RpdmF0ZWRMaXN0ZW5lciwgZGlzcGF0Y2hQYWdlQWN0aXZhdGVkXSA9XG4gIGNyZWF0ZUV2ZW50PFBhZ2VBY3RpdmF0ZWRMaXN0ZW5lckFyZ3M+KCk7XG5cbmNvbnN0IGFjdGl2YXRpb25UaW1lb3V0ID0gY2xvY2soe1xuICBjYWxsYmFjazogKCkgPT5cbiAgICBhY3RpdmF0ZWQgJiYgZGlzcGF0Y2hQYWdlQWN0aXZhdGVkKChhY3RpdmF0ZWQgPSBmYWxzZSksIGFjdGl2ZVRpbWUoZmFsc2UpKSxcbiAgZnJlcXVlbmN5OiAyMDAwMCxcbiAgb25jZTogdHJ1ZSxcbiAgcGF1c2VkOiB0cnVlLFxufSk7XG5jb25zdCBzZXRBY3RpdmF0ZWQgPSAoKSA9PlxuICAhYWN0aXZhdGVkICYmXG4gIChkaXNwYXRjaFBhZ2VBY3RpdmF0ZWQoKGFjdGl2YXRlZCA9IHRydWUpLCBhY3RpdmVUaW1lKHRydWUpKSxcbiAgYWN0aXZhdGlvblRpbWVvdXQucmVzdGFydCgpKTtcblxubGlzdGVuKHdpbmRvdywgW1wiZm9jdXNcIiwgXCJzY3JvbGxcIl0sIHNldEFjdGl2YXRlZCk7XG5saXN0ZW4od2luZG93LCBcImJsdXJcIiwgKCkgPT4gYWN0aXZhdGlvblRpbWVvdXQudHJpZ2dlcigpKTtcblxubGlzdGVuKFxuICBkb2N1bWVudC5ib2R5LFxuICBbXCJrZXlkb3duXCIsIFwicG9pbnRlcmRvd25cIiwgXCJwb2ludGVybW92ZVwiLCBcInNjcm9sbFwiXSxcbiAgc2V0QWN0aXZhdGVkXG4pO1xuXG5zZXRBY3RpdmF0ZWQoKTtcblxuZXhwb3J0IGNvbnN0IGdldEFjdGl2ZVRpbWUgPSAoKSA9PiBhY3RpdmVUaW1lKCk7XG5leHBvcnQge1xuICBhZGRQYWdlQWN0aXZhdGVkTGlzdGVuZXIsXG4gIGFkZFBhZ2VMb2FkZWRMaXN0ZW5lcixcbiAgYWRkUGFnZVZpc2libGVMaXN0ZW5lcixcbn07XG4iLCJpbXBvcnQgeyBDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IFV1aWRWNCwgVmFyaWFibGVHZXRSZXF1ZXN0LCBleHRyYWN0S2V5IH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIFBhcnRpYWxSZWNvcmQsXG4gIGFzc2lnbjIsXG4gIGNsb2NrLFxuICBjb25jYXQyLFxuICBjcmVhdGVFdmVudCxcbiAgZmlsdGVyMixcbiAgZm9yRWFjaDIsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBub3csXG4gIG9iajIsXG4gIHJlcGxhY2UsXG4gIHNldDIsXG4gIHNraXAyLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBIRUFSVEJFQVRfRlJFUVVFTkNZLFxuICBOT1RfSU5JVElBTElaRUQsXG4gIFZBUklBQkxFX0NBQ0hFX0RVUkFUSU9OLFxuICBhZGRFbmNyeXB0aW9uTmVnb3RpYXRlZExpc3RlbmVyLFxuICBhZGRQYWdlTG9hZGVkTGlzdGVuZXIsXG4gIGxpc3Rlbixcbn0gZnJvbSBcIi5cIjtcbmltcG9ydCB7XG4gIENsaWVudFZhcmlhYmxlLFxuICBDbGllbnRWYXJpYWJsZUtleSxcbiAgYW55VmFyaWFibGVTY29wZSxcbiAgc3RyaW5nVG9WYXJpYWJsZUtleSxcbiAgdmFyaWFibGVLZXlUb1N0cmluZyxcbn0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFiU3RhdGUge1xuICBpZDogc3RyaW5nO1xuICBoZWFydGJlYXQ6IG51bWJlcjtcbiAgdmlld0lkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlVmFyaWFibGVNZXRhZGF0YSB7XG4gIGNhY2hlPzogW3RpbWVzdGFtcDogbnVtYmVyLCB0dGw/OiBudW1iZXJdO1xufVxuXG5leHBvcnQgdHlwZSBTdGF0ZVZhcmlhYmxlPFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsU2NvcGUgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IENsaWVudFZhcmlhYmxlPFQsIExvY2FsU2NvcGU+ICYgU3RhdGVWYXJpYWJsZU1ldGFkYXRhO1xuXG5leHBvcnQgdHlwZSBTdGF0ZVZhcmlhYmxlRW50cnkgPSBbXG4gIGtleTogQ2xpZW50VmFyaWFibGVLZXksXG4gIHZhcmlhYmxlOiBTdGF0ZVZhcmlhYmxlIHwgdW5kZWZpbmVkXG5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlIHtcbiAga25vd25UYWJzOiBNYXA8c3RyaW5nLCBUYWJTdGF0ZT47XG4gIC8qKiBBbGwgdmFyaWFibGVzIGV4Y2VwdCBsb2NhbC4gKi9cbiAgdmFyaWFibGVzOiBNYXA8c3RyaW5nLCBTdGF0ZVZhcmlhYmxlPjtcbn1cblxubGV0IGxvY2FsSWQgPSAwO1xuXG5leHBvcnQgbGV0IFRBQl9JRDogc3RyaW5nID0gdW5kZWZpbmVkIGFzIGFueTtcbmV4cG9ydCBjb25zdCBuZXh0SWQgPSAoKSA9PiAoVEFCX0lEID8/IE5PVF9JTklUSUFMSVpFRCgpKSArIFwiX1wiICsgbmV4dExvY2FsSWQoKTtcbmV4cG9ydCBjb25zdCBuZXh0TG9jYWxJZCA9ICgpID0+XG4gIChub3codHJ1ZSkgLSAocGFyc2VJbnQoVEFCX0lELnNsaWNlKDAsIC0yKSwgMzYpIHx8IDApKS50b1N0cmluZygzNikgK1xuICBcIl9cIiArXG4gICgrK2xvY2FsSWQpLnRvU3RyaW5nKDM2KTtcblxuY29uc3QgcmFuZG9tVmFsdWVzID0gKGFyZzogYW55KSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFyZyk7XG5leHBvcnQgY29uc3QgdXVpZHY0ID0gKCk6IFV1aWRWNCA9PlxuICByZXBsYWNlKFxuICAgIChbMWU3XSBhcyBhbnkpICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEsXG4gICAgL1swMThdL2csXG4gICAgKGM6IGFueSkgPT4gKFxuICAgICAgKGMgKj0gMSksXG4gICAgICAoYyBeIChyYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgKDE1ID4+IChjIC8gNCkpKSkudG9TdHJpbmcoMTYpXG4gICAgKVxuICApO1xuXG4vKiogQWxsIHZhcmlhYmxlcywgYm90aCBsb2NhbCBhbmQgb3RoZXJzLiAqL1xubGV0IHRhYlZhcmlhYmxlcyA9IG5ldyBNYXA8c3RyaW5nLCBTdGF0ZVZhcmlhYmxlPigpO1xuXG5jb25zdCB0YWJTdGF0ZTogVGFiU3RhdGUgPSB7XG4gIGlkOiBUQUJfSUQsXG4gIGhlYXJ0YmVhdDogbm93KCksXG59O1xuXG5jb25zdCBzdGF0ZTogU3RhdGUgPSB7XG4gIGtub3duVGFiczogbmV3IE1hcChbW1RBQl9JRCwgdGFiU3RhdGVdXSksXG4gIHZhcmlhYmxlczogbmV3IE1hcCgpLFxufTtcblxudHlwZSBTdGF0ZU1lc3NhZ2UgPVxuICB8IHsgdHlwZTogXCJxdWVyeVwiOyBwYXlsb2FkPzogdW5kZWZpbmVkIH1cbiAgfCB7XG4gICAgICB0eXBlOiBcInNldFwiO1xuICAgICAgcGF5bG9hZDogW1xuICAgICAgICBrbm93blRhYnM6IFtzdHJpbmcsIFRhYlN0YXRlXVtdLFxuICAgICAgICB2YXJpYWJsZXM6IFtzdHJpbmcsIFN0YXRlVmFyaWFibGVdW11cbiAgICAgIF07XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IFwicGF0Y2hcIjtcbiAgICAgIHBheWxvYWQ6IFBhcnRpYWxSZWNvcmQ8c3RyaW5nLCBTdGF0ZVZhcmlhYmxlPjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogXCJ0YWJcIjtcbiAgICAgIHBheWxvYWQ6IFRhYlN0YXRlIHwgdW5kZWZpbmVkO1xuICAgIH07XG5cbmNvbnN0IFthZGRTdGF0ZUxpc3RlbmVyLCBkaXNwYXRjaFN0YXRlXSA9IGNyZWF0ZUV2ZW50PFxuICB8IFtldmVudDogXCJyZWFkeVwiLCBzdGF0ZTogU3RhdGUsIHNlbGY6IGJvb2xlYW5dXG4gIHwgW2V2ZW50OiBcInRhYlwiLCB0YWI6IFRhYlN0YXRlLCBzZWxmOiBib29sZWFuXVxuPigpO1xuXG5leHBvcnQgdHlwZSBTdGF0ZVZhcmlhYmxlQ2hhbmdlID0gcmVhZG9ubHkgW1xuICBrZXk6IENsaWVudFZhcmlhYmxlS2V5LFxuICBjdXJyZW50OiAoQ2xpZW50VmFyaWFibGUgJiBQaWNrPFZhcmlhYmxlR2V0UmVxdWVzdCwgXCJwYXNzaXZlXCI+KSB8IHVuZGVmaW5lZCxcbiAgcHJldmlvdXM6IENsaWVudFZhcmlhYmxlIHwgdW5kZWZpbmVkXG5dO1xuY29uc3QgW2FkZFZhcmlhYmxlc0NoYW5nZWRMaXN0ZW5lciwgZGlzcGF0Y2hWYXJpYWJsZXNDaGFuZ2VkXSA9XG4gIGNyZWF0ZUV2ZW50PFxuICAgIFtcbiAgICAgIGNoYW5nZXM6IFN0YXRlVmFyaWFibGVDaGFuZ2VbXSxcbiAgICAgIGFsbDogUmVhZG9ubHlNYXA8c3RyaW5nLCBTdGF0ZVZhcmlhYmxlPixcbiAgICAgIGxvY2FsOiBib29sZWFuXG4gICAgXVxuICA+KCk7XG5cbmV4cG9ydCB7IGFkZFZhcmlhYmxlc0NoYW5nZWRMaXN0ZW5lciB9O1xuXG5sZXQgcG9zdDogKG1lc3NhZ2U6IFN0YXRlTWVzc2FnZSwgdGFyZ2V0Pzogc3RyaW5nKSA9PiB2b2lkID0gTk9UX0lOSVRJQUxJWkVEO1xuXG5leHBvcnQgY29uc3QgdHJ5R2V0VmFyaWFibGUgPSAoXG4gIGtleTogQ2xpZW50VmFyaWFibGVLZXkgfCBzdHJpbmcsXG4gIHRpbWVzdGFtcCA9IG5vdygpXG4pOiBTdGF0ZVZhcmlhYmxlIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgdmFyaWFibGUgPSB0YWJWYXJpYWJsZXMuZ2V0KFxuICAgIGlzU3RyaW5nKGtleSkgPyBrZXkgOiB2YXJpYWJsZUtleVRvU3RyaW5nKGtleSlcbiAgKTtcbiAgcmV0dXJuIHZhcmlhYmxlPy5jYWNoZSAmJiB2YXJpYWJsZS5jYWNoZVswXSEgKyB2YXJpYWJsZS5jYWNoZVsxXSEgPD0gdGltZXN0YW1wXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IHZhcmlhYmxlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldExvY2FsVmFyaWFibGVzID0gKFxuICAuLi52YXJpYWJsZXM6IE9taXQ8XG4gICAgQ2xpZW50VmFyaWFibGU8YW55LCB0cnVlPixcbiAgICBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIiB8IFwidmVyc2lvblwiXG4gID5bXVxuKSA9PiB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5vdygpO1xuICByZXR1cm4gdXBkYXRlVmFyaWFibGVTdGF0ZShcbiAgICBtYXAyKHZhcmlhYmxlcywgKHZhcmlhYmxlKSA9PiB7XG4gICAgICAodmFyaWFibGUgYXMgU3RhdGVWYXJpYWJsZSkuY2FjaGUgPSBbdGltZXN0YW1wXTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGV4dHJhY3RLZXkodmFyaWFibGUpLFxuICAgICAgICB7IC4uLnZhcmlhYmxlLCBjcmVhdGVkOiB0aW1lc3RhbXAsIG1vZGlmaWVkOiB0aW1lc3RhbXAsIHZlcnNpb246IFwiMFwiIH0sXG4gICAgICBdO1xuICAgIH0pXG4gICk7XG59O1xuXG5jb25zdCBnZXRWYXJpYWJsZUNoYW5nZXMgPSAoXG4gIHZhcmlhYmxlczogKFN0YXRlVmFyaWFibGVFbnRyeSB8IHVuZGVmaW5lZClbXSB8IHVuZGVmaW5lZFxuKTogW1xuICBrZXk6IHN0cmluZyxcbiAgY3VycmVudDogU3RhdGVWYXJpYWJsZSB8IHVuZGVmaW5lZCxcbiAgcHJldmlvdXM6IFN0YXRlVmFyaWFibGUgfCB1bmRlZmluZWQsXG4gIHNvdXJjZUtleTogQ2xpZW50VmFyaWFibGVLZXlcbl1bXSA9PlxuICBtYXAyKHZhcmlhYmxlcywgKGN1cnJlbnQpID0+IHtcbiAgICBpZiAoIWN1cnJlbnQpIHJldHVybiBza2lwMjtcbiAgICBjb25zdCBrZXkgPSB2YXJpYWJsZUtleVRvU3RyaW5nKGN1cnJlbnRbMF0pO1xuICAgIGNvbnN0IHByZXZpb3VzID0gdGFiVmFyaWFibGVzLmdldChrZXkpO1xuICAgIHJldHVybiBwcmV2aW91cyAhPT0gY3VycmVudFsxXVxuICAgICAgPyBba2V5LCBjdXJyZW50WzFdLCBwcmV2aW91cywgY3VycmVudFswXV1cbiAgICAgIDogc2tpcDI7XG4gIH0pID8/IFtdO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVmFyaWFibGVTdGF0ZSA9IChcbiAgdXBkYXRlczogKFN0YXRlVmFyaWFibGVFbnRyeSB8IHVuZGVmaW5lZClbXSB8IHVuZGVmaW5lZFxuKSA9PiB7XG4gIC8vIENvbGxlY3Qgbm93IGJlZm9yZSB1cGRhdGluZyB0aGUgc3RhdGUsIGJ1dCBkaXNwYXRjaCBhZnRlciB0aGUgc3RhdGUgaGFzIGNoYW5nZWQuXG4gIGNvbnN0IGNoYW5nZXMgPSBnZXRWYXJpYWJsZUNoYW5nZXModXBkYXRlcyk7XG4gIGlmICghY2hhbmdlcz8ubGVuZ3RoKSByZXR1cm47XG5cbiAgY29uc3QgdGltZXN0YW1wID0gbm93KCk7XG4gIGZvckVhY2gyKGNoYW5nZXMsIChbLCBjdXJyZW50LCBwcmV2aW91c10pID0+IHtcbiAgICBpZiAoY3VycmVudCAmJiAhY3VycmVudC5jYWNoZSkge1xuICAgICAgY3VycmVudC5jYWNoZSA9IHByZXZpb3VzPy5jYWNoZSA/PyBbdGltZXN0YW1wLCBWQVJJQUJMRV9DQUNIRV9EVVJBVElPTl07XG4gICAgfVxuICB9KTtcbiAgYXNzaWduMih0YWJWYXJpYWJsZXMsIGNoYW5nZXMpO1xuXG4gIGNvbnN0IHNoYXJlZENoYW5nZXMgPSBmaWx0ZXIyKFxuICAgIGNoYW5nZXMsXG4gICAgKFssICwgLCBrZXldKSA9PiBhbnlWYXJpYWJsZVNjb3BlLmNvbXBhcmUoa2V5LnNjb3BlLCBcInRhYlwiKSA+IDBcbiAgKTtcblxuICBpZiAoc2hhcmVkQ2hhbmdlcy5sZW5ndGgpIHtcbiAgICBwb3N0KHsgdHlwZTogXCJwYXRjaFwiLCBwYXlsb2FkOiBvYmoyKHNoYXJlZENoYW5nZXMpIH0pO1xuICB9XG5cbiAgZGlzcGF0Y2hWYXJpYWJsZXNDaGFuZ2VkKFxuICAgIG1hcDIoY2hhbmdlcywgKFssIGN1cnJlbnQsIHByZXZpb3VzLCBrZXldKSA9PiBba2V5LCBjdXJyZW50LCBwcmV2aW91c10pLFxuICAgIHRhYlZhcmlhYmxlcyxcbiAgICB0cnVlXG4gICk7XG59O1xuXG5hZGRFbmNyeXB0aW9uTmVnb3RpYXRlZExpc3RlbmVyKChodHRwRW5jcnlwdCwgaHR0cERlY3J5cHQpID0+IHtcbiAgLy8gS2VlcCB0YWIgSUQgYW5kIHZhcmlhYmxlcyBiZXR3ZWVuIHBhZ2VzIGluIHRoZSBzYW1lIHRhYi5cbiAgYWRkUGFnZUxvYWRlZExpc3RlbmVyKChsb2FkZWQpID0+IHtcbiAgICBpZiAobG9hZGVkKSB7XG4gICAgICBjb25zdCBsb2NhbFN0YXRlID0gaHR0cERlY3J5cHQoXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oQ0xJRU5UX1NUQVRFX0NIQU5ORUxfSUQpXG4gICAgICApIGFzIFt0YWJJZDogc3RyaW5nLCB2YXJpYWJsZXM6IFN0YXRlVmFyaWFibGVbXV07XG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKENMSUVOVF9TVEFURV9DSEFOTkVMX0lEKTtcblxuICAgICAgVEFCX0lEID1cbiAgICAgICAgbG9jYWxTdGF0ZT8uWzBdID8/XG4gICAgICAgIG5vdyh0cnVlKS50b1N0cmluZygzNikgK1xuICAgICAgICAgIE1hdGgudHJ1bmMoMTI5NiAqIE1hdGgucmFuZG9tKCkpXG4gICAgICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgICAgICAucGFkU3RhcnQoMiwgXCIwXCIpO1xuXG4gICAgICB0YWJWYXJpYWJsZXMgPSBuZXcgTWFwKFxuICAgICAgICBjb25jYXQyKFxuICAgICAgICAgIGZpbHRlcjIodGFiVmFyaWFibGVzLCAoWywgdmFyaWFibGVdKSA9PiB2YXJpYWJsZT8uc2NvcGUgPT09IFwidmlld1wiKSxcbiAgICAgICAgICBtYXAyKGxvY2FsU3RhdGU/LlsxXSwgKHZhcmlhYmxlKSA9PiBbXG4gICAgICAgICAgICB2YXJpYWJsZUtleVRvU3RyaW5nKHZhcmlhYmxlKSxcbiAgICAgICAgICAgIHZhcmlhYmxlLFxuICAgICAgICAgIF0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgIENMSUVOVF9TVEFURV9DSEFOTkVMX0lELFxuICAgICAgICBodHRwRW5jcnlwdChbXG4gICAgICAgICAgVEFCX0lELFxuICAgICAgICAgIG1hcDIodGFiVmFyaWFibGVzLCAoWywgdmFyaWFibGVdKSA9PlxuICAgICAgICAgICAgdmFyaWFibGUgJiYgdmFyaWFibGUuc2NvcGUgIT09IFwidmlld1wiID8gdmFyaWFibGUgOiBza2lwMlxuICAgICAgICAgICksXG4gICAgICAgIF0pXG4gICAgICApO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG5cbiAgcG9zdCA9IChtZXNzYWdlOiBTdGF0ZU1lc3NhZ2UsIHRhcmdldD86IHN0cmluZykgPT4ge1xuICAgIGlmICghaHR0cEVuY3J5cHQpIHJldHVybjtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgIENMSUVOVF9TVEFURV9DSEFOTkVMX0lELFxuICAgICAgaHR0cEVuY3J5cHQoW1RBQl9JRCwgbWVzc2FnZSwgdGFyZ2V0XSlcbiAgICApO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENMSUVOVF9TVEFURV9DSEFOTkVMX0lEKTtcbiAgfTtcblxuICBsaXN0ZW4od2luZG93LCBcInN0b3JhZ2VcIiwgKGV2KSA9PiB7XG4gICAgaWYgKGV2LmtleSA9PT0gQ0xJRU5UX1NUQVRFX0NIQU5ORUxfSUQpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBodHRwRGVjcnlwdD8uKGV2Lm5ld1ZhbHVlKSBhcyBbXG4gICAgICAgIHNlbmRlcjogc3RyaW5nLFxuICAgICAgICBtZXNzYWdlOiBTdGF0ZU1lc3NhZ2UsXG4gICAgICAgIHRhcmdldD86IHN0cmluZ1xuICAgICAgXTtcbiAgICAgIGlmICghbWVzc2FnZSB8fCAobWVzc2FnZVsyXSAmJiBtZXNzYWdlWzJdICE9PSBUQUJfSUQpKSByZXR1cm47XG4gICAgICBjb25zdCBbc2VuZGVyLCB7IHR5cGUsIHBheWxvYWQgfV0gPSBtZXNzYWdlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gXCJxdWVyeVwiKSB7XG4gICAgICAgICFpbml0VGltZW91dC5hY3RpdmUgJiZcbiAgICAgICAgICBwb3N0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICBwYXlsb2FkOiBbbWFwMihzdGF0ZS5rbm93blRhYnMpLCBtYXAyKHN0YXRlLnZhcmlhYmxlcyldLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRlclxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwic2V0XCIgJiYgaW5pdFRpbWVvdXQuYWN0aXZlKSB7XG4gICAgICAgIHN0YXRlLmtub3duVGFicyA9IG5ldyBNYXAocGF5bG9hZFswXSk7XG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcyA9IG5ldyBNYXAocGF5bG9hZFsxXSk7XG4gICAgICAgIHRhYlZhcmlhYmxlcyA9IG5ldyBNYXAocGF5bG9hZFsxXSk7XG4gICAgICAgIGluaXRUaW1lb3V0LnRyaWdnZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJwYXRjaFwiKSB7XG4gICAgICAgIC8vIENvbGxlY3Qgbm93IGJlZm9yZSB1cGRhdGluZyB0aGUgc3RhdGUsIGJ1dCBkaXNwYXRjaCBhZnRlciB0aGUgc3RhdGUgaGFzIGNoYW5nZWQuXG4gICAgICAgIGNvbnN0IGNoYW5nZWRFdmVudERhdGEgPSBnZXRWYXJpYWJsZUNoYW5nZXMoXG4gICAgICAgICAgbWFwMihwYXlsb2FkLCAoW2tleSwgdmFsdWVdKSA9PiBbc3RyaW5nVG9WYXJpYWJsZUtleShrZXkpLCB2YWx1ZV0pXG4gICAgICAgICk7XG5cbiAgICAgICAgYXNzaWduMihzdGF0ZS52YXJpYWJsZXMsIHBheWxvYWQpO1xuICAgICAgICBhc3NpZ24yKHRhYlZhcmlhYmxlcywgcGF5bG9hZCk7XG5cbiAgICAgICAgZGlzcGF0Y2hWYXJpYWJsZXNDaGFuZ2VkKFxuICAgICAgICAgIG1hcDIoY2hhbmdlZEV2ZW50RGF0YSwgKFssIGN1cnJlbnQsIHByZXZpb3VzLCBrZXldKSA9PiBbXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgcHJldmlvdXMsXG4gICAgICAgICAgXSksXG4gICAgICAgICAgdGFiVmFyaWFibGVzLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidGFiXCIpIHtcbiAgICAgICAgc2V0MihzdGF0ZS5rbm93blRhYnMsIHNlbmRlciwgcGF5bG9hZCk7XG4gICAgICAgIHBheWxvYWQgJiYgZGlzcGF0Y2hTdGF0ZShcInRhYlwiLCBwYXlsb2FkLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBBZGQgYSBzaG9ydCBkZWxheSB0byBhbGxvdyBvdGhlciB0YWJzIHRvIHNoYXJlIHRoZWlyIGluZm9ybWF0aW9uIChpZiBhbnkpLlxuICBjb25zdCBpbml0VGltZW91dCA9IGNsb2NrKCgpID0+IGRpc3BhdGNoU3RhdGUoXCJyZWFkeVwiLCBzdGF0ZSwgdHJ1ZSksIC0yNSk7XG5cbiAgY29uc3QgaGVhcnRiZWF0ID0gY2xvY2soe1xuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gbm93KCkgLSBIRUFSVEJFQVRfRlJFUVVFTkNZICogMjtcbiAgICAgIGZvckVhY2gyKFxuICAgICAgICBzdGF0ZS5rbm93blRhYnMsXG4gICAgICAgIC8vIFJlbW92ZSB0YWJzIHRoYXQgbm8gbG9uZ2VyIHJlc3BvbmRzIChwcmVzdW1hYmx5IGNsb3NlZCBidXQgbWF5IGFsc28gaGF2ZSBiZWVuIGZyb3plbikuXG4gICAgICAgIChbdGFiSWQsIHRhYlN0YXRlXSkgPT5cbiAgICAgICAgICB0YWJTdGF0ZVswXSA8IHRpbWVvdXQgJiYgc2V0MihzdGF0ZS5rbm93blRhYnMsIHRhYklkLCB1bmRlZmluZWQpXG4gICAgICApO1xuICAgICAgdGFiU3RhdGUuaGVhcnRiZWF0ID0gbm93KCk7XG4gICAgICBwb3N0KHsgdHlwZTogXCJ0YWJcIiwgcGF5bG9hZDogdGFiU3RhdGUgfSk7XG4gICAgfSxcbiAgICBmcmVxdWVuY3k6IEhFQVJUQkVBVF9GUkVRVUVOQ1ksXG4gICAgcGF1c2VkOiB0cnVlLFxuICB9KTtcblxuICBjb25zdCB0b2dnbGVUYWIgPSAobG9hZGluZzogYm9vbGVhbikgPT4ge1xuICAgIHBvc3QoeyB0eXBlOiBcInRhYlwiLCBwYXlsb2FkOiBsb2FkaW5nID8gdGFiU3RhdGUgOiB1bmRlZmluZWQgfSk7XG4gICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgIGluaXRUaW1lb3V0LnJlc3RhcnQoKTtcbiAgICAgIHBvc3QoeyB0eXBlOiBcInF1ZXJ5XCIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRUaW1lb3V0LnRvZ2dsZShmYWxzZSk7XG4gICAgfVxuICAgIGhlYXJ0YmVhdC50b2dnbGUobG9hZGluZyk7XG4gIH07XG5cbiAgYWRkUGFnZUxvYWRlZExpc3RlbmVyKChsb2FkZWQpID0+IHRvZ2dsZVRhYihsb2FkZWQpLCB0cnVlKTtcbn0sIHRydWUpO1xuZXhwb3J0IHsgYWRkU3RhdGVMaXN0ZW5lciB9O1xuIiwiaW1wb3J0IHtcbiAgUHJldHRpZnlJbnRlcnNlY3Rpb24sXG4gIGNyZWF0ZUV2ZW50LFxuICBkZWxheSxcbiAgZm9yRWFjaEFzeW5jLFxuICBpc0Z1bmN0aW9uLFxuICBzdG9wLFxuICB0aHJvd0Vycm9yLFxuICB1bmRlZmluZWQsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFJFUVVFU1RfTE9DS19LRVksXG4gIFVTRV9FTkNSWVBUSU9OLFxuICBodHRwRGVjcnlwdCxcbiAgaHR0cEVuY3J5cHQsXG4gIHNoYXJlZExvY2ssXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zPEJlYWNvbiBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZT4gPVxuICBQcmV0dGlmeUludGVyc2VjdGlvbjxcbiAgICB7XG4gICAgICBlbmNyeXB0PzogYm9vbGVhbjtcbiAgICB9ICYgKEJlYWNvbiBleHRlbmRzIHRydWUgPyB7IGJlYWNvbjogdHJ1ZSB9IDogeyBiZWFjb24/OiBmYWxzZSB9KVxuICA+O1xuXG5jb25zdCBbYWRkUmVxdWVzdEhhbmRsZXIsIGRpc3BhdGNoUmVxdWVzdF0gPVxuICBjcmVhdGVFdmVudDxcbiAgICBbdXJsOiBzdHJpbmcsIGRhdGE6IGFueSwgcmV0cnk6IG51bWJlciwgdXBkYXRlOiAoZGF0YTogYW55KSA9PiB2b2lkXVxuICA+KCk7XG5jb25zdCBbYWRkUmVzcG9uc2VIYW5kbGVyLCBkaXNwYXRjaFJlc3BvbnNlXSA9IGNyZWF0ZUV2ZW50PFtyZXNwb25zZTogYW55XT4oKTtcbmV4cG9ydCB7IGFkZFJlcXVlc3RIYW5kbGVyLCBhZGRSZXNwb25zZUhhbmRsZXIgfTtcblxuY29uc3QgcmVxdWVzdExvY2sgPSBzaGFyZWRMb2NrKFJFUVVFU1RfTE9DS19LRVkpO1xuXG4vKipcbiAqIElmIGEgZnVuY3Rpb24sIHRoaXMgaXMgcnVuIGJlZm9yZSBhIHJlcXVlc3QgaXMgbWFkZSAoaW5jbHVkaW5nIHJldHJpZXMpLiBJdCBpcyBydW4gd2l0aGluIHRoZSBsb2NrLCBhbmQgYWxsb3dzIHRoZSByZXF1ZXN0ZWQgZGF0YSB0byBiZSBtb2RpZmllZC5cbiAqIElmIGl0IHJldHVybnMgZmFsc2UsIHRoZSByZXF1ZXN0IGlzIGFib3J0ZWQgYW5kIGlmIGl0IHJldHVybnMgYHVuZGVmaW5lZGAgb3IgYHRydWVgIHRoZSBleGlzdGluZyBkYXRhIGlzIHVzZWQuXG4gKi9cbnR5cGUgUmVxdWVzdERhdGE8VD4gPVxuICB8IFRcbiAgfCAoKGRhdGE6IFQgfCB1bmRlZmluZWQsIHJldHJ5OiBudW1iZXIpID0+IFQgfCBib29sZWFuIHwgdW5kZWZpbmVkKTtcblxuZXhwb3J0IGNvbnN0IHJlcXVlc3Q6IHtcbiAgPERhdGEgPSBhbnksIFJlc3BvbnNlID0gYW55PihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhOiBSZXF1ZXN0RGF0YTxEYXRhPixcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnM8ZmFsc2U+XG4gICk6IFByb21pc2U8UmVzcG9uc2U+O1xuICA8RGF0YSA9IGFueT4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogUmVxdWVzdERhdGE8RGF0YT4sXG4gICAgb3B0aW9uczogUmVxdWVzdE9wdGlvbnM8dHJ1ZT5cbiAgKTogdm9pZDtcbn0gPSBhc3luYyAoXG4gIHVybDogc3RyaW5nLFxuICBkYXRhOiBhbnksXG4gIHsgYmVhY29uID0gZmFsc2UsIGVuY3J5cHQgPSB0cnVlIH06IFJlcXVlc3RPcHRpb25zPGJvb2xlYW4+ID0ge31cbikgPT4ge1xuICBlbmNyeXB0ID0gZW5jcnlwdCAmJiBVU0VfRU5DUllQVElPTjtcbiAgbGV0IGNhbmNlbCA9IGZhbHNlO1xuICBsZXQgY3VycmVudERhdGE6IGFueTtcbiAgbGV0IHNlcmlhbGl6ZWQ6IGFueTtcblxuICBjb25zdCBwcmVwYXJlUmVxdWVzdERhdGEgPSAocmV0cnk6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBpc0Z1bmN0aW9uKGRhdGEpID8gZGF0YT8uKGN1cnJlbnREYXRhLCByZXRyeSkgOiBkYXRhO1xuICAgIGlmIChwcmVwYXJlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByZXBhcmVSZXN1bHQgIT0gbnVsbCAmJlxuICAgICAgcHJlcGFyZVJlc3VsdCAhPT0gdHJ1ZSAmJlxuICAgICAgKGN1cnJlbnREYXRhID0gcHJlcGFyZVJlc3VsdCk7XG5cbiAgICBkaXNwYXRjaFJlcXVlc3QoXG4gICAgICB1cmwsXG4gICAgICBjdXJyZW50RGF0YSxcbiAgICAgIHJldHJ5LFxuICAgICAgKG5ld0RhdGEpID0+IChcbiAgICAgICAgKGNhbmNlbCA9IGN1cnJlbnREYXRhID09PSB1bmRlZmluZWQpLCAoY3VycmVudERhdGEgPSBuZXdEYXRhKVxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gY2FuY2VsXG4gICAgICA/IGZhbHNlXG4gICAgICA6IChzZXJpYWxpemVkID0gZW5jcnlwdFxuICAgICAgICAgID8gaHR0cEVuY3J5cHQoY3VycmVudERhdGEsIHRydWUpXG4gICAgICAgICAgOiBKU09OLnN0cmluZ2lmeShjdXJyZW50RGF0YSkpO1xuICB9O1xuXG4gIGlmIChiZWFjb24pIHtcbiAgICBpZiAoIXByZXBhcmVSZXF1ZXN0RGF0YSgwKSkgcmV0dXJuO1xuICAgICFuYXZpZ2F0b3Iuc2VuZEJlYWNvbihcbiAgICAgIHVybCxcbiAgICAgIG5ldyBCbG9iKGN1cnJlbnREYXRhICE9IG51bGwgPyBbc2VyaWFsaXplZF0gOiBbXSwge1xuICAgICAgICAvLyBUaGlzIGNvbnRlbnQgdHlwZSBhdm9pZHMgdGhlIG92ZXJoZWFkIG9mIHRoZSBcInByZWZsaWdodFwiIHJlcXVlc3QgdGhhdCBpcyBvdGhlcndpc2UgbWFkZSBieSBicm93c2VycyBpbiBjcm9zcy1kb21haW4gc2NlbmFyaW9zLlxuICAgICAgICAvLyAoYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGNvdWxkIGFsc28gd29yaykuXG4gICAgICAgIHR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD1pc28tODg1OS0xXCIsXG4gICAgICB9KVxuICAgICkgJiYgdGhyb3dFcnJvcihcIkJlYWNvbiBzZW5kIGZhaWxlZC5cIik7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHJldHJpZXMgPSAxO1xuICAgIHJldHVybiBhd2FpdCByZXF1ZXN0TG9jaygoKSA9PlxuICAgICAgZm9yRWFjaEFzeW5jKDEsIGFzeW5jIChyZXRyeSkgPT4ge1xuICAgICAgICBpZiAoIXByZXBhcmVSZXF1ZXN0RGF0YShyZXRyeSkpIHJldHVybiBzdG9wKCk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICBtZXRob2Q6IGN1cnJlbnREYXRhICE9IG51bGwgPyBcIlBPU1RcIiA6IFwiR0VUXCIsXG4gICAgICAgICAgY2FjaGU6IFwibm8tY2FjaGVcIixcbiAgICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXG4gICAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PWlzby04ODU5LTFcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IHNlcmlhbGl6ZWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJldHJ5ID09PSByZXRyaWVzIC0gMVxuICAgICAgICAgICAgPyBzdG9wKHRocm93RXJyb3IoYEludmFsaWQgcmVzcG9uc2U6ICR7YXdhaXQgcmVzcG9uc2UudGV4dCgpfWApKVxuICAgICAgICAgICAgOiAoY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIGBSZXF1ZXN0IHRvICR7dXJsfSBmYWlsZWQgb24gYXR0ZW1wdCAke3JldHJ5ICsgMX0vJHszfS5gXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGF3YWl0IGRlbGF5KCgxICsgcmV0cnkpICogMjAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0gZW5jcnlwdFxuICAgICAgICAgID8gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICA6IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgICAgICBjb25zdCBwYXJzZWQgPSBib2R5Py5sZW5ndGhcbiAgICAgICAgICA/IChlbmNyeXB0ID8gaHR0cERlY3J5cHQgOiBKU09OLnBhcnNlKT8uKGJvZHkgYXMgYW55KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXJzZWQgIT0gbnVsbCkge1xuICAgICAgICAgIGRpc3BhdGNoUmVzcG9uc2UocGFyc2VkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RvcChwYXJzZWQpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgZGVsYXksXG4gIG5vdyxcbiAgcHJvbWlzZSxcbiAgcmFjZSxcbiAgdGhyb3dFcnJvcixcbiAgdHJ5Q2F0Y2hBc3luYyxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHtcbiAgVEFCX0lELFxuICBodHRwRGVjb2RlLFxuICBodHRwRGVjcnlwdCxcbiAgaHR0cEVuY29kZSxcbiAgaHR0cEVuY3J5cHQsXG4gIGxpc3Rlbixcbn0gZnJvbSBcIi5cIjtcblxuLyoqXG4gKiAgQSBsb2NrIHRoYXQgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRhYnMuXG4gKiBJdCB3b3VsZCBzZWVtIHRlbXB0aW5nIHRvIHVzZSB0aGUgYnJvd3NlcidzIG5hdGl2ZSBMb2NrTWFuYWdlciwgeWV0IHRoYXQgZGlzYWJsZXMgYmZfY2FjaGUsIHNvIHdlIGRvbid0LlxuICovXG5leHBvcnQgY29uc3Qgc2hhcmVkTG9jayA9IChcbiAgbG9ja0lkOiBzdHJpbmcsXG4gIHsgdGltZW91dCA9IDEwMDAsIGVuY3J5cHQgPSB0cnVlLCByZXRyaWVzOiBkZWZhdWx0UmV0cmllcyA9IDEwIH0gPSB7fVxuKTogKDxSLCBUTyBleHRlbmRzIG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZD4oXG4gIGFjdGlvbjogKCkgPT4gUHJvbWlzZUxpa2U8Uj4sXG4gIHRpbWVvdXQ/OiBUTyxcbiAgcmV0cmllcz86IG51bWJlclxuKSA9PiBQcm9taXNlPFRPIGV4dGVuZHMgbnVtYmVyID8gdW5kZWZpbmVkIHwgUiA6IFI+KSA9PiB7XG4gIHR5cGUgTG9ja1N0YXRlID0gW293bmVyOiBzdHJpbmcsIGV4cGlyZXM6IG51bWJlcl07XG4gIGNvbnN0IGdldCA9ICgpID0+XG4gICAgKGVuY3J5cHQgPyBodHRwRGVjcnlwdDxMb2NrU3RhdGU+IDogaHR0cERlY29kZTxMb2NrU3RhdGU+KShcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2tJZClcbiAgICApO1xuXG4gIGxldCBpbnRlcnZhbElkOiBhbnkgPSAwO1xuICBjb25zdCByZW5ldyA9ICgpID0+XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBsb2NrSWQsXG4gICAgICAoZW5jcnlwdCA/IGh0dHBFbmNyeXB0IDogaHR0cEVuY29kZSkoW1RBQl9JRCwgbm93KCkgKyB0aW1lb3V0XSlcbiAgICApO1xuXG4gIHJldHVybiAoYXN5bmMgKFxuICAgIGFjdGlvbjogYW55LFxuICAgIGxvY2FsVGltZW91dD86IG51bWJlcixcbiAgICByZXRyaWVzID0gbG9jYWxUaW1lb3V0ICE9IG51bGwgPyAxIDogZGVmYXVsdFJldHJpZXNcbiAgKSA9PiB7XG4gICAgd2hpbGUgKHJldHJpZXMtLSkge1xuICAgICAgbGV0IGN1cnJlbnQgPSBnZXQoKTtcbiAgICAgIGlmICghY3VycmVudCB8fCBjdXJyZW50WzFdIDwgbm93KCkpIHtcbiAgICAgICAgcmVuZXcoKTtcbiAgICAgICAgaWYgKGdldCgpPy5bMF0gPT09IFRBQl9JRCkge1xuICAgICAgICAgIC8vIEtlZXAgbG9jayBhbGl2ZSB3aGlsZSB0aGUgYWN0aW9uIGV4ZWN1dGVzLlxuICAgICAgICAgIHRpbWVvdXQgPiAwICYmIChpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gcmVuZXcoKSwgdGltZW91dCAvIDIpKTtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdHJ5Q2F0Y2hBc3luYyhhY3Rpb24sIHRydWUsICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShsb2NrSWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgd2FpdEhhbmRsZSA9IHByb21pc2UoKTtcbiAgICAgIGNvbnN0IFt1bmJpbmRdID0gbGlzdGVuKHdpbmRvdywgXCJzdG9yYWdlXCIsIChldikgPT4ge1xuICAgICAgICBpZiAoZXYua2V5ID09PSBsb2NrSWQgJiYgIWV2Lm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2FpdEhhbmRsZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgcmFjZShkZWxheShsb2NhbFRpbWVvdXQgPz8gdGltZW91dCksIHdhaXRIYW5kbGUpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfVxuICAgIGxvY2FsVGltZW91dCA9PSBudWxsICYmIHRocm93RXJyb3IobG9ja0lkICsgXCIgY291bGQgbm90IGJlIGFjcXVpcmVkLlwiKTtcbiAgfSkgYXMgYW55O1xufTtcbiIsImltcG9ydCB7XG4gIGV4dHJhY3RLZXksXG4gIGlzU3VjY2Vzc1Jlc3VsdCxcbiAgaXNWYXJpYWJsZVJlc3VsdCxcbiAgUG9zdFJlcXVlc3QsXG4gIFBvc3RSZXNwb25zZSxcbiAgdG9WYXJpYWJsZVJlc3VsdFByb21pc2UsXG4gIFZhcmlhYmxlR2V0UmVxdWVzdCxcbiAgVmFyaWFibGVHZXR0ZXIsXG4gIFZhcmlhYmxlS2V5LFxuICBWYXJpYWJsZU9wZXJhdGlvblBhcmFtZXRlcixcbiAgVmFyaWFibGVPcGVyYXRpb25SZXN1bHQsXG4gIFZhcmlhYmxlUmVzdWx0U3RhdHVzLFxuICBWYXJpYWJsZVNldHRlcixcbiAgVmFyaWFibGVWYWx1ZVNldHRlcixcbiAgV2l0aENhbGxiYWNrcyxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIGNsb2NrLFxuICBjb25jYXQyLFxuICBmb3JFYWNoMixcbiAgZ2V0MixcbiAgaXNTdHJpbmcsXG4gIG1hcDIsXG4gIG5vdyxcbiAgTnVsbGlzaCxcbiAgcGljazIsXG4gIHB1c2gyLFxuICByZW1vdmUsXG4gIHJlcXVpcmVkLFxuICBza2lwMixcbiAgc29tZTIsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIGFkZFBhZ2VMb2FkZWRMaXN0ZW5lcixcbiAgYWRkUmVzcG9uc2VIYW5kbGVyLFxuICBhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIsXG4gIGxvZ0Vycm9yLFxuICByZXF1ZXN0LFxuICBTdGF0ZVZhcmlhYmxlLFxuICBTdGF0ZVZhcmlhYmxlRW50cnksXG4gIFRyYWNrZXJDb250ZXh0LFxuICB0cnlHZXRWYXJpYWJsZSxcbiAgdXBkYXRlVmFyaWFibGVTdGF0ZSxcbiAgVkFSSUFCTEVfQ0FDSEVfRFVSQVRJT04sXG4gIFZBUklBQkxFX1BPTExfRlJFUVVFTkNZLFxufSBmcm9tIFwiLlwiO1xuaW1wb3J0IHtcbiAgQ2xpZW50VmFyaWFibGVHZXRSZXN1bHQsXG4gIENsaWVudFZhcmlhYmxlR2V0dGVyLFxuICBDbGllbnRWYXJpYWJsZUdldHRlckNhbGxiYWNrLFxuICBDbGllbnRWYXJpYWJsZUtleSxcbiAgQ2xpZW50VmFyaWFibGVTZXRSZXN1bHQsXG4gIENsaWVudFZhcmlhYmxlU2V0dGVyLFxuICBpc0xvY2FsU2NvcGVLZXksXG4gIG1hc2tFbnRpdHlJZCxcbiAgUmVzZXJ2ZWRUcmFja2VyVmFyaWFibGVzLFxuICBzdHJpbmdUb1ZhcmlhYmxlS2V5LFxuICB2YXJpYWJsZUtleVRvU3RyaW5nLFxufSBmcm9tIFwiLi5cIjtcblxuY29uc3QgS0VZX1BST1BTOiAoa2V5b2YgVmFyaWFibGVLZXkpW10gPSBbXCJzY29wZVwiLCBcImtleVwiLCBcImVudGl0eUlkXCIsIFwic291cmNlXCJdO1xuY29uc3QgR0VUVEVSX1JFUVVFU1RfUFJPUFM6IChrZXlvZiBDbGllbnRWYXJpYWJsZUdldHRlcilbXSA9IFtcbiAgLi4uS0VZX1BST1BTLFxuICBcInB1cnBvc2VcIixcbiAgXCJpZk1vZGlmaWVkU2luY2VcIixcbiAgXCJpZk5vbmVNYXRjaFwiLFxuICBcInBhc3NpdmVcIixcbl07XG5jb25zdCBTRVRURVJfUkVRVUVTVF9QUk9QUzogKGtleW9mIFZhcmlhYmxlVmFsdWVTZXR0ZXIpW10gPSBbXG4gIC4uLktFWV9QUk9QUyxcbiAgXCJ2YWx1ZVwiLFxuICBcImZvcmNlXCIsXG4gIFwidHRsXCIsXG4gIFwidmVyc2lvblwiLFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyVmFyaWFibGVTdG9yYWdlIHtcbiAgZ2V0PFxuICAgIEdldHRlcnMgZXh0ZW5kcyBWYXJpYWJsZU9wZXJhdGlvblBhcmFtZXRlcjxcbiAgICAgIFwiZ2V0XCIsXG4gICAgICBDbGllbnRWYXJpYWJsZUdldHRlciAmIHsga2V5OiBLZXlzOyBzY29wZTogU2NvcGVzIH1cbiAgICA+LFxuICAgIEtleXMgZXh0ZW5kcyBzdHJpbmcsXG4gICAgU2NvcGVzIGV4dGVuZHMgc3RyaW5nXG4gID4oXG4gICAgZ2V0dGVyczogV2l0aENhbGxiYWNrczxcImdldFwiLCBHZXR0ZXJzLCBSZXNlcnZlZFRyYWNrZXJWYXJpYWJsZXM+XG4gICk6IFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0PFxuICAgIFwiZ2V0XCIsXG4gICAgR2V0dGVycyxcbiAgICBDbGllbnRWYXJpYWJsZUtleSxcbiAgICBSZXNlcnZlZFRyYWNrZXJWYXJpYWJsZXNcbiAgPjtcblxuICBzZXQ8XG4gICAgU2V0dGVycyBleHRlbmRzIFZhcmlhYmxlT3BlcmF0aW9uUGFyYW1ldGVyPFxuICAgICAgXCJzZXRcIixcbiAgICAgIENsaWVudFZhcmlhYmxlU2V0dGVyICYgeyBrZXk6IEtleXM7IHNjb3BlOiBTY29wZXMgfVxuICAgID4sXG4gICAgS2V5cyBleHRlbmRzIHN0cmluZyxcbiAgICBTY29wZXMgZXh0ZW5kcyBzdHJpbmdcbiAgPihcbiAgICBzZXR0ZXJzOiBXaXRoQ2FsbGJhY2tzPFwic2V0XCIsIFNldHRlcnMsIFJlc2VydmVkVHJhY2tlclZhcmlhYmxlcz5cbiAgKTogVmFyaWFibGVPcGVyYXRpb25SZXN1bHQ8XG4gICAgXCJzZXRcIixcbiAgICBTZXR0ZXJzLFxuICAgIENsaWVudFZhcmlhYmxlS2V5LFxuICAgIFJlc2VydmVkVHJhY2tlclZhcmlhYmxlc1xuICA+O1xufVxuY29uc3QgY2FsbGJhY2tTb3VyY2VTeW1ib2wgPSBTeW1ib2woKTtcbnR5cGUgUmVnaXN0ZXJlZENhbGxiYWNrID0gQ2xpZW50VmFyaWFibGVHZXR0ZXJDYWxsYmFjayAmIHtcbiAgW2NhbGxiYWNrU291cmNlU3ltYm9sXTogQ2xpZW50VmFyaWFibGVHZXR0ZXI7XG59O1xuY29uc3QgYWN0aXZlQ2FsbGJhY2tzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxSZWdpc3RlcmVkQ2FsbGJhY2s+PigpO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVmFyaWFibGVTdG9yYWdlID0gKFxuICBlbmRwb2ludDogc3RyaW5nLFxuICBjb250ZXh0PzogVHJhY2tlckNvbnRleHRcbik6IFRyYWNrZXJWYXJpYWJsZVN0b3JhZ2UgPT4ge1xuICBjb25zdCBwb2xsVmFyaWFibGVzID0gY2xvY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGdldHRlcnM6IENsaWVudFZhcmlhYmxlR2V0dGVyW10gPSBtYXAyKFxuICAgICAgYWN0aXZlQ2FsbGJhY2tzLFxuICAgICAgKFtrZXksIGNhbGxiYWNrc10pID0+XG4gICAgICAgIC8vIE9ubHkgcmVxdWVzdCB0aGUgdmFyaWFibGUgaWYgb25lIG9yIG1vcmUgY2FsbGJhY2tzIG9yaWdpbmFsbHkgcmVxdWVzdGVkIHRoZSB2YXJpYWJsZSB0byBiZSByZWZyZXNoZWQuXG4gICAgICAgIHNvbWUyKGNhbGxiYWNrcywgKGNhbGxiYWNrKSA9PiBjYWxsYmFja1tjYWxsYmFja1NvdXJjZVN5bWJvbF0/LnJlZnJlc2gpXG4gICAgICAgICAgPyAoe1xuICAgICAgICAgICAgICAuLi5zdHJpbmdUb1ZhcmlhYmxlS2V5KGtleSksXG4gICAgICAgICAgICAgIHJlZnJlc2g6IHRydWUsXG4gICAgICAgICAgICB9IHNhdGlzZmllcyBDbGllbnRWYXJpYWJsZUdldHRlcilcbiAgICAgICAgICA6IHNraXAyXG4gICAgKTtcblxuICAgIGdldHRlcnMubGVuZ3RoICYmIChhd2FpdCB2YXJzLmdldChnZXR0ZXJzKSk7XG4gIH0sIFZBUklBQkxFX1BPTExfRlJFUVVFTkNZKTtcblxuICBjb25zdCByZWdpc3RlckNhbGxiYWNrID0gKFxuICAgIG1hcHBlZEtleTogc3RyaW5nLFxuICAgIGNhbGxiYWNrOiBSZWdpc3RlcmVkQ2FsbGJhY2sgfCB1bmRlZmluZWRcbiAgKSA9PlxuICAgIGNhbGxiYWNrICYmXG4gICAgISFnZXQyKGFjdGl2ZUNhbGxiYWNrcywgbWFwcGVkS2V5LCAoKSA9PiBuZXcgU2V0KCkpLmFkZChjYWxsYmFjayk7XG5cbiAgY29uc3QgaW52b2tlQ2FsbGJhY2tzID0gKHJlc3VsdDogQ2xpZW50VmFyaWFibGVHZXRSZXN1bHQpID0+IHtcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuO1xuXG4gICAgY29uc3Qga2V5ID0gdmFyaWFibGVLZXlUb1N0cmluZyhyZXN1bHQpO1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHJlbW92ZShhY3RpdmVDYWxsYmFja3MsIGtleSk7XG4gICAgaWYgKCFjYWxsYmFja3M/LnNpemUpIHJldHVybjtcblxuICAgIGZvckVhY2gyKFxuICAgICAgY2FsbGJhY2tzLFxuICAgICAgKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhyZXN1bHQpID09PSB0cnVlICYmIHJlZ2lzdGVyQ2FsbGJhY2soa2V5LCBjYWxsYmFjaylcbiAgICApO1xuICB9O1xuXG4gIGFkZFBhZ2VMb2FkZWRMaXN0ZW5lcihcbiAgICAobG9hZGVkLCBzdGF0ZUR1cmF0aW9uKSA9PlxuICAgICAgcG9sbFZhcmlhYmxlcy50b2dnbGUoXG4gICAgICAgIGxvYWRlZCxcbiAgICAgICAgbG9hZGVkICYmIHN0YXRlRHVyYXRpb24gPj0gVkFSSUFCTEVfUE9MTF9GUkVRVUVOQ1lcbiAgICAgICksXG4gICAgdHJ1ZVxuICApO1xuXG4gIGFkZFZhcmlhYmxlc0NoYW5nZWRMaXN0ZW5lcigoY2hhbmdlcykgPT5cbiAgICBmb3JFYWNoMihjaGFuZ2VzLCAoW2tleSwgY3VycmVudF0pID0+IHtcbiAgICAgIGlmIChjdXJyZW50Py5wYXNzaXZlKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50LnBhc3NpdmU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGludm9rZUNhbGxiYWNrcyhcbiAgICAgICAgY3VycmVudFxuICAgICAgICAgID8geyBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MsIC4uLmN1cnJlbnQgfVxuICAgICAgICAgIDogeyBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kLCAuLi5rZXkgfVxuICAgICAgKTtcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IHZhcnM6IFRyYWNrZXJWYXJpYWJsZVN0b3JhZ2UgPSB7XG4gICAgZ2V0OiAoKGdldHRlcnM6IENsaWVudFZhcmlhYmxlR2V0dGVyW10pID0+XG4gICAgICB0b1ZhcmlhYmxlUmVzdWx0UHJvbWlzZShcbiAgICAgICAgXCJnZXRcIixcbiAgICAgICAgZ2V0dGVycyxcbiAgICAgICAgYXN5bmMgKGdldHRlcnM6IENsaWVudFZhcmlhYmxlR2V0dGVyW10pID0+IHtcbiAgICAgICAgICBsZXQga2V5OiBzdHJpbmcgfCBOdWxsaXNoO1xuICAgICAgICAgIGlmICghZ2V0dGVyc1swXSB8fCBpc1N0cmluZyhnZXR0ZXJzWzBdKSkge1xuICAgICAgICAgICAga2V5ID0gZ2V0dGVyc1swXTtcbiAgICAgICAgICAgIGdldHRlcnMgPSBnZXR0ZXJzLnNsaWNlKDEpIGFzIGFueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGV4dD8udmFsaWRhdGVLZXkoa2V5KTtcblxuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgTWFwPFxuICAgICAgICAgICAgQ2xpZW50VmFyaWFibGVHZXR0ZXIsXG4gICAgICAgICAgICBDbGllbnRWYXJpYWJsZUdldFJlc3VsdFxuICAgICAgICAgID4oKTtcblxuICAgICAgICAgIGNvbnN0IG5ld0xvY2FsOiBTdGF0ZVZhcmlhYmxlRW50cnlbXSA9IFtdO1xuXG4gICAgICAgICAgY29uc3QgcmVxdWVzdEdldHRlcnM6IFtcbiAgICAgICAgICAgIHJlcXVlc3Q6IFZhcmlhYmxlR2V0UmVxdWVzdCxcbiAgICAgICAgICAgIHNvdXJjZTogQ2xpZW50VmFyaWFibGVHZXR0ZXJcbiAgICAgICAgICBdW10gPSBtYXAyKGdldHRlcnMsIChnZXR0ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHZhcmlhYmxlS2V5VG9TdHJpbmcoZ2V0dGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0cnlHZXRWYXJpYWJsZShrZXkpO1xuICAgICAgICAgICAgY29uc3QgcHVycG9zZSA9IGdldHRlci5wdXJwb3NlO1xuICAgICAgICAgICAgaWYgKHB1cnBvc2UgJiYgY3VycmVudD8uc2NoZW1hPy51c2FnZS5wdXJwb3Nlc1twdXJwb3NlXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICByZXN1bHRzLnNldChnZXR0ZXIsIHtcbiAgICAgICAgICAgICAgICAuLi5nZXR0ZXIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Gb3JiaWRkZW4sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGBObyBjb25zZW50IGZvciAnJHtwdXJwb3NlfScuYCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFnZXR0ZXIucmVmcmVzaCAmJiBjdXJyZW50KSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMuc2V0KGdldHRlciwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyxcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMb2NhbFNjb3BlS2V5KGdldHRlcikpIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXR0ZXIuaW5pdD8uKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWw6IFN0YXRlVmFyaWFibGUgPSB7XG4gICAgICAgICAgICAgICAgICAuLi5leHRyYWN0S2V5KGdldHRlciksXG4gICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBcIjFcIixcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICBjYWNoZTogW3RpbWVzdGFtcCwgZ2V0dGVyLnR0bCA/PyBjdXJyZW50Py50dGxdLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwdXNoMihuZXdMb2NhbCwgW2V4dHJhY3RLZXkobG9jYWwpLCBsb2NhbF0pO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMuc2V0KGdldHRlciwge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgLi4ubG9jYWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5zZXQoZ2V0dGVyLCB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kLFxuICAgICAgICAgICAgICAgICAgLi4uZXh0cmFjdEtleShnZXR0ZXIpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHBpY2syKGdldHRlciwgR0VUVEVSX1JFUVVFU1RfUFJPUFMpIGFzIFZhcmlhYmxlR2V0UmVxdWVzdCxcbiAgICAgICAgICAgICAgICBnZXR0ZXIsXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2tpcDI7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBub3coKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9XG4gICAgICAgICAgICAocmVxdWVzdEdldHRlcnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICBhd2FpdCByZXF1ZXN0PFBvc3RSZXF1ZXN0LCBQb3N0UmVzcG9uc2U+KGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBtYXAyKHJlcXVlc3RHZXR0ZXJzLCAoW2dldHRlcl0pID0+IGdldHRlciksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkOiBjb250ZXh0Py5kZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKT8udmFyaWFibGVzPy5nZXQpIHx8XG4gICAgICAgICAgICBbXTtcblxuICAgICAgICAgIGNvbnN0IGluaXRTZXR0ZXJzOiBbXG4gICAgICAgICAgICBzb3VyY2U6IENsaWVudFZhcmlhYmxlR2V0dGVyLFxuICAgICAgICAgICAgc2V0dGVyOiBDbGllbnRWYXJpYWJsZVNldHRlclxuICAgICAgICAgIF1bXSA9IFtdO1xuICAgICAgICAgIGZvckVhY2gyKHJlc3BvbnNlLCAocmVzdWx0LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0Py5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGdldHRlciA9IHJlcXVlc3RHZXR0ZXJzW2ldWzFdO1xuICAgICAgICAgICAgICBjb25zdCBpbml0VmFsdWUgPSBnZXR0ZXIuaW5pdD8uKCk7XG4gICAgICAgICAgICAgIGlmIChpbml0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGluaXRTZXR0ZXJzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgZ2V0dGVyLFxuICAgICAgICAgICAgICAgICAgeyAuLi5leHRyYWN0S2V5KGdldHRlciksIHZhbHVlOiBpbml0VmFsdWUgfSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5zZXQocmVxdWVzdEdldHRlcnNbaV1bMV0sIG1hc2tFbnRpdHlJZChyZXN1bHQhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaW5pdFNldHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICAgICAgYXdhaXQgdmFycy5zZXQobWFwMihpbml0U2V0dGVycywgKFssIHNldHRlcl0pID0+IHNldHRlcikpLmFsbCgpLFxuICAgICAgICAgICAgICAocmVzdWx0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHMuc2V0KFxuICAgICAgICAgICAgICAgICAgaW5pdFNldHRlcnNbaV1bMF0sXG4gICAgICAgICAgICAgICAgICBtYXNrRW50aXR5SWQoXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNvbmZsaWN0XG4gICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIDogcmVzdWx0LnN0YXR1cyA9PT0gVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ucmVzdWx0LCBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5ld0xvY2FsLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGZpcnN0IGJlZm9yZSBpbnZva2luZyBnZXR0ZXIgY2FsbGJhY2tzLFxuICAgICAgICAgICAgLy8gc2luY2UgcG9sbGluZyBjYWxsYmFja3Mgb25seSBnZXQgc3VjY2VzcyBvciBub3QgZm91bmQgcmVzdWx0cy5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgYWN0dWFsIHJlc3VsdCBtdXN0IGJlIHVzZWQgZm9yIHRoZSBjYWxsYmFjayBmaXJzdCB0aW1lIGl0IGlzIGNhbGxlZC5cbiAgICAgICAgICAgIHVwZGF0ZVZhcmlhYmxlU3RhdGUobmV3TG9jYWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcG9sbDogKHNvdXJjZTogVmFyaWFibGVHZXR0ZXIsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFja1tjYWxsYmFja1NvdXJjZVN5bWJvbF0gPSBzb3VyY2U7XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJDYWxsYmFjayhcbiAgICAgICAgICAgICAgdmFyaWFibGVLZXlUb1N0cmluZyhzb3VyY2UgYXMgYW55KSxcbiAgICAgICAgICAgICAgY2FsbGJhY2sgYXMgYW55XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9nQ2FsbGJhY2tFcnJvcjogKG1lc3NhZ2UsIG9wZXJhdGlvbiwgZXJyb3IpID0+XG4gICAgICAgICAgICBsb2dFcnJvcihcIlZhcmlhYmxlcy5nZXRcIiwgbWVzc2FnZSwgeyBvcGVyYXRpb24sIGVycm9yIH0pLFxuICAgICAgICB9XG4gICAgICApKSBhcyBhbnksXG5cbiAgICBzZXQ6ICgoc2V0dGVyczogQ2xpZW50VmFyaWFibGVTZXR0ZXJbXSkgPT5cbiAgICAgIHRvVmFyaWFibGVSZXN1bHRQcm9taXNlKFxuICAgICAgICBcInNldFwiLFxuICAgICAgICBzZXR0ZXJzLFxuICAgICAgICBhc3luYyAoc2V0dGVyczogQ2xpZW50VmFyaWFibGVTZXR0ZXJbXSkgPT4ge1xuICAgICAgICAgIGxldCBrZXk6IHN0cmluZyB8IE51bGxpc2g7XG4gICAgICAgICAgaWYgKCFzZXR0ZXJzWzBdIHx8IGlzU3RyaW5nKHNldHRlcnNbMF0pKSB7XG4gICAgICAgICAgICBrZXkgPSBzZXR0ZXJzWzBdO1xuICAgICAgICAgICAgc2V0dGVycyA9IHNldHRlcnMuc2xpY2UoMSkgYXMgYW55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZXh0Py52YWxpZGF0ZUtleShrZXkpO1xuXG4gICAgICAgICAgY29uc3QgbG9jYWxSZXN1bHRzOiBTdGF0ZVZhcmlhYmxlRW50cnlbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgTWFwPFxuICAgICAgICAgICAgQ2xpZW50VmFyaWFibGVTZXR0ZXIsXG4gICAgICAgICAgICBDbGllbnRWYXJpYWJsZVNldFJlc3VsdFxuICAgICAgICAgID4oKTtcblxuICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5vdygpO1xuXG4gICAgICAgICAgbGV0IHBlbmRpbmdQYXRjaGVzOiBDbGllbnRWYXJpYWJsZVNldHRlcltdID0gW107XG5cbiAgICAgICAgICAvLyBPbmx5IHJlcXVlc3Qgbm9uLW51bGwgc2V0dGVycywgYW5kIHVzZSB0aGUgbW9zdCByZWNlbnQgdmVyc2lvbiB3ZSBoYXZlIGFscmVhZHkgcmVhZCwgaWYgYW55LlxuICAgICAgICAgIGNvbnN0IHJlcXVlc3RWYXJpYWJsZXMgPSBtYXAyKHNldHRlcnMsIChzZXR0ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHZhcmlhYmxlS2V5VG9TdHJpbmcoc2V0dGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0cnlHZXRWYXJpYWJsZShrZXkpO1xuXG4gICAgICAgICAgICBpZiAoaXNMb2NhbFNjb3BlS2V5KHNldHRlcikpIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzZXR0ZXIucGF0Y2hcbiAgICAgICAgICAgICAgICA/IHNldHRlci5wYXRjaChjdXJyZW50Py52YWx1ZSlcbiAgICAgICAgICAgICAgICA6IHNldHRlci52YWx1ZTtcblxuICAgICAgICAgICAgICBsZXQgbG9jYWw6IFN0YXRlVmFyaWFibGUgfCB1bmRlZmluZWQgPVxuICAgICAgICAgICAgICAgIHZhbHVlID09IG51bGxcbiAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5leHRyYWN0S2V5KHNldHRlciksXG4gICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogY3VycmVudD8uY3JlYXRlZCA/PyB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBjdXJyZW50Py52ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCIgKyAocGFyc2VJbnQoY3VycmVudC52ZXJzaW9uKSArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiBzZXR0ZXIuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAga2V5OiBzZXR0ZXIua2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBbdGltZXN0YW1wLCBzZXR0ZXIudHRsXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICAgICAgICBsb2NhbC5jYWNoZSA9IFtcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIHNldHRlci50dGwgPz8gVkFSSUFCTEVfQ0FDSEVfRFVSQVRJT04sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJlc3VsdHMuc2V0KFxuICAgICAgICAgICAgICAgIHNldHRlcixcbiAgICAgICAgICAgICAgICAhbG9jYWxcbiAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAuLi5leHRyYWN0S2V5KHNldHRlciksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNyZWF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgLi4ubG9jYWwsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwdXNoMihsb2NhbFJlc3VsdHMsIFtleHRyYWN0S2V5KHNldHRlciksIGxvY2FsXSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHNraXAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2V0dGVyLnBhdGNoKSB7XG4gICAgICAgICAgICAgIHBlbmRpbmdQYXRjaGVzLnB1c2goc2V0dGVyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNraXAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2V0dGVyPy52ZXJzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc2V0dGVyLnZlcnNpb24gPSBjdXJyZW50Py52ZXJzaW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW3BpY2syKHNldHRlciwgU0VUVEVSX1JFUVVFU1RfUFJPUFMgYXMgYW55KSwgc2V0dGVyXTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICAgICAgd2hpbGUgKCFhdHRlbXB0cysrIHx8IHBlbmRpbmdQYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGF3YWl0IHZhcnNcbiAgICAgICAgICAgICAgLmdldChtYXAyKHBlbmRpbmdQYXRjaGVzLCAocGF0Y2gpID0+IGV4dHJhY3RLZXkocGF0Y2gpKSlcbiAgICAgICAgICAgICAgLmFsbCgpO1xuICAgICAgICAgICAgZm9yRWFjaDIoY3VycmVudCwgKHJlc3VsdCwgaSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzZXR0ZXIgPSBwZW5kaW5nUGF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzUmVzdWx0KHJlc3VsdCwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgcHVzaDIocmVxdWVzdFZhcmlhYmxlcywgW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5zZXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwZW5kaW5nUGF0Y2hlc1tpXS5wYXRjaCEocmVzdWx0Py52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHJlc3VsdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHNldHRlcixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnNldChzZXR0ZXIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGVuZGluZ1BhdGNoZXMgPSBbXTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAhcmVxdWVzdFZhcmlhYmxlcy5sZW5ndGhcbiAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICA6IHJlcXVpcmVkKFxuICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXF1ZXN0PFBvc3RSZXF1ZXN0LCBQb3N0UmVzcG9uc2U+KGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IG1hcDIocmVxdWVzdFZhcmlhYmxlcywgKFtzZXR0ZXJdKSA9PiBzZXR0ZXIpLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkOiBjb250ZXh0Py5kZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICApLnZhcmlhYmxlcz8uc2V0LFxuICAgICAgICAgICAgICAgICAgXCJObyByZXN1bHQuXCJcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3JFYWNoMihyZXNwb25zZSwgKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgWywgc2V0dGVyXSA9IHJlcXVlc3RWYXJpYWJsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYXR0ZW1wdHMgPD0gMyAmJlxuICAgICAgICAgICAgICAgIHNldHRlci5wYXRjaCAmJlxuICAgICAgICAgICAgICAgIChyZXN1bHQ/LnN0YXR1cyA9PT0gVmFyaWFibGVSZXN1bHRTdGF0dXMuQ29uZmxpY3QgfHxcbiAgICAgICAgICAgICAgICAgIHJlc3VsdD8uc3RhdHVzID09PSBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHVzaDIocGVuZGluZ1BhdGNoZXMsIHNldHRlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlc3VsdHMuc2V0KHNldHRlciwgbWFza0VudGl0eUlkKHJlc3VsdCEpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsb2NhbFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB1cGRhdGVWYXJpYWJsZVN0YXRlKGxvY2FsUmVzdWx0cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsb2dDYWxsYmFja0Vycm9yOiAobWVzc2FnZSwgb3BlcmF0aW9uLCBlcnJvcikgPT5cbiAgICAgICAgICAgIGxvZ0Vycm9yKFwiVmFyaWFibGVzLnNldFwiLCBtZXNzYWdlLCB7IG9wZXJhdGlvbiwgZXJyb3IgfSksXG4gICAgICAgIH1cbiAgICAgICkpIGFzIGFueSxcbiAgfTtcblxuICBhZGRSZXNwb25zZUhhbmRsZXIoKHsgdmFyaWFibGVzIH06IFBvc3RSZXNwb25zZSkgPT4ge1xuICAgIGlmICghdmFyaWFibGVzKSByZXR1cm47XG5cbiAgICBjb25zdCBjaGFuZ2VkID0gY29uY2F0MihcbiAgICAgIG1hcDIodmFyaWFibGVzLmdldCwgKHJlc3VsdCkgPT5cbiAgICAgICAgaXNWYXJpYWJsZVJlc3VsdChyZXN1bHQpID8gcmVzdWx0IDogc2tpcDJcbiAgICAgICksXG4gICAgICBtYXAyKHZhcmlhYmxlcy5zZXQsIChyZXN1bHQpID0+XG4gICAgICAgIGlzU3VjY2Vzc1Jlc3VsdChyZXN1bHQpID8gcmVzdWx0IDogc2tpcDJcbiAgICAgIClcbiAgICApO1xuXG4gICAgY2hhbmdlZD8ubGVuZ3RoICYmXG4gICAgICB1cGRhdGVWYXJpYWJsZVN0YXRlKFxuICAgICAgICBtYXAyKFxuICAgICAgICAgIGNoYW5nZWQsXG4gICAgICAgICAgKHJlc3VsdCkgPT5cbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgZXh0cmFjdEtleShyZXN1bHQpLFxuICAgICAgICAgICAgICBpc1N1Y2Nlc3NSZXN1bHQocmVzdWx0KSA/IHJlc3VsdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIF0gYXMgYW55XG4gICAgICAgIClcbiAgICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiB2YXJzIGFzIGFueTtcbn07XG4iLCJpbXBvcnQge1xuICBDb25maWd1cmVkQ29tcG9uZW50LFxuICBJbXByZXNzaW9uRXZlbnQsXG4gIEltcHJlc3Npb25SZWdpb25TdGF0cyxcbiAgSW1wcmVzc2lvblRleHRTdGF0cyxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIEludGVydmFscyxcbiAgTm9PcEZ1bmN0aW9uLFxuICBOdWxsaXNoLFxuICBULFxuICBUZXh0U3RhdHMsXG4gIFRpbWVyLFxuICBhc3NpZ24sXG4gIGNsb2NrLFxuICBjb3VudCxcbiAgY3JlYXRlSW50ZXJ2YWxzLFxuICBjcmVhdGVUaW1lcixcbiAgZmlsdGVyMixcbiAgZm9yRWFjaDIsXG4gIGdldFRleHRTdGF0cyxcbiAgbWFwMixcbiAgcmVzdHJpY3QsXG4gIHNraXAyLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBkb2N1bWVudCxcbiAgZ2V0QWN0aXZlVGltZSxcbiAgZ2V0U2NyZWVuUG9zLFxuICBnZXRWaWV3cG9ydCxcbiAgdHJhY2tlckNvbmZpZyxcbiAgdHJhY2tlckZsYWcsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQge1xuICBCb3VuZGFyeURhdGEsXG4gIFRyYWNrZXIsXG4gIGNyZWF0ZVZpZXdEdXJhdGlvblRpbWVyLFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbn0gZnJvbSBcIi4uXCI7XG5cbmNvbnN0IGludGVyc2VjdGlvbkhhbmRsZXIgPSBTeW1ib2woKTtcblxuY29uc3QgSU5URVJTRUNUSU9OX1BPTExfSU5URVJWQUwgPSAyNTA7XG5cbnR5cGUgSW1wcmVzc2lvblRocmVzaG9sZCA9IFtvd25SYXRpbzogbnVtYmVyLCB2aWV3cG9ydFJhdGlvOiBudW1iZXJdO1xuXG4vKiogVGhlIGFtb3VudCBvZiB0aGUgY29tcG9uZW50IHRoYXQgbXVzdCBiZSB2aXNpYmxlIGZvciB0aGUgaW1wcmVzc2lvbiB0byBjb3VudC4gKi9cbmNvbnN0IElNUFJFU1NJT05fU1RBUlQgPSBbMC43NSwgMC4zM107XG5cbi8qKiBUaGUgaW1wcmVzc2lvbiBzdG9wcyB3aGVuIG9ubHkgdGhpcyBhbW91bnQgb2YgdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlLiAqL1xuY29uc3QgSU1QUkVTU0lPTl9TVE9QID0gWzAuMjUsIDAuMzNdO1xuXG4vKiogVGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHRvdGFsIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvbnRhaW5lZCBpbiB0aGUgdG9wIHJlZ2lvbi4gKi9cbmNvbnN0IFRFWFRfUkVHSU9OX1RPUCA9IDAuMjU7XG5cbi8qIFRoZSBwZXJjZW50YWdlIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBiZWZvcmUgdGhlIGJvdHRvbSByZWdpb24uICovXG5jb25zdCBURVhUX1JFR0lPTl9CT1RUT00gPSAwLjc1O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSW1wcmVzc2lvbk9ic2VydmVyID0gKHRyYWNrZXI6IFRyYWNrZXIpID0+IHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgKGVscykgPT4gZm9yRWFjaDIoZWxzLCAoYXJncykgPT4gYXJncy50YXJnZXRbaW50ZXJzZWN0aW9uSGFuZGxlcl0/LihhcmdzKSlcbiAgICAvLyBMb3cgdGhyZXNob2xkcyB1c2VkIHRvIGJlIGFibGUgdG8gaGFuZGxlIGNvbXBvbmVudHMgbGFyZ2VyIHRoYW4gdmlldyBwb3J0cy5cbiAgKTtcblxuICBjb25zdCBjdXJyZW50SW50ZXJzZWN0aW9ucyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuICBjb25zdCBtb25pdG9yID0gY2xvY2soe1xuICAgIGNhbGxiYWNrOiAoKSA9PiBmb3JFYWNoMihjdXJyZW50SW50ZXJzZWN0aW9ucywgKGhhbmRsZXIpID0+IGhhbmRsZXIoKSksXG4gICAgZnJlcXVlbmN5OiBJTlRFUlNFQ1RJT05fUE9MTF9JTlRFUlZBTCxcbiAgICByYWY6IHRydWUsXG4gIH0pO1xuXG4gIGNvbnN0IGNvbnN0cmFpbiA9IChwb2ludDogbnVtYmVyLCBtYXg6IG51bWJlciwgbWluID0gMCkgPT5cbiAgICBwb2ludCA8IG1pbiA/IG1pbiA6IHBvaW50ID4gbWF4ID8gbWF4IDogcG9pbnQ7XG5cbiAgY29uc3QgcHJvYmVSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgcmV0dXJuIChlbDogRWxlbWVudCwgYm91bmRhcnlEYXRhOiBCb3VuZGFyeURhdGE8dHJ1ZT4gfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIWJvdW5kYXJ5RGF0YSkgcmV0dXJuO1xuXG4gICAgbGV0IGNvbXBvbmVudHM6IENvbmZpZ3VyZWRDb21wb25lbnRbXSB8IE51bGxpc2g7XG4gICAgaWYgKFxuICAgICAgKGNvbXBvbmVudHMgPSBmaWx0ZXIyKFxuICAgICAgICBib3VuZGFyeURhdGE/LmNvbXBvbmVudCxcbiAgICAgICAgKGNtcCkgPT5cbiAgICAgICAgICAvLyBJbXByZXNzaW9uIHNldHRpbmdzIGZyb20gdGhlIERPTS9DU1MgYXJlIGlnbm9yZWQgZm9yIHNlY29uZGFyeSBhbmQgaW5mZXJyZWQgY29tcG9uZW50cyAocGVyZm9ybWFuY2UgdGhpbmcpXG4gICAgICAgICAgY21wIS50cmFjaz8uaW1wcmVzc2lvbnMgfHxcbiAgICAgICAgICAoY21wLnRyYWNrPy5zZWNvbmRhcnkgPz8gY21wLmluZmVycmVkKSAhPT0gVFxuICAgICAgKSlcbiAgICApIHtcbiAgICAgIGlmICghY291bnQoY29tcG9uZW50cykpIHJldHVybjtcblxuICAgICAgbGV0IGFjdGl2ZSA9IEY7XG4gICAgICBsZXQgcGVuZGluZ0FjdGl2ZSA9IEY7XG4gICAgICBsZXQgaW1wcmVzc2lvbnMgPSAwO1xuICAgICAgbGV0IHZpc2libGVQZXJjZW50YWdlID0gMDtcbiAgICAgIGxldCByZWdpb25zOlxuICAgICAgICB8IFtcbiAgICAgICAgICAgIGRhdGE6IEltcHJlc3Npb25SZWdpb25TdGF0cyxcbiAgICAgICAgICAgIHRpbWVyOiBUaW1lcixcbiAgICAgICAgICAgIHBlbmRpbmc6IGJvb2xlYW4sXG4gICAgICAgICAgICBhY3RpdmU6IGJvb2xlYW4sXG4gICAgICAgICAgICB0b3A6IG51bWJlcixcbiAgICAgICAgICAgIGJvdHRvbTogbnVtYmVyLFxuICAgICAgICAgICAgcmVhZFRpbWU6IG51bWJlcixcbiAgICAgICAgICAgIGludGVydmFsczogSW50ZXJ2YWxzXG4gICAgICAgICAgXVtdXG4gICAgICAgIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCB1cGRhdGVSZWdpb24gPSAoXG4gICAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICAgIHRvcDogbnVtYmVyLFxuICAgICAgICBib3R0b206IG51bWJlcixcbiAgICAgICAgcmVhZFRpbWU6IG51bWJlclxuICAgICAgKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9ICgocmVnaW9ucyA/Pz0gW10pW2luZGV4XSA/Pz0gW1xuICAgICAgICAgIHsgZHVyYXRpb246IDAsIGltcHJlc3Npb25zOiAwIH0sXG4gICAgICAgICAgY3JlYXRlVGltZXIoZmFsc2UsIGdldEFjdGl2ZVRpbWUpLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIGNyZWF0ZUludGVydmFscygpLFxuICAgICAgICBdKTtcbiAgICAgICAgcmVnaW9uWzRdID0gdG9wO1xuICAgICAgICByZWdpb25bNV0gPSBib3R0b207XG4gICAgICAgIHJlZ2lvbls2XSA9IHJlYWRUaW1lO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdmlzaWJsZSA9IFtjcmVhdGVJbnRlcnZhbHMoKSwgY3JlYXRlSW50ZXJ2YWxzKCldO1xuXG4gICAgICBjb25zdCB2aWV3RHVyYXRpb24gPSBjcmVhdGVWaWV3RHVyYXRpb25UaW1lcihmYWxzZSk7XG4gICAgICBjb25zdCBhY3RpdmVUaW1lID0gY3JlYXRlVGltZXIoZmFsc2UsIGdldEFjdGl2ZVRpbWUpO1xuXG4gICAgICBsZXQgaW1wcmVzc2lvbkV2ZW50czogSW1wcmVzc2lvbkV2ZW50W10gfCB1bmRlZmluZWQ7XG4gICAgICBsZXQgdW5iaW5kUGFzc2l2ZUV2ZW50U291cmNlczogTm9PcEZ1bmN0aW9uW10gfCB1bmRlZmluZWQ7XG4gICAgICAvLyBsZXQgb3ZlcmxheXMgPSBtYXAoMiwgKGkpID0+IHtcbiAgICAgIC8vICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAvLyAgIG92ZXJsYXkuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjphYnNvbHV0ZTske2kgPyBcImJvdHRvbVwiIDogXCJ0b3BcIn06MDske1xuICAgICAgLy8gICAgIGkgPyBcInJpZ2h0XCIgOiBcImxlZnRcIlxuICAgICAgLy8gICB9OjA7YmFja2dyb3VuZC1jb2xvcjpibHVlYDtcbiAgICAgIC8vICAgZWwuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgICAvLyAgIHJldHVybiBvdmVybGF5O1xuICAgICAgLy8gfSk7XG5cbiAgICAgIC8vIChlbCBhcyBhbnkpLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsdWVcIjtcbiAgICAgIC8vIChlbCBhcyBhbnkpLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXG4gICAgICBsZXQgcHJldkhlaWdodCA9IC0xO1xuICAgICAgbGV0IGJvdW5kYXJpZXM6IFRleHRTdGF0c1tcImJvdW5kYXJpZXNcIl0gfCB1bmRlZmluZWQ7XG4gICAgICBsZXQgc3RhdHM6IEltcHJlc3Npb25UZXh0U3RhdHMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHBvbGwgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgdmlld1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIGNvbnN0IHZpZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gW1xuICAgICAgICAgIGNvbnN0cmFpbihyZWN0LnRvcCwgdmlld0hlaWdodCksXG4gICAgICAgICAgY29uc3RyYWluKHJlY3QucmlnaHQsIHZpZXdXaWR0aCksXG4gICAgICAgICAgY29uc3RyYWluKHJlY3QuYm90dG9tLCB2aWV3SGVpZ2h0KSxcbiAgICAgICAgICBjb25zdHJhaW4ocmVjdC5sZWZ0LCB2aWV3V2lkdGgpLFxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkhlaWdodCA9IGludGVyc2VjdGlvblsyXSAtIGludGVyc2VjdGlvblswXTtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uV2lkdGggPSBpbnRlcnNlY3Rpb25bMV0gLSBpbnRlcnNlY3Rpb25bM107XG5cbiAgICAgICAgY29uc3QgdmVydGljYWxJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25IZWlnaHQgLyByZWN0LmhlaWdodCB8fCAwO1xuICAgICAgICBjb25zdCBob3Jpem9udGFsSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uV2lkdGggLyByZWN0LndpZHRoIHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aHJlc2hvbGQgZm9yIHdoZW4gYW4gaW1wcmVzc2lvbiBiZWNvbWVzIGFjdGl2ZS9pbmFjdGl2ZS5cbiAgICAgICAgICogVGhleSBkZXBlbmQgb24gd2hldGhlciB0aGUgaW1wcmVzc2lvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdGhyZXNob2xkcyA9IGFjdGl2ZSA/IElNUFJFU1NJT05fU1RPUCA6IElNUFJFU1NJT05fU1RBUlQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzbWFsbGVzdCBvZiB0aGUgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgaW50ZXJzZWN0aW9uIHBlcmNlbnRhZ2UuIElmIHRoaXMgaXMgc21hbGxlciB0aGFuIHRoZSB0aHJlc2hvbGQsXG4gICAgICAgICAqIHRoZSBjb21wb25lbnQgaXMgaW50dWl0aXZlbHkgbm90IHZpc2libGUgKG9yIFwiaW1wcmVzc2VkXCIsIGxvbCkuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBxdWFsaWZpZWQgPVxuICAgICAgICAgIChpbnRlcnNlY3Rpb25IZWlnaHQgPiB0aHJlc2hvbGRzWzBdICogdmlld0hlaWdodCB8fFxuICAgICAgICAgICAgdmVydGljYWxJbnRlcnNlY3Rpb24gPiB0aHJlc2hvbGRzWzBdKSAmJlxuICAgICAgICAgIChpbnRlcnNlY3Rpb25XaWR0aCA+IHRocmVzaG9sZHNbMF0gKiB2aWV3V2lkdGggfHxcbiAgICAgICAgICAgIGhvcml6b250YWxJbnRlcnNlY3Rpb24gPiB0aHJlc2hvbGRzWzBdKTtcblxuICAgICAgICBpZiAocGVuZGluZ0FjdGl2ZSAhPT0gcXVhbGlmaWVkKSB7XG4gICAgICAgICAgYWN0aXZlVGltZSgocGVuZGluZ0FjdGl2ZSA9IHF1YWxpZmllZCksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhY3RpdmUgIT09XG4gICAgICAgICAgKGFjdGl2ZSA9XG4gICAgICAgICAgICBwZW5kaW5nQWN0aXZlICYmXG4gICAgICAgICAgICBhY3RpdmVUaW1lKCkgPj1cbiAgICAgICAgICAgICAgdHJhY2tlckNvbmZpZy5pbXByZXNzaW9uVGhyZXNob2xkIC0gSU5URVJTRUNUSU9OX1BPTExfSU5URVJWQUwpXG4gICAgICAgICkge1xuICAgICAgICAgICsraW1wcmVzc2lvbnM7XG4gICAgICAgICAgdmlld0R1cmF0aW9uKGFjdGl2ZSk7XG4gICAgICAgICAgaWYgKCFpbXByZXNzaW9uRXZlbnRzKSB7XG4gICAgICAgICAgICBpbXByZXNzaW9uRXZlbnRzID0gbWFwMihcbiAgICAgICAgICAgICAgY29tcG9uZW50cyEsXG4gICAgICAgICAgICAgIChjbXApID0+XG4gICAgICAgICAgICAgICAgKChjbXAhLnRyYWNrPy5pbXByZXNzaW9ucyB8fFxuICAgICAgICAgICAgICAgICAgdHJhY2tlckZsYWcoXG4gICAgICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgICAgICBcImltcHJlc3Npb25zXCIsXG4gICAgICAgICAgICAgICAgICAgIFQsXG4gICAgICAgICAgICAgICAgICAgIChkYXRhKSA9PiBkYXRhLnRyYWNrPy5pbXByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgKSkgJiZcbiAgICAgICAgICAgICAgICAgIHJlc3RyaWN0PEltcHJlc3Npb25FdmVudD4oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImltcHJlc3Npb25cIixcbiAgICAgICAgICAgICAgICAgICAgcG9zOiBnZXRTY3JlZW5Qb3MoZWwpLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogZ2V0Vmlld3BvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZU9mZnNldDogZ2V0Vmlld1RpbWVPZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgaW1wcmVzc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmdldENvbXBvbmVudENvbnRleHQoZWwsIFQpLFxuICAgICAgICAgICAgICAgICAgfSkpIHx8XG4gICAgICAgICAgICAgICAgc2tpcDJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0cmFja2VyKGltcHJlc3Npb25FdmVudHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbXByZXNzaW9uRXZlbnRzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdmlld0R1cmF0aW9uKCk7XG4gICAgICAgICAgICB1bmJpbmRQYXNzaXZlRXZlbnRTb3VyY2VzID0gbWFwMihpbXByZXNzaW9uRXZlbnRzLCAoZXZlbnQpID0+XG4gICAgICAgICAgICAgIHRyYWNrZXIuZXZlbnRzLnJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZShldmVudCwgKCkgPT4gKHtcbiAgICAgICAgICAgICAgICByZWxhdGVkRXZlbnRJZDogZXZlbnQuY2xpZW50SWQhLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGltcHJlc3Npb25zOiBpbXByZXNzaW9ucyxcbiAgICAgICAgICAgICAgICByZWdpb25zOiByZWdpb25zICYmIHtcbiAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uc1swXVswXSxcbiAgICAgICAgICAgICAgICAgIG1pZGRsZTogcmVnaW9uc1sxXVswXSxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uc1syXVswXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlZW46IHZpc2libGVQZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgIHRleHQ6IHN0YXRzLFxuICAgICAgICAgICAgICAgIHJlYWQ6XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbi5hY3RpdmVUaW1lICYmXG4gICAgICAgICAgICAgICAgICBzdGF0cyAmJlxuICAgICAgICAgICAgICAgICAgY29uc3RyYWluKFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbi5hY3RpdmVUaW1lIC8gc3RhdHMucmVhZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVQZXJjZW50YWdlXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3QuaGVpZ2h0ICE9PSBwcmV2SGVpZ2h0KSB7XG4gICAgICAgICAgcHJldkhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgICAgICAgIGNvbnN0IHRleHQgPSAoZWwgYXMgSFRNTEVsZW1lbnQpLnRleHRDb250ZW50O1xuICAgICAgICAgICh7IGJvdW5kYXJpZXMsIC4uLnN0YXRzIH0gPSBnZXRUZXh0U3RhdHMoXG4gICAgICAgICAgICB0ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICBbMCwgMC4yNSwgMC43NSwgMV1cbiAgICAgICAgICApKTtcblxuICAgICAgICAgIGlmIChyZWdpb25zIHx8IHJlY3QuaGVpZ2h0ID49IDEuMjUgKiB2aWV3SGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcbiAgICAgICAgICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbDtcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBsZXQgYm91bmRhcnlJbmRleCA9IDA7XG4gICAgICAgICAgICByZWdpb25zID8/PSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgYm91bmRhcnlJbmRleCA8IGJvdW5kYXJpZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAgIChub2RlID0gbm9kZXMubmV4dE5vZGUoKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBsZXQgbm9kZUxlbmd0aCA9IG5vZGUudGV4dENvbnRlbnQ/Lmxlbmd0aCA/PyAwO1xuICAgICAgICAgICAgICBsZW5ndGggKz0gbm9kZUxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aCA+PSBib3VuZGFyaWVzW2JvdW5kYXJ5SW5kZXhdPy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBsb29wIGJlY2F1c2UgdHdvIGJvdW5kYXJpZXMgbWF5IGhhdmUgdGhlIHNhbWUgb2Zmc2V0LlxuICAgICAgICAgICAgICAgIHByb2JlUmFuZ2VbYm91bmRhcnlJbmRleCAlIDIgPyBcInNldEVuZFwiIDogXCJzZXRTdGFydFwiXShcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBib3VuZGFyaWVzW2JvdW5kYXJ5SW5kZXhdLm9mZnNldCAtIGxlbmd0aCArIG5vZGVMZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kYXJ5SW5kZXgrKyAlIDIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IHByb2JlUmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSByZWN0LnRvcDtcblxuICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kYXJ5SW5kZXggPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlZ2lvbihcbiAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcCAtIG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICBib3R0b20gLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc1sxXS5yZWFkVGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVnaW9uKFxuICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgcmVnaW9uc1swXVs0XSxcbiAgICAgICAgICAgICAgICAgICAgICB0b3AgLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc1syXS5yZWFkVGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWdpb24oXG4gICAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgICAgICB0b3AgLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0gb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJpZXNbM10ucmVhZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaG9yaXpvbnRhbE9mZnNldCA9IHJlY3QubGVmdCA8IDAgPyAtcmVjdC5sZWZ0IDogMDtcbiAgICAgICAgbGV0IHZlcnRpY2FsT2Zmc2V0ID0gcmVjdC50b3AgPCAwID8gLXJlY3QudG9wIDogMDtcbiAgICAgICAgY29uc3QgYXJlYSA9IHJlY3Qud2lkdGggKiByZWN0LmhlaWdodDtcblxuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgdmlzaWJsZVBlcmNlbnRhZ2UgPVxuICAgICAgICAgICAgKHZpc2libGVbMF0ucHVzaChcbiAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQsXG4gICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ICsgaW50ZXJzZWN0aW9uSGVpZ2h0XG4gICAgICAgICAgICApICpcbiAgICAgICAgICAgICAgdmlzaWJsZVsxXS5wdXNoKFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldCArIGludGVyc2VjdGlvbldpZHRoXG4gICAgICAgICAgICAgICkpIC9cbiAgICAgICAgICAgIGFyZWE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVnaW9ucykge1xuICAgICAgICAgIGZvckVhY2gyKHJlZ2lvbnMsIChyZWdpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvblRvcCA9IGNvbnN0cmFpbihcbiAgICAgICAgICAgICAgcmVjdC50b3AgPCAwID8gLXJlY3QudG9wIDogMCxcbiAgICAgICAgICAgICAgcmVnaW9uWzVdLFxuICAgICAgICAgICAgICByZWdpb25bNF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25Cb3R0b20gPSBjb25zdHJhaW4oXG4gICAgICAgICAgICAgIHJlY3QuYm90dG9tID4gdmlld0hlaWdodCA/IHZpZXdIZWlnaHQgOiByZWN0LmJvdHRvbSxcbiAgICAgICAgICAgICAgcmVnaW9uWzVdLFxuICAgICAgICAgICAgICByZWdpb25bNF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFplcm8gaGVpZ2h0LCBub3RoaW5nIHRvIGRvLlxuICAgICAgICAgICAgbGV0IHF1YWxpZmllZCA9IGFjdGl2ZSAmJiBpbnRlcnNlY3Rpb25Cb3R0b20gLSBpbnRlcnNlY3Rpb25Ub3AgPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVnaW9uWzBdO1xuICAgICAgICAgICAgZGF0YS5kdXJhdGlvbiA9IHJlZ2lvblsxXShxdWFsaWZpZWQpO1xuXG4gICAgICAgICAgICBpZiAocXVhbGlmaWVkKSB7XG4gICAgICAgICAgICAgIHJlZ2lvblszXSAhPT0gKHJlZ2lvblszXSA9IHF1YWxpZmllZCkgJiYgKytyZWdpb25bMF0uaW1wcmVzc2lvbnMhO1xuXG4gICAgICAgICAgICAgIGRhdGEuc2VlbiA9XG4gICAgICAgICAgICAgICAgcmVnaW9uWzddLnB1c2goaW50ZXJzZWN0aW9uVG9wLCBpbnRlcnNlY3Rpb25Cb3R0b20pIC9cbiAgICAgICAgICAgICAgICAocmVnaW9uWzVdIC0gcmVnaW9uWzRdKTtcbiAgICAgICAgICAgICAgZGF0YS5yZWFkID0gY29uc3RyYWluKGRhdGEuZHVyYXRpb24gLyByZWdpb25bNl0sIGRhdGEuc2Vlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsW2ludGVyc2VjdGlvbkhhbmRsZXJdID0gKHtcbiAgICAgICAgaXNJbnRlcnNlY3RpbmcsXG4gICAgICB9OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB7XG4gICAgICAgIGFzc2lnbihjdXJyZW50SW50ZXJzZWN0aW9ucywgcG9sbCwgaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICAhaXNJbnRlcnNlY3RpbmcgJiZcbiAgICAgICAgICAoZm9yRWFjaDIodW5iaW5kUGFzc2l2ZUV2ZW50U291cmNlcywgKHVuYmluZCkgPT4gdW5iaW5kKCkpLCBwb2xsKCkpO1xuICAgICAgfTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBfX0RFQlVHX18gfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBmb3JtYXREYXRhVXNhZ2UsIGZvcm1hdFZhcmlhYmxlS2V5IH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcclxuaW1wb3J0IHsgYW5zaSwgY29uY2F0LCBjb3VudCwgRiwgbWFwMiwgc2tpcDIsIHNvcnQyLCBUIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQgeyBhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIsIGNoaWxkR3JvdXBzLCBkZWJ1ZyB9IGZyb20gXCIuXCI7XHJcbmltcG9ydCB7IENsaWVudFZhcmlhYmxlLCBpc0xvY2FsU2NvcGVLZXkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xyXG5cclxuY29uc3QgZm9ybWF0VmFyaWFibGVzID0gKHZhcmlhYmxlczogQ2xpZW50VmFyaWFibGVbXSkgPT4ge1xyXG4gIHJldHVybiBtYXAyKFxyXG4gICAgc29ydDIodmFyaWFibGVzLCBbXHJcbiAgICAgICh2YXJpYWJsZSkgPT4gdmFyaWFibGUuc2NvcGUsXHJcbiAgICAgICh2YXJpYWJsZSkgPT4gdmFyaWFibGUua2V5LFxyXG4gICAgXSksXHJcbiAgICAodmFyaWFibGUpID0+XHJcbiAgICAgIHZhcmlhYmxlXHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgIHZhcmlhYmxlLFxyXG4gICAgICAgICAgICBgJHtmb3JtYXRWYXJpYWJsZUtleSh2YXJpYWJsZSl9LCAke1xyXG4gICAgICAgICAgICAgIGlzTG9jYWxTY29wZUtleSh2YXJpYWJsZSlcclxuICAgICAgICAgICAgICAgID8gXCJjbGllbnQtc2lkZSBtZW1vcnkgb25seVwiXHJcbiAgICAgICAgICAgICAgICA6IGZvcm1hdERhdGFVc2FnZSh2YXJpYWJsZS5zY2hlbWE/LnVzYWdlKVxyXG4gICAgICAgICAgICB9KWAsXHJcbiAgICAgICAgICAgIEYsXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgOiBza2lwMlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkRGVidWdMaXN0ZW5lcnMgPSBfX0RFQlVHX19cclxuICA/ICgpID0+IHtcclxuICAgICAgYWRkVmFyaWFibGVzQ2hhbmdlZExpc3RlbmVyKChjaGFuZ2VzLCBhbGwsIGxvY2FsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gY29uY2F0KFxyXG4gICAgICAgICAgZm9ybWF0VmFyaWFibGVzKFxyXG4gICAgICAgICAgICBtYXAyKGNoYW5nZXMsIChbLCBjdXJyZW50XSkgPT4gKGN1cnJlbnQgPyBjdXJyZW50IDogc2tpcDIpKVxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFtjaGlsZEdyb3Vwc106IGZvcm1hdFZhcmlhYmxlcyhcclxuICAgICAgICAgICAgICAgICAgbWFwMihhbGwsIChbLCBjdXJyZW50XSkgPT4gKGN1cnJlbnQgPyBjdXJyZW50IDogc2tpcDIpKVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIFwiQWxsIHZhcmlhYmxlc1wiLFxyXG4gICAgICAgICAgICAgIFQsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgKSE7XHJcblxyXG4gICAgICAgIGRlYnVnKFxyXG4gICAgICAgICAgeyBbY2hpbGRHcm91cHNdOiB2YXJpYWJsZXMgfSxcclxuICAgICAgICAgIGFuc2koXHJcbiAgICAgICAgICAgIGBWYXJpYWJsZXMgY2hhbmdlZCR7XHJcbiAgICAgICAgICAgICAgIWxvY2FsID8gXCIgLSBtZXJnaW5nIGNoYW5nZXMgZnJvbSBhbm90aGVyIHRhYlwiIDogXCJcIlxyXG4gICAgICAgICAgICB9ICgke2NoYW5nZXMubGVuZ3RofSBjaGFuZ2VkLCAke2NvdW50KGFsbCl9IGluIHRvdGFsKS5gLFxyXG4gICAgICAgICAgICBcIjI7M1wiXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgOiAoKSA9PiB7fTtcclxuIiwiaW1wb3J0IHsgQ0xJRU5UX0NBTExCQUNLX0NIQU5ORUxfSUQgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQge1xuICBBbmNob3JOYXZpZ2F0aW9uRXZlbnQsXG4gIENhcnRVcGRhdGVkRXZlbnQsXG4gIENvbXBvbmVudENsaWNrRXZlbnQsXG4gIENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQsXG4gIENvbXBvbmVudEVsZW1lbnRJbmZvLFxuICBOYXZpZ2F0aW9uRXZlbnQsXG4gIFNjcmVlblBvc2l0aW9uLFxuICBVc2VySW50ZXJhY3Rpb25FdmVudCxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIFQsXG4gIGNyZWF0ZVRpbWVvdXQsXG4gIGVsbGlwc2lzLFxuICBlcXVhbHNBbnksXG4gIGZvckVhY2gyLFxuICBpc09iamVjdCxcbiAgbWFwMixcbiAgbmlsLFxuICBwYXJzZVVyaSxcbiAgcHVzaCxcbiAgcmVtb3ZlLFxuICByZXN0cmljdCxcbiAgc29tZSxcbiAgc3RvcCxcbiAgdXBkYXRlLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbiAgb25GcmFtZSxcbiAgcGFyc2VBY3RpdmF0aW9uVGFncyxcbiAgcHVzaE5hdmlnYXRpb25Tb3VyY2UsXG4gIHRyeUdldENhcnRFdmVudERhdGEsXG59IGZyb20gXCIuLlwiO1xuaW1wb3J0IHtcbiAgTU5UX1VSTCxcbiAgYXR0cixcbiAgZm9yQW5jZXN0b3JzT3JTZWxmLFxuICBnZXRCb3VuZGFyeURhdGEsXG4gIGdldFBvcyxcbiAgZ2V0UmVjdCxcbiAgZ2V0U2NyZWVuUG9zLFxuICBnZXRWaWV3cG9ydCxcbiAgaXNJbnRlcm5hbFVybCxcbiAgbGlzdGVuLFxuICBtYXRjaEV4SGFzaCxcbiAgbmV4dElkLFxuICBub3JtYWxpemVkQXR0cmlidXRlLFxuICB0YWdOYW1lLFxuICB0cmFja2VyQ29uZmlnLFxuICB0cmFja2VyRmxhZyxcbn0gZnJvbSBcIi4uL2xpYlwiO1xuXG5jb25zdCBpc0xpbmtFbGVtZW50ID0gKFxuICBlbDogRWxlbWVudCxcbiAgaHJlZjogYW55ID0gdGFnTmFtZShlbCkgPT09IFwiQVwiICYmIGF0dHIoZWwsIFwiaHJlZlwiKVxuKTogZWwgaXMgSFRNTEFuY2hvckVsZW1lbnQgPT5cbiAgaHJlZiAmJiBocmVmICE9IFwiI1wiICYmICFocmVmLnN0YXJ0c1dpdGgoXCJqYXZhc2NyaXB0OlwiKTtcblxuY29uc3QgaXNDbGlja2FibGUgPSAoXG4gIGVsOiBFbGVtZW50LFxuICB0ID0gdGFnTmFtZShlbCksXG4gIGF0dHIgPSB0cmFja2VyRmxhZyhlbCwgXCJidXR0b25cIilcbik6IGVsIGlzIEhUTUxFbGVtZW50ID0+XG4gIGF0dHIgIT09IEYgJiZcbiAgKGVxdWFsc0FueSh0LCBcIkFcIiwgXCJCVVRUT05cIikgfHxcbiAgICAodCA9PT0gXCJJTlBVVFwiICYmXG4gICAgICBlcXVhbHNBbnkobm9ybWFsaXplZEF0dHJpYnV0ZShlbCwgXCJ0eXBlXCIpLCBcImJ1dHRvblwiLCBcInN1Ym1pdFwiKSkgfHxcbiAgICBhdHRyID09PSBUKTtcblxuY29uc3QgZ2V0RWxlbWVudEluZm8gPSAoZWw6IEVsZW1lbnQsIGluY2x1ZGVSZWN0ID0gZmFsc2UpID0+ICh7XG4gIHRhZ05hbWU6IGVsLnRhZ05hbWUsXG4gIHRleHQ6IGVsbGlwc2lzKFxuICAgIGF0dHIoZWwsIFwidGl0bGVcIik/LnRyaW0oKSB8fFxuICAgICAgYXR0cihlbCwgXCJhbHRcIik/LnRyaW0oKSB8fFxuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5pbm5lclRleHQ/LnRyaW0oKSxcbiAgICAxMDBcbiAgKSxcbiAgaHJlZjogKGVsIGFzIGFueSkuaHJlZj8udG9TdHJpbmcoKSxcbiAgcmVjdDogaW5jbHVkZVJlY3QgPyBnZXRSZWN0KGVsKSA6IHVuZGVmaW5lZCxcbn0pO1xuY29uc3QgZ2V0RWxlbWVudExhYmVsID0gKFxuICBlbDogRWxlbWVudCB8IEV2ZW50VGFyZ2V0IHwgbnVsbCxcbiAgY29udGFpbmVyOiBFbGVtZW50LFxuICBpbmNsdWRlUmVjdCA9IGZhbHNlXG4pID0+IHtcbiAgbGV0IGluZm86IFBpY2s8VXNlckludGVyYWN0aW9uRXZlbnQsIFwiZWxlbWVudFwiPiB8IHVuZGVmaW5lZDtcbiAgZm9yQW5jZXN0b3JzT3JTZWxmKGVsID8/IGNvbnRhaW5lciwgKGVsKSA9PlxuICAgIHRhZ05hbWUoZWwpID09PSBcIklNR1wiIHx8IGVsID09PSBjb250YWluZXJcbiAgICAgID8gKChpbmZvID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IGdldEVsZW1lbnRJbmZvKGVsLCBpbmNsdWRlUmVjdCksXG4gICAgICAgIH0pLFxuICAgICAgICBGKVxuICAgICAgOiBUXG4gICk7XG4gIHJldHVybiBpbmZvO1xufTtcbmV4cG9ydCBjb25zdCB1c2VySW50ZXJhY3Rpb246IFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5ID0ge1xuICBpZDogXCJuYXZpZ2F0aW9uXCIsXG5cbiAgc2V0dXAodHJhY2tlcikge1xuICAgIC8vIFRoZSB0cmFja2VkIGNsaWNrIHBvc2l0aW9ucyBmb3IgY2xpY2sgZXZlbnRzIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwb3N0ZWQgb25jZS5cbiAgICBjb25zdCBhY3RpdmVFdmVudENsaWNrcyA9IG5ldyBXZWFrTWFwPE5vZGUsIFNjcmVlblBvc2l0aW9uW10+KCk7XG5cbiAgICBjb25zdCBzdHJpcFBvc2l0aW9ucyA9IDxUID0gYW55PihlbDogYW55LCBoaXRUZXN0OiBib29sZWFuKTogVCA9PlxuICAgICAgaGl0VGVzdFxuICAgICAgICA/IGVsXG4gICAgICAgIDogKG1hcDIoZWwsIChba2V5XSkgPT5cbiAgICAgICAgICAgIGtleSA9PT0gXCJyZWN0XCIgfHxcbiAgICAgICAgICAgIC8va2V5ID09PSBcInBvc1wiICBDaGFuZ2VkIHNvIHBvcyBpcyBhbHdheXMgaW5jbHVkZWQuXG4gICAgICAgICAgICBrZXkgPT09IFwidmlld3BvcnRcIlxuICAgICAgICAgICAgICA/IHJlbW92ZShlbCwga2V5KVxuICAgICAgICAgICAgICA6IGlzT2JqZWN0KGVsW2tleV0pICYmXG4gICAgICAgICAgICAgICAgbWFwMihlbFtrZXldLCAoaXRlbSkgPT4gc3RyaXBQb3NpdGlvbnMoaXRlbSwgaGl0VGVzdCkpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBlbCk7XG4gICAgY29uc3QgdHJhY2tEb2N1bWVudCA9IChkb2N1bWVudDogRG9jdW1lbnQpID0+IHtcbiAgICAgIGxpc3RlbihcbiAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgIFtcImNsaWNrXCIsIFwiY29udGV4dG1lbnVcIiwgXCJhdXhjbGlja1wiXSxcbiAgICAgICAgKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgbGV0IHRyYWNrQ2xpY2tzOiBib29sZWFuIHwgTnVsbGlzaDtcbiAgICAgICAgICBsZXQgdHJhY2tSZWdpb246IGJvb2xlYW4gfCBOdWxsaXNoO1xuICAgICAgICAgIGxldCBjbGlja2FibGVFbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgY29udGFpbmVyRWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGxldCBuYXYgPSBGO1xuXG4gICAgICAgICAgbGV0IGNsaWNrYWJsZXM6IENvbXBvbmVudEVsZW1lbnRJbmZvW10gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBmb3JBbmNlc3RvcnNPclNlbGY8Ym9vbGVhbj4oZXYudGFyZ2V0LCAoZWwpID0+IHtcbiAgICAgICAgICAgIGlzQ2xpY2thYmxlKGVsKSAmJiAoY2xpY2thYmxlRWxlbWVudCA/Pz0gZWwpO1xuICAgICAgICAgICAgbmF2ID0gbmF2IHx8IHRhZ05hbWUoZWwpID09PSBcIk5BVlwiO1xuXG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeSA9IGdldEJvdW5kYXJ5RGF0YShlbCk7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRzID0gYm91bmRhcnk/LmNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICghZXYuYnV0dG9uICYmIGNvbXBvbmVudHM/Lmxlbmd0aCAmJiAhY2xpY2thYmxlcykge1xuICAgICAgICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICAgICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiYSxidXR0b25cIiksXG4gICAgICAgICAgICAgICAgKGNsaWNrYWJsZSkgPT5cbiAgICAgICAgICAgICAgICAgIGlzQ2xpY2thYmxlKGNsaWNrYWJsZSkgJiZcbiAgICAgICAgICAgICAgICAgICgoY2xpY2thYmxlcyA/Pz0gW10pLmxlbmd0aCA+IDNcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9wKCkgLy8gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBjbGlja2FibGVzLCB0aGVyZSBpcyBwcmVzdW1hYmx5IG5vdCBhbnkgbWlzc2VkIGNsaWNrIGludGVudC5cbiAgICAgICAgICAgICAgICAgICAgOiBjbGlja2FibGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0RWxlbWVudEluZm8oY2xpY2thYmxlLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZm9yQW5jZXN0b3JzT3JTZWxmKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2FibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRDb21wb25lbnRzID0gZ2V0Qm91bmRhcnlEYXRhKGNoaWxkKT8uY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgPT4gY2hpbGRDb21wb25lbnRzICYmIHIoY2hpbGRDb21wb25lbnRzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoaWxkKSA9PiBjaGlsZCA9PT0gZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKGNsaWNrYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50ID8/PSBlbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFja0NsaWNrcyA/Pz1cbiAgICAgICAgICAgICAgdHJhY2tlckZsYWcoZWwsIFwiY2xpY2tzXCIsIFQsIChkYXRhKSA9PiBkYXRhLnRyYWNrPy5jbGlja3MpID8/XG4gICAgICAgICAgICAgIChjb21wb25lbnRzICYmXG4gICAgICAgICAgICAgICAgc29tZShjb21wb25lbnRzLCAoY21wKSA9PiBjbXAudHJhY2s/LmNsaWNrcyAhPT0gRikpO1xuICAgICAgICAgICAgdHJhY2tSZWdpb24gPz89XG4gICAgICAgICAgICAgIHRyYWNrZXJGbGFnKGVsLCBcInJlZ2lvblwiLCBULCAoZGF0YSkgPT4gZGF0YS50cmFjaz8ucmVnaW9uKSA/P1xuICAgICAgICAgICAgICAoY29tcG9uZW50cyAmJiBzb21lKGNvbXBvbmVudHMsIChjbXApID0+IGNtcC50cmFjaz8ucmVnaW9uKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIShjb250YWluZXJFbGVtZW50ID8/PSBjbGlja2FibGVFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjbGlja0ludGVudCA9IGNsaWNrYWJsZXMgJiYgIWNsaWNrYWJsZUVsZW1lbnQgJiYgdHJhY2tDbGlja3M7XG5cbiAgICAgICAgICBjb25zdCBjb21wb25lbnRDb250ZXh0ID0gZ2V0Q29tcG9uZW50Q29udGV4dChcbiAgICAgICAgICAgIGNsaWNrYWJsZUVsZW1lbnQgPz8gY29udGFpbmVyRWxlbWVudCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgY2xpY2tJbnRlbnRcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHRhZ3MgPSBwYXJzZUFjdGl2YXRpb25UYWdzKFxuICAgICAgICAgICAgY2xpY2thYmxlRWxlbWVudCA/PyBjb250YWluZXJFbGVtZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFja0NsaWNrcyA/Pz0gIW5hdjtcbiAgICAgICAgICB0cmFja1JlZ2lvbiA/Pz0gVDtcblxuICAgICAgICAgIGNvbnN0IHNoYXJlZEV2ZW50UHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIC4uLih0cmFja1JlZ2lvblxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHBvczogZ2V0U2NyZWVuUG9zKGNsaWNrYWJsZUVsZW1lbnQsIGV2KSxcbiAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiBnZXRWaWV3cG9ydCgpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBuaWwpLFxuICAgICAgICAgICAgLi4uZ2V0RWxlbWVudExhYmVsKGV2LnRhcmdldCwgY2xpY2thYmxlRWxlbWVudCA/PyBjb250YWluZXJFbGVtZW50KSxcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudENvbnRleHQsXG4gICAgICAgICAgICB0aW1lT2Zmc2V0OiBnZXRWaWV3VGltZU9mZnNldCgpLFxuICAgICAgICAgICAgLi4udGFncyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICghY2xpY2thYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgY2xpY2tJbnRlbnQgJiZcbiAgICAgICAgICAgICAgdXBkYXRlKGFjdGl2ZUV2ZW50Q2xpY2tzLCBjb250YWluZXJFbGVtZW50LCAoY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IGdldFBvcyhjb250YWluZXJFbGVtZW50ISwgZXYpO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmV1c2UgdGhlIHNhbWUgZXZlbnQgYW5kIG9ubHkgYWRkIHRoZSBuZXcgY2xpY2sgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIGNsaWNrZWQgYWdhaW4gdG8gcmVkdWNlIGRhdGEuXG4gICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRFdmVudCA9IHJlc3RyaWN0PENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQ+KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb21wb25lbnRfY2xpY2tfaW50ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzOiAoY3VycmVudCA9IFtwb3NdKSxcblxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGVzLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIHRyYWNrZXIuZXZlbnRzLnJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZShcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50RXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2tzOiBhY3RpdmVFdmVudENsaWNrcy5nZXQoY29udGFpbmVyRWxlbWVudCEpLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcHVzaChjdXJyZW50LCBwb3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAsICAgICAgICAgICAgICBvdmVybGF5KGNvbnRhaW5lckVsZW1lbnQsIFwiQ2xpY2sgaW50ZW50XCIsIHRydWUpXG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNMaW5rRWxlbWVudChjbGlja2FibGVFbGVtZW50ISkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBjbGlja2FibGVFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSBsaW5rLmhvc3RuYW1lICE9PSBsb2NhdGlvbi5ob3N0bmFtZTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICBzY2hlbWUsXG4gICAgICAgICAgICAgIHNvdXJjZTogaHJlZixcbiAgICAgICAgICAgIH0gPSBwYXJzZVVyaShsaW5rLmhyZWYsIHtcbiAgICAgICAgICAgICAgZGVsaW1pdGVyczogZmFsc2UsXG4gICAgICAgICAgICAgIHJlcXVpcmVBdXRob3JpdHk6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbGluay5ob3N0ID09PSBsb2NhdGlvbi5ob3N0ICYmXG4gICAgICAgICAgICAgIGxpbmsucGF0aG5hbWUgPT09IGxvY2F0aW9uLnBhdGhuYW1lICYmXG4gICAgICAgICAgICAgIGxpbmsuc2VhcmNoID09PSBsb2NhdGlvbi5zZWFyY2hcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAobGluay5oYXNoID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgYWJvdXQgdGhhdCBvbmUuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsaW5rLmhhc2ggIT09IGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXYuYnV0dG9uID09PSAwKVxuICAgICAgICAgICAgICAgICAgdHJhY2tlcihcbiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q8QW5jaG9yTmF2aWdhdGlvbkV2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbmNob3JfbmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbGluay5oYXNoLFxuICAgICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRXZlbnQ6IE5hdmlnYXRpb25FdmVudCA9IHJlc3RyaWN0PE5hdmlnYXRpb25FdmVudD4oe1xuICAgICAgICAgICAgICBjbGllbnRJZDogbmV4dElkKCksXG4gICAgICAgICAgICAgIHR5cGU6IFwibmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgICBocmVmOiBleHRlcm5hbCA/IGxpbmsuaHJlZiA6IGhyZWYsXG4gICAgICAgICAgICAgIGV4dGVybmFsLFxuICAgICAgICAgICAgICBkb21haW46IHsgaG9zdCwgc2NoZW1lIH0sXG4gICAgICAgICAgICAgIHNlbGY6IFQsXG4gICAgICAgICAgICAgIGFuY2hvcjogbGluay5oYXNoLFxuICAgICAgICAgICAgICAuLi5zaGFyZWRFdmVudFByb3BlcnRpZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVGhlcmUgZG9lcyBub3Qgc2VlbSB0byBiZSBhbnkgd2F5IHRvIGRldGVjdCB3aGVuIHRoZSB1c2VyIGNsaWNrc1xuICAgICAgICAgICAgLy8gXCJPcGVuIGxpbmsgaW4gbmV3IHRhYi93aW5kb3dcIiwgc28gd2UgbmVlZCB0byBkbyBhIGxpdHRsZSBleHRyYSBneW1uYXN0aWNzIHRvIGNhcHR1cmUgaXQuXG4gICAgICAgICAgICBpZiAoZXYudHlwZSA9PT0gXCJjb250ZXh0bWVudVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVXJsID0gbGluay5ocmVmO1xuICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbFVybCA9IGlzSW50ZXJuYWxVcmwob3JpZ2luYWxVcmwpO1xuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGFnZSBsb2FkcyBpbiBhIG5ldyB0YWIsIGl0IHdpbGwgcGljayB1cCB0aGlzIHZhbHVlIGFzIHRoZSByZWZlcnJlcixcbiAgICAgICAgICAgICAgICAvLyAgIGFuZCB3ZSB3aWxsIGtub3cgbmF2aWdhdGlvbiBoYXBwZW5lZC5cbiAgICAgICAgICAgICAgICBwdXNoTmF2aWdhdGlvblNvdXJjZShuYXZpZ2F0aW9uRXZlbnQuY2xpZW50SWQsICgpID0+XG4gICAgICAgICAgICAgICAgICB0cmFja2VyKG5hdmlnYXRpb25FdmVudClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERldGVjdGluZyBleHRlcm5hbCBuYXZpZ2F0aW9uIGlzIF9tdWNoXyBoYXJkZXIuXG4gICAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgd2UgbmVlZCB0byByZXdyaXRlIHRoZSBVUkwgdG8gcmVkaXJlY3QgdmlhIHRoZSByZXF1ZXN0IGhhbmRsZXIsIGFuZCBwb2xsIGZvciBhIGxvY2FsIHN0b3JhZ2Uga2V5LlxuICAgICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgYSBwcm9ibGVtIGlmIHRoZSB1c2VyIGRlY2lkZXMgdG8gY29weSB0aGUgbGluayBmcm9tIHRoZSBjb250ZXh0IG1lbnUgYW5kIHNoYXJlIGl0LFxuICAgICAgICAgICAgICAvLyBzaW5jZSBzb21lIG1heSBhcmd1ZSB0aGUgbGluayBsb29rcyBcIm9ic2N1cmVcIi5cbiAgICAgICAgICAgICAgdmFyIHJlcXVlc3RJZCA9IChcIlwiICsgTWF0aC5yYW5kb20oKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIi5cIiwgXCJcIilcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDEsIDgpO1xuICAgICAgICAgICAgICBpZiAoIWludGVybmFsVXJsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFja2VyQ29uZmlnLmNhcHR1cmVDb250ZXh0TWVudSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9XG4gICAgICAgICAgICAgICAgICBNTlRfVVJMICsgXCI9XCIgKyByZXF1ZXN0SWQgKyBlbmNvZGVVUklDb21wb25lbnQob3JpZ2luYWxVcmwpO1xuXG4gICAgICAgICAgICAgICAgLy8gUG9sbCBmb3IgdGhlIHN0b3JhZ2Uga2V5IHdoZXJlIHRoZSByZXF1ZXN0IGhhbmRsZXIgd2lsbCB3cml0ZSB0aGUgcmVxdWVzdCBJRCBiZWZvcmUgaXQgcmVkaXJlY3RzXG4gICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgaWYgdGhlIGxpbmsgaXMgb3BlbmVkLlxuICAgICAgICAgICAgICAgIGxpc3RlbihcbiAgICAgICAgICAgICAgICAgIHdpbmRvdyxcbiAgICAgICAgICAgICAgICAgIFwic3RvcmFnZVwiLFxuICAgICAgICAgICAgICAgICAgKGV2LCB1bmJpbmQpID0+XG4gICAgICAgICAgICAgICAgICAgIGV2LmtleSA9PT0gQ0xJRU5UX0NBTExCQUNLX0NIQU5ORUxfSUQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGV2Lm5ld1ZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShldi5uZXdWYWx1ZSk/LnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgdHJhY2tlcihuYXZpZ2F0aW9uRXZlbnQpLFxuICAgICAgICAgICAgICAgICAgICB1bmJpbmQoKSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZW91dDtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdGhlIGxpbmsgYmFjayB3aGVuIHRoZSBjb250ZXh0IG1lbnUgY2xvc2VzLlxuICAgICAgICAgICAgICAgIGxpc3RlbihcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgW1wia2V5ZG93blwiLCBcImtleXVwXCIsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCBcInBvaW50ZXJtb3ZlXCJdLFxuICAgICAgICAgICAgICAgICAgKF8sIHVuYmluZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1bmJpbmQoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBvcmlnaW5hbFVybDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2LmJ1dHRvbiA8PSAxKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBldi5idXR0b24gPT09IDEgfHwgLy9NaWRkbGUtY2xpY2s6IG5ldyB0YWIuXG4gICAgICAgICAgICAgICAgZXYuY3RybEtleSB8fCAvLyBOZXcgdGFiXG4gICAgICAgICAgICAgICAgZXYuc2hpZnRLZXkgfHwgLy8gTmV3IHdpbmRvd1xuICAgICAgICAgICAgICAgIGV2LmFsdEtleSB8fCAvLyBEb3dubG9hZFxuICAgICAgICAgICAgICAgIGF0dHIobGluaywgXCJ0YXJnZXRcIikgIT09IHdpbmRvdy5uYW1lXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHB1c2hOYXZpZ2F0aW9uU291cmNlKG5hdmlnYXRpb25FdmVudC5jbGllbnRJZCk7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkV2ZW50LnNlbGYgPSBGO1xuICAgICAgICAgICAgICAgIC8vIEZpcmUgaW1tZWRpYXRlbHksIHdlIGFyZSBzdGF5aW5nIG9uIHRoZSBwYWdlLlxuICAgICAgICAgICAgICAgIHRyYWNrZXIobmF2aWdhdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoRXhIYXNoKGxvY2F0aW9uLmhyZWYsIGxpbmsuaHJlZikpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uRXZlbnQuZXhpdCA9IG5hdmlnYXRpb25FdmVudC5leHRlcm5hbDtcbiAgICAgICAgICAgICAgICAvLyBObyBcInJlYWxcIiBuYXZpZ2F0aW9uIHdpbGwgaGFwcGVuIGlmIGl0IGlzIG9ubHkgdGhlIGhhc2ggY2hhbmdpbmcuXG4gICAgICAgICAgICAgICAgcHVzaE5hdmlnYXRpb25Tb3VyY2UobmF2aWdhdGlvbkV2ZW50LmNsaWVudElkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIC8vIElmIGl0IHNvIGhhcHBlbmVkIHRoYXQgbmF2aWdhdGlvbiBoYXBwZW5lZCB3ZSB3aWxsIHNlbmQgaXQgb24gVklFV19FTkQuXG4gICAgICAgICAgICAgIC8vIHBlbmRpbmdOYXZpZ2F0aW9uRXZlbnQgPSByZWdpc3RlclZpZXdFbmRBY3Rpb24oKCkgPT5cbiAgICAgICAgICAgICAgLy8gICB0cmFja2VyKG5hdmlnYXRpb25FdmVudClcbiAgICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjYXJ0ID0gdHJ5R2V0Q2FydEV2ZW50RGF0YShldi50YXJnZXQgYXMgRWxlbWVudCk7XG4gICAgICAgICAgKGNhcnQgfHwgdHJhY2tDbGlja3MpICYmXG4gICAgICAgICAgICB0cmFja2VyKFxuICAgICAgICAgICAgICBjYXJ0XG4gICAgICAgICAgICAgICAgPyByZXN0cmljdDxDYXJ0VXBkYXRlZEV2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FydF91cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgLi4uY2FydCxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiByZXN0cmljdDxDb21wb25lbnRDbGlja0V2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcG9uZW50X2NsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdHJhY2tEb2N1bWVudChkb2N1bWVudCk7XG4gICAgb25GcmFtZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWUuY29udGVudERvY3VtZW50ICYmIHRyYWNrRG9jdW1lbnQoZnJhbWUuY29udGVudERvY3VtZW50KVxuICAgICk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHtcbiAgdHlwZSBDYXJ0QWN0aW9uLFxuICB0eXBlIENhcnRFdmVudERhdGEsXG4gIHR5cGUgQ2FydFVwZGF0ZWRFdmVudCxcbiAgdHlwZSBPcmRlckV2ZW50LFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRixcbiAgVCxcbiAgZXF1YWxzQW55LFxuICBpc09iamVjdCxcbiAgaXNTdHJpbmcsXG4gIGxhc3QsXG4gIG5pbCxcbiAgdHlwZSBOdWxsaXNoLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSwgaXNDYXJ0Q29tbWFuZCwgaXNPcmRlckNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGZvckFuY2VzdG9yc09yU2VsZiwgZ2V0Qm91bmRhcnlEYXRhLCB0cmFja2VyUHJvcGVydHkgfSBmcm9tIFwiLi4vbGliXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUNhcnRFdmVudERhdGEgPSAoXG4gIGRhdGE6IGJvb2xlYW4gfCBzdHJpbmcgfCBDYXJ0RXZlbnREYXRhIHwgTnVsbGlzaFxuKTogQ2FydEV2ZW50RGF0YSB8IHVuZGVmaW5lZCA9PiAoXG4gIGRhdGEgPT0gbmlsID8gdW5kZWZpbmVkIDogKGRhdGEgPT09IFQgfHwgZGF0YSA9PT0gXCJcIikgJiYgKGRhdGEgPSBcImFkZFwiKSxcbiAgaXNTdHJpbmcoZGF0YSkgJiYgZXF1YWxzQW55KGRhdGEsIFwiYWRkXCIsIFwicmVtb3ZlXCIsIFwidXBkYXRlXCIsIFwiY2xlYXJcIilcbiAgICA/IHsgYWN0aW9uOiBkYXRhIGFzIENhcnRBY3Rpb24gfVxuICAgIDogaXNPYmplY3QoZGF0YSlcbiAgICA/IGRhdGFcbiAgICA6IHVuZGVmaW5lZFxuKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplQ2FydEV2ZW50RGF0YShkYXRhOiBDYXJ0RXZlbnREYXRhIHwgTnVsbGlzaCkge1xuICBpZiAoIWRhdGEpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGRhdGEudW5pdHMgIT0gbmlsICYmIGVxdWFsc0FueShkYXRhLmFjdGlvbiwgbmlsLCBcImFkZFwiLCBcInJlbW92ZVwiKSkge1xuICAgIGlmIChkYXRhLnVuaXRzID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGRhdGEuYWN0aW9uID0gZGF0YS51bml0cyA+IDAgPyBcImFkZFwiIDogXCJyZW1vdmVcIjtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldENhcnRFdmVudERhdGEoc291cmNlRWxlbWVudDogRWxlbWVudCkge1xuICAvLyBGaW5kIGNhcnQuIExvb2sgZm9yIGNhcnQgYXR0cmlidXRlcyBhbmQvb3IgZGF0YSB1bnRpbCB0aGUgZmlyc3QgY29udGVudCBpcyBtZXQuXG4gIGxldCBjb250ZXh0Q2FydDogQ2FydEV2ZW50RGF0YSB8IE51bGxpc2g7XG4gIGZvckFuY2VzdG9yc09yU2VsZihcbiAgICBzb3VyY2VFbGVtZW50LFxuICAgIChlbCwgcikgPT5cbiAgICAgICEhKGNvbnRleHRDYXJ0ID8/PSBwYXJzZUNhcnRFdmVudERhdGEoXG4gICAgICAgIGdldEJvdW5kYXJ5RGF0YShlbCk/LmNhcnQgPz8gdHJhY2tlclByb3BlcnR5KGVsLCBcImNhcnRcIilcbiAgICAgICkpICYmXG4gICAgICAhY29udGV4dENhcnQuaXRlbSAmJlxuICAgICAgKGNvbnRleHRDYXJ0Lml0ZW0gPSBsYXN0KGdldEJvdW5kYXJ5RGF0YShlbCk/LmNvbnRlbnQpKSAmJlxuICAgICAgcihjb250ZXh0Q2FydClcbiAgKTtcblxuICByZXR1cm4gbm9ybWFsaXplQ2FydEV2ZW50RGF0YShjb250ZXh0Q2FydCk7XG59XG5cbmV4cG9ydCBjb25zdCBjb21tZXJjZTogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImNhcnRcIixcbiAgc2V0dXAodHJhY2tlcikge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9jZXNzQ29tbWFuZChjb21tYW5kKSB7XG4gICAgICAgIGlmIChpc0NhcnRDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgbGV0IGNhcnQgPSBjb21tYW5kLmNhcnQ7XG4gICAgICAgICAgY2FydCA9PT0gXCJjbGVhclwiXG4gICAgICAgICAgICA/IHRyYWNrZXIoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FydF91cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImNsZWFyXCIsXG4gICAgICAgICAgICAgIH0gYXMgQ2FydFVwZGF0ZWRFdmVudClcbiAgICAgICAgICAgIDogKGNhcnQgPSBub3JtYWxpemVDYXJ0RXZlbnREYXRhKGNhcnQpISkgJiZcbiAgICAgICAgICAgICAgdHJhY2tlcih7XG4gICAgICAgICAgICAgICAgLi4uY2FydCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNhcnRfdXBkYXRlZFwiLFxuICAgICAgICAgICAgICB9IGFzIENhcnRVcGRhdGVkRXZlbnQpO1xuXG4gICAgICAgICAgcmV0dXJuIFQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT3JkZXJDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgdHJhY2tlcih7XG4gICAgICAgICAgICB0eXBlOiBcIm9yZGVyXCIsXG4gICAgICAgICAgICAuLi5jb21tYW5kLm9yZGVyLFxuICAgICAgICAgIH0gYXMgT3JkZXJFdmVudCk7XG5cbiAgICAgICAgICByZXR1cm4gVDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRjtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBGb3JtRXZlbnQsIEZvcm1GaWVsZCwgVGltZXN0YW1wIH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIFQsXG4gIGFuc2ksXG4gIGNyZWF0ZVRpbWVvdXQsXG4gIGVsbGlwc2lzLFxuICBmb3JFYWNoMixcbiAgZ2V0MixcbiAgbmlsLFxuICBub3csXG4gIHBhcnNlQm9vbGVhbixcbiAgcmVwbGFjZSxcbiAgc29tZTIsXG4gIHRyeUNhdGNoLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbiAgZ2V0VmlzaWJsZUR1cmF0aW9uLFxuICBvbkZyYW1lLFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7XG4gIE5vZGVXaXRoUGFyZW50RWxlbWVudCxcbiAgYWRkUGFnZUxvYWRlZExpc3RlbmVyLFxuICBhdHRyLFxuICBkZWJ1ZyxcbiAgZ2V0UmVjdCxcbiAgaXNWaXNpYmxlLFxuICBsaXN0ZW4sXG4gIHNjb3BlQXR0cmlidXRlLFxuICB0cmFja2VyRmxhZyxcbiAgdHJhY2tlclByb3BlcnR5TmFtZSxcbiAgdXVpZHY0LFxufSBmcm9tIFwiLi4vbGliXCI7XG5cbnR5cGUgRm9ybUVsZW1lbnQgPSBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXG5jb25zdCBlbnVtIEZvcm1GaWxsU3RhdGUge1xuICBOb25lID0gMCxcbiAgU3VibWl0dGVkID0gMSxcbiAgUGVuZGluZyA9IDIsXG4gIFN1Ym1pdHRpbmcgPSAzLFxufVxuXG50eXBlIEZvcm1TdGF0ZSA9IFtcbiAgZXZlbnQ6IEZvcm1FdmVudCxcbiAgZmllbGRzOiBXZWFrTWFwPEVsZW1lbnQsIEZvcm1GaWVsZFN0YXRlPixcbiAgZWxlbWVudDogSFRNTEZvcm1FbGVtZW50LFxuICBmaWxsU3RhdGU6IEZvcm1GaWxsU3RhdGUsXG4gIHN0YXJ0ZWQ6IFRpbWVzdGFtcCxcbiAgbmV4dEZpbGxPcmRlcjogbnVtYmVyXG5dO1xuXG5jb25zdCBjdXJyZW50VmFsdWUgPSBTeW1ib2woKTtcbnR5cGUgRm9ybUZpZWxkU3RhdGUgPSBGb3JtRmllbGQgJiB7XG4gIFtjdXJyZW50VmFsdWVdOiBzdHJpbmc7XG59O1xuXG4vKiogVGhlIHRpbWUgd2FpdGVkIGFmdGVyIGEgZm9ybSBzdWJtaXQgZXZlbnQgdG8gdGVzdCBpZiBpdCBzdGlsbCB0aGVyZSwgd2hpY2ggaXMgYXNzdW1lZCB0byBpbmRpY2F0ZSB0aGF0IHRoZXJlIGFyZSB2YWxpZGF0aW9uIGVycm9ycy4gKi9cbmNvbnN0IFZBTElEQVRJT05fRVJST1JfVElNRU9VVCA9IDE3NTA7XG5cbmV4cG9ydCBjb25zdCBmb3JtczogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImZvcm1zXCIsXG4gIHNldHVwKHRyYWNrZXIpIHtcbiAgICBjb25zdCBmb3JtRXZlbnRzID0gbmV3IE1hcDxIVE1MRm9ybUVsZW1lbnQsIEZvcm1TdGF0ZT4oKTtcblxuICAgIGNvbnN0IGdldEZvcm1GaWVsZFZhbHVlID0gKGVsZW1lbnQ6IGFueSwgdHJhY2tlZCA9IGZhbHNlKTogc3RyaW5nID0+IHtcbiAgICAgIGxldCBpbmNsdWRlID1cbiAgICAgICAgIXRyYWNrZWQgfHwgc2NvcGVBdHRyaWJ1dGUoZWxlbWVudCwgdHJhY2tlclByb3BlcnR5TmFtZShcImZvcm0tdmFsdWVcIikpO1xuXG4gICAgICB0cmFja2VkICYmXG4gICAgICAgIChpbmNsdWRlID0gaW5jbHVkZVxuICAgICAgICAgID8gcGFyc2VCb29sZWFuKGluY2x1ZGUpXG4gICAgICAgICAgOiBlbGVtZW50LnR5cGUgPT09IFwiY2hlY2tib3hcIik7XG5cbiAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zXG4gICAgICAgID8gWy4uLmVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zXS5tYXAoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlKS5qb2luKFwiLFwiKVxuICAgICAgICA6IGVsZW1lbnQudHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgID8gZWxlbWVudC5jaGVja2VkXG4gICAgICAgICAgPyBcInRydWVcIlxuICAgICAgICAgIDogXCJmYWxzZVwiXG4gICAgICAgIDogZWxlbWVudC52YWx1ZTtcblxuICAgICAgaWYgKHRyYWNrZWQgJiYgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBlbGxpcHNpcyh2YWx1ZSwgMjAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmNsdWRlID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldEZvcm1TdGF0ZSA9IChcbiAgICAgIGVsOiBGb3JtRWxlbWVudFxuICAgICk6IFtpbnB1dDogRm9ybUVsZW1lbnQsIHN0YXRlOiBGb3JtU3RhdGVdIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgIGNvbnN0IGZvcm1FbGVtZW50ID0gZWwuZm9ybTtcbiAgICAgIGlmICghZm9ybUVsZW1lbnQpIHJldHVybjsgLy8gRG9uJ3QgY2FyZSBpZiB3ZSBzdGFydGVkIHdpdGggYW4gZWxlbWVudCB0aGF0IGRpZG4ndCBtYXAgdG8gYSBmaWVsZC5cblxuICAgICAgY29uc3QgcmVmTmFtZSA9XG4gICAgICAgIHNjb3BlQXR0cmlidXRlKGZvcm1FbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKFwicmVmXCIpKSB8fCBcInRyYWNrX3JlZlwiO1xuXG4gICAgICBjb25zdCBwYXJzZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgXCJJTlBVVCxTRUxFQ1QsVEVYVEFSRUEsQlVUVE9OXCJcbiAgICAgICAgICApIGFzIGFueSBhcyBJdGVyYWJsZTxGb3JtRWxlbWVudD4sXG4gICAgICAgICAgKGVsLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PT0gXCJCVVRUT05cIiAmJiBlbC50eXBlICE9PSBcInN1Ym1pdFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWwubmFtZSB8fCBlbC50eXBlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBlbC50eXBlID09PSBcImhpZGRlblwiICYmXG4gICAgICAgICAgICAgICAgKGVsLm5hbWUgPT09IHJlZk5hbWUgfHwgdHJhY2tlckZsYWcoZWwsIFwicmVmXCIpKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAhZWwudmFsdWUgJiYgKGVsLnZhbHVlID0gdXVpZHY0KCkpO1xuICAgICAgICAgICAgICAgIHN0YXRlWzBdLnJlZiA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbC5uYW1lO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSAoc3RhdGVbMF0uZmllbGRzIVtuYW1lXSA/Pz0ge1xuICAgICAgICAgICAgICBpZDogZWwuaWQgfHwgbmFtZSxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgbGFiZWw6IHJlcGxhY2UoXG4gICAgICAgICAgICAgICAgZWwubGFiZWxzPy5bMF0/LmlubmVyVGV4dCA/PyBlbC5uYW1lLFxuICAgICAgICAgICAgICAgIC9eXFxzKiguKj8pXFxzKlxcKj9cXHMqJC9nLFxuICAgICAgICAgICAgICAgIFwiJDFcIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhY3RpdmVUaW1lOiAwLFxuICAgICAgICAgICAgICB0b3RhbFRpbWU6IDAsXG4gICAgICAgICAgICAgIHR5cGU6IGVsLnR5cGUgPz8gXCJ1bmtub3duXCIsXG4gICAgICAgICAgICAgIFtjdXJyZW50VmFsdWUgYXMgYW55XTogZ2V0Rm9ybUZpZWxkVmFsdWUoZWwpLFxuICAgICAgICAgICAgICB2YWx1ZTogZ2V0Rm9ybUZpZWxkVmFsdWUoZWwsIHRydWUpLFxuICAgICAgICAgICAgfSkgYXMgRm9ybUZpZWxkU3RhdGU7XG5cbiAgICAgICAgICAgIHN0YXRlWzBdLmZpZWxkcyFbZmllbGQubmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgIHN0YXRlWzFdLnNldChlbCwgZmllbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIGxldCBjYXB0dXJlZENvbnRleHQ6IFJldHVyblR5cGU8dHlwZW9mIGdldENvbXBvbmVudENvbnRleHQ+O1xuXG4gICAgICBjb25zdCBpc0Zvcm1WaXNpYmxlID0gKCkgPT5cbiAgICAgICAgZm9ybUVsZW1lbnQuaXNDb25uZWN0ZWQgJiYgZ2V0UmVjdChmb3JtRWxlbWVudCkud2lkdGg7XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Mihmb3JtRXZlbnRzLCBmb3JtRWxlbWVudCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IG5ldyBNYXA8RWxlbWVudCwgRm9ybUZpZWxkU3RhdGU+KCk7XG4gICAgICAgIGNvbnN0IGV2OiBGb3JtRXZlbnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJmb3JtXCIsXG4gICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgIHNjb3BlQXR0cmlidXRlKGZvcm1FbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKFwiZm9ybS1uYW1lXCIpKSB8fFxuICAgICAgICAgICAgYXR0cihmb3JtRWxlbWVudCwgXCJuYW1lXCIpIHx8XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5pZCB8fFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIGFjdGl2ZVRpbWU6IDAsXG4gICAgICAgICAgdG90YWxUaW1lOiAwLFxuICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJhY2tlci5ldmVudHMucG9zdChldik7XG5cbiAgICAgICAgdHJhY2tlci5ldmVudHMucmVnaXN0ZXJFdmVudFBhdGNoU291cmNlKFxuICAgICAgICAgIGV2LFxuICAgICAgICAgICgpID0+ICh7IC4uLmV2LCB0aW1lT2Zmc2V0OiBnZXRWaWV3VGltZU9mZnNldCgpIH0gYXMgYW55KVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBzdGF0ZTogRm9ybVN0YXRlO1xuICAgICAgICBjb25zdCBjb21taXRFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGVbM10gPT09IEZvcm1GaWxsU3RhdGUuU3VibWl0dGVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmluYWwgZm9ybSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIHN1Ym1pdHRlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlTG9zdEZvY3VzKCk7IC8vIGZvY3Vzb3V0IG9yIGNoYW5nZSBldmVudHMgbWF5IG5vdCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIHBhZ2Ugd2hpbGUgYSBmaWVsZCBoYXMgZm9jdXMuXG5cbiAgICAgICAgICAvLyBJZiB0aGUgZm9ybSBoYXMgZGlzYXBwZWFyZWQgaXQgaXMgaGV1cmlzdGljYWxseSBhc3N1bWVkIGl0IHdhcyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgIGlmIChzdGF0ZVszXSA+PSBGb3JtRmlsbFN0YXRlLlBlbmRpbmcpIHtcbiAgICAgICAgICAgIGV2LmNvbXBsZXRlZCA9XG4gICAgICAgICAgICAgIHN0YXRlWzNdID09PSBGb3JtRmlsbFN0YXRlLlN1Ym1pdHRpbmcgfHwgIWlzRm9ybVZpc2libGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmFja2VyLmV2ZW50cy5wb3N0UGF0Y2goZXYsIHtcbiAgICAgICAgICAgIC4uLmNhcHR1cmVkQ29udGV4dCxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogZXYuY29tcGxldGVkLFxuICAgICAgICAgICAgdG90YWxUaW1lOiBub3coVCkgLSBzdGF0ZVs0XSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0ZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29tbWl0VGltZW91dCA9IGNyZWF0ZVRpbWVvdXQoKTtcblxuICAgICAgICBjb25zdCBpc1JlQ2FwdGNoYUFjdGl2ZSA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgcHJvYmVEb2M6IERvY3VtZW50IHwgdW5kZWZpbmVkID0gZm9ybUVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgICB3aGlsZSAocHJvYmVEb2MpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc29tZTIoXG4gICAgICAgICAgICAgICAgcHJvYmVEb2MucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKSxcbiAgICAgICAgICAgICAgICAoZnJhbWUpID0+XG4gICAgICAgICAgICAgICAgICBmcmFtZS5zcmMubWF0Y2goXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlQ0FQVENIQSBjaGFsbGVuZ2UgVVJMcyBhcmUgbGlrZSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvKHNvbWV0aGluZykvYmZyYW1lPyhzb21ldGhpbmcpYFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBtYXkgYmUgb3RoZXIgaWZyYW1lcyB3aXRoIGByZWNhcHRjaGFgIGluIHRoZSBVUkwsIGJ1dCB0aGF0IGlzIHR5cGljYWxseSB0aGUgXCJiYWRnZVwiIHNob3duIGluIHNvbWUgZm9ybXMuXG4gICAgICAgICAgICAgICAgICAgIC9odHRwczpcXC9cXC93d3cuZ29vZ2xlLmNvbVxcLy4qKD88PVxcLylyZWNhcHRjaGFcXC8uKig/PD1cXC8pYmZyYW1lL2dpXG4gICAgICAgICAgICAgICAgICApICYmIGlzVmlzaWJsZShmcmFtZSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXYWxrIHVwIHRoZSBmcmFtZXMuIFRoZSBkaWFsb2cgbWF5IGhhdmUgYmVlbiBpbmplY3RlZCBpbnRvIHRoZSBtYWluIHdpbmRvdy5cbiAgICAgICAgICAgIHByb2JlRG9jID0gdHJ5Q2F0Y2goXG4gICAgICAgICAgICAgICgpID0+IHByb2JlRG9jIS5kZWZhdWx0Vmlldz8uZnJhbWVFbGVtZW50Py5vd25lckRvY3VtZW50LFxuICAgICAgICAgICAgICAoKSA9PiB1bmRlZmluZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgZm9ybUVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5LFxuICAgICAgICAgIFwic3VibWl0XCIsXG4gICAgICAgICAgKHN1Ym1pdEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjYXB0dXJlZENvbnRleHQgPSBnZXRDb21wb25lbnRDb250ZXh0KGZvcm1FbGVtZW50KTtcbiAgICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0aW5nO1xuXG4gICAgICAgICAgICBpZiAoc3VibWl0RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAvLyBNaWdodCBiZSBYSFIuIElmIHNvLCB0aGUgZGVmYXVsdCB3b3VsZCBoYXZlIGJlZW4gcHJldmVudGVkLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBtdXN0IHdhaXQgYW5kIHNlZSBpZiB0aGUgZm9ybSBkaXNhcHBlYXJzLCBvdGhlcndpc2UsIGl0IGNvdWxkIGFsc28gYmUgdmFsaWRhdGlvbiBlcnJvcnMuXG4gICAgICAgICAgICAgIGNvbnN0IFt1bmJpbmROYXZpZ2F0aW9uTGlzdGVuZXJdID0gYWRkUGFnZUxvYWRlZExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIChsb2FkZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgbmF2aWdhdGVzIHdoaWxlIHdhaXRpbmcsIHRoaXMgaXMgYWxzbyBjb25zaWRlcmVkIGEgc3VibWl0LlxuICAgICAgICAgICAgICAgICAgaWYgKHJlY2FwdGNoYSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgICBgVGhlIGJyb3dzZXIgaXMgbmF2aWdhdGluZyB0byBhbm90aGVyIHBhZ2UgYWZ0ZXIgc3VibWl0IGxlYXZpbmcgYSByZUNBUFRDSEEgY2hhbGxlbmdlLiAke2Fuc2koXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkZvcm0gbm90IHN1Ym1pdHRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZVszXSA9PT0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgIGBUaGUgYnJvd3NlciBpcyBuYXZpZ2F0aW5nIHRvIGFub3RoZXIgcGFnZSBhZnRlciBzdWJtaXQuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29tbWl0RXZlbnQoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgIGBUaGUgYnJvd3NlciBpcyBuYXZpZ2F0aW5nIHRvIGFub3RoZXIgcGFnZSBhZnRlciBzdWJtaXQsIGJ1dCBzdWJtaXQgd2FzIGVhcmxpZXIgY2FuY2VsbGVkIGJlY2F1c2Ugb2YgdmFsaWRhdGlvbiBlcnJvcnMuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBub3Qgc3VibWl0dGVkLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdW5iaW5kTmF2aWdhdGlvbkxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsZXQgcmVjYXB0Y2hhID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbW1pdFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1JlQ2FwdGNoYUFjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVszXSA9IEZvcm1GaWxsU3RhdGUuUGVuZGluZztcbiAgICAgICAgICAgICAgICAgIGRlYnVnKFwicmVDQVBUQ0hBIGNoYWxsZW5nZSBpcyBhY3RpdmUuXCIpO1xuICAgICAgICAgICAgICAgICAgcmVjYXB0Y2hhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVjYXB0Y2hhKSB7XG4gICAgICAgICAgICAgICAgICByZWNhcHRjaGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGRlYnVnKFwicmVDQVBUQ0hBIGNoYWxsZW5nZSBlbmRlZCAoZm9yIGJldHRlciBvciB3b3JzZSkuXCIpO1xuICAgICAgICAgICAgICAgICAgc3RhdGVbM10gPSBGb3JtRmlsbFN0YXRlLlN1Ym1pdHRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3JtRWxlbWVudC5pc0Nvbm5lY3RlZCAmJiBnZXRSZWN0KGZvcm1FbGVtZW50KS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5QZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIGBGb3JtIGlzIHN0aWxsIHZpc2libGUgYWZ0ZXIgJHtWQUxJREFUSU9OX0VSUk9SX1RJTUVPVVR9IG1zLCB2YWxpZGF0aW9uIGVycm9ycyBhc3N1bWVkLiAke2Fuc2koXG4gICAgICAgICAgICAgICAgICAgICAgXCJGb3JtIG5vdCBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHVuYmluZE5hdmlnYXRpb25MaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgYEZvcm0gaXMgbm8gbG9uZ2VyIHZpc2libGUgJHtWQUxJREFUSU9OX0VSUk9SX1RJTUVPVVR9IG1zIGFmdGVyIHN1Ym1pdC4gJHthbnNpKFxuICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbW1pdEV2ZW50KCk7XG4gICAgICAgICAgICAgICAgICB1bmJpbmROYXZpZ2F0aW9uTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIFZBTElEQVRJT05fRVJST1JfVElNRU9VVCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgIGBTdWJtaXQgZXZlbnQgdHJpZ2dlcmVkIGFuZCBkZWZhdWx0IG5vdCBwcmV2ZW50ZWQuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29tbWl0RXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgY2FwdHVyZTogZmFsc2UgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiAoc3RhdGUgPSBbXG4gICAgICAgICAgZXYsXG4gICAgICAgICAgZmllbGRNYXAsXG4gICAgICAgICAgZm9ybUVsZW1lbnQsXG4gICAgICAgICAgRm9ybUZpbGxTdGF0ZS5Ob25lLFxuICAgICAgICAgIG5vdyhUKSxcbiAgICAgICAgICAxLFxuICAgICAgICBdKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzdGF0ZVsxXS5nZXQoZWwpKSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbHNvIGJlIHRoZSBjYXNlIGlmIGEgbmV3IGZpZWxkIHdhcyBhZGRlZCB0byB0aGUgRE9NLlxuICAgICAgICBwYXJzZUVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2VsISwgc3RhdGVdO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRGaWVsZEluZm8gPSAoXG4gICAgICBlbDogTm9kZVdpdGhQYXJlbnRFbGVtZW50LFxuICAgICAgW2Zvcm1FbGVtZW50LCBzdGF0ZV0gPSBnZXRGb3JtU3RhdGUoZWwgYXMgYW55KSA/PyBbXSxcbiAgICAgIGZpZWxkID0gc3RhdGU/LlsxXS5nZXQoZm9ybUVsZW1lbnQgYXMgRWxlbWVudClcbiAgICApID0+IGZpZWxkICYmIChbc3RhdGUhWzBdLCBmaWVsZCwgZm9ybUVsZW1lbnQhLCBzdGF0ZSFdIGFzIGNvbnN0KTtcblxuICAgIGxldCBjdXJyZW50RmllbGQ6IFJldHVyblR5cGU8dHlwZW9mIGdldEZpZWxkSW5mbz4gfCBudWxsID0gbmlsO1xuICAgIGNvbnN0IGhhbmRsZUxvc3RGb2N1cyA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudEZpZWxkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IFtmb3JtLCBmaWVsZCwgZWwsIHN0YXRlXSA9IGN1cnJlbnRGaWVsZDtcbiAgICAgIGNvbnN0IGFjdGl2ZSA9IC0odHYwIC0gKHR2MCA9IGdldFZpc2libGVEdXJhdGlvbigpKSk7XG4gICAgICBjb25zdCB0b3RhbCA9IC0odDAgLSAodDAgPSBub3coVCkpKTtcblxuICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGZpZWxkW2N1cnJlbnRWYWx1ZV07XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IChmaWVsZFtjdXJyZW50VmFsdWVdID0gZ2V0Rm9ybUZpZWxkVmFsdWUoZWwpKTtcblxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgIGZpZWxkLmZpbGxPcmRlciA/Pz0gc3RhdGVbNV0rKztcbiAgICAgICAgaWYgKGZpZWxkLmZpbGxlZCkge1xuICAgICAgICAgIGZpZWxkLmNvcnJlY3Rpb25zID0gKGZpZWxkLmNvcnJlY3Rpb25zID8/IDApICsgMTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZC5maWxsZWQgPSBUO1xuXG4gICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5QZW5kaW5nO1xuICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICBmb3JtLmZpZWxkcyEsXG4gICAgICAgICAgKFtuYW1lLCB2YWx1ZV0pID0+ICh2YWx1ZS5sYXN0RmllbGQgPSBuYW1lID09PSBmaWVsZC5uYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZmllbGQudmFsdWUgPSBnZXRGb3JtRmllbGRWYWx1ZShlbCwgdHJ1ZSk7XG5cbiAgICAgIGZpZWxkLmFjdGl2ZVRpbWUhICs9IGFjdGl2ZTtcbiAgICAgIGZpZWxkLnRvdGFsVGltZSEgKz0gdG90YWw7XG4gICAgICBmb3JtLmFjdGl2ZVRpbWUhICs9IGFjdGl2ZTtcbiAgICAgIGZvcm0udG90YWxUaW1lISArPSB0b3RhbDtcbiAgICAgIGN1cnJlbnRGaWVsZCA9IG5pbDtcbiAgICB9O1xuXG4gICAgbGV0IHR2MCA9IDA7XG4gICAgbGV0IHQwID0gMDtcbiAgICBjb25zdCB3aXJlRm9ybUZpZWxkcyA9IChkb2N1bWVudDogRG9jdW1lbnQgfCBOdWxsaXNoKSA9PlxuICAgICAgZG9jdW1lbnQgJiZcbiAgICAgIGxpc3RlbihcbiAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgIFtcImZvY3VzaW5cIiwgXCJmb2N1c291dFwiLCBcImNoYW5nZVwiXSxcbiAgICAgICAgKGV2LCBfLCBjdXJyZW50ID0gZXYudGFyZ2V0ICYmIGdldEZpZWxkSW5mbyhldi50YXJnZXQpKSA9PlxuICAgICAgICAgIGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnRGaWVsZCA9IGN1cnJlbnQpLFxuICAgICAgICAgIGV2LnR5cGUgPT09IFwiZm9jdXNpblwiXG4gICAgICAgICAgICA/ICgodDAgPSBub3coVCkpLCAodHYwID0gZ2V0VmlzaWJsZUR1cmF0aW9uKCkpKVxuICAgICAgICAgICAgOiBoYW5kbGVMb3N0Rm9jdXMoKSlcbiAgICAgICk7XG5cbiAgICB3aXJlRm9ybUZpZWxkcyhkb2N1bWVudCk7XG4gICAgb25GcmFtZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWUuY29udGVudERvY3VtZW50ICYmIHdpcmVGb3JtRmllbGRzKGZyYW1lLmNvbnRlbnREb2N1bWVudCksXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcbn07XG4iLCJpbXBvcnQge1xuICBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSxcbiAgY29tbWVyY2UsXG4gIGNvbXBvbmVudHMsXG4gIGNvbnRleHQsXG4gIGZvcm1zLFxuICBzY3JvbGwsXG4gIHVzZXJJbnRlcmFjdGlvbixcbiAgY29uc2VudCxcbn0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RXh0ZW5zaW9uczogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnlbXSA9IFtcbiAgY29udGV4dCxcbiAgY29tcG9uZW50cyxcbiAgdXNlckludGVyYWN0aW9uLFxuICBzY3JvbGwsXG4gIGNvbW1lcmNlLFxuICBmb3JtcyxcbiAgY29uc2VudCxcbl07XG4iLCJpbXBvcnQgdHlwZSB7IENvbXBvbmVudCwgRXh0ZXJuYWxSZWZlcmVuY2UgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgVCwgYWRkLCBtYXAyLCBuaWwsIHB1c2gsIHNwbGl0LCB0b1N0cmluZyB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGF0dHIgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHR5cGUgeyBCb3VuZGFyeUNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcblxudHlwZSBNYXBwZWRDb21wb25lbnQgPSBbXG4gIGNvbW1hbmQ6IHtcbiAgICBjb21wb25lbnQ/OiBDb21wb25lbnQ7XG4gICAgY29udGVudD86IEV4dGVybmFsUmVmZXJlbmNlO1xuICAgIGFyZWE/OiBzdHJpbmc7XG4gIH0sXG4gIGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbkF0dHJpYnV0ZXMoXG4gIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyxcbiAgcmVmZXJlbmNlczogTWFwcGVkQ29tcG9uZW50WzBdW11cbik6IEJvdW5kYXJ5Q29tbWFuZFtdIHtcbiAgaWYgKCFyZWZlcmVuY2VzKSByZXR1cm4gW107XG4gIGNvbnN0IGNvbW1hbmRzOiBCb3VuZGFyeUNvbW1hbmRbXSA9IFtdO1xuXG4gIGNvbnN0IHNlZW4gPSBuZXcgU2V0PGFueT4oKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7YXR0cmlidXRlTmFtZX1dYCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoc2Vlbi5oYXMoZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhY2s6IGFueVtdID0gW107XG5cbiAgICB3aGlsZSAoYXR0cihlbCwgYXR0cmlidXRlTmFtZSkgIT0gbmlsKSB7XG4gICAgICBhZGQoc2VlbiwgZWwpO1xuICAgICAgY29uc3QgZGVsdGEgPSBzcGxpdChhdHRyKGVsLCBhdHRyaWJ1dGVOYW1lKSEsIFwifFwiKTtcbiAgICAgIGF0dHIoZWwsIGF0dHJpYnV0ZU5hbWUsIG5pbCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtOiBhbnkgPSBkZWx0YVtpXTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IFwiXCIpIHtcbiAgICAgICAgICBjb250aW51ZTsgLy8gSWYgdGhlIGF0dHJpYnV0ZSBzdGFydHMgd2l0aCBcInxcIiBpdCBtZWFucyBcImtlZXAgc3RhY2tcIi4gU3BsaXR0aW5nIHRoZSBhcnJheSBvbiBcInxcIiB3aWxsIGdpdmUgYW4gZW1wdHkgaXRlbS5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1iZXIgPSBpdGVtID09PSBcIi1cIiA/IC0xIDogcGFyc2VJbnQodG9TdHJpbmcoaXRlbSkgPz8gXCJcIiwgMzYpO1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCArPSBudW1iZXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCA9IDA7IC8vIFRoZSBmaXJzdCBpdGVtIGhhcyBhIHZhbHVlIHRvIHJlcGxhY2UgdGhlIHN0YWNrIHNpbmNlIG5vdCBwcmVjZWRlZCBieSBuZWl0aGVyIFwifFwiIG5vciBhIG5lZ2F0aXZlIG51bWJlciAocG9wKS5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc05hTihudW1iZXIpICYmIC9eW1wiXFxbe10vLnRlc3QoaXRlbSkpIHtcbiAgICAgICAgICAvLyBQb29yIG1hbidzIHBhcnNlci4gSWYgdGhlIEpTT04gY29udGFpbnMgJ3wncyBrZWVwIGdvaW5nIHVudGlsIGl0IHdvcmtzLlxuICAgICAgICAgIGxldCBqc29uID0gXCJcIjtcbiAgICAgICAgICBmb3IgKDsgaSA8IGRlbHRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpdGVtID0gSlNPTi5wYXJzZSgoanNvbiArPSBkZWx0YVtpXSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bWJlciA+PSAwICYmIHJlZmVyZW5jZXNbbnVtYmVyXSkge1xuICAgICAgICAgIGl0ZW0gPSByZWZlcmVuY2VzW251bWJlcl07XG4gICAgICAgIH1cbiAgICAgICAgcHVzaChzdGFjaywgaXRlbSk7XG4gICAgICB9XG4gICAgICBwdXNoKFxuICAgICAgICBjb21tYW5kcyxcbiAgICAgICAgLi4ubWFwMihzdGFjaywgKGRhdGEpID0+ICh7IGFkZDogVCwgLi4uZGF0YSwgYm91bmRhcnk6IGVsIH0pKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmchOyAvLyBJZ25vcmUgVFMgbnVsbCBlcnJvci5cbiAgICAgIGlmIChlbC50YWdOYW1lID09PSBcIldCUlwiKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgIH1cbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb21tYW5kcztcbn1cbiIsImltcG9ydCB7IFNjcm9sbEV2ZW50IH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7IFQsIGRlZmVyLCBtYXAyLCBwdXNoLCByZXN0cmljdCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGFkZFZpZXdDaGFuZ2VkTGlzdGVuZXIsIHR5cGUgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGxpc3RlbiwgcmVsYXRpdmVTY3JvbGxQb3MsIHNjcm9sbFBvcyB9IGZyb20gXCIuLi9saWJcIjtcblxuZXhwb3J0IGNvbnN0IHNjcm9sbDogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcInNjcm9sbFwiLFxuICBzZXR1cCh0cmFja2VyKSB7XG4gICAgbGV0IGVtaXR0ZWQ6IFBhcnRpYWw8UmVjb3JkPFJlcXVpcmVkPFNjcm9sbEV2ZW50PltcInNjcm9sbFR5cGVcIl0sIGJvb2xlYW4+PiA9XG4gICAgICB7fTtcbiAgICBsZXQgaW5pdGlhbFNjcm9sbCA9IHNjcm9sbFBvcyhUKTtcblxuICAgIGFkZFZpZXdDaGFuZ2VkTGlzdGVuZXIoKCkgPT5cbiAgICAgIGRlZmVyKCgpID0+ICgoZW1pdHRlZCA9IHt9KSwgKGluaXRpYWxTY3JvbGwgPSBzY3JvbGxQb3MoVCkpKSwgMjUwKVxuICAgICk7XG5cbiAgICBsaXN0ZW4od2luZG93LCBcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY3JvbGwgPSBzY3JvbGxQb3MoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHJlbGF0aXZlU2Nyb2xsUG9zKCk7XG5cbiAgICAgIGlmIChzY3JvbGwueSA+PSBpbml0aWFsU2Nyb2xsLnkpIHtcbiAgICAgICAgY29uc3QgdHlwZXM6IChrZXlvZiB0eXBlb2YgZW1pdHRlZClbXSA9IFtdO1xuXG4gICAgICAgICFlbWl0dGVkW1wiZm9sZFwiXSAmJlxuICAgICAgICAgIHNjcm9sbC55ID49IGluaXRpYWxTY3JvbGwueSArIDIwMCAmJlxuICAgICAgICAgICgoZW1pdHRlZFtcImZvbGRcIl0gPSBUKSwgcHVzaCh0eXBlcywgXCJmb2xkXCIpKTtcblxuICAgICAgICAhZW1pdHRlZFtcInBhZ2UtbWlkZGxlXCJdICYmXG4gICAgICAgICAgb2Zmc2V0LnkgPj0gMC41ICYmXG4gICAgICAgICAgKChlbWl0dGVkW1wicGFnZS1taWRkbGVcIl0gPSBUKSwgcHVzaCh0eXBlcywgXCJwYWdlLW1pZGRsZVwiKSk7XG5cbiAgICAgICAgIWVtaXR0ZWRbXCJwYWdlLWVuZFwiXSAmJlxuICAgICAgICAgIG9mZnNldC55ID49IDAuOTkgJiZcbiAgICAgICAgICAoKGVtaXR0ZWRbXCJwYWdlLWVuZFwiXSA9IFQpLCBwdXNoKHR5cGVzLCBcInBhZ2UtZW5kXCIpKTtcblxuICAgICAgICBjb25zdCBtYXBwZWQgPSBtYXAyKHR5cGVzLCAoc2Nyb2xsVHlwZSkgPT5cbiAgICAgICAgICByZXN0cmljdDxTY3JvbGxFdmVudD4oe1xuICAgICAgICAgICAgdHlwZTogXCJzY3JvbGxcIixcbiAgICAgICAgICAgIHNjcm9sbFR5cGUsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBtYXBwZWQubGVuZ3RoICYmIHRyYWNrZXIobWFwcGVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBDT05TRU5UX0lORk9fS0VZIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgQ29uc2VudEV2ZW50LFxyXG4gIERhdGFQdXJwb3NlTmFtZSxcclxuICBEYXRhUHVycG9zZXMsXHJcbiAgRGF0YVVzYWdlLFxyXG4gIFVzZXJDb25zZW50LFxyXG4gIFZhcmlhYmxlUG9sbENhbGxiYWNrLFxyXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XHJcbmltcG9ydCB7IENsb2NrLCBGLCBOdWxsaXNoLCBULCBjbG9jaywgbWFwMiwgcmVzdHJpY3QgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7XHJcbiAgQ29uc2VudENvbW1hbmQsXHJcbiAgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnksXHJcbiAgaXNVcGRhdGVDb25zZW50Q29tbWFuZCxcclxufSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHsgZGVidWcsIGRvY3VtZW50LCB3aW5kb3cgfSBmcm9tIFwiLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29uc2VudDogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XHJcbiAgaWQ6IFwiY29uc2VudFwiLFxyXG4gIHNldHVwKHRyYWNrZXIpIHtcclxuICAgIGNvbnN0IGdldEN1cnJlbnRDb25zZW50ID0gYXN5bmMgKFxyXG4gICAgICBjYWxsYmFjaz86IFZhcmlhYmxlUG9sbENhbGxiYWNrPFVzZXJDb25zZW50PlxyXG4gICAgKSA9PiB7XHJcbiAgICAgIHJldHVybiAoYXdhaXQgdHJhY2tlci52YXJpYWJsZXNcclxuICAgICAgICAuZ2V0KHtcclxuICAgICAgICAgIHNjb3BlOiBcInNlc3Npb25cIixcclxuICAgICAgICAgIGtleTogQ09OU0VOVF9JTkZPX0tFWSxcclxuICAgICAgICAgIHBvbGw6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgcmVmcmVzaDogIWNhbGxiYWNrLFxyXG4gICAgICAgICAgcGFzc2l2ZTogIWNhbGxiYWNrLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnZhbHVlKCkpIGFzIFVzZXJDb25zZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVDb25zZW50ID0gYXN5bmMgPEMgZXh0ZW5kcyBVc2VyQ29uc2VudCB8IE51bGxpc2g+KFxyXG4gICAgICBjb25zZW50OiBDXHJcbiAgICApOiBQcm9taXNlPFxyXG4gICAgICBDIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgOiBbdXBkYXRlZDogYm9vbGVhbiwgY3VycmVudDogVXNlckNvbnNlbnQgfCB1bmRlZmluZWRdXHJcbiAgICA+ID0+IHtcclxuICAgICAgaWYgKCFjb25zZW50KSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcclxuXHJcbiAgICAgIGxldCBjdXJyZW50ID0gYXdhaXQgZ2V0Q3VycmVudENvbnNlbnQoKTtcclxuXHJcbiAgICAgIGlmICghY3VycmVudCB8fCBEYXRhVXNhZ2UuZXF1YWxzKGN1cnJlbnQsIGNvbnNlbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtmYWxzZSwgY3VycmVudF0gYXMgYW55O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0cmFja2VyLmV2ZW50cy5wb3N0KFxyXG4gICAgICAgIHJlc3RyaWN0PENvbnNlbnRFdmVudD4oe1xyXG4gICAgICAgICAgdHlwZTogXCJjb25zZW50XCIsXHJcbiAgICAgICAgICBjb25zZW50LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgIHZhcmlhYmxlczoge1xyXG4gICAgICAgICAgICBnZXQ6IFt7IHNjb3BlOiBcInNlc3Npb25cIiwga2V5OiBDT05TRU5UX0lORk9fS0VZIH1dLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBbdHJ1ZSwgY29uc2VudF0gYXMgYW55O1xyXG4gICAgfTtcclxuXHJcbiAgICAoKCkgPT4ge1xyXG4gICAgICAvLyBUT0RPOiBNYWtlIGluamVjdGFibGUgdG8gc3VwcG9ydCBvdGhlciB0aGFuIEdDTXYyIGNvbXBhdGlibGUgY29va2llIGRpc2NsYWltZXJzLlxyXG4gICAgICAvLyBJZGVhbGx5LCBpdCBjb3VsZCBiZSBpbmplY3RlZCBpbiB0aGUgaW5pdCBzY3JpcHQgZnJvbSB0aGUgcmVxdWVzdCBoYW5kbGVyLlxyXG4gICAgICAvLyBIb3dldmVyLCBob29raW5nIGludG8gdGhlIG1haW4gY2F0ZWdvcmllcyBvZiBHb29nbGUncyBjb25zZW50IG1vZGUgdjIgc2hvdWxkIGNvdmVyIG1vc3QgY2FzZXMuXHJcblxyXG4gICAgICAvLyBTaW5jZSB0aGUgZGF0YSBsYXllciBpcyBhIGNhcHBlZCBidWZmZXIgdGhhdCBtYXkgZ2V0IHJvdGF0ZWRcclxuICAgICAgLy8gd2UgZGV0ZWN0IGNoYW5nZXMgYnkga2VlcGluZyB0cmFjayBvZiB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBhcnJheS5cclxuICAgICAgLy8gVGhpcyBhbHNvIGhhbmRsZXMgdGhlIHNpdHVhdGlvbiB3aGVyZSBzb21lb25lIHJlcGxhY2VzIHRoZSBkYXRhIGxheWVyLlxyXG5cclxuICAgICAgY29uc3QgR0NNdjJNYXBwaW5nczogUmVjb3JkPHN0cmluZywgRGF0YVB1cnBvc2VOYW1lPiA9IHtcclxuICAgICAgICAvLyBQZXJmb3JtYW5jZVxyXG4gICAgICAgIGFuYWx5dGljc19zdG9yYWdlOiBcInBlcmZvcm1hbmNlXCIsXHJcblxyXG4gICAgICAgIC8vIEZ1bmN0aW9uYWxpdHlcclxuICAgICAgICBmdW5jdGlvbmFsaXR5X3N0b3JhZ2U6IFwiZnVuY3Rpb25hbGl0eVwiLFxyXG5cclxuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBjb3ZlcmVkIHdpdGggbm9ybWFsIFwiZnVuY3Rpb25hbGl0eVwiLlxyXG4gICAgICAgIC8vIE5vIGRpc3RpbmN0aW9uIGJldHdlZW4gZnVuY3Rpb25hbGl0eSBhbmQgcGVyc29uYWxpemF0aW9uIGluIGNvbW1vbiBjb29raWUgQ01QLCBlLmcuIENvb2tpZUJvdC5cclxuICAgICAgICAvLyBOb3Qgc3VyZSB3aHkgR29vZ2xlIHRoaW5rcyB0aGlzIGlzIGEgZGlmZmVyZW50LCBidXQgdGFpbC5qcyBjYW4gYmUgY29uZmlndXJlZCB0byB0cmVhdCB0aGlzIHB1cnBvc2Ugc2VwYXJhdGVseS5cclxuICAgICAgICAvL1xyXG4gICAgICAgIHBlcnNvbmFsaXphdGlvbl9zdG9yYWdlOiBcInBlcnNvbmFsaXphdGlvblwiLFxyXG5cclxuICAgICAgICBhZF9zdG9yYWdlOiBcIm1hcmtldGluZ1wiLCAvLyBUYXJnZXRpbmdcclxuXHJcbiAgICAgICAgc2VjdXJpdHlfc3RvcmFnZTogXCJzZWN1cml0eVwiLCAvLyBTZWN1cml0eVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbGV0IGRhdGFMYXllckhlYWQ6IGFueTtcclxuICAgICAgdHJhY2tlcih7XHJcbiAgICAgICAgY29uc2VudDoge1xyXG4gICAgICAgICAgZXh0ZXJuYWxTb3VyY2U6IHtcclxuICAgICAgICAgICAga2V5OiBcIkdvb2dsZSBDb25zZW50IE1vZGUgdjJcIixcclxuICAgICAgICAgICAgZnJlcXVlbmN5OiAyNTAsXHJcbiAgICAgICAgICAgIHBvbGw6ICgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHdpbmRvd1tcImRhdGFMYXllclwiXTtcclxuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0hlYWQgPSBkYXRhTGF5ZXJIZWFkO1xyXG4gICAgICAgICAgICAgIGxldCBuOiBudW1iZXIgPSBsYXllcj8ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICFuIHx8XHJcbiAgICAgICAgICAgICAgICAoZGF0YUxheWVySGVhZCA9PT0gKGRhdGFMYXllckhlYWQgPSBsYXllcltuIC0gMV0pICYmXHJcbiAgICAgICAgICAgICAgICAgIGRhdGFMYXllckhlYWQpIC8vIEFsc28gY2hlY2sgdGhhdCB0aGUgbGFzdCBpdGVtIGhhcyBhIHZhbHVlLCBvdGhlcndpc2UgYW4gZW1wdHkgZWxlbWVudCBjb3VsZCB0cmljayB1cy5cclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGxldCBpdGVtOiBhbnk7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKFxyXG4gICAgICAgICAgICAgICAgbi0tICYmXHJcbiAgICAgICAgICAgICAgICAoKGl0ZW0gPSBsYXllcltuXSkgIT09IHByZXZpb3VzSGVhZCB8fCAhcHJldmlvdXNIZWFkKSAvLyBDaGVjayBhbGwgaXRlbXMgaWYgd2UgaGF2ZSBub3QgY2FwdHVyZWQgdGhlIHByZXZpb3VzIGhlYWQuXHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwdXJwb3NlczogRGF0YVB1cnBvc2VzID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5vbnltb3VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIFJlYWQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXIgdG8gc2VlIGlmIHRoZXJlIGlzIGFueSBbXCJjb25zZW50XCIsIFwidXBkYXRlXCIsIC4uLl0gZW50cnlcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGxhc3QgdGltZSB3ZSBjaGVja2VkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0/LlswXSA9PT0gXCJjb25zZW50XCIgJiYgaXRlbVsxXSA9PT0gXCJ1cGRhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICBtYXAyKFxyXG4gICAgICAgICAgICAgICAgICAgIEdDTXYyTWFwcGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgKFtrZXksIGNvZGVdKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgaXRlbVsyXVtrZXldID09PSBcImdyYW50ZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgKChwdXJwb3Nlc1tjb2RlXSA9IHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgKGFub255bW91cyAmJj1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VjdXJpdHkgaXMgY29uc2lkZXJlZCBcIm5lY2Vzc2FyeVwiIGZvciBzb21lIGV4dGVybmFsIHB1cnBvc2UgYnkgdGFpbC5qc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZG9lcyBub3QgZGVhY3RpdmF0ZSBhbm9ueW1vdXMgdHJhY2tpbmcgYnkgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID09PSBcInNlY3VyaXR5XCIgfHwgY29kZSA9PT0gXCJuZWNlc3NhcnlcIikpXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uOiBhbm9ueW1vdXMgPyBcImFub255bW91c1wiIDogXCJkaXJlY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwdXJwb3NlcyxcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0gYXMgQ29uc2VudENvbW1hbmQpO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBjb25zdCBleHRlcm5hbENvbnNlbnRTb3VyY2VzOiBSZWNvcmQ8c3RyaW5nLCBDbG9jaz4gPSB7fTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcm9jZXNzQ29tbWFuZChjb21tYW5kKSB7XHJcbiAgICAgICAgaWYgKGlzVXBkYXRlQ29uc2VudENvbW1hbmQoY29tbWFuZCkpIHtcclxuICAgICAgICAgIGNvbnN0IGdldHRlciA9IGNvbW1hbmQuY29uc2VudC5nZXQ7XHJcbiAgICAgICAgICBpZiAoZ2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb25zZW50KChjdXJyZW50LCBfLCBwcmV2aW91cykgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50ID8gZ2V0dGVyKGN1cnJlbnQsIHByZXZpb3VzKSA6IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHNldHRlciA9IGNvbW1hbmQuY29uc2VudC5zZXQ7XHJcbiAgICAgICAgICBzZXR0ZXIgJiZcclxuICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoXCJjb25zZW50XCIgaW4gc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbdXBkYXRlZCwgY29uc2VudF0gPSBhd2FpdCB1cGRhdGVDb25zZW50KHNldHRlci5jb25zZW50KTtcclxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsYmFjaz8uKHVwZGF0ZWQsIGNvbnNlbnQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb25zZW50KHNldHRlcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGV4dGVybmFsU291cmNlID0gY29tbWFuZC5jb25zZW50LmV4dGVybmFsU291cmNlO1xyXG5cclxuICAgICAgICAgIGlmIChleHRlcm5hbFNvdXJjZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBleHRlcm5hbFNvdXJjZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGxlciA9IChleHRlcm5hbENvbnNlbnRTb3VyY2VzW2tleV0gPz89IGNsb2NrKHtcclxuICAgICAgICAgICAgICBmcmVxdWVuY3k6IGV4dGVybmFsU291cmNlLmZyZXF1ZW5jeSA/PyAxMDAwLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c0NvbnNlbnQ6IERhdGFVc2FnZSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGxDb25zZW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGFzRm9jdXMoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBuZXdDb25zZW50ID0gZXh0ZXJuYWxTb3VyY2UucG9sbChwcmV2aW91c0NvbnNlbnQpO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIW5ld0NvbnNlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbmV3Q29uc2VudCAmJlxyXG4gICAgICAgICAgICAgICAgIURhdGFVc2FnZS5lcXVhbHMocHJldmlvdXNDb25zZW50LCBuZXdDb25zZW50KVxyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW3VwZGF0ZWQsIGN1cnJlbnRdID0gYXdhaXQgdXBkYXRlQ29uc2VudChuZXdDb25zZW50KTtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRlYnVnKGN1cnJlbnQsIFwiQ29uc2VudCB3YXMgdXBkYXRlZCBmcm9tIFwiICsga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29uc2VudCA9IG5ld0NvbnNlbnQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBwb2xsZXIucmVzdGFydChleHRlcm5hbFNvdXJjZS5mcmVxdWVuY3ksIHBvbGxDb25zZW50KS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9LFxyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY29tbWFuZFRlc3QgPVxuICA8VCA9IGFueT4oLi4ubmFtZTogYW55W10pID0+XG4gIChjb21tYW5kOiBhbnkpOiBjb21tYW5kIGlzIFQgPT5cbiAgICBjb21tYW5kID09PSBuYW1lWzBdIHx8XG4gICAgbmFtZS5zb21lKFxuICAgICAgKG5hbWUpID0+IHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIGNvbW1hbmQ/LltuYW1lXSAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiIsImltcG9ydCB7IENhcnRFdmVudERhdGEgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgY29tbWFuZFRlc3QgfSBmcm9tIFwiLi9zaGFyZWRcIjtcblxuLyoqXG4gKiBUcmlnZ2VycyBldmVudHMgcmVsYXRlZCB0byBhIHNob3BwaW5nIGNhcnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FydENvbW1hbmQge1xuICBjYXJ0OiBcImNsZWFyXCIgfCBDYXJ0RXZlbnREYXRhO1xufVxuXG5leHBvcnQgY29uc3QgaXNDYXJ0Q29tbWFuZCA9IGNvbW1hbmRUZXN0PENhcnRDb21tYW5kPihcImNhcnRcIik7XG4iLCJpbXBvcnQgdHlwZSB7IE51bGxpc2ggfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVVzZXJDb21tYW5kIHtcbiAgdXNlcm5hbWU6IHN0cmluZyB8IE51bGxpc2g7XG59XG5cbmV4cG9ydCBjb25zdCBpc0NoYW5nZVVzZXJDb21tYW5kID0gY29tbWFuZFRlc3Q8Q2hhbmdlVXNlckNvbW1hbmQ+KFwidXNlcm5hbWVcIik7XG4iLCJpbXBvcnQgdHlwZSB7IFRhZ01hcHBpbmdzIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG5leHBvcnQgdHlwZSBUYWdBdHRyaWJ1dGVzQ29tbWFuZCA9IHtcbiAgdGFnQXR0cmlidXRlczogVGFnTWFwcGluZ3M7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGFnQXR0cmlidXRlc0NvbW1hbmQgPVxuICBjb21tYW5kVGVzdDxUYWdBdHRyaWJ1dGVzQ29tbWFuZD4oXCJ0YWdBdHRyaWJ1dGVzXCIpO1xuIiwiaW1wb3J0IHsgY29tbWFuZFRlc3QgfSBmcm9tIFwiLi9zaGFyZWRcIjtcblxuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIHRyYWNraW5nLlxuICovXG5leHBvcnQgdHlwZSBUb2dnbGVDb21tYW5kID0ge1xuICBkaXNhYmxlOiBib29sZWFuO1xufTtcbmV4cG9ydCBjb25zdCBpc1RvZ2dsZUNvbW1hbmQgPSBjb21tYW5kVGVzdDxUb2dnbGVDb21tYW5kPihcImRpc2FibGVcIik7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIENhcnRBY3Rpb24sXG4gIENhcnRFdmVudERhdGEsXG4gIENvbmZpZ3VyZWRDb21wb25lbnQsXG4gIENvbnRlbnQsXG4gIFBhcnNhYmxlVGFncyxcbiAgVGFnLFxuICBUcmFja2luZ1NldHRpbmdzLFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuXG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuaW1wb3J0IHsgTWF5YmVBcnJheSwgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBCb3VuZGFyeURhdGE8UmVxdWlyZUFycmF5cyA9IGZhbHNlPiB7XG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IGRlZmluaXRpb24ocykgYXNzb2NpYXRlZCB3aXRoIHRoZSBib3VuZGFyeSBlbGVtZW50LlxuICAgKi9cbiAgY29tcG9uZW50PzogTWF5YmVBcnJheTxDb25maWd1cmVkQ29tcG9uZW50LCB0cnVlLCBSZXF1aXJlQXJyYXlzPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IGRlZmluaXRpb24ocykgYXNzb2NpYXRlZCB3aXRoIHRoZSBib3VuZGFyeSBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudD86IE1heWJlQXJyYXk8Q29udGVudCwgdHJ1ZSwgUmVxdWlyZUFycmF5cz4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgY29udGVudCBhcmVhIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbiAgICpcbiAgICogQSBjb250ZW50IGFyZWEgaXMgdXNlZCB0byBpbmRpY2F0ZSB3aGVyZSBhY3RpdmF0ZWQgY29tcG9uZW50cyBhcmUgdXNlZC5cbiAgICovXG4gIGFyZWE/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAgVGhlc2UgdGFncyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnRzIGFuZCBjb250ZW50IGluIHVzZXIgYWN0aXZhdGlvbnMgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudCBvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzLlxuICAgKi9cbiAgdGFncz86IFJlcXVpcmVBcnJheXMgZXh0ZW5kcyB0cnVlID8gVGFnW10gOiBQYXJzYWJsZVRhZ3M7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IHdpbGwgaW5jbHVkZSBjYXJ0IGRhdGEgd2hlbiBhY3RpdmF0ZWQuXG4gICAqL1xuICBjYXJ0PzogQ2FydEFjdGlvbiB8IENhcnRFdmVudERhdGE7XG5cbiAgLyoqXG4gICAqIFNldHRpbmdzIHRoYXQgd2lsbCBhcHBseSB0byBjb21wb25lbnRzIGNvbnRhaW5lZCBieSB0aGUgYm91bmRhcnkgZWxlbWVudCBpbmNsdWRpbmcgaXRzZWxmLCBzaW1pbGFyIHRvIHNwZWNpZnlpbmcgXCJ0cmFjay0qXCIgSE1UTCBhdHRyaWJ1dGVzIG9uIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgdHJhY2s/OiBUcmFja2luZ1NldHRpbmdzO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBlbGVtZW50IGFzIHRoZSBib3VuZGFyeSBmb3IgYSBjb21wb25lbnQgb3Igc2ltaWxhciB0cmFja2luZyBkYXRhLiBBbGwgZXZlbnRzIHRyaWdnZXJlZCBmcm9tIHRoZSBlbGVtZW50IG9yIGl0cyBkZXNjZW5kYW50cyB3aWxsIGhhdmUgdGhpcyBpbmZvcm1hdGlvbiBhdHRhY2hlZC5cbiAqIEluIGNhc2Ugb2YgbmVzdGVkIGJvdW5kYXJpZXMgdGhlIGNsb3Nlc3Qgb25lIGlzIHVzZWQuXG4gKi9cbmV4cG9ydCB0eXBlIEJvdW5kYXJ5Q29tbWFuZCA9IHtcbiAgYm91bmRhcnk6IEVsZW1lbnQ7XG59ICYgKFxuICB8IChCb3VuZGFyeURhdGEgJiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb250ZW50LCB0YWdzIGFuZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGV4aXN0aW5nLCBpZiBhbnkuXG4gICAgICAgKi9cbiAgICAgIGFkZD86IGJvb2xlYW47XG4gICAgfSlcbiAgfCB7IHVwZGF0ZTogKGN1cnJlbnQ/OiBCb3VuZGFyeURhdGE8dHJ1ZT4pID0+IEJvdW5kYXJ5RGF0YSB8IE51bGxpc2ggfVxuKTtcblxuLy8ge1xuLy8gICAvKipcbi8vICAgICogVGhlIGNvbXBvbmVudCBkZWZpbml0aW9uKHMpIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbi8vICAgICovXG4vLyAgIGNvbXBvbmVudD86IENvbmZpZ3VyZWRDb21wb25lbnQgfCBDb25maWd1cmVkQ29tcG9uZW50W10gfCBudWxsO1xuXG4vLyAgIC8qKlxuLy8gICAgKiBUaGUgY29udGVudCBkZWZpbml0aW9uKHMpIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbi8vICAgICovXG4vLyAgIGNvbnRlbnQ/OiBDb250ZW50IHwgQ29udGVudFtdIHwgbnVsbDtcblxuLy8gICAvKipcbi8vICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbnRlbnQgYXJlYSBhc3NvY2lhdGVkIHdpdGggdGhlIGJvdW5kYXJ5IGVsZW1lbnQuXG4vLyAgICAqXG4vLyAgICAqIEEgY29udGVudCBhcmVhIGlzIHVzZWQgdG8gaW5kaWNhdGUgd2hlcmUgYWN0aXZhdGVkIGNvbXBvbmVudHMgYXJlIHVzZWQuXG4vLyAgICAqL1xuLy8gICBhcmVhPzogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsO1xuXG4vLyAgIC8qKlxuLy8gICAgKiAgVGhlc2UgdGFncyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnRzIGFuZCBjb250ZW50IGluIHVzZXIgYWN0aXZhdGlvbnMgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudCBvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzLlxuLy8gICAgKi9cbi8vICAgdGFncz86IFRhZyB8IFRhZ1tdIHwgbnVsbDtcblxuLy8gICAvKipcbi8vICAgICogVGhlIGVsZW1lbnQgd2lsbCBpbmNsdWRlIGNhcnQgZGF0YSB3aGVuIGFjdGl2YXRlZC5cbi8vICAgICovXG4vLyAgIGNhcnQ/OiBDYXJ0QWN0aW9uIHwgQ2FydEV2ZW50RGF0YTtcblxuLy8gICAvKipcbi8vICAgICogVGhlIGVsZW1lbnQncyBjb21wb25lbnQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgc3RhY2sgZXZlbiB3aGVuIHRoZSBhY3RpdmF0aW9uIHRyYWNraW5nIGxldmVsIGlzIGBkaXJlY3RgLlxuLy8gICAgKi9cbi8vICAgcHJvbW90ZT86IGJvb2xlYW47XG5cbi8vICAgLyoqXG4vLyAgICAqIFNwZWNpZmllcyBob3cgdGhlIHRoaXMgY29tbWFuZCBtb2RpZmllcyB0aGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIGJvdW5kYXJ5IGVsZW1lbnQuXG4vLyAgICAqXG4vLyAgICAqIE9ubHkgcHJvcGVydGllcyBwcmVzZW50IGluIHRoaXMgY29tbWFuZCBhcmUgYWZmZWN0ZWQgKGUuZy4gYGNvbXBvbmVudGAgb3IgYGNvbnRlbnRgKSB1bmxlc3MgdGhlIGFjdGlvbiBpcyBgY2xlYXJgLlxuLy8gICAgKlxuLy8gICAgKiBAZGVmYXVsdCBcImFkZFwiXG4vLyAgICAqL1xuLy8gICBhY3Rpb24/OiBcImFkZFwiIHwgXCJyZW1vdmVcIiB8IFwiY2xlYXJcIjtcblxuLy8gICAvKipcbi8vICAgICogVGhlIERPTSBlbGVtZW50IHRoYXQgZ2V0cyB0aGlzIGNvbW1hbmQncyBkYXRhIGFzc29jaWF0ZWQuXG4vLyAgICAqL1xuLy8gICBib3VuZGFyeTogRWxlbWVudDtcbi8vIH1cblxuZXhwb3J0IGNvbnN0IGlzRGF0YUJvdW5kYXJ5Q29tbWFuZCA9IGNvbW1hbmRUZXN0PEJvdW5kYXJ5Q29tbWFuZD4oXCJib3VuZGFyeVwiKTtcbiIsImltcG9ydCB0eXBlIHsgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5zaW9uQ29tbWFuZCB7XG4gIGV4dGVuc2lvbjogVHJhY2tlckV4dGVuc2lvbkZhY3Rvcnk7XG4gIHByaW9yaXR5PzogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IGlzRXh0ZW5zaW9uQ29tbWFuZCA9IGNvbW1hbmRUZXN0PEV4dGVuc2lvbkNvbW1hbmQ+KFwiZXh0ZW5zaW9uXCIpO1xuIiwiaW1wb3J0IHsgVCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogQ2F1c2VzIGFsbCBxdWV1ZWQgZXZlbnRzIHRvIGJlIHBvc3RlZCB0byB0aGUgc2VydmVyIGltbWVkaWF0ZWx5LlxuICovXG5leHBvcnQgdHlwZSBGbHVzaENvbW1hbmQgPSB7IGZsdXNoOiBib29sZWFuOyBmb3JjZT86IGJvb2xlYW47IGRlZmVyPzogYm9vbGVhbiB9O1xuZXhwb3J0IGNvbnN0IGlzRmx1c2hDb21tYW5kID0gY29tbWFuZFRlc3Q8Rmx1c2hDb21tYW5kPihULCBcImZsdXNoXCIpO1xuIiwiaW1wb3J0IHsgTWF5YmVBcnJheSwgUGlja1JlcXVpcmVkIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgQ2xpZW50VmFyaWFibGVHZXR0ZXIgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogVXNlZCB0byBnZXQgdmFyaWFibGVzIChkYXRhKSBmcm9tIHRoZSBiYWNrZW5kLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENvbW1hbmQge1xuICBnZXQ6IE1heWJlQXJyYXk8UGlja1JlcXVpcmVkPENsaWVudFZhcmlhYmxlR2V0dGVyLCBcImNhbGxiYWNrXCI+PjtcblxuICAvL01heWJlQXJyYXk8UGlja1JlcXVpcmVkPENsaWVudFZhcmlhYmxlR2V0dGVyLCBcInJlc3VsdFwiPiwgdHJ1ZT47XG59XG5cbmV4cG9ydCBjb25zdCBpc0dldENvbW1hbmQgPSBjb21tYW5kVGVzdDxHZXRDb21tYW5kPihcImdldFwiKTtcbiIsImltcG9ydCB0eXBlIHsgTGlzdGVuZXIgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYmVmb3JlIGFuZCBhZnRlciBldmVudHMgYXJlIGZsdXNoZWQuXG4gKiBVc2VmdWwgZm9yIGRlYnVnZ2luZyBvciBjbGllbnQtc2lkZSBpbnRlZ3JhdGlvbiB3aXRoIG90aGVyIHRyYWNrZXIgbGlicmFyaWVzIChpZiBvbmUgYWJzb2x1dGVseSBtdXN0KS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lckNvbW1hbmQge1xuICBsaXN0ZW5lcjogTGlzdGVuZXI7XG59XG5leHBvcnQgY29uc3QgaXNMaXN0ZW5lckNvbW1hbmQgPSBjb21tYW5kVGVzdDxMaXN0ZW5lckNvbW1hbmQ+KFwibGlzdGVuZXJcIik7XG4iLCJpbXBvcnQgeyBPcmRlciwgT3JkZXJFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG4vKipcbiAqIFNob3J0aGFuZCBjb21tYW5kIHRvIHRyaWdnZXIgYW4ge0BsaW5rIE9yZGVyRXZlbnR9IGV2ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyQ29tbWFuZCB7XG4gIC8qKlxuICAgKiBUaGUgb3JkZXIgdGhhdCB3YXMgY29tcGxldGVkIG9yIGNhbmNlbGxlZC5cbiAgICovXG4gIG9yZGVyOiBPcmRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGlzT3JkZXJDb21tYW5kID0gY29tbWFuZFRlc3Q8T3JkZXJDb21tYW5kPihcIm9yZGVyXCIpO1xuIiwiaW1wb3J0IHR5cGUgeyBDb21wb25lbnQsIEV4dGVybmFsUmVmZXJlbmNlIH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvbmVudE9yQ29udGVudCA9XG4gIHwgeyBjb21wb25lbnQ6IENvbXBvbmVudCB9XG4gIHwgeyBjb250ZW50OiBFeHRlcm5hbFJlZmVyZW5jZSB9O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBlbGVtZW50IGFzIHRoZSBib3VuZGFyeSBmb3IgYSBjb21wb25lbnQuIEFsbCBldmVudHMgdHJpZ2dlcmVkIGZyb20gdGhlIGVsZW1lbnQgb3IgaXRzIGRlc2NlbmRhbnRzIHdpbGwgaGF2ZSB0aGlzIGluZm9ybWF0aW9uIGF0dGFjaGVkLlxuICogSW4gY2FzZSBvZiBuZXN0ZWQgYm91bmRhcmllcyB0aGUgY2xvc2VzdCBvbmUgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY2FuQ29tcG9uZW50c0NvbW1hbmQge1xuICBzY2FuOiB7XG4gICAgYXR0cmlidXRlOiBzdHJpbmc7XG4gICAgY29tcG9uZW50czogQ29tcG9uZW50T3JDb250ZW50W107XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBpc1NjYW5Db21wb25lbnRzQ29tbWFuZCA9XG4gIGNvbW1hbmRUZXN0PFNjYW5Db21wb25lbnRzQ29tbWFuZD4oXCJzY2FuXCIpO1xuIiwiaW1wb3J0IHsgTWF5YmVBcnJheSB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IENsaWVudFZhcmlhYmxlU2V0dGVyIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG4vKipcbiAqIFVzZWQgdG8gc2V0IHZhcmlhYmxlcyAoZGF0YSkgaW4gdGhlIGJhY2tlbmQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0Q29tbWFuZCB7XG4gIC8qKiBBbiBvYmplY3Qgd2hlcmUgdGhlIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIGNvcnJlc3BvbmQgdG8gdGhlIHZhcmlhYmxlcyBzZXQgaW4gdGhlIHRyYWNrZXIuICovXG4gIHNldDogTWF5YmVBcnJheTxDbGllbnRWYXJpYWJsZVNldHRlcj47XG59XG5cbmV4cG9ydCBjb25zdCBpc1NldENvbW1hbmQgPSBjb21tYW5kVGVzdDxTZXRDb21tYW5kPihcInNldFwiKTtcbiIsImltcG9ydCB0eXBlIHsgVHJhY2tlciwgVHJhY2tlckNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcblxuZXhwb3J0IHR5cGUgVXNlVHJhY2tlckNvbW1hbmQgPSAodHJhY2tlcjogVHJhY2tlcikgPT4gdm9pZDtcbmV4cG9ydCBjb25zdCBpc1RyYWNrZXJBdmFpbGFibGVDb21tYW5kID0gKFxuICBjb21tYW5kOiBUcmFja2VyQ29tbWFuZFxuKTogY29tbWFuZCBpcyAodHJhY2tlcjogVHJhY2tlcikgPT4gdm9pZCA9PiB0eXBlb2YgY29tbWFuZCA9PT0gXCJmdW5jdGlvblwiO1xuIiwiaW1wb3J0IHsgRGF0YVVzYWdlLCBVc2VyQ29uc2VudCwgVmFyaWFibGVQb2xsQ2FsbGJhY2sgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xyXG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xyXG5pbXBvcnQgeyBNYXliZVByb21pc2VMaWtlIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXh0ZXJuYWxDb25zZW50UG9sbGVyID0gKFxyXG4gIGN1cnJlbnQ6IERhdGFVc2FnZSB8IHVuZGVmaW5lZFxyXG4pID0+IERhdGFVc2FnZSB8IHVuZGVmaW5lZDtcclxuXHJcbi8qKiBSZXR1cm4gYHRydWVgIGlmIHlvdSB3YW50IHRoaXMgY2FsbGJhY2sgaW52b2tlZCBldmVyeSB0aW1lIHRoZSBjb25zZW50IGNoYW5nZXMsIGFuZCBub3QganVzdCBvbmNlLiAqL1xyXG5leHBvcnQgdHlwZSBDb25zZW50Q2FsbGJhY2sgPSAoXHJcbiAgY29uc2VudDogVXNlckNvbnNlbnQsXHJcbiAgcHJldmlvdXM6IFVzZXJDb25zZW50IHwgdW5kZWZpbmVkXHJcbikgPT4gTWF5YmVQcm9taXNlTGlrZTxib29sZWFuIHwgdW5kZWZpbmVkIHwgdm9pZD47XHJcblxyXG4vKiogR2V0cyBvciB1cGRhdGVzIHRoZSB1c2VyJ3MgY29uc2VudC4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50Q29tbWFuZCB7XHJcbiAgY29uc2VudDoge1xyXG4gICAgZ2V0PzogQ29uc2VudENhbGxiYWNrO1xyXG4gICAgc2V0PzpcclxuICAgICAgfCBEYXRhVXNhZ2VcclxuICAgICAgfCB7XHJcbiAgICAgICAgICBjb25zZW50OiBEYXRhVXNhZ2U7XHJcbiAgICAgICAgICBjYWxsYmFjaz86IChcclxuICAgICAgICAgICAgdXBkYXRlZDogYm9vbGVhbixcclxuICAgICAgICAgICAgY3VycmVudDogVXNlckNvbnNlbnQgfCB1bmRlZmluZWRcclxuICAgICAgICAgICkgPT4gdm9pZDtcclxuICAgICAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHBvbGwgdGhlIGNsaWVudCdzIGJyb3dzZXIgZW52aXJvbm1lbnQgZm9yIHNvbWV0aGluZyB0aGF0IHRyYW5zbGF0ZXMgaW50byBhIHRhaWwuanMgY29uc2VudC5cclxuICAgICAqIFRoZSBwcmltYXJ5IHVzZSBjYXNlIGlzIHRvIGludGVncmF0ZSB3aXRoIGEgQ01QIChlLmcuIENvb2tpZWJvdCkuXHJcbiAgICAgKlxyXG4gICAgICogUGxlYXNlIHByb3ZpZGUgYSB1bmlxdWUga2V5IGZvciB0aGUgcG9sbCBmdW5jdGlvbiB0byBhdm9pZCB1bmludGVuZGVkIGRvdWJsZSBwb2xsaW5nIGlmIGZvciBzb21lIHJlYXNvblxyXG4gICAgICogdGhlIGNvbW1hbmQgaXMgdW5pbnRlbnRpb25hbGx5IHN1Ym1pdHRlZCBtb3JlIHRoYW4gb25jZS5cclxuICAgICAqL1xyXG4gICAgZXh0ZXJuYWxTb3VyY2U/OiB7XHJcbiAgICAgIGtleTogc3RyaW5nO1xyXG4gICAgICBwb2xsOiBFeHRlcm5hbENvbnNlbnRQb2xsZXI7XHJcbiAgICAgIC8qKiBAZGVmYXVsdCAxMDAwICovXHJcbiAgICAgIGZyZXF1ZW5jeT86IG51bWJlcjtcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzVXBkYXRlQ29uc2VudENvbW1hbmQgPSBjb21tYW5kVGVzdDxDb25zZW50Q29tbWFuZD4oXCJjb25zZW50XCIpO1xyXG4iLCJpbXBvcnQgeyBUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUiB9IGZyb20gXCJAY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBpbml0aWFsaXplVHJhY2tlciB9IGZyb20gXCIuXCI7XG5pbml0aWFsaXplVHJhY2tlcihUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUik7XG4iLCJpbXBvcnQgeyBVc2VyQWdlbnRFdmVudCwgVXNlckFnZW50TGFuZ3VhZ2UgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xyXG5pbXBvcnQgeyBtYXAyLCByZXN0cmljdCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuaW1wb3J0IHsgVHJhY2tlciwgY3VycmVudFZpZXdFdmVudCwgZGV0ZWN0RGV2aWNlVHlwZSB9IGZyb20gXCIuLlwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvc3RVc2VyQWdlbnRFdmVudCA9ICh0cmFja2VyOiBUcmFja2VyKSA9PlxyXG4gIHRyYWNrZXIoXHJcbiAgICByZXN0cmljdDxVc2VyQWdlbnRFdmVudD4oe1xyXG4gICAgICB0eXBlOiBcInVzZXJfYWdlbnRcIixcclxuICAgICAgaGFzVG91Y2g6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAsXHJcbiAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuICAgICAgdmlldzogY3VycmVudFZpZXdFdmVudD8uY2xpZW50SWQsXHJcbiAgICAgIGxhbmd1YWdlczogbWFwMihuYXZpZ2F0b3IubGFuZ3VhZ2VzLCAoaWQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCBbbGFuZ3VhZ2UsIHJlZ2lvbl0gPSBpZC5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgcmV0dXJuIHJlc3RyaWN0PFVzZXJBZ2VudExhbmd1YWdlPih7XHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGxhbmd1YWdlLFxyXG4gICAgICAgICAgcmVnaW9uLFxyXG4gICAgICAgICAgcHJpbWFyeTogaSA9PT0gMCxcclxuICAgICAgICAgIHByZWZlcmVuY2U6IGkgKyAxLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KSxcclxuICAgICAgdGltZXpvbmU6IHtcclxuICAgICAgICBpYW5hOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUsXHJcbiAgICAgICAgb2Zmc2V0OiBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCksXHJcbiAgICAgIH0sXHJcbiAgICAgIC4uLmRldGVjdERldmljZVR5cGUoKSxcclxuICAgIH0pXHJcbiAgKTtcclxuIiwiaW1wb3J0IHR5cGUgeyBVc2VyQWdlbnRFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQgeyB3aW5kb3cgfSBmcm9tIFwiLi4vbGliXCI7XG5cbmV4cG9ydCBjb25zdCBkZXRlY3REZXZpY2VUeXBlID0gKCk6IFBpY2s8XG4gIFVzZXJBZ2VudEV2ZW50LFxuICBcImRldmljZVR5cGVcIiB8IFwic2NyZWVuXCJcbj4gPT4ge1xuICAvLyBDb21tb24gdGhyZXNob2xkcyBiYXNlZCBvbiBodHRwczovL3llc3Zpei5jb20vdmlld3BvcnQvXG4gIGNvbnN0IHNjcmVlbiA9IHdpbmRvdz8uc2NyZWVuO1xuICBpZiAoIXNjcmVlbikgcmV0dXJuIHt9O1xuXG4gIGxldCB7IHdpZHRoOiB3LCBoZWlnaHQ6IGgsIG9yaWVudGF0aW9uOiBvIH0gPSBzY3JlZW47IC8vIEdldCdzIHRoZSByZXNvbHV0aW9uIGluIGxvZ2ljYWwgKENTUykgcGl4ZWxzLlxuICBjb25zdCBsYW5kc2NhcGUgPSB3IDwgaDtcbiAgY29uc3QgYW5nbGUgPSBvPy5hbmdsZSA/PyB3aW5kb3dbXCJvcmllbnRhdGlvblwiXSA/PyAwO1xuICAoYW5nbGUgPT09IC05MCB8fCBhbmdsZSA9PT0gOTApICYmIChbdywgaF0gPSBbaCwgd10pO1xuXG4gIHJldHVybiB7XG4gICAgZGV2aWNlVHlwZTogdyA8IDQ4MCA/IFwibW9iaWxlXCIgOiB3IDw9IDEwMjQgPyBcInRhYmxldFwiIDogXCJkZXNrdG9wXCIsXG4gICAgc2NyZWVuOiB7IGRwcjogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIGxhbmRzY2FwZSB9LFxuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJzdHJpbmdSdWxlQ2FjaGUiLCJpbnB1dCIsIm1hdGNoUHJvamVjdGlvbiIsImNvbGxlY3RlZCIsIm1ldGFkYXRhIiwia2V5IiwiY3VycmVudCIsInBvcyIsInNjcmVlblBvcyIsIngiLCJ5IiwicmVjdCIsImNhY2hlZCIsIm5hbWUiLCJjYWNoZWRNYXBwaW5ncyIsImN1cnJlbnRCb3VuZGFyeURhdGEiLCJwcm9wZXJ0eVZhbHVlIiwiX2RlZmF1bHRUcmFuc3BvcnRzIiwiZXYiLCJwb3N0Q2FsbGJhY2tzIiwidHJhY2tlciIsImN1cnJlbnRWaWV3RXZlbnQiLCJwdXNoUG9wTmF2aWdhdGlvbiIsImVudHJ5IiwiY29udGVudCIsInRocm93RXJyb3IiLCJlcnJvciIsInRyYW5zZm9ybSIsIm1lc3NhZ2UiLCJFcnJvciIsImlzU3RyaW5nIiwidW53cmFwIiwic3RydWN0dXJhbEVxdWFscyIsInZhbHVlMSIsInZhbHVlMiIsImRlcHRoIiwiaXNBcnJheSIsImlzUGxhaW5PYmplY3QiLCJsZW5ndGgiLCJuIiwiT2JqZWN0Iiwia2V5cyIsImVxdWFsc0FueSIsInRhcmdldCIsInNpbmdsZVZhbHVlIiwib3RoZXJWYWx1ZXMiLCJzb21lIiwidCIsInZhbHVlIiwidHJ5Q2F0Y2giLCJleHByZXNzaW9uIiwiZXJyb3JIYW5kbGVyIiwiYWx3YXlzIiwiZSIsImlzRnVuY3Rpb24iLCJpc0Vycm9yIiwiaXNCb29sZWFuIiwiY29uc29sZSIsIkRlZmVycmVkUHJvbWlzZSIsIlByb21pc2UiLCJpbml0aWFsaXplZCIsInRoaXMiLCJfcmVzdWx0IiwidGhlbiIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsIl90aGlzX19yZXN1bHQiLCJfYWN0aW9uIiwiY2F0Y2giLCJmaW5hbGx5Iiwib25maW5hbGx5IiwiY29uc3RydWN0b3IiLCJhY3Rpb24iLCJzdXBlciIsIl9kZWZpbmVfcHJvcGVydHkiLCJkZWZlcnJlZFByb21pc2UiLCJhc3luYyIsInRyeUNhdGNoQXN5bmMiLCJhd2FpdCIsInJlc3RyaWN0IiwiaXRlbSIsImlzVHJ1aXNoIiwiaXNUcnVlIiwiVCIsInVuZGVmaW5lZCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJOdW1iZXIiLCJGIiwiTk9PUCIsIklERU5USVRZIiwiRklMVEVSX05VTExJU0giLCJzeW1ib2xJdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwic3ltYm9sQXN5bmNJdGVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJjcmVhdGVUeXBlQ29udmVydGVyIiwidHlwZVRlc3RlciIsInBhcnNlciIsInBhcnNlIiwiaWZEZWZpbmVkIiwicmVzdWx0T3JQcm9wZXJ0eSIsInBhcnNlQm9vbGVhbiIsImlzTm90RmFsc2UiLCJpc051bWJlciIsInRvU3RyaW5nIiwiQXJyYXkiLCJhcnJheSIsImNsb25lIiwiaXNJdGVyYWJsZSIsImlzT2JqZWN0IiwiaGFzTWV0aG9kIiwiaXNTeW1ib2wiLCJhY2NlcHRTdHJpbmdzIiwiaXNNYXAiLCJNYXAiLCJpc1NldCIsIlNldCIsInJvdW5kIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJNYXRoIiwicG93IiwidGVzdEZpcnN0TGFzdCIsInMiLCJmaXJzdCIsImxhc3QiLCJpc0pzb25TdHJpbmciLCJzdG9wSW52b2tlZCIsInN0b3AiLCJ5aWVsZFZhbHVlIiwid3JhcFByb2plY3Rpb24iLCJwcm9qZWN0aW9uIiwic2xpY2VBY3Rpb24iLCJzdGFydCIsImVuZCIsImluZGV4IiwiZmlsdGVyQXJyYXkiLCJmaWx0ZXIiLCJjcmVhdGVJdGVyYXRvciIsInNvdXJjZSIsImNyZWF0ZUZpbHRlcmluZ0l0ZXJhdG9yIiwiaSIsImNyZWF0ZU9iamVjdEl0ZXJhdG9yIiwiY3JlYXRlTmF2aWdhdGluZ0l0ZXJhdG9yIiwic3RlcCIsIm1heEl0ZXJhdGlvbnMiLCJ5aWVsZCIsImNyZWF0ZVJhbmdlSXRlcmF0b3IiLCJvZmZzZXQiLCJwcm9qZWN0IiwiZmxhdHRlbiIsImV4cGFuZE9iamVjdHMiLCJmbGF0dGVuSW50ZXJuYWwiLCJuZXN0ZWQiLCJtYXAiLCJtYXBwZWQiLCJwdXNoIiwiYXJyYXkyIiwiZGlzdGluY3QiLCJmbGF0TWFwIiwiY29uY2F0IiwiaXRlbXMiLCJtZXJnZWQiLCJmb3JFYWNoIiwiZm9yRWFjaEFycmF5IiwicmV0dXJuVmFsdWUiLCJmb3JFYWNoSXRlcmFibGUiLCJmb3JFYWNoT2JqZWN0IiwiZm9yRWFjaEludGVybmFsIiwiZm9yRWFjaEFzeW5jIiwiZnJvbUVudHJpZXMiLCJyZXN1bHQiLCJvYmoiLCJzZWxlY3RvciIsIm1lcmdlIiwiXyIsInJlZHVjZSIsInJlZHVjZXIiLCJzZWVkIiwic2VlZEZhY3RvcnkiLCJfcmVkdWNlciIsInByZWRpY2F0ZSIsImNvdW50Iiwic2l6ZSIsIm1heCIsImFyZ3MiLCJwcm9qZWN0ZWQiLCJfcmVmIiwiX3NvdXJjZV9zb21lMSIsIl9zb3VyY2Vfc29tZSIsImNhbGwiLCJzb3J0IiwicmFuayIsImxocyIsInJocyIsInNldCIsImRlbGV0ZSIsImFkZCIsImdldCIsImluaXQiLCJoYXMiLCJ2YWx1ZXMiLCJhc3NpZ24iLCJzZXR0ZXIiLCJ1cGRhdGUiLCJyZW1vdmUiLCJldSIsInNwbGljZSIsImsiLCJ2IiwidW5zaGlmdCIsImRpZmYiLCJ1cGRhdGVkIiwicHJldmlvdXMiLCJwYXRjaGVkVmFsdWUiLCJwYXRjaGVkIiwiZGVsdGEiLCJwcmV2aW91c1ZhbHVlIiwibm93IiwicGVyZm9ybWFuY2UiLCJ0cnVuYyIsInRpbWVPcmlnaW4iLCJEYXRlIiwiY3JlYXRlVGltZXIiLCJzdGFydGVkIiwidGltZVJlZmVyZW5jZSIsImNhcHR1cmVkRWxhcHNlZCIsInQwIiwiZWxhcHNlZCIsInRvZ2dsZSIsInJlc2V0IiwiY2xvY2siLCJjYWxsYmFja09yU2V0dGluZ3MiLCJmcmVxdWVuY3kiLCJzZXR0aW5ncyIsImNhbGxiYWNrIiwicXVldWUiLCJwYXVzZWQiLCJ0cmlnZ2VyIiwib25jZSIsInJhZiIsInRpbWVvdXRJZCIsIm11dGV4IiwicHJvbWlzZSIsInJlc29sdmUiLCJ0aW1lciIsIm91dGVyQ2FsbGJhY2siLCJza2lwUXVldWUiLCJwZW5kaW5nIiwiaW5zdGFuY2UiLCJidXN5IiwidXBkYXRlVGltZW91dCIsInNldFRpbWVvdXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lb3V0Q2FsbGJhY2siLCJhY3RpdmUiLCJyZXNldFRpbWVyIiwiY2xlYXJUaW1lb3V0IiwicmVzdGFydCIsIm5ld0ZyZXF1ZW5jeSIsIm5ld0NhbGxiYWNrIiwiUmVzZXR0YWJsZVByb21pc2UiLCJfcHJvbWlzZSIsImlmUGVuZGluZyIsInJlamVjdCIsIk9wZW5Qcm9taXNlIiwic2lnbmFsIiwiY2FwdHVyZWQiLCJpbm5lciIsIlR5cGVFcnJvciIsImRlbGF5IiwibXMiLCJpc0Zpbml0ZSIsInIiLCJyZXNldHRhYmxlIiwiY3JlYXRlRXZlbnRCaW5kZXJzIiwibGlzdGVuZXIiLCJhdHRhY2giLCJkZXRhY2giLCJib3VuZCIsIm91dGVyTGlzdGVuZXIiLCJ1bmJpbmQiLCJyZWJpbmQiLCJjcmVhdGVFdmVudCIsImRpc3BhdGNoZWRBcmdzIiwibGlzdGVuZXJzIiwiaGFuZGxlciIsImJpbmRlcnMiLCJwYXlsb2FkIiwicGx1cmFsaXplIiwic2luZ3VsYXIiLCJwbHVyYWwiLCJhbnNpU3VwcG9ydGVkIiwiYW5zaSIsInBzIiwiYnVmZmVyIiwiam9pbiIsImVsbGlwc2lzIiwidGV4dCIsIm1heExlbmd0aCIsImRlYnVnIiwic2xpY2UiLCJjcmVhdGVFbnVtUGFyc2VyIiwibGV2ZWxzIiwicmFua3MiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInZhbGlkYXRlIiwicHJvcGVydHlTZXR0aW5ncyIsImRlZmluZVByb3BlcnRpZXMiLCJjb21wYXJlIiwicmFuazEiLCJyYW5rMiIsInBhcmFtZXRlckxpc3RTeW1ib2wiLCJwYXJzZUtleVZhbHVlIiwiZGVsaW1pdGVycyIsImRlY29kZSIsImxvd2VyQ2FzZSIsInNwbGl0IiwicGFydHMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0cmltIiwicmVwbGFjZUFsbCIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaDIiLCJkZWxpbSIsInN0b3AyIiwicGFyc2VVcmkiLCJ1cmkiLCJyZXF1aXJlQXV0aG9yaXR5Iiwib3B0aW9ucyIsIm1hdGNoIiwic2NoZW1lIiwic2xhc2hlcyIsImF1dGhvcml0eSIsInVzZXIiLCJwYXNzd29yZCIsImJyYWNrZXRIb3N0IiwiaG9zdCIsInBvcnQiLCJwYXRoIiwicXVlcnlTdHJpbmciLCJmcmFnbWVudCIsInBhcnNlZCIsInVybiIsInBhcnNlSW50IiwicXVlcnkiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwicGFyc2VQYXJhbWV0ZXJzIiwic2VwYXJhdG9yIiwicGFyYW1ldGVycyIsIm1hcDIiLCJwYXJ0IiwicmVwbGFjZSIsInNraXAyIiwicmVzdWx0cyIsIm9iajIiLCJncm91cDIiLCJjb25jYXQyIiwidGVzdFJlZ2V4IiwidGVzdCIsIm1hdGNoZXMiLCJyZWdleCIsImNvbGxlY3QiLCJlc2NhcGVSZWdFeCIsIlJFR0VYX05FVkVSIiwidW5pb25Pck5ldmVyIiwiam9pbmVkIiwiam9pbjIiLCJSZWdFeHAiLCJpc1JlZ0V4IiwicGFyc2VSZWdleCIsInNlcGFyYXRvcnMiLCJyZXBsYWNlVmFsdWUiLCJjcmVhdGVJbnRlcnZhbHMiLCJjbXAiLCJ3aWR0aCIsImludGVydmFsIiwicmFuZ2VzIiwiZmluYWxpemUiLCJzdW0iLCJjaGFuZ2VkIiwiZ2V0Um9vdFByb3RvdHlwZSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJmaW5kUHJvdG90eXBlRnJhbWUiLCJmcmFtZVdpbmRvdyIsIm1hdGNoUHJvdG90eXBlIiwiZnJhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY29udGVudFdpbmRvdyIsImZpbmREZWNsYXJpbmdTY29wZSIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJmb3JFYWNoU3ltYm9sIiwiYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2wiLCJlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zIiwicmV0cnkiLCJzY29wZSIsImNvbnRleHQiLCJnZW5lcmljRm9yRWFjaEl0ZXJhYmxlIiwicHJvdG90eXBlIiwiX3RoaXNfc3ltYm9sQXN5bmNJdGVyYXRvciIsIldlYWtNYXAiLCJXZWFrU2V0IiwicmFuZ2UyIiwiRnVuY3Rpb24iLCJ0cmF2ZXJzZTIiLCJuZXh0IiwiZmlsdGVyMiIsImludmVydCIsInByZXYiLCJmbGF0TWFwMiIsImdyb3VwcyIsImt2IiwiZ2V0MiIsInNvbWUyIiwiYXJnMCIsIm90aGVyIiwiYXJnIiwic29ydENvbXBhcmUiLCJkZXNjZW5kaW5nIiwibG9jYWxlQ29tcGFyZSIsInNldFN5bWJvbCIsImdldFN5bWJvbCIsInB1c2hTeW1ib2wiLCJlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnMiLCJpbml0aWFsaXplIiwiYWRkMiIsInNldDIiLCJwdXNoMiIsImFzc2lnbjIiLCJzb3VyY2VzIiwibWVyZ2UyIiwiZGVlcCIsIm92ZXJ3cml0ZSIsIm51bGxzIiwicGljazIiLCJpc0VtcHR5U3RyaW5nIiwiYXJnMSIsImFyZzIiLCJpdGVtaXplMiIsInJlc3QiLCJjb25qdW5jdGlvbiIsImVudW1lcmF0ZWQiLCJEYXRhQ2xhc3NpZmljYXRpb24iLCJuZXZlciIsImFub255bW91cyIsImluZGlyZWN0IiwiZGlyZWN0Iiwic2Vuc2l0aXZlIiwiREFUQV9QVVJQT1NFUyIsIlZBTElEX1BVUlBPU0VfTkFNRVMiLCJwdXJwb3NlIiwibWFwT3B0aW9uYWxQdXJwb3NlIiwiZnJlZXplIiwib3B0aW9uYWxQdXJwb3NlcyIsInBlcnNvbmFsaXphdGlvbiIsInNlY3VyaXR5IiwibWFwT3B0aW9uYWxQdXJwb3NlcyIsInB1cnBvc2VzIiwibWFwcGVkUHVycG9zZXMiLCJmdW5jdGlvbmFsaXR5IiwiRGF0YVB1cnBvc2VzIiwibmFtZXMiLCJzcGVjaWZpY05hbWVzIiwiaW5jbHVkZURlZmF1bHQiLCJTQ0hFTUFfVFlQRV9QUk9QRVJUWSIsImFsbCIsIm1hcmtldGluZyIsImludGVyc2VjdCIsInRhcmdldFB1cnBvc2UiLCJoYXNBbnkiLCJEYXRhVXNhZ2UiLCJwdWJsaWMiLCJ0cnVzdGVkLXdyaXRlIiwidHJ1c3RlZC1vbmx5IiwiY2xhc3NpZmljYXRpb24iLCJ1c2FnZSIsImVxdWFscyIsInVzYWdlMSIsInVzYWdlMiIsInNlcmlhbGl6ZSIsImRlc2VyaWFsaXplIiwidXNhZ2VTdHJpbmciLCJkZWZhdWx0VXNhZ2UiLCJjbGVhck1ldGFkYXRhIiwiZXZlbnQiLCJjbGllbnQiLCJwb3N0ZWQiLCJxdWV1ZWQiLCJlbnRyaWVzIiwiaXNFdmVudFBhdGNoIiwicGF0Y2hUYXJnZXRJZCIsIlZBTElEQVRJT05fRVJST1JfU1lNQk9MIiwiZm9ybWF0RXJyb3JTb3VyY2UiLCJKU09OIiwic3RyaW5naWZ5IiwiUkVHRVhfREFURSIsIlJFR0VYX0RBVEVUSU1FIiwiUkVHRVhfVVVJRCIsIlJFR0VYX1VSSSIsIlJFR0VYX0VNQUlMIiwiYWRkRXJyb3IiLCJlcnJvcnMiLCJ0eXBlIiwiaW50ZWdlciIsImFsbG93U3RyaW5ncyIsImlzTmFOIiwiaXNJbnRlZ2VyIiwicGFyc2VGbG9hdCIsInByaW1pdGl2ZVZhbGlkYXRvcnMiLCJWYXJpYWJsZVNlcnZlclNjb3BlIiwicHJpbWl0aXZlIiwiZW51bSIsImVudW1WYWx1ZXMiLCJ2YWxpZGF0b3IiLCJmb3JtYXQiLCJpc28iLCJhbGxvd051bWVyaWNTdHJpbmdzIiwidG9JU09TdHJpbmciLCJleGVjIiwibWluIiwiZXJyb3JNZXNzYWdlIiwiZ2xvYmFsIiwic2Vzc2lvbiIsImRldmljZSIsImZvcm1hdFZhcmlhYmxlS2V5IiwiZW50aXR5SWQiLCJleHRyYWN0S2V5IiwiVmFyaWFibGVSZXN1bHRTdGF0dXMiLCJpc1ZhcmlhYmxlUmVzdWx0IiwicmVxdWlyZUZvdW5kIiwic3RhdHVzIiwiaXNTdWNjZXNzUmVzdWx0IiwiZm9ybWF0VmFyaWFibGVSZXN1bHQiLCJWYXJpYWJsZVN0b3JhZ2VFcnJvciIsIm9wZXJhdGlvbnMiLCJzdWNjZWVkZWQiLCJmYWlsZWQiLCJfb3BlcmF0aW9uc19maWx0ZXIiLCJvcGVyYXRpb24iLCJfb3BlcmF0aW9uc19maWx0ZXIxIiwiaGFzQ2FsbGJhY2siLCJvcCIsImhhc1BvbGxDYWxsYmFjayIsInBvbGwiLCJzb3VyY2VPcGVyYXRpb24iLCJ0b1ZhcmlhYmxlUmVzdWx0UHJvbWlzZSIsIm9wZXJhdGlvblR5cGUiLCJsb2dDYWxsYmFja0Vycm9yIiwib3BzIiwiY2FsbGJhY2tFcnJvcnMiLCJoYW5kbGVyUmVzdWx0UHJvbWlzZSIsImluaXRpYWxSZXN1bHQiLCJjYWxsYmFja3MiLCJwb2xsaW5nQ2FsbGJhY2siLCJtYXBSZXN1bHRzIiwicmVxdWlyZSIsImhhbmRsZXJSZXN1bHRzIiwiTm90Rm91bmQiLCJhcyIsImlzVHJhY2tlZEV2ZW50IiwiaXNWaWV3RXZlbnQiLCJ0eXBlcyIsInR5cGVUZXN0IiwibWF5YmVEZWNvZGUiLCJ0YWciLCJzY29yZSIsImNvbGxlY3RUYWdzIiwidGFnU3RyaW5nIiwicHJlZml4IiwibnMiLCJsb2NhbE5hbWUiLCJxdW90ZWQxIiwicXVvdGVkMiIsInVucXVvdGVkIiwibG9jYWxWYXJpYWJsZVNjb3BlIiwidmlldyIsInRhYiIsInNoYXJlZCIsImFueVZhcmlhYmxlU2NvcGUiLCJtYXNrRW50aXR5SWQiLCJpc0xvY2FsU2NvcGVLZXkiLCJ2YXJpYWJsZUtleVRvU3RyaW5nIiwic3RyaW5nVG9WYXJpYWJsZUtleSIsIk5PVF9JTklUSUFMSVpFRCIsIndpbiIsImRvYyIsImJvZHkiLCJtYXRjaFNlbGVjdG9yIiwibm9kZSIsIk1BWF9BTkNFU1RPUl9ESVNUQU5DRSIsImNocm9tZSIsImZvckFuY2VzdG9yc09yU2VsZiIsImVsIiwic3RvcHBpbmdDcml0ZXJpb24iLCJkaXN0YW5jZSIsIm5vZGVUeXBlIiwicGFyZW50RWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJfcHJldl9vd25lckRvY3VtZW50X2RlZmF1bHRWaWV3IiwiZGVmYXVsdFZpZXciLCJmcmFtZUVsZW1lbnQiLCJwYXJzZUF0dHJpYnV0ZVZhbHVlIiwiX3RyaW0iLCJodHRwRGVjb2RlIiwiaHR0cERlY3J5cHQiLCJhdHRyIiwiZ2V0QXR0cmlidXRlIiwic2NvcGVBdHRyaWJ1dGUiLCJub3JtYWxpemVkQXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZXMiLCJnZXRBdHRyaWJ1dGVOYW1lcyIsImNzc1Byb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0YWdOYW1lIiwic2Nyb2xsUG9zIiwiaW50Iiwic2Nyb2xsWCIsInNjcm9sbFkiLCJtYXRjaEV4SGFzaCIsImhyZWYxIiwiaHJlZjIiLCJnZXRTY3JlZW5Qb3MiLCJtb3VzZUV2ZW50IiwiaW5jbHVkZUZvbGQiLCJnZXRQb3MiLCJ4cHgiLCJ5cHgiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInBhZ2VGb2xkcyIsImlubmVySGVpZ2h0IiwicG9pbnRlclR5cGUiLCJwYWdlWSIsInBhZ2VYIiwiZ2V0UmVjdCIsImluY2x1ZGVTY3JvbGwiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwiaGVpZ2h0IiwibGlzdGVuIiwiY2FwdHVyZSIsInBhc3NpdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcnNlRG9tYWluIiwiZ2V0Vmlld3BvcnQiLCJpbm5lcldpZHRoIiwidG90YWxXaWR0aCIsInRvdGFsSGVpZ2h0IiwiYm91bmRhcnlEYXRhIiwiZ2V0Qm91bmRhcnlEYXRhIiwidHJhY2tlclByb3BlcnR5TmFtZSIsImNzcyIsIm1hdGNoQXR0cmlidXRlTmFtZXMiLCJ0YWdzIiwiZWxpZ2libGUiLCJsIiwiY2FjaGVkVGFnTWFwcGVyIiwicGFyc2VUYWdBdHRyaWJ1dGVzIiwidHJhY2tlckNvbmZpZyIsInJ1bGUiLCJjYWNoZSIsImNzc1Byb3BlcnR5V2l0aEJhc2UiLCJwYXJzZWRDc3NSdWxlcyIsInBhcnNlQ3NzTWFwcGluZ1J1bGVzIiwicnVsZXNTdHJpbmciLCJydWxlMSIsInJ1bGUyIiwidHJhY2tlclByb3BlcnR5IiwiaW5oZXJpdCIsIl9yZWYxIiwidHJhY2tlckZsYWciLCJwYXJzZVRhZ3MiLCJzb3VyY2VFbCIsImVsZW1lbnRUYWdEYXRhIiwic3JjIiwiZGlzYWJsZWQiLCJwb3N0RXZlbnRzIiwicG9zdEZyZXF1ZW5jeSIsInJlcXVlc3RUaW1lb3V0IiwiZW5jcnlwdGlvbktleSIsImFwaUtleSIsImpzb24iLCJpbXByZXNzaW9uVGhyZXNob2xkIiwiY2FwdHVyZUNvbnRleHRNZW51IiwiZGVmYXVsdCIsImNvZGVzIiwiY2hhcnMiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJ0bzY0dSIsInAiLCJieXRlcyIsImNodW5rIiwiYmFzZTY0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiRk5WcyIsIjMyIiwiNjQiLCIxMjgiLCJlbnRyb3B5IiwicmFuZG9tIiwibXNnRGVzZXJpYWxpemUiLCJtc2dTZXJpYWxpemUiLCJkYXRhIiwibXVsdGlwbGUiLCJmbG9hdEJ1ZmZlciIsImZsb2F0VmlldyIsIlVpbnQ4QXJyYXkiLCJhcHBlbmQiLCJzdWJhcnJheSIsImlzUmVwbGFjZW1lbnQiLCJhcHBlbmRCeXRlIiwibG8iLCJpc1NhZmVJbnRlZ2VyIiwiYXBwZW5kQnl0ZXMiLCJoaSIsImFwcGVuZEludDY0IiwiRGF0YVZpZXciLCJBcnJheUJ1ZmZlciIsInNldEZsb2F0NjQiLCJzdHIiLCJhc2NpaSIsImNpIiwiYyIsImMyIiwic2VjIiwiZ2V0VGltZSIsImdldE1pbGxpc2Vjb25kcyIsImFwcGVuZEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJJbnQ4QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJpbnZhbGlkVHlwZVJlcGxhY2VtZW50IiwiYnl0ZSIsIm5ld0xlbmd0aCIsIm5ld0FycmF5IiwiYWJzIiwicmVhZCIsInJlYWRNYXAiLCJyZWFkQXJyYXkiLCJyZWFkU3RyIiwicmVhZEJpbiIsInJlYWRFeHQiLCJyZWFkRmxvYXQiLCJyZWFkVUludCIsInJlYWRJbnQiLCJieXRlT2Zmc2V0IiwiZ2V0RmxvYXQzMiIsImdldEZsb2F0NjQiLCJsZW5ndGhTaXplIiwiZGVjb2RlVXRmOCIsIm1zZ3BhY2siLCJlbmNvZGUiLCJleHBvcnRzIiwiUkVGX1BST1AiLCJpbmNsdWRlVmFsdWUiLCJpbmNsdWRlRGVmYXVsdFZhbHVlcyIsImRlZmF1bHRWYWx1ZXMiLCJwcmV0dGlmeSIsImNsZWFuZXJzIiwicmVmcyIsInJlZkluZGV4IiwicGF0Y2hQcm9wZXJ0eSIsImFkZENsZWFuZXIiLCJjbGVhbmVyIiwidG9KU09OIiwibWF0Y2hlZFJlZiIsInN0YWNrIiwiY3JlYXRlVHJhbnNwb3J0IiwiZmFjdG9yeSIsImRlY29kZUpzb24iLCJzZXJpYWxpemVPcHRpb25zIiwiZW5jcnlwdCIsImRlY3J5cHQiLCJoYXNoIiwiZmFzdFN0cmluZ0hhc2giLCJiaXRzT3JOdW1lcmljIiwianNvbkRlY29kZSIsImVuY29kZWQiLCJudW1lcmljT3JCaXRzIiwiaiIsInBhZCIsImJpdHMiLCJwcmltZSIsIm1peGVyIiwibWl4ZXIyNTUiLCJpdyIsIm1peGVyMCIsIndpbmRvdzAiLCJyZXNldE1peGVyIiwidXBkYXRlTWl4ZXIiLCJFTlRST1BZIiwiTUFYX1BBRERJTkciLCJjaXBoZXIiLCJCaWdJbnQiLCJhc1VpbnROIiwiTUlOX1NBRkVfSU5URUdFUiIsImJpbmFyeSIsImZyb202NHUiLCJqc29uRW5jb2RlIiwiY3VycmVudFNjcmlwdCIsIlNDUklQVF9TUkMiLCJUUkFDS0VSX0RPTUFJTiIsImlzSW50ZXJuYWxVcmwiLCJ1cmwiLCJlbmRzV2l0aCIsIm1hcFVybCIsInVybFBhcnRzIiwiVkFSX1VSTCIsIk1OVF9VUkwiLCJncm91cFZhbHVlIiwiY2hpbGRHcm91cHMiLCJncm91cCIsImNvbGxhcHNlZCIsImdyb3VwQ29sbGFwc2VkIiwiY2hpbGRyZW4iLCJsb2ciLCJncm91cEVuZCIsImh0dHBFbmNvZGUiLCJodHRwRW5jcnlwdCIsIlVTRV9FTkNSWVBUSU9OIiwiYWRkRW5jcnlwdGlvbk5lZ290aWF0ZWRMaXN0ZW5lciIsImRpc3BhdGNoRW5jcnlwdGlvbk5lZ290aWF0ZWQiLCJsb2dFcnJvciIsInNoaWZ0IiwiaWQiLCJhZGRQYWdlTG9hZGVkTGlzdGVuZXIiLCJkaXNwYXRjaFBhZ2VMb2FkZWQiLCJhZGRQYWdlVmlzaWJsZUxpc3RlbmVyIiwiZGlzcGF0Y2hQYWdlVmlzaWJsZSIsIm1heWJlRGlzcGF0Y2hQYWdlTG9hZGVkIiwibmV3TG9hZGVkIiwibG9hZGVkIiwic2xlZXBUaW1lciIsIm1heWJlRGlzcGF0Y2hQYWdlVmlzaWJsZSIsInZpc2libGUiLCJ2aXNpYmlsaXR5U3RhdGUiLCJ2aXNpYmxlVGltZXIiLCJhY3RpdmF0ZWQiLCJhY3RpdmVUaW1lIiwiZGlzcGF0Y2hQYWdlQWN0aXZhdGVkIiwiYWN0aXZhdGlvblRpbWVvdXQiLCJzZXRBY3RpdmF0ZWQiLCJnZXRBY3RpdmVUaW1lIiwibG9jYWxJZCIsIlRBQl9JRCIsIm5leHRJZCIsIm5leHRMb2NhbElkIiwicmFuZG9tVmFsdWVzIiwidGFiVmFyaWFibGVzIiwidGFiU3RhdGUiLCJoZWFydGJlYXQiLCJzdGF0ZSIsImtub3duVGFicyIsInZhcmlhYmxlcyIsImFkZFN0YXRlTGlzdGVuZXIiLCJkaXNwYXRjaFN0YXRlIiwiYWRkVmFyaWFibGVzQ2hhbmdlZExpc3RlbmVyIiwiZGlzcGF0Y2hWYXJpYWJsZXNDaGFuZ2VkIiwicG9zdCIsInRyeUdldFZhcmlhYmxlIiwidGltZXN0YW1wIiwidmFyaWFibGUiLCJzZXRMb2NhbFZhcmlhYmxlcyIsInVwZGF0ZVZhcmlhYmxlU3RhdGUiLCJjcmVhdGVkIiwibW9kaWZpZWQiLCJ2ZXJzaW9uIiwiZ2V0VmFyaWFibGVDaGFuZ2VzIiwic2hhcmVkQ2hhbmdlcyIsImNoYW5nZXMiLCJ1cGRhdGVzIiwiZGlzcGF0Y2hSZXF1ZXN0IiwibG9jYWxTdGF0ZSIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsIkNMSUVOVF9TVE9SQUdFX1BSRUZJWCIsIkNMSUVOVF9TVEFURV9DSEFOTkVMX0lEIiwicmVtb3ZlSXRlbSIsInBhZFN0YXJ0Iiwic2V0SXRlbSIsImxvY2FsU3RvcmFnZSIsImNoYW5nZWRFdmVudERhdGEiLCJuZXdWYWx1ZSIsInNlbmRlciIsImluaXRUaW1lb3V0IiwidGltZW91dCIsIkhFQVJUQkVBVF9GUkVRVUVOQ1kiLCJ0YWJJZCIsImxvYWRpbmciLCJhZGRSZXNwb25zZUhhbmRsZXIiLCJkaXNwYXRjaFJlc3BvbnNlIiwicmVxdWVzdExvY2siLCJzaGFyZWRMb2NrIiwicmV0cmllcyIsImRlZmF1bHRSZXRyaWVzIiwiaW50ZXJ2YWxJZCIsInJlbmV3IiwibG9jYWxUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwid2FpdEhhbmRsZSIsInJhY2UiLCJsb2NrSWQiLCJyZXF1ZXN0IiwiYmVhY29uIiwiY3VycmVudERhdGEiLCJzZXJpYWxpemVkIiwiY2FuY2VsIiwicHJlcGFyZVJlcXVlc3REYXRhIiwicHJlcGFyZVJlc3VsdCIsIm5ld0RhdGEiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsIndhcm4iLCJhcnJheUJ1ZmZlciIsIm5hdmlnYXRvciIsInNlbmRCZWFjb24iLCJCbG9iIiwiS0VZX1BST1BTIiwiR0VUVEVSX1JFUVVFU1RfUFJPUFMiLCJTRVRURVJfUkVRVUVTVF9QUk9QUyIsImNhbGxiYWNrU291cmNlU3ltYm9sIiwiYWN0aXZlQ2FsbGJhY2tzIiwicmVnaXN0ZXJQb3N0Q2FsbGJhY2siLCJpbnRlcnNlY3Rpb25IYW5kbGVyIiwiSU1QUkVTU0lPTl9TVEFSVCIsIklNUFJFU1NJT05fU1RPUCIsImZvcm1hdFZhcmlhYmxlcyIsImZvcm1hdERhdGFVc2FnZSIsInNjaGVtYSIsImlzTGlua0VsZW1lbnQiLCJocmVmIiwic3RhcnRzV2l0aCIsImlzQ2xpY2thYmxlIiwiZ2V0RWxlbWVudEluZm8iLCJpbmNsdWRlUmVjdCIsIl9lbF9ocmVmIiwiX2VsX2lubmVyVGV4dCIsImlubmVyVGV4dCIsImdldEN1cnJlbnRWaWV3SWQiLCJjbGllbnRJZCIsInJlZmVycmVyS2V5IiwicHVzaE5hdmlnYXRpb25Tb3VyY2UiLCJuYXZpZ2F0aW9uRXZlbnRJZCIsImNvbnN1bWVkIiwidG90YWxEdXJhdGlvbiIsInZpc2libGVEdXJhdGlvbiIsImFjdGl2YXRpb25zIiwiYWRkVmlld0NoYW5nZWRMaXN0ZW5lciIsImRpc3BhdGNoVmlld0NoYW5nZWQiLCJjcmVhdGVWaWV3RHVyYXRpb25UaW1lciIsInRvdGFsVGltZSIsInZpc2libGVUaW1lIiwiYWN0aXZhdGlvbnNDb3VudGVyIiwiYWRkRnJhbWVMaXN0ZW5lckludGVybmFsIiwiY2FsbE9uRnJhbWUiLCJvbkZyYW1lIiwidHJpZ2dlckN1cnJlbnQiLCJmcmFtZXMiLCJrbm93bkZyYW1lcyIsIm5vcm1hbGl6ZUNhcnRFdmVudERhdGEiLCJ1bml0cyIsImhhc0NvbXBvbmVudE9yQ29udGVudCIsImJvdW5kYXJ5IiwiY29tcG9uZW50IiwicGFyc2VCb3VuZGFyeVRhZ3MiLCJhbmNlc3RvciIsInN0cmlwUmVjdHMiLCJrZWVwIiwiZ2V0Q29tcG9uZW50Q29udGV4dCIsImRpcmVjdE9ubHkiLCJpbmNsdWRlUmVnaW9uIiwiYXJlYVBhdGgiLCJjb21wb25lbnRzIiwiY29sbGVjdGVkQ29udGVudCIsImluY2x1ZGVTdGF0ZSIsImFyZWEiLCJ0cmFjayIsInNlY29uZGFyeSIsInByb21vdGUiLCJyZWdpb24iLCJjdXJyZW50VmFsdWUiLCJkZWZhdWx0RXh0ZW5zaW9ucyIsInNldHVwIiwiZGVmaW5pdGlvbiIsInBlbmRpbmdWaWV3RGVmaW5pdGlvbiIsIm5hdmlnYXRpb24iLCJwb3N0VmlldyIsImV2ZW50cyIsInBvc3RQYXRjaCIsInZpZXdJbmRleCIsInRhYkluZGV4IiwiY3VycmVudExvY2F0aW9uIiwidGFicyIsImZvcmNlIiwicXMiLCJyZWZlcnJlciIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJkb21haW4iLCJ0YWJOdW1iZXIiLCJ0YWJWaWV3TnVtYmVyIiwidmlld3BvcnQiLCJkdXJhdGlvbiIsImZpcnN0VGFiIiwibGFuZGluZ1BhZ2UiLCJfdXRtIiwidXRtIiwibmF2aWdhdGlvblR5cGUiLCJnZXRFbnRyaWVzQnlUeXBlIiwicmVkaXJlY3RzIiwicmVkaXJlY3RDb3VudCIsInJlbGF0ZWRFdmVudElkIiwiZXh0ZXJuYWxSZWZlcnJlciIsInJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZSIsImhpc3RvcnkiLCJhcHBseSIsInByb2Nlc3NDb21tYW5kIiwiaXNDaGFuZ2VVc2VyQ29tbWFuZCIsImNvbW1hbmQiLCJ1c2VybmFtZSIsImRlY29yYXRlIiwiaW1wcmVzc2lvbnMiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZWxzIiwiY3VycmVudEludGVyc2VjdGlvbnMiLCJjb25zdHJhaW4iLCJwb2ludCIsInByb2JlUmFuZ2UiLCJjcmVhdGVSYW5nZSIsInJlZ2lvbnMiLCJpbXByZXNzaW9uRXZlbnRzIiwidW5iaW5kUGFzc2l2ZUV2ZW50U291cmNlcyIsImJvdW5kYXJpZXMiLCJzdGF0cyIsInBlbmRpbmdBY3RpdmUiLCJ2aXNpYmxlUGVyY2VudGFnZSIsInVwZGF0ZVJlZ2lvbiIsInZpZXdEdXJhdGlvbiIsInByZXZIZWlnaHQiLCJpbmZlcnJlZCIsImJvdHRvbSIsInJlYWRUaW1lIiwidmlld1dpZHRoIiwidmlld0hlaWdodCIsImludGVyc2VjdGlvbiIsInJpZ2h0IiwiaW50ZXJzZWN0aW9uSGVpZ2h0IiwiaW50ZXJzZWN0aW9uV2lkdGgiLCJ0aHJlc2hvbGRzIiwicXVhbGlmaWVkIiwidGltZU9mZnNldCIsIm1pZGRsZSIsInNlZW4iLCJ0ZXh0Q29udGVudCIsInByZXZJbmRleCIsImNoYXJNYXRjaGVyIiwid29yZHMiLCJsb25nV29yZHMiLCJzZW50ZW5jZXMiLCJoYXNXb3JkIiwibGltaXRzIiwid29yZHNCZWZvcmUiLCJpblNlbnRlbmNlIiwid2FzQm91bmRhcnkiLCJNSU5VVEUiLCJTRUNPTkQiLCJjaGFyYWN0ZXJzIiwibGl4Iiwibm9kZXMiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiTm9kZUZpbHRlciIsIlNIT1dfVEVYVCIsImJvdW5kYXJ5SW5kZXgiLCJuZXh0Tm9kZSIsIm5vZGVMZW5ndGgiLCJob3Jpem9udGFsT2Zmc2V0IiwidmVydGljYWxPZmZzZXQiLCJpbnRlcnNlY3Rpb25Ub3AiLCJpbnRlcnNlY3Rpb25Cb3R0b20iLCJpc0ludGVyc2VjdGluZyIsIm9ic2VydmUiLCJyZWdpc3RlckNvbXBvbmVudCIsImNhcnQiLCJldmVudERhdGEiLCJjbGlja2FibGVzIiwiY2xpY2thYmxlIiwiY21kIiwiaXNEYXRhQm91bmRhcnlDb21tYW5kIiwiaXNTY2FuQ29tcG9uZW50c0NvbW1hbmQiLCJhdHRyaWJ1dGVOYW1lIiwicmVmZXJlbmNlcyIsImNvbW1hbmRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm5leHRFbGVtZW50U2libGluZyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNjYW4iLCJhdHRyaWJ1dGUiLCJhY3RpdmVFdmVudENsaWNrcyIsInRyYWNrRG9jdW1lbnQiLCJ0cmFja0NsaWNrcyIsInRyYWNrUmVnaW9uIiwiY2xpY2thYmxlRWxlbWVudCIsImNvbnRhaW5lckVsZW1lbnQiLCJuYXYiLCJidXR0b24iLCJjaGlsZCIsImNoaWxkQ29tcG9uZW50cyIsImNsaWNrcyIsImNvbnRleHRDYXJ0IiwiY2xpY2tJbnRlbnQiLCJjb21wb25lbnRDb250ZXh0Iiwic2hhcmVkRXZlbnRQcm9wZXJ0aWVzIiwiY29udGFpbmVyIiwiaW5mbyIsImVsZW1lbnQiLCJsaW5rIiwiZXh0ZXJuYWwiLCJob3N0bmFtZSIsInNlYXJjaCIsImFuY2hvciIsIm9yaWdpbmFsVXJsIiwicmVxdWVzdElkIiwibmF2aWdhdGlvbkV2ZW50Iiwic2VsZiIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdEtleSIsImV4aXQiLCJpbnRlcm5hbFVybCIsInN1YnN0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImludGVudEV2ZW50IiwiY29udGVudERvY3VtZW50IiwiZW1pdHRlZCIsImluaXRpYWxTY3JvbGwiLCJkZWZlciIsImYiLCJzY3JvbGwiLCJmb2xkIiwic2Nyb2xsVHlwZSIsImlzQ2FydENvbW1hbmQiLCJhUCIsIm9yZGVyIiwiZ2V0Rm9ybVN0YXRlIiwiZm9ybUV2ZW50cyIsImdldEZvcm1GaWVsZFZhbHVlIiwidHJhY2tlZCIsImluY2x1ZGUiLCJzZWxlY3RlZE9wdGlvbnMiLCJvcHRpb24iLCJjaGVja2VkIiwiY2FwdHVyZWRDb250ZXh0IiwicmVmTmFtZSIsImZvcm1FbGVtZW50IiwiZm9ybSIsImZpZWxkTWFwIiwiZmllbGRzIiwiY29tbWl0RXZlbnQiLCJoYW5kbGVMb3N0Rm9jdXMiLCJjb21wbGV0ZWQiLCJpc0Nvbm5lY3RlZCIsImNvbW1pdFRpbWVvdXQiLCJkZWZhdWx0VGltZW91dCIsImhhbmRsZSIsImN1cnJlbnRDYWxsYmFjayIsInN0aWNreVRpbWVvdXQiLCJpc1JlQ2FwdGNoYUFjdGl2ZSIsInVuYmluZE5hdmlnYXRpb25MaXN0ZW5lciIsInJlY2FwdGNoYSIsInN1Ym1pdEV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsInByb2JlRG9jIiwic3R5bGUiLCJ2aXNpYmlsaXR5Iiwib3BhY2l0eSIsIlZBTElEQVRJT05fRVJST1JfVElNRU9VVCIsImZpZWxkIiwibGFiZWwiLCJsYWJlbHMiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJyZWYiLCJnZXRGaWVsZEluZm8iLCJjdXJyZW50RmllbGQiLCJ0b3RhbCIsInR2MCIsImZpbGxPcmRlciIsImZpbGxlZCIsImNvcnJlY3Rpb25zIiwibGFzdEZpZWxkIiwid2lyZUZvcm1GaWVsZHMiLCJkYXRhTGF5ZXJIZWFkIiwiZ2V0Q3VycmVudENvbnNlbnQiLCJyZWZyZXNoIiwidXBkYXRlQ29uc2VudCIsImNvbnNlbnQiLCJHQ012Mk1hcHBpbmdzIiwiYW5hbHl0aWNzX3N0b3JhZ2UiLCJmdW5jdGlvbmFsaXR5X3N0b3JhZ2UiLCJwZXJzb25hbGl6YXRpb25fc3RvcmFnZSIsImFkX3N0b3JhZ2UiLCJzZWN1cml0eV9zdG9yYWdlIiwiZXh0ZXJuYWxDb25zZW50U291cmNlcyIsImV4dGVybmFsU291cmNlIiwibGF5ZXIiLCJkYXRhTGF5ZXIiLCJwcmV2aW91c0hlYWQiLCJjb2RlIiwiZ2V0dGVyIiwicHJldmlvdXNDb25zZW50IiwiaXNVcGRhdGVDb25zZW50Q29tbWFuZCIsIm5ld0NvbnNlbnQiLCJoYXNGb2N1cyIsImNvbW1hbmRUZXN0IiwiaXNUYWdBdHRyaWJ1dGVzQ29tbWFuZCIsImlzVG9nZ2xlQ29tbWFuZCIsImlzRXh0ZW5zaW9uQ29tbWFuZCIsImlzRmx1c2hDb21tYW5kIiwiaXNHZXRDb21tYW5kIiwiaXNMaXN0ZW5lckNvbW1hbmQiLCJpc09yZGVyQ29tbWFuZCIsImlzU2V0Q29tbWFuZCIsImlzVHJhY2tlckF2YWlsYWJsZUNvbW1hbmQiLCJpbml0aWFsaXplVHJhY2tlciIsImNvbmZpZyIsImNsaWVudEVuY3J5cHRpb25LZXkiLCJzZXRTdG9yYWdlS2V5IiwiZXh0ZW5zaW9ucyIsImNhbGxMaXN0ZW5lcnMiLCJwZW5kaW5nU3RhdGVDb21tYW5kcyIsInRyYWNrZXJDb250ZXh0IiwibWFpbkFyZ3MiLCJjdXJyZW50QXJnIiwiaW5zZXJ0QXJncyIsImdsb2JhbFN0YXRlUmVzb2x2ZWQiLCJyZWFkeSIsImFwaVByb3RlY3Rpb25LZXkiLCJxdWV1ZWRDb21tYW5kcyIsInVuc3Vic2NyaWJlIiwiZW5kcG9pbnQiLCJwb2xsVmFyaWFibGVzIiwiZ2V0dGVycyIsInZhcnMiLCJWQVJJQUJMRV9QT0xMX0ZSRVFVRU5DWSIsInJlZ2lzdGVyQ2FsbGJhY2siLCJtYXBwZWRLZXkiLCJpbnZva2VDYWxsYmFja3MiLCJzdGF0ZUR1cmF0aW9uIiwiU3VjY2VzcyIsInZhbGlkYXRlS2V5IiwibmV3TG9jYWwiLCJyZXF1ZXN0R2V0dGVycyIsIkZvcmJpZGRlbiIsImxvY2FsIiwidHRsIiwiX3RoaXMiLCJkZXZpY2VTZXNzaW9uSWQiLCJfdmFyaWFibGVzIiwiaW5pdFNldHRlcnMiLCJpbml0VmFsdWUiLCJDb25mbGljdCIsInNldHRlcnMiLCJsb2NhbFJlc3VsdHMiLCJwZW5kaW5nUGF0Y2hlcyIsInJlcXVlc3RWYXJpYWJsZXMiLCJwYXRjaCIsIkNyZWF0ZWQiLCJhdHRlbXB0cyIsInJlcXVpcmVkIiwiYXBwbHlFdmVudEV4dGVuc2lvbnMiLCJza2lwIiwiZXh0ZW5zaW9uIiwidGhyb3dJZkludmFsaWQiLCJzbmFwc2hvdHMiLCJtYXBQYXRjaFRhcmdldCIsInNvdXJjZUV2ZW50IiwidXBkYXRlU25hcHNob3QiLCJhYm9ydCIsImZsdXNoIiwibmV3RXZlbnRzIiwidW5sb2FkaW5nIiwidXBkYXRlZEV2ZW50cyIsInVuYmluZGluZyIsImluaXRpYWxQb3N0IiwicmVsYXRlZE5vZGUiLCJzbmFwc2hvdCIsInRhZ0F0dHJpYnV0ZXMiLCJkaXNhYmxlIiwiZXhwYW5kZWQiLCJwcmlvcml0eSIsInN1Y2Nlc3MiLCJfX2lzVHJhY2tlciIsIl8xIiwiXzIiLCJoYXNVc2VyQWdlbnQiLCJoYXNUb3VjaCIsIm1heFRvdWNoUG9pbnRzIiwidXNlckFnZW50IiwibGFuZ3VhZ2VzIiwibGFuZ3VhZ2UiLCJwcmltYXJ5IiwicHJlZmVyZW5jZSIsInRpbWV6b25lIiwiaWFuYSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsInRpbWVab25lIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzY3JlZW4iLCJ3IiwiaCIsIm9yaWVudGF0aW9uIiwibyIsImxhbmRzY2FwZSIsImFuZ2xlIiwiZGV2aWNlVHlwZSIsImRwciIsImRldmljZVBpeGVsUmF0aW8iXSwibWFwcGluZ3MiOiJN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
