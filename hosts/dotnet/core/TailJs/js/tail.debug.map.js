(()=>{"use strict";var e=void 0,r=(r,t=!0,n)=>{try{return r()}catch(r){if(!i(t))return t?.(r);if(t)throw r;return console.error(r),e}finally{n?.()}},t=r=>r===e,n=r=>r!==e,a=e=>null!=e,i=e=>"boolean"==typeof e,o=e=>!!e,l=Array.isArray,f=e=>l(e),s=(e,r=!1)=>null==e?[]:!r&&f(e)?e:g(e,!0)?[...e]:[e],u=(e,r=!1)=>e&&"object"==typeof e&&(r||!g(e)),c=(e,r)=>"function"==typeof e?.[r],d=e=>"symbol"==typeof e,v=e=>"function"==typeof e,g=(e,r=!1)=>!!e?.[Symbol.iterator]&&(r||!(e=>"string"==typeof e)(e)),y=(e,r=0,t)=>r||n(t)?e.slice?e.slice(r,t):0>r||0>t?y([...e],r,t):function*(){for(var n of(t??=Number.MAX_SAFE_INTEGER,e))if(!r--){if(!t--)break;yield n}}():e;function*h(e,r=(e=>e),t){var a,i=0,o=0,l={prev:void 0,source:e,skip:()=>o=1,end:e=>(o=n(e)?2:3,e)};for(var f of e){if(void 0===(a=r(f,i++,l))||o%2||(t?t(a):yield a,l.prev=f),o>1)break;o=0}}var w,b=(e,r,t)=>g(e,!0)?r||t?y(b(e),r,t):e:n(e)?u(e)?b(Object.entries(e),r,t):v(e)?function*(e,r,t=Number.MAX_SAFE_INTEGER){for(n(r)&&(yield r);t--&&n(r=e(r));)yield r}(e,r,t):function*(e=0,r=0){for(;e--;)yield r++}(e,r):[],m=(e,r,...t)=>{var a,i=void 0;if(e=b(e,...t),3>r.length&&c(e,"forEach"))e.forEach(((e,t)=>n(a=r(e,t))&&(i=a)));else for(var o of h(e,r,(e=>i=e)));return i},p=(e,r=o,t,...n)=>t?s(r(e,r,!1,...n)):((e,r)=>f(e)?e.filter(r):function*(){var t=0;for(var n of e)r(n,t++)&&(yield n)}())(b(e,...n),r),A=p,E=(e,r,...t)=>c(e,"some")?e.some(r?(e,t)=>r(e,t):o):r?E(A(e,r,!1,...t)):m(e,((e,r,{end:t})=>t(!0)))??!1,I=(e,r,t)=>{var a=c(e,"get")?e.get(r):c(e,"has")?e.has(r):e[r];return!n(a)&&n(t)&&n(a=v(t)?t():t)&&k(e,r,a),a},k=(!0,(e,...r)=>{var a,[i,o]=r,l=([r,n])=>t(n)?U(e,r):((a||I(e,r)!==n)&&(c(e,"set")?e.set(r,n):c(e,"add")?n?e.add(r):e.delete(r):e[r]=n),n);return(a=1===r.length)?(f(i)&&i.every((e=>u(e)))&&(i=Object.assign({},...i)),u(i)?(Object.assign(e,i),Object.entries(i).forEach((([r,t])=>!n(t)&&delete e[r])),e):(u(i)?m(i,l):m(i,(e=>u(e)?m(e,l):l(e))),e)):l([i,o])}),U=(e,r,...t)=>{if(t.length)return t.map((r=>U(e,r)));var n=I(e,r);return c(e,"delete")?e.delete(r):f(e)?e.splice(r,1):delete e[r],n},S=()=>Math.trunc(performance.timeOrigin+performance.now()),T=(r,t)=>{var{queue:a=!0,paused:o=!1,frequency:l}="number"==typeof t?{frequency:t}:t,f=0,s=(e=>{var r,t,a,i={resolved:void 0,reset(){return i.resolved=void 0,a=new Promise(((e,a)=>(r=r=>{i.resolved=!n(r)||r,e(r)},t=a))),i},resolve(e){return r(e),i},reject(e){return t(e),i},signal(e){return r(e),i.reset()},then(...e){return a.then(...e)},wait(e){return Promise.race([x(e),a])}};return i.reset(),e?i.resolve(e):i})().resolve(),u=async t=>!(!f||!a&&!s.resolved&&!0!==t||(d.busy=!0,!0!==t&&await s,s.reset(),(!1===await(async(r,t=!0,n)=>{try{return await r()}catch(r){if(!i(t))return await t(r);if(t)throw r;return console.error(r),e}finally{n?.()}})(r,!1,(()=>s.resolve()))||0>l)&&c(!0),d.busy=!1,0)),c=e=>(clearInterval(f),d.active=!!(f=e?setInterval(u,0>l?-l:l):0),d),d={active:!1,busy:!1,restart:(e,t)=>(r=e??r,l=t??l,e||t||!f?c(!0):d),toggle:(e,r)=>e!==d.active?e?r?(d.trigger(),d):c(!0):c(!1):d,trigger:async e=>await u(e)&&(c(!0),!0)};return d.toggle(!o)},x=(e=0)=>new Promise((r=>e?setTimeout(r,e):r())),F=S().toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),N=(e,r,t)=>{var n=!1,a=(...r)=>e(...r,i),i=()=>n!==(n=!1)&&(t(a),!0),o=()=>n!==(n=!0)&&(r(a),!0);return o(),[i,o]},M=(...e)=>(e=p(e),[()=>E(e,(e=>e[0]())),()=>E(e,(e=>e[1]()))]),C=()=>{var e=new Set;return[r=>N(r,(r=>e.add(r)),(r=>e.delete(r))),(...r)=>e.forEach((e=>e(...r)))]},[O,j]=C(),_=(e,r,t,i={capture:!0,passive:!0})=>f(r)?M(...((e,r,...t)=>(!v(r)&&a(r)&&(t.unshift(r),r=null),e=b(e,...t),r?3>r.length&&c(e,"map")?e.map(r).filter(n):[...h(e,r)]:s(e,!0)))(r,(r=>_(e,r,t,i)))):N(t,(t=>e.addEventListener(r,t,i)),(t=>e.addEventListener(r,t,i))),z=(e,r=!0)=>(w=O(e),V&&r&&e(R,!1,w[0]),w),R=!0,V=!1,q=()=>(!V||!R)&&j(R=!0,V||!(V=!0));_(window,"pagehide",(()=>(R||V)&&j(R=!1,V=!1))),_(window,"pageshow",q),_(document,"visibilitychange",(()=>"visible"===document.visibilityState?q():R&&j(R=!1,V)));var D=[],B=[],G=(e,r=0)=>e.charCodeAt(r);[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach(((e,r)=>D[B[r]=e.charCodeAt(0)]=r));var J,P={32:[0x811c9dc5n,0x01000193n],64:[0xcbf29ce484222325n,0x100000001b3n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},X=(e=256)=>e*Math.random()|0,$={exports:{}};J=$,(()=>{function e(e,r){if(r&&r.multiple&&!Array.isArray(e))throw new Error("Invalid argument type: Expected an Array to serialize multiple values.");var t,n,a=4294967296,i=new Uint8Array(128),o=0;if(r&&r.multiple)for(var l=0;l<e.length;l++)f(e[l]);else f(e);return i.subarray(0,o);function f(e,i){switch(typeof e){case"undefined":s();break;case"boolean":(e=>{c(e?195:194)})(e);break;case"number":(e=>{if(isFinite(e)&&Math.floor(e)===e)if(0>e||e>127)if(0>e&&e>=-32)c(e);else if(e>0&&255>=e)d([204,e]);else if(-128>e||e>127)if(e>0&&65535>=e)d([205,e>>>8,e]);else if(-32768>e||e>32767)if(e>0&&4294967295>=e)d([206,e>>>24,e>>>16,e>>>8,e]);else if(-2147483648>e||e>2147483647)if(e>0&&0x10000000000000000>=e){var r=e/a,i=e%a;d([211,r>>>24,r>>>16,r>>>8,r,i>>>24,i>>>16,i>>>8,i])}else-0x8000000000000000>e||e>0x8000000000000000?d(0>e?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):(c(211),v(e));else d([210,e>>>24,e>>>16,e>>>8,e]);else d([209,e>>>8,e]);else d([208,e]);else c(e);else n||(t=new ArrayBuffer(8),n=new DataView(t)),n.setFloat64(0,e),c(203),d(new Uint8Array(t))})(e);break;case"string":(e=>{var r=(e=>{for(var r=!0,t=e.length,n=0;t>n;n++)if(e.charCodeAt(n)>127){r=!1;break}for(var a=0,i=new Uint8Array(e.length*(r?1:4)),o=0;o!==t;o++){var l=e.charCodeAt(o);if(128>l)i[a++]=l;else{if(2048>l)i[a++]=l>>6|192;else{if(l>55295&&56320>l){if(++o>=t)throw new Error("UTF-8 encode: incomplete surrogate pair");var f=e.charCodeAt(o);if(56320>f||f>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+f.toString(16)+" at index "+o+" out of range");l=65536+((1023&l)<<10)+(1023&f),i[a++]=l>>18|240,i[a++]=l>>12&63|128}else i[a++]=l>>12|224;i[a++]=l>>6&63|128}i[a++]=63&l|128}}return r?i:i.subarray(0,a)})(e),t=r.length;t>31?d(t>255?t>65535?[219,t>>>24,t>>>16,t>>>8,t]:[218,t>>>8,t]:[217,t]):c(160+t),d(r)})(e);break;case"object":null===e?s():e instanceof Date?(e=>{var r=e.getTime()/1e3;if(0===e.getMilliseconds()&&r>=0&&4294967296>r)d([214,255,r>>>24,r>>>16,r>>>8,r]);else if(r>=0&&17179869184>r)d([215,255,(t=1e6*e.getMilliseconds())>>>22,t>>>14,t>>>6,t<<2>>>0|r/a,r>>>24,r>>>16,r>>>8,r]);else{var t;d([199,12,255,(t=1e6*e.getMilliseconds())>>>24,t>>>16,t>>>8,t]),v(r)}})(e):Array.isArray(e)?u(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?(e=>{var r=e.length;d(r>15?r>65535?[198,r>>>24,r>>>16,r>>>8,r]:[197,r>>>8,r]:[196,r]),d(e)})(e):e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?u(e):(e=>{var r=0;for(var t in e)void 0!==e[t]&&r++;for(var t in r>15?d(r>65535?[223,r>>>24,r>>>16,r>>>8,r]:[222,r>>>8,r]):c(128+r),e){var n=e[t];void 0!==n&&(f(t),f(n))}})(e);break;default:if(i||!r||!r.invalidTypeReplacement)throw new Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.");"function"==typeof r.invalidTypeReplacement?f(r.invalidTypeReplacement(e),!0):f(r.invalidTypeReplacement,!0)}}function s(e){c(192)}function u(e){var r=e.length;r>15?d(r>65535?[221,r>>>24,r>>>16,r>>>8,r]:[220,r>>>8,r]):c(144+r);for(var t=0;r>t;t++)f(e[t])}function c(e){if(i.length<o+1){for(var r=2*i.length;o+1>r;)r*=2;var t=new Uint8Array(r);t.set(i),i=t}i[o]=e,o++}function d(e){if(i.length<o+e.length){for(var r=2*i.length;r<o+e.length;)r*=2;var t=new Uint8Array(r);t.set(i),i=t}i.set(e,o),o+=e.length}function v(e){var r,t;0>e?(e++,r=~(r=Math.abs(e)/a),t=~(t=Math.abs(e)%a)):(r=e/a,t=e%a),d([r>>>24,r>>>16,r>>>8,r,t>>>24,t>>>16,t>>>8,t])}}function r(e,r){var t,n=4294967296,a=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),"object"!=typeof e||void 0===e.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),r&&r.multiple)for(t=[];a<e.length;)t.push(i());else t=i();return t;function i(){var r=e[a++];if(r>=0&&127>=r)return r;if(r>=128&&143>=r)return u(r-128);if(r>=144&&159>=r)return c(r-144);if(r>=160&&191>=r)return d(r-160);if(192===r)return null;if(193===r)throw new Error("Invalid byte code 0xc1 found.");if(194===r)return!1;if(195===r)return!0;if(196===r)return s(-1,1);if(197===r)return s(-1,2);if(198===r)return s(-1,4);if(199===r)return v(-1,1);if(200===r)return v(-1,2);if(201===r)return v(-1,4);if(202===r)return f(4);if(203===r)return f(8);if(204===r)return l(1);if(205===r)return l(2);if(206===r)return l(4);if(207===r)return l(8);if(208===r)return o(1);if(209===r)return o(2);if(210===r)return o(4);if(211===r)return o(8);if(212===r)return v(1);if(213===r)return v(2);if(214===r)return v(4);if(215===r)return v(8);if(216===r)return v(16);if(217===r)return d(-1,1);if(218===r)return d(-1,2);if(219===r)return d(-1,4);if(220===r)return c(-1,2);if(221===r)return c(-1,4);if(222===r)return u(-1,2);if(223===r)return u(-1,4);if(r>=224&&255>=r)return r-256;throw console.debug("msgpack array:",e),new Error("Invalid byte value '"+r+"' at index "+(a-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function o(r){for(var t=0,n=!0;r-- >0;)if(n){var i=e[a++];t+=127&i,128&i&&(t-=128),n=!1}else t*=256,t+=e[a++];return t}function l(r){for(var t=0;r-- >0;)t*=256,t+=e[a++];return t}function f(r){var t=new DataView(e.buffer,a+e.byteOffset,r);return a+=r,4===r?t.getFloat32(0,!1):8===r?t.getFloat64(0,!1):void 0}function s(r,t){0>r&&(r=l(t));var n=e.subarray(a,a+r);return a+=r,n}function u(e,r){0>e&&(e=l(r));for(var t={};e-- >0;)t[i()]=i();return t}function c(e,r){0>e&&(e=l(r));for(var t=[];e-- >0;)t.push(i());return t}function d(r,t){0>r&&(r=l(t));var n=a;return a+=r,((e,r,t)=>{var n=r,a="";for(t+=r;t>n;){var i=e[n++];if(i>127)if(i>191&&224>i){if(n>=t)throw new Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&e[n++]}else if(i>223&&240>i){if(n+1>=t)throw new Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&e[n++])<<6|63&e[n++]}else{if(239>=i||i>=248)throw new Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1));if(n+2>=t)throw new Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(i>65535){if(i>1114111)throw new Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach");i-=65536,a+=String.fromCharCode(i>>10|55296),a+=String.fromCharCode(1023&i|56320)}else a+=String.fromCharCode(i)}return a})(e,n,r)}function v(e,r){0>e&&(e=l(r));var t=l(1),i=s(e);return 255===t?(e=>{if(4===e.length){var r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];return new Date(1e3*r)}if(8===e.length){var t=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2);return r=(3&e[3])*n+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7],new Date(1e3*r+t/1e6)}if(12===e.length)return t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],a-=8,r=o(8),new Date(1e3*r+t/1e6);throw new Error("Invalid data length for a date value.")})(i):{type:t,data:i}}}var t={serialize:e,deserialize:r,encode:e,decode:r};J?J.exports=t:window[window.msgpackJsName||"msgpack"]=t})();var L=$.exports,K="$ref",H=new ArrayBuffer(8),Q=new DataView(H),W=e=>{var r,a,i,o=(e,r,t=e[r],n=s(t))=>((t!==n||d(r))&&(e[r]=n,l((()=>e[r]=t))),t),l=e=>(r??=[]).push(e),s=e=>null==e||v(e)||d(e)?null:Number.isFinite(e)&&!Number.isSafeInteger(e)?(Q.setFloat64(0,e,!0),{"":[...new Uint32Array(H)]}):u(e,!0)?e.toJSON&&e!==(e=e.toJSON())?s(e):n(i=(a??=new Map).get(e))?(e[K]||(e[K]=i,l((()=>delete e[K]))),{[K]:i}):(u(e)?(a.set(e,a.size+1),Object.keys(e).forEach((r=>(t(o(e,r))||d(r))&&delete e[r]))):g(e)&&(!f(e)||Object.keys(e).length<e.length?[...e]:e).forEach(((r,t)=>t in e?o(e,t):(e[t]=null,l((()=>delete e[t]))))),e):e,c=L.serialize(s(e));return r?.forEach((e=>e())),c},Y=(e,t=!1)=>{var[n,o,l]=((e="")=>{var r,t,n,o,l,f=0n,s=0n,u=[],c=0,d=0,v=0,g=0,y=[];for(v=0;v<e.length;g+=y[v]=e.charCodeAt(v++));var h=e?()=>{u=[...y],d=255&(c=g),v=-1}:()=>{},w=e=>(d=255&(c+=-u[v=(v+1)%u.length]+(u[v]=e)),e);return[e?e=>{for(h(),r=e.length,o=16-(r+4)%16,l=new Uint8Array(4+r+o),n=0;3>n;l[n++]=w(X()));for(l[n++]=w(d^16*X(16)+o),t=0;r>t;l[n++]=w(d^e[t++]));for(;o--;)l[n++]=X();return l}:e=>e,e?e=>{for(h(),t=0;3>t;w(e[t++]));if(0>=(r=e.length-4-((d^w(e[t++]))%16||16)))return new Uint8Array(0);for(l=new Uint8Array(r),n=0;r>n;l[n++]=d^w(e[t++]));return l}:e=>e,(e,r=64)=>{if(!a(e))return null;var n=i(r)?64:r;for(h(),[f,s]=P[n],t=0;t<e.length;f=BigInt.asUintN(n,(f^BigInt(d^w(e[t++])))*s));return!0===r?Number(BigInt(Number.MIN_SAFE_INTEGER)+f%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):f.toString(36)}]})(e??"");return t?[e=>JSON.stringify(e),e=>null==e?void 0:r((()=>JSON.parse(e,void 0))),(e,r)=>l(L.serialize(e),r)]:[e=>(e=>{for(var r,t,n=0,a=e.length,i=[];a>n;)r=e[n++]<<16|e[n++]<<8|e[n++],i.push(B[(16515072&r)>>18],B[(258048&r)>>12],B[(4032&r)>>6],B[63&r]);return i.length+=a-n,t=i,String.fromCharCode(...t)})(n(W(e))),e=>{return a(e)?(t=o((e=>{for(var r,t=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);a>t;)i[n++]=D[G(e,t++)]<<2|(r=D[G(e,t++)])>>4,a>t&&(i[n++]=(15&r)<<4|(r=D[G(e,t++)])>>2,a>t&&(i[n++]=(3&r)<<6|D[G(e,t++)]));return i})(e)),l=e=>u(e,!0)?f(e[""])&&2===(e=e[""]).length?new DataView(new Uint32Array(e).buffer).getFloat64(0,!0):e[K]&&(i=(n??=[])[e[K]])?i:(e[K]&&(n[e[K]]=e,delete e[K]),Object.entries(e).forEach((([r,t])=>t!==(t=l(t))&&(e[r]=t))),e):e,a(t)?r((()=>l(L.deserialize(t))),(()=>{})):void 0):null;var t,n,i,l},(e,r)=>l(W(e),r)]};Y();var[Z,ee]=Y("foo",!0),re=(e=>{var[r,n]=C(),a=r=>e.getItem(r)?.[0],i=(r,i,o)=>{var l=a(r);return t(i)?(e.removeItem(r),n(void 0,{key:r,oldValue:l,source:F,self:!0})):(e.setItem(r,[i,F,o]),n(i,{key:r,oldValue:l,source:F,self:!0})),i},o=0,l=(r,t,n)=>{o++>3&&te(`Race condition ('${r}').`,!0);var a=i(r,t(e.getItem(r)?.[0])),f=e.getItem(r);return f?.[1]&&f?.[1]!==F?l(r,t):(o=0,a)};return{get:a,set:i,delete:e=>i(e,void 0),update:l,observe:e.observe?(t,n,a)=>{var[i,o]=M(e.observe(t,((e,r,t)=>n(e?.[0],{key:t,oldValue:r?.[0],source:e?.[1]},i))),a?r(((e,r,a)=>r.key===t&&n(e,r,a))):void 0);return[i,o]}:void 0}})({getItem:e=>ee(localStorage.getItem(e))??null,setItem:(e,r)=>localStorage.setItem(e,Z(r.filter((e=>null!=e)))),removeItem:e=>localStorage.removeItem(e),observe(e,r){var[t,n]=_(window,"storage",(({key:t,newValue:n,oldValue:a})=>e==t&&r(ee(n),ee(a),e)));return M([t,n],z(((e,r)=>!r&&(e?n():t()))))}}),te=(e,r,t=!1)=>{if("boolean"==typeof r&&(t=r,r=null),r?.message&&(e+="("+r.message,r.stack&&(e+="\n\n"+r.stack),e+=")"),console.error(e),t)throw new Error(e)},ne={knownTabs:{},variables:{}},[ae,ie]=C(),oe=((e,r=re)=>({get:()=>r.get(e),set:(t,n)=>r.set(e,t,n),delete:()=>r.delete(e),update:(t,n)=>r.update(e,t,n),observe:r.observe?(t,n)=>r.observe(e,t,n):void 0}))("_t.sr",re),le=T((()=>se(!0)),5e3),fe={hearbeat:S()},se=e=>{var r=S()-1e4;return le.toggle(e,!0),ie("ready",oe.update((t=>(m(t?.knownTabs,(([e,n])=>n[0]<r&&U(t.knownTabs,e))),fe.hearbeat=S(),k((t??=ne).knownTabs,F,e?fe:void 0),t))))};z(((e,r)=>!r&&se(e)));var ue=async()=>{var e=0,r=!1,t=T((async()=>{var t=r;r||e%2!=1||await x(1500),console.log(`${++e}, clicked: ${t}.`)}),{frequency:1e3,queue:!1});_(document.body,"click",(async e=>{r=!0,console.log(t.active,t.busy),e.shiftKey&&t.toggle(!t.active),console.log(await t.trigger(!0)),(async()=>{r=!1})()}))};window[".tail.js.init"]=e=>{e(ue)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFpbC5kZWJ1Zy5tYXAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL25wbS9jb25zdGFudHMvY29uc3RhbnRzLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvdXRpbC9zcmMvdHlwZXMudHMiLCIuLi8uLi8uLi8uLi8uLi9ucG0vcGFja2FnZXMvQHRhaWxqcy91dGlsL3NyYy9pdGVyYXRvcnMudHMiLCIuLi8uLi8uLi8uLi8uLi9ucG0vcGFja2FnZXMvQHRhaWxqcy9jbGllbnQvc3JjL2xpYjIvZG9tLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvdXRpbC9zcmMvYWNjZXNzb3JzLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvY2xpZW50L3NyYy9saWIyL3RpbWUudHMiLCIuLi8uLi8uLi8uLi8uLi9ucG0vcGFja2FnZXMvQHRhaWxqcy9jbGllbnQvc3JjL2xpYjIvY29uY3VycmVuY3kudHMiLCIuLi8uLi8uLi8uLi8uLi9ucG0vcGFja2FnZXMvQHRhaWxqcy9jbGllbnQvc3JjL2xpYjIvaWRzLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvY2xpZW50L3NyYy9saWIyL2V2ZW50cy50cyIsIi4uLy4uLy4uLy4uLy4uL25wbS9wYWNrYWdlcy9AdGFpbGpzL3V0aWwvc3JjL3RyYW5zcG9ydC5wa2cvYmFzZTY0LnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvdXRpbC9zcmMvdHJhbnNwb3J0LnBrZy9sZnNyLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL25vZGVfbW9kdWxlcy8ucG5wbS9AeWdvZSttc2dwYWNrQDEuMC4zL25vZGVfbW9kdWxlcy9AeWdvZS9tc2dwYWNrL21zZ3BhY2suanMiLCIuLi8uLi8uLi8uLi8uLi9ucG0vcGFja2FnZXMvQHRhaWxqcy91dGlsL3NyYy90cmFuc3BvcnQucGtnL3RyYW5zcG9ydC50cyIsIi4uLy4uLy4uLy4uLy4uL25wbS9wYWNrYWdlcy9AdGFpbGpzL2NsaWVudC9zcmMvbGliMi9zdG9yYWdlLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvY2xpZW50L3NyYy9saWIyL2NvbnN0cy50cyIsIi4uLy4uLy4uLy4uLy4uL25wbS9wYWNrYWdlcy9AdGFpbGpzL2NsaWVudC9zcmMvbGliMi9jaGFubmVsLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvY2xpZW50L3NyYy9saWIyL3NoYXJlZC1zdGF0ZS50cyIsIi4uLy4uLy4uLy4uLy4uL25wbS9wYWNrYWdlcy9AdGFpbGpzL2NsaWVudC9zcmMvcHVzaGVyLnRzIiwiLi4vLi4vLi4vLi4vLi4vbnBtL3BhY2thZ2VzL0B0YWlsanMvY2xpZW50L3NyYy9pbmRleC5icm93c2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1VU1QgTUFUQ0ggcGFja2FnZXNcXEB0YWlsanNcXGVuZ2luZVxcc3JjXFxSZXF1ZXN0SGFuZGxlci50c1xuZXhwb3J0IGNvbnN0IE1VVEVYX1JFUVVFU1RfQ09PS0lFID0gXCIudGFpbC5ycVwiO1xuZXhwb3J0IGNvbnN0IE1VVEVYX1JFU1BPTlNFX0NPT0tJRSA9IFwiLnRhaWwucnNcIjtcbmV4cG9ydCBjb25zdCBDT05URVhUX01FTlVfQ09PS0lFID0gXCIudGFpbC5jbVwiO1xuXG5leHBvcnQgY29uc3QgUVVFUllfREVWSUNFID0gXCJxZFwiO1xuZXhwb3J0IGNvbnN0IElOSVRJQUxJWkVfVFJBQ0tFUl9GVU5DVElPTiA9IFwiLnRhaWwuanMuaW5pdFwiO1xuXG5leHBvcnQgY29uc3QgRVZFTlRfSFVCX1FVRVJZID0gXCJ2YXJcIjtcbmV4cG9ydCBjb25zdCBWQVJJQUJMRVNfUVVFUlkgPSBcInVzclwiO1xuZXhwb3J0IGNvbnN0IENPTlRFWFRfTUVOVV9RVUVSWSA9IFwibW50XCI7XG4iLCJpbXBvcnQgeyB0b09iamVjdCwgdHlwZSByZWR1Y2UsIGZvckVhY2gsIHVwZGF0ZSwgbWFwIH0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IHR5cGUgSXNOZXZlcjxUPiA9IFtUXSBleHRlbmRzIFtuZXZlcl0gPyB0cnVlIDogZmFsc2U7XG5cbi8qKlxuICogU2hvcnRoYW5kIGZvciBhIHZhbHVlIHRoYXQgaXMgb3B0aW9uYWxseSBhd2FpdGFibGUuXG4gKi9cbmV4cG9ydCB0eXBlIE1heWJlUHJvbWlzZTxUPiA9IFByb21pc2VMaWtlPFQ+IHwgVDtcblxuZXhwb3J0IHR5cGUgVmFsdWVPckRlZmF1bHQ8VCwgUiwgRCA9IHVuZGVmaW5lZD4gPSBUIGV4dGVuZHNcbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgdm9pZFxuICA/IERcbiAgOiBSO1xuXG4vKiogU2hvcnRlciB0aGFuIHdyaXRpbmcgYWxsIHRoaXMgb3V0LCBhbmQgc2xpZ2h0bHkgZWFzaWVyIHRvIHJlYWQuICovXG5leHBvcnQgdHlwZSBOdWxsaXNoID0gbnVsbCB8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBSZW1vdmVzIG51bGwnaXNoIHZhbHVlcyBmcm9tIGEgdW5pb24uXG4gKi9cbmV4cG9ydCB0eXBlIE9taXROdWxsaXNoPFQ+ID0gVCBleHRlbmRzIE51bGxpc2ggPyBuZXZlciA6IFQ7XG5cbi8qKlxuICogQ29tbW9uIGZ1bmN0aW9uIHR5cGUgdXNlZCBmb3IgcHJvamVjdGlvbiBvZiBba2V5LHZhbHVlXSBlbnRyaWVzLlxuICovXG5leHBvcnQgdHlwZSBLZXlWYWx1ZVByb2plY3Rpb248SywgViwgUj4gPSAoXG4gIGVudHJ5OiBba2V5OiBLLCB2YWx1ZTogVl0sXG4gIGluZGV4OiBudW1iZXJcbikgPT4gUjtcblxuLyoqXG4gKiBTaG9ydGhhbmQgZm9yIGEgdHlwZSB0aGF0IGlzIGluZmVycmVkIGZyb20gYSBwYXJhbWV0ZXIgYW5kIGNhbiBlaXRoZXIgYmUgdGhlIGl0ZW0gaW4gYW4gaXRlcmFibGUsIG9yIGp1c3QgdGhlIHR5cGUgaXRzZWxmLlxuICovXG5leHBvcnQgdHlwZSBJdGVyYWJsZU9yU2VsZjxUPiA9IEl0ZXJhYmxlT3JBcnJheUxpa2U8VD4gfCBUO1xuXG50eXBlIEZ1bmN0aW9uQ29tcGFyaXNvbkVxdWFsc1dyYXBwZWQ8VD4gPSBUIGV4dGVuZHMgKFxuICBUIGV4dGVuZHMge30gPyBpbmZlciBSICYge30gOiBpbmZlciBSXG4pXG4gID8geyBbUCBpbiBrZXlvZiBSXTogUltQXSB9XG4gIDogbmV2ZXI7XG5cbnR5cGUgRnVuY3Rpb25Db21wYXJpc29uRXF1YWxzPEEsIEI+ID0gKDxcbiAgVFxuPigpID0+IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBhcmlzb25FcXVhbHNXcmFwcGVkPEE+ID8gMSA6IDIpIGV4dGVuZHMgPFxuICBUXG4+KCkgPT4gVCBleHRlbmRzIEZ1bmN0aW9uQ29tcGFyaXNvbkVxdWFsc1dyYXBwZWQ8Qj4gPyAxIDogMlxuICA/IHRydWVcbiAgOiBmYWxzZTtcblxuLyoqXG4gKiBUZXN0cyBpZiBhIHR5cGUgaXMgYGFueWAuIFRoZSB0ZXN0IHVzZWQgaXMgdGVjaG5pY2FsbHkgaW1wb3NzYWJsZSB0byBzdWNjZWVkIHVubGVzcyB0aGUgdHlwZSBpcyBpbiBmYWN0IGBhbnlgLlxuICovXG5leHBvcnQgdHlwZSBJc0FueTxUPiA9IEZ1bmN0aW9uQ29tcGFyaXNvbkVxdWFsczxULCBhbnk+O1xuXG4vKipcbiAqIFV0aWxpdHkgdHlwZSB0byBhbGxvdyBgYXMgY29uc3RgIHRvIGJlIHVzZWQgb24gdHVwbGVzIHJldHVybmVkIGZyb20gZnVuY3Rpb25zIHdpdGhvdXQgYWN0dWFsbHkgbWFraW5nIHRoZW0gYHJlYWRvbmx5YCAod2hpY2ggaXMgYW5ub3lpbmcpLlxuICogTm9ybWFsbHkgVHlwZVNjcmlwdCBjb25zaWRlcnMgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGxpa2UgYHg9PlsxMCxcImZvdXJcIl1gIHRvIGJlIGAoc3RyaW5nfG51bWJlcilbXWAgKHdoaWNoIGlzIGFsc28gYW5ub3lpbmcpLlxuICovXG5leHBvcnQgdHlwZSBDb25zdFRvVHVwbGVzPFQ+ID0gVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdXG4gID8geyAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IENvbnN0VG9UdXBsZXM8VFtQXT4gfVxuICA6IFZvaWRlZmluZWQ8VD47XG5cbi8qKlxuICogR29lcyB3aXRoIHtAbGluayBOdWxsc30gdG8gc2ltcGxpZnkgdGhlIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCB0eXBlIEFyZ051bGxzPFQsIEFyZz4gPSAoVCB8IE51bGxpc2gpICYgQXJnO1xuXG4vKipcbiAqICBUeXBlU2NyaXB0IG1heSBiZSB2ZXJ5IGxpdGVyYWwgd2hlbiBpdCBpbmZlcnMgdHlwZXMuIFRoZSB0eXBlIGZvIGEgZnVuY3Rpb24gcGFyYW1ldGVyIHdpdGggdGhlIHZhbHVlIGAxMGAgbWF5IGJlIGluZmVycmVkIGFzIGAxMGAgYW5kIG5vdCBgbnVtYmVyYC5cbiAqICBUaGlzIGlzIGFuIGlzc3VlIGluIGUuZy4ge0BsaW5rIHJlZHVjZX0uXG4gKi9cbmV4cG9ydCB0eXBlIEdlbmVyYWxpemVDb250c3RhbnRzPFQ+ID0gVCBleHRlbmRzIG51bWJlclxuICA/IG51bWJlclxuICA6IFQgZXh0ZW5kcyBzdHJpbmdcbiAgPyBzdHJpbmdcbiAgOiBUIGV4dGVuZHMgYm9vbGVhblxuICA/IGJvb2xlYW5cbiAgOiB1bmtub3duIGV4dGVuZHMgVFxuICA/IHVua25vd25cbiAgOiB7XG4gICAgICBbUCBpbiBrZXlvZiBUXTogR2VuZXJhbGl6ZUNvbnRzdGFudHM8VFtQXT47XG4gICAgfTtcblxuLyoqXG4gKiBUaGUgZWNsZWN0aWMgdHlwZSBmb3VuZCBldmVyeXdoZXJlIG9uIHRoZSBJbnRlcm5ldC5cbiAqIEl0IGNvbnZlcnMgYSB1bmlvbiBsaWtlIGB7YToxfXx7YjoyfWAgdG8gdGhlIGludGVyc2VjdGlvbiBge2E6MSwgYjoyfWBcbiAqL1xuZXhwb3J0IHR5cGUgVW5pb25Ub0ludGVyc2VjdGlvbjxVPiA9IChcbiAgVSBleHRlbmRzIGFueSA/IChrOiBVKSA9PiB2b2lkIDogbmV2ZXJcbikgZXh0ZW5kcyAoazogaW5mZXIgSSkgPT4gdm9pZFxuICA/IElcbiAgOiBuZXZlcjtcblxuLyoqXG4gKiBNYWtlcyBhIHVuaW9uIG9mIG9iamVjdHMgbGlrZSBge2E6MX0me2I6Mn1gIGFwcGVhciBhcyBge2E6MSxiOjJ9YCBpbiBpbnRlbGxpc2Vuc2UuXG4gKi9cbmV4cG9ydCB0eXBlIFByZXR0aWZ5SW50ZXJzZWN0aW9uPFQ+ID0gVCBleHRlbmRzIHsgW1AgaW4gaW5mZXIgS106IGFueSB9XG4gID8geyBbUCBpbiBLXTogVFtQXSB9XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogTWFrZXMgYW4gYXJyYXkgb2Yga2V5L3ZhbHVlIHBhaXJzIHRvIGFuIG9iamVjdCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCB0eXBlIEtleVZhbHVlUGFpcnNUb09iamVjdDxUPiA9IFVuaW9uVG9JbnRlcnNlY3Rpb248XG4gIFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgSyAmIGtleW9mIGFueSwgaW5mZXIgVl1cbiAgICA/IHsgW1AgaW4gSyAmIGtleW9mIGFueV06IFYgfVxuICAgIDogKCh2YWx1ZTogVCkgPT4gbmV2ZXIpIGV4dGVuZHMgKFxuICAgICAgICB2YWx1ZTogW2luZmVyIEsgJiBrZXlvZiBhbnksIGluZmVyIFZdXG4gICAgICApID0+IG5ldmVyXG4gICAgPyB7IFtQIGluIEsgJiBrZXlvZiBhbnldOiBDb25zdFRvVHVwbGVzPFY+IH1cbiAgICA6IHVua25vd25cbj47XG5cbi8qKlxuICogQW55dGhpbmcgYnV0IGEgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIE5vdEZ1bmN0aW9uID1cbiAgfCBiaWdpbnRcbiAgfCBib29sZWFuXG4gIHwgbnVsbFxuICB8IG51bWJlclxuICB8IHN0cmluZ1xuICB8IHN5bWJvbFxuICB8IHVuZGVmaW5lZFxuICB8IHtcbiAgICAgIFtrZXk6IHN0cmluZyB8IG51bWJlciB8IHN5bWJvbF06IGFueTtcbiAgICAgIFtTeW1ib2wuaGFzSW5zdGFuY2VdPzogbmV2ZXI7XG4gICAgfTtcblxuLyoqXG4gKiBUcmljayBmb3IgaGF2aW5nIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgbm9uLW51bGwgdmFsdWUsIGlmIGEgZm9ybWFsIHBhcmFtdGVyIGFsd2F5cyBoYXMgYSBub24tbnVsbCB2YWx1ZSxcbiAqIHNpbWxpYXIgdG8gLk5FVCdzIFtOb3ROdWxsSWZOb3ROdWxsXS5cbiAqXG4gKiBJZiB0aGUgYWN0dWFsIHBhcmFtZXRlciBjYW4gaGF2ZSBhIG51bGwgb3IgdW5kZWZpbmVkIHZhbHVlIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBpbmNsdWRlIHRoZXNlIG9wdGlvbnMuXG4gKlxuICogYGZ1bmN0aW9uIGV4YW1wbGU8VCxBPihhcmc6IChUfG51bGx8dW5kZWZpbmVkKSZBKTogc3RyaW5nIHwgTnVsbDxBPiB7Li4ufWBcbiAqIGBleGFtcGxlKDgwKWAgcmV0dXJucyBgc3RyaW5nYFxuICogIGBjb25zdCB4OiBudW1iZXJ8bnVsbDsgZXhhbXBsZSh4KWAgcmV0dXJucyBgc3RyaW5nfG51bGxgLlxuICpcbiAqIFRoZXJlIGNhbiBhbHNvIGJlIGEgXCJudWxsXCIgZGVmYXVsdCAoc28gYWxsIE51bGwnaXNoIHZhbHVlcyBtYXBzIHRvIG9uZSB2YWx1ZSkuIElmIHRoZSBmdW5jdGlvbiBhYm92ZSByZXR1cm5lZCBgc3RyaW5nIHwgTnVsbDxULHVuZGVmaW5lZD5gLCB0aGVuXG4gKiBgZXhhbXBsZSh4KWAgcmV0dXJucyBgc3RyaW5nfHVuZGVmaW5lZGAuXG4gKi9cbmV4cG9ydCB0eXBlIE51bGxzPFQsIE51bGxMZXZlbHMgPSBudWxsIHwgdW5kZWZpbmVkPiA9IFQgZXh0ZW5kc1xuICB8IG51bGxcbiAgfCB1bmRlZmluZWRcbiAgfCB2b2lkXG4gID8gVCBleHRlbmRzIE51bGxMZXZlbHMgfCB2b2lkXG4gICAgPyBUICYgTnVsbExldmVsc1xuICAgIDogTnVsbExldmVsc1xuICA6IG5ldmVyO1xuXG4vKipcbiAqIFR5cGVzY3JpcHQgaGFzIHRoZSBkaXN0aW5jdGlvbiBiZXR3ZWVuIGB2b2lkYCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBJJ20gc3VyZSB0aGVyZSBpcyBhIHRoZW9yaWNhbGx5IHNvdW5kIGV4cGxhbmF0aW9uLiBCb3RoIHRoYXQgYW5kIHRoZSBkaXN0aW5jdGlvbiBhcmUgYW5ub3lpbmcgc28gdGhpcyBsaXR0bGUgdXRpbGl0eSB0eXBlIG1hcHMgYHZvaWRgIHRvIGB1bmRlZmluZWRgLlxuICpcbiAqIFRoZSBhbXBlcnNhbmQgdW5pb24gdHJpY2sgbWFrZXMgVHlwZVNjcmlwdCByZWxheCBpbnN0ZWFkIG9mIHRoZSBcIlRoZSB0eXBlIFQgY291bGQgYmUgaW5zdGFudGlhdGVkIGV0Yy4uLlwiIGVycm9yLlxuICovXG5leHBvcnQgdHlwZSBWb2lkZWZpbmVkPFQ+ID0gVCBleHRlbmRzIHZvaWQgPyBUICYgdW5kZWZpbmVkIDogVDtcblxuLyoqXG4gKiBBbiBleHRlbnNpb24gdG8gVFtdIGFuZCBJdGVyYWJsZTxUPiB0aGF0IGFsc28gY29ycmVjdGx5IGNhcHR1cmVzIHdlaXJkIHRoaW5ncyBsaWtlIE5vZGVMaXN0T2Y8VD5cbiAqL1xuZXhwb3J0IHR5cGUgSXRlcmFibGVPckFycmF5TGlrZTxUPiA9XG4gIHwgSXRlcmFibGU8VD5cbiAgfCB7IFtpdGVtOiBudW1iZXJdOiBUOyBsZW5ndGg6IG51bWJlciB9O1xuXG5leHBvcnQgY29uc3QgTlVMTCA9IDA7XG5leHBvcnQgY29uc3QgVU5ERUZJTkVEID0gMTtcbmV4cG9ydCBjb25zdCBCT09MRUFOID0gMjtcbmV4cG9ydCBjb25zdCBOVU1CRVIgPSAzO1xuZXhwb3J0IGNvbnN0IEJJR0lOVCA9IDQ7XG5leHBvcnQgY29uc3QgU1RSSU5HID0gNTtcbmV4cG9ydCBjb25zdCBBUlJBWSA9IDY7XG5leHBvcnQgY29uc3QgT0JKRUNUID0gNztcbmV4cG9ydCBjb25zdCBEQVRFID0gODtcbmV4cG9ydCBjb25zdCBTWU1CT0wgPSA5O1xuZXhwb3J0IGNvbnN0IEZVTkNUSU9OID0gMTA7XG5leHBvcnQgY29uc3QgSVRFUkFCTEUgPSAxMTtcbmV4cG9ydCBjb25zdCBNQVAgPSAxMjtcbmV4cG9ydCBjb25zdCBTRVQgPSAxMztcbmV4cG9ydCBjb25zdCBQUk9NSVNFID0gMTQ7XG5cbmNvbnN0IFQxID0ge1xuICBbXCJuXCJdOiBOVU1CRVIsXG4gIFtcImZcIl06IEZVTkNUSU9OLFxufTtcbmNvbnN0IFQyID0ge1xuICBbXCJvXCJdOiBCT09MRUFOLFxuICBbXCJpXCJdOiBCSUdJTlQsXG4gIFtcInRcIl06IFNUUklORyxcbiAgW1wieVwiXTogU1lNQk9MLFxufTtcblxuZXhwb3J0IHR5cGUgVHlwZVRlc3RlcjxUPiA9ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBUO1xuZXhwb3J0IHR5cGUgVHlwZUNvbnZlcnRlcjxUPiA9ICh2YWx1ZTogYW55LCBwYXJzZT86IGJvb2xlYW4pID0+IFQgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCB1bmRlZmluZWQgPSB2b2lkIDA7XG5leHBvcnQgY29uc3QgbmlsID0gbnVsbDtcblxuY29uc3QgY3JlYXRlQ29udmVydGVyID1cbiAgPFQ+KHR5cGVUZXN0ZXI6IFR5cGVUZXN0ZXI8VD4sIHBhcnNlcj86ICh2YWx1ZTogYW55KSA9PiBUIHwgdW5kZWZpbmVkKSA9PlxuICAodmFsdWU6IGFueSwgcGFyc2UgPSB0cnVlKSA9PlxuICAgIHR5cGVUZXN0ZXIodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IHBhcnNlciAmJiBwYXJzZSAmJiBpc0RlZmluZWQoKHZhbHVlID0gcGFyc2VyKHZhbHVlKSkpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IHRyeUNhdGNoID0gPFQsIEMgPSB1bmRlZmluZWQ+KFxuICBleHByZXNzaW9uOiAoKSA9PiBULFxuICBlcnJvckhhbmRsZXI6IGJvb2xlYW4gfCAoKGVycm9yOiBhbnkpID0+IEMpID0gdHJ1ZSBhcyBhbnksXG4gIGNsZWFuPzogKCkgPT4gdm9pZFxuKTogVCB8IEMgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBleHByZXNzaW9uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIWlzQm9vbGVhbihlcnJvckhhbmRsZXIpKSB7XG4gICAgICByZXR1cm4gZXJyb3JIYW5kbGVyPy4oZSkgYXMgYW55O1xuICAgIH1cbiAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICB9IGZpbmFsbHkge1xuICAgIGNsZWFuPy4oKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHRyeUNhdGNoQXN5bmMgPSBhc3luYyA8VCwgQyA9IHVuZGVmaW5lZD4oXG4gIGV4cHJlc3Npb246ICgpID0+IFByb21pc2VMaWtlPFQ+IHwgVCxcbiAgZXJyb3JIYW5kbGVyOiBib29sZWFuIHwgKChlcnJvcjogYW55KSA9PiBQcm9taXNlPEM+IHwgQykgPSB0cnVlIGFzIGFueSxcbiAgY2xlYW4/OiAoKSA9PiB2b2lkXG4pOiBQcm9taXNlPFQgfCBDPiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGV4cHJlc3Npb24oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghaXNCb29sZWFuKGVycm9ySGFuZGxlcikpIHtcbiAgICAgIHJldHVybiAoYXdhaXQgZXJyb3JIYW5kbGVyKGUpKSBhcyBhbnk7XG4gICAgfVxuICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gIH0gZmluYWxseSB7XG4gICAgY2xlYW4/LigpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXMgPSA8VCwgRCA9IHVuZGVmaW5lZCwgQXJncyBleHRlbmRzIGFueVtdID0gW10+KFxuICB2YWx1ZTogYW55LFxuICBjb252ZXJ0ZXI6ICh2YWx1ZTogYW55LCAuLi5yZXN0OiBBcmdzKSA9PiBUIHwgdW5kZWZpbmVkLFxuICBkZWZhdWx0VmFsdWU/OiBELFxuICAuLi5hcmdzOiBBcmdzXG4pOiBUIHwgRCA9PiAoKHZhbHVlID0gY29udmVydGVyKHZhbHVlLCAuLi5hcmdzKSkgPz8gZGVmYXVsdFZhbHVlKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBjYXN0ID0gPFQsIFYsIEFyZ3MgZXh0ZW5kcyBhbnlbXSA9IFtdPihcbiAgdmFsdWU6IFYsXG4gIHR5cGVUZXN0OiAodmFsdWU6IGFueSwgLi4uYXJnczogQXJncykgPT4gdmFsdWUgaXMgVCxcbiAgLi4uYXJnczogQXJnc1xuKTogViBleHRlbmRzIFQgPyBWIDogdW5kZWZpbmVkID0+XG4gIHR5cGVUZXN0KHZhbHVlLCAuLi5hcmdzKSA/ICh2YWx1ZSBhcyBhbnkpIDogdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgaXNOdWxsID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBudWxsID0+IHZhbHVlID09PSBuaWw7XG5cbmV4cG9ydCBjb25zdCBpc1VuZGVmaW5lZCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgdW5kZWZpbmVkIHwgdm9pZCA9PlxuICB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgaXNEZWZpbmVkID0gPFQ+KHZhbHVlOiBUKTogdmFsdWUgaXMgRXhjbHVkZTxULCB1bmRlZmluZWQgfCB2b2lkPiA9PlxuICB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgaXNOdWxsaXNoID0gPFQ+KFxuICB2YWx1ZTogVFxuKTogdmFsdWUgaXMgRXhjbHVkZTxULCB1bmRlZmluZWQgfCB2b2lkIHwgbnVsbD4gPT4gdmFsdWUgPT0gbmlsO1xuXG5leHBvcnQgY29uc3QgaGFzVmFsdWUgPSA8VD4oXG4gIHZhbHVlOiBUXG4pOiB2YWx1ZSBpcyBFeGNsdWRlPFQsIHVuZGVmaW5lZCB8IHZvaWQgfCBudWxsPiA9PiB2YWx1ZSAhPSBuaWw7XG5cbmV4cG9ydCBjb25zdCBpc0Jvb2xlYW4gPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIGJvb2xlYW4gPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlQm9vbGVhbiA9IGNyZWF0ZUNvbnZlcnRlcihpc0Jvb2xlYW4sICh2YWx1ZSkgPT4gISF2YWx1ZSk7XG5leHBvcnQgY29uc3QgaXNUcnVpc2ggPSAodmFsdWU6IGFueSkgPT4gISF2YWx1ZTtcbmV4cG9ydCBjb25zdCBpc0ZhbHNpc2ggPSAodmFsdWU6IGFueSkgPT4gIXZhbHVlO1xuXG5leHBvcnQgY29uc3QgaXNOdW1iZXIgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIG51bWJlciA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCI7XG5leHBvcnQgY29uc3QgcGFyc2VOdW1iZXIgPSBjcmVhdGVDb252ZXJ0ZXIoaXNOdW1iZXIsICh2YWx1ZSkgPT5cbiAgcGFyc2VGbG9hdCh2YWx1ZSlcbik7XG5cbmV4cG9ydCBjb25zdCBpc0JpZ0ludCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgYmlnaW50ID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIjtcbmV4cG9ydCBjb25zdCBwYXJzZUJpZ0ludCA9IGNyZWF0ZUNvbnZlcnRlcihpc0JpZ0ludCwgKHZhbHVlKSA9PlxuICB0cnlDYXRjaCgoKSA9PiBCaWdJbnQodmFsdWUpKVxuKTtcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBzdHJpbmcgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xuXG5leHBvcnQgY29uc3QgdG9TdHJpbmcgPSBjcmVhdGVDb252ZXJ0ZXIoaXNTdHJpbmcsICh2YWx1ZSkgPT5cbiAgaGFzVmFsdWUodmFsdWUpID8gXCJcIiArIHZhbHVlIDogdmFsdWVcbik7XG5cbmNvbnN0IGNhcHR1cmVkSXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgY29uc3QgaXNBcnJheSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgYW55W10gPT4gY2FwdHVyZWRJc0FycmF5KHZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IHRvQXJyYXkgPSA8VD4odmFsdWU6IFQgfCBJdGVyYWJsZTxUPiwgY2xvbmUgPSBmYWxzZSk6IFRbXSA9PlxuICB2YWx1ZSA9PSBudWxsXG4gICAgPyBbXVxuICAgIDogIWNsb25lICYmIGlzQXJyYXkodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogaXNJdGVyYWJsZSh2YWx1ZSwgdHJ1ZSlcbiAgICA/IFsuLi52YWx1ZV1cbiAgICA6IChbdmFsdWVdIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IChcbiAgdmFsdWU6IGFueSxcbiAgYWNjZXB0SXRlcmFibGVzID0gZmFsc2Vcbik6IHZhbHVlIGlzIHsgW1AgaW4ga2V5b2YgYW55XTogYW55IH0gPT5cbiAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIChhY2NlcHRJdGVyYWJsZXMgfHwgIWlzSXRlcmFibGUodmFsdWUpKTtcblxuZXhwb3J0IGNvbnN0IGhhc01ldGhvZCA9IDxULCBOYW1lIGV4dGVuZHMga2V5b2YgYW55PihcbiAgdmFsdWU6IFQsXG4gIG5hbWU6IE5hbWUgfCBrZXlvZiBUXG4pOiB2YWx1ZSBpcyBUICZcbiAgUmVjb3JkPFxuICAgIE5hbWUsXG4gICAgVCBleHRlbmRzIHsgW1AgaW4gTmFtZV0/OiAoLi4uYXJnczogaW5mZXIgQXJncykgPT4gaW5mZXIgUiB9XG4gICAgICA/ICguLi5hcmdzOiBBcmdzKSA9PiBSXG4gICAgICA6ICguLi5hcmdzOiBhbnkpID0+IGFueVxuICA+ID0+IHR5cGVvZiAodmFsdWUgYXMgYW55KT8uW25hbWVdID09PSBcImZ1bmN0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBpc0RhdGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIERhdGUgPT4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlO1xuZXhwb3J0IGNvbnN0IHBhcnNlRGF0ZSA9IGNyZWF0ZUNvbnZlcnRlcihpc0RhdGUsICh2YWx1ZSkgPT5cbiAgaXNOYU4oKHZhbHVlID0gRGF0ZS5wYXJzZSh2YWx1ZSkpKSA/IHVuZGVmaW5lZCA6IHZhbHVlXG4pO1xuXG5leHBvcnQgY29uc3QgaXNTeW1ib2wgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIHN5bWJvbCA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwic3ltYm9sXCI7XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyAoLi4uYXJnczogYW55KSA9PiBhbnkgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKFxuICB2YWx1ZTogYW55LFxuICBhY2NlcHRTdHJpbmdzID0gZmFsc2Vcbik6IHZhbHVlIGlzIEl0ZXJhYmxlPGFueT4gPT5cbiAgISF2YWx1ZT8uW1N5bWJvbC5pdGVyYXRvcl0gJiYgKGFjY2VwdFN0cmluZ3MgfHwgIWlzU3RyaW5nKHZhbHVlKSk7XG5cbmV4cG9ydCBjb25zdCB0b0l0ZXJhYmxlID0gPFQ+KHZhbHVlOiBUIHwgSXRlcmFibGU8VD4pOiBJdGVyYWJsZTxUPiA9PlxuICBpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcblxuZXhwb3J0IGNvbnN0IGlzTWFwID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBNYXA8YW55LCBhbnk+ID0+XG4gIHZhbHVlIGluc3RhbmNlb2YgTWFwO1xuXG5leHBvcnQgY29uc3QgaXNTZXQgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFNldDxhbnk+ID0+IHZhbHVlIGluc3RhbmNlb2YgU2V0O1xuXG5leHBvcnQgY29uc3QgaXNBd2FpdGFibGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2U8YW55PiA9PiAhIXZhbHVlPy50aGVuO1xuXG5leHBvcnQgY29uc3QgdHlwZUNvZGUgPSAodmFsdWU6IGFueSwgdHlwZU5hbWUgPSB0eXBlb2YgdmFsdWUpID0+XG4gIHZhbHVlID09IG5pbFxuICAgID8gdmFsdWUgPT09IG5pbFxuICAgICAgPyBOVUxMXG4gICAgICA6IFVOREVGSU5FRFxuICAgIDogVDFbdHlwZU5hbWVbMF1dID8/XG4gICAgICBUMlt0eXBlTmFtZVsxXV0gPz9cbiAgICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSA/IEFSUkFZIDogdmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gREFURSA6IE9CSkVDVCk7XG5cbmV4cG9ydCBjb25zdCBpZGVudGl0eSA9IDxUID0gYW55Pih2YWx1ZTogVCkgPT4gdmFsdWU7XG5cbmV4cG9ydCBjb25zdCBjbG9uZSA9IDxUPih2YWx1ZTogVCwgZGVlcCA9IHRydWUpOiBUID0+XG4gIGlzQXJyYXkodmFsdWUpXG4gICAgPyBkZWVwXG4gICAgICA/IChtYXAgYXMgYW55KSh2YWx1ZSwgKHZhbHVlOiBhbnkpID0+IGNsb25lKHZhbHVlLCB0cnVlKSlcbiAgICAgIDogWy4uLnZhbHVlXVxuICAgIDogaXNPYmplY3QodmFsdWUpXG4gICAgPyBkZWVwXG4gICAgICA/IHRvT2JqZWN0KG1hcCh2YWx1ZSBhcyBhbnksIChbaywgdl0pID0+IFtrLCBjbG9uZSh2LCB0cnVlKV0pKVxuICAgICAgOiB7IC4uLnZhbHVlIH1cbiAgICA6IGlzU2V0KHZhbHVlKVxuICAgID8gbmV3IFNldDxhbnk+KFxuICAgICAgICAobWFwIGFzIGFueSkodmFsdWUsICh2YWx1ZTogYW55KSA9PiAoZGVlcCA/IGNsb25lKHZhbHVlLCB0cnVlKSA6IHZhbHVlKSlcbiAgICAgIClcbiAgICA6IGlzTWFwKHZhbHVlKVxuICAgID8gbmV3IE1hcDxhbnksIGFueT4oXG4gICAgICAgIChtYXAgYXMgYW55KSh2YWx1ZSwgKHZhbHVlOiBhbnkpID0+XG4gICAgICAgICAgLy8gRG9lcyBub3QgY2xvbmUga2V5cy5cbiAgICAgICAgICBkZWVwID8gW3ZhbHVlWzBdLCBjbG9uZSh2YWx1ZVsxXSwgdHJ1ZSldIDogdmFsdWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIDogKHZhbHVlIGFzIGFueSk7XG5cbnR5cGUgQ2FwdHVyZUNhbGxiYWNrPEFyZ3MgZXh0ZW5kcyBhbnlbXSwgUj4gPSAoXG4gIC4uLmFyZ3M6IFsuLi5hcmdzOiBBcmdzLCBzZWxmOiBDYXB0dXJlQ2FsbGJhY2s8QXJncywgUj5dXG4pID0+IFI7XG5cbi8qKlxuICogRXZhbHVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBjYXB0dXJlIHZhbHVlcyB1c2luZyBwYXJhbWV0ZXIgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogRm9yIGV4YW1wbGUgYChwcmV2aW91cz1jdXJyZW50KT0+KGN1cnJlbnQrPTIsIHByZXZpb3VzKVxuICovXG5leHBvcnQgY29uc3QgY2FwdHVyZSA9IDxSPihjYXB0dXJlOiAoLi4uYXJnczogYW55W10pID0+IFIpID0+IGNhcHR1cmUoKTtcbiIsImltcG9ydCB7XG4gIENvbnN0VG9UdXBsZXMsXG4gIEdlbmVyYWxpemVDb250c3RhbnRzLFxuICBJc0FueSxcbiAgS2V5VmFsdWVQYWlyc1RvT2JqZWN0LFxuICBoYXNNZXRob2QsXG4gIGhhc1ZhbHVlLFxuICBpc0FycmF5LFxuICBpc0RlZmluZWQsXG4gIGlzRmFsc2lzaCxcbiAgaXNGdW5jdGlvbixcbiAgaXNJdGVyYWJsZSxcbiAgaXNPYmplY3QsXG4gIGlzVHJ1aXNoLFxuICB0b0FycmF5LFxufSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY29uc3QgVVRGMTZNQVggPSAweGZmZmY7XG5cbmV4cG9ydCBjb25zdCB0b0NoYXJDb2RlcyA9IChzOiBzdHJpbmcpID0+XG4gIFsuLi5uZXcgQXJyYXkocy5sZW5ndGgpXS5tYXAoKF8sIGkpID0+IHMuY2hhckNvZGVBdChpKSk7XG5leHBvcnQgY29uc3QgY29kZVBvaW50ID0gKHN0cmluZzogc3RyaW5nLCBpbmRleDogbnVtYmVyID0gMCkgPT5cbiAgc3RyaW5nLmNvZGVQb2ludEF0KGluZGV4KSE7XG5cbmV4cG9ydCB0eXBlIEl0ZXJhdG9yU291cmNlID1cbiAgfCBhbnlcbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgbnVtYmVyXG4gIHwgSXRlcmFibGU8YW55PlxuICB8IHsgW1AgaW4ga2V5b2YgYW55XTogYW55IH1cbiAgfCBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwO1xuXG5leHBvcnQgdHlwZSBJdGVyYXRvclNvdXJjZU9mPFQ+ID1cbiAgfCAoVCBleHRlbmRzIG51bWJlciA/IG51bWJlciA6IG5ldmVyKVxuICB8IEl0ZXJhYmxlPFQ+XG4gIHwgKFQgZXh0ZW5kcyBbaW5mZXIgSywgaW5mZXIgVl1cbiAgICAgID8gSyBleHRlbmRzIGtleW9mIGFueVxuICAgICAgICA/IHsgW1AgaW4gS106IFYgfVxuICAgICAgICA6IG5ldmVyXG4gICAgICA6IG5ldmVyKVxuICB8IE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8VD47XG5cbnR5cGUgSXRlcmF0b3JJdGVtPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4gPSBJc0FueTxTPiBleHRlbmRzIHRydWVcbiAgPyBhbnlcbiAgOiBTIGV4dGVuZHMgbnVtYmVyXG4gID8gbnVtYmVyXG4gIDogUyBleHRlbmRzIFJlY29yZDxhbnksIGFueT4gJiB7IFtTeW1ib2wuaXRlcmF0b3JdPzogbmV2ZXIgfVxuICA/IFMgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBUIHwgdW5kZWZpbmVkXG4gICAgPyBUXG4gICAgOiBba2V5b2YgUywgU1trZXlvZiBTXV1cbiAgOiBTIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD5cbiAgPyBUIGV4dGVuZHMgc3RyaW5nXG4gICAgPyBzdHJpbmdcbiAgICA6IFRcbiAgOiBuZXZlcjtcblxuZXhwb3J0IGludGVyZmFjZSBJdGVyYXRvckNvbnRyb2w8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPiB7XG4gIHNvdXJjZTogUztcbiAgcHJldjogSXRlcmF0b3JJdGVtPFM+IHwgdW5kZWZpbmVkO1xuICBza2lwKCk6IHZvaWQ7XG4gIGVuZCgpOiB2b2lkO1xuICBlbmQ8UD4odmFsdWU6IFApOiBQO1xufVxuXG5leHBvcnQgdHlwZSBJdGVyYXRvckFjdGlvbjxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlID0gSXRlcmF0b3JTb3VyY2UsXG4gIFByb2plY3Rpb24gPSBJdGVyYXRvckl0ZW08Uz5cbj4gPSAoXG4gIHZhbHVlOiBJdGVyYXRvckl0ZW08Uz4sXG4gIGluZGV4OiBudW1iZXIsXG4gIGNvbnRyb2w6IEl0ZXJhdG9yQ29udHJvbDxTPlxuKSA9PiBQcm9qZWN0aW9uIHwgdW5kZWZpbmVkIHwgdm9pZDtcblxudHlwZSBBbnlUdXBsZSA9IFthbnksIC4uLmFueVtdXTtcblxudHlwZSBJdGVyYXRvclByb2plY3Rpb248XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUHJvamVjdGlvbixcbiAgVHVwbGVQcm9qZWN0aW9uIGV4dGVuZHMgQW55VHVwbGVcbj4gPSB1bmtub3duIGV4dGVuZHMgUHJvamVjdGlvblxuICA/IEl0ZXJhdG9ySXRlbTxTPlxuICA6IFR1cGxlUHJvamVjdGlvbiBleHRlbmRzIFByb2plY3Rpb25cbiAgPyBDb25zdFRvVHVwbGVzPFR1cGxlUHJvamVjdGlvbj5cbiAgOiBDb25zdFRvVHVwbGVzPFByb2plY3Rpb24+O1xuXG50eXBlIFN0YXJ0RW5kQXJnczxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID0gUyBleHRlbmRzIG51bWJlclxuICA/IFtvZmZzZXQ/OiBudW1iZXJdXG4gIDogUyBleHRlbmRzIE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8aW5mZXIgVD5cbiAgPyBbb2Zmc2V0PzogVCwgbWF4SXRlcmF0aW9ucz86IG51bWJlcl1cbiAgOiBbc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8VCA9IGFueT4gPSAoXG4gIGN1cnJlbnQ6IFQgfCB1bmRlZmluZWRcbikgPT4gVCB8IHVuZGVmaW5lZDtcblxuZnVuY3Rpb24qIGNyZWF0ZVJhbmdlSXRlcmF0b3IobGVuZ3RoID0gMCwgb2Zmc2V0ID0gMCk6IEl0ZXJhYmxlPG51bWJlcj4ge1xuICB3aGlsZSAobGVuZ3RoLS0pIHlpZWxkIG9mZnNldCsrO1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIGNyZWF0ZVN0cmluZ0l0ZXJhdG9yKFxuICBpbnB1dDogc3RyaW5nLFxuICBzdGFydDogbnVtYmVyLFxuICBlbmQ6IG51bWJlclxuKTogSXRlcmFibGU8W2NoYXI6IHN0cmluZywgY29kZVBvaW50OiBudW1iZXJdPiB7XG4gIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgIGNvbnN0IGNvZGVQb2ludCA9IGlucHV0LmNvZGVQb2ludEF0KHN0YXJ0KSE7XG4gICAgbGV0IHAgPSBpbnB1dFtzdGFydCsrXTtcbiAgICBpZiAoY29kZVBvaW50ID4gVVRGMTZNQVgpIHtcbiAgICAgIHN0YXJ0Kys7XG4gICAgICBwID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICB9XG4gICAgeWllbGQgW3AsIGNvZGVQb2ludF07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uKiBjcmVhdGVOYXZpZ2F0aW5nSXRlcmF0b3I8VD4oXG4gIHN0ZXA6IE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8VD4sXG4gIHN0YXJ0PzogVCB8IHVuZGVmaW5lZCxcbiAgbWF4SXRlcmF0aW9ucyA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4pOiBJdGVyYXRvcjxUPiB7XG4gIGlmIChpc0RlZmluZWQoc3RhcnQpKSB5aWVsZCBzdGFydDtcbiAgd2hpbGUgKG1heEl0ZXJhdGlvbnMtLSAmJiBpc0RlZmluZWQoKHN0YXJ0ID0gc3RlcChzdGFydCkpKSkge1xuICAgIHlpZWxkIHN0YXJ0O1xuICB9XG59XG5cbmNvbnN0IHNsaWNlSXRlcmF0b3IgPSA8VD4oXG4gIHNvdXJjZTogSXRlcmFibGU8VD4sXG4gIHN0YXJ0ID0gMCxcbiAgZW5kPzogbnVtYmVyXG4pOiBJdGVyYWJsZTxUPiA9PiB7XG4gIGlmICghc3RhcnQgJiYgIWlzRGVmaW5lZChlbmQpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIGlmIChzb3VyY2VbXCJzbGljZVwiXSkge1xuICAgIHJldHVybiBzb3VyY2VbXCJzbGljZVwiXShzdGFydCwgZW5kKTtcbiAgfSBlbHNlIGlmIChzdGFydCA8IDAgfHwgKGVuZCBhcyBhbnkpIDwgMCkge1xuICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKFsuLi5zb3VyY2VdLCBzdGFydCwgZW5kKTtcbiAgfVxuXG4gIHJldHVybiAoZnVuY3Rpb24qICgpIHtcbiAgICBlbmQgPz89IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSkge1xuICAgICAgaWYgKHN0YXJ0LS0pIGNvbnRpbnVlO1xuICAgICAgaWYgKCFlbmQtLSkgYnJlYWs7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfSkoKTtcbn07XG5cbmV4cG9ydCB0eXBlIEZpbHRlcjxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID0gKFxuICB2YWx1ZTogSXRlcmF0b3JJdGVtPFM+LFxuICBpbmRleDogbnVtYmVyXG4pID0+IGFueTtcblxuY29uc3QgZmlsdGVySXRlcmF0b3IgPSA8VD4oXG4gIHNvdXJjZTogSXRlcmFibGU8VD4sXG4gIGZpbHRlcjogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIpID0+IGFueVxuKTogSXRlcmFibGU8VD4gPT4ge1xuICBpZiAoaXNBcnJheShzb3VyY2UpKSByZXR1cm4gc291cmNlLmZpbHRlcihmaWx0ZXIpO1xuICByZXR1cm4gKGZ1bmN0aW9uKiAoKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICAgIGlmIChmaWx0ZXIoaXRlbSwgaSsrKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcbn07XG5cbmNvbnN0IGVudW0gSXRlcmF0aW9uRmxhZyB7XG4gIFlpZWxkID0gMCxcbiAgU2tpcCA9IDEsXG4gIFlpZWxkVGhlbkVuZCA9IDIsXG4gIEVuZCA9IDMsXG59XG5cbmZ1bmN0aW9uKiBjcmVhdGVDb250cm9sbGFibGVJdGVyYXRvcjxcbiAgUyBleHRlbmRzIEl0ZXJhYmxlPGFueT4sXG4gIFAgPSBJdGVyYXRvckl0ZW08Uz5cbj4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBQPiA9IChpdGVtKSA9PiBpdGVtIGFzIGFueSxcbiAgY29sbGVjdD86IChyZXN1bHQ6IFApID0+IHZvaWRcbikge1xuICBsZXQgaSA9IDA7XG4gIGxldCBmbGFnID0gSXRlcmF0aW9uRmxhZy5ZaWVsZDtcbiAgbGV0IHJlc3VsdDogUCB8IHVuZGVmaW5lZDtcbiAgY29uc3QgY29udHJvbDogSXRlcmF0b3JDb250cm9sPFM+ID0ge1xuICAgIHByZXY6IHVuZGVmaW5lZCxcbiAgICBzb3VyY2UsXG4gICAgc2tpcDogKCkgPT4gKGZsYWcgPSBJdGVyYXRpb25GbGFnLlNraXApLFxuICAgIGVuZDogKHZhbHVlPzogYW55KSA9PiAoXG4gICAgICAoZmxhZyA9IGlzRGVmaW5lZCh2YWx1ZSlcbiAgICAgICAgPyBJdGVyYXRpb25GbGFnLllpZWxkVGhlbkVuZFxuICAgICAgICA6IEl0ZXJhdGlvbkZsYWcuRW5kKSxcbiAgICAgIHZhbHVlXG4gICAgKSxcbiAgfTtcblxuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgaWYgKChyZXN1bHQgPSBhY3Rpb24oaXRlbSwgaSsrLCBjb250cm9sKSEpICE9PSB1bmRlZmluZWQgJiYgIShmbGFnICUgMikpIHtcbiAgICAgIGlmICghY29sbGVjdCkge1xuICAgICAgICB5aWVsZCByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xsZWN0KHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBjb250cm9sLnByZXYgPSBpdGVtO1xuICAgIH1cbiAgICBpZiAoZmxhZyA+IDEpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBmbGFnID0gSXRlcmF0aW9uRmxhZy5ZaWVsZDtcbiAgfVxufVxuXG5jb25zdCBtYXBJdGVyYXRvciA9IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBzb3VyY2U6IFMsXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT4ge1xuICBpZiAoaXNJdGVyYWJsZShzb3VyY2UsIHRydWUpKSB7XG4gICAgcmV0dXJuIHN0YXJ0IHx8IGVuZFxuICAgICAgPyBzbGljZUl0ZXJhdG9yKG1hcEl0ZXJhdG9yKHNvdXJjZSksIHN0YXJ0LCBlbmQpXG4gICAgICA6IHNvdXJjZTtcbiAgfVxuICBpZiAoIWlzRGVmaW5lZChzb3VyY2UpKSByZXR1cm4gW107XG4gIGlmIChpc09iamVjdChzb3VyY2UpKSByZXR1cm4gbWFwSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMoc291cmNlKSwgc3RhcnQsIGVuZCk7XG4gIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHJldHVybiBjcmVhdGVOYXZpZ2F0aW5nSXRlcmF0b3Ioc291cmNlLCBzdGFydCwgZW5kKTtcbiAgcmV0dXJuIGNyZWF0ZVJhbmdlSXRlcmF0b3Ioc291cmNlIGFzIG51bWJlciwgc3RhcnQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByb2plY3Q6IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUlQgZXh0ZW5kcyBBbnlUdXBsZT4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSIHwgUlQ+IHwgbnVsbCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogSXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFJUPltdO1xufSA9IChzb3VyY2UsIHByb2plY3Rpb24sIC4uLnJlc3QpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUNvbnRyb2xsYWJsZUl0ZXJhdG9yKFxuICAgIG1hcEl0ZXJhdG9yKHNvdXJjZSwgLi4ucmVzdCksXG4gICAgcHJvamVjdGlvbiBhcyBhbnlcbiAgKSBhcyBhbnk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24qIGZsYXRQcm9qZWN0PFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUlQgZXh0ZW5kcyBBbnlUdXBsZT4oXG4gIHNvdXJjZTogUyxcbiAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFIgfCBSVD4gfCBudWxsLFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IEl0ZXJhYmxlPEZsYXRJdGVyYXRvckl0ZW08SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFJUPj4+IHtcbiAgZm9yIChjb25zdCBpdGVtIG9mIHByb2plY3QoXG4gICAgbWFwSXRlcmF0b3Ioc291cmNlLCAuLi4ocmVzdCBhcyBhbnkpKSxcbiAgICBwcm9qZWN0aW9uIGFzIGFueVxuICApKSB7XG4gICAgaWYgKGlzSXRlcmFibGUoaXRlbSkpIHtcbiAgICAgIHlpZWxkKiBpdGVtO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgIHlpZWxkKiBPYmplY3QuZW50cmllcyhpdGVtKSBhcyBhbnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHlpZWxkIGl0ZW07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBtYXA6IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUlQgZXh0ZW5kcyBBbnlUdXBsZT4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSIHwgUlQ+IHwgbnVsbCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogSXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFJUPltdO1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBSVCBleHRlbmRzIEFueVR1cGxlPihcbiAgICBzb3VyY2U6IFMsXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBSVD5bXTtcbn0gPSAoKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uOiBhbnksIC4uLnJlc3Q6IGFueVtdKSA9PiB7XG4gIGlmICghaXNGdW5jdGlvbihwcm9qZWN0aW9uKSAmJiBoYXNWYWx1ZShwcm9qZWN0aW9uKSkge1xuICAgIC8vIFRoZSBcInByb2plY3Rpb25cIiBwYXJhbWV0ZXIgaXMgdGhlIHN0YXJ0IGluZGV4LlxuICAgIHJlc3QudW5zaGlmdChwcm9qZWN0aW9uKTtcbiAgICBwcm9qZWN0aW9uID0gbnVsbDtcbiAgfVxuICBzb3VyY2UgPSBtYXBJdGVyYXRvcihzb3VyY2UsIC4uLnJlc3QpO1xuICByZXR1cm4gcHJvamVjdGlvblxuICAgID8gcHJvamVjdGlvbi5sZW5ndGggPCAzICYmIGhhc01ldGhvZChzb3VyY2UsIFwibWFwXCIpXG4gICAgICA/IHNvdXJjZVtcIm1hcFwiXShwcm9qZWN0aW9uKS5maWx0ZXIoaXNEZWZpbmVkKVxuICAgICAgOiBbLi4uY3JlYXRlQ29udHJvbGxhYmxlSXRlcmF0b3Ioc291cmNlIGFzIGFueSwgcHJvamVjdGlvbildXG4gICAgOiAodG9BcnJheShzb3VyY2UsIHRydWUpIGFzIGFueSk7XG59KSBhcyBhbnk7XG5cbnR5cGUgRmxhdEl0ZXJhdG9ySXRlbTxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID1cbiAgSXRlcmF0b3JJdGVtPFM+IGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD5cbiAgICA/IFRcbiAgICA6IEl0ZXJhdG9ySXRlbTxTPiBleHRlbmRzIFJlY29yZDxpbmZlciBLLCBpbmZlciBWPlxuICAgID8gW0ssIFZdXG4gICAgOiBJdGVyYXRvckl0ZW08Uz47XG5cbmV4cG9ydCBjb25zdCBmbGF0TWFwID0gPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2VPZjxhbnkgfCBJdGVyYWJsZTxhbnk+PixcbiAgUixcbiAgUlQgZXh0ZW5kcyBBbnlUdXBsZVxuPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPFMsIFI+ID0gKGl0ZW0pID0+IGl0ZW0gYXMgYW55LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IEZsYXRJdGVyYXRvckl0ZW08SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFJUPj5bXSA9PlxuICBtYXAoZmxhdFByb2plY3Qoc291cmNlLCBhY3Rpb24sIC4uLnJlc3QpKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBmb3JFYWNoID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUj4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBSPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pOiBSIHwgdW5kZWZpbmVkID0+IHtcbiAgbGV0IHJldHVyblZhbHVlOiBSIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBsZXQgaW5uZXJSZXR1cm5WYWx1ZTogYW55O1xuICBzb3VyY2UgPSBtYXBJdGVyYXRvcihzb3VyY2UsIC4uLnJlc3QpO1xuICBpZiAoYWN0aW9uLmxlbmd0aCA8IDMgJiYgaGFzTWV0aG9kKHNvdXJjZSwgXCJmb3JFYWNoXCIpKSB7XG4gICAgc291cmNlLmZvckVhY2goXG4gICAgICAoaXRlbTogYW55LCBpbmRleDogYW55KSA9PlxuICAgICAgICBpc0RlZmluZWQoKGlubmVyUmV0dXJuVmFsdWUgPSAoYWN0aW9uIGFzIGFueSkoaXRlbSwgaW5kZXgpKSkgJiZcbiAgICAgICAgKHJldHVyblZhbHVlID0gaW5uZXJSZXR1cm5WYWx1ZSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3QgXyBvZiBjcmVhdGVDb250cm9sbGFibGVJdGVyYXRvcihcbiAgICAgIHNvdXJjZSBhcyBhbnksXG4gICAgICBhY3Rpb24gYXMgYW55LFxuICAgICAgKHZhbHVlKSA9PiAocmV0dXJuVmFsdWUgPSB2YWx1ZSBhcyBhbnkpXG4gICAgKSk7XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGZsYXRGb3JFYWNoID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZU9mPGFueSB8IEl0ZXJhYmxlPGFueT4+LCBSPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPEZsYXRJdGVyYXRvckl0ZW08Uz4sIFI+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IFIgfCB1bmRlZmluZWQgPT5cbiAgZm9yRWFjaChcbiAgICBmbGF0UHJvamVjdChzb3VyY2UsIHVuZGVmaW5lZCwgLi4uKHJlc3QgYXMgYW55KSksXG4gICAgYWN0aW9uIGFzIGFueVxuICApIGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IHRvT2JqZWN0OiB7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2VPZjxba2V5b2YgYW55LCBhbnldPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHNlbGVjdG9yPzogbnVsbCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogS2V5VmFsdWVQYWlyc1RvT2JqZWN0PFM+O1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBQIGV4dGVuZHMgW2tleW9mIGFueSwgYW55XT4oXG4gICAgc291cmNlOiBTLFxuICAgIHNlbGVjdG9yOiBJdGVyYXRvckFjdGlvbjxTLCBQPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogS2V5VmFsdWVQYWlyc1RvT2JqZWN0PFBbXT47XG59ID0gKHNvdXJjZTogYW55LCBzZWxlY3RvcjogYW55LCAuLi5yZXN0OiBhbnlbXSkgPT5cbiAgT2JqZWN0LmZyb21FbnRyaWVzKChtYXAgYXMgYW55KShzb3VyY2UsIHNlbGVjdG9yLCAuLi5yZXN0KSk7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2UgPSA8XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUmVkdWNlciBleHRlbmRzIChcbiAgICAuLi5hcmdzOiBbXG4gICAgICBhY2N1bXVsYXRvcjogdW5rbm93biBleHRlbmRzIEFjY3VtdWxhdG9yXG4gICAgICAgID8gYW55XG4gICAgICAgIDogR2VuZXJhbGl6ZUNvbnRzdGFudHM8QWNjdW11bGF0b3I+LFxuICAgICAgLi4ucmVzdDogUGFyYW1ldGVyczxJdGVyYXRvckFjdGlvbjxTLCBBY2N1bXVsYXRvcj4+XG4gICAgXVxuICApID0+IEdlbmVyYWxpemVDb250c3RhbnRzPEFjY3VtdWxhdG9yPixcbiAgQWNjdW11bGF0b3Jcbj4oXG4gIHNvdXJjZTogUyxcbiAgcmVkdWNlcjogUmVkdWNlcixcbiAgc2VlZD86IEFjY3VtdWxhdG9yLFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IFJlZHVjZXIgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBSXG4gID8gUiB8ICh1bmtub3duIGV4dGVuZHMgQWNjdW11bGF0b3IgPyB1bmRlZmluZWQgOiBuZXZlcilcbiAgOiBuZXZlciA9PlxuICBmb3JFYWNoKFxuICAgIHNvdXJjZSxcbiAgICAodmFsdWUsIGluZGV4LCBjb250cm9sKSA9PlxuICAgICAgKHNlZWQgPVxuICAgICAgICAocmVkdWNlcihzZWVkIGFzIGFueSwgdmFsdWUsIGluZGV4LCBjb250cm9sIGFzIGFueSkgYXMgYW55KSA/PyBzZWVkKSxcbiAgICAuLi5yZXN0XG4gICkgPz8gKHNlZWQgYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlciA9IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBNYXBUb0FycmF5IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+KFxuICBzb3VyY2U6IFMsXG4gIGZpbHRlcjogRmlsdGVyPFM+ID0gaXNUcnVpc2gsXG4gIG1hcD86IE1hcFRvQXJyYXksXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKTogUyBleHRlbmRzIGFueVtdIHwgbnVsbCB8IHVuZGVmaW5lZCB8IChNYXBUb0FycmF5IGV4dGVuZHMgdHJ1ZSA/IGFueSA6IG5ldmVyKVxuICA/IEl0ZXJhdG9ySXRlbTxTPltdXG4gIDogSXRlcmFibGU8SXRlcmF0b3JJdGVtPFM+PiA9PlxuICBtYXBcbiAgICA/IHRvQXJyYXkoKGZpbHRlciBhcyBhbnkpKHNvdXJjZSwgZmlsdGVyLCBmYWxzZSwgLi4ucmVzdCkpXG4gICAgOiAoZmlsdGVySXRlcmF0b3IobWFwSXRlcmF0b3Ioc291cmNlLCAuLi5yZXN0KSBhcyBhbnksIGZpbHRlcikgYXMgYW55KTtcblxubGV0IGZpbHRlckludGVybmFsID0gZmlsdGVyO1xuXG5leHBvcnQgY29uc3QgY291bnQgPSA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICBmaWx0ZXI/OiBGaWx0ZXI8Uz4gfCBudWxsLFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IG51bWJlciA9PiB7XG4gIGlmIChmaWx0ZXIpIHtcbiAgICBzb3VyY2UgPSBmaWx0ZXJJbnRlcm5hbChzb3VyY2UsIGZpbHRlciwgZmFsc2UsIC4uLnJlc3QpIGFzIGFueTtcbiAgfSBlbHNlIHtcbiAgICBzb3VyY2UgPSBtYXBJdGVyYXRvcihzb3VyY2UsIC4uLnJlc3QpO1xuICB9XG4gIGxldCBuID0gc291cmNlIVtcImxlbmd0aFwiXSA/PyBzb3VyY2UhW1wic2l6ZVwiXTtcbiAgcmV0dXJuIGlzRGVmaW5lZChuKSA/IG4gOiByZWR1Y2Uoc291cmNlLCAobikgPT4gbiArIDEsIDAsIC4uLnJlc3QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHN1bToge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlT2Y8bnVtYmVyPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHNlbGVjdG9yPzogSXRlcmF0b3JBY3Rpb248UywgbnVtYmVyPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogbnVtYmVyO1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgICBzb3VyY2U6IFMsXG4gICAgc2VsZWN0b3I6IEl0ZXJhdG9yQWN0aW9uPFMsIG51bWJlcj4sXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IG51bWJlcjtcbn0gPSAoc291cmNlOiBhbnksIHNlbGVjdG9yOiBhbnkgPSAoaXRlbTogYW55KSA9PiBpdGVtLCAuLi5yZXN0OiBhbnkpID0+XG4gIHJlZHVjZShcbiAgICBzb3VyY2UsXG4gICAgKHN1bSwgdmFsdWUsIGluZGV4LCBjb250cm9sKSA9PlxuICAgICAgc3VtICsgKHNlbGVjdG9yKHZhbHVlLCBpbmRleCwgY29udHJvbCkgPz8gMCksXG4gICAgMCxcbiAgICAuLi5yZXN0XG4gICk7XG5cbmV4cG9ydCBjb25zdCBzb21lID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIHNvdXJjZTogUyxcbiAgZmlsdGVyPzogRmlsdGVyPFM+IHwgbnVsbCxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+XG4gIGhhc01ldGhvZChzb3VyY2UsIFwic29tZVwiKVxuICAgID8gc291cmNlLnNvbWUoXG4gICAgICAgIGZpbHRlciA/IChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IGZpbHRlcihpdGVtLCBpbmRleCkgOiBpc1RydWlzaFxuICAgICAgKVxuICAgIDogZmlsdGVyXG4gICAgPyBzb21lKGZpbHRlckludGVybmFsKHNvdXJjZSBhcyBhbnksIGZpbHRlciwgZmFsc2UsIC4uLnJlc3QpKVxuICAgIDogZm9yRWFjaDxhbnksIGJvb2xlYW4+KHNvdXJjZSwgKGl0ZW0sIGluZGV4LCB7IGVuZCB9KSA9PiBlbmQodHJ1ZSkpID8/XG4gICAgICBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGV2ZXJ5ID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIHNvdXJjZTogUyxcbiAgZmlsdGVyPzogRmlsdGVyPFM+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT5cbiAgIXNvbWUoXG4gICAgc291cmNlLFxuICAgIGZpbHRlciA/IChpdGVtLCBpbmRleCkgPT4gIWZpbHRlcihpdGVtLCBpbmRleCkgOiBpc0ZhbHNpc2gsXG4gICAgLi4ucmVzdFxuICApO1xuIiwiaW1wb3J0IHsgaXNBcnJheSwgbWFwIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQge1xyXG4gIEJpbmRlcnMsXHJcbiAgTGlzdGVuZXIsXHJcbiAgVW5iaW5kZXIsXHJcbiAgY3JlYXRlQmluZGVycyxcclxuICBjcmVhdGVFdmVudCxcclxuICBtZXJnZUJpbmRlcnMsXHJcbn0gZnJvbSBcIi5cIjtcclxuXHJcbnR5cGUgUGFnZUxpc3RlbmVyQXJncyA9IFt2aXNpYmxlOiBib29sZWFuLCBsb2FkZWQ6IGJvb2xlYW5dO1xyXG5jb25zdCBbYWRkTGlzdGVuZXIsIGRpc3BhdGNoXSA9IGNyZWF0ZUV2ZW50PFBhZ2VMaXN0ZW5lckFyZ3M+KCk7XHJcblxyXG50eXBlIEFsbE1hcHMgPSBXaW5kb3dFdmVudE1hcCAmXHJcbiAgR2xvYmFsRXZlbnRIYW5kbGVyc0V2ZW50TWFwICZcclxuICBEb2N1bWVudEV2ZW50TWFwICZcclxuICBIVE1MRWxlbWVudEV2ZW50TWFwO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxpc3RlbiA9IDxLIGV4dGVuZHMga2V5b2YgQWxsTWFwcz4oXHJcbiAgdGFyZ2V0OiB7XHJcbiAgICBhZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICB0eXBlOiBzdHJpbmcsXHJcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxyXG4gICAgICBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zXHJcbiAgICApOiB2b2lkO1xyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgdHlwZTogc3RyaW5nLFxyXG4gICAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCxcclxuICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBFdmVudExpc3RlbmVyT3B0aW9uc1xyXG4gICAgKTogdm9pZDtcclxuICB9LFxyXG4gIG5hbWU6IEsgfCBLW10sXHJcbiAgbGlzdGVuZXI6IChcclxuICAgIGV2OiBBbGxNYXBzW0sgZXh0ZW5kcyBhbnlbXSA/IEtbbnVtYmVyXSA6IEtdLFxyXG4gICAgdW5iaW5kPzogVW5iaW5kZXJcclxuICApID0+IGFueSxcclxuICBvcHRpb25zOiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyA9IHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9XHJcbik6IEJpbmRlcnMgPT4ge1xyXG4gIHJldHVybiBpc0FycmF5KG5hbWUpXHJcbiAgICA/IG1lcmdlQmluZGVycyhcclxuICAgICAgICAuLi5tYXAobmFtZSwgKG5hbWUpID0+IGxpc3Rlbih0YXJnZXQsIG5hbWUgYXMgYW55LCBsaXN0ZW5lciwgb3B0aW9ucykpXHJcbiAgICAgIClcclxuICAgIDogY3JlYXRlQmluZGVycyhcclxuICAgICAgICBsaXN0ZW5lcixcclxuICAgICAgICAobGlzdGVuZXIpID0+IHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKSxcclxuICAgICAgICAobGlzdGVuZXIpID0+IHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKVxyXG4gICAgICApO1xyXG59O1xyXG5cclxubGV0IGJpbmRlcnM6IFJldHVyblR5cGU8dHlwZW9mIGFkZExpc3RlbmVyPjtcclxuZXhwb3J0IGNvbnN0IGFkZFBhZ2VMaXN0ZW5lciA9IChcclxuICBsaXN0ZW5lcjogTGlzdGVuZXI8UGFnZUxpc3RlbmVyQXJncz4sXHJcbiAgdHJpZ2dlckxvYWRlZCA9IHRydWVcclxuKSA9PiAoXHJcbiAgKGJpbmRlcnMgPSBhZGRMaXN0ZW5lcihsaXN0ZW5lcikpLFxyXG4gIGxvYWRlZCAmJiB0cmlnZ2VyTG9hZGVkICYmIGxpc3RlbmVyKHZpc2libGUsIGZhbHNlLCBiaW5kZXJzWzBdKSxcclxuICBiaW5kZXJzXHJcbik7XHJcblxyXG5sZXQgdmlzaWJsZSA9IHRydWU7XHJcbmxldCBsb2FkZWQgPSBmYWxzZTtcclxuXHJcbmNvbnN0IGRpc3BhdGNoVmlzaWJsZSA9ICgpID0+XHJcbiAgKCFsb2FkZWQgfHwgIXZpc2libGUpICYmXHJcbiAgZGlzcGF0Y2goKHZpc2libGUgPSB0cnVlKSwgbG9hZGVkIHx8ICEobG9hZGVkID0gdHJ1ZSkpO1xyXG5cclxubGlzdGVuKFxyXG4gIHdpbmRvdyxcclxuICBcInBhZ2VoaWRlXCIsXHJcbiAgKCkgPT4gKHZpc2libGUgfHwgbG9hZGVkKSAmJiBkaXNwYXRjaCgodmlzaWJsZSA9IGZhbHNlKSwgKGxvYWRlZCA9IGZhbHNlKSlcclxuKTtcclxubGlzdGVuKHdpbmRvdywgXCJwYWdlc2hvd1wiLCBkaXNwYXRjaFZpc2libGUpO1xyXG5saXN0ZW4oZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PlxyXG4gIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCJcclxuICAgID8gZGlzcGF0Y2hWaXNpYmxlKClcclxuICAgIDogdmlzaWJsZSAmJiBkaXNwYXRjaCgodmlzaWJsZSA9IGZhbHNlKSwgbG9hZGVkKVxyXG4pO1xyXG4iLCJpbXBvcnQge1xyXG4gIEdlbmVyYWxpemVDb250c3RhbnRzLFxyXG4gIElzQW55LFxyXG4gIEtleVZhbHVlUGFpcnNUb09iamVjdCxcclxuICBOb3RGdW5jdGlvbixcclxuICBmb3JFYWNoLFxyXG4gIGhhc01ldGhvZCxcclxuICBpc0FycmF5LFxyXG4gIGlzRGVmaW5lZCxcclxuICBpc0Z1bmN0aW9uLFxyXG4gIGlzT2JqZWN0LFxyXG4gIGlzVW5kZWZpbmVkLFxyXG59IGZyb20gXCIuXCI7XHJcblxyXG4vLyAjcmVnaW9uIFNoYXJlZCB0eXBlc1xyXG50eXBlIE1hcExpa2U8SyA9IGFueSwgViA9IGFueT4gPSB7XHJcbiAgaGFzPyhrZXk6IEspOiBib29sZWFuO1xyXG4gIGdldChrZXk6IEspOiBWIHwgdW5kZWZpbmVkO1xyXG4gIHNldChrZXk6IEssIHZhbHVlOiBWKTogYW55O1xyXG4gIGRlbGV0ZShrZXk6IEspOiBhbnk7XHJcbn07XHJcblxyXG50eXBlIFNldExpa2U8SyA9IGFueT4gPSB7XHJcbiAgaGFzPyhrZXk6IEspOiBib29sZWFuO1xyXG4gIGFkZChrZXk6IEspOiBhbnk7XHJcbiAgZGVsZXRlKGtleTogSyk6IGFueTtcclxufTtcclxuXHJcbnR5cGUgUHJvcGVydHlDb250YWluZXI8SyBleHRlbmRzIGFueSA9IGFueSwgViBleHRlbmRzIGFueSA9IGFueT4gPVxyXG4gIHwge1xyXG4gICAgICBbUCBpbiBrZXlvZiBLXTogVjtcclxuICAgIH1cclxuICB8IE1hcExpa2U8SywgVj5cclxuICB8IFNldExpa2U8Sz47XHJcblxyXG5leHBvcnQgdHlwZSBLZXlUeXBlPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcj4gPSBUIGV4dGVuZHMgTWFwTGlrZTxcclxuICBpbmZlciBLLFxyXG4gIGFueVxyXG4+XHJcbiAgPyBLXHJcbiAgOiBUIGV4dGVuZHMgU2V0TGlrZTxpbmZlciBLPlxyXG4gID8gS1xyXG4gIDogVCBleHRlbmRzIGFueVtdXHJcbiAgPyBudW1iZXJcclxuICA6IGtleW9mIFQ7XHJcblxyXG5leHBvcnQgdHlwZSBWYWx1ZVR5cGU8XHJcbiAgVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyLFxyXG4gIEssXHJcbiAgRGVmYXVsdCA9IG5ldmVyXHJcbj4gPSBJc0FueTxUPiBleHRlbmRzIHRydWVcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIE1hcExpa2U8YW55LCBpbmZlciBWPlxyXG4gID8gViB8IERlZmF1bHRcclxuICA6IFQgZXh0ZW5kcyBTZXRMaWtlXHJcbiAgPyBib29sZWFuIHwgRGVmYXVsdFxyXG4gIDogVCBleHRlbmRzIChpbmZlciBUKVtdXHJcbiAgPyBUIHwgRGVmYXVsdFxyXG4gIDogSyBleHRlbmRzIGtleW9mIFRcclxuICA/IFRbS10gfCBEZWZhdWx0XHJcbiAgOiBhbnk7XHJcblxyXG4vLyAjZW5kcmVnaW9uXHJcblxyXG4vLyAjcmVnaW9uIGdldFxyXG5cclxuZXhwb3J0IGNvbnN0IGdldCA9IDxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+PihcclxuICB0YXJnZXQ6IFQsXHJcbiAga2V5OiBLLFxyXG4gIGluaXRpYWxpemVyPzogVXBkYXRlcjxULCBLLCBWYWx1ZVR5cGU8VCwgSz4sIGZhbHNlLCB0cnVlPlxyXG4pOiBWYWx1ZVR5cGU8VCwgSywgdW5kZWZpbmVkPiA9PiB7XHJcbiAgbGV0IHZhbHVlID0gaGFzTWV0aG9kKHRhcmdldCwgXCJnZXRcIilcclxuICAgID8gdGFyZ2V0LmdldChrZXkpXHJcbiAgICA6IGhhc01ldGhvZCh0YXJnZXQsIFwiaGFzXCIpXHJcbiAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgOiAodGFyZ2V0IGFzIGFueSlba2V5XTtcclxuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkgJiYgaXNEZWZpbmVkKGluaXRpYWxpemVyKSkge1xyXG4gICAgaXNEZWZpbmVkKFxyXG4gICAgICAodmFsdWUgPSBpc0Z1bmN0aW9uKGluaXRpYWxpemVyKSA/IChpbml0aWFsaXplciBhcyBhbnkpKCkgOiBpbml0aWFsaXplcilcclxuICAgICkgJiYgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSk7XHJcbiAgfVxyXG4gIHJldHVybiB2YWx1ZTtcclxufTtcclxuXHJcbi8vICNlbmRyZWdpb25cclxuXHJcbi8vICNyZWdpb24gc2V0IGFuZCB1cGRhdGVcclxuXHJcbnR5cGUgVXBkYXRlRnVuY3Rpb248XHJcbiAgVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyLFxyXG4gIEtleSxcclxuICBDdXJyZW50LFxyXG4gIEZhY3RvcnlcclxuPiA9IEZhY3RvcnkgZXh0ZW5kcyBmYWxzZVxyXG4gID8gKFxyXG4gICAgICBjdXJyZW50OiBDdXJyZW50LFxyXG4gICAgICBrZXk6IEtleSxcclxuICAgICAgdGFyZ2V0OiBUXHJcbiAgICApID0+IEdlbmVyYWxpemVDb250c3RhbnRzPFZhbHVlVHlwZTxULCBLZXk+PiB8IHVuZGVmaW5lZFxyXG4gIDogKGtleTogS2V5LCB0YXJnZXQ6IFQpID0+IEdlbmVyYWxpemVDb250c3RhbnRzPFZhbHVlVHlwZTxULCBLZXk+PjtcclxuXHJcbnR5cGUgVXBkYXRlcjxcclxuICBUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsXHJcbiAgS2V5LFxyXG4gIEN1cnJlbnQgPSBWYWx1ZVR5cGU8VCwgS2V5PixcclxuICBTZXR0ZXJzT25seSA9IGZhbHNlLFxyXG4gIEZhY3RvcnkgPSBmYWxzZVxyXG4+ID0gU2V0dGVyc09ubHkgZXh0ZW5kcyB0cnVlXHJcbiAgPyBWYWx1ZVR5cGU8VCwgS2V5LCBGYWN0b3J5IGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogdW5kZWZpbmVkPlxyXG4gIDogSXNBbnk8VD4gZXh0ZW5kcyB0cnVlXHJcbiAgPyBOb3RGdW5jdGlvbiB8IFVwZGF0ZUZ1bmN0aW9uPGFueSwgYW55LCBhbnksIEZhY3Rvcnk+XHJcbiAgOlxyXG4gICAgICB8IChWYWx1ZVR5cGU8VCwgS2V5PiBleHRlbmRzIEZ1bmN0aW9uXHJcbiAgICAgICAgICA/IG5ldmVyXHJcbiAgICAgICAgICA6IFZhbHVlVHlwZTxULCBLZXksIEZhY3RvcnkgZXh0ZW5kcyB0cnVlID8gbmV2ZXIgOiB1bmRlZmluZWQ+KVxyXG4gICAgICB8IFVwZGF0ZUZ1bmN0aW9uPFQsIEtleSwgQ3VycmVudCwgRmFjdG9yeT47XHJcblxyXG50eXBlIFVwZGF0ZXJUeXBlPFQsIFNldHRlcnNPbmx5ID0gZmFsc2U+ID0gU2V0dGVyc09ubHkgZXh0ZW5kcyB0cnVlXHJcbiAgPyBUXHJcbiAgOiBUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgVFxyXG4gID8gVFxyXG4gIDogVDtcclxuXHJcbnR5cGUgUHJvcGVydGllc1RvVHVwbGVzPFQsIFNldHRlcnNPbmx5ID0gZmFsc2UsIEsgPSBrZXlvZiBUPiA9IEsgZXh0ZW5kcyBhbnlcclxuICA/IFtLLCBVcGRhdGVyVHlwZTxULCBTZXR0ZXJzT25seT5dXHJcbiAgOiBuZXZlcjtcclxuXHJcbnR5cGUgQnVsa1VwZGF0ZU9iamVjdDxcclxuICBUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsXHJcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcclxuICBGYWN0b3J5ID0gZmFsc2VcclxuPiA9IFQgZXh0ZW5kcyBNYXBMaWtlIHwgU2V0TGlrZSB8IGFueVtdXHJcbiAgPyB7XHJcbiAgICAgIFtQIGluIEtleVR5cGU8VD5dOiBVcGRhdGVyPFQsIFAsIFZhbHVlVHlwZTxULCBQPiwgU2V0dGVyc09ubHksIEZhY3Rvcnk+O1xyXG4gICAgfVxyXG4gIDogeyBbUCBpbiBrZXlvZiBUICYgS2V5VHlwZTxUPl0/OiBVcGRhdGVyPFQsIFAsIFRbUF0sIFNldHRlcnNPbmx5LCBGYWN0b3J5PiB9O1xyXG5cclxudHlwZSBCdWxrVXBkYXRlS2V5VmFsdWU8XHJcbiAgVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyLFxyXG4gIFNldHRlcnNPbmx5ID0gZmFsc2UsXHJcbiAgRmFjdG9yeSA9IGZhbHNlLFxyXG4gIEsgZXh0ZW5kcyBrZXlvZiBUID0ga2V5b2YgVFxyXG4+ID0gSXNBbnk8VD4gZXh0ZW5kcyB0cnVlXHJcbiAgPyBbYW55LCBVcGRhdGVyPFQsIGFueSwgYW55LCBTZXR0ZXJzT25seSwgRmFjdG9yeT5dXHJcbiAgOiBUIGV4dGVuZHMgTWFwTGlrZSB8IFNldExpa2UgfCBhbnlbXVxyXG4gID8gW1xyXG4gICAgICBLZXlUeXBlPFQ+LFxyXG4gICAgICBVcGRhdGVyPFQsIEtleVR5cGU8VD4sIFZhbHVlVHlwZTxULCBLZXlUeXBlPFQ+PiwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XHJcbiAgICBdXHJcbiAgOiBLIGV4dGVuZHMgYW55XHJcbiAgPyBbSywgVXBkYXRlcjxULCBLZXlUeXBlPFQ+LCBhbnksIFNldHRlcnNPbmx5LCBGYWN0b3J5Pl1cclxuICA6IG5ldmVyO1xyXG5cclxudHlwZSBCdWxrVXBkYXRlczxcclxuICBUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIsXHJcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcclxuICBGYWN0b3J5ID0gZmFsc2VcclxuPiA9XHJcbiAgfCBCdWxrVXBkYXRlT2JqZWN0PFQsIFNldHRlcnNPbmx5LCBGYWN0b3J5PlxyXG4gIHwgSXRlcmFibGU8XHJcbiAgICAgIHwgQnVsa1VwZGF0ZUtleVZhbHVlPFQsIFNldHRlcnNPbmx5LCBGYWN0b3J5PlxyXG4gICAgICB8IEJ1bGtVcGRhdGVPYmplY3Q8VCwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XHJcbiAgICA+O1xyXG5cclxudHlwZSBVbndyYXBCdWxrVXBkYXRlczxULCBTZXR0ZXJzT25seSA9IGZhbHNlPiA9IFQgZXh0ZW5kcyAoaW5mZXIgVClbXVxyXG4gID8gVCBleHRlbmRzIFtpbmZlciBLLCBpbmZlciBWXVxyXG4gICAgPyBbSywgVXBkYXRlclR5cGU8ViwgU2V0dGVyc09ubHk+XVxyXG4gICAgOiBQcm9wZXJ0aWVzVG9UdXBsZXM8VCwgU2V0dGVyc09ubHk+XHJcbiAgOiBQcm9wZXJ0aWVzVG9UdXBsZXM8VD47XHJcblxyXG50eXBlIFNldE9yVXBkYXRlRnVuY3Rpb248U2V0dGVyc09ubHk+ID0ge1xyXG4gIDxcclxuICAgIFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcixcclxuICAgIFUgZXh0ZW5kcyBVcGRhdGVyPFQsIEssIFZhbHVlVHlwZTxULCBLPiwgU2V0dGVyc09ubHk+LFxyXG4gICAgSyBleHRlbmRzIEtleVR5cGU8VD5cclxuICA+KFxyXG4gICAgdGFyZ2V0OiBULFxyXG4gICAga2V5OiBLLFxyXG4gICAgdmFsdWU6IFVcclxuICApOiBVcGRhdGVyVHlwZTxVPjsgLy8gIFVwZGF0ZXJUeXBlPFUsIFNldHRlcnNPbmx5PjtcclxuICA8VCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyPihcclxuICAgIHRhcmdldDogVCxcclxuICAgIHZhbHVlczogQnVsa1VwZGF0ZXM8VCwgU2V0dGVyc09ubHk+XHJcbiAgKTogVDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNldE9yVXBkYXRlRnVuY3Rpb24gPVxyXG4gIDxCIGV4dGVuZHMgYm9vbGVhbj4oc2V0dGVyc09ubHk6IEIpOiBTZXRPclVwZGF0ZUZ1bmN0aW9uPEI+ID0+XHJcbiAgKHRhcmdldDogUHJvcGVydHlDb250YWluZXIsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICBsZXQgYnVsazogYm9vbGVhbjtcclxuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBhcmdzO1xyXG4gICAgY29uc3Qgc2V0U2luZ2xlID0gKFtrZXksIHZhbHVlXTogW2FueSwgYW55XSkgPT4ge1xyXG4gICAgICBpZiAoIXNldHRlcnNPbmx5ICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZShnZXQodGFyZ2V0LCBrZXkpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBjbGVhcih0YXJnZXQsIGtleSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChidWxrIHx8IGdldCh0YXJnZXQsIGtleSkgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgaGFzTWV0aG9kKHRhcmdldCwgXCJzZXRcIilcclxuICAgICAgICAgID8gdGFyZ2V0LnNldChrZXksIHZhbHVlKVxyXG4gICAgICAgICAgOiBoYXNNZXRob2QodGFyZ2V0LCBcImFkZFwiKVxyXG4gICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICA/IHRhcmdldC5hZGQoa2V5KVxyXG4gICAgICAgICAgICA6IHRhcmdldC5kZWxldGUoa2V5KVxyXG4gICAgICAgICAgOiAodGFyZ2V0W2tleV0gPSB2YWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKChidWxrID0gYXJncy5sZW5ndGggPT09IDEpKSB7XHJcbiAgICAgIC8vIEZhc3QgcGF0aFxyXG4gICAgICBpZiAoc2V0dGVyc09ubHkpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShrZXkpICYmIGtleS5ldmVyeSgoaXRlbSkgPT4gaXNPYmplY3QoaXRlbSkpKSB7XHJcbiAgICAgICAgICBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5rZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xyXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhrZXkpLmZvckVhY2goXHJcbiAgICAgICAgICAgIChbaywgdl0pID0+ICFpc0RlZmluZWQodikgJiYgZGVsZXRlIHRhcmdldFtrXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XHJcbiAgICAgICAgZm9yRWFjaChrZXksIHNldFNpbmdsZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yRWFjaChrZXksIChpdGVtKSA9PlxyXG4gICAgICAgICAgaXNPYmplY3QoaXRlbSkgPyBmb3JFYWNoKGl0ZW0sIHNldFNpbmdsZSkgOiBzZXRTaW5nbGUoaXRlbSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2V0U2luZ2xlKFtrZXksIHZhbHVlXSk7XHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXQgPSBjcmVhdGVTZXRPclVwZGF0ZUZ1bmN0aW9uKHRydWUpO1xyXG5leHBvcnQgY29uc3QgdXBkYXRlID0gY3JlYXRlU2V0T3JVcGRhdGVGdW5jdGlvbihmYWxzZSk7XHJcblxyXG4vLyAjZW5kcmVnaW9uXHJcblxyXG5leHBvcnQgY29uc3QgYWRkID0gPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcjxhbnksIGJvb2xlYW4+PihcclxuICB0YXJnZXQ6IFQsXHJcbiAga2V5OiBLZXlUeXBlPFQ+XHJcbikgPT4gZ2V0KHRhcmdldCwga2V5KSAhPT0gc2V0KHRhcmdldCwga2V5LCB0cnVlIGFzIGFueSk7XHJcblxyXG5leHBvcnQgY29uc3QgaGFzID0gPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcj4odGFyZ2V0OiBULCBrZXk6IEtleVR5cGU8VD4pID0+XHJcbiAgaGFzTWV0aG9kKHRhcmdldCwgXCJoYXNcIilcclxuICAgID8gdGFyZ2V0LmhhcyhrZXkpXHJcbiAgICA6IGlzRGVmaW5lZCgodGFyZ2V0IGFzIGFueSkuZ2V0Py4oa2V5KSA/PyAodGFyZ2V0IGFzIGFueSlba2V5XSk7XHJcblxyXG5leHBvcnQgY29uc3QgY2xlYXI6IHtcclxuICA8VCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyPih0YXJnZXQ6IFQsIGtleTogS2V5VHlwZTxUPik6IFZhbHVlVHlwZTxcclxuICAgIFQsXHJcbiAgICBLZXlUeXBlPFQ+LFxyXG4gICAgdHJ1ZVxyXG4gID47XHJcbiAgPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcj4odGFyZ2V0OiBULCAuLi5rZXlzOiBLZXlUeXBlPFQ+W10pOiBWYWx1ZVR5cGU8XHJcbiAgICBULFxyXG4gICAgS2V5VHlwZTxUPixcclxuICAgIHRydWVcclxuICA+W107XHJcbn0gPSAodGFyZ2V0OiBQcm9wZXJ0eUNvbnRhaW5lciwga2V5OiBhbnksIC4uLmtleXM6IGFueVtdKSA9PiB7XHJcbiAgaWYgKGtleXMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4ga2V5cy5tYXAoKGtleSkgPT4gY2xlYXIodGFyZ2V0LCBrZXkpKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGN1cnJlbnQgPSBnZXQodGFyZ2V0LCBrZXkpO1xyXG4gIGhhc01ldGhvZCh0YXJnZXQsIFwiZGVsZXRlXCIpXHJcbiAgICA/IHRhcmdldC5kZWxldGUoa2V5KVxyXG4gICAgOiBpc0FycmF5KHRhcmdldClcclxuICAgID8gdGFyZ2V0LnNwbGljZShrZXksIDEpXHJcbiAgICA6IGRlbGV0ZSB0YXJnZXRba2V5XTtcclxuXHJcbiAgcmV0dXJuIGN1cnJlbnQ7XHJcbn07XHJcbiIsImltcG9ydCB7IGlzTnVtYmVyLCB0cnlDYXRjaEFzeW5jIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQgeyBNYXliZVByb21pc2UsIHByb21pc2UgfSBmcm9tIFwiLlwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5vdyA9ICgpID0+IE1hdGgudHJ1bmMocGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpKTtcclxuZXhwb3J0IHR5cGUgQ2FuY2VsYWJsZUNhbGxiYWNrID0gKCkgPT4gTWF5YmVQcm9taXNlPHZvaWQgfCBib29sZWFuPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2sge1xyXG4gIHJlYWRvbmx5IGFjdGl2ZTogYm9vbGVhbjtcclxuICByZWFkb25seSBidXN5OiBib29sZWFuO1xyXG4gIHJlc3RhcnQoY2FsbGJhY2s/OiBDYW5jZWxhYmxlQ2FsbGJhY2ssIGZyZXF1ZW5jeT86IG51bWJlcik6IENsb2NrO1xyXG4gIHRvZ2dsZShzdGFydDogYm9vbGVhbiwgdHJpZ2dlcj86IGJvb2xlYW4pOiBDbG9jaztcclxuICB0cmlnZ2VyKHNraXBRdWV1ZT86IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENsb2NrU2V0dGluZ3Mge1xyXG4gIGZyZXF1ZW5jeT86IG51bWJlcjtcclxuICBxdWV1ZT86IGJvb2xlYW47XHJcbiAgcGF1c2VkPzogYm9vbGVhbjtcclxufVxyXG5cclxudHlwZSBDbG9ja1NldHRpbmdzUGFyYW1ldGVyID0gQ2xvY2tTZXR0aW5ncyAmIHsgZnJlcXVlbmN5OiBudW1iZXIgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBjbG9jazoge1xyXG4gIChjYWxsYmFjazogQ2FuY2VsYWJsZUNhbGxiYWNrLCBmcmVxdWVuY3k6IG51bWJlcik6IENsb2NrO1xyXG4gIChjYWxsYmFjazogQ2FuY2VsYWJsZUNhbGxiYWNrLCBzZXR0aW5nczogQ2xvY2tTZXR0aW5nc1BhcmFtZXRlcik6IENsb2NrO1xyXG59ID0gKFxyXG4gIGNhbGxiYWNrOiBDYW5jZWxhYmxlQ2FsbGJhY2ssXHJcbiAgc2V0dGluZ3M6IG51bWJlciB8IENsb2NrU2V0dGluZ3NQYXJhbWV0ZXJcclxuKTogQ2xvY2sgPT4ge1xyXG4gIGxldCB7XHJcbiAgICBxdWV1ZSA9IHRydWUsXHJcbiAgICBwYXVzZWQgPSBmYWxzZSxcclxuICAgIGZyZXF1ZW5jeSxcclxuICB9ID0gaXNOdW1iZXIoc2V0dGluZ3MpID8geyBmcmVxdWVuY3k6IHNldHRpbmdzIH0gOiBzZXR0aW5ncztcclxuXHJcbiAgbGV0IHRpbWVvdXRJZCA9IDA7XHJcbiAgY29uc3QgbXV0ZXggPSBwcm9taXNlKCkucmVzb2x2ZSgpO1xyXG5cclxuICBjb25zdCBvdXRlckNhbGxiYWNrID0gYXN5bmMgKHNraXBRdWV1ZT86IGJvb2xlYW4pID0+IHtcclxuICAgIGlmICghdGltZW91dElkIHx8ICghcXVldWUgJiYgIW11dGV4LnJlc29sdmVkICYmIHNraXBRdWV1ZSAhPT0gdHJ1ZSkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgKGluc3RhbmNlIGFzIGFueSkuYnVzeSA9IHRydWU7XHJcbiAgICBpZiAoc2tpcFF1ZXVlICE9PSB0cnVlKSB7XHJcbiAgICAgIGF3YWl0IG11dGV4O1xyXG4gICAgfVxyXG5cclxuICAgIG11dGV4LnJlc2V0KCk7XHJcbiAgICAoKGF3YWl0IHRyeUNhdGNoQXN5bmMoY2FsbGJhY2ssIGZhbHNlLCAoKSA9PiBtdXRleC5yZXNvbHZlKCkpKSA9PT0gZmFsc2UgfHxcclxuICAgICAgZnJlcXVlbmN5IDwgMCkgJiZcclxuICAgICAgcmVzZXQodHJ1ZSk7XHJcblxyXG4gICAgKGluc3RhbmNlIGFzIGFueSkuYnVzeSA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzZXQgPSAoc3RhcnQ6IGJvb2xlYW4pID0+IHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGltZW91dElkKTtcclxuICAgIChpbnN0YW5jZSBhcyBhbnkpLmFjdGl2ZSA9ICEhKHRpbWVvdXRJZCA9IHN0YXJ0XHJcbiAgICAgID8gc2V0SW50ZXJ2YWwob3V0ZXJDYWxsYmFjaywgZnJlcXVlbmN5IDwgMCA/IC1mcmVxdWVuY3kgOiBmcmVxdWVuY3kpXHJcbiAgICAgIDogMCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaW5zdGFuY2U6IENsb2NrID0ge1xyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGJ1c3k6IGZhbHNlLFxyXG4gICAgcmVzdGFydDogKG5ld0NhbGxiYWNrLCBuZXdGcmVxdWVuY3kpID0+IHtcclxuICAgICAgY2FsbGJhY2sgPSBuZXdDYWxsYmFjayA/PyBjYWxsYmFjaztcclxuICAgICAgZnJlcXVlbmN5ID0gbmV3RnJlcXVlbmN5ID8/IGZyZXF1ZW5jeTtcclxuICAgICAgcmV0dXJuIG5ld0NhbGxiYWNrIHx8IG5ld0ZyZXF1ZW5jeSB8fCAhdGltZW91dElkID8gcmVzZXQodHJ1ZSkgOiBpbnN0YW5jZTtcclxuICAgIH0sXHJcbiAgICB0b2dnbGU6IChzdGFydCwgdHJpZ2dlcikgPT5cclxuICAgICAgc3RhcnQgIT09IGluc3RhbmNlLmFjdGl2ZVxyXG4gICAgICAgID8gc3RhcnRcclxuICAgICAgICAgID8gdHJpZ2dlclxyXG4gICAgICAgICAgICA/IChpbnN0YW5jZS50cmlnZ2VyKCksIGluc3RhbmNlKVxyXG4gICAgICAgICAgICA6IHJlc2V0KHRydWUpXHJcbiAgICAgICAgICA6IHJlc2V0KGZhbHNlKVxyXG4gICAgICAgIDogaW5zdGFuY2UsXHJcbiAgICB0cmlnZ2VyOiBhc3luYyAoc2tpcFF1ZXVlKSA9PlxyXG4gICAgICAoYXdhaXQgb3V0ZXJDYWxsYmFjayhza2lwUXVldWUpKSAmJiAocmVzZXQodHJ1ZSksIHRydWUpLFxyXG4gIH07XHJcbiAgcmV0dXJuIGluc3RhbmNlLnRvZ2dsZSghcGF1c2VkKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB3YWl0ID0gKHRpbWVvdXQ6IG51bWJlciA9IDApID0+XHJcbiAgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+XHJcbiAgICB0aW1lb3V0ID8gc2V0VGltZW91dChyZXNvbHZlLCB0aW1lb3V0KSA6IHJlc29sdmUoKVxyXG4gICk7XHJcbiIsImltcG9ydCB7IGlzRGVmaW5lZCwgaXNVbmRlZmluZWQsIHRyeUNhdGNoQXN5bmMgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7IGJpbmRTdG9yYWdlLCB3YWl0IH0gZnJvbSBcIi5cIjtcclxuXHJcbmV4cG9ydCB0eXBlIE1heWJlUHJvbWlzZTxUPiA9IFQgZXh0ZW5kcyBQcm9taXNlTGlrZTxpbmZlciBUPlxyXG4gID8gTWF5YmVQcm9taXNlPFQ+XHJcbiAgOiBUIHwgUHJvbWlzZUxpa2U8VD47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5Qcm9taXNlPFQgPSB2b2lkPiBleHRlbmRzIFByb21pc2VMaWtlPFQ+IHtcclxuICByZWFkb25seSByZXNvbHZlZDogKFQgZXh0ZW5kcyB2b2lkID8gYm9vbGVhbiA6IFQpIHwgdW5kZWZpbmVkO1xyXG4gIHJlc2V0KCk6IE9wZW5Qcm9taXNlPFQ+O1xyXG4gIHJlc29sdmUodmFsdWU6IFQsIHJlc2V0PzogYm9vbGVhbik6IE9wZW5Qcm9taXNlPFQ+O1xyXG4gIHJlamVjdChlcnJvcjogYW55KTogT3BlblByb21pc2U8VD47XHJcbiAgc2lnbmFsKHZhbHVlOiBUKTogT3BlblByb21pc2U8VD47XHJcbiAgd2FpdCh0aW1lb3V0OiBudW1iZXIpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJvbWlzZSA9IDxUID0gdm9pZD4oaW5pdGlhbFZhbHVlPzogVCk6IE9wZW5Qcm9taXNlPFQ+ID0+IHtcclxuICBsZXQgY2FwdHVyZWRSZXNvbHZlOiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgbGV0IGNhcHR1cmVkUmVqZWN0OiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgbGV0IGN1cnJlbnRQcm9taXNlOiBQcm9taXNlPFQ+O1xyXG4gIGNvbnN0IHJlc2V0UHJvbWlzZSA9ICgpID0+IHtcclxuICAgIChpbnN0YW5jZSBhcyBhbnkpLnJlc29sdmVkID0gdW5kZWZpbmVkO1xyXG4gICAgY3VycmVudFByb21pc2UgPSBuZXcgUHJvbWlzZTxUPihcclxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4gKFxyXG4gICAgICAgIChjYXB0dXJlZFJlc29sdmUgPSAodmFsdWU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgKGluc3RhbmNlIGFzIGFueSkucmVzb2x2ZWQgPSAhaXNEZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZTtcclxuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIChjYXB0dXJlZFJlamVjdCA9IHJlamVjdClcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBpbnN0YW5jZTogT3BlblByb21pc2U8VD4gPSB7XHJcbiAgICByZXNvbHZlZDogdW5kZWZpbmVkLFxyXG4gICAgcmVzZXQ6ICgpID0+IChyZXNldFByb21pc2UoKSwgaW5zdGFuY2UpLFxyXG4gICAgcmVzb2x2ZTogKHZhbHVlKSA9PiAoY2FwdHVyZWRSZXNvbHZlKHZhbHVlKSwgaW5zdGFuY2UpLFxyXG4gICAgcmVqZWN0OiAodmFsdWUpID0+IChjYXB0dXJlZFJlamVjdCh2YWx1ZSksIGluc3RhbmNlKSxcclxuICAgIHNpZ25hbDogKHZhbHVlKSA9PiAoY2FwdHVyZWRSZXNvbHZlKHZhbHVlKSwgaW5zdGFuY2UucmVzZXQoKSksXHJcbiAgICB0aGVuOiAoLi4uYXJncykgPT4gY3VycmVudFByb21pc2UudGhlbiguLi5hcmdzKSxcclxuICAgIHdhaXQ6ICh0aW1lb3V0KSA9PiBQcm9taXNlLnJhY2UoW3dhaXQodGltZW91dCksIGN1cnJlbnRQcm9taXNlXSkgYXMgYW55LFxyXG4gIH07XHJcbiAgaW5zdGFuY2UucmVzZXQoKTtcclxuICByZXR1cm4gaW5pdGlhbFZhbHVlID8gaW5zdGFuY2UucmVzb2x2ZShpbml0aWFsVmFsdWUpIDogaW5zdGFuY2U7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBMb2NrID0gPFQgPSB2b2lkPihhY3Rpb246ICgpID0+IFByb21pc2U8VD4gfCBUKSA9PiBQcm9taXNlPFQ+O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvY2sgPSAoaWQ6IHN0cmluZywgdGltZW91dCA9IDEwMDApOiBMb2NrID0+IHtcclxuICBjb25zdCBzdG9yYWdlID0gYmluZFN0b3JhZ2U8Ym9vbGVhbj4oaWQpO1xyXG4gIGxldCB3YWl0SGFuZGxlID0gcHJvbWlzZSgpO1xyXG4gIHN0b3JhZ2Uub2JzZXJ2ZSgodmFsdWUpID0+IHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgd2FpdEhhbmRsZS5zaWduYWwoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGFzeW5jIDxUPihhY3Rpb246ICgpID0+IFByb21pc2U8VD4pID0+IHtcclxuICAgIGxldCB0aW1lb3V0cyA9IDA7XHJcbiAgICB3aGlsZSAoc3RvcmFnZS5nZXQoKSkge1xyXG4gICAgICBpZiAodGltZW91dHMgPiAzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgYWNxdWlyZSBsb2NrIGFmdGVyICR7dGltZW91dHN9IGF0dGVtcHRzLmApO1xyXG4gICAgICB9XHJcbiAgICAgIGF3YWl0IHdhaXRIYW5kbGUud2FpdCh0aW1lb3V0KTtcclxuICAgIH1cclxuICAgIHN0b3JhZ2UudXBkYXRlKCgpID0+IHRydWUpO1xyXG4gICAgcmV0dXJuIGF3YWl0IHRyeUNhdGNoQXN5bmMoYWN0aW9uLCB0cnVlLCAoKSA9PiBzdG9yYWdlLmRlbGV0ZSgpKTtcclxuICB9O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBub3cgfSBmcm9tIFwiLlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVVVJRCA9IHN0cmluZztcclxuXHJcbmV4cG9ydCBsZXQgVEFCX0lEID1cclxuICBub3coKS50b1N0cmluZygzNikgK1xyXG4gIE1hdGgudHJ1bmMoMTI5NiAqIE1hdGgucmFuZG9tKCkpIC8vXHJcbiAgICAudG9TdHJpbmcoMzYpXHJcbiAgICAucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG5cclxubGV0IGxvY2FsSWQgPSAwO1xyXG5leHBvcnQgY29uc3QgbmV4dElkID0gKCkgPT4gVEFCX0lEICsgXCJfXCIgKyBuZXh0TG9jYWxJZCgpO1xyXG5leHBvcnQgY29uc3QgbmV4dExvY2FsSWQgPSAoKSA9PiArK2xvY2FsSWQ7XHJcbiIsImltcG9ydCB7IGZpbHRlciwgc29tZSB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFJlYmluZGVyID0gKCkgPT4gYm9vbGVhbjtcclxuZXhwb3J0IHR5cGUgVW5iaW5kZXIgPSAoKSA9PiBib29sZWFuO1xyXG5leHBvcnQgdHlwZSBCaW5kZXJzID0gW3VuYmluZDogVW5iaW5kZXIsIHJlYmluZDogUmViaW5kZXJdO1xyXG5cclxuZXhwb3J0IHR5cGUgU291cmNlTGlzdGVuZXI8QXJncyBleHRlbmRzIGFueVtdPiA9ICguLi5hcmdzOiBBcmdzKSA9PiB2b2lkO1xyXG5leHBvcnQgdHlwZSBMaXN0ZW5lcjxBcmdzIGV4dGVuZHMgYW55W10+ID0gKFxyXG4gIC4uLmFyZ3M6IFsuLi5hcmdzOiBBcmdzLCB1bmJpbmQ6IFVuYmluZGVyXVxyXG4pID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQmluZGVycyA9IDxBcmdzIGV4dGVuZHMgYW55W10+KFxyXG4gIGxpc3RlbmVyOiBMaXN0ZW5lcjxBcmdzPixcclxuICBhdHRhY2g6IChsaXN0ZW5lcjogU291cmNlTGlzdGVuZXI8QXJncz4pID0+IHZvaWQsXHJcbiAgZGV0YWNoOiAobGlzdGVuZXI6IFNvdXJjZUxpc3RlbmVyPEFyZ3M+KSA9PiB2b2lkXHJcbik6IEJpbmRlcnMgPT4ge1xyXG4gIGxldCBib3VuZCA9IGZhbHNlO1xyXG5cclxuICBjb25zdCBvdXRlckxpc3RlbmVyID0gKC4uLmFyZ3M6IEFyZ3MpID0+IGxpc3RlbmVyKC4uLmFyZ3MsIHVuYmluZCk7XHJcblxyXG4gIGNvbnN0IHVuYmluZCA9ICgpID0+XHJcbiAgICBib3VuZCAhPT0gKGJvdW5kID0gZmFsc2UpICYmIChkZXRhY2gob3V0ZXJMaXN0ZW5lciksIHRydWUpO1xyXG5cclxuICBjb25zdCByZWJpbmQgPSAoKSA9PlxyXG4gICAgYm91bmQgIT09IChib3VuZCA9IHRydWUpICYmIChhdHRhY2gob3V0ZXJMaXN0ZW5lciksIHRydWUpO1xyXG5cclxuICByZWJpbmQoKTtcclxuICByZXR1cm4gW3VuYmluZCwgcmViaW5kXTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtZXJnZUJpbmRlcnMgPSAoLi4uYmluZGVyczogKEJpbmRlcnMgfCB1bmRlZmluZWQpW10pOiBCaW5kZXJzID0+IChcclxuICAoYmluZGVycyA9IGZpbHRlcihiaW5kZXJzKSksXHJcbiAgW1xyXG4gICAgKCkgPT4gc29tZShiaW5kZXJzLCAoYmluZGVyKSA9PiBiaW5kZXIhWzBdKCkpLFxyXG4gICAgKCkgPT4gc29tZShiaW5kZXJzLCAoYmluZGVyKSA9PiBiaW5kZXIhWzFdKCkpLFxyXG4gIF1cclxuKTtcclxuXHJcbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxBcmdzIGV4dGVuZHMgYW55W10+ID0gKC4uLnBheWxvYWQ6IEFyZ3MpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRXZlbnQgPSA8QXJncyBleHRlbmRzIGFueVtdPigpOiBbXHJcbiAgbGlzdGVuOiAobGlzdGVuZXI6IExpc3RlbmVyPEFyZ3M+KSA9PiBCaW5kZXJzLFxyXG4gIGRpc3BhdGNoOiAoLi4ucGF5bG9hZDogQXJncykgPT4gdm9pZFxyXG5dID0+IHtcclxuICBjb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0PFNvdXJjZUxpc3RlbmVyPEFyZ3M+PigpO1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgKGhhbmRsZXIpID0+XHJcbiAgICAgIGNyZWF0ZUJpbmRlcnMoXHJcbiAgICAgICAgaGFuZGxlcixcclxuICAgICAgICAoaGFuZGxlcikgPT4gbGlzdGVuZXJzLmFkZChoYW5kbGVyKSxcclxuICAgICAgICAoaGFuZGxlcikgPT4gbGlzdGVuZXJzLmRlbGV0ZShoYW5kbGVyKVxyXG4gICAgICApLFxyXG4gICAgKC4uLnBheWxvYWQpID0+IGxpc3RlbmVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKC4uLnBheWxvYWQpKSxcclxuICBdO1xyXG59O1xyXG4iLCJjb25zdCBjb2RlczogbnVtYmVyW10gPSBbXTtcbmNvbnN0IGNoYXJzOiBudW1iZXJbXSA9IFtdO1xuZXhwb3J0IGNvbnN0IGNoYXJDb2RlID0gKHM6IHN0cmluZywgaW5kZXggPSAwKSA9PiBzLmNoYXJDb2RlQXQoaW5kZXgpO1xuZXhwb3J0IGNvbnN0IGZyb21DaGFyQ29kZXMgPSAoY2hhcnM6IG51bWJlcltdKSA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmNoYXJzKTtcblxuWy4uLlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiXS5mb3JFYWNoKFxuICAocCwgaSkgPT4gKGNvZGVzWyhjaGFyc1tpXSA9IHAuY2hhckNvZGVBdCgwKSldID0gaSlcbik7XG5cbi8qKlxuICogRW5jb2RlcyBhbiBhcnJheSBvZiBieXRlcyB0byBCYXNlNjRVUkwgd2l0aG91dCBwYWRkaW5nIChVUkwgc2FmZSBCYXNlNjQgdXNpbmcgYC1gIGFuZCBgX2AgaW5zdGVhZCBvZiBgK2AgYW5kIGAvYCkuXG4gKlxuICogKHRoYW5rcyB0byBKb24gTGVpZ2h0b24gYXQgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9ubGVpZ2h0b24vOTU4ODQxKS5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvNjR1ID0gKGJ5dGVzOiBVaW50OEFycmF5KSA9PiB7XG4gIGxldCBpID0gMDtcbiAgbGV0IGNodW5rOiBudW1iZXI7XG4gIGNvbnN0IG4gPSBieXRlcy5sZW5ndGg7XG5cbiAgY29uc3QgYmFzZTY0OiBudW1iZXJbXSA9IFtdO1xuICB3aGlsZSAoaSA8IG4pIHtcbiAgICBjaHVuayA9IChieXRlc1tpKytdIDw8IDE2KSB8IChieXRlc1tpKytdIDw8IDgpIHwgYnl0ZXNbaSsrXTtcbiAgICBiYXNlNjQucHVzaChcbiAgICAgIGNoYXJzWyhjaHVuayAmIDE2NTE1MDcyKSA+PiAxOF0sXG4gICAgICBjaGFyc1soY2h1bmsgJiAyNTgwNDgpID4+IDEyXSxcbiAgICAgIGNoYXJzWyhjaHVuayAmIDQwMzIpID4+IDZdLFxuICAgICAgY2hhcnNbY2h1bmsgJiA2M11cbiAgICApO1xuICB9XG4gIGJhc2U2NC5sZW5ndGggKz0gbiAtIGk7XG5cbiAgcmV0dXJuIGZyb21DaGFyQ29kZXMoYmFzZTY0KTtcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIEJhc2VVUkwgZW5jb2RlZCBzdHJpbmcgKHdpdGhvdXQgcGFkZGluZykuXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tNjR1ID0gKGVuY29kZWQ6IHN0cmluZykgPT4ge1xuICBsZXQgaSA9IDA7XG4gIGxldCBqID0gMDtcbiAgbGV0IHA6IG51bWJlcjtcbiAgY29uc3QgbiA9IGVuY29kZWQubGVuZ3RoO1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDMgKiAoKG4gLyA0KSB8IDApICsgKCgobiArIDMpICYgMykgJSAzKSk7XG4gIHdoaWxlIChpIDwgbikge1xuICAgIGJ5dGVzW2orK10gPVxuICAgICAgKGNvZGVzW2NoYXJDb2RlKGVuY29kZWQsIGkrKyldIDw8IDIpIHxcbiAgICAgICgocCA9IGNvZGVzW2NoYXJDb2RlKGVuY29kZWQsIGkrKyldKSA+PiA0KTtcbiAgICBpZiAoaSA8IG4pIHtcbiAgICAgIGJ5dGVzW2orK10gPSAoKHAgJiAxNSkgPDwgNCkgfCAoKHAgPSBjb2Rlc1tjaGFyQ29kZShlbmNvZGVkLCBpKyspXSkgPj4gMik7XG4gICAgICBpZiAoaSA8IG4pIHtcbiAgICAgICAgYnl0ZXNbaisrXSA9ICgocCAmIDMpIDw8IDYpIHwgY29kZXNbY2hhckNvZGUoZW5jb2RlZCwgaSsrKV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBieXRlcztcbn07XG4iLCJpbXBvcnQgeyBoYXNWYWx1ZSwgaXNCb29sZWFuIH0gZnJvbSBcIi4uXCI7XG5cbi8qKiBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgZW50cm9weSBieXRlcy4gKi9cbmNvbnN0IEVOVFJPUFkgPSA0O1xuLyoqIFRoZSBwYWRkaW5nIGxlbmd0aC4gQ2lwaGVyIHRleHRzIHdpbGwgYWx3YXlzIGJlIGEgbXVsdGlwbGUgb2YgdGhpcy4gKi9cbmNvbnN0IE1BWF9QQURESU5HID0gMTY7XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zvd2xlciVFMiU4MCU5M05vbGwlRTIlODAlOTNWb19oYXNoX2Z1bmN0aW9uI0ZOVl9oYXNoX3BhcmFtZXRlcnNcbnR5cGUgRm52MWFDb25maWd1cmF0aW9uID0gW29mZnNldDogYmlnaW50LCBwcmltZTogYmlnaW50XTtcbmNvbnN0IEZOVnM6IFJlY29yZDxudW1iZXIsIEZudjFhQ29uZmlndXJhdGlvbj4gPSB7XG4gIDMyOiBbMHg4MTFjOWRjNW4sIDB4MDEwMDAxOTNuXSxcbiAgNjQ6IFsweGNiZjI5Y2U0ODQyMjIzMjVuLCAweDEwMDAwMDAwMWIzbl0sXG4gIDEyODogWzB4NmM2MjI3MmUwN2JiMDE0MjYyYjgyMTc1NjI5NWM1OGRuLCAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMTNibl0sXG59O1xuXG4vKiogQSByYW5kb20gYnl0ZS4gKi9cbmNvbnN0IGVudHJvcHkgPSAobWF4ID0gMjU2KSA9PiAobWF4ICogTWF0aC5yYW5kb20oKSkgfCAwO1xuXG5leHBvcnQgdHlwZSBIYXNoRnVuY3Rpb248VD4gPSB7XG4gIDxCIGV4dGVuZHMgYm9vbGVhbj4oc291cmNlOiBULCBudW1lcmljOiBCKTogQiBleHRlbmRzIHRydWUgPyBudW1iZXIgOiBzdHJpbmc7XG4gIChzb3VyY2U6IFQsIGJpdHM/OiAzMiB8IDY0IHwgMTI4KTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgQ2lwaGVyRnVuY3Rpb24gPSAoZGF0YTogVWludDhBcnJheSkgPT4gVWludDhBcnJheTtcbmV4cG9ydCB0eXBlIENpcGhlckZ1bmN0aW9ucyA9IFtcbiAgQ2lwaGVyRnVuY3Rpb24sXG4gIENpcGhlckZ1bmN0aW9uLFxuICBIYXNoRnVuY3Rpb248VWludDhBcnJheT5cbl07XG5cbi8qKlxuICogTGluZWFyLWZlZWRiYWNrIHNoaWZ0IHJlZ2lzdGVyIGVuY3J5cHRpb24gd2l0aCBsZWFkaW5nIGVudHJvcHkgYW5kIGZpeGVkIHBhZGRpbmcuXG4gKlxuICogVXNlZCBmb3Igb24tdGhlLWZseSBlbmNyeXB0aW9uLiBJdCBpcyBub3QgdGhlIHN0cm9uZ2VzdCBlbmNyeXB0aW9uLCB5ZXQgaXQgaXMgYW5ub3lpbmdseSBjaGFsbGVuZ2luZyB0byBicmVhay5cbiAqIER1ZSB0byBlbnRyb3B5IHRoZSBzYW1lIHRleHQgd2l0aCB0aGUgc2FtZSBrZXkgd2lsbCByZXN1bHQgaW4gYSBkaWZmZXJlbnQgY2lwaGVyIHRleHQgZXZlcnkgdGltZS5cbiAqXG4gKlxuICogXCJJdCBpcyBmYXN0IGFuZCBzbWFsbC5cIiwgQm9iIHNhaWQgdG8gQWxpY2UuIFwiSXQgaXMgYWxsIHJpZ2h0LlwiLCBzaGUgcmVwbGllZC5cbiAqXG4gKiAoQWRhcHRlZCBmcm9tIGh0dHA6Ly9xdWlubmZ0dy5jb20veG9yLWNpcGhlcnMvKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxmc3IgPSAoa2V5ID0gXCJcIik6IENpcGhlckZ1bmN0aW9ucyA9PiB7XG4gIC8qKiBOdW1iZXIgb2Ygc291cmNlIGJ5dGVzIGZvciAoZW4vZGUpY3J5cHRpb24uICovXG4gIGxldCBuOiBudW1iZXI7XG4gIC8qKiBTb3VyY2UgYnl0ZSBpbmRleC4gKi9cbiAgbGV0IGk6IG51bWJlcjtcbiAgLyoqIFRhcmdldCBieXRlIGluZGV4LiAqL1xuICBsZXQgajogbnVtYmVyO1xuICAvKiogUGFkZGluZyBsZW5ndGguICovXG4gIGxldCBwYWQ6IG51bWJlcjtcblxuICAvKiogSG9sZHMgdGhlIChlbi9kZSljcnlwdGVkIGJ5dGVzLiAqL1xuICBsZXQgdGFyZ2V0OiBVaW50OEFycmF5O1xuXG4gIC8qKiBIYXNoIGNvZGUuICovXG4gIGxldCBoYXNoID0gMG47XG5cbiAgLyoqIEJpdHMgZm9yIEZOVi0xYSBoYXNoIGNvZGUuICovXG4gIGxldCBiaXRzID0gMDtcblxuICAvKiogUHJpbWUgZm9yIEZOVi0xYSBoYXNoIGNvZGUuICovXG4gIGxldCBwcmltZSA9IDBuO1xuXG4gIC8qKlxuICAgKiBUaGUgc2xpZGluZyB3aW5kb3cgd2l0aCB0aGUgcGFzdCBjaXBoZXJzIHVzZWQgdG8gdXBkYXRlIGZvciB0aGUgbWl4ZXIuXG4gICAqIEl0IHdvcmtzIGFzIGEgbGluZWFyIGZlZWRiYWNrIHNoZml0IHJlZ2lzdGVyIHRvIGJvbHN0ZXIgYWdhaW5zdCBmcmVxdWVuY3kgYW5hbHlzaXMuXG4gICAqXG4gICAqIGh0dHA6Ly9xdWlubmZ0dy5jb20veG9yLWNpcGhlcnMvLlxuICAgKi9cbiAgbGV0IHdpbmRvdzogbnVtYmVyW10gPSBbXTtcblxuICAvKiogVGhlIG1peGVyIHVzZWQgdG8gaXRlcmF0aXZlbHkgdXBkYXRlIHRoZSBrZXkgd2hpbGUgKGVuL2RlKWNyeXB0aW5nLiAqL1xuICBsZXQgbWl4ZXIgPSAwO1xuICAvKiogVGhlIG1peGVyIG1vZHVsbyAyNTYuICovXG4gIGxldCBtaXhlcjI1NSA9IDA7XG5cbiAgLyoqIEN1cnJlbnQgc3RhcnQgb2YgdGhlIG1peGVyIHdpbmRvdy4gKi9cbiAgbGV0IGl3ID0gMDtcbiAgLyoqIEluaXRpYWwgbWl4ZXIuICovXG4gIGxldCBtaXhlcjAgPSAwO1xuICAvKiogSW5pdGlhbCBieXRlcyBmb3IgdGhlIG1peGVyLiAqL1xuICBjb25zdCB3aW5kb3cwOiBudW1iZXJbXSA9IFtdO1xuXG4gIGZvciAoaXcgPSAwOyBpdyA8IGtleS5sZW5ndGg7IG1peGVyMCArPSB3aW5kb3cwW2l3XSA9IGtleS5jaGFyQ29kZUF0KGl3KyspKTtcblxuICAvKiogUmVzZXRzIHRoZSBtaXhlciB3aGVuIChlbi9kZSljcnlwdGlvbiBzdGFydHMuICovXG4gIGNvbnN0IHJlc2V0TWl4ZXIgPSBrZXlcbiAgICA/ICgpID0+IHtcbiAgICAgICAgd2luZG93ID0gWy4uLndpbmRvdzBdO1xuICAgICAgICBtaXhlcjI1NSA9IChtaXhlciA9IG1peGVyMCkgJiAyNTU7XG4gICAgICAgIGl3ID0gLTE7XG4gICAgICB9XG4gICAgOiAoKSA9PiB7fTtcblxuICAvKiogVXBkYXRlcyB0aGUgbWl4ZXIgd2l0aCB0aGUgKGVuL2RlKWNyeXB0ZWQgYnl0ZS4gKi9cbiAgY29uc3QgdXBkYXRlTWl4ZXIgPSAoYzogbnVtYmVyKSA9PiAoXG4gICAgKG1peGVyMjU1ID1cbiAgICAgIChtaXhlciArPVxuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgYnl0ZSBsZWF2aW5nIHRoZSB3aW5kb3cuXG4gICAgICAgIC13aW5kb3dbKGl3ID0gKGl3ICsgMSkgJSB3aW5kb3cubGVuZ3RoKV0gK1xuICAgICAgICAvLyBBZGQgdGhlIGJ5dGUgZW50ZXJpbmcgdGhlIHdpbmRvdy5cbiAgICAgICAgKHdpbmRvd1tpd10gPSBjKSkgJiAyNTUpLFxuICAgIGNcbiAgKTtcblxuICByZXR1cm4gW1xuICAgIC8vIEVuY3J5cHRcbiAgICBrZXlcbiAgICAgID8gKHNvdXJjZSkgPT4ge1xuICAgICAgICAgIHJlc2V0TWl4ZXIoKTtcbiAgICAgICAgICBuID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgICBwYWQgPSBNQVhfUEFERElORyAtICgobiArIEVOVFJPUFkpICUgTUFYX1BBRERJTkcpO1xuICAgICAgICAgIHRhcmdldCA9IG5ldyBVaW50OEFycmF5KEVOVFJPUFkgKyBuICsgcGFkKTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBFTlRST1BZIC0gMTsgdGFyZ2V0W2orK10gPSB1cGRhdGVNaXhlcihlbnRyb3B5KCkpKTtcblxuICAgICAgICAgIC8vIEFsaWduIGxhc3QgZW50cm9weSBieXRlIHRvIG1heCBwYWRkaW5nIGFuZCBhZGQgcGFkZGluZy5cbiAgICAgICAgICB0YXJnZXRbaisrXSA9IHVwZGF0ZU1peGVyKFxuICAgICAgICAgICAgbWl4ZXIyNTUgXiAoTUFYX1BBRERJTkcgKiBlbnRyb3B5KDI1NiAvIE1BWF9QQURESU5HKSArIHBhZClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IG47IHRhcmdldFtqKytdID0gdXBkYXRlTWl4ZXIobWl4ZXIyNTUgXiBzb3VyY2VbaSsrXSkpO1xuICAgICAgICAgIHdoaWxlIChwYWQtLSkgdGFyZ2V0W2orK10gPSBlbnRyb3B5KCk7XG5cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICA6IChzb3VyY2UpID0+IHNvdXJjZSxcblxuICAgIC8vIERlY3J5cHRcbiAgICBrZXlcbiAgICAgID8gKHNvdXJjZSkgPT4ge1xuICAgICAgICAgIHJlc2V0TWl4ZXIoKTtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgRU5UUk9QWSAtIDE7IHVwZGF0ZU1peGVyKHNvdXJjZVtpKytdKSk7XG4gICAgICAgICAgbiA9XG4gICAgICAgICAgICBzb3VyY2UubGVuZ3RoIC1cbiAgICAgICAgICAgIEVOVFJPUFkgLVxuICAgICAgICAgICAgLy8gUGFkZGluZy4gSWYgcGFkZGluZyBpcyB6ZXJvIGl0IGFsbCBsYXN0IFBBRERJTkcgY2hhcmFjdGVycyBhcmUgcGFkZGluZy5cbiAgICAgICAgICAgICgobWl4ZXIyNTUgXiB1cGRhdGVNaXhlcihzb3VyY2VbaSsrXSkpICUgTUFYX1BBRERJTkcgfHxcbiAgICAgICAgICAgICAgTUFYX1BBRERJTkcpO1xuICAgICAgICAgIGlmIChuIDw9IDApIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICAgIHRhcmdldCA9IG5ldyBVaW50OEFycmF5KG4pO1xuXG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47IHRhcmdldFtqKytdID0gbWl4ZXIyNTUgXiB1cGRhdGVNaXhlcihzb3VyY2VbaSsrXSkpO1xuICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgIDogKGNpcGhlcikgPT4gY2lwaGVyLFxuXG4gICAgLy8gRk5WMWEgaGFzaCBjb2RlLlxuICAgIChzb3VyY2U6IGFueSwgbnVtZXJpY09yQml0czogYW55ID0gNjQpID0+IHtcbiAgICAgIGlmICghaGFzVmFsdWUoc291cmNlKSkgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgYml0cyA9IGlzQm9vbGVhbihudW1lcmljT3JCaXRzKSA/IDY0IDogbnVtZXJpY09yQml0cztcblxuICAgICAgcmVzZXRNaXhlcigpO1xuXG4gICAgICBbaGFzaCwgcHJpbWVdID0gRk5Wc1tiaXRzXTtcblxuICAgICAgZm9yIChcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIGkgPCBzb3VyY2UubGVuZ3RoO1xuICAgICAgICBoYXNoID0gQmlnSW50LmFzVWludE4oXG4gICAgICAgICAgYml0cyxcbiAgICAgICAgICAoaGFzaCBeIEJpZ0ludChtaXhlcjI1NSBeIHVwZGF0ZU1peGVyKHNvdXJjZVtpKytdKSkpICogcHJpbWVcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG51bWVyaWNPckJpdHMgPT09IHRydWVcbiAgICAgICAgPyBOdW1iZXIoXG4gICAgICAgICAgICBCaWdJbnQoTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpICtcbiAgICAgICAgICAgICAgKGhhc2ggJSBCaWdJbnQoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikpXG4gICAgICAgICAgKVxuICAgICAgICA6IChoYXNoLnRvU3RyaW5nKDM2KSBhcyBhbnkpO1xuICAgIH0sXG4gIF07XG59O1xuIiwi77u/KGZ1bmN0aW9uICgpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0Ly8gU2VyaWFsaXplcyBhIHZhbHVlIHRvIGEgTWVzc2FnZVBhY2sgYnl0ZSBhcnJheS5cclxuXHQvL1xyXG5cdC8vIGRhdGE6IFRoZSB2YWx1ZSB0byBzZXJpYWxpemUuIFRoaXMgY2FuIGJlIGEgc2NhbGFyLCBhcnJheSBvciBvYmplY3QuXHJcblx0Ly8gb3B0aW9uczogQW4gb2JqZWN0IHRoYXQgZGVmaW5lZCBhZGRpdGlvbmFsIG9wdGlvbnMuXHJcblx0Ly8gLSBtdWx0aXBsZTogSW5kaWNhdGVzIHdoZXRoZXIgbXVsdGlwbGUgdmFsdWVzIGluIGRhdGEgYXJlIGNvbmNhdGVuYXRlZCB0byBtdWx0aXBsZSBNZXNzYWdlUGFjayBhcnJheXMuXHJcblx0Ly8gLSBpbnZhbGlkVHlwZVJlcGxhY2VtZW50OiBUaGUgdmFsdWUgdGhhdCBpcyB1c2VkIHRvIHJlcGxhY2UgdmFsdWVzIG9mIHVuc3VwcG9ydGVkIHR5cGVzLCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBzdWNoIGEgdmFsdWUsIGdpdmVuIHRoZSBvcmlnaW5hbCB2YWx1ZSBhcyBwYXJhbWV0ZXIuXHJcblx0ZnVuY3Rpb24gc2VyaWFsaXplKGRhdGEsIG9wdGlvbnMpIHtcclxuXHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0eXBlOiBFeHBlY3RlZCBhbiBBcnJheSB0byBzZXJpYWxpemUgbXVsdGlwbGUgdmFsdWVzLlwiKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHBvdzMyID0gMHgxMDAwMDAwMDA7ICAgLy8gMl4zMlxyXG5cdFx0bGV0IGZsb2F0QnVmZmVyLCBmbG9hdFZpZXc7XHJcblx0XHRsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheSgxMjgpO1xyXG5cdFx0bGV0IGxlbmd0aCA9IDA7XHJcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLm11bHRpcGxlKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGFwcGVuZChkYXRhW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGFwcGVuZChkYXRhKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhcnJheS5zdWJhcnJheSgwLCBsZW5ndGgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZChkYXRhLCBpc1JlcGxhY2VtZW50KSB7XHJcblx0XHRcdHN3aXRjaCAodHlwZW9mIGRhdGEpIHtcclxuXHRcdFx0XHRjYXNlIFwidW5kZWZpbmVkXCI6XHJcblx0XHRcdFx0XHRhcHBlbmROdWxsKGRhdGEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcImJvb2xlYW5cIjpcclxuXHRcdFx0XHRcdGFwcGVuZEJvb2xlYW4oZGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwibnVtYmVyXCI6XHJcblx0XHRcdFx0XHRhcHBlbmROdW1iZXIoZGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwic3RyaW5nXCI6XHJcblx0XHRcdFx0XHRhcHBlbmRTdHJpbmcoZGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwib2JqZWN0XCI6XHJcblx0XHRcdFx0XHRpZiAoZGF0YSA9PT0gbnVsbClcclxuXHRcdFx0XHRcdFx0YXBwZW5kTnVsbChkYXRhKTtcclxuXHRcdFx0XHRcdGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRlKVxyXG5cdFx0XHRcdFx0XHRhcHBlbmREYXRlKGRhdGEpO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSlcclxuXHRcdFx0XHRcdFx0YXBwZW5kQXJyYXkoZGF0YSk7XHJcblx0XHRcdFx0XHRlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBkYXRhIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpXHJcblx0XHRcdFx0XHRcdGFwcGVuZEJpbkFycmF5KGRhdGEpO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEludDhBcnJheSB8fCBkYXRhIGluc3RhbmNlb2YgSW50MTZBcnJheSB8fCBkYXRhIGluc3RhbmNlb2YgVWludDE2QXJyYXkgfHxcclxuXHRcdFx0XHRcdFx0ZGF0YSBpbnN0YW5jZW9mIEludDMyQXJyYXkgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5IHx8XHJcblx0XHRcdFx0XHRcdGRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgZGF0YSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSlcclxuXHRcdFx0XHRcdFx0YXBwZW5kQXJyYXkoZGF0YSk7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGFwcGVuZE9iamVjdChkYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRpZiAoIWlzUmVwbGFjZW1lbnQgJiYgb3B0aW9ucyAmJiBvcHRpb25zLmludmFsaWRUeXBlUmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBvcHRpb25zLmludmFsaWRUeXBlUmVwbGFjZW1lbnQgPT09IFwiZnVuY3Rpb25cIilcclxuXHRcdFx0XHRcdFx0XHRhcHBlbmQob3B0aW9ucy5pbnZhbGlkVHlwZVJlcGxhY2VtZW50KGRhdGEpLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdGFwcGVuZChvcHRpb25zLmludmFsaWRUeXBlUmVwbGFjZW1lbnQsIHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdHlwZTogVGhlIHR5cGUgJ1wiICsgKHR5cGVvZiBkYXRhKSArIFwiJyBjYW5ub3QgYmUgc2VyaWFsaXplZC5cIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmROdWxsKGRhdGEpIHtcclxuXHRcdFx0YXBwZW5kQnl0ZSgweGMwKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmRCb29sZWFuKGRhdGEpIHtcclxuXHRcdFx0YXBwZW5kQnl0ZShkYXRhID8gMHhjMyA6IDB4YzIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZE51bWJlcihkYXRhKSB7XHJcblx0XHRcdGlmIChpc0Zpbml0ZShkYXRhKSAmJiBNYXRoLmZsb29yKGRhdGEpID09PSBkYXRhKSB7XHJcblx0XHRcdFx0Ly8gSW50ZWdlclxyXG5cdFx0XHRcdGlmIChkYXRhID49IDAgJiYgZGF0YSA8PSAweDdmKSB7XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhIDwgMCAmJiBkYXRhID49IC0weDIwKSB7XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID4gMCAmJiBkYXRhIDw9IDB4ZmYpIHsgICAvLyB1aW50OFxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2MsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+PSAtMHg4MCAmJiBkYXRhIDw9IDB4N2YpIHsgICAvLyBpbnQ4XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkMCwgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID4gMCAmJiBkYXRhIDw9IDB4ZmZmZikgeyAgIC8vIHVpbnQxNlxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2QsIGRhdGEgPj4+IDgsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+PSAtMHg4MDAwICYmIGRhdGEgPD0gMHg3ZmZmKSB7ICAgLy8gaW50MTZcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQxLCBkYXRhID4+PiA4LCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZmZmZmZmZikgeyAgIC8vIHVpbnQzMlxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2UsIGRhdGEgPj4+IDI0LCBkYXRhID4+PiAxNiwgZGF0YSA+Pj4gOCwgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID49IC0weDgwMDAwMDAwICYmIGRhdGEgPD0gMHg3ZmZmZmZmZikgeyAgIC8vIGludDMyXHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkMiwgZGF0YSA+Pj4gMjQsIGRhdGEgPj4+IDE2LCBkYXRhID4+PiA4LCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZmZmZmZmZmZmZmZmZmZmKSB7ICAgLy8gdWludDY0XHJcblx0XHRcdFx0XHQvLyBTcGxpdCA2NCBiaXQgbnVtYmVyIGludG8gdHdvIDMyIGJpdCBudW1iZXJzIGJlY2F1c2UgSmF2YVNjcmlwdCBvbmx5IHJlZ2FyZHNcclxuXHRcdFx0XHRcdC8vIDMyIGJpdHMgZm9yIGJpdHdpc2Ugb3BlcmF0aW9ucy5cclxuXHRcdFx0XHRcdGxldCBoaSA9IGRhdGEgLyBwb3czMjtcclxuXHRcdFx0XHRcdGxldCBsbyA9IGRhdGEgJSBwb3czMjtcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQzLCBoaSA+Pj4gMjQsIGhpID4+PiAxNiwgaGkgPj4+IDgsIGhpLCBsbyA+Pj4gMjQsIGxvID4+PiAxNiwgbG8gPj4+IDgsIGxvXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPj0gLTB4ODAwMDAwMDAwMDAwMDAwMCAmJiBkYXRhIDw9IDB4N2ZmZmZmZmZmZmZmZmZmZikgeyAgIC8vIGludDY0XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKDB4ZDMpO1xyXG5cdFx0XHRcdFx0YXBwZW5kSW50NjQoZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPCAwKSB7ICAgLy8gYmVsb3cgaW50NjRcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQzLCAweDgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgeyAgIC8vIGFib3ZlIHVpbnQ2NFxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2YsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmZdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gRmxvYXRcclxuXHRcdFx0XHRpZiAoIWZsb2F0Vmlldykge1xyXG5cdFx0XHRcdFx0ZmxvYXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XHJcblx0XHRcdFx0XHRmbG9hdFZpZXcgPSBuZXcgRGF0YVZpZXcoZmxvYXRCdWZmZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmbG9hdFZpZXcuc2V0RmxvYXQ2NCgwLCBkYXRhKTtcclxuXHRcdFx0XHRhcHBlbmRCeXRlKDB4Y2IpO1xyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKG5ldyBVaW50OEFycmF5KGZsb2F0QnVmZmVyKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmRTdHJpbmcoZGF0YSkge1xyXG5cdFx0XHRsZXQgYnl0ZXMgPSBlbmNvZGVVdGY4KGRhdGEpO1xyXG5cdFx0XHRsZXQgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKGxlbmd0aCA8PSAweDFmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGUoMHhhMCArIGxlbmd0aCk7XHJcblx0XHRcdGVsc2UgaWYgKGxlbmd0aCA8PSAweGZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQ5LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkYSwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRiLCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0YXBwZW5kQnl0ZXMoYnl0ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEFycmF5KGRhdGEpIHtcclxuXHRcdFx0bGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKGxlbmd0aCA8PSAweGYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZSgweDkwICsgbGVuZ3RoKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkYywgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRkLCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG5cdFx0XHRcdGFwcGVuZChkYXRhW2luZGV4XSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmRCaW5BcnJheShkYXRhKSB7XHJcblx0XHRcdGxldCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuXHJcblx0XHRcdGlmIChsZW5ndGggPD0gMHhmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGM0LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNSwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGM2LCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0YXBwZW5kQnl0ZXMoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kT2JqZWN0KGRhdGEpIHtcclxuXHRcdFx0bGV0IGxlbmd0aCA9IDA7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0aWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRsZW5ndGgrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChsZW5ndGggPD0gMHhmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGUoMHg4MCArIGxlbmd0aCk7XHJcblx0XHRcdGVsc2UgaWYgKGxlbmd0aCA8PSAweGZmZmYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZGUsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkZiwgbGVuZ3RoID4+PiAyNCwgbGVuZ3RoID4+PiAxNiwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0bGV0IHZhbHVlID0gZGF0YVtrZXldO1xyXG5cdFx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRhcHBlbmQoa2V5KTtcclxuXHRcdFx0XHRcdGFwcGVuZCh2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kRGF0ZShkYXRhKSB7XHJcblx0XHRcdGxldCBzZWMgPSBkYXRhLmdldFRpbWUoKSAvIDEwMDA7XHJcblx0XHRcdGlmIChkYXRhLmdldE1pbGxpc2Vjb25kcygpID09PSAwICYmIHNlYyA+PSAwICYmIHNlYyA8IDB4MTAwMDAwMDAwKSB7ICAgLy8gMzIgYml0IHNlY29uZHNcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkNiwgMHhmZiwgc2VjID4+PiAyNCwgc2VjID4+PiAxNiwgc2VjID4+PiA4LCBzZWNdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChzZWMgPj0gMCAmJiBzZWMgPCAweDQwMDAwMDAwMCkgeyAgIC8vIDMwIGJpdCBuYW5vc2Vjb25kcywgMzQgYml0IHNlY29uZHNcclxuXHRcdFx0XHRsZXQgbnMgPSBkYXRhLmdldE1pbGxpc2Vjb25kcygpICogMTAwMDAwMDtcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkNywgMHhmZiwgbnMgPj4+IDIyLCBucyA+Pj4gMTQsIG5zID4+PiA2LCAoKG5zIDw8IDIpID4+PiAwKSB8IChzZWMgLyBwb3czMiksIHNlYyA+Pj4gMjQsIHNlYyA+Pj4gMTYsIHNlYyA+Pj4gOCwgc2VjXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7ICAgLy8gMzIgYml0IG5hbm9zZWNvbmRzLCA2NCBiaXQgc2Vjb25kcywgbmVnYXRpdmUgdmFsdWVzIGFsbG93ZWRcclxuXHRcdFx0XHRsZXQgbnMgPSBkYXRhLmdldE1pbGxpc2Vjb25kcygpICogMTAwMDAwMDtcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNywgMTIsIDB4ZmYsIG5zID4+PiAyNCwgbnMgPj4+IDE2LCBucyA+Pj4gOCwgbnNdKTtcclxuXHRcdFx0XHRhcHBlbmRJbnQ2NChzZWMpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQnl0ZShieXRlKSB7XHJcblx0XHRcdGlmIChhcnJheS5sZW5ndGggPCBsZW5ndGggKyAxKSB7XHJcblx0XHRcdFx0bGV0IG5ld0xlbmd0aCA9IGFycmF5Lmxlbmd0aCAqIDI7XHJcblx0XHRcdFx0d2hpbGUgKG5ld0xlbmd0aCA8IGxlbmd0aCArIDEpXHJcblx0XHRcdFx0XHRuZXdMZW5ndGggKj0gMjtcclxuXHRcdFx0XHRsZXQgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xyXG5cdFx0XHRcdG5ld0FycmF5LnNldChhcnJheSk7XHJcblx0XHRcdFx0YXJyYXkgPSBuZXdBcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhcnJheVtsZW5ndGhdID0gYnl0ZTtcclxuXHRcdFx0bGVuZ3RoKys7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kQnl0ZXMoYnl0ZXMpIHtcclxuXHRcdFx0aWYgKGFycmF5Lmxlbmd0aCA8IGxlbmd0aCArIGJ5dGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdGxldCBuZXdMZW5ndGggPSBhcnJheS5sZW5ndGggKiAyO1xyXG5cdFx0XHRcdHdoaWxlIChuZXdMZW5ndGggPCBsZW5ndGggKyBieXRlcy5sZW5ndGgpXHJcblx0XHRcdFx0XHRuZXdMZW5ndGggKj0gMjtcclxuXHRcdFx0XHRsZXQgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xyXG5cdFx0XHRcdG5ld0FycmF5LnNldChhcnJheSk7XHJcblx0XHRcdFx0YXJyYXkgPSBuZXdBcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhcnJheS5zZXQoYnl0ZXMsIGxlbmd0aCk7XHJcblx0XHRcdGxlbmd0aCArPSBieXRlcy5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kSW50NjQodmFsdWUpIHtcclxuXHRcdFx0Ly8gU3BsaXQgNjQgYml0IG51bWJlciBpbnRvIHR3byAzMiBiaXQgbnVtYmVycyBiZWNhdXNlIEphdmFTY3JpcHQgb25seSByZWdhcmRzIDMyIGJpdHMgZm9yXHJcblx0XHRcdC8vIGJpdHdpc2Ugb3BlcmF0aW9ucy5cclxuXHRcdFx0bGV0IGhpLCBsbztcclxuXHRcdFx0aWYgKHZhbHVlID49IDApIHtcclxuXHRcdFx0XHQvLyBTYW1lIGFzIHVpbnQ2NFxyXG5cdFx0XHRcdGhpID0gdmFsdWUgLyBwb3czMjtcclxuXHRcdFx0XHRsbyA9IHZhbHVlICUgcG93MzI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gU3BsaXQgYWJzb2x1dGUgdmFsdWUgdG8gaGlnaCBhbmQgbG93LCB0aGVuIE5PVCBhbmQgQUREKDEpIHRvIHJlc3RvcmUgbmVnYXRpdml0eVxyXG5cdFx0XHRcdHZhbHVlKys7XHJcblx0XHRcdFx0aGkgPSBNYXRoLmFicyh2YWx1ZSkgLyBwb3czMjtcclxuXHRcdFx0XHRsbyA9IE1hdGguYWJzKHZhbHVlKSAlIHBvdzMyO1xyXG5cdFx0XHRcdGhpID0gfmhpO1xyXG5cdFx0XHRcdGxvID0gfmxvO1xyXG5cdFx0XHR9XHJcblx0XHRcdGFwcGVuZEJ5dGVzKFtoaSA+Pj4gMjQsIGhpID4+PiAxNiwgaGkgPj4+IDgsIGhpLCBsbyA+Pj4gMjQsIGxvID4+PiAxNiwgbG8gPj4+IDgsIGxvXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBEZXNlcmlhbGl6ZXMgYSBNZXNzYWdlUGFjayBieXRlIGFycmF5IHRvIGEgdmFsdWUuXHJcblx0Ly9cclxuXHQvLyBhcnJheTogVGhlIE1lc3NhZ2VQYWNrIGJ5dGUgYXJyYXkgdG8gZGVzZXJpYWxpemUuIFRoaXMgbXVzdCBiZSBhbiBBcnJheSBvciBVaW50OEFycmF5IGNvbnRhaW5pbmcgYnl0ZXMsIG5vdCBhIHN0cmluZy5cclxuXHQvLyBvcHRpb25zOiBBbiBvYmplY3QgdGhhdCBkZWZpbmVkIGFkZGl0aW9uYWwgb3B0aW9ucy5cclxuXHQvLyAtIG11bHRpcGxlOiBJbmRpY2F0ZXMgd2hldGhlciBtdWx0aXBsZSBjb25jYXRlbmF0ZWQgTWVzc2FnZVBhY2sgYXJyYXlzIGFyZSByZXR1cm5lZCBhcyBhbiBhcnJheS5cclxuXHRmdW5jdGlvbiBkZXNlcmlhbGl6ZShhcnJheSwgb3B0aW9ucykge1xyXG5cdFx0Y29uc3QgcG93MzIgPSAweDEwMDAwMDAwMDsgICAvLyAyXjMyXHJcblx0XHRsZXQgcG9zID0gMDtcclxuXHRcdGlmIChhcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGVvZiBhcnJheSAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgYXJyYXkubGVuZ3RoID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdHlwZTogRXhwZWN0ZWQgYSBieXRlIGFycmF5IChBcnJheSBvciBVaW50OEFycmF5KSB0byBkZXNlcmlhbGl6ZS5cIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWFycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OiBUaGUgYnl0ZSBhcnJheSB0byBkZXNlcmlhbGl6ZSBpcyBlbXB0eS5cIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIShhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XHJcblx0XHRcdGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGRhdGE7XHJcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLm11bHRpcGxlKSB7XHJcblx0XHRcdC8vIFJlYWQgYXMgbWFueSBtZXNzYWdlcyBhcyBhcmUgYXZhaWxhYmxlXHJcblx0XHRcdGRhdGEgPSBbXTtcclxuXHRcdFx0d2hpbGUgKHBvcyA8IGFycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdGRhdGEucHVzaChyZWFkKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gUmVhZCBvbmx5IG9uZSBtZXNzYWdlIGFuZCBpZ25vcmUgYWRkaXRpb25hbCBkYXRhXHJcblx0XHRcdGRhdGEgPSByZWFkKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWFkKCkge1xyXG5cdFx0XHRjb25zdCBieXRlID0gYXJyYXlbcG9zKytdO1xyXG5cdFx0XHRpZiAoYnl0ZSA+PSAweDAwICYmIGJ5dGUgPD0gMHg3ZikgcmV0dXJuIGJ5dGU7ICAgLy8gcG9zaXRpdmUgZml4aW50XHJcblx0XHRcdGlmIChieXRlID49IDB4ODAgJiYgYnl0ZSA8PSAweDhmKSByZXR1cm4gcmVhZE1hcChieXRlIC0gMHg4MCk7ICAgLy8gZml4bWFwXHJcblx0XHRcdGlmIChieXRlID49IDB4OTAgJiYgYnl0ZSA8PSAweDlmKSByZXR1cm4gcmVhZEFycmF5KGJ5dGUgLSAweDkwKTsgICAvLyBmaXhhcnJheVxyXG5cdFx0XHRpZiAoYnl0ZSA+PSAweGEwICYmIGJ5dGUgPD0gMHhiZikgcmV0dXJuIHJlYWRTdHIoYnl0ZSAtIDB4YTApOyAgIC8vIGZpeHN0clxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjMCkgcmV0dXJuIG51bGw7ICAgLy8gbmlsXHJcblx0XHRcdGlmIChieXRlID09PSAweGMxKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgY29kZSAweGMxIGZvdW5kLlwiKTsgICAvLyBuZXZlciB1c2VkXHJcblx0XHRcdGlmIChieXRlID09PSAweGMyKSByZXR1cm4gZmFsc2U7ICAgLy8gZmFsc2VcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzMpIHJldHVybiB0cnVlOyAgIC8vIHRydWVcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzQpIHJldHVybiByZWFkQmluKC0xLCAxKTsgICAvLyBiaW4gOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNSkgcmV0dXJuIHJlYWRCaW4oLTEsIDIpOyAgIC8vIGJpbiAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNikgcmV0dXJuIHJlYWRCaW4oLTEsIDQpOyAgIC8vIGJpbiAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNykgcmV0dXJuIHJlYWRFeHQoLTEsIDEpOyAgIC8vIGV4dCA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGM4KSByZXR1cm4gcmVhZEV4dCgtMSwgMik7ICAgLy8gZXh0IDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGM5KSByZXR1cm4gcmVhZEV4dCgtMSwgNCk7ICAgLy8gZXh0IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGNhKSByZXR1cm4gcmVhZEZsb2F0KDQpOyAgIC8vIGZsb2F0IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGNiKSByZXR1cm4gcmVhZEZsb2F0KDgpOyAgIC8vIGZsb2F0IDY0XHJcblx0XHRcdGlmIChieXRlID09PSAweGNjKSByZXR1cm4gcmVhZFVJbnQoMSk7ICAgLy8gdWludCA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGNkKSByZXR1cm4gcmVhZFVJbnQoMik7ICAgLy8gdWludCAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjZSkgcmV0dXJuIHJlYWRVSW50KDQpOyAgIC8vIHVpbnQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2YpIHJldHVybiByZWFkVUludCg4KTsgICAvLyB1aW50IDY0XHJcblx0XHRcdGlmIChieXRlID09PSAweGQwKSByZXR1cm4gcmVhZEludCgxKTsgICAvLyBpbnQgOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkMSkgcmV0dXJuIHJlYWRJbnQoMik7ICAgLy8gaW50IDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGQyKSByZXR1cm4gcmVhZEludCg0KTsgICAvLyBpbnQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDMpIHJldHVybiByZWFkSW50KDgpOyAgIC8vIGludCA2NFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkNCkgcmV0dXJuIHJlYWRFeHQoMSk7ICAgLy8gZml4ZXh0IDFcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDUpIHJldHVybiByZWFkRXh0KDIpOyAgIC8vIGZpeGV4dCAyXHJcblx0XHRcdGlmIChieXRlID09PSAweGQ2KSByZXR1cm4gcmVhZEV4dCg0KTsgICAvLyBmaXhleHQgNFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkNykgcmV0dXJuIHJlYWRFeHQoOCk7ICAgLy8gZml4ZXh0IDhcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDgpIHJldHVybiByZWFkRXh0KDE2KTsgICAvLyBmaXhleHQgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDkpIHJldHVybiByZWFkU3RyKC0xLCAxKTsgICAvLyBzdHIgOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYSkgcmV0dXJuIHJlYWRTdHIoLTEsIDIpOyAgIC8vIHN0ciAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYikgcmV0dXJuIHJlYWRTdHIoLTEsIDQpOyAgIC8vIHN0ciAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYykgcmV0dXJuIHJlYWRBcnJheSgtMSwgMik7ICAgLy8gYXJyYXkgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZGQpIHJldHVybiByZWFkQXJyYXkoLTEsIDQpOyAgIC8vIGFycmF5IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGRlKSByZXR1cm4gcmVhZE1hcCgtMSwgMik7ICAgLy8gbWFwIDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGRmKSByZXR1cm4gcmVhZE1hcCgtMSwgNCk7ICAgLy8gbWFwIDMyXHJcblx0XHRcdGlmIChieXRlID49IDB4ZTAgJiYgYnl0ZSA8PSAweGZmKSByZXR1cm4gYnl0ZSAtIDI1NjsgICAvLyBuZWdhdGl2ZSBmaXhpbnRcclxuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcIm1zZ3BhY2sgYXJyYXk6XCIsIGFycmF5KTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBieXRlIHZhbHVlICdcIiArIGJ5dGUgKyBcIicgYXQgaW5kZXggXCIgKyAocG9zIC0gMSkgKyBcIiBpbiB0aGUgTWVzc2FnZVBhY2sgYmluYXJ5IGRhdGEgKGxlbmd0aCBcIiArIGFycmF5Lmxlbmd0aCArIFwiKTogRXhwZWN0aW5nIGEgcmFuZ2Ugb2YgMCB0byAyNTUuIFRoaXMgaXMgbm90IGEgYnl0ZSBhcnJheS5cIik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEludChzaXplKSB7XHJcblx0XHRcdGxldCB2YWx1ZSA9IDA7XHJcblx0XHRcdGxldCBmaXJzdCA9IHRydWU7XHJcblx0XHRcdHdoaWxlIChzaXplLS0gPiAwKSB7XHJcblx0XHRcdFx0aWYgKGZpcnN0KSB7XHJcblx0XHRcdFx0XHRsZXQgYnl0ZSA9IGFycmF5W3BvcysrXTtcclxuXHRcdFx0XHRcdHZhbHVlICs9IGJ5dGUgJiAweDdmO1xyXG5cdFx0XHRcdFx0aWYgKGJ5dGUgJiAweDgwKSB7XHJcblx0XHRcdFx0XHRcdHZhbHVlIC09IDB4ODA7ICAgLy8gVHJlYXQgbW9zdC1zaWduaWZpY2FudCBiaXQgYXMgLTJeaSBpbnN0ZWFkIG9mIDJeaVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Zmlyc3QgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZSAqPSAyNTY7XHJcblx0XHRcdFx0XHR2YWx1ZSArPSBhcnJheVtwb3MrK107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkVUludChzaXplKSB7XHJcblx0XHRcdGxldCB2YWx1ZSA9IDA7XHJcblx0XHRcdHdoaWxlIChzaXplLS0gPiAwKSB7XHJcblx0XHRcdFx0dmFsdWUgKj0gMjU2O1xyXG5cdFx0XHRcdHZhbHVlICs9IGFycmF5W3BvcysrXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEZsb2F0KHNpemUpIHtcclxuXHRcdFx0bGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXkuYnVmZmVyLCBwb3MgKyBhcnJheS5ieXRlT2Zmc2V0LCBzaXplKTtcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdGlmIChzaXplID09PSA0KVxyXG5cdFx0XHRcdHJldHVybiB2aWV3LmdldEZsb2F0MzIoMCwgZmFsc2UpO1xyXG5cdFx0XHRpZiAoc2l6ZSA9PT0gOClcclxuXHRcdFx0XHRyZXR1cm4gdmlldy5nZXRGbG9hdDY0KDAsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkQmluKHNpemUsIGxlbmd0aFNpemUpIHtcclxuXHRcdFx0aWYgKHNpemUgPCAwKSBzaXplID0gcmVhZFVJbnQobGVuZ3RoU2l6ZSk7XHJcblx0XHRcdGxldCBkYXRhID0gYXJyYXkuc3ViYXJyYXkocG9zLCBwb3MgKyBzaXplKTtcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRNYXAoc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IGRhdGEgPSB7fTtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHRsZXQga2V5ID0gcmVhZCgpO1xyXG5cdFx0XHRcdGRhdGFba2V5XSA9IHJlYWQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkQXJyYXkoc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IGRhdGEgPSBbXTtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHRkYXRhLnB1c2gocmVhZCgpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkU3RyKHNpemUsIGxlbmd0aFNpemUpIHtcclxuXHRcdFx0aWYgKHNpemUgPCAwKSBzaXplID0gcmVhZFVJbnQobGVuZ3RoU2l6ZSk7XHJcblx0XHRcdGxldCBzdGFydCA9IHBvcztcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdHJldHVybiBkZWNvZGVVdGY4KGFycmF5LCBzdGFydCwgc2l6ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEV4dChzaXplLCBsZW5ndGhTaXplKSB7XHJcblx0XHRcdGlmIChzaXplIDwgMCkgc2l6ZSA9IHJlYWRVSW50KGxlbmd0aFNpemUpO1xyXG5cdFx0XHRsZXQgdHlwZSA9IHJlYWRVSW50KDEpO1xyXG5cdFx0XHRsZXQgZGF0YSA9IHJlYWRCaW4oc2l6ZSk7XHJcblx0XHRcdHN3aXRjaCAodHlwZSkge1xyXG5cdFx0XHRcdGNhc2UgMjU1OlxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlYWRFeHREYXRlKGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB7IHR5cGU6IHR5cGUsIGRhdGE6IGRhdGEgfTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkRXh0RGF0ZShkYXRhKSB7XHJcblx0XHRcdGlmIChkYXRhLmxlbmd0aCA9PT0gNCkge1xyXG5cdFx0XHRcdGxldCBzZWMgPSAoKGRhdGFbMF0gPDwgMjQpID4+PiAwKSArXHJcblx0XHRcdFx0XHQoKGRhdGFbMV0gPDwgMTYpID4+PiAwKSArXHJcblx0XHRcdFx0XHQoKGRhdGFbMl0gPDwgOCkgPj4+IDApICtcclxuXHRcdFx0XHRcdGRhdGFbM107XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKHNlYyAqIDEwMDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLmxlbmd0aCA9PT0gOCkge1xyXG5cdFx0XHRcdGxldCBucyA9ICgoZGF0YVswXSA8PCAyMikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsxXSA8PCAxNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsyXSA8PCA2KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KGRhdGFbM10gPj4+IDIpO1xyXG5cdFx0XHRcdGxldCBzZWMgPSAoKGRhdGFbM10gJiAweDMpICogcG93MzIpICtcclxuXHRcdFx0XHRcdCgoZGF0YVs0XSA8PCAyNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVs1XSA8PCAxNikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVs2XSA8PCA4KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0ZGF0YVs3XTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCArIG5zIC8gMTAwMDAwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGVuZ3RoID09PSAxMikge1xyXG5cdFx0XHRcdGxldCBucyA9ICgoZGF0YVswXSA8PCAyNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsxXSA8PCAxNikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsyXSA8PCA4KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0ZGF0YVszXTtcclxuXHRcdFx0XHRwb3MgLT0gODtcclxuXHRcdFx0XHRsZXQgc2VjID0gcmVhZEludCg4KTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCArIG5zIC8gMTAwMDAwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIGxlbmd0aCBmb3IgYSBkYXRlIHZhbHVlLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEVuY29kZXMgYSBzdHJpbmcgdG8gVVRGLTggYnl0ZXMuXHJcblx0ZnVuY3Rpb24gZW5jb2RlVXRmOChzdHIpIHtcclxuXHRcdC8vIFByZXZlbnQgZXhjZXNzaXZlIGFycmF5IGFsbG9jYXRpb24gYW5kIHNsaWNpbmcgZm9yIGFsbCA3LWJpdCBjaGFyYWN0ZXJzXHJcblx0XHRsZXQgYXNjaWkgPSB0cnVlLCBsZW5ndGggPSBzdHIubGVuZ3RoO1xyXG5cdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBsZW5ndGg7IHgrKykge1xyXG5cdFx0XHRpZiAoc3RyLmNoYXJDb2RlQXQoeCkgPiAxMjcpIHtcclxuXHRcdFx0XHRhc2NpaSA9IGZhbHNlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3Bhc2NhbGRla2xvZS82MjU0NjEwM2ExNTc2ODAzZGFkZTkyNjljY2Y3NjMzMFxyXG5cdFx0bGV0IGkgPSAwLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGggKiAoYXNjaWkgPyAxIDogNCkpO1xyXG5cdFx0Zm9yIChsZXQgY2kgPSAwOyBjaSAhPT0gbGVuZ3RoOyBjaSsrKSB7XHJcblx0XHRcdGxldCBjID0gc3RyLmNoYXJDb2RlQXQoY2kpO1xyXG5cdFx0XHRpZiAoYyA8IDEyOCkge1xyXG5cdFx0XHRcdGJ5dGVzW2krK10gPSBjO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjIDwgMjA0OCkge1xyXG5cdFx0XHRcdGJ5dGVzW2krK10gPSBjID4+IDYgfCAxOTI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKGMgPiAweGQ3ZmYgJiYgYyA8IDB4ZGMwMCkge1xyXG5cdFx0XHRcdFx0aWYgKCsrY2kgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBlbmNvZGU6IGluY29tcGxldGUgc3Vycm9nYXRlIHBhaXJcIik7XHJcblx0XHRcdFx0XHRsZXQgYzIgPSBzdHIuY2hhckNvZGVBdChjaSk7XHJcblx0XHRcdFx0XHRpZiAoYzIgPCAweGRjMDAgfHwgYzIgPiAweGRmZmYpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGVuY29kZTogc2Vjb25kIHN1cnJvZ2F0ZSBjaGFyYWN0ZXIgMHhcIiArIGMyLnRvU3RyaW5nKDE2KSArIFwiIGF0IGluZGV4IFwiICsgY2kgKyBcIiBvdXQgb2YgcmFuZ2VcIik7XHJcblx0XHRcdFx0XHRjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKGMyICYgMHgwM2ZmKTtcclxuXHRcdFx0XHRcdGJ5dGVzW2krK10gPSBjID4+IDE4IHwgMjQwO1xyXG5cdFx0XHRcdFx0Ynl0ZXNbaSsrXSA9IGMgPj4gMTIgJiA2MyB8IDEyODtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBieXRlc1tpKytdID0gYyA+PiAxMiB8IDIyNDtcclxuXHRcdFx0XHRieXRlc1tpKytdID0gYyA+PiA2ICYgNjMgfCAxMjg7XHJcblx0XHRcdH1cclxuXHRcdFx0Ynl0ZXNbaSsrXSA9IGMgJiA2MyB8IDEyODtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhc2NpaSA/IGJ5dGVzIDogYnl0ZXMuc3ViYXJyYXkoMCwgaSk7XHJcblx0fVxyXG5cclxuXHQvLyBEZWNvZGVzIGEgc3RyaW5nIGZyb20gVVRGLTggYnl0ZXMuXHJcblx0ZnVuY3Rpb24gZGVjb2RlVXRmOChieXRlcywgc3RhcnQsIGxlbmd0aCkge1xyXG5cdFx0Ly8gQmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3Bhc2NhbGRla2xvZS82MjU0NjEwM2ExNTc2ODAzZGFkZTkyNjljY2Y3NjMzMFxyXG5cdFx0bGV0IGkgPSBzdGFydCwgc3RyID0gXCJcIjtcclxuXHRcdGxlbmd0aCArPSBzdGFydDtcclxuXHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XHJcblx0XHRcdGxldCBjID0gYnl0ZXNbaSsrXTtcclxuXHRcdFx0aWYgKGMgPiAxMjcpIHtcclxuXHRcdFx0XHRpZiAoYyA+IDE5MSAmJiBjIDwgMjI0KSB7XHJcblx0XHRcdFx0XHRpZiAoaSA+PSBsZW5ndGgpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAyLWJ5dGUgc2VxdWVuY2VcIik7XHJcblx0XHRcdFx0XHRjID0gKGMgJiAzMSkgPDwgNiB8IGJ5dGVzW2krK10gJiA2MztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoYyA+IDIyMyAmJiBjIDwgMjQwKSB7XHJcblx0XHRcdFx0XHRpZiAoaSArIDEgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgMy1ieXRlIHNlcXVlbmNlXCIpO1xyXG5cdFx0XHRcdFx0YyA9IChjICYgMTUpIDw8IDEyIHwgKGJ5dGVzW2krK10gJiA2MykgPDwgNiB8IGJ5dGVzW2krK10gJiA2MztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoYyA+IDIzOSAmJiBjIDwgMjQ4KSB7XHJcblx0XHRcdFx0XHRpZiAoaSArIDIgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgNC1ieXRlIHNlcXVlbmNlXCIpO1xyXG5cdFx0XHRcdFx0YyA9IChjICYgNykgPDwgMTggfCAoYnl0ZXNbaSsrXSAmIDYzKSA8PCAxMiB8IChieXRlc1tpKytdICYgNjMpIDw8IDYgfCBieXRlc1tpKytdICYgNjM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVVRGLTggZGVjb2RlOiB1bmtub3duIG11bHRpYnl0ZSBzdGFydCAweFwiICsgYy50b1N0cmluZygxNikgKyBcIiBhdCBpbmRleCBcIiArIChpIC0gMSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjIDw9IDB4ZmZmZikgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XHJcblx0XHRcdGVsc2UgaWYgKGMgPD0gMHgxMGZmZmYpIHtcclxuXHRcdFx0XHRjIC09IDB4MTAwMDA7XHJcblx0XHRcdFx0c3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyA+PiAxMCB8IDB4ZDgwMClcclxuXHRcdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjICYgMHgzRkYgfCAweGRjMDApXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGNvZGUgcG9pbnQgMHhcIiArIGMudG9TdHJpbmcoMTYpICsgXCIgZXhjZWVkcyBVVEYtMTYgcmVhY2hcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyO1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIGV4cG9ydGVkIGZ1bmN0aW9uc1xyXG5cdGxldCBtc2dwYWNrID0ge1xyXG5cdFx0c2VyaWFsaXplOiBzZXJpYWxpemUsXHJcblx0XHRkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXHJcblxyXG5cdFx0Ly8gQ29tcGF0aWJpbGl0eSB3aXRoIG90aGVyIGxpYnJhcmllc1xyXG5cdFx0ZW5jb2RlOiBzZXJpYWxpemUsXHJcblx0XHRkZWNvZGU6IGRlc2VyaWFsaXplXHJcblx0fTtcclxuXHJcblx0Ly8gRW52aXJvbm1lbnQgZGV0ZWN0aW9uXHJcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0Ly8gTm9kZS5qc1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBtc2dwYWNrO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdC8vIEdsb2JhbCBvYmplY3RcclxuXHRcdHdpbmRvd1t3aW5kb3cubXNncGFja0pzTmFtZSB8fCBcIm1zZ3BhY2tcIl0gPSBtc2dwYWNrO1xyXG5cdH1cclxuXHJcbn0pKCk7XHJcbiIsImltcG9ydCB7IGRlc2VyaWFsaXplLCBzZXJpYWxpemUgfSBmcm9tIFwiQHlnb2UvbXNncGFja1wiO1xuXG5pbXBvcnQgeyBIYXNoRnVuY3Rpb24sIGZyb202NHUsIGxmc3IsIHRvNjR1IH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7XG4gIElzTmV2ZXIsXG4gIE51bGxpc2gsXG4gIGhhc1ZhbHVlLFxuICBpc0FycmF5LFxuICBpc0RlZmluZWQsXG4gIGlzRnVuY3Rpb24sXG4gIGlzSXRlcmFibGUsXG4gIGlzTnVsbCxcbiAgaXNPYmplY3QsXG4gIGlzU3ltYm9sLFxuICBpc1VuZGVmaW5lZCxcbiAgbmlsLFxuICB0cnlDYXRjaCxcbn0gZnJvbSBcIi4uXCI7XG5cbnR5cGUgQ29udmVydGVyRnVuY3Rpb25WYWx1ZTxUPiA9IFQgZXh0ZW5kcyB7IHRvSlNPTigpOiBpbmZlciBWIH1cbiAgPyBWXG4gIDogVCBleHRlbmRzIHsgdmFsdWVPZigpOiBpbmZlciBWIH1cbiAgPyBWXG4gIDogVDtcblxudHlwZSBDb252ZXJ0ZXJWYWx1ZTxUPiA9IFQgZXh0ZW5kcyBDb252ZXJ0ZXJGdW5jdGlvblZhbHVlPFQ+XG4gID8gbmV2ZXJcbiAgOiBDb252ZXJ0ZXJGdW5jdGlvblZhbHVlPFQ+O1xuXG5leHBvcnQgdHlwZSBFbmNvZGFibGVBcnJheSA9IEVuY29kYWJsZVtdO1xuXG5leHBvcnQgdHlwZSBFbmNvZGFibGVUdXBsZSA9IFsuLi5JdGVtczogRW5jb2RhYmxlW11dO1xuXG5leHBvcnQgdHlwZSBFbmNvZGFibGVPYmplY3QgPSBQYXJ0aWFsPHtcbiAgW0sgaW4gc3RyaW5nIHwgbnVtYmVyXT86IEVuY29kYWJsZTtcbn0+O1xuXG4vKipcbiAqIEFsbCBwb3NzaWJsZSB2YWx1ZXMgdGhhdCBjYW4gYmUgcmVwcmVzZW50ZWQgd2l0aCBKU09OLlxuICovXG5leHBvcnQgdHlwZSBFbmNvZGFibGUgPVxuICB8IG51bGxcbiAgfCB1bmRlZmluZWRcbiAgfCBzdHJpbmdcbiAgfCBudW1iZXJcbiAgfCBib29sZWFuXG4gIHwgRW5jb2RhYmxlQXJyYXlcbiAgfCBFbmNvZGFibGVUdXBsZVxuICB8IEVuY29kYWJsZU9iamVjdDtcblxuLyoqXG4gKiBUaGUgc2hhcGUgb2YgdGhlIGRhdGEgdGhhdCB3aWxsIGNvbWUgYmFjayB3aGVuIGRlY29kaW5nIHRoZSBlbmNvZGVkIHZhbHVlIG9mIGEgdHlwZS5cbiAqXG4gKiBUaGlzIGFzc3VtZXMgdGhhdCBvbmx5IHRoZSBzaGFwZXMgcGVybWl0dGVkIGJ5IHtAbGluayBFbmNvZGFibGV9IGFyZSBzZXJpYWxpemVkLlxuICogT3RoZXJ3aXNlIG5vdCBpZ25vcmVkIHNpbmNlIGZ1bmN0aW9ucyBhcmUgaW4gZmFjdCBzZXJpYWxpemVkIGFzIGB7fWAuXG4gKi9cbmV4cG9ydCB0eXBlIERlY29kZWQ8VCA9IEVuY29kYWJsZT4gPSBFbmNvZGFibGUgZXh0ZW5kcyBUXG4gID8gRW5jb2RhYmxlXG4gIDogVCBleHRlbmRzIHZvaWRcbiAgPyB1bmRlZmluZWQgLy8gRm9yIGFubm95aW5nIHJlYXNvbiwgVHlwZVNjcmlwdCBkaWZmZXJlbnRpYXRlcyBiZXR3ZWVuIGB1bmRlZmluZWRgIGFuZCBgdm9pZGAuIFdlIHdhbnQgYHZvaWRgLlxuICA6IFQgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZFxuICA/IFRcbiAgOiBJc05ldmVyPENvbnZlcnRlclZhbHVlPFQ+PiBleHRlbmRzIGZhbHNlXG4gID8gRGVjb2RlZDxDb252ZXJ0ZXJWYWx1ZTxUPj5cbiAgOiBUIGV4dGVuZHMgYW55W11cbiAgPyB7IFtpbmRleCBpbiBrZXlvZiBUXTogRGVjb2RlZDxUW2luZGV4XT4gfVxuICA6IFQgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPlxuICA/IERlY29kZWQ8VD5bXVxuICA6IFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueVxuICA/IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBvYmplY3RcbiAgPyB7XG4gICAgICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVCBhcyBQIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyXG4gICAgICAgID8gRGVjb2RlZDxUW1BdPiBleHRlbmRzIHVuZGVmaW5lZFxuICAgICAgICAgID8gbmV2ZXJcbiAgICAgICAgICA6IFBcbiAgICAgICAgOiBuZXZlcl06IERlY29kZWQ8VFtQXT47XG4gICAgfVxuICA6IG5ldmVyO1xuXG4vKipcbiAqIFRoZSBicm9hZGVzdCBwb3NzaWJsZSBzdWJ0eXBlIG9mIGEgZ2l2ZW4gdHlwZSB0aGF0IGNhbiBiZSBzZXJpYWxpemVkIGFuZCB0aGVuIGRlc2VyaWFsaXplZCB3aXRob3V0IHZpb2xhdGluZyB0aGUgdHlwZSdzIGNvbnRyYWN0LFxuICogd2l0aCB0aGUgZXhjZXB0aW9uIG9mIHdlbGwta25vd24gc3ltYm9sIHByb3BlcnRpZXMuIFRob3NlIGFyZSBpZ25vcmVkLlxuICpcbiAqIE5vdCB2aW9sYXRpbmcgdGhlIGNvbnN0cmFjdCBkb2VzIG5vdCBtZWFuIHRoYXQgdGhlIHR5cGUgY2FuIGxvc2xlc3NseSBiZSBzZXJpYWxpemVkIGFuZCB0aGVuIGRlc2VyaWFsaXplZCBiYWNrLlxuICogSXQganVzdCBtZWFucyB0aGF0IGl0cyBjb250cmFjdCB3aWxsIG5vdCBiZSB2aW9sYXRlZCBpZiB2YWx1ZXMgb2YgYSBjZXJ0YWluIHR5cGUgYXJlIG9taXR0ZWQgb3IgZGVzZXJpYWxpemVkIGJhY2sgdG8gYW5vdGhlciB2YWxpZCBzdWJ0eXBlLlxuICogRm9yIGV4YW1wbGUsIGFuIGl0ZXJhYmxlIHRoYXQgaXMgbm90IGFuIGFycmF5IHdpbGwgYmUgZGVzZXJpYWxpemVkIGFzIGFuIGFycmF5LlxuICpcbiAqIEluIHBhcnRpY3VsYXIgZnVuY3Rpb25zIG9yIHByb21pc2VzIGFyZSBzZXJpYWxpemVkIGFzIGVtcHR5IG9iamVjdHMgYHt9YCwgYW5kIGNhbm5vdCBiZSBkZXNlcmlhbGl6ZWQgYmFjay5cbiAqIFRoaXMgbWVhbnMgdGhhdCByZXF1aXJlZCBjb25zdHJhaW50cyBvbiBwcm9wZXJpZXMgdGhhdCBvbmx5IGFsbG93IHRoZXNlIHR5cGVzIGNhbiBuZXZlciBiZSBtZXQuXG4gKiBTaW1pbGFybHksIGFycmF5cyB0aGUgY2FuIG9ubHkgaG9sZCBmdW5jdGlvbnMgb3IgcHJvbWlzZXMgbXVzdCBiZSBlbXB0eSAoYG5ldmVyW11gKSB0byBzYXRpc2Z5IHRoZSB0eXBlIGNvbnN0cmFpbnQuXG4gKlxuICovXG5leHBvcnQgdHlwZSBFbmNvZGFibGVDb250cmFjdDxUID0gRW5jb2RhYmxlPiA9IEVuY29kYWJsZSBleHRlbmRzIFRcbiAgPyBFbmNvZGFibGVcbiAgOiBUIGV4dGVuZHMgdm9pZFxuICA/IHVuZGVmaW5lZCAvLyBGb3IgYW5ub3lpbmcgcmVhc29ucywgVHlwZVNjcmlwdCBkaWZmZXJlbnRpYXRlcyBiZXR3ZWVuIGB1bmRlZmluZWRgIGFuZCBgdm9pZGAuIFdlIHdhbnQgYHZvaWRgLlxuICA6IFQgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZCB8IHZvaWRcbiAgPyBUXG4gIDogSXNOZXZlcjxDb252ZXJ0ZXJWYWx1ZTxUPj4gZXh0ZW5kcyBmYWxzZVxuICA/IEVuY29kYWJsZUNvbnRyYWN0PENvbnZlcnRlclZhbHVlPFQ+PlxuICA6IFQgZXh0ZW5kcyBhbnlbXVxuICA/IHsgW2luZGV4IGluIGtleW9mIFRdOiBFbmNvZGFibGVDb250cmFjdDxUW2luZGV4XT4gfVxuICA6IFQgZXh0ZW5kcyBJdGVyYWJsZTxhbnk+XG4gID8gVFxuICA6IFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueVxuICA/IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBvYmplY3RcbiAgPyB7XG4gICAgICAvLyBGdW4gZmFjdDogVHlwZVNjcmlwdCBrZWVwcyBvcHRpb25hbCBwcm9wZXJ0aWVzIGlmIHdlIGl0ZXJhdGUga2V5b2YgUCBhbmQgdGhlbiBleGNsdWRlIHN5bWJvbHMgd2l0aCB0aGUgYGV4dGVuZHNgIGNvbnN0cnVjdC5cbiAgICAgIC8vICBgKGtleW9mIFQgJiBzeW1ib2wpYCBvciBgRXhjbHVkZSA8a2V5b2YgVCwgc3ltYm9sPmAgbWFrZXMgYWxsIHByb3BlcnRpZXMgcmVxdWlyZWQuIChgeyBhPzogdW5kZWZpbmVkfWAgYmVjb21lcyBge2E6dW5kZWZpbmVkfWApXG4gICAgICAvLyBLZWVwaW5nIG9wdGlvbmFsIGB1bmRlZmluZWRgIHByb3BlcnRpZXMgbWVhbnMgdGhhdCB0aGUgcHJvcGVydHkgbmFtZSBpcyBzdGlsbCBhbGxvd2VkIGluIGEgdHlwZSBsaWtlIGB7YSgpPzogYm9vbGVhbn1gLCBldmVuIHRob3VnaCBmdW5jdGlvbnMgYXJlIG5vdCBhbGxvd2VkLlxuICAgICAgW1AgaW4ga2V5b2YgVCBhcyBQIGV4dGVuZHMgc3ltYm9sID8gbmV2ZXIgOiBQXTogRW5jb2RhYmxlQ29udHJhY3Q8VFtQXT47XG4gICAgfVxuICA6IG5ldmVyO1xuXG4vKipcbiAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCB2YWx1ZSB0byBhbiBIVFRQIHF1ZXJ5c3RyaW5nL2hlYWRlciBzYWZlIHN0cmluZywgdGhhdCBpcywgZG9lcyBub3QgbmVlZCB0byBiZSBVUkkgZXNjYXBlZC5cbiAqIFRoZSBmdW5jdGlvbiBpcyBhbmFsb2dvdXMgdG8gYEpTT04uc3RyaW5naWZ5YCwgZXhjZXB0IHRoaXMgb25lIGFsc28gc3VwcG9ydHMgcmVmZXJlbmNlcy5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIHZhbGlkYXRlIFRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdCBvdGhlciB0aGFuIGxldHRpbmcgVHlwZVNjcmlwdCB2YWxpZGF0ZSB3aGV0aGVyIHRoZSB2YWx1ZSBjYW4gYmUgZGVzZXJpYWxpemVkIGJhY2sgdG8gaXRzIG9yaWdpbmFsIGZvcm0gd2l0aG91dCBsb3NpbmcgcHJvcGVydGllcy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgSFRUUCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgRW5jb2RlciA9IHtcbiAgKHZhbHVlOiBhbnksIHZhbGlkYXRlPzogZmFsc2UpOiBzdHJpbmc7XG4gIDxUID0gRW5jb2RhYmxlPih2YWx1ZTogVCAmIEVuY29kYWJsZUNvbnRyYWN0PFQ+LCB2YWxpZGF0ZTogdHJ1ZSk6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIHZhbHVlIGVuY29kZWQgd2l0aCBhbiB7QGxpbmsgRW5jb2Rlcn0uXG4gKi9cbmV4cG9ydCB0eXBlIERlY29kZXIgPSA8VCA9IGFueT4oZW5jb2RlZDogc3RyaW5nIHwgTnVsbGlzaCkgPT4gVCB8IHVuZGVmaW5lZDtcblxuY29uc3QgUkVGX1BST1AgPSBcIiRyZWZcIjtcblxuY29uc3QgZmxvYXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG5jb25zdCBmbG9hdFZpZXcgPSBuZXcgRGF0YVZpZXcoZmxvYXRCdWZmZXIpO1xuXG4vKipcbiAqIE1pc2MuIGZpeGVzIHRvIHRoZSBtc2dwYWNrIGxpYnJhcnkuIEZvciBleGFtcGxlLCBpdCBkb2VzIG5vdCBoYW5kbGUgZXhwb25lbnRpYWwgbnVtYmVycyB3ZWxsLlxuICovXG5jb25zdCBwYXRjaFNlcmlhbGl6ZSA9ICh2YWx1ZTogYW55KSA9PiB7XG4gIGxldCBjbGVhbmVyczogKCgpID0+IHZvaWQpW10gfCB1bmRlZmluZWQ7XG4gIGxldCByZWZzOiBNYXA8YW55LCBudW1iZXI+IHwgdW5kZWZpbmVkO1xuICBsZXQgcmVmSW5kZXg6IG51bWJlcjtcbiAgY29uc3QgcGF0Y2hQcm9wZXJ0eSA9IChcbiAgICB2YWx1ZTogYW55LFxuICAgIGtleTogYW55LFxuICAgIHZhbCA9IHZhbHVlW2tleV0sXG4gICAgcGF0Y2hlZCA9IGlubmVyKHZhbClcbiAgKSA9PiAoXG4gICAgKHZhbCAhPT0gcGF0Y2hlZCB8fCBpc1N5bWJvbChrZXkpKSAmJlxuICAgICAgKCh2YWx1ZVtrZXldID0gcGF0Y2hlZCksIGFkZENsZWFuZXIoKCkgPT4gKHZhbHVlW2tleV0gPSB2YWwpKSksXG4gICAgdmFsXG4gICk7XG4gIGNvbnN0IGFkZENsZWFuZXIgPSAoY2xlYW5lcjogKCkgPT4gdm9pZCkgPT4gKGNsZWFuZXJzID8/PSBbXSkucHVzaChjbGVhbmVyKTtcblxuICBjb25zdCBpbm5lciA9ICh2YWx1ZTogYW55KSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSAmJiAhTnVtYmVyLmlzU2FmZUludGVnZXIodmFsdWUpKSB7XG4gICAgICBmbG9hdFZpZXcuc2V0RmxvYXQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiB7IFwiXCI6IFsuLi5uZXcgVWludDMyQXJyYXkoZmxvYXRCdWZmZXIpXSB9O1xuICAgIH1cblxuICAgIGlmICghaXNPYmplY3QodmFsdWUsIHRydWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKCh2YWx1ZSBhcyBhbnkpLnRvSlNPTiAmJiB2YWx1ZSAhPT0gKHZhbHVlID0gKHZhbHVlIGFzIGFueSkudG9KU09OKCkpKSB7XG4gICAgICByZXR1cm4gaW5uZXIodmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQoKHJlZkluZGV4ID0gKHJlZnMgPz89IG5ldyBNYXAoKSkuZ2V0KHZhbHVlKSkpKSB7XG4gICAgICBpZiAoIXZhbHVlW1JFRl9QUk9QXSkge1xuICAgICAgICAvLyBPbmx5IGFzc2lnbiBJRCBwYXJhbWV0ZXIgaWYgdXNlZC5cbiAgICAgICAgdmFsdWVbUkVGX1BST1BdID0gcmVmSW5kZXg7XG4gICAgICAgIGFkZENsZWFuZXIoKCkgPT4gZGVsZXRlIHZhbHVlW1JFRl9QUk9QXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBbUkVGX1BST1BdOiByZWZJbmRleCB9O1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJlZnMuc2V0KHZhbHVlLCByZWZzLnNpemUgKyAxKTtcblxuICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goXG4gICAgICAgIChrKSA9PlxuICAgICAgICAgIChpc1VuZGVmaW5lZChwYXRjaFByb3BlcnR5KHZhbHVlLCBrKSkgfHwgaXNTeW1ib2woaykpICYmXG4gICAgICAgICAgZGVsZXRlIHZhbHVlW2tdXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgIC8vIEFycmF5IHdpdGggdW5kZWZpbmVkIHZhbHVlcyBvciBpdGVyYWJsZSAod2hpY2ggaXMgbWFkZSBpbnRvIGFycmF5LikuIChbLDEsMiwzXSBkb2VzIG5vdCByZXZlYWwgaXRzIGZpcnN0IGVudHJ5KS5cbiAgICAgICghaXNBcnJheSh2YWx1ZSkgfHwgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA8IHZhbHVlLmxlbmd0aFxuICAgICAgICA/IFsuLi4odmFsdWUgYXMgYW55KV1cbiAgICAgICAgOiB2YWx1ZVxuICAgICAgKS5mb3JFYWNoKChfLCBpKSA9PlxuICAgICAgICBpIGluIHZhbHVlXG4gICAgICAgICAgPyBwYXRjaFByb3BlcnR5KHZhbHVlLCBpKVxuICAgICAgICAgIDogKCh2YWx1ZVtpXSA9IG51bGwpLCBhZGRDbGVhbmVyKCgpID0+IGRlbGV0ZSB2YWx1ZVtpXSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBjb25zdCBzZXJpYWxpemVkID0gc2VyaWFsaXplKGlubmVyKHZhbHVlKSk7XG4gIGNsZWFuZXJzPy5mb3JFYWNoKChjbGVhbmVyKSA9PiBjbGVhbmVyKCkpO1xuICByZXR1cm4gc2VyaWFsaXplZDtcbn07XG5cbmNvbnN0IHBhdGNoRGVzZXJpYWxpemUgPSAodmFsdWU6IFVpbnQ4QXJyYXkpID0+IHtcbiAgbGV0IHJlZnM6IGFueVtdIHwgdW5kZWZpbmVkO1xuICBsZXQgbWF0Y2hlZFJlZjogYW55O1xuXG4gIGNvbnN0IGlubmVyID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlLCB0cnVlKSkgcmV0dXJuIHZhbHVlO1xuXG4gICAgaWYgKGlzQXJyYXkodmFsdWVbXCJcIl0pICYmICh2YWx1ZSA9IHZhbHVlW1wiXCJdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0YVZpZXcobmV3IFVpbnQzMkFycmF5KHZhbHVlKS5idWZmZXIpLmdldEZsb2F0NjQoMCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlW1JFRl9QUk9QXSAmJiAobWF0Y2hlZFJlZiA9IChyZWZzID8/PSBbXSlbdmFsdWVbUkVGX1BST1BdXSkpIHtcbiAgICAgIHJldHVybiBtYXRjaGVkUmVmO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZVtSRUZfUFJPUF0pIHtcbiAgICAgIHJlZnMhW3ZhbHVlW1JFRl9QUk9QXV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtSRUZfUFJPUF07XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goXG4gICAgICAoW2ssIHZdKSA9PiB2ICE9PSAodiA9IGlubmVyKHYpKSAmJiAodmFsdWVba10gPSB2KVxuICAgICk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIGhhc1ZhbHVlKHZhbHVlKVxuICAgID8gdHJ5Q2F0Y2goXG4gICAgICAgICgpID0+IGlubmVyKGRlc2VyaWFsaXplKHZhbHVlKSksXG4gICAgICAgICgpID0+IHVuZGVmaW5lZFxuICAgICAgKVxuICAgIDogdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgVHJhbnNwb3J0ID0gW1xuICBlbmNvZGU6IEVuY29kZXIsXG4gIGRlY29kZTogRGVjb2RlcixcbiAgaGFzaDogSGFzaEZ1bmN0aW9uPHN0cmluZz5cbl07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHBhaXIgb2Yge0BsaW5rIEVuY29kZXJ9IGFuZCB7QGxpbmsgRGVjb2Rlcn1zIGFzIHdlbGwgYXMgYSB7QGxpbmsgSGFzaEZ1bmN0aW9uPHN0cmluZz59LlxuICogTWVzc2FnZVBhY2sgaXMgdXNlZCBmb3Igc2VyaWFsaXphdGlvbiwge0BsaW5rIGxzZnJ9IGVuY3J5cHRpb24gaXMgb3B0aW9uYWxseSB1c2VkIGlmIGEga2V5IGlzIHNwZWNpZmllZCwgYW5kIHRoZSBpbnB1dCBhbmQgb3V0cHV0cyBhcmUgQmFzZTY0VVJMIGVuY29kZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVUcmFuc3BvcnQgPSAoXG4gIGtleT86IG51bGwgfCBzdHJpbmcsXG4gIGpzb24gPSBmYWxzZVxuKTogVHJhbnNwb3J0ID0+IHtcbiAgY29uc3QgW2VuY3J5cHQsIGRlY3J5cHQsIGhhc2hdID0gbGZzcihrZXkgPz8gXCJcIik7XG4gIHJldHVybiBqc29uXG4gICAgPyBbXG4gICAgICAgIChkYXRhOiBhbnkpID0+IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAoZW5jb2RlZCkgPT5cbiAgICAgICAgICBlbmNvZGVkID09IG51bGxcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHRyeUNhdGNoKCgpID0+IEpTT04ucGFyc2UoZW5jb2RlZCwgdW5kZWZpbmVkKSksXG4gICAgICAgIChkYXRhOiBhbnksIG51bWVyaWNPckJpdHM/OiBhbnkpID0+XG4gICAgICAgICAgaGFzaChzZXJpYWxpemUoZGF0YSksIG51bWVyaWNPckJpdHMpIGFzIGFueSxcbiAgICAgIF1cbiAgICA6IFtcbiAgICAgICAgKGRhdGE6IGFueSkgPT4gdG82NHUoZW5jcnlwdChwYXRjaFNlcmlhbGl6ZShkYXRhKSkpLFxuICAgICAgICAoZW5jb2RlZDogYW55KSA9PlxuICAgICAgICAgIGhhc1ZhbHVlKGVuY29kZWQpXG4gICAgICAgICAgICA/IHBhdGNoRGVzZXJpYWxpemUoZGVjcnlwdChmcm9tNjR1KGVuY29kZWQpKSlcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgKGRhdGE6IGFueSwgbnVtZXJpY09yQml0cz86IGFueSkgPT5cbiAgICAgICAgICBoYXNoKHBhdGNoU2VyaWFsaXplKGRhdGEpLCBudW1lcmljT3JCaXRzKSBhcyBhbnksXG4gICAgICBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUcmFuc3BvcnQgPSBjcmVhdGVUcmFuc3BvcnQoKTtcbmV4cG9ydCBjb25zdCBbaHR0cEVuY29kZSwgaHR0cERlY29kZSwgaGFzaF0gPSBkZWZhdWx0VHJhbnNwb3J0O1xuIiwiaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVRyYW5zcG9ydCB9IGZyb20gXCJAdGFpbGpzL3V0aWwvdHJhbnNwb3J0XCI7XHJcbmltcG9ydCB7XHJcbiAgQmluZGVycyxcclxuICBERUJVRyxcclxuICBMaXN0ZW5lcixcclxuICBUQUJfSUQsXHJcbiAgYWRkUGFnZUxpc3RlbmVyLFxyXG4gIGNyZWF0ZUV2ZW50LFxyXG4gIGVycm9yLFxyXG4gIGxpc3RlbixcclxuICBtZXJnZUJpbmRlcnMsXHJcbn0gZnJvbSBcIi5cIjtcclxuXHJcbmV4cG9ydCB0eXBlIE1ldGFkYXRhPFQgPSBhbnk+ID0gW3ZhbHVlOiBULCBzb3VyY2U/OiBzdHJpbmcsIGV4cGlyZXM/OiBudW1iZXJdO1xyXG5cclxuZXhwb3J0IHR5cGUgU3RvcmFnZVByb3ZpZGVyT2JzZXJ2ZXI8VCA9IGFueT4gPSAoXHJcbiAgbmV3VmFsdWU6IE1ldGFkYXRhPFQ+IHwgdW5kZWZpbmVkLFxyXG4gIG9sZFZhbHVlOiBNZXRhZGF0YTxUPiB8IHVuZGVmaW5lZCxcclxuICBrZXk6IHN0cmluZyB8IG51bGxcclxuKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdG9yYWdlUHJvdmlkZXIge1xyXG4gIGdldEl0ZW08VCA9IGFueT4oa2V5OiBzdHJpbmcpOiBNZXRhZGF0YTxUPiB8IG51bGw7XHJcbiAgc2V0SXRlbTxUID0gYW55PihrZXk6IHN0cmluZywgdmFsdWU6IE1ldGFkYXRhPFQ+KTogdm9pZDtcclxuICByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogdm9pZDtcclxuICBvYnNlcnZlPzxUID0gYW55PihrZXk6IHN0cmluZywgb2JzZXJ2ZXI6IFN0b3JhZ2VQcm92aWRlck9ic2VydmVyPFQ+KTogQmluZGVycztcclxufVxyXG5cclxudHlwZSBUeXBlZFN0b3JhZ2VPYnNlcnZlckFyZ3M8VCA9IGFueT4gPSBbXHJcbiAgbmV3VmFsdWU6IFQgfCB1bmRlZmluZWQsXHJcbiAgY29udGV4dDoge1xyXG4gICAga2V5OiBzdHJpbmcgfCBudWxsO1xyXG4gICAgb2xkVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIHNvdXJjZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIHNlbGY/OiBib29sZWFuO1xyXG4gIH1cclxuXTtcclxuZXhwb3J0IHR5cGUgVHlwZWRTdG9yYWdlT2JzZXJ2ZXI8VCA9IGFueT4gPSBMaXN0ZW5lcjxcclxuICBUeXBlZFN0b3JhZ2VPYnNlcnZlckFyZ3M8VD5cclxuPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHlwZWRTdG9yYWdlIHtcclxuICBnZXQ8VCA9IGFueT4oa2V5OiBzdHJpbmcpOiBUIHwgdW5kZWZpbmVkO1xyXG4gIHNldDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQsIHRpbWVvdXQ/OiBudW1iZXIpOiBUO1xyXG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IHZvaWQ7XHJcbiAgdXBkYXRlPFQgPSBhbnk+KFxyXG4gICAga2V5OiBzdHJpbmcsXHJcbiAgICBuZXdWYWx1ZTogKGN1cnJlbnQ6IFQgfCB1bmRlZmluZWQpID0+IFQsXHJcbiAgICB0aW1lb3V0PzogbnVtYmVyXHJcbiAgKTogVDtcclxuICBvYnNlcnZlPzxUID0gYW55PihcclxuICAgIGtleTogc3RyaW5nLFxyXG4gICAgb2JzZXJ2ZXI6IFR5cGVkU3RvcmFnZU9ic2VydmVyPFQ+LFxyXG4gICAgaW5jbHVkZVNlbGY/OiBib29sZWFuXHJcbiAgKTogQmluZGVycztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCb3VuZFN0b3JhZ2U8VCA9IGFueT4ge1xyXG4gIGdldCgpOiBUIHwgdW5kZWZpbmVkO1xyXG4gIHNldDxVbmRlZmluZWQgZXh0ZW5kcyB1bmRlZmluZWQgfCBuZXZlciA9IG5ldmVyPihcclxuICAgIHZhbHVlOiBUIHwgdW5kZWZpbmVkLFxyXG4gICAgdGltZW91dD86IG51bWJlclxyXG4gICk6IFQgfCBVbmRlZmluZWQ7XHJcbiAgZGVsZXRlKCk6IHZvaWQ7XHJcbiAgdXBkYXRlPFVuZGVmaW5lZCBleHRlbmRzIHVuZGVmaW5lZCB8IFQgPSBUPihcclxuICAgIG5ld1ZhbHVlOiAoY3VycmVudDogVCB8IHVuZGVmaW5lZCkgPT4gVCB8IFVuZGVmaW5lZCxcclxuICAgIHRpbWVvdXQ/OiBudW1iZXJcclxuICApOiBUIHwgVW5kZWZpbmVkO1xyXG4gIG9ic2VydmU/KG9ic2VydmVyOiBUeXBlZFN0b3JhZ2VPYnNlcnZlcjxUPiwgaW5jbHVkZVNlbGY/OiBib29sZWFuKTogQmluZGVycztcclxufVxyXG5cclxuY29uc3QgW3NlcmlhbGl6ZSwgZGVzZXJpYWxpemVdID0gY3JlYXRlVHJhbnNwb3J0KFwiZm9vXCIsIERFQlVHKTtcclxuXHJcbmV4cG9ydCBjb25zdCBtYXBTdG9yYWdlID0gPFAgZXh0ZW5kcyBTdG9yYWdlUHJvdmlkZXI+KFxyXG4gIHByb3ZpZGVyOiBQXHJcbik6IFBbXCJvYnNlcnZlXCJdIGV4dGVuZHMgdW5kZWZpbmVkID8gVHlwZWRTdG9yYWdlIDogUmVxdWlyZWQ8VHlwZWRTdG9yYWdlPiA9PiB7XHJcbiAgY29uc3QgW2FkZE93bkxpc3RlbmVyLCBkaXNwYXRjaE93bl0gPSBjcmVhdGVFdmVudDxUeXBlZFN0b3JhZ2VPYnNlcnZlckFyZ3M+KCk7XHJcblxyXG4gIGNvbnN0IGdldCA9IChrZXk6IHN0cmluZykgPT4gcHJvdmlkZXIuZ2V0SXRlbShrZXkpPy5bMF07XHJcbiAgY29uc3Qgc2V0ID0gPFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCB8IHVuZGVmaW5lZCwgdGltZW91dD86IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQoa2V5KTtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgcHJvdmlkZXIucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICBkaXNwYXRjaE93bih1bmRlZmluZWQsIHsga2V5LCBvbGRWYWx1ZSwgc291cmNlOiBUQUJfSUQsIHNlbGY6IHRydWUgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm92aWRlci5zZXRJdGVtKGtleSwgW3ZhbHVlLCBUQUJfSUQsIHRpbWVvdXRdKTtcclxuICAgICAgZGlzcGF0Y2hPd24odmFsdWUsIHsga2V5LCBvbGRWYWx1ZSwgc291cmNlOiBUQUJfSUQsIHNlbGY6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWUgYXMgYW55O1xyXG4gIH07XHJcblxyXG4gIGxldCByZXRyaWVzID0gMDtcclxuICBjb25zdCB1cGRhdGUgPSA8VD4oXHJcbiAgICBrZXk6IHN0cmluZyxcclxuICAgIG5ld1ZhbHVlOiAoY3VycmVudDogVCB8IHVuZGVmaW5lZCkgPT4gVCB8IHVuZGVmaW5lZCxcclxuICAgIHRpbWVvdXQ6IG51bWJlclxyXG4gICkgPT4ge1xyXG4gICAgaWYgKHJldHJpZXMrKyA+IDMpIHtcclxuICAgICAgZXJyb3IoYFJhY2UgY29uZGl0aW9uICgnJHtrZXl9JykuYCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWx1ZSA9IHNldChrZXksIG5ld1ZhbHVlKHByb3ZpZGVyLmdldEl0ZW08VD4oa2V5KT8uWzBdKSk7XHJcbiAgICBjb25zdCB3cml0dGVuVmFsdWUgPSBwcm92aWRlci5nZXRJdGVtKGtleSk7XHJcbiAgICBpZiAod3JpdHRlblZhbHVlPy5bMV0gJiYgd3JpdHRlblZhbHVlPy5bMV0gIT09IFRBQl9JRCkge1xyXG4gICAgICByZXR1cm4gdXBkYXRlKGtleSwgbmV3VmFsdWUsIHRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgcmV0cmllcyA9IDA7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldCxcclxuICAgIHNldCxcclxuICAgIGRlbGV0ZTogKGtleSkgPT4gc2V0KGtleSwgdW5kZWZpbmVkKSxcclxuICAgIHVwZGF0ZSxcclxuICAgIG9ic2VydmU6IHByb3ZpZGVyLm9ic2VydmVcclxuICAgICAgPyAoa2V5LCBsaXN0ZW5lciwgaW5jbHVkZVNlbGYpID0+IHtcclxuICAgICAgICAgIGNvbnN0IFt1bmJpbmQsIGJpbmRdID0gbWVyZ2VCaW5kZXJzKFxyXG4gICAgICAgICAgICBwcm92aWRlci5vYnNlcnZlIShrZXksIChuZXdWYWx1ZSwgb2xkVmFsdWUsIGtleSkgPT5cclxuICAgICAgICAgICAgICBsaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlPy5bMF0sXHJcbiAgICAgICAgICAgICAgICB7IGtleSwgb2xkVmFsdWU6IG9sZFZhbHVlPy5bMF0sIHNvdXJjZTogbmV3VmFsdWU/LlsxXSB9LFxyXG4gICAgICAgICAgICAgICAgdW5iaW5kXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBpbmNsdWRlU2VsZlxyXG4gICAgICAgICAgICAgID8gYWRkT3duTGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICAgICh2YWx1ZSwgY29udGV4dCwgdW5iaW5kKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQua2V5ID09PSBrZXkgJiYgbGlzdGVuZXIodmFsdWUsIGNvbnRleHQsIHVuYmluZClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBbdW5iaW5kLCBiaW5kXTtcclxuICAgICAgICB9XHJcbiAgICAgIDogdW5kZWZpbmVkLFxyXG4gIH0gYXMgVHlwZWRTdG9yYWdlIGFzIGFueTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaGFyZWRTdG9yYWdlID0gbWFwU3RvcmFnZSh7XHJcbiAgZ2V0SXRlbTogKGtleSkgPT4gZGVzZXJpYWxpemUobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSkgPz8gbnVsbCxcclxuICBzZXRJdGVtOiAoa2V5LCB2YWx1ZSkgPT5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxyXG4gICAgICBrZXksXHJcbiAgICAgIHNlcmlhbGl6ZSh2YWx1ZS5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsKSlcclxuICAgICksXHJcbiAgcmVtb3ZlSXRlbTogKGtleSkgPT4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSxcclxuICBvYnNlcnZlOiAoa2V5LCBvYnNlcnZlcikgPT4ge1xyXG4gICAgY29uc3QgW3VuYmluZCwgYmluZF0gPSBsaXN0ZW4oXHJcbiAgICAgIHdpbmRvdyxcclxuICAgICAgXCJzdG9yYWdlXCIsXHJcbiAgICAgICh7IGtleTogY2hhbmdlZEtleSwgbmV3VmFsdWUsIG9sZFZhbHVlIH0pID0+XHJcbiAgICAgICAga2V5ID09IGNoYW5nZWRLZXkgJiZcclxuICAgICAgICBvYnNlcnZlcihkZXNlcmlhbGl6ZShuZXdWYWx1ZSksIGRlc2VyaWFsaXplKG9sZFZhbHVlKSwga2V5KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gbWVyZ2VCaW5kZXJzKFxyXG4gICAgICBbdW5iaW5kLCBiaW5kXSxcclxuICAgICAgYWRkUGFnZUxpc3RlbmVyKFxyXG4gICAgICAgICh2aXNpYmxlLCBsb2FkZWQpID0+ICFsb2FkZWQgJiYgKHZpc2libGUgPyBiaW5kKCkgOiB1bmJpbmQoKSlcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBiaW5kU3RvcmFnZToge1xyXG4gIDxUPihrZXk6IHN0cmluZywgc3RvcmFnZT86IFJlcXVpcmVkPFR5cGVkU3RvcmFnZT4pOiBSZXF1aXJlZDxCb3VuZFN0b3JhZ2U8VD4+O1xyXG4gIDxUPihrZXk6IHN0cmluZywgc3RvcmFnZTogVHlwZWRTdG9yYWdlKTogQm91bmRTdG9yYWdlPFQ+O1xyXG59ID0gPFQ+KFxyXG4gIGtleTogc3RyaW5nLFxyXG4gIHN0b3JhZ2U6IFR5cGVkU3RvcmFnZSA9IHNoYXJlZFN0b3JhZ2VcclxuKTogUmVxdWlyZWQ8Qm91bmRTdG9yYWdlPFQ+PiA9PiAoe1xyXG4gIGdldDogKCkgPT4gc3RvcmFnZS5nZXQ8VD4oa2V5KSxcclxuICBzZXQ6ICh2YWx1ZSwgdGltZW91dCkgPT4gc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSBhcyBhbnksIHRpbWVvdXQpLFxyXG4gIGRlbGV0ZTogKCkgPT4gc3RvcmFnZS5kZWxldGUoa2V5KSxcclxuICB1cGRhdGU6ICh1cGRhdGVyLCB0aW1lb3V0KSA9PiBzdG9yYWdlLnVwZGF0ZShrZXksIHVwZGF0ZXIgYXMgYW55LCB0aW1lb3V0KSxcclxuICBvYnNlcnZlOiBzdG9yYWdlLm9ic2VydmVcclxuICAgID8gKG9ic2VydmVyLCBpbmNsdWRlU2VsZikgPT4gc3RvcmFnZS5vYnNlcnZlIShrZXksIG9ic2VydmVyLCBpbmNsdWRlU2VsZilcclxuICAgIDogdW5kZWZpbmVkISxcclxufSk7XHJcbiIsImV4cG9ydCBjb25zdCBERUJVRyA9IHRydWU7XHJcbmV4cG9ydCBjb25zdCBUQUJfSEVBUlRCRUFUID0gNV8wMDA7XHJcbmV4cG9ydCBjb25zdCBTVEFURV9LRVkgPSBcIl90LnNyXCI7XHJcbiIsImltcG9ydCB7IGlzRGVmaW5lZCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuaW1wb3J0IHsgVEFCX0lELCBiaW5kU3RvcmFnZSwgc2hhcmVkU3RvcmFnZSB9IGZyb20gXCIuXCI7XHJcblxyXG5leHBvcnQgdHlwZSBDaGFubmVsPFQ+ID0ge1xyXG4gIHBvc3Qoc2VuZGVyOiBzdHJpbmcsIHBheWxvYWQ6IFQpOiB2b2lkO1xyXG4gIHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU3luY2hyb25pemVkU3RvcmFnZTxUPiA9IHtcclxuICBnZXQoKTogVCB8IG51bGw7XHJcbiAgdXBkYXRlPFYgZXh0ZW5kcyBUIHwgbnVsbD4odXBkYXRlOiAob2xkVmFsdWU6IFQgfCBudWxsKSA9PiBWKTogVjtcclxufTtcclxuXHJcbnR5cGUgQ2hhbm5lbFBheWxvYWQ8VD4gPSB7XHJcbiAgc2VuZGVyOiBzdHJpbmc7XHJcbiAgcGF5bG9hZDogVDtcclxuICB0YXJnZXQ/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hhbm5lbCA9IDxUPihcclxuICBpZDogc3RyaW5nLFxyXG4gIGhhbmRsZXI6IChzZW5kZXI6IHN0cmluZywgcGF5bG9hZDogVCkgPT4gdm9pZFxyXG4pOiBDaGFubmVsPFQ+ID0+IHtcclxuICBjb25zdCBzdG9yYWdlID0gYmluZFN0b3JhZ2U8Q2hhbm5lbFBheWxvYWQ8VD4+KGlkLCBzaGFyZWRTdG9yYWdlKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHBvc3Q6IChzZW5kZXIsIHBheWxvYWQpID0+IHtcclxuICAgICAgc3RvcmFnZS5zZXQoeyBzZW5kZXIsIHBheWxvYWQgfSk7XHJcbiAgICAgIHN0b3JhZ2UuZGVsZXRlKCk7XHJcbiAgICB9LFxyXG4gICAgdW5zdWJzY3JpYmU6IHN0b3JhZ2Uub2JzZXJ2ZSgodmFsdWUpID0+IHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkgJiYgKCF2YWx1ZS50YXJnZXQgfHwgdmFsdWUudGFyZ2V0ID09PSBUQUJfSUQpKSB7XHJcbiAgICAgICAgaGFuZGxlcih2YWx1ZS5zZW5kZXIsIHZhbHVlLnBheWxvYWQpO1xyXG4gICAgICB9XHJcbiAgICB9KVswXSxcclxuICB9O1xyXG59O1xyXG5cclxubGV0IGNoYXRDaGFubmVsOiBDaGFubmVsPHN0cmluZz4gfCB1bmRlZmluZWQ7XHJcbmV4cG9ydCBjb25zdCBlcnJvcjoge1xyXG4gIChtZXNzYWdlOiBzdHJpbmcsIGZhdGFsOiBib29sZWFuKTogdm9pZDtcclxuICAobWVzc2FnZTogc3RyaW5nLCBjYXVzZT86IGFueSwgZmF0YWw/OiBib29sZWFuKTtcclxufSA9IChtZXNzYWdlOiBzdHJpbmcsIGVycm9yPzogYW55LCB0aHJvd0Vycm9yID0gZmFsc2UpID0+IHtcclxuICBpZiAodHlwZW9mIGVycm9yID09PSBcImJvb2xlYW5cIikge1xyXG4gICAgdGhyb3dFcnJvciA9IGVycm9yO1xyXG4gICAgZXJyb3IgPSBudWxsO1xyXG4gIH1cclxuICBpZiAoZXJyb3I/Lm1lc3NhZ2UpIHtcclxuICAgIG1lc3NhZ2UgKz0gXCIoXCIgKyBlcnJvci5tZXNzYWdlO1xyXG4gICAgZXJyb3Iuc3RhY2sgJiYgKG1lc3NhZ2UgKz0gXCJcXG5cXG5cIiArIGVycm9yLnN0YWNrKTtcclxuICAgIG1lc3NhZ2UgKz0gXCIpXCI7XHJcbiAgfVxyXG4gIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgaWYgKHRocm93RXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBsb2cgPSAobWVzc2FnZTogYW55KSA9PiB7XHJcbiAgY29uc3Qgc291cmNlID0gbWVzc2FnZTtcclxuICB0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiAobWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuXHJcbiAgKGNoYXRDaGFubmVsID8/PSBjcmVhdGVDaGFubmVsPHN0cmluZz4oXCJjaGF0XCIsIChzZW5kZXIsIG1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBPdGhlciB0YWIgKCR7c2VuZGVyfSk6ICR7bWVzc2FnZX1gKTtcclxuICB9KSkucG9zdChUQUJfSUQsIG1lc3NhZ2UpO1xyXG4gIGNvbnNvbGUubG9nKGBUaGlzIHRhYjogJHttZXNzYWdlfWApO1xyXG4gIHJldHVybiBzb3VyY2U7XHJcbn07XHJcbiIsImltcG9ydCB7IGNsZWFyLCBmb3JFYWNoLCBzZXQgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7XHJcbiAgU1RBVEVfS0VZLFxyXG4gIFRBQl9IRUFSVEJFQVQsXHJcbiAgVEFCX0lELFxyXG4gIGFkZFBhZ2VMaXN0ZW5lcixcclxuICBiaW5kU3RvcmFnZSxcclxuICBjcmVhdGVFdmVudCxcclxuICBub3csXHJcbiAgY2xvY2ssXHJcbiAgc2hhcmVkU3RvcmFnZSxcclxufSBmcm9tIFwiLlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVGFiU3RhdGUgPSB7XHJcbiAgaGVhcmJlYXQ6IG51bWJlcjtcclxuICB2aWV3PzogbnVtYmVyO1xyXG4gIG5hdmlnYXRlZD86IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFN0YXRlID0ge1xyXG4gIGtub3duVGFiczogUmVjb3JkPHN0cmluZywgVGFiU3RhdGU+O1xyXG4gIHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgYW55PjtcclxufTtcclxuXHJcbmNvbnN0IGluaXRpYWxTdGF0ZTogU3RhdGUgPSB7XHJcbiAga25vd25UYWJzOiB7fSxcclxuICB2YXJpYWJsZXM6IHt9LFxyXG59O1xyXG5cclxuY29uc3QgW2FkZFN0YXRlTGlzdGVuZXIsIGRpc3BhdGNoXSA9XHJcbiAgY3JlYXRlRXZlbnQ8W2V2ZW50OiBcInJlYWR5XCIgfCBcInVwZGF0ZVwiLCBzdGF0ZTogU3RhdGVdPigpO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IGJpbmRTdG9yYWdlPFN0YXRlPihTVEFURV9LRVksIHNoYXJlZFN0b3JhZ2UpO1xyXG5cclxuY29uc3QgaGVhcnRiZWF0ID0gY2xvY2soKCkgPT4gdG9nZ2xlVGFiKHRydWUpLCBUQUJfSEVBUlRCRUFUKTtcclxubGV0IHRhYlN0YXRlOiBUYWJTdGF0ZSA9IHsgaGVhcmJlYXQ6IG5vdygpIH07XHJcblxyXG5jb25zdCB0b2dnbGVUYWIgPSAobG9hZGluZzogYm9vbGVhbikgPT4ge1xyXG4gIGNvbnN0IGRlYWRsaW5lID0gbm93KCkgLSBUQUJfSEVBUlRCRUFUICogMjtcclxuICBoZWFydGJlYXQudG9nZ2xlKGxvYWRpbmcsIHRydWUpO1xyXG5cclxuICByZXR1cm4gZGlzcGF0Y2goXHJcbiAgICBcInJlYWR5XCIsXHJcbiAgICBzdG9yYWdlLnVwZGF0ZSgoc3RhdGUpID0+IHtcclxuICAgICAgZm9yRWFjaChcclxuICAgICAgICBzdGF0ZT8ua25vd25UYWJzLFxyXG4gICAgICAgIC8vIFJlbW92ZSBpbnRlcnZhbCB0YWJzLlxyXG4gICAgICAgIChbdGFiSWQsIHRhYlN0YXRlXSkgPT5cclxuICAgICAgICAgIHRhYlN0YXRlWzBdIDwgZGVhZGxpbmUgJiYgY2xlYXIoc3RhdGUhLmtub3duVGFicywgdGFiSWQpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0YWJTdGF0ZS5oZWFyYmVhdCA9IG5vdygpO1xyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICBzZXQoXHJcbiAgICAgICAgICAoc3RhdGUgPz89IGluaXRpYWxTdGF0ZSkua25vd25UYWJzLFxyXG4gICAgICAgICAgVEFCX0lELFxyXG4gICAgICAgICAgbG9hZGluZyA/IHRhYlN0YXRlIDogdW5kZWZpbmVkXHJcbiAgICAgICAgKSxcclxuICAgICAgICBzdGF0ZVxyXG4gICAgICApO1xyXG4gICAgfSlcclxuICApO1xyXG59O1xyXG5cclxuYWRkUGFnZUxpc3RlbmVyKCh2aXNpYmxlLCBsb2FkZWQpID0+ICFsb2FkZWQgJiYgdG9nZ2xlVGFiKHZpc2libGUpKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVUYWJTdGF0ZSA9ICh1cGRhdGU6ICh0YWJTdGF0ZTogVGFiU3RhdGUpID0+IHZvaWQpID0+IChcclxuICB1cGRhdGUodGFiU3RhdGUpLCB0b2dnbGVUYWIodHJ1ZSlcclxuKTtcclxuXHJcbmV4cG9ydCB7IGFkZFN0YXRlTGlzdGVuZXIgfTtcclxuIiwiaW1wb3J0IHsgY2xvY2ssIGNyZWF0ZUxvY2ssIGxpc3Rlbiwgbm93LCB1cGRhdGVUYWJTdGF0ZSwgd2FpdCB9IGZyb20gXCIuL2xpYjJcIjtcclxuXHJcbi8vY29uc3QgbGNrID0gY3JlYXRlTG9jayhcInRlc3RcIik7XHJcbmV4cG9ydCBjb25zdCBhdHRhY2ggPSBhc3luYyAoKSA9PiB7XHJcbiAgbGV0IGludm9jYXRpb25zID0gMDtcclxuICBsZXQgY2xpY2tlZCA9IGZhbHNlO1xyXG4gIGNvbnN0IHB1bXAgPSBjbG9jayhcclxuICAgIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2FwdHVyZWRDbGljayA9IGNsaWNrZWQ7XHJcbiAgICAgIGlmICghY2xpY2tlZCAmJiBpbnZvY2F0aW9ucyAlIDIgPT09IDEpIHtcclxuICAgICAgICBhd2FpdCB3YWl0KDE1MDApO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKGAkeysraW52b2NhdGlvbnN9LCBjbGlja2VkOiAke2NhcHR1cmVkQ2xpY2t9LmApO1xyXG4gICAgfSxcclxuICAgIHsgZnJlcXVlbmN5OiAxMDAwLCBxdWV1ZTogZmFsc2UgfVxyXG4gICk7XHJcblxyXG4gIGxpc3Rlbihkb2N1bWVudC5ib2R5LCBcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XHJcbiAgICBjbGlja2VkID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKHB1bXAuYWN0aXZlLCBwdW1wLmJ1c3kpO1xyXG4gICAgZS5zaGlmdEtleSAmJiBwdW1wLnRvZ2dsZSghcHVtcC5hY3RpdmUpO1xyXG4gICAgY29uc29sZS5sb2coYXdhaXQgcHVtcC50cmlnZ2VyKHRydWUpKTtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNsaWNrZWQgPSBmYWxzZTtcclxuICAgIH0pKCk7XHJcbiAgfSk7XHJcbiAgLy8gbGlzdGVuKGRvY3VtZW50LmJvZHksIFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIC8vICAgdXBkYXRlVGFiU3RhdGUoKHRhYikgPT4gKHRhYi5uYXZpZ2F0ZWQgPSBub3coKSkpO1xyXG5cclxuICAvLyAgIGxjayhhc3luYyAoKSA9PiB7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKFwiTG9jayBhY3F1aXJlZC5cIik7XHJcbiAgLy8gICAgIGF3YWl0IHdhaXQoNTAwMCk7XHJcbiAgLy8gICB9KTtcclxuICAvLyB9KTtcclxuICAvLyBsaXN0ZW4oXHJcbiAgLy8gICB3aW5kb3csXHJcbiAgLy8gICBcInBhZ2VzaG93XCIsXHJcbiAgLy8gICAoKSA9PlxyXG4gIC8vICAgICBhY3RpdmVUYWJzLnVwZGF0ZShcclxuICAvLyAgICAgICAoY3VycmVudCkgPT4gKFxyXG4gIC8vICAgICAgICAgKChjdXJyZW50ID0gY2FzdChjdXJyZW50LCBpc09iamVjdCkgPz8ge30pW1RBQl9JRF0gPSBub3coKSksIGN1cnJlbnRcclxuICAvLyAgICAgICApXHJcbiAgLy8gICAgIClcclxuICAvLyAgIC8vYWN0aXZlU3RvcmFnZS51cGRhdGUoKGN1cnJlbnQpID0+IChjdXJyZW50ID8/IDApICsgMSlcclxuICAvLyApO1xyXG4gIC8vIGxpc3RlbihcclxuICAvLyAgIHdpbmRvdyxcclxuICAvLyAgIFwicGFnZWhpZGVcIixcclxuICAvLyAgICgpID0+XHJcbiAgLy8gICAgIGFjdGl2ZVRhYnMudXBkYXRlKFxyXG4gIC8vICAgICAgIChjdXJyZW50KSA9PiAoaXNPYmplY3QoY3VycmVudCkgJiYgZGVsZXRlIGN1cnJlbnRbVEFCX0lEXSwgY3VycmVudClcclxuICAvLyAgICAgKVxyXG4gIC8vICAgLy8gYWN0aXZlU3RvcmFnZS51cGRhdGUoKGN1cnJlbnQ6IGFueSkgPT5cclxuICAvLyAgIC8vICAgY3VycmVudCA+IDAgPyBjdXJyZW50IC0gMSA6IGN1cnJlbnRcclxuICAvLyAgIC8vIClcclxuICAvLyApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBJTklUSUFMSVpFX1RSQUNLRVJfRlVOQ1RJT04gfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuLy9pbXBvcnQgeyBpbml0aWFsaXplVHJhY2tlciB9IGZyb20gXCIuL2luaXRpYWxpemVUcmFja2VyXCI7XG4vL2ltcG9ydCB7IEYsIFQsIGRlZmluZSwgd2luZG93IH0gZnJvbSBcIi4vbGliXCI7XG5pbXBvcnQgeyBhdHRhY2ggfSBmcm9tIFwiLi9wdXNoZXJcIjtcblxuLy8gVGhpcyBhc3N1bWVzIHRoZSBzY3JpcHQgaXMgbG9hZGVkIGZyb20gdGhlIFJlcXVlc3RIYW5kbGVyJ3MgP2NmZyByb3V0ZS5cblxuLy8gVG8gcHJldmVudCBleHRlcm5hbCBzY3JpcHRzIGZyb20gZWF2ZXMtZHJvcHBpbmcgYW5kIGdldCBhIGhvbGQgb2YgdGhlIHN0b3JhZ2Uga2V5LCB0aGlzIGlzIGhvdyBpbml0aWFsaXphdGlvbiB3b3Jrczpcbi8vIDE6IFRoZSBjb25maWd1cmF0aW9uIHNjcmlwdHMgYXBwZW5kcyBhIDxzY3JpcHQ+IGVsZW1lbnQgd2l0aCB0aGlzIHNjcmlwdCwgYW5kIGFkZHMgYSBcImxvYWRlZFwiIGhhbmRsZXIuXG4vLyAyOiBUaGlzIHNjcmlwdCBkZWZpbmVzIGEgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2Qgb24gdGhlIHdpbmRvdy4gVGhpcyBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIG92ZXJyaWRlbiBpZiBzb21ldGhpbmcgaW50ZXJjZXB0cyB0aGUgXCJsb2FkZWRcIiBoYW5kbGVyIGJlZm9yZSB0aGUgY29uZmlndXJhdGlvbiBzY3JpcHQuXG4vLyAzOiBUaGUgY29uZmlndXJhdGlvbiBzY3JpcHQgY2FsbHMgdGhpcyBmdW5jdGlvbiB3aXRoIGEgY2FsbGJhY2sgdGhhdCBpbml0aWFsaXplcyB0aGUgdHJhY2tlciB3aXRoIHRoZSBjb25maWd1cmF0aW9uIGluY2x1ZGluZyB0aGUgc3RvcmFnZSBrZXkuXG5cbndpbmRvd1tJTklUSUFMSVpFX1RSQUNLRVJfRlVOQ1RJT05dID0gKGNhbGxiYWNrOiBhbnkpID0+IHtcbiAgY2FsbGJhY2soYXR0YWNoKTtcbn07XG5cbi8vIGxldCBsb2FkZWQgPSBGO1xuLy8gZGVmaW5lKHdpbmRvdywge1xuLy8gICBbSU5JVElBTElaRV9UUkFDS0VSX0ZVTkNUSU9OXTogW1xuLy8gICAgIChjYWxsYmFjazogKGluaXQ6IHR5cGVvZiBpbml0aWFsaXplVHJhY2tlcikgPT4gdm9pZCkgPT4ge1xuLy8gICAgICAgaWYgKGxvYWRlZCA9PT0gKGxvYWRlZCA9IFQpKSByZXR1cm47XG4vLyAgICAgICBjYWxsYmFjayhpbml0aWFsaXplVHJhY2tlcik7XG4vLyAgICAgfSxcbi8vICAgXSxcbi8vIH0pO1xuIl0sIm5hbWVzIjpbInVuZGVmaW5lZCIsInRyeUNhdGNoIiwiZXhwcmVzc2lvbiIsImVycm9ySGFuZGxlciIsImNsZWFuIiwiZSIsImlzQm9vbGVhbiIsImNvbnNvbGUiLCJlcnJvciIsImlzVW5kZWZpbmVkIiwidmFsdWUiLCJpc0RlZmluZWQiLCJoYXNWYWx1ZSIsImlzVHJ1aXNoIiwiY2FwdHVyZWRJc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwidG9BcnJheSIsImNsb25lIiwiaXNJdGVyYWJsZSIsImlzT2JqZWN0IiwiYWNjZXB0SXRlcmFibGVzIiwiaGFzTWV0aG9kIiwibmFtZSIsImlzU3ltYm9sIiwiaXNGdW5jdGlvbiIsImFjY2VwdFN0cmluZ3MiLCJTeW1ib2wiLCJpdGVyYXRvciIsImlzU3RyaW5nIiwic2xpY2VJdGVyYXRvciIsInNvdXJjZSIsInN0YXJ0IiwiZW5kIiwiaXRlbSIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJjcmVhdGVDb250cm9sbGFibGVJdGVyYXRvciIsImFjdGlvbiIsImNvbGxlY3QiLCJyZXN1bHQiLCJpIiwiZmxhZyIsImNvbnRyb2wiLCJwcmV2Iiwic2tpcCIsImJpbmRlcnMiLCJtYXBJdGVyYXRvciIsIk9iamVjdCIsImVudHJpZXMiLCJzdGVwIiwibWF4SXRlcmF0aW9ucyIsImNyZWF0ZU5hdmlnYXRpbmdJdGVyYXRvciIsImxlbmd0aCIsIm9mZnNldCIsImNyZWF0ZVJhbmdlSXRlcmF0b3IiLCJmb3JFYWNoIiwicmVzdCIsImlubmVyUmV0dXJuVmFsdWUiLCJyZXR1cm5WYWx1ZSIsImluZGV4IiwiXyIsImZpbHRlciIsIm1hcCIsImZpbHRlckl0ZXJhdG9yIiwiZmlsdGVySW50ZXJuYWwiLCJzb21lIiwiZ2V0IiwidGFyZ2V0Iiwia2V5IiwiaW5pdGlhbGl6ZXIiLCJoYXMiLCJzZXQiLCJhcmdzIiwiYnVsayIsInNldFNpbmdsZSIsImNsZWFyIiwiYWRkIiwiZGVsZXRlIiwiZXZlcnkiLCJhc3NpZ24iLCJrIiwidiIsImtleXMiLCJjdXJyZW50Iiwic3BsaWNlIiwibm93IiwiTWF0aCIsInRydW5jIiwicGVyZm9ybWFuY2UiLCJ0aW1lT3JpZ2luIiwiY2xvY2siLCJjYWxsYmFjayIsInNldHRpbmdzIiwicXVldWUiLCJwYXVzZWQiLCJmcmVxdWVuY3kiLCJ0aW1lb3V0SWQiLCJtdXRleCIsImluaXRpYWxWYWx1ZSIsImNhcHR1cmVkUmVzb2x2ZSIsImNhcHR1cmVkUmVqZWN0IiwiY3VycmVudFByb21pc2UiLCJpbnN0YW5jZSIsInJlc29sdmVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXNldCIsInRoZW4iLCJ0aW1lb3V0IiwicmFjZSIsIndhaXQiLCJwcm9taXNlIiwib3V0ZXJDYWxsYmFjayIsImFzeW5jIiwic2tpcFF1ZXVlIiwiYnVzeSIsInRyeUNhdGNoQXN5bmMiLCJjbGVhckludGVydmFsIiwiYWN0aXZlIiwic2V0SW50ZXJ2YWwiLCJyZXN0YXJ0IiwibmV3Q2FsbGJhY2siLCJuZXdGcmVxdWVuY3kiLCJ0b2dnbGUiLCJ0cmlnZ2VyIiwic2V0VGltZW91dCIsIlRBQl9JRCIsInRvU3RyaW5nIiwicmFuZG9tIiwicGFkU3RhcnQiLCJjcmVhdGVCaW5kZXJzIiwibGlzdGVuZXIiLCJhdHRhY2giLCJkZXRhY2giLCJib3VuZCIsIm91dGVyTGlzdGVuZXIiLCJ1bmJpbmQiLCJyZWJpbmQiLCJtZXJnZUJpbmRlcnMiLCJiaW5kZXIiLCJjcmVhdGVFdmVudCIsImxpc3RlbmVycyIsIlNldCIsImhhbmRsZXIiLCJwYXlsb2FkIiwiYWRkTGlzdGVuZXIiLCJkaXNwYXRjaCIsImxpc3RlbiIsIm9wdGlvbnMiLCJjYXB0dXJlIiwicGFzc2l2ZSIsInByb2plY3Rpb24iLCJ1bnNoaWZ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZFBhZ2VMaXN0ZW5lciIsInRyaWdnZXJMb2FkZWQiLCJsb2FkZWQiLCJ2aXNpYmxlIiwiZGlzcGF0Y2hWaXNpYmxlIiwid2luZG93IiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJjb2RlcyIsImNoYXJzIiwiY2hhckNvZGUiLCJzIiwiY2hhckNvZGVBdCIsInAiLCJGTlZzIiwiZW50cm9weSIsIm1heCIsInNlcmlhbGl6ZSIsImRhdGEiLCJtdWx0aXBsZSIsIkVycm9yIiwiZmxvYXRCdWZmZXIiLCJmbG9hdFZpZXciLCJwb3czMiIsImFycmF5IiwiVWludDhBcnJheSIsImFwcGVuZCIsInN1YmFycmF5IiwiaXNSZXBsYWNlbWVudCIsImFwcGVuZE51bGwiLCJhcHBlbmRCeXRlIiwiYXBwZW5kQm9vbGVhbiIsImlzRmluaXRlIiwiZmxvb3IiLCJhcHBlbmRCeXRlcyIsImhpIiwibG8iLCJhcHBlbmRJbnQ2NCIsIkFycmF5QnVmZmVyIiwiRGF0YVZpZXciLCJzZXRGbG9hdDY0IiwiYXBwZW5kTnVtYmVyIiwiYnl0ZXMiLCJzdHIiLCJhc2NpaSIsIngiLCJjaSIsImMiLCJjMiIsImVuY29kZVV0ZjgiLCJhcHBlbmRTdHJpbmciLCJEYXRlIiwic2VjIiwiZ2V0VGltZSIsImdldE1pbGxpc2Vjb25kcyIsIm5zIiwiYXBwZW5kRGF0ZSIsImFwcGVuZEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJhcHBlbmRCaW5BcnJheSIsIkludDhBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsImFwcGVuZE9iamVjdCIsImludmFsaWRUeXBlUmVwbGFjZW1lbnQiLCJieXRlIiwibmV3TGVuZ3RoIiwibmV3QXJyYXkiLCJhYnMiLCJkZXNlcmlhbGl6ZSIsInBvcyIsInB1c2giLCJyZWFkIiwicmVhZE1hcCIsInJlYWRBcnJheSIsInJlYWRTdHIiLCJyZWFkQmluIiwicmVhZEV4dCIsInJlYWRGbG9hdCIsInJlYWRVSW50IiwicmVhZEludCIsImRlYnVnIiwic2l6ZSIsImZpcnN0IiwidmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJnZXRGbG9hdDMyIiwiZ2V0RmxvYXQ2NCIsImxlbmd0aFNpemUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJkZWNvZGVVdGY4IiwidHlwZSIsInJlYWRFeHREYXRlIiwibXNncGFjayIsImVuY29kZSIsImRlY29kZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtc2dwYWNrSnNOYW1lIiwiUkVGX1BST1AiLCJwYXRjaFNlcmlhbGl6ZSIsImNsZWFuZXJzIiwicmVmcyIsInJlZkluZGV4IiwicGF0Y2hQcm9wZXJ0eSIsInZhbCIsInBhdGNoZWQiLCJpbm5lciIsImFkZENsZWFuZXIiLCJjbGVhbmVyIiwiaXNTYWZlSW50ZWdlciIsInRvSlNPTiIsIk1hcCIsInNlcmlhbGl6ZWQiLCJjcmVhdGVUcmFuc3BvcnQiLCJqc29uIiwiZW5jcnlwdCIsImRlY3J5cHQiLCJoYXNoIiwibiIsImoiLCJwYWQiLCJwcmltZSIsIm1peGVyIiwibWl4ZXIyNTUiLCJpdyIsIm1peGVyMCIsIndpbmRvdzAiLCJyZXNldE1peGVyIiwidXBkYXRlTWl4ZXIiLCJFTlRST1BZIiwiY2lwaGVyIiwibnVtZXJpY09yQml0cyIsImJpdHMiLCJCaWdJbnQiLCJhc1VpbnROIiwiTUlOX1NBRkVfSU5URUdFUiIsImxmc3IiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5jb2RlZCIsInBhcnNlIiwiY2h1bmsiLCJiYXNlNjQiLCJ0bzY0dSIsImZyb202NHUiLCJtYXRjaGVkUmVmIiwic2hhcmVkU3RvcmFnZSIsInByb3ZpZGVyIiwiYWRkT3duTGlzdGVuZXIiLCJkaXNwYXRjaE93biIsImdldEl0ZW0iLCJvbGRWYWx1ZSIsInJlbW92ZUl0ZW0iLCJzZWxmIiwic2V0SXRlbSIsInJldHJpZXMiLCJ1cGRhdGUiLCJuZXdWYWx1ZSIsIndyaXR0ZW5WYWx1ZSIsIm9ic2VydmUiLCJpbmNsdWRlU2VsZiIsImJpbmQiLCJjb250ZXh0IiwibWFwU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIm9ic2VydmVyIiwiY2hhbmdlZEtleSIsIm1lc3NhZ2UiLCJ0aHJvd0Vycm9yIiwic3RhY2siLCJpbml0aWFsU3RhdGUiLCJrbm93blRhYnMiLCJ2YXJpYWJsZXMiLCJhZGRTdGF0ZUxpc3RlbmVyIiwic3RvcmFnZSIsInVwZGF0ZXIiLCJiaW5kU3RvcmFnZSIsImhlYXJ0YmVhdCIsInRvZ2dsZVRhYiIsInRhYlN0YXRlIiwiaGVhcmJlYXQiLCJsb2FkaW5nIiwiZGVhZGxpbmUiLCJUQUJfSEVBUlRCRUFUIiwic3RhdGUiLCJ0YWJJZCIsImludm9jYXRpb25zIiwiY2xpY2tlZCIsInB1bXAiLCJjYXB0dXJlZENsaWNrIiwibG9nIiwiYm9keSIsInNoaWZ0S2V5Il0sIm1hcHBpbmdzIjoibUJBTU8sSUNnTU1BLE9BQVksRUFZWkMsRUFBVyxDQUN0QkMsRUFDQUMsR0FBOEMsRUFDOUNDLEtBRUksSUFDRixPQUFPRixVQUNBRyxHQUNILElBQUNDLEVBQVVILEdBQ2IsT0FBT0EsSUFBZUUsR0FFeEIsR0FBSUYsRUFDSSxNQUFBRSxFQUdELE9BRFBFLFFBQVFDLE1BQU1ILEdBQ1BMLENBQUEsQ0FDUCxRQUNRSSxLQUNWLEdBd0NXSyxFQUFlQyxHQUMxQkEsSUFBVVYsRUFFQ1csRUFBZ0JELEdBQzNCQSxJQUFVVixFQU1DWSxFQUNYRixHQWhGaUIsTUFpRmdDQSxFQUV0Q0osRUFBYUksR0FDUCxrQkFBVkEsRUFHSUcsRUFBWUgsS0FBaUJBLEVBc0JwQ0ksRUFBa0JDLE1BQU1DLFFBQ2pCQSxFQUFXTixHQUErQkksRUFBZ0JKLEdBRTFETyxFQUFVLENBQUlQLEVBQXdCUSxHQUFRLElBQ2hELE1BQVRSLEVBQ0ksSUFDQ1EsR0FBU0YsRUFBUU4sR0FDbEJBLEVBQ0FTLEVBQVdULEdBQU8sR0FDbEIsSUFBSUEsR0FDSCxDQUFDQSxHQUVLVSxFQUFXLENBQ3RCVixFQUNBVyxHQUFrQixJQUVsQlgsR0FBMEIsaUJBQVZBLElBQXVCVyxJQUFvQkYsRUFBV1QsSUFFM0RZLEVBQVksQ0FDdkJaLEVBQ0FhLElBT3VDLG1CQUExQmIsSUFBZ0JhLEdBT2xCQyxFQUFZZCxHQUNOLGlCQUFWQSxFQUVJZSxFQUFjZixHQUNSLG1CQUFWQSxFQUVJUyxFQUFhLENBQ3hCVCxFQUNBZ0IsR0FBZ0IsTUFFZGhCLElBQVFpQixPQUFPQyxZQUFjRixJQW5EVCxD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
