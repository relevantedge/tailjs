(()=>{var e,t,r,n,i,a,l,o,u,s,d,v,c,f,p,h,g,m,b,w,k,S,x,T,I;function F(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var j=(e,t=e=>Error(e))=>{throw el(e=e5(e))?t(e):e},U=(e,t,r=-1)=>{if(e===t||null==(null!=e?e:t))return!0;if(!eu(e)&&!ec(e)||!eu(t)&&!ec(t)||e.length!==t.length)return!1;var i,n=0;for(i in e){if(e[i]!==t[i]&&!U(e[i],t[i],r-1))return!1;++n}return n===Object.keys(t).length},M=(e,t,...r)=>e===t||0<r.length&&r.some(t=>M(e,t)),z=(e,t=!0,r)=>{try{return e()}catch(e){return eh(t)?es(e=t(e))?j(e):e:er(t)?console.error(t?j(e):e):t}finally{null!=r&&r()}};class R extends Promise{get initialized(){return null!=this._result}then(e,t){var r;return(null!=(r=this._result)?r:this._result=this._action()).then(e,t)}catch(e){var t;return(null!=(t=this._result)?t:this._result=this._action()).catch(e)}finally(e){var t;return(null!=(t=this._result)?t:this._result=this._action()).finally(e)}constructor(e){super(()=>{}),F(this,"_action",void 0),F(this,"_result",void 0),this._action=e}}var P=e=>new R(async()=>e5(e)),D=async(e,t=!0,r)=>{try{return await e5(e)}catch(e){if(!er(t))return await t(e);if(t)throw e;console.error(e)}finally{await(null==r?void 0:r())}},B=e=>e,W=e=>!!e,J=e=>e===K,L=void 0,V=Number.MAX_SAFE_INTEGER,H=!1,K=!0,G=()=>{},X=e=>e,Z=e=>null!=e,Y=Symbol.iterator,Q=Symbol.asyncIterator,ee=(e,t)=>(r,n=!0)=>e(r)||t&&n&&null!=r&&null!=(r=t(r))?r:L,et=(e,t)=>eh(t)?e!==L?t(e):L:(null==e?void 0:e[t])!==L?e:L,er=e=>"boolean"==typeof e,en=ee(er,e=>0!=e&&(1==e||"false"!==e&&("true"===e||L))),ei=e=>e!==H,ea=e=>"number"==typeof e,el=e=>"string"==typeof e,eo=ee(el,e=>null==e?void 0:e.toString()),eu=Array.isArray,es=e=>e instanceof Error,ed=(e,t=!1)=>null==e?L:!t&&eu(e)?e:eg(e)?[...e]:[e],ev=e=>e&&"object"==typeof e,ec=e=>(null==e?void 0:e.constructor)===Object,ef=(e,t)=>"function"==typeof(null==e?void 0:e[t]),ep=e=>"symbol"==typeof e,eh=e=>"function"==typeof e,eg=(e,t=!1)=>!(null==e||!e[Y]||"string"==typeof e&&!t),em=e=>e instanceof Map,ey=e=>e instanceof Set,eb=(e,t)=>null==e?L:!1===t?e:Math.round(e*(t=Math.pow(10,t&&!0!==t?t:0)))/t,ew=(e,t,r)=>e[0]===t&&e[e.length-1]===r,ek=e=>el(e)&&(ew(e,"{","}")||ew(e,"[","]")),eS=!1,ex=e=>(eS=!0,e),eT=e=>null==e?L:eh(e)?e:t=>t[e],eI=(e,t,r)=>(null!=t?t:r)!==L?(e=eT(e),null==t&&(t=0),null==r&&(r=V),(n,i)=>t--?L:r--?e?e(n,i):n:r):e,eA=e=>null==e?void 0:e.filter(Z),eE=(e,t,r,n)=>null==e?[]:!t&&eu(e)?eA(e):e[Y]?function*(e,t){if(null!=e)if(t){t=eT(t);var r=0;for(n of e)if(null!=(n=t(n,r++))&&(yield n),eS){eS=!1;break}}else for(var n of e)null!=n&&(yield n)}(e,r===L?t:eI(t,r,n)):ev(e)?function*(e,t){t=eT(t);var n,r=0;for(n in e){var i=[n,e[n]];if(null!=(i=t?t(i,r++):i)&&(yield i),eS){eS=!1;break}}}(e,eI(t,r,n)):eE(eh(e)?function*(e,t,r=Number.MAX_SAFE_INTEGER){for(null!=t&&(yield t);r--&&null!=(t=e(t));)yield t}(e,r,n):function*(e=0,t){if(e<0)for(null==t&&(t=-e-1);e++;)yield t--;else for(null==t&&(t=0);e--;)yield t++}(e,r),t),eN=(e,t,r,n)=>eE(e,t,r,n),e$=(e,t,r=1,n=!1,i,a)=>function*e(t,r,n,i){if(null!=t)if(t[Y]||n&&ev(t))for(var a of i?eE(t):t)1!==r?yield*e(a,r-1,n,!0):yield a;else yield t}(eE(e,t,i,a),r+1,n,!1),eO=(e,t,r,n)=>{if(t=eT(t),eu(e)){var i=0,a=[];for(r=r<0?e.length+r:null!=r?r:0,n=n<0?e.length+n:null!=n?n:e.length;r<n&&!eS;r++){var l=e[r];null!=(t?l=t(l,i++):l)&&a.push(l)}return eS=!1,a}return null!=e?tQ(eN(e,t,r,n)):L},eC=(e,t,r,n)=>null!=e?new Set([...eN(e,t,r,n)]):L,e_=(e,t,r=1,n=!1,i,a)=>tQ(e$(e,t,r,n,i,a)),eF=(...e)=>{var t;return ez(1===e.length?e[0]:e,e=>null!=e&&(null!=t?t:t=[]).push(...tQ(e))),t},ej=(e,t,r,n)=>{var i,a,l=0;for(r=r<0?e.length+r:null!=r?r:0,n=n<0?e.length+n:null!=n?n:e.length;r<n;r++)if(null!=e[r]&&(i=null!=(a=t(e[r],l++))?a:i,eS)){eS=!1;break}return i},eU=(e,t)=>{var r,n,a,i=0;for(a of e)if(null!=a&&(r=null!=(n=t(a,i++))?n:r,eS)){eS=!1;break}return r},eM=(e,t)=>{var r,n,a,i=0;for(a in e)if(r=null!=(n=t([a,e[a]],i++))?n:r,eS){eS=!1;break}return r},eq=(e,t,r,n)=>{var i;if(null!=e){if(eu(e))return ej(e,t,r,n);if(r===L){if(e[Y])return eU(e,t);if("object"==typeof e)return eM(e,t)}for(var a of eE(e,t,r,n))null!=a&&(i=a);return i}},ez=eq,eR=async(e,t,r,n)=>{var i,a;if(null==e)return L;for(a of eN(e,t,r,n))if(null!=(a=await a)&&(i=a),eS){eS=!1;break}return i},eP=(e,t)=>{if(null==e)return L;var r={};if(t){var n,a,i=0;for(a in e)(n=t([a,e[a]],i++))&&(r[n[0]]=n[1])}else for(var l of e)l&&(r[l[0]]=l[1]);return r},eD=(e,t,r)=>{var n,i,a;return null==e?L:er(t)||r?(a={},ez(e,r?(e,n)=>null!=(e=t(e,n))&&null!=(e[1]=r(a[e[0]],e[1]))&&(a[e[0]]=e[1]):e=>ez(e,t?e=>{var t;return null!=(null==e?void 0:e[1])&&((null!=(t=(n=a)[i=e[0]])?t:n[i]=[]).push(e[1]),a)}:e=>null!=(null==e?void 0:e[1])&&(a[e[0]]=e[1],a))),a):eP(eO(e,t?(e,r)=>et(t(e,r),1):e=>et(e,1)))},eB=(e,t,r,n,i)=>{var l=()=>eh(r)?r():r;return null!=(e=eq(e,(e,n)=>r=null!=(e=t(r,e,n))?e:l(),n,i))?e:l()},eW=(e,t,r,n)=>eO(e,(e,r)=>e&&null!=t&&t(e,r)?e:L,r,n),eJ=(e,t)=>{var r,n;if(null==e)return L;if(!t){if(null!=(r=null!=(n=e.length)?n:e.size))return r;if(!e[Y])return Object.keys(e).length}return r=0,null!=(n=eq(e,t?(e,n)=>t(e,n)?++r:r:()=>++r))?n:0},eL=(e,...t)=>null==e?L:ea(e)?Math.max(e,...t):eB(e,(e,r,n,i=t[1]?t[1](r,n):r)=>null==e||ea(i)&&e<i?i:e,L,t[2],t[3]),eH=(e,t,r,n)=>{var i;return null==e?L:ec(e)&&!t?0<Object.keys(e).length:null!=(i=null!=(i=null==(i=e.some)?void 0:i.call(e,null!=t?t:W))?i:eq(e,t?(e,r)=>!!t(e,r)&&ex(!0):()=>ex(!0),r,n))&&i},eK=(e,t=e=>e)=>{var r;return null!=(r=ed(e))&&r.sort((e,r)=>t(e)-t(r)),e},eG=(e,t,r)=>(e.constructor===Object||eu(e)?void 0===r?delete e[t]:e[t]=r:void 0===r?e.delete?e.delete(t):delete e[t]:e.set?e.set(t,r):e.add?r?e.add(t):e.delete(t):e[t]=r,r),eX=(e,t,r)=>{var n;if(e)return void 0===(n=e.get?e.get(t):e.has?e.has(t):e[t])&&null!=r&&null!=(n=eh(r)?r():r)&&eG(e,t,n),n},eZ=(e,...t)=>(ez(t,t=>ez(t,([t,r])=>{null!=r&&(ec(e[t])&&ec(r)?eZ(e[t],r):e[t]=r)})),e),eY=(e,t,r,n)=>{if(e)return null!=r?eG(e,t,r,n):(ez(t,t=>eu(t)?eG(e,t[0],t[1]):ez(t,([t,r])=>eG(e,t,r))),e)},eQ=(e,t,r)=>{var n;return ef(e,"set")?void 0===(n=r(e.get(t)))?e.delete(t):e.set(t,n):ef(e,"add")?r(n=e.has(t))?e.add(t):e.delete(t):e&&void 0===(n=e[t]=r(e[t]))&&ec(e)&&delete e[t],e},e2=(e,t)=>{if(e)return eu(t)?(eu(e)&&1<e.length?t.sort((e,t)=>t-e):t).map(t=>e2(e,t)):eu(e)?t<e.length?e.splice(t,1)[0]:void 0:((e,t)=>{var r;if(null!=(null!=e?e:t))return r=eX(e,t),ef(e,"delete")?e.delete(t):delete e[t],r})(e,t)},e5=e=>eh(e)?e():e,e3=(e,t=-1)=>eu(e)?t?e.map(e=>e3(e,t-1)):[...e]:ec(e)?t?eD(e,([e,r])=>[e,e3(r,t-1)]):{...e}:ey(e)?new Set(t?eO(e,e=>e3(e,t-1)):e):em(e)?new Map(t?eO(e,e=>[e[0],e3(e[1],t-1)]):e):e,e6=(e,...t)=>null==e?void 0:e.push(...t),e4=(e,...t)=>null==e?void 0:e.unshift(...t),e8=(e,t)=>{var r,i,a;if(e)return ec(t)?(a={},ec(e)&&(ez(e,([e,l])=>{if(!U(l,t[e],-1)){if(ec(r=l)){if(!(l=e8(l,t[e])))return;[l,r]=l}else ea(l)&&ea(void 0)&&(l=(r=l)-void 0);a[e]=l,(null!=i?i:i=e3(t))[e]=r}}),i)?[a,i]:void 0):[e,e]},e9="undefined"!=typeof performance?(e=K)=>e?Math.trunc(e9(H)):performance.timeOrigin+performance.now():Date.now,e7=(e=!0,t=()=>e9())=>{var r,n=+e*t(),i=0;return(a=e,l)=>(r=e?i+=-n+(n=t()):i,l&&(i=0),(e=a)&&(n=t()),r)},tt=(e,t=0)=>{var e=eh(e)?{frequency:t,callback:e}:e,{queue:i=!0,paused:a=!1,trigger:l=!1,once:o=!1,callback:u=()=>{},raf:s}=e,d=(t=null!=(e=e.frequency)?e:0,0),v=to(!0).resolve(),c=e7(!a),f=c(),p=async e=>{if(!d||!i&&v.pending&&!0!==e)return!1;if((y.busy=!0)!==e)for(;v.pending;)await v;return e||v.reset(),(!1===await D(()=>u(c(),-f+(f=c())),!1,()=>!e&&v.resolve())||t<=0||o)&&m(!1),!(y.busy=!1)},h=()=>d=setTimeout(()=>s?requestAnimationFrame(g):g(),t<0?-t:t),g=()=>{y.active&&p(),y.active&&h()},m=(e,t=!e)=>(c(e,t),clearTimeout(d),y.active=!!(d=e?h():0),y),y={active:!1,busy:!1,restart:(e,r)=>(t=null!=e?e:t,u=null!=r?r:u,m(!0,!0)),toggle:(e,t)=>e!==y.active?e?t?(m(!0),y.trigger(),y):m(!0):m(!1):y,trigger:async e=>await p(e)&&(m(y.active),!0)};return y.toggle(!a,l)};function tr(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}class tn{get value(){return this._promise.value}get error(){return this._promise.error}get pending(){return this._promise.pending}resolve(e,t=!1){return this._promise.resolve(e,t),this}reject(e,t=!1){return this._promise.reject(e,t),this}reset(){return this._promise=new ti,this}signal(e){return this.resolve(e),this.reset(),this}then(e,t){return this._promise.then(e,t)}constructor(){tr(this,"_promise",void 0),this.reset()}}class ti{then(e,t){return this._promise.then(e,t)}constructor(){var e;tr(this,"_promise",void 0),tr(this,"resolve",void 0),tr(this,"reject",void 0),tr(this,"value",void 0),tr(this,"error",void 0),tr(this,"pending",!0),this._promise=new Promise((...t)=>{e=t.map((e,t)=>(r,n)=>{if(this.pending)return this.pending=!1,this[t?"error":"value"]=r===L||r,e(r),this;if(n)return this;throw TypeError("Promise already resolved/rejected.")})}),[this.resolve,this.reject]=e}}var tl=(e,t)=>null==e||isFinite(e)?!e||e<=0?e5(t):new Promise(r=>setTimeout(async()=>r(await e5(t)),e)):j(`Invalid delay ${e}.`),to=e=>new(e?tn:ti),ts=(e,t,r)=>{var n=!1,i=(...t)=>e(...t,a),a=()=>n!==(n=!1)&&(r(i),!0),l=()=>n!==(n=!0)&&(t(i),!0);return l(),[a,l]},ee=()=>{var e,t=new Set;return[(r,n)=>{var i=ts(r,e=>t.add(e),e=>t.delete(e));return n&&e&&r(...e,i[0]),i},(...r)=>(e=r,t.forEach(e=>e(...r)))]},tv=(e,t,r)=>null==e?L:eu(t)?null==(t=t[0])?L:t+" "+tv(e,t,r):null==t?L:1===t?e:null!=r?r:"is"===e?"are":e+"s",tc=!0,tf=(e,t,r)=>r?(tc&&e6(r,"[",t,"m"),eu(e)?e6(r,...e):e6(r,e),tc&&e6(r,"[m"),r):tf(e,t,[]).join(""),tp=(e,t,r=!1)=>e&&(e.length>t?r?`${e.slice(0,t)}... [and ${e.length-t} more]`:e.slice(0,t-1)+"â€¦":e),tg=(e,t)=>{var l,r=[],n={},i={},a=0;for(l in t)l===t[l]&&(Object.defineProperty(i,l,{value:l,writable:!1,enumerable:!0,configurable:!1}),n[l]=a++,r.push(l));var o=(t,r=!0)=>null==t?L:null!=n[t]?t:r?j(`The ${e} "${t}" is not defined.`):L,u={writable:!1,enumerable:!1,configurable:!1};return Object.defineProperties(i,{parse:{value:o,...u},ranks:{value:n,...u},levels:{value:r,...u},compare:{value(e,t){e=n[o(e)],t=n[o(t)];return e<t?-1:+(t<e)},...u}}),i},tm=Symbol(),ty=(e,{delimiters:t=["|",";",","],decode:r=!0,lowerCase:n}={})=>{var i,l;return e?(null==(l=e.split("=").map(e=>(e=r?decodeURIComponent(e.trim()).replaceAll("+"," "):e.trim(),n?e.toLowerCase():e)))[1]&&(l[1]=""),l[2]=l[1]&&(el(t)?t=[t]:eu(t))&&tV(t,e=>1<(i=l[1].split(e)).length?tR(i):L)||(l[1]?[l[1]]:[]),l):L},tb=(e,{delimiters:t=!0,requireAuthority:r,...n}={})=>null==e?L:tT(e,/^(?:(?:([\w+.-]+):)?(\/\/)?)?((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))?(?::(\d*))?)?(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/g,(e,r,i,a,l,o,u,s,d,v,c,f)=>{e={source:e,scheme:r,urn:r?!i:!i&&L,authority:a,user:l,password:o,host:null!=u?u:s,port:null!=d?parseInt(d):L,path:v,query:!1===t?c:c?tw(c,{...n,delimiters:t}):L,fragment:f};return e.path=e.path||(e.authority?e.urn?"":"/":L),e}),tw=(e,t)=>tk(e,"&",t),tk=(e,t,{delimiters:r=!0,...n}={})=>{e=tH(null==e||null==(e=e.match(/(?:^.*?\?|^)([^#]*)/))||null==(e=e[1])?void 0:e.split(t),e=>{var[e,a,l]=null!=(e=ty(e,{...n,delimiters:!1===r?[]:!0===r?L:r}))?e:[];return null!=(e=null==e?void 0:e.replace(/\[\]$/,""))?!1!==r?[e,1<l.length?l:a]:[e,a]:tz}),t=rr(tX(e,!1),([e,t])=>[e,!1!==r?1<t.length?t1(t):t[0]:t.join(",")]);return t&&(t[tm]=e),t},tS=(e,t)=>t&&null!=e?t.test(e):L,tx=(e,t,r)=>tT(e,t,r,!0),tT=(e,t,i,a=!1)=>null==(null!=e?e:t)?L:i?(r=L,a?(n=[],tT(e,t,(...e)=>null!=(r=i(...e))&&n.push(r))):e.replace(t,(...e)=>r=i(...e)),r):null!=(a=e.match(t))?a:L,tI=e=>null==e?void 0:e.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),tA=/\z./g,tE=(e,t)=>(t=ro(eC(eW(e,e=>null==e?void 0:e.length)),"|"))?RegExp(t,"gu"):tA,tN={},t$=e=>e instanceof RegExp,tO=(r,n=[","," "])=>{var i;return t$(r)?r:eu(r)?tE(eO(r,e=>null==(e=tO(e,n))?void 0:e.source)):er(r)?r?/./g:tA:el(r)?null!=(i=(e=tN)[t=r])?i:e[t]=tT(r||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,r)=>t?RegExp(t,"gu"):tE(eO(tC(r,RegExp(`(?<!(?<!\\\\)\\\\)[${ro(n,tI)}]`)),e=>e&&`^${ro(tC(e,RegExp("(?<!(?<!\\\\)\\\\)\\*")),e=>tI(t_(e,/\\(.)/g,"$1")),".*")}$`))):L},tC=(e,t,r=!0)=>null==e?L:r?tC(e,t,!1).filter(X):e.split(t),t_=(e,t,r)=>null!=(t=null==e?void 0:e.replace(t,r))?t:e,tF=(e=(e,t)=>e-t,t=e=>e[1]-e[0])=>{var r=[];return eY(r,{push(n,i){for(var a=[n,i],l=(e=!0)=>e?r.width=r.reduce((e,r)=>e+t(r),0):r.width,o=0;o<r.length;o++){var u,s,d=r[o];if(e(a[1],d[0])<0)return l(r.splice(o,0,a));if(e(a[0],d[1])<=0){if(e(a[0],d[0])<0&&(u=d[0]=a[0]),0<e(a[1],d[1])&&(u=d[1]=a[1]),!((null==(s=r[o+1])?void 0:s[0])<d[1]))return l(null!=u);u=a=r.splice(o--,1)[0]}}return l(a&&(r[r.length]=a))},width:0})},tj=e=>{for(var t=e;t;)t=Object.getPrototypeOf(e=t);return e},tU=(e,t)=>{if(!e||tj(e)===t)return e;for(var r of e.document.getElementsByTagName("iframe"))try{if(e=tU(r.contentWindow,t))return e}catch{}},tM=e=>null==e?e:globalThis.window?tU(window,tj(e)):globalThis,tq=!1,tz=Symbol(),tR=e=>(tq=!0,e),tP=Symbol(),tD=Symbol(),tB=Symbol.iterator,tW=(e,t,r)=>{if(null==e||e[tP])throw t;e=tM(e);if(!e)throw t;var l,i=()=>(e,t,r,n,i)=>{var a,o,l=0;for(o of e)if((a=t?t(o,l++,n,i):o)!==tz){if(a===tR)break;if(n=a,r&&r.push(a),tq){tq=!1;break}}return r||n},a=(e.Array.prototype[tP]=(e,t,r,n,i)=>{for(var l,o=0,u=e.length;o<u;o++)if(l=e[o],(l=t?t(l,o,n,i):l)!==tz){if(l===tR)break;if(n=l,r&&r.push(l),tq){tq=!1;break}}return r||n},i());for(l of(e.Object.prototype[tP]=(e,t,r,n,l)=>{if(e[tB])return(e.constructor===Object?a:Object.getPrototypeOf(e)[tP]=i())(e,t,r,n,l);var u,d,s=0;for(d in e)if(u=[d,e[d]],(u=t?t(u,s++,n,l):u)!==tz){if(u===tR)break;if(n=u,r&&r.push(u),tq){tq=!1;break}}return r||n},e.Object.prototype[tD]=function(){var t,e;return this[tB]||this[Q]?this.constructor===Object?null!=(e=this[Q]())?e:this[tB]():((e=Object.getPrototypeOf(this))[tD]=null!=(t=e[Q])?t:e[tB],this[tD]()):function*(e){for(var t in e)yield[t,e[t]]}(this)},[e.Map.prototype,e.WeakMap.prototype,e.Set.prototype,e.WeakSet.prototype,Object.getPrototypeOf(function*(){})]))l[tP]=i(),l[tD]=l[tB];return e.Number.prototype[tP]=(e,t,r,n,i)=>a(tJ(e),t,r,n,i),e.Number.prototype[tD]=tJ,e.Function.prototype[tP]=(e,t,r,n,i)=>a(tL(e),t,r,n,i),e.Function.prototype[tD]=tL,r()};function*tJ(e=this){for(var t=0;t<e;t++)yield t}function*tL(e=this){for(var t=void 0;void 0!==(t=e(t));)yield t}var tV=(e,t,r,n)=>{try{return e?e[tP](e,t,void 0,r,n):null==e?e:void 0}catch(i){return tW(e,i,()=>tV(e,t,r,n))}},tH=(e,t,r=[],n,i=e)=>{try{return e||0===e||""===e?e[tP](e,t,r,n,i):null==e?e:void 0}catch(a){return tW(e,a,()=>tH(e,t,r,n,i))}},tK=(e,t=!0,r=!1)=>tH(e,!0===t?e=>null!=e?e:tz:t?t.has?e=>null==e||t.has(e)===r?tz:e:(e,n,i)=>!t(e,n,i)===r?e:tz:e=>e||tz),tG=(e,t,r=-1,n=[],i,a=e)=>tH(e,(e,i,a)=>null!=(t?e=t(e,i,a):e)&&e[Symbol.iterator]&&"string"!=typeof e&&r?(tG(e,void 0,r-1,n,e),tz):e,n,i,a),tX=(e,t,r)=>{var n,i,a,l;return null!=t&&"function"!=typeof t&&([t,r]=[void 0,t]),tV(e,!1!==r?(a=new Map,(e,r,n)=>{void 0!==(l=t?t(e,r,n):e)[0]&&t9(a,l[0],()=>[]).push(l[1])}):(a={},(e,r,o)=>(l=t?t(e,r,o):e)&&void 0!==l[0]&&(null!=(r=(n=a)[i=l[0]])?r:n[i]=[]).push(l[1]))),a},tQ=e=>null==e||eu(e)?e:e[tB]&&"string"!=typeof e?[...e]:[e],t0=(e,t)=>!0===tV(e,(r,n,i)=>(t?t(r,n,i,e):r)?tq=!0:r),t1=(e,...t)=>{var r,n;for(n of e=!t.length&&eg(e)?e:[e,...t])if(null!=n){if(eg(n)){(null!=r?r:r=[]).push(...n);continue}(null!=r?r:r=[]).push(n)}return r},t2=(e,t,r)=>(r?-1:1)*(e===t?0:"string"==typeof e?"string"==typeof t?e.localeCompare(t):1:"string"==typeof t?-1:null==e?null==t?0:-1:null==t?1:e-t),t3=Symbol(),t6=Symbol(),t4=Symbol(),t8=(e,t,r)=>{if(null==e||e[t6])throw t;var i,e=tM(e);if(!e||e.Object.prototype[t3])throw t;for({prototype:i}of[e.Map,e.WeakMap])i[t3]=function(e,t){return void 0===t?this.delete(e):this.get(e)!==t&&!!this.set(e,t)},i[t6]=i.get;for({prototype:i}of[e.Set,e.WeakSet])i[t3]=function(e,t,r=!1){return t||r&&void 0===t?!this.has(e)&&!!this.add(e):this.delete(e)},i[t6]=i.has,i[t4]=function(e){for(var t of e)void 0!==t&&this.add(t);return this};for({prototype:i}of(e.Array.prototype[t4]=function(e){return this.push(...e),this},[e.Object,e.Array]))i[t3]=function(e,t){return void 0===t?void 0!==this[e]&&(delete this[e],!0):(this[e]=t)!==t},i[t6]=function(e){return this[e]};return r()},t9=(e,t,r)=>{try{if(null==e)return e;var n=e[t6](t);if(void 0===n&&void 0!==(n="function"==typeof r?r():r)){if(null!=n&&n.then)return n.then(r=>void 0===r?r:e[t3](t,r));e[t3](t,n)}return n}catch(n){return t8(e,n,()=>t9(e,t,r))}},t7=(e,t,r)=>{try{return!0===(null==e?void 0:e[t3](t,r,!0))}catch(n){return t8(e,n,()=>t7(e,t,r))}},re=(e,t,r)=>{try{return e[t3](t,r),r}catch(n){return t8(e,n,()=>re(e,t,r))}},rt=(e,...t)=>{try{return null==e?e:e[t4](t)}catch(r){return t8(e,r,()=>rt(e,...t))}},rr=(e,t)=>{var r={};return tV(e,t?(e,n,i)=>(e=t(e,n,i))&&("symbol"!=typeof e||e!==tz&&e!==tR)?r[e[0]]=e[1]:e:e=>e&&("symbol"!=typeof e||e!==tz&&e!==tR)?r[e[0]]=e[1]:e),r},rn=(e,...t)=>{try{return(null==e?void 0:e.constructor)===Object?tV(t,t=>tV(t,t=>t&&(e[t[0]]=t[1]))):tV(t,t=>tV(t,t=>t&&e[t3](t[0],t[1]))),e}catch(r){return t8(e,r,()=>rn(e,...t))}},ri=(e,t,r={})=>{if(null!=e){var l,{deep:n=!0,overwrite:i=!0,nulls:a=!1}=r;for(l of void 0===t?[]:null!=t&&t[tB]&&"string"!=typeof t?t:[t])tV(l,t=>{var o,u;t&&([t,o]=t,u=e[t],(a?null==u:void 0===u)?e[t]=o:n&&(null==o?void 0:o.constructor)===Object&&(null==u?void 0:u.constructor)===Object?ri(u,o,r):i&&(e[t]=o))})}return e},ra=(e,t)=>null==e?e:rr(t,t=>void 0!==e[t]||t in e?[t,e[t]]:tz),rl=e=>null==e||"boolean"==typeof e||""===e.toString(),ro=(e,t,r)=>null==e?e:eg(e)?tK("function"==typeof t?tH(e,t):(r=t,e),rl,!0).join(null!=r?r:""):rl(e)?"":e.toString(),ru=(e,t,r,n)=>{var i,o;return e||0===e?"function"==typeof t?ru(tH(e,t),r,n):(i=[],n=tV(e,(e,t,r)=>rl(e)?tz:(r&&i.push(r),e.toString())),[t,o]=eu(t)?t:[,t],o=(null!=o?o:o="and")[0]===(t=null==t?",":t)?o+" ":" "+(o?o+" ":""),t=i.length?""+i.join(t+" ")+o+n:null!=n?n:"",r?r(t,i.length+ +(null!=n)):t):null==e?e:void 0},rs=tg("data classification",{never:"never",anonymous:"anonymous",indirect:"indirect",direct:"direct",sensitive:"sensitive"}),rd=["necessary","performance","functionality","marketing","personalization","security"],rv=rr(rd,e=>[e,e]),rc=(Object.freeze(eP(rd.map(e=>[e,!0]))),(e,t)=>"personalization"===e&&!0!==(null==t?void 0:t.personalization)?"functionality":"security"===e&&!0!==(null==t?void 0:t.security)?"necessary":e),rf=(e,t)=>{var r=e;return!0!==(null==t?void 0:t.personalization)&&null!=r.personalization&&(null!=(r=r===e?{...e}:r).functionality?r.personalization=r.functionality:r.functionality=r.personalization,delete r.personalization),!0!==(null==t?void 0:t.security)&&null!=r.security&&delete(r=r===e?{...e}:r).security,r},rp={names:rd,specificNames:rd.filter(e=>"necessary"!==e),parse(e,{names:t=!1,includeDefault:r=!0,validate:n=!0}={}){if(null==e)return e;if(e.purposes&&(e=e.purposes),el(e)&&(e=e.split(",")),eu(e)){var a,i={};for(a of e)if(a!==rb){if(!rv[a]){n&&j(`The purpose name '${a}' is not defined.`);continue}"necessary"!==a&&(i[a]=!0)}e=i}return t?(t=tH(e,([e,t])=>rv[e]&&t?e:tz)).length||!r?t:["necessary"]:e},get all(){return{functionality:!0,marketing:!0,performance:!0,personalization:!0,security:!0}},test(e,t,{intersect:r,optionalPurposes:n,targetPurpose:i}){if("boolean"==typeof n&&(n={personalization:n,security:n}),i&&"necessary"!==(i=rc(i,n))&&!t[rc(i,n)])return!1;if(e=rf(e,n),t=rf(t,n),r){for(var a in t)if(rv[a]&&t[a]&&!e[a])return!1;if("all"===r)for(var a in e)if(rv[a]&&e[a]&&!t[a])return!1;return!0}var l=!1;for(a in e)if(rv[a]&&e[a]){if(t[a])return!0;l=!0}return!l}},rg=(tg("data restriction",{public:"public","trusted-write":"trusted-write","trusted-only":"trusted-only"}),{anonymous:{classification:"anonymous",purposes:{}},clone:e=>e&&{classification:e.classification,purposes:{...e.purposes}},equals:(e,t)=>e===t||e&&t&&e.classification===t.classification&&rp.test(e.purposes,t.purposes,{intersect:"all",optionalPurposes:!0}),serialize(e){var t=rp.parse(e.purposes,{names:!0,includeDefault:!1});return e.classification&&"anonymous"!==e.classification||null!=t&&t.length?e.classification+":"+t:null},deserialize(e,t){var a;return e?([e,a]=e.split(":"),{classification:null!=(e=rs.parse(e,!1))?e:"anonymous",purposes:null!=(e=rp.parse(a,{validate:!1}))?e:{}}):t?rg.clone(t):{classification:"anonymous",purposes:{}}}}),rm=(e,t)=>(!(i=null==e?void 0:e.metadata)||t&&(delete i.posted,delete i.queued,Object.entries(i).length)||delete e.metadata,e),ry=e=>!(null==e||!e.patchTargetId),rb="@schema",rw=Symbol(),rk=e=>void 0===e?"undefined":tp(JSON.stringify(e),40,!0),rS=/^\d{4}-\d{2}-\d{2}(?:T00:00:00(?:\.000)?)?Z$/,rx=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d{1,7})?)?Z$/,rT=/^\{?([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})\}?$/,rI=/^(?:(?:([\w+.-]+):)(\/\/)?)((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))(?::(\d*))?)(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/,rA=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(\[(([0-9.]+)|([0-9a-f:]+))\])|(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9]))?$/,rE=(e,t,r)=>(e.push({path:"",type:null,source:t,message:rk(t)+` ${r}.`}),rw),rN=(e,t,r)=>"number"==typeof e&&(!t&&Number.isFinite(e)&&!Number.isNaN(e)||Number.isInteger(e))||r&&"string"==typeof e&&rN((t?parseInt:parseFloat)(e),t,!1),r$={},rd=((e=>{null==e.primitive&&(e.primitive=typeof(null!=(r=null==(r=e.enum)?void 0:r[0])?r:""));var r,u,o=null!=(o=r$[r=e.primitive+"-"+(null!=(r=e.format)?r:"")+"-"+!1])?o:r$[r]=(e=>{switch(e.primitive){case"boolean":return(e,t)=>"boolean"==typeof e?e:rE(t,e,"is not a Boolean");case"date":return(e,t)=>e&&rS.test(e)&&!isNaN(+new Date(e))?e:rE(t,e,"is not a valid ISO 8601 UTC date (time is not allowed, and the 'Z' postfix must be added to indicate Coordinated Universal Time)");case"timestamp":case"datetime":var r="format"in e?"unix"!==e.format:"datetime"===e.primitive;return(e,n)=>{if(!e||rN(e,!1,!1)){if(!rN(e,!0,!1))return rE(n,e,"is not a valid UNIX timestamp");e*=1}else if(!rx.test(e)||isNaN(+new Date(e)))return rE(n,e,"is not a valid ISO 8601 UTC date/time (the 'Z' postfix must be added to indicate Coordinated Universal Time)");return e=new Date(e),r?new Date(e).toISOString():+e};case"duration":return(e,r)=>rN(e,!0,!1)?+e:rE(r,e,"is not a valid duration (must be provided as milliseconds)");case"integer":return(e,r)=>rN(e,!0,!1)?+e:rE(r,e,"is not a valid integer");case"number":return(e,r)=>rN(e,!1,!1)?e:rE(r,e,"is not a number");case"string":switch(e.format){case"uri":return(e,t)=>"string"==typeof e&&rI.test(e)?e:rE(t,e,"is not a valid URI");case"url":return(e,t)=>{var r="string"==typeof e&&rI.exec(e);return r?r[2]?e:rE(t,e,"is not a valid URL (it is a URI, but a URL is required)"):rE(t,e,"is not a valid URL")};case"urn":return(e,t)=>{var r="string"==typeof e&&rI.exec(e);return r?"urn"!==r[1]||r[2]?rE(t,e,"is not a valid URN (it is a URI, but a URN is required)"):e:rE(t,e,"is not a valid URN")};case"email":return(e,t)=>"string"==typeof e&&rA.test(e)?e.toLowerCase():rE(t,e,"is not a valid email address")}return(e,t)=>"string"==typeof e?e:rE(t,e,"is not a string");case"uuid":return(e,t)=>{var r;return null!=(r="string"==typeof e?null==(r=rT.exec(e))?void 0:r[1].toLowerCase():null)?r:rE(t,e,"is not a valid UUID")};default:throw TypeError(`'${rk(e)}' is not a supported primitive type.`)}})(e),d=e.maxLength,c=(null!=d&&(v=o,o=(e,t)=>(e=v(e,t))!==rw&&e.length>d?rE(t,e,`exceeds the maximum allowed ${d} number of characters`):e),e.min),f=e.max;if(null==c&&null==f||(p=null!=c?null!=f?`between ${c} and `+f:"at least "+c:"at most "+f,v=o,o=(e,t)=>(e=v(e,t))===rw||(null==c||c<=e)&&(null==f||e<=f)?e:rE(t,e,p)),"enum"in e){var v=o;if(!(u=new Set((Array.isArray(e.enum)?e.enum:[e.enum]).map(e=>{var t=[];if((e=v(e,t))===rw)throw TypeError(t[0]);return e}))).size)throw TypeError("At least one enum value to test against is required.");var p="is not the constant value "+ru(e.enum.map(e=>JSON.stringify(e)),"or"),o=(e,t)=>(e=v(e,t))===rw||u.has(e)?e:rE(t,e,p)}(e=>null==e||e instanceof Set||new Set(e[tB]&&"string"!=typeof e?e:[e]))(u)})({primitive:"string",format:"uri"}),tg("variable scope",{global:"global",session:"session",device:"device",user:"user"})),rC=({key:e,scope:t="",entityId:r="",source:n=""},i="")=>["'"+e+"'",n&&"from '"+n+"'",i,t&&"in "+t+" scope",r&&"for '"+r+"'"].filter(e=>e).join(" "),r_=e=>null==e?e:{source:e.source,key:e.key,scope:e.scope,entityId:e.entityId},rF=((A={})[A.Success=200]="Success",A[A.Created=201]="Created",A[A.NotModified=304]="NotModified",A[A.Forbidden=403]="Forbidden",A[A.NotFound=404]="NotFound",A[A.BadRequest=405]="BadRequest",A[A.Conflict=409]="Conflict",A[A.Error=500]="Error",A),rj=(e,t=!0)=>null!=(null==e?void 0:e.value)||!t&&(!e||404===e.status),rU=(e,t=!0)=>e&&(e.status<400||!t&&404===e.status);function rM(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var rq=e=>{var t=rC(e),r=e.error;return e.status<400?`${t} succeeded with status ${e.status} - ${rF[e.status]}.`:`${t} failed with status ${e.status} - ${rF[e.status]}${r?` (${r})`:""}.`};class rz extends Error{constructor(e,t){super(null!=t?t:"One or more operations failed."),rM(this,"succeeded",void 0),rM(this,"failed",void 0),this.succeeded=null!=(t=null==e?void 0:e.filter(e=>rU(e,!1)))?t:[],this.failed=null!=(t=null==e?void 0:e.filter(e=>!rU(e,!1)))?t:[]}}var rR=e=>!!e.callback,rP=e=>!!e.poll,rD=Symbol(),rB=(e,t,r,{poll:n,logCallbackError:i}={})=>{var a=eu(t)?t:[t],l=[],o=(async()=>{var s,d,u,v,c,t=await r(a.filter(e=>e)),o=[];for(u of a)u&&null!=(d=t.get(u))&&(d[rD]=u,rR(u)&&o.push([u,d,e=>!0===u.callback(e)]),rP(u))&&o.push([u,d,e=>{var t;return!rj(e,!1)||(t=!rj(e,!1)||u.poll(e.value,e[rD]===u,s),s=e.value,t)}]);for([u,v,c]of o)try{var f="get"===e?async e=>!0===await c(e)&&(null==n?void 0:n(u,f)):c;await f(v)}catch(t){var p=`${e} callback for ${rC(u)} failed: ${t}.`;i?i(p,u,t):l.push(p)}return t})(),u=async(r,n)=>{var d,v,c,i=await o,u=[],s=[];for(d of a)d?null==(c=i.get(d))?s.push(`No result for ${rC(d)}.`):!r||rU(c,n||"set"===e)?u.push(r&&c.status===rF.NotFound?void 0:1<r?null!=(v=c.value)?v:void 0:c):s.push(rq(c)):u.push(void 0);if(s.push(...l),s.length)throw 10<s.length&&s.push(`
(and ${s.splice(10).length} more...)`),new rz(u,s.join("\n"));return a===t?u:u[0]};return Object.assign(P(()=>u(1,!1)),{as:()=>u(1,!1),all:()=>u(0,!1),require:()=>u(1,!0),value:(e=!1)=>u(2,e),values:(e=!1)=>u(2,e)})},rW=e=>e&&"string"==typeof e.type,rJ=(e=>t=>(null==t?void 0:t.type)&&e.some(e=>e===(null==t?void 0:t.type)))(["view"]),rL=e=>e&&/^(%[A-F0-9]{2}|[^%])*$/gi.test(e)&&/[A-F0-9]{2}/gi.test(e)?decodeURIComponent(e):e,rV=(e,t)=>{var r;return t&&(!(l=e.get(a=t.tag+(null!=(r=t.value)?r:"")))||(null!=(r=l.score)?r:1)<(null!=(r=t.score)?r:1))&&e.set(a,t)},rH=(e,t="",r=new Map)=>{if(e)return eg(e)?tV(e,e=>rH(e,t,r)):el(e)?tT(e,/(?:([^\s:~]+)::(?![ :=]))?([^\s~]+?)(?:\s*[:=]\s*(?:"((?:"[^"]*|.)*?)(?:"|$)|'((?:'[^'~]*|.)*?)(?:'|$)|((?: *(?:(?:[^,&;#\s~])))*))\s*)?(?: *~ *(\d*(?:\.\d*)?))?(?:[\s,&;#~]+|$)/g,(e,n,i,a,l,o,u)=>{i={tag:(n?rL(n)+"::":"")+t+rL(i),value:rL(null!=(n=null!=a?a:l)?n:o)};u&&10!==parseFloat(u)&&(i.score=parseFloat(u)/10),rV(r,i)}):rV(r,e),r},rK=tg("local variable scope",{view:"view",tab:"tab",shared:"shared"}),rG=tg("variable scope",{...rK,...rd}),rX=e=>("global"!==e.scope&&e.entityId&&(e.entityId=void 0),e),rZ=e=>null!=e&&!!e.scope&&null!=rK.ranks[e.scope],rY=e=>null==e?e:[e.scope,e.key,e.entityId].join("\0"),rQ=e=>{e=e.split("\0");return{scope:e[0],key:e[1],entityId:e[2]}},r1=()=>()=>j("Not initialized."),r2=window,r5=document,r3=r5.body,r6=(e,t)=>!(null==e||!e.matches(t)),r4=((e=>tc=e)(!!r2.chrome),V),r8=(e,t,r=(e,t)=>r4<=t)=>{for(var n=0,i=H;1===(null==e?void 0:e.nodeType)&&!r(e,n++)&&t(e,(e,t)=>(null!=e&&(a=e,i=t!==K&&null!=a),K),n-1)!==H&&!i;){var a,o=e;null===(e=e.parentElement)&&(null==o?void 0:o.ownerDocument)!==r5&&(e=null==o||null==(o=o.ownerDocument.defaultView)?void 0:o.frameElement)}return a},r9=(e,t="z")=>{if(null!=e&&"null"!==e&&(""!==e||"b"===t))switch(t){case!0:case"z":var r;return null==(r=(""+e).trim())?void 0:r.toLowerCase();case!1:case"r":case"b":return""===e||en(e);case"n":return parseFloat(e);case"j":return z(()=>JSON.parse(e),G);case"h":return z(()=>n6(e),G);case"e":return z(()=>null==n8?void 0:n8(e),G);default:return eu(t)&&""!==e?(""+e).split(",").map(e=>""===e.trim()?void 0:r9(e,t[0])):void 0}},r7=(e,t,r)=>r9(null==e?void 0:e.getAttribute(t),r),ne=(e,t,r)=>r8(e,(e,n)=>n(r7(e,t,r))),nt=(e,t)=>null==(e=r7(e,t))||null==(t=e.trim())?void 0:t.toLowerCase(),nr=e=>null==e?void 0:e.getAttributeNames(),nn=(e,t)=>getComputedStyle(e).getPropertyValue(t)||null,ni=e=>null!=e?e.tagName:null,nl=e=>({x:eb(scrollX,e),y:eb(scrollY,e)}),no=(e,t)=>t_(e,/#.*$/,"")===t_(t,/#.*$/,""),nu=(e,t,r=K)=>(u=ns(e,t))&&B({xpx:u.x,ypx:u.y,x:eb(u.x/r3.offsetWidth,4),y:eb(u.y/r3.offsetHeight,4),pageFolds:r?u.y/window.innerHeight:void 0}),ns=(e,t)=>null!=t&&t.pointerType&&null!=(null==t?void 0:t.pageY)?{x:t.pageX,y:t.pageY}:e?({x:s,y:d}=nv(e),{x:s,y:d}):void 0,nv=(e,t=!0)=>e?(v=e.getBoundingClientRect(),o=t?nl(H):{x:0,y:0},{x:eb(v.left+o.x),y:eb(v.top+o.y),width:eb(v.width),height:eb(v.height)}):void 0,nc=(e,t,r,n={capture:!0,passive:!0})=>(t=tQ(t),ts(r,r=>tV(t,t=>e.addEventListener(t,r,n)),r=>tV(t,t=>e.removeEventListener(t,r,n)))),np=()=>({...o=nl(K),width:window.innerWidth,height:window.innerHeight,totalWidth:r3.offsetWidth,totalHeight:r3.offsetHeight}),nh=new WeakMap,ng=e=>nh.get(e),nm=(e,t=H)=>(t?"--track-":"track-")+e,ny=(e,t,r,n,i,a)=>(null==t?void 0:t[1])&&tV(nr(e),l=>{var o;return null!=(o=(c=t[0])[f=l])?o:c[f]=(a=H,!el(n=tV(t[1],([t,r,n],i)=>tS(l,t)&&(a=void 0,!r||r6(e,r))&&ex(null!=n?n:l)))||(i=e.getAttribute(l))&&!en(i)||rH(i,t_(n,/\-/g,":"),r),a)}),nb=()=>{},nw=(e,t)=>{if(p===(p=nE.tags))return nb(e,t);var r=e=>e?t$(e)?[[e]]:eg(e)?e_(e,r):[ec(e)?[tO(e.match),e.selector,e.prefix]:[tO(e)]]:[],n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...r(tG(p,([,e])=>e,1))]];(nb=(e,t)=>ny(e,n,t))(e,t)},nk=(e,t)=>ro(eF(nn(e,nm(t,K)),nn(e,nm("base-"+t,K)))," "),nS={},nx=(e,t,r=nk(e,"attributes"))=>{var n;r&&ny(e,null!=(n=nS[r])?n:nS[r]=[{},tx(r,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,t,r,n)=>[tO(r||n),,t])],t),rH(nk(e,"tags"),void 0,t)},nT=(e,t,r=H,n)=>null!=(r=null!=(r=r?r8(e,(e,r)=>r(nT(e,t,H)),eh(r)?r:void 0):ro(eF(r7(e,nm(t)),nn(e,nm(t,K)))," "))?r:n&&(h=ng(e))&&n(h))?r:null,nI=(e,t,r=H,n)=>""===(g=nT(e,t,r,n))||(null==g?g:en(g)),nA=(e,t,r,n)=>e&&(null==n&&(n=new Map),nx(e,n),r8(e,e=>{nw(e,n),rH(null==r?void 0:r(e),void 0,n)},t),n.size)?{tags:[...n.values()]}:{},nE={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,encryptionKey:null,key:null,apiKey:null,json:!1,impressionThreshold:1e3,captureContextMenu:!0,tags:{default:["data-id","data-name"]}},nN=[],n$=[],nO=(e,t=0)=>e.charCodeAt(t),n_=([..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,t)=>nN[n$[t]=e.charCodeAt(0)]=t),e=>{for(var t,r=0,n=e.length,i=[];r<n;)t=e[r++]<<16|e[r++]<<8|e[r++],i.push(n$[(16515072&t)>>18],n$[(258048&t)>>12],n$[(4032&t)>>6],n$[63&t]);return i.length+=n-r,(e=>String.fromCharCode(...e))(i)}),nj={32:[2166136261n,16777619n],64:[0xcbf29ce484222325n,1099511628211n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},nU=(e=256)=>e*Math.random()|0,nq={exports:{}},{deserialize:nz,serialize:nR}=((()=>{function t(e,t){if(t&&t.multiple&&!Array.isArray(e))throw Error("Invalid argument type: Expected an Array to serialize multiple values.");var r,n,i=new Uint8Array(128),a=0;if(t&&t.multiple)for(var l=0;l<e.length;l++)o(e[l]);else o(e);return i.subarray(0,a);function o(e,i){var c,l;switch(typeof e){case"undefined":s(192);break;case"boolean":s(e?195:194);break;case"number":(e=>{var t;isFinite(e)&&Number.isSafeInteger(e)?0<=e&&e<=127||e<0&&-32<=e?s(e):0<e&&e<=255?d([204,e]):-128<=e&&e<=127?d([208,e]):0<e&&e<=65535?d([205,e>>>8,e]):-32768<=e&&e<=32767?d([209,e>>>8,e]):0<e&&e<=4294967295?d([206,e>>>24,e>>>16,e>>>8,e]):-2147483648<=e&&e<=2147483647?d([210,e>>>24,e>>>16,e>>>8,e]):0<e&&e<=0x10000000000000000?d([211,(t=e/4294967296)>>>24,t>>>16,t>>>8,t,(t=e%4294967296)>>>24,t>>>16,t>>>8,t]):-0x8000000000000000<=e&&e<=0x8000000000000000?(s(211),v(e)):d(e<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):((n=n||new DataView(r=new ArrayBuffer(8))).setFloat64(0,e),s(203),d(new Uint8Array(r)))})(e);break;case"string":(c=(l=(e=>{for(var t=!0,r=e.length,n=0;n<r;n++)if(127<e.charCodeAt(n)){t=!1;break}for(var i=0,a=new Uint8Array(e.length*(t?1:4)),l=0;l!==r;l++){var o=e.charCodeAt(l);if(o<128)a[i++]=o;else{if(o<2048)a[i++]=o>>6|192;else{if(55295<o&&o<56320){if(++l>=r)throw Error("UTF-8 encode: incomplete surrogate pair");var u=e.charCodeAt(l);if(u<56320||57343<u)throw Error("UTF-8 encode: second surrogate character 0x"+u.toString(16)+" at index "+l+" out of range");a[i++]=(o=65536+((1023&o)<<10)+(1023&u))>>18|240,a[i++]=o>>12&63|128}else a[i++]=o>>12|224;a[i++]=o>>6&63|128}a[i++]=63&o|128}}return t?a:a.subarray(0,i)})(e)).length)<=31?s(160+c):d(c<=255?[217,c]:c<=65535?[218,c>>>8,c]:[219,c>>>24,c>>>16,c>>>8,c]),d(l);break;case"object":null===e?s(192):e instanceof Date?(e=>{var r,t=e.getTime()/1e3;0===e.getMilliseconds()&&0<=t&&t<4294967296?d([214,255,t>>>24,t>>>16,t>>>8,t]):0<=t&&t<17179869184?d([215,255,(r=1e6*e.getMilliseconds())>>>22,r>>>14,r>>>6,r<<2>>>0|t/4294967296,t>>>24,t>>>16,t>>>8,t]):(d([199,12,255,(r=1e6*e.getMilliseconds())>>>24,r>>>16,r>>>8,r]),v(t))})(e):Array.isArray(e)?u(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?((l=(c=e).length)<=255?d([196,l]):d(l<=65535?[197,l>>>8,l]:[198,l>>>24,l>>>16,l>>>8,l]),d(c)):(e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?u:e=>{var r,t=0;for(r in e)void 0!==e[r]&&t++;for(r in t<=15?s(128+t):d(t<=65535?[222,t>>>8,t]:[223,t>>>24,t>>>16,t>>>8,t]),e){var n=e[r];void 0!==n&&(o(r),o(n))}})(e);break;default:if(i||!t||!t.invalidTypeReplacement)throw Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.");"function"==typeof t.invalidTypeReplacement?o(t.invalidTypeReplacement(e),!0):o(t.invalidTypeReplacement,!0)}}function u(e){var t=e.length;t<=15?s(144+t):d(t<=65535?[220,t>>>8,t]:[221,t>>>24,t>>>16,t>>>8,t]);for(var r=0;r<t;r++)o(e[r])}function s(e){if(i.length<a+1){for(var t=2*i.length;t<a+1;)t*=2;var r=new Uint8Array(t);r.set(i),i=r}i[a]=e,a++}function d(e){if(i.length<a+e.length){for(var t=2*i.length;t<a+e.length;)t*=2;var r=new Uint8Array(t);r.set(i),i=r}i.set(e,a),a+=e.length}function v(e){var t,e=0<=e?(t=e/4294967296,e%4294967296):(t=~(Math.abs(++e)/4294967296),~(Math.abs(e)%4294967296));d([t>>>24,t>>>16,t>>>8,t,e>>>24,e>>>16,e>>>8,e])}}function r(e,t){var r,n=0;if("object"!=typeof(e=e instanceof ArrayBuffer?new Uint8Array(e):e)||void 0===e.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),t&&t.multiple)for(r=[];n<e.length;)r.push(i());else r=i();return r;function i(){var t=e[n++];if(0<=t&&t<=127)return t;if(128<=t&&t<=143)return s(t-128);if(144<=t&&t<=159)return d(t-144);if(160<=t&&t<=191)return v(t-160);if(192===t)return null;if(193===t)throw Error("Invalid byte code 0xc1 found.");if(194===t)return!1;if(195===t)return!0;if(196===t)return u(-1,1);if(197===t)return u(-1,2);if(198===t)return u(-1,4);if(199===t)return c(-1,1);if(200===t)return c(-1,2);if(201===t)return c(-1,4);if(202===t)return o(4);if(203===t)return o(8);if(204===t)return l(1);if(205===t)return l(2);if(206===t)return l(4);if(207===t)return l(8);if(208===t)return a(1);if(209===t)return a(2);if(210===t)return a(4);if(211===t)return a(8);if(212===t)return c(1);if(213===t)return c(2);if(214===t)return c(4);if(215===t)return c(8);if(216===t)return c(16);if(217===t)return v(-1,1);if(218===t)return v(-1,2);if(219===t)return v(-1,4);if(220===t)return d(-1,2);if(221===t)return d(-1,4);if(222===t)return s(-1,2);if(223===t)return s(-1,4);if(224<=t&&t<=255)return t-256;throw console.debug("msgpack array:",e),Error("Invalid byte value '"+t+"' at index "+(n-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function a(t){for(var a,r=0,i=!0;0<t--;)i?(r+=127&(a=e[n++]),128&a&&(r-=128),i=!1):r=(r*=256)+e[n++];return r}function l(t){for(var r=0;0<t--;)r=256*r+e[n++];return r}function o(t){var r=new DataView(e.buffer,n+e.byteOffset,t);return n+=t,4===t?r.getFloat32(0,!1):8===t?r.getFloat64(0,!1):void 0}function u(t,r){t<0&&(t=l(r));r=e.subarray(n,n+t);return n+=t,r}function s(e,t){e<0&&(e=l(t));for(var r={};0<e--;)r[i()]=i();return r}function d(e,t){e<0&&(e=l(t));for(var r=[];0<e--;)r.push(i());return r}function v(t,r){t<0&&(t=l(r));r=n;return n+=t,((e,t,r)=>{var n=t,i="";for(r+=t;n<r;){var a=e[n++];if(127<a)if(191<a&&a<224){if(r<=n)throw Error("UTF-8 decode: incomplete 2-byte sequence");a=(31&a)<<6|63&e[n++]}else if(223<a&&a<240){if(r<=n+1)throw Error("UTF-8 decode: incomplete 3-byte sequence");a=(15&a)<<12|(63&e[n++])<<6|63&e[n++]}else{if(!(239<a&&a<248))throw Error("UTF-8 decode: unknown multibyte start 0x"+a.toString(16)+" at index "+(n-1));if(r<=n+2)throw Error("UTF-8 decode: incomplete 4-byte sequence");a=(7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(a<=65535)i+=String.fromCharCode(a);else{if(!(a<=1114111))throw Error("UTF-8 decode: code point 0x"+a.toString(16)+" exceeds UTF-16 reach");a-=65536,i=(i+=String.fromCharCode(a>>10|55296))+String.fromCharCode(1023&a|56320)}}return i})(e,r,t)}function c(e,t){e<0&&(e=l(t));t=l(1),e=u(e);return 255===t?(e=>{var r,t;if(4===e.length)return t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],new Date(1e3*t);if(8===e.length)return r=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),t=4294967296*(3&e[3])+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7],new Date(1e3*t+r/1e6);if(12===e.length)return r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],n-=8,t=a(8),new Date(1e3*t+r/1e6);throw Error("Invalid data length for a date value.")})(e):{type:t,data:e}}}var n={serialize:t,deserialize:r,encode:t,decode:r};nq.exports=n})(),(A=nq.exports)&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A),nP="$ref",nD=(e,t,r)=>ep(e)?L:r?t!==L:null===t||t,nB=(e,t,{defaultValues:r=!0,prettify:n=!1})=>{var i,a,l,o=(e,t,n=e[t],i=nD(t,n,r)?s(n):L)=>(n!==i&&(i!==L||eu(e)?e[t]=i:delete e[t],u(()=>e[t]=n)),i),u=e=>(null!=i?i:i=[]).push(e),s=e=>{if(null==e||eh(e)||ep(e))return L;if(ev(e)){if(e.toJSON&&e!==(e=e.toJSON()))return s(e);if(null!=(l=null==a?void 0:a.get(e)))return e[nP]||(e[nP]=l,u(()=>delete e[nP])),{[nP]:l};if(ec(e))for(var t in(null!=a?a:a=new Map).set(e,a.size+1),e)o(e,t);else!eg(e)||e instanceof Uint8Array||(!eu(e)||Object.keys(e).length<e.length?[...e]:e).forEach((t,r)=>r in e?o(e,r):(e[r]=null,u(()=>delete e[r])))}return e};return z(()=>{var r;return t?nR(null!=(r=s(e))?r:null):z(()=>JSON.stringify(e,L,2*!!n),()=>JSON.stringify(s(e),L,2*!!n))},!0,()=>null==i?void 0:i.forEach(e=>e()))},nW=e=>{var t,r,n=e=>ev(e)?e[nP]&&(r=(null!=t?t:t=[])[e[nP]])?r:(e[nP]&&delete(t[e[nP]]=e)[nP],Object.entries(e).forEach(([t,r])=>r!==(r=n(r))&&(e[t]=r)),e):e;return n(el(e)?z(()=>JSON.parse(e),()=>(console.error("Invalid JSON received.",e,Error().stack),L)):null!=e?z(()=>nz(e),()=>(console.error("Invalid message received.",e,Error().stack),L)):e)},nJ=(e,t={})=>{var r=(e,{json:t=!1,decodeJson:r=!1,...n})=>{var l,o,u,i=(e,r)=>ea(e)&&!0===r?e:u(e=el(e)?new Uint8Array(tH(e.length,t=>255&e.charCodeAt(t))):t?z(()=>JSON.stringify(e),()=>JSON.stringify(nB(e,!1,n))):nB(e,!0,n),r),a=e=>null==e?L:z(()=>nW(e),L);return t?[e=>nB(e,!1,n),a,(e,t)=>i(e,t)]:([l,o,u]=(e=>{for(var t,r,n,i,a,o,l=0n,u=0n,s=[],d=0,v=0,c=0,f=0,p=[],c=0;c<(null==e?void 0:e.length);f+=p[c]=e.charCodeAt(c++));var h=e?()=>{s=[...p],v=255&(d=f),c=-1}:()=>{},g=e=>(v=255&(d+=-s[c=(c+1)%s.length]+(s[c]=e)),e);return[e?e=>{for(h(),i=16-((t=e.length)+4)%16,a=new Uint8Array(4+t+i),n=0;n<3;a[n++]=g(nU()));for(r=0,a[n++]=g(v^16*nU(16)+i);r<t;a[n++]=g(v^e[r++]));for(;i--;)a[n++]=nU();return a}:e=>e,e?e=>{for(h(),r=0;r<3;g(e[r++]));if((t=e.length-4-((v^g(e[r++]))%16||16))<=0)return new Uint8Array(0);for(n=0,a=new Uint8Array(t);n<t;a[n++]=v^g(e[r++]));return a}:e=>e,(e,t=64)=>{if(null==e)return null;for(o=er(t)?64:t,h(),[l,u]=nj[o],r=0;r<e.length;l=BigInt.asUintN(o,(l^BigInt(v^g(e[r++])))*u));return!0===t?Number(BigInt(Number.MIN_SAFE_INTEGER)+l%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):l.toString(36)}]})(e),[(e,t)=>(t?X:n_)(l(nB(e,!0,n))),e=>null!=e?nW(o(e instanceof Uint8Array?e:(r&&ek(e)?a:e=>{for(var t,r=0,n=0,i=e.length,a=new Uint8Array(3*(i/4|0)+(i+3&3)%3);r<i;)a[n++]=nN[nO(e,r++)]<<2|(t=nN[nO(e,r++)])>>4,r<i&&(a[n++]=(15&t)<<4|(t=nN[nO(e,r++)])>>2,r<i)&&(a[n++]=(3&t)<<6|nN[nO(e,r++)]);return a})(e))):null,(e,t)=>i(e,t)])};if(!e){var n=+(null!=(n=t.json)?n:0);if(n&&!1!==t.prettify)return(null!=m?m:m=[r(null,{json:!1}),r(null,{json:!0,prettify:!0})])[n]}return r(e,t)},[nL,,]=(nJ(),nJ(null,{json:!0,decodeJson:!0}),nJ(null,{json:!0,prettify:!0})),tg=tC(""+r5.currentScript.src,"#"),rd=tC(""+(tg[1]||""),";"),nG=tg[0],nX=rd[1]||(null==(A=tb(nG,{delimiters:!1}))?void 0:A.host),nZ=e=>!(!nX||(null==(e=tb(e,{delimiters:!1}))||null==(e=e.host)?void 0:e.endsWith(nX))!==K),tg=(...e)=>t_(ro(e),/(^(?=\?))|(^\.(?=\/))/,nG.split("?")[0]),nQ=tg("?","var"),n0=tg("?","mnt"),n1=(tg("?","usr"),Symbol()),n2=Symbol(),n5=(e,t,r=K,n=H)=>{t&&(r?console.groupCollapsed:console.group)((n?"":tf("tail.js: ","90;3"))+t);r=null==e?void 0:e[n2];null!=(e=r?e[n1]:e)&&console.log(ev(e)?tf(nL(e),"94"):eh(e)?""+e:e),r&&r.forEach(([e,t,r])=>n5(e,t,r,!0)),t&&console.groupEnd()},[n3,n6]=nJ(),[n4,n8]=[r1,r1],n9=!0,[rd,ie]=ee(),ii=(...e)=>{var r,a=e.shift();console.error(e[1]instanceof Error?e[1].message:el(e[1])?e.shift():null!=(r=null==(r=e[1])?void 0:r.message)?r:"An error occurred",null!=(r=a.id)?r:a,...e)},[ia,il]=ee(),[io,iu]=ee(),is=e=>iv!==(iv=e)&&il(iv,ih(!0,!0)),id=e=>ic!==(ic=!!e&&"visible"===document.visibilityState)&&iu(ic,!e,ip(!0,!0)),iv=(ia(id),!0),ic=!1,ip=e7(!1),ih=e7(!1),ig=(nc(window,["pagehide","freeze","beforeunload"],()=>is(!1)),nc(window,["pageshow","resume"],()=>is(!0)),nc(document,"visibilitychange",()=>(id(!0),ic&&is(!0))),il(iv,ih(!0,!0)),!1),im=e7(!1),[,ib]=ee(),iw=tt({callback:()=>ig&&ib(ig=!1,im(!1)),frequency:2e4,once:!0,paused:!0}),A=()=>!ig&&(ib(ig=!0,im(!0)),iw.restart()),iS=(nc(window,["focus","scroll"],A),nc(window,"blur",()=>iw.trigger()),nc(document.body,["keydown","pointerdown","pointermove","scroll"],A),A(),()=>im()),ix=0,iT=void 0,iI=()=>(null!=iT?iT:r1())+"_"+iA(),iA=()=>(e9(!0)-(parseInt(iT.slice(0,-2),36)||0)).toString(36)+"_"+(++ix).toString(36),i$=new Map,iO={id:iT,heartbeat:e9()},iC={knownTabs:new Map([[iT,iO]]),variables:new Map},[i_,iF]=ee(),[ij,iU]=ee(),iM=r1,iq=(e,t=e9())=>{e=i$.get(el(e)?e:rY(e));return null!=e&&e.cache&&e.cache[0]+e.cache[1]<=t?void 0:e},iz=(...e)=>{var t=e9();return iP(tH(e,e=>(e.cache=[t],[r_(e),{...e,created:t,modified:t,version:"0"}])))},iR=e=>null!=(e=tH(e,e=>{var t,r;return e&&(t=rY(e[0]),(r=i$.get(t))!==e[1])?[t,e[1],r,e[0]]:tz}))?e:[],iP=e=>{var r,n,e=iR(e);null!=e&&e.length&&(r=e9(),tV(e,([,e,t])=>{e&&!e.cache&&(e.cache=null!=(e=null==t?void 0:t.cache)?e:[r,3e3])}),rn(i$,e),(n=tK(e,([,,,e])=>0<rG.compare(e.scope,"tab"))).length&&iM({type:"patch",payload:rr(n)}),iU(tH(e,([,e,t,r])=>[r,e,t]),i$,!0))},[,iB]=(rd((e,t)=>{ia(r=>{var n;r?(r=t(sessionStorage.getItem("_tail:state")),sessionStorage.removeItem("_tail:state"),iT=null!=(n=null==r?void 0:r[0])?n:e9(!0).toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),i$=new Map(t1(tK(i$,([,e])=>"view"===(null==e?void 0:e.scope)),tH(null==r?void 0:r[1],e=>[rY(e),e])))):sessionStorage.setItem("_tail:state",e([iT,tH(i$,([,e])=>e&&"view"!==e.scope?e:tz)]))},!0),iM=(t,r)=>{e&&(localStorage.setItem("_tail:state",e([iT,t,r])),localStorage.removeItem("_tail:state"))},nc(window,"storage",e=>{var a,l,o;"_tail:state"!==e.key||!(e=null==t?void 0:t(e.newValue))||e[2]&&e[2]!==iT||([e,{type:a,payload:l}]=e,"query"===a?r.active||iM({type:"set",payload:[tH(iC.knownTabs),tH(iC.variables)]},e):"set"===a&&r.active?(iC.knownTabs=new Map(l[0]),iC.variables=new Map(l[1]),i$=new Map(l[1]),r.trigger()):"patch"===a?(o=iR(tH(l,([e,t])=>[rQ(e),t])),rn(iC.variables,l),rn(i$,l),iU(tH(o,([,e,t,r])=>[r,e,t]),i$,!1)):"tab"===a&&(re(iC.knownTabs,e,l),l)&&iF("tab",l,!1))});var r=tt(()=>iF("ready",iC,!0),-25),n=tt({callback(){var e=e9()-1e4;tV(iC.knownTabs,([t,r])=>r[0]<e&&re(iC.knownTabs,t,void 0)),iO.heartbeat=e9(),iM({type:"tab",payload:iO})},frequency:5e3,paused:!0});ia(e=>(e=>{iM({type:"tab",payload:e?iO:void 0}),e?(r.restart(),iM({type:"query"})):r.toggle(!1),n.toggle(e)})(e),!0)},!0),ee()),[iW,iJ]=ee(),iL=(({timeout:t=1e3,encrypt:r=!0,retries:n=10}={})=>{var i=()=>(r?n8:n6)(localStorage.getItem("_tail:rq")),a=0,l=()=>localStorage.setItem("_tail:rq",(r?n4:n3)([iT,e9()+t]));return async(r,o,u=null!=o?1:n)=>{for(;u--;){var d=i();if((!d||d[1]<e9())&&(l(),(null==(d=i())?void 0:d[0])===iT))return 0<t&&(a=setInterval(()=>l(),t/2)),D(r,!0,()=>{clearInterval(a),localStorage.removeItem("_tail:rq")});var v=to(),[d]=nc(window,"storage",t=>{"_tail:rq"!==t.key||t.newValue||v.resolve()});e=[tl(null!=o?o:t),v],await Promise.race(e.map(e=>eh(e)?e():e)),d()}var e;null==o&&j("_tail:rq could not be acquired.")}})(),iV=async(e,t,{beacon:r=!1,encrypt:n=!0}={})=>{n=n&&n9;var i,a,l=!1,o=r=>{var o=eh(t)?null==t?void 0:t(i,r):t;return!1!==o&&(iB(e,i=null!=o&&!0!==o?o:i,r,e=>(l=i===L,i=e)),!l)&&(a=n?n4(i,!0):JSON.stringify(i))};if(!r)return iL(()=>eR(1,async t=>{var l;return o(t)?400<=(l=await fetch(e,{method:null!=i?"POST":"GET",cache:"no-cache",credentials:"include",mode:"cors",headers:{"Content-Type":"text/plain; charset=iso-8859-1"},body:a})).status?0===t?ex(j("Invalid response: "+await l.text())):(console.warn(`Request to ${e} failed on attempt ${t+1}/3.`),await tl(200*(1+t))):(null!=(l=null!=(t=n?new Uint8Array(await l.arrayBuffer()):await l.text())&&t.length?null==(l=n?n8:JSON.parse)?void 0:l(t):L)&&iJ(l),ex(l)):ex()}));o(0)&&!navigator.sendBeacon(e,new Blob(null!=i?[a]:[],{type:"text/plain; charset=iso-8859-1"}))&&j("Beacon send failed.")},tg=["scope","key","entityId","source"],iK=[...tg,"purpose","ifModifiedSince","ifNoneMatch","passive"],iG=[...tg,"value","force","ttl","version"],iX=Symbol(),iZ=new Map,iQ=Symbol(),i2=Symbol(),i5=[.75,.33],i3=[.25,.33],i4=e=>tH(((e,t,r)=>tQ(e).sort("function"==typeof t?(e,n)=>t2(t(e),t(n),r):eu(t)?t.length?(e,n)=>{for(var i=0,a=0;a<t.length&&!i;a++)i=t2(t[a](e),t[a](n),r);return i}:(e,t)=>t2(e,t,r):(e,r)=>t2(e,r,t)))(e,[e=>e.scope,e=>e.key]),e=>e?[e,`${rC(e)}, ${rZ(e)?"client-side memory only":(e=>{var t;return`${null!=(t=null==e?void 0:e.classification)?t:"anonymous"} data for ${ru(rp.parse(null==e?void 0:e.purposes,{names:!0}))}  purposes.`})(null==(e=e.schema)?void 0:e.usage)})`,H]:tz),ae=(e,t="A"===ni(e)&&r7(e,"href"))=>t&&"#"!=t&&!t.startsWith("javascript:"),at=(e,t=ni(e),r=nI(e,"button"))=>r!==H&&(M(t,"A","BUTTON")||"INPUT"===t&&M(nt(e,"type"),"button","submit")||r===K),ar=(e,t=!1)=>{var r;return{tagName:e.tagName,text:tp((null==(r=r7(e,"title"))?void 0:r.trim())||(null==(r=r7(e,"alt"))?void 0:r.trim())||(null==(r=e.innerText)?void 0:r.trim()),100),href:null==(r=e.href)?void 0:r.toString(),rect:t?nv(e):void 0}},ai=()=>null==S?void 0:S.clientId,aa={scope:"shared",key:"referrer"},al=(e,t)=>{k.variables.set({...aa,value:[ai(),e]}),t&&k.variables.get({scope:aa.scope,key:aa.key,poll:(r,n,i)=>!!r||(null==i?void 0:i[1])===e&&t()&&!1})},ao=e7(),au=e7(),as=1,[av,ac]=ee(),af=e=>{var t=e7(e,ao),r=e7(e,au),n=e7(e,iS),i=e7(e,()=>as);return(e,a)=>({totalTime:t(e,a),visibleTime:r(e,a),activeTime:n(e,a),activations:i(e,a)})},ap=af(),[ag,am]=ee(),ay=(e,t)=>(t&&tV(aw,t=>e(t,()=>!1)),ag(e)),ab=new WeakSet,aw=document.getElementsByTagName("iframe");function aS(e){if(e){if(null!=e.units&&M(e.action,null,"add","remove")){if(0===e.units)return;e.action=0<e.units?"add":"remove"}return e}}var aT=e=>(null==e?void 0:e.component)||(null==e?void 0:e.content),aI=e=>nA(e,t=>t!==e&&!!aT(nh.get(t)),e=>(T=nh.get(e),(T=nh.get(e))&&e_(eF(T.component,T.content,T),"tags"))),aA=(e,t)=>t?e:{...e,rect:void 0,content:(I=e.content)&&tH(I,e=>({...e,rect:void 0}))},aE=(e,t=H,r)=>{var n,i,a,l=[],o=[],u=0;return r8(e,e=>{var s,a,i=nh.get(e);i&&(aT(i)&&(a=eW(tQ(i.component),e=>{var r;return 0===u||!t&&(1===u&&(null==(r=e.track)?void 0:r.secondary)!==K||(null==(r=e.track)?void 0:r.promote))}),n=(null!=r?r:eH(a,e=>null==(e=e.track)?void 0:e.region))&&nv(e)||void 0,s=aI(e),i.content&&e4(l,...tH(i.content,e=>({...e,rect:n,...s}))),null!=a)&&a.length&&(e4(o,...tH(a,e=>{var t;return u=eL(u,null!=(t=e.track)&&t.secondary?1:2),aA({...e,content:l.length?l:void 0,rect:n,...s},!!n)})),l=[]),a=i.area||nT(e,"area"))&&e4(o,a)}),l.length&&e6(o,aA({id:"",rect:n,content:l})),tV(o,e=>{el(e)?e6(null!=i?i:i=[],e):(null==e.area&&(e.area=ro(i,"/")),e4(null!=a?a:a=[],e))}),a||i?{components:a,area:ro(i,"/")}:void 0},aN=Symbol(),a$=[{id:"context",setup(e){tt(()=>tV(aw,e=>t7(ab,e)&&am(e)),500).trigger(),e.variables.get({scope:"view",key:"view",poll(t){return null==S||!t||null!=S&&S.definition?null!=(n=t)&&t.navigation&&f(!0):(S.definition=t,null!=(t=S.metadata)&&t.posted?e.events.postPatch(S,{definition:n}):n5(S,S.type+" (definition updated)")),!0}});var n,t,d=null!=(t=null==(t=iq({scope:"tab",key:"viewIndex"}))?void 0:t.value)?t:0,v=null==(t=iq({scope:"tab",key:"tabIndex"}))?void 0:t.value,c=(null==v&&iz({scope:"tab",key:"tabIndex",value:v=null!=(t=null!=(t=null==(t=iq({scope:"shared",key:"tabIndex"}))?void 0:t.value)?t:null==(t=iq({scope:"session",key:"@info"}))||null==(t=t.value)?void 0:t.tabs)?t:0},{scope:"shared",key:"tabIndex",value:v+1}),null),f=(t=H)=>{var a,l,o,i,p;no(""+c,c=location.href)&&!t||({source:t,scheme:i,host:a}=tb(location.href+"",{requireAuthority:!0}),S={type:"view",timestamp:e9(),clientId:iI(),tab:iT,href:t,path:location.pathname,hash:location.hash||void 0,domain:{scheme:i,host:a},tabNumber:v+1,tabViewNumber:d+1,viewport:np(),duration:ap(void 0,!0)},0===v&&(S.firstTab=K),0===v&&0===d&&(S.landingPage=K),iz({scope:"tab",key:"viewIndex",value:++d}),l=tw(location.href),tH(["source","medium","campaign","term","content"],(e,t)=>{var n;return null!=(e=(null!=(n=(o=S).utm)?n:o.utm={})[e]=null==(n=tQ(l["utm_"+e]))?void 0:n[0])?e:tz}),!(S.navigationType=x)&&performance&&tV(performance.getEntriesByType("navigation"),e=>{S.redirects=e.redirectCount,S.navigationType=t_(e.type,/\_/g,"-")}),x=void 0,"navigate"===(null!=(t=S.navigationType)?t:S.navigationType="navigate")&&(p=null==(i=iq(aa))?void 0:i.value)&&nZ(document.referrer)&&(S.view=null==p?void 0:p[0],S.relatedEventId=null==p?void 0:p[1],e.variables.set({...aa,value:void 0})),(p=document.referrer||null)&&!nZ(p)&&(S.externalReferrer={href:p,domain:(()=>{var{host:t,scheme:r,port:n}=tb(p,{delimiters:!1,requireAuthority:!0});return{host:t+(n?":"+n:""),scheme:r}})()}),S.definition=n,n=void 0,e.events.post(S),e.events.registerEventPatchSource(S,()=>({duration:ap()})),ac(S))};return io(e=>{e?(au(K),++as):au(H)}),nc(window,"popstate",()=>(x="back-forward",f())),tV(["push","replace"],e=>{var t=history[e+="State"];history[e]=(...e)=>{t.apply(history,e),x="navigate",f()}}),f(),{processCommand:t=>a_(t)&&(e(t.username?{type:"login",username:t.username}:{type:"logout"}),K),decorate(e){!S||rJ(e)||ry(e)||(e.view=S.clientId)}}}},{id:"components",setup(e){var t=(e=>{var t=new IntersectionObserver(e=>tV(e,e=>{var t,r;return null==(t=(r=e.target)[i2])?void 0:t.call(r,e)})),r=new Set,n=(tt({callback:()=>tV(r,e=>e()),frequency:250,raf:!0}),(e,t,r=0)=>e<r?r:t<e?t:e),i=r5.createRange();return(a,l)=>{var o,u,s,d,v,c,f,p,h,g,m,y,b,w,k,S;l&&(o=eW(null==l?void 0:l.component,e=>{var t;return(null==(t=e.track)?void 0:t.impressions)||(null!=(t=null==(t=e.track)?void 0:t.secondary)?t:e.inferred)!==K}))&&eJ(o)&&(p=f=H,g=h=0,m=(e,t,r,n)=>{var i,a=null!=(a=(i=null!=u?u:u=[])[e])?a:i[e]=[{duration:0,impressions:0},e7(!1,iS),!1,!1,0,0,0,tF()];a[4]=t,a[5]=r,a[6]=n},y=[tF(),tF()],b=af(!1),w=e7(!1,iS),k=-1,S=()=>{var $,t=a.getBoundingClientRect(),r=window.innerWidth,l=window.innerHeight,S=[n(t.top,l),n(t.right,r),n(t.bottom,l),n(t.left,r)],x=S[2]-S[0],S=S[1]-S[3],E=f?i3:i5,r=(E[0]*l<x||E[0]<(x/t.height||0))&&(E[0]*r<S||E[0]<(S/t.width||0));if(p!==r&&w(p=r,!0),f!==(f=p&&w()>=nE.impressionThreshold-250)&&(++h,b(f),s||(s=tH(o,e=>((null==(e=e.track)?void 0:e.impressions)||nI(a,"impressions",K,e=>null==(e=e.track)?void 0:e.impressions))&&B({type:"impression",pos:nu(a),viewport:np(),timeOffset:ap(),impressions:h,...aE(a,K)})||tz),e(s)),null!=s)&&s.length&&($=b(),d=tH(s,t=>e.events.registerEventPatchSource(t,()=>({relatedEventId:t.clientId,duration:$,impressions:h,regions:u&&{top:u[0][0],middle:u[1][0],bottom:u[2][0]},seen:g,text:c,read:$.activeTime&&c&&n($.activeTime/c.readTime,g)})))),t.height!==k){k=t.height;E=a.textContent;if({boundaries:v,...c}=(e=>{for(var r,n,i=RegExp("[\\p{L}\\p{N}][\\p{L}\\p{N}'â€™]*|([.!?]+)","gu"),a=0,l=0,o=0,u=0,s=!1;r=i.exec(e);)r[1]?(s&&++u,s=!1):(s=!0,a+=r[0].length,6<r[0].length&&++o,++l);s&&++u;var i=RegExp("[\\p{L}\\p{N}]|([^\\p{L}\\p{N}]+)","gu"),d=[0,.25,.75,1].map(e=>e*a|0),v=[],f=0,p=!1;do{if(null!=(r=i.exec(e))&&r[1])p&&++f;else{for(var c=null==r?void 0:r.index,h=!1,g=0;g<d.length;g++)d[g]--||(v[g]={offset:null!=n?n:c,wordsBefore:f,readTime:eb(f/238*6e4)},h=!0);(p=!h)||(f=0),n=c+1}}while(r);return{text:e,length:e.length,characters:a,words:l,sentences:u,lix:eb(l/u+100*o/l),readTime:eb(l/238*6e4),boundaries:v}})(null!=E?E:""),u||t.height>=1.25*l){var C=r5.createTreeWalker(a,NodeFilter.SHOW_TEXT),_=0,F=0;for(null==u&&(u=[]);F<v.length&&(j=C.nextNode());){var j,U,M,P,D,z=null!=(U=null==(U=j.textContent)?void 0:U.length)?U:0;for(_+=z;_>=(null==(M=v[F])?void 0:M.offset);)i[F%2?"setEnd":"setStart"](j,v[F].offset-_+z),F++%2&&({top:M,bottom:P}=i.getBoundingClientRect(),D=t.top,F<3?m(0,M-D,P-D,v[1].readTime):(m(1,u[0][4],M-D,v[2].readTime),m(2,M-D,P-D,v[3].readTime)))}}}var r=t.left<0?-t.left:0,E=t.top<0?-t.top:0,L=t.width*t.height;f&&(g=y[0].push(E,E+x)*y[1].push(r,r+S)/L),u&&tV(u,e=>{var r=n(t.top<0?-t.top:0,e[5],e[4]),i=n(t.bottom>l?l:t.bottom,e[5],e[4]),a=f&&0<i-r,o=e[0];o.duration=e[1](a),a&&(e[3]!==(e[3]=a)&&++e[0].impressions,o.seen=e[7].push(r,i)/(e[5]-e[4]),o.read=n(o.duration/e[6],o.seen))})},a[i2]=({isIntersecting:e})=>{eY(r,S,e),e||(tV(d,e=>e()),S())},t.observe(a))}})(e),n=({boundary:e,...n})=>{eQ(nh,e,e=>{var t;return(e=>null==e?void 0:{...e,component:tQ(e.component),content:tQ(e.content),tags:tQ(e.tags)})("add"in n?{...e,component:eF(null==e?void 0:e.component,n.component),content:eF(null==e?void 0:e.content,n.content),area:null!=(t=null==n?void 0:n.area)?t:null==e?void 0:e.area,tags:eF(null==e?void 0:e.tags,n.tags),cart:null!=(t=n.cart)?t:null==e?void 0:e.cart,track:null!=(t=n.track)?t:null==e?void 0:e.track}:"update"in n?n.update(e):n)}),t(e,nh.get(e))};return{decorate(e){tV(e.components,t=>{re(t,"track",void 0),tV(e.clickables,e=>re(e,"track",void 0))})},processCommand:e=>aU(e)?(n(e),K):aD(e)?(tV(((e,t)=>{var r,n;return t?(r=[],n=new Set,document.querySelectorAll(`[${e}]`).forEach(i=>{if(!n.has(i))for(var a=[];null!=r7(i,e);){((e,t)=>e instanceof Set||e instanceof WeakSet?e.has(t)||e.add(t):eX(e,t)||eG(e,t,!0))(n,i);var l,o=tC(r7(i,e),"|");r7(i,e,null);for(var u=0;u<o.length;u++){var d=o[u];if(""!==d){var s="-"===d?-1:parseInt(null!=(s=eo(d))?s:"",36);if(s<0)a.length+=s;else{if(0===u&&(a.length=0),isNaN(s)&&/^["\[{]/.test(d))for(var c="";u<o.length;u++)try{d=JSON.parse(c+=o[u]);break}catch{}0<=s&&t[s]&&(d=t[s]),e6(a,d)}}}e6(r,...tH(a,e=>({add:K,...e,boundary:i})));var f=i.nextElementSibling;"WBR"===i.tagName&&null!=(l=i.parentNode)&&l.removeChild(i),i=f}}),r):[]})(e.scan.attribute,e.scan.components),n),K):H}}},{id:"navigation",setup(e){var t=new WeakMap,r=r=>{nc(r,["click","contextmenu","auxclick"],n=>{var i,a,l,o,u,s=H;if(r8(n.target,e=>{at(e)&&null==l&&(l=e),s=s||"NAV"===ni(e);var t,d=ng(e),d=null==d?void 0:d.component;!n.button&&null!=d&&d.length&&!u&&(tV(e.querySelectorAll("a,button"),t=>at(t)&&(3<(null!=u?u:u=[]).length?ex():u.push({...ar(t,!0),component:r8(t,(e,t,r,n=null==(i=ng(e))?void 0:i.component)=>n&&t(n[0]),t=>t===e)}))),u)&&null==o&&(o=e),null==i&&(i=null!=(t=nI(e,"clicks",K,e=>null==(e=e.track)?void 0:e.clicks))?t:d&&eH(d,e=>(null==(e=e.track)?void 0:e.clicks)!==H)),null==a&&(a=null!=(t=nI(e,"region",K,e=>null==(e=e.track)?void 0:e.region))?t:d&&eH(d,e=>null==(e=e.track)?void 0:e.region))}),null!=o?o:o=l){var d,v=u&&!l&&i,c=aE(null!=l?l:o,!1,v),f=nA(null!=l?l:o,void 0,e=>tK(tQ(null==(e=nh.get(e))?void 0:e.tags))),p=(null==i&&(i=!s),{...(a=null==a?K:a)?{pos:nu(l,n),viewport:np()}:null,...((e,t)=>{var n;return r8(null!=e?e:t,e=>"IMG"===ni(e)||e===t?(n={element:ar(e,!1)},H):K),n})(n.target,null!=l?l:o),...c,timeOffset:ap(),...f});if(l)if(ae(l)){var h=l,c=h.hostname!==location.hostname,{host:f,scheme:y,source:b}=tb(h.href,{delimiters:!1,requireAuthority:!0});if(h.host===location.host&&h.pathname===location.pathname&&h.search===location.search)return"#"===h.hash?void 0:void(h.hash!==location.hash&&0===n.button&&e(B({type:"anchor_navigation",anchor:h.hash,...p})));var k,x,w=B({clientId:iI(),type:"navigation",href:c?h.href:b,external:c,domain:{host:f,scheme:y},self:K,anchor:h.hash,...p});"contextmenu"!==n.type?n.button<=1&&(1===n.button||n.ctrlKey||n.shiftKey||n.altKey||r7(h,"target")!==window.name?(al(w.clientId),w.self=H,e(w)):no(location.href,h.href)||(w.exit=w.external,al(w.clientId))):(k=h.href,(b=nZ(k))?al(w.clientId,()=>e(w)):(x=(""+Math.random()).replace(".","").substring(1,8),b||nE.captureContextMenu&&(h.href=n0+"="+x+encodeURIComponent(k),nc(window,"storage",(t,r)=>"_tail:push"===t.key&&(t.newValue&&(null==(t=JSON.parse(t.newValue))?void 0:t.requestId)===x&&e(w),r())),nc(r,["keydown","keyup","visibilitychange","pointermove"],(e,t)=>{t(),h.href=k}))))}else{r8(n.target,(e,t)=>{var r;return!!(null!=d?d:d=(e=>el(e=null==e||e!==K&&""!==e?e:"add")&&M(e,"add","remove","update","clear")?{action:e}:ev(e)?e:void 0)(null!=(r=null==(r=ng(e))?void 0:r.cart)?r:nT(e,"cart")))&&!d.item&&(d.item=(e=>null==e?L:eu(e)||el(e)?e[e.length-1]:eq(e,(e,r)=>e,void 0,void 0))(null==(r=ng(e))?void 0:r.content))&&t(d)});c=aS(d);(c||i)&&e(B(c?{type:"cart_updated",...p,...c}:{type:"component_click",...p}))}else v&&eQ(t,o,r=>{var i=ns(o,n);return r?e6(r,i):(i=B({type:"component_click_intent",...p,clicks:r=[i],clickables:u}),e.events.registerEventPatchSource(i,()=>({clicks:t.get(o)}),!0,o)),r})}})};r(document),ay(e=>e.contentDocument&&r(e.contentDocument))}},{id:"scroll",setup(e){var t={},r=nl(K);av(()=>{return e=()=>(t={},r=nl(K)),setTimeout(e,250);var e}),nc(window,"scroll",()=>{var a,n=nl(),i={x:(o=nl(H)).x/(r3.offsetWidth-window.innerWidth)||0,y:o.y/(r3.offsetHeight-window.innerHeight)||0};n.y>=r.y&&(a=[],!t.fold&&n.y>=r.y+200&&(t.fold=K,e6(a,"fold")),!t["page-middle"]&&.5<=i.y&&(t["page-middle"]=K,e6(a,"page-middle")),!t["page-end"]&&.99<=i.y&&(t["page-end"]=K,e6(a,"page-end")),(n=tH(a,e=>B({type:"scroll",scrollType:e,offset:i}))).length)&&e(n)})}},{id:"cart",setup:e=>({processCommand(t){var r;return aC(t)?("clear"===(r=t.cart)?e({type:"cart_updated",action:"clear"}):(r=aS(r))&&e({...r,type:"cart_updated"}),K):aP(t)?(e({type:"order",...t.order}),K):H}})},{id:"forms",setup(e){var t,r=new Map,n=(e,t=!1)=>{var r=!t||ne(e,nm("form-value")),e=(t&&(r=r?en(r):"checkbox"===e.type),e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"true":"false":e.value);return t&&(e=e&&tp(e,200)),r?e:void 0},i=t=>{var i,l,s,a=t.form;if(a)return l=ne(a,nm("ref"))||"track_ref",(s=t9(r,a,()=>{var t,r=new Map,n={type:"form",name:ne(a,nm("form-name"))||r7(a,"name")||a.id||void 0,activeTime:0,totalTime:0,fields:{}},l=(e.events.post(n),e.events.registerEventPatchSource(n,()=>({...n,timeOffset:ap()})),()=>{1!==t[3]&&(o(),2<=t[3]&&(n.completed=3===t[3]||!(a.isConnected&&nv(a).width)),e.events.postPatch(n,{...i,completed:n.completed,totalTime:e9(K)-t[4]}),t[3]=1)}),s=((e=0)=>{var t,r,n=(i,a=e)=>{if(void 0===i)return!!r;clearTimeout(t),er(i)?i&&(a<0?ei:J)(null==r?void 0:r())?n(r,a):r=void 0:(r=i,t=setTimeout(()=>n(!0,a),a<0?-a:a))};return n})();return nc(a.ownerDocument.body,"submit",e=>{var r,n;i=aE(a),t[3]=3,e.defaultPrevented?([r]=ia(e=>{e||(n?n5("The browser is navigating to another page after submit leaving a reCAPTCHA challenge. "+tf("Form not submitted",1)):3===t[3]?(n5("The browser is navigating to another page after submit. "+tf("Form submitted",1)),l()):n5("The browser is navigating to another page after submit, but submit was earlier cancelled because of validation errors. "+tf("Form not submitted.",1)),r())}),n=!1,s(()=>{if((()=>{for(var e=a.ownerDocument;e;){if(t0(e.querySelectorAll("iframe"),e=>e.src.match(RegExp("https:\\/\\/www.google.com\\/.*(?<=\\/)recaptcha\\/.*(?<=\\/)bframe","gi"))&&(e=>{if(!e||!e.isConnected||nv(e,!1).width<=0)return!1;for(;e;){var t=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);if("hidden"===t.visibility||"0"===t.opacity)return!1;e=e.parentElement}return!0})(e)))return!0;e=z(()=>{var r;return null==(r=e.defaultView)||null==(r=r.frameElement)?void 0:r.ownerDocument},()=>{})}return!1})())return t[3]=2,n5("reCAPTCHA challenge is active."),n=!0;n&&(n=!1,n5("reCAPTCHA challenge ended (for better or worse)."),t[3]=3),a.isConnected&&0<nv(a).width?(t[3]=2,n5("Form is still visible after 1750 ms, validation errors assumed. "+tf("Form not submitted",1))):(n5("Form is no longer visible 1750 ms after submit. "+tf("Form submitted",1)),l()),r()},1750)):(n5("Submit event triggered and default not prevented. "+tf("Form submitted",1)),l())},{capture:!1}),t=[n,r,a,0,e9(K),1]}))[1].get(t)||tV(a.querySelectorAll("INPUT,SELECT,TEXTAREA,BUTTON"),(e,t)=>{var d,v,a;"BUTTON"===e.tagName&&"submit"!==e.type||(e.name&&"hidden"!==e.type?(a=null!=(d=(a=s[0].fields)[v=e.name])?d:a[v]={id:e.id||v,name:v,label:t_(null!=(v=null==(d=e.labels)||null==(a=d[0])?void 0:a.innerText)?v:e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,totalTime:0,type:null!=(d=e.type)?d:"unknown",[aN]:n(e),value:n(e,!0)},s[0].fields[a.name]=a,s[1].set(e,a)):"hidden"!==e.type||e.name!==l&&!nI(e,"ref")||(e.value||(e.value=t_("10000000-1000-4000-8000-100000000000",/[018]/g,e=>((e*=1)^(e=>crypto.getRandomValues(e))(new Uint8Array(1))[0]&15>>e/4).toString(16))),s[0].ref=e.value))}),[t,s]},a=(e,[r,n]=null!=(t=i(e))?t:[],a=null==n?void 0:n[1].get(r))=>a&&[n[0],a,r,n],l=null,o=()=>{var r,i,a,o,d,v,c;l&&([r,i,a,o]=l,d=-(u-(u=au())),v=-(s-(s=e9(K))),c=i[aN],(i[aN]=n(a))!==c&&(null==i.fillOrder&&(i.fillOrder=o[5]++),i.filled&&(i.corrections=(null!=(c=i.corrections)?c:0)+1),i.filled=K,o[3]=2,tV(r.fields,([e,t])=>t.lastField=e===i.name)),i.value=n(a,!0),i.activeTime+=d,i.totalTime+=v,r.activeTime+=d,r.totalTime+=v,l=null)},u=0,s=0,d=e=>e&&nc(e,["focusin","focusout","change"],(e,t,r=e.target&&a(e.target))=>r&&(l=r,"focusin"===e.type?(s=e9(K),u=au()):o()));d(document),ay(e=>e.contentDocument&&d(e.contentDocument),!0)}},{id:"consent",setup(e){var t,n=async t=>e.variables.get({scope:"session",key:"@consent",poll:t,refresh:!t,passive:!t}).value(),i=async t=>{var r;if(t)return!(r=await n())||rg.equals(r,t)?[!1,r]:(await e.events.post(B({type:"consent",consent:t}),{async:!1,variables:{get:[{scope:"session",key:"@consent"}]}}),[!0,t])},r={analytics_storage:"performance",functionality_storage:"functionality",personalization_storage:"personalization",ad_storage:"marketing",security_storage:"security"},a=(e({consent:{externalSource:{key:"Google Consent Mode v2",frequency:250,poll(){var e,n=r2.dataLayer,i=t,a=null==n?void 0:n.length;if(a&&(t!==(t=n[a-1])||!t))for(;a--&&((e=n[a])!==i||!i);){var l={},o=!0;if("consent"===(null==e?void 0:e[0])&&"update"===e[1])return tH(r,([t,r])=>"granted"===e[2][t]&&(l[r]=!0,o=o&&("security"===r||"necessary"===r))),{classification:o?"anonymous":"direct",purposes:l}}}}}}),{});return{processCommand(e){var t,r,l,s,d;return aJ(e)?((t=e.consent.get)&&n((e,r,n)=>!e||t(e,n)),(r=e.consent.set)&&(async()=>{var e,t,n;"consent"in r?([t,n]=await i(r.consent),null!=(e=r.callback)&&e.call(r,t,n)):i(r)})(),(l=e.consent.externalSource)&&(d=l.key,(null!=(e=a[d])?e:a[d]=tt({frequency:null!=(e=l.frequency)?e:1e3})).restart(l.frequency,async()=>{var e,t,r;r5.hasFocus()&&(e=l.poll(s))&&!rg.equals(s,e)&&([t,r]=await i(e),t&&n5(r,"Consent was updated from "+d),s=e)}).trigger()),K):H}}}}],A=(...e)=>t=>t===e[0]||e.some(e=>"string"==typeof e&&void 0!==(null==t?void 0:t[e])),aC=A("cart"),a_=A("username"),aF=A("tagAttributes"),aj=A("disable"),aU=A("boundary"),aM=A("extension"),aq=A(K,"flush"),az=A("get"),aR=A("listener"),aP=A("order"),aD=A("scan"),aB=A("set"),aW=e=>"function"==typeof e,aJ=A("consent");(e=>{if(!k){el(e)&&([r,e]=n6(e),e=nJ(r,{decodeJson:!0})[1](e)),ri(nE,[e],{overwrite:!0}),(e=>{n8===r1&&([n4,n8]=nJ(e,{json:!e,prettify:!1}),n9=!!e,ie(n4,n8))})(e2(nE,"encryptionKey"));var r,l,o,u,s,d,v,c,f,p,h,g,m,i=e2(nE,"key"),a=null!=(e=null==(r=r2[nE.name])?void 0:r._)?e:[];if(eu(a))return l=[],o=[],u=(e,...t)=>{var r=K;o=eW(o,n=>z(()=>{var i;return null!=(i=n[e])&&i.call(n,...t,{tracker:k,unsubscribe:()=>r=H}),r},(e=>t=>ii(e,t))(n)))},s=[],v=((e,t)=>{var r=tt(async()=>{var e=tH(iZ,([e,t])=>t0(t,e=>null==(e=e[iX])?void 0:e.refresh)?{...rQ(e),refresh:!0}:tz);e.length&&await a.get(e)},3e3),n=(e,t)=>t&&!!t9(iZ,e,()=>new Set).add(t),a=(ia((e,t)=>r.toggle(e,e&&3e3<=t),!0),ij(e=>tV(e,([e,t])=>{null!=t&&t.passive?delete t.passive:(e=>{var t,r;e&&(t=rY(e),null!=(r=e2(iZ,t)))&&r.size&&tV(r,r=>!0===r(e)&&n(t,r))})(t?{status:rF.Success,...t}:{status:rF.NotFound,...e})})),{get:r=>rB("get",r,async r=>{r[0]&&!el(r[0])||(l=r[0],r=r.slice(1)),null!=t&&t.validateKey(l);var o=new Map,u=[],s=tH(r,e=>{var t=iq(rY(e)),r=e.purpose;if(r&&!0!==(null==t||null==(i=t.schema)?void 0:i.usage.purposes[r]))o.set(e,{...e,status:rF.Forbidden,error:`No consent for '${r}'.`});else if(!e.refresh&&t)o.set(e,{status:rF.Success,...t});else{if(!rZ(e))return[ra(e,iK),e];var i,r=null==(i=e.init)?void 0:i.call(e);r?(r={...r_(e),version:"1",created:d,modified:d,value:r,cache:[d,null!=(i=e.ttl)?i:null==t?void 0:t.ttl]},rt(u,[r_(r),r]),o.set(e,{status:rF.Success,...r})):o.set(e,{status:rF.NotFound,...r_(e)})}return tz}),d=e9(),l=s.length&&(null==(l=await iV(e,{variables:{get:tH(s,([e])=>e)},deviceSessionId:null==t?void 0:t.deviceSessionId}))||null==(r=l.variables)?void 0:r.get)||[],c=[];return tV(l,(e,t)=>{var n,r;(null==e?void 0:e.status)===rF.NotFound?null!=(r=null==(r=(n=s[t][1]).init)?void 0:r.call(n))&&c.push([n,{...r_(n),value:r}]):o.set(s[t][1],rX(e))}),c.length&&tV(await a.set(tH(c,([,e])=>e)).all(),(e,t)=>o.set(c[t][0],rX(e.status===rF.Conflict?{...e,status:rF.Success}:e.status===rF.Success&&null==e.value?{...e,status:rF.NotFound}:e))),u.length&&iP(u),o},{poll:(e,t)=>(t[iX]=e,n(rY(e),t)),logCallbackError:(e,t,r)=>ii("Variables.get",e,{operation:t,error:r})}),set:r=>rB("set",r,async r=>{r[0]&&!el(r[0])||(n=r[0],r=r.slice(1)),null!=t&&t.validateKey(n);for(var n,i,l=[],o=new Map,u=e9(),s=[],d=tH(r,e=>{var i,r,t=iq(rY(e));return rZ(e)?((r=null==(i=e.patch?e.patch(null==t?void 0:t.value):e.value)?void 0:{...r_(e),created:null!=(r=null==t?void 0:t.created)?r:u,modified:u,version:null!=t&&t.version?""+(parseInt(t.version)+1):"1",scope:e.scope,key:e.key,value:i,cache:[u,e.ttl]})&&(r.cache=[u,null!=(i=e.ttl)?i:3e3]),o.set(e,r?{status:t?rF.Success:rF.Created,...r}:{status:rF.Success,...r_(e)}),rt(l,[r_(e),r]),tz):e.patch?(s.push(e),tz):(void 0===(null==e?void 0:e.version)&&(e.version=null==t?void 0:t.version),[ra(e,iG),e])}),v=0;!v++||s.length;)tV(await a.get(tH(s,e=>r_(e))).all(),(e,t)=>{var r=s[t];rU(e,!1)?rt(d,[{...r,patch:void 0,value:s[t].patch(null==e?void 0:e.value),version:e.version},r]):o.set(r,e)}),s=[],tV(d.length?(e=>null!=e?e:j("No result.",e=>TypeError(e.replace("..."," is required."))))(null==(i=(await iV(e,{variables:{set:tH(d,([e])=>e)},deviceSessionId:null==t?void 0:t.deviceSessionId})).variables)?void 0:i.set):[],(e,t)=>{var[,t]=d[t];v<=3&&t.patch&&((null==e?void 0:e.status)===rF.Conflict||(null==e?void 0:e.status)===rF.NotFound)?rt(s,t):o.set(t,rX(e))});return l.length&&iP(l),o},{logCallbackError:(e,t,r)=>ii("Variables.set",e,{operation:t,error:r})})});return iW(({variables:e})=>{e&&null!=(e=t1(tH(e.get,e=>rj(e)?e:tz),tH(e.set,e=>rU(e)?e:tz)))&&e.length&&iP(tH(e,e=>[r_(e),rU(e)?e:void 0]))}),a})(nQ,d={applyEventExtensions(e){return null==e.clientId&&(e.clientId=iI()),null==e.timestamp&&(e.timestamp=e9()),h=K,tV(l,([,t])=>{var r;return(null==(r=t.decorate)?void 0:r.call(t,e))===H&&tR(!0)})?void 0:e},validateKey:(e,t=!0)=>!i&&!e||e===i||!!t&&j(`'${e}' is not a valid key.`)}),c=((e,t,r=5e3)=>{var n=[],i=new WeakMap,a=new Map,l=(e,t)=>{var r;return null!=(r=e.metadata)&&r.queued?eZ(t,{type:e.type+"_patch",patchTargetId:e.clientId}):j("Source event not queued.")},o=e=>{i.set(e,e3(e))},u=async(r,n=!0,i)=>{var a;return r[0]&&!el(r[0])||(a=r[0],r=r.slice(1)),r=tH(r,e=>{if(null!=t&&t.validateKey(null!=a?a:e.key),eZ(e,{metadata:{posted:!0}}),e[iQ]){if(tV(e[iQ],(t,r,n)=>!1===t(e)||n,!1))return;delete e[iQ]}return eZ(rm(e3(e),!0),{timestamp:e.timestamp-e9()})}),n5({[n2]:tH(r,e=>[e,e.type,H])},"Posting "+ru([tv("new event",[eJ(r,e=>!ry(e))||void 0]),tv("event patch",[eJ(r,e=>ry(e))||void 0])])+(n?" asynchronously":" synchronously")+"."),iV(e,{events:r,variables:i,deviceSessionId:null==t?void 0:t.deviceSessionId},{beacon:n})},s=async(e,{flush:r=!1,async:i=!0,variables:a}={})=>{var l=[];if(e=tH(tQ(e),e=>{var r;return null!=(r=e.metadata)&&r.queued||e6(l,e),null!=(r=ri(t.applyEventExtensions(e),{metadata:{queued:!0}}))?r:tz}),tV(l,e=>n5(e,e.type)),!i)return u(e,!1,a);r?(n.length&&e4(e,...n.splice(0)),e.length&&await u(e,!0,a)):e.length&&e6(n,...e)};return 0<r&&tt(()=>s([],{flush:!0}),r),io((e,t,r)=>{!e&&(n.length||t||1500<r)&&(e=tH(a,([e,t])=>{var[t,n]=t();return n&&(a.delete(e),i.delete(e)),null!=t?t:tz}),n.length||e.length)&&s(eF(n.splice(0),e),{flush:!0})}),{post:s,postPatch:(e,t,r)=>s(l(e,t),{flush:!0}),registerEventPatchSource(e,t,r=!1,n){var u=!1,d=()=>{u=!0};return o(e),((e,t)=>{(null!=(e=(b=e)[w=iQ])?e:b[w]=new Set).add(t)})(e,o),a.set(e,()=>{if(!1===(null==n?void 0:n.isConnected))d();else{var a=i.get(e),o=t(a,d),[o,v]=(n5({diff:{snapshot:a,patched:o},stack:Error().stack},"Patch "+a.type),null!=(o=e8(o,a))?o:[]);if(o&&!U(v,a))return i.set(e,e3(v)),[l(e,o),u]}return[void 0,u]}),r&&s(e),d}}})(nQ,d),f=null,p=0,g=h=H,m=!1,k=(...e)=>{if(m){if(e.length){1<e.length&&(!e[0]||el(e[0]))&&(t=e[0],e=e.slice(1)),el(e[0])&&(r=e[0],e=ek(r)?JSON.parse(r):n6(r));var t,n=H;if((e=eW(tG(e,e=>el(e)?n6(e):e),e=>{if(!e)return H;if(aF(e))nE.tags=eY({},nE.tags,e.tagAttributes);else{if(aj(e))return nE.disabled=e.disable,H;if(aq(e))return n=K,H;if(aW(e))return e(k),H}return g||aR(e)||aM(e)?K:(s.push(e),H)})).length||n){var r=eK(e,e=>aM(e)?-100:aR(e)?-50:aB(e)?-10:90*!!rW(e));if(!f||!f.splice(h?p+1:f.length,0,...r)){for(p=0,f=r;p<f.length;p++){var y=f[p];y&&(d.validateKey(null!=t?t:y.key),z(()=>{var e=f[p];if(u("command",e),h=H,rW(e))c.post(e);else if(az(e))v.get(tQ(e.get));else if(aB(e))v.set(tQ(e.set));else if(aR(e))e6(o,e.listener);else if(aM(e))(t=z(()=>e.extension.setup(k),t=>ii(e.extension.id,t)))&&(e6(l,[null!=(r=e.priority)?r:100,t,e.extension]),eK(l,([e])=>e));else if(aW(e))e(k);else{var r,n,t,a=H;for([,t]of l)if(a=null!=(n=null==(n=t.processCommand)?void 0:n.call(t,e))?n:H)break;a||ii("invalid-command",e,"Loaded extensions:",tH(l,e=>e[2].id))}},e=>ii(k,"internal-error",e)))}f=null,n&&c.post([],{flush:n})}}}}else a.push(...e)},Object.defineProperty(r2,nE.name,{value:Object.freeze(Object.assign(k,{id:"tracker_"+iI(),events:c,variables:v,__isTracker:K})),configurable:!1,writable:!1}),ij((e,t,r)=>{var n=eF(i4(tH(e,([,e])=>e||tz)),[[{[n2]:i4(tH(t,([,e])=>e||tz))},"All variables",K]]);n5({[n2]:n},tf(`Variables changed${r?"":" - merging changes from another tab"} (${e.length} changed, ${eJ(t)} in total).`,"2;3"))}),i_(async(e,t,r,n)=>{var l;"ready"===e&&([e,l]=await v.get([{scope:"session",key:"@info",refresh:!0},{scope:"session",key:"@consent",refresh:!0,cache:V}]).values(!0),d.deviceSessionId=e.deviceSessionId,e.hasUserAgent||((e=>{e(B({type:"user_agent",hasTouch:0<navigator.maxTouchPoints,userAgent:navigator.userAgent,view:null==S?void 0:S.clientId,languages:tH(navigator.languages,(e,t)=>{var[r,n]=e.split("-");return B({id:e,language:r,region:n,primary:0===t,preference:t+1})}),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:(new Date).getTimezoneOffset()},...(r=null==r2?void 0:r2.screen,r?({width:r,height:i,orientation:a}=r,l=r<i,-90!==(a=null!=(a=null!=(a=null==a?void 0:a.angle)?a:r2.orientation)?a:0)&&90!==a||([r,i]=[i,r]),{deviceType:r<480?"mobile":r<=1024?"tablet":"desktop",screen:{dpr:r2.devicePixelRatio,width:r,height:i,landscape:l}}):{})}));var i,l,a,r})(k),e.hasUserAgent=!0),g=!0,s.length&&k(s),n(),m=!0,k(...tH(a$,e=>({extension:e})),...a),k({set:{scope:"view",key:"loaded",value:!0}}))},!0);j(`The global variable for the tracker "${nE.name}" is used for something else than an array of queued commands.`)}})("{{CONFIG}}")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFpbC5kZWJ1Zy5tYXAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy9jb25zdGFudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9yZWdleC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9FdmVudE1ldGFkYXRhLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3V0aWwvcGFyc2VUYWdzLnRzIiwiLi4vLi4vc3JjL2xpYi9kb20vZG9tLXV0aWwudHMiLCIuLi8uLi9zcmMvbGliL2RvbS9kb20tZGF0YS50cyIsIi4uLy4uLy4uL3RyYW5zcG9ydC9zcmMvdHJhbnNwb3J0LnRzIiwiLi4vLi4vc3JjL2xpYi9ldmVudFF1ZXVlLnRzIiwiLi4vLi4vc3JjL2luaXRpYWxpemVUcmFja2VyLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvdmlldy50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL2NvbXBvbmVudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy90eXBlcy92YWxpZGF0aW9uLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvdHlwZXMvdHlwZXMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9pdGVyYXRvcnMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9hY2Nlc3NvcnMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy90aW1lLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvY29uY3VycmVuY3kudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9ldmVudHMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9zdHJpbmdzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvZW51bXMudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9wYXJzZXJzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaW50ZXJ2YWxzLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaXQyL19pbnRlcm5hbC50cyIsIi4uLy4uLy4uL3V0aWwvc3JjL2l0Mi9pdGVyYXRlLnRzIiwiLi4vLi4vLi4vdXRpbC9zcmMvaXQyL2NydWQudHMiLCIuLi8uLi8uLi91dGlsL3NyYy9pdDIvc3RyaW5ncy50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9EYXRhQ2xhc3NpZmljYXRpb24udHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvRGF0YVB1cnBvc2VzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL0RhdGFVc2FnZS50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9EYXRhQWNjZXNzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL0V2ZW50UGF0Y2gudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvcHJvdG9jb2wvc2NoZW1hL1NjaGVtYU9iamVjdFR5cGVEZWZpbml0aW9uLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3NjaGVtYS9ydW50aW1lL3ZhbGlkYXRpb24vZXJyb3JzLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3NjaGVtYS9ydW50aW1lL3ZhbGlkYXRpb24vcHJpbWl0aXZlcy50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9wcm90b2NvbC92YXJpYWJsZXMvVmFyaWFibGUudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvcHJvdG9jb2wvc2NoZW1hL3J1bnRpbWUvVHlwZVJlc29sdmVyLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL3Byb3RvY29sL3ZhcmlhYmxlcy9WYXJpYWJsZVJlc3VsdC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy9wcm90b2NvbC92YXJpYWJsZXMvVmFyaWFibGVSZXN1bHRQcm9taXNlLnRzIiwiLi4vLi4vLi4vdHlwZXMvc3JjL2V2ZW50cy9UcmFja2VkRXZlbnQudHMiLCIuLi8uLi8uLi90eXBlcy9zcmMvZXZlbnRzL1ZpZXdFdmVudC50cyIsIi4uLy4uLy4uL3R5cGVzL3NyYy91dGlsL3R5cGUtdGVzdC50cyIsIi4uLy4uL3NyYy9pbnRlcmZhY2VzL0xvY2FsVmFyaWFibGVzLnRzIiwiLi4vLi4vc3JjL2xpYi9jb25zdHMudHMiLCIuLi8uLi9zcmMvbGliL2RvbS9kb20tYWxpYXMudHMiLCIuLi8uLi9zcmMvbGliL2NvbmZpZy50cyIsIi4uLy4uLy4uL3RyYW5zcG9ydC9zcmMvYmFzZTY0LnRzIiwiLi4vLi4vLi4vdHJhbnNwb3J0L3NyYy9sZnNyLnRzIiwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B5Z29lK21zZ3BhY2tAaHR0cHMrKytnaXRodV9lNTE2N2ZiNjUxMmQ4OWQ2OGY3ZjUwYjE5YjU1N2RiNS9ub2RlX21vZHVsZXMvQHlnb2UvbXNncGFjay9tc2dwYWNrLmpzIiwiLi4vLi4vc3JjL2xpYi9lbnYudHMiLCIuLi8uLi9zcmMvbGliL2NpcGhlci50cyIsIi4uLy4uL3NyYy9saWIvZXJyb3JzLnRzIiwiLi4vLi4vc3JjL2xpYi9wYWdlLWV2ZW50cy50cyIsIi4uLy4uL3NyYy9saWIvc2hhcmVkLXN0YXRlLnRzIiwiLi4vLi4vc3JjL2xpYi9yZXF1ZXN0LnRzIiwiLi4vLi4vc3JjL2xpYi9jb25jdXJyZW5jeS50cyIsIi4uLy4uL3NyYy9saWIvVHJhY2tlclZhcmlhYmxlU3RvcmFnZS50cyIsIi4uLy4uL3NyYy9saWIvSW1wcmVzc2lvbk9ic2VydmVyLnRzIiwiLi4vLi4vc3JjL2xpYi9kZWJ1Zy1saXN0ZW5lcnMudHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy91c2VySW50ZXJhY3Rpb24udHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy9jb21tZXJjZS50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL2Zvcm1zLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvZGVmYXVsdEV4dGVuc2lvbnMudHMiLCIuLi8uLi9zcmMvbGliL3NjYW5Db21wb25lbnRzLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvc2Nyb2xsLnRzIiwiLi4vLi4vc3JjL2V4dGVuc2lvbnMvY29uc2VudC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9zaGFyZWQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ2FydENvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ2hhbmdlVXNlckNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ29uZmlnQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9Ub2dnbGVDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0JvdW5kYXJ5Q29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9FeHRlbnNpb25Db21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0ZsdXNoQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9HZXRDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL0xpc3RlbmVyQ29tbWFuZC50cyIsIi4uLy4uL3NyYy9jb21tYW5kcy9PcmRlckNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvU2NhbkNvbXBvbmVudHNDb21tYW5kLnRzIiwiLi4vLi4vc3JjL2NvbW1hbmRzL1NldENvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvVHJhY2tlckF2YWlsYWJsZUNvbW1hbmQudHMiLCIuLi8uLi9zcmMvY29tbWFuZHMvQ29uc2VudENvbW1hbmQudHMiLCIuLi8uLi9zcmMvaW5kZXguYnJvd3Nlci50cyIsIi4uLy4uL3NyYy9leHRlbnNpb25zL3VzZXItYWdlbnQudHMiLCIuLi8uLi9zcmMvZXh0ZW5zaW9ucy9kZXZpY2VEZXRlY3Rpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFFVRVJZX0RFVklDRSA9IFwicWRcIjtcbmV4cG9ydCBjb25zdCBJTklUSUFMSVpFX1RSQUNLRVJfRlVOQ1RJT04gPSBcIi50YWlsLmpzLmluaXRcIjtcbmV4cG9ydCBjb25zdCBUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUiA9IFwie3tDT05GSUd9fVwiO1xuXG5leHBvcnQgY29uc3QgQ0xJRU5UX1NDUklQVF9RVUVSWSA9IFwib3B0XCI7XG5leHBvcnQgY29uc3QgRVZFTlRfSFVCX1FVRVJZID0gXCJ2YXJcIjtcbmV4cG9ydCBjb25zdCBWQVJJQUJMRVNfUVVFUlkgPSBcInVzclwiO1xuZXhwb3J0IGNvbnN0IENPTlRFWFRfTkFWX1FVRVJZID0gXCJtbnRcIjtcbmV4cG9ydCBjb25zdCBTQ0hFTUFfUVVFUlkgPSBcIiR0eXBlc1wiO1xuZXhwb3J0IGNvbnN0IEJVSUxEX1JFVklTSU9OX1FVRVJZID0gZ2xvYmFsVGhpcy5SRVZJU0lPTlxuICA/IFwicmV2PVwiICsgZ2xvYmFsVGhpcy5SRVZJU0lPTlxuICA6IFwiXCI7XG5cbmV4cG9ydCBjb25zdCBTQ09QRV9JTkZPX0tFWSA9IFwiQGluZm9cIjtcbmV4cG9ydCBjb25zdCBDT05TRU5UX0lORk9fS0VZID0gXCJAY29uc2VudFwiO1xuZXhwb3J0IGNvbnN0IFNFU1NJT05fUkVGRVJFTkNFX0tFWSA9IFwiQHNlc3Npb25fcmVmZXJlbmNlXCI7XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9FVkVOVF9QT1NURklYID0gXCJfcGF0Y2hcIjtcblxuZXhwb3J0IGNvbnN0IENMSUVOVF9TVE9SQUdFX1BSRUZJWCA9IFwiX3RhaWw6XCI7XG5cbmV4cG9ydCBjb25zdCBDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCA9IENMSUVOVF9TVE9SQUdFX1BSRUZJWCArIFwic3RhdGVcIjtcblxuZXhwb3J0IGNvbnN0IENMSUVOVF9DQUxMQkFDS19DSEFOTkVMX0lEID0gQ0xJRU5UX1NUT1JBR0VfUFJFRklYICsgXCJwdXNoXCI7XG5cbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUl9TQ1JJUFQ6IDxRdW90ZSBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZT4oXG4gIHRyYWNrZXJOYW1lPzogc3RyaW5nLFxuICBxdW90ZT86IFF1b3RlXG4pID0+IFF1b3RlIGV4dGVuZHMgdHJ1ZSA/IHN0cmluZyA6ICguLi5jb21tYW5kczogYW55W10pID0+IHZvaWQgPSAoKFxuICB0cmFja2VyTmFtZSA9IFwidGFpbFwiLFxuICBxdW90ZTogYm9vbGVhblxuKSA9PiB7XG4gIGlmIChxdW90ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZSA9IGB3aW5kb3dbJHtKU09OLnN0cmluZ2lmeSh0cmFja2VyTmFtZSl9XWA7XG4gICAgcmV0dXJuIGAoJHtyZWZlcmVuY2V9Pz89Yz0+JHtyZWZlcmVuY2V9Ll8/LnB1c2goYykgPz8gJHtyZWZlcmVuY2V9KGMpKS5fPVtdO2A7XG4gIH1cblxuICAoZ2xvYmFsVGhpc1t0cmFja2VyTmFtZV0gPz89IChjOiBhbnkpID0+XG4gICAgZ2xvYmFsVGhpc1t0cmFja2VyTmFtZV0uXz8ucHVzaChjKSA/PyBnbG9iYWxUaGlzW3RyYWNrZXJOYW1lXShjKSkuXyA9IFtdO1xufSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgX19ERUJVR19fID0gdHJ1ZTtcbiIsImltcG9ydCB7XG4gIElERU5USVRZLFxuICBJZixcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxhYmxlLFxuICBkaXN0aW5jdCxcbiAgZmlsdGVyLFxuICBpc0FycmF5LFxuICBpc0Jvb2xlYW4sXG4gIGlzU3RyaW5nLFxuICBqb2luMixcbiAgbWFwLFxuICBuaWwsXG4gIHVuZGVmaW5lZCxcbiAgdHlwZSBDb25zdFRvTm9ybWFsLFxuICB0eXBlIEl0ZXJhYmxlT3JTZWxmLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCIuXCI7XG5cbi8qKlxuICogQ29tbW9uIGRlZmluaXRpb24gb2YgZXhwcmVzc2lvbnMgdGhhdCBhcmUgdXNlZCBmb3Igc3RyaW5nIG1hdGNoaW5nLlxuICpcbiAqIElmIG5vdCBhbHJlYWR5IGEgcmVndWxhciBleHByZXNzaW9uLCBhIHN0cmluZyB0aGF0IHN0YXJ0cyB3aXRoIGAvYCBhbmQgb3B0aW9uYWxseSBlbmRzIHdpdGggYC9gIGlzIHBhcnNlZCBhcyByZWd1bGFyIGV4cHJlc3Npb25zIHdpdGggZmxhZ3MgYGd1YCBhcHBsaWVkIChnbG9iYWwgYW5kIFVuaWNvZGUpLlxuICogVGhpcyBlbmFibGVzIGRlZmluaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBpbiB0ZXh0IGJhc2VkIGNvbmZpZ3VyYXRpb24gZmlsZXMgdGhhdCBkbyBub3QgaGF2ZSBuYXRpdmUgcmVndWxhciBleHByZXNzaW9ucy5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UgYW4gYXN0ZXJpc2sgKGAqYCkgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHN0cmluZ3MsIGFuZCAgYCxgIGFuZCB3aGl0ZS1zcGFjZSBgIGAgYXJlIGludGVycHJldGVkIGFzIGxpc3Qgc2VwYXJhdG9ycy5cbiAqIGBcXGAgaXMgdXNlZCBhcyB0aGUgZXNjYXBlIGNoYXJhY3RlciBzbyB0aGUgc3RyaW5nIGBcXC9lc2NhcGVkXFwqLGFuZFxcIHRoaXNgIHdpbGwgb25seSBtYXRjaCB0aGUgc3RyaW5ncywgbGl0ZXJhbGx5LCBgXFwvZXNjYXBlZFxcKmAgYW5kIGBhbmQgdGhpc2AuXG4gKiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpbnRlbnRpb25hbCBiYWNrc2xhc2hlcywgY29tbWFzIGFuZCBzcGFjZXMgbXVzdCBiZSBlc2NhcGVkIGFzIGBcXFxcYCwgYFxcLGAgYW5kIGBcXCBgIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBBcnJheXMgb2Ygc3RyaW5ncyBhbmQvb3IgcmVndWxhciBleHByZXNzaW9ucyBhcmUgZXZhbHVhdGVkIGFzIHVuaW9ucyAoX3N0cmluZyAxXyBcIm9yXCIgX3N0cmluZyAyXyBcIm9yXCIgLi4uKS5cbiAqXG4gKiBUaGUgc3BlY2lhbCB2YWx1ZXMgYG51bGxgLCBgdW5kZWZpbmVkYCwgdGhlIGVtcHR5IHN0cmluZywgIGFuZCBgZmFsc2VgIGFyZSBpbnRlcnByZXRlZCBhcyBcIm5ldmVyXCIsIGFuZCBgdHJ1ZWAgaXMgXCJhbHdheXNcIi5cbiAqXG4gKiBSZWdhcmRpbmcgc2VwYXJhdG9ycywgdGhleSBtYXkgYmUgZGlmZmVyZW50IGluIHNwZWNpZmljIGNvbnRleHRzLiBJZiBzbywgaXQgd2lsbCBiZSBtZW50aW9uZWQgdGhlcmUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnNhYmxlUmVnRXhwID1cbiAgfCBJdGVyYWJsZU9yU2VsZjxudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IHN0cmluZyB8IFJlZ0V4cD5cbiAgfCBJdGVyYWJsZTxQYXJzYWJsZVJlZ0V4cD47XG5cbmV4cG9ydCBjb25zdCB0ZXN0UmVnZXggPSA8TnVsbHM+KFxuICBzOiBOdWxsYWJsZTxzdHJpbmcsIE51bGxzPixcbiAgbWF0Y2g6IE51bGxhYmxlPFJlZ0V4cCwgTnVsbHM+XG4pID0+ICghbWF0Y2ggfHwgcyA9PSBudWxsID8gdW5kZWZpbmVkIDogbWF0Y2gudGVzdChzKSk7XG5cbmV4cG9ydCBjb25zdCBtYXRjaGVzID0gPFIsIE51bGxzPihcbiAgczogTnVsbGFibGU8c3RyaW5nLCBOdWxscz4sXG4gIHJlZ2V4OiBSZWdFeHAgfCBOdWxsaXNoLFxuICBzZWxlY3RvcjogKC4uLmFyZ3M6IHN0cmluZ1tdKSA9PiBSIHwgTnVsbGlzaFxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIENvbnN0VG9Ob3JtYWw8Uj5bXT4gPT4gbWF0Y2gocywgcmVnZXgsIHNlbGVjdG9yLCB0cnVlKTtcblxubGV0IG1hdGNoUHJvamVjdGlvbjogYW55O1xubGV0IGNvbGxlY3RlZDogYW55W107XG5cbi8qKlxuICogTWF0Y2hlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhZ2FpbnN0IGEgc3RyaW5nIGFuZCBwcm9qZWN0cyB0aGUgbWF0Y2hlZCBwYXJ0cywgaWYgYW55LlxuICovXG5leHBvcnQgY29uc3QgbWF0Y2g6IHtcbiAgPFIsIE51bGxzLCBDb2xsZWN0IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlPihcbiAgICBzOiBOdWxsYWJsZTxzdHJpbmcsIE51bGxzPixcbiAgICByZWdleDogUmVnRXhwIHwgTnVsbGlzaCxcbiAgICBzZWxlY3RvcjogKC4uLmFyZ3M6IChzdHJpbmcgfCB1bmRlZmluZWQpW10pID0+IFIgfCBOdWxsaXNoLFxuICAgIGNvbGxlY3Q/OiBDb2xsZWN0XG4gICk6IE1heWJlVW5kZWZpbmVkPE51bGxzLCBJZjxDb2xsZWN0LCBDb25zdFRvTm9ybWFsPFI+W10sIFIgfCB1bmRlZmluZWQ+PjtcbiAgKHM6IHN0cmluZyB8IE51bGxpc2gsIG1hdGNoOiBSZWdFeHAgfCBOdWxsaXNoKTogUmVnRXhwTWF0Y2hBcnJheSB8IHVuZGVmaW5lZDtcbn0gPSA8Uj4oXG4gIHM6IHN0cmluZyxcbiAgcmVnZXg6IFJlZ0V4cCxcbiAgc2VsZWN0b3I/OiAoLi4uYXJnczogKHN0cmluZyB8IHVuZGVmaW5lZClbXSkgPT4gUixcbiAgY29sbGVjdCA9IGZhbHNlXG4pID0+XG4gIChzID8/IHJlZ2V4KSA9PSBuaWxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogc2VsZWN0b3JcbiAgICA/ICgobWF0Y2hQcm9qZWN0aW9uID0gdW5kZWZpbmVkKSxcbiAgICAgIGNvbGxlY3RcbiAgICAgICAgPyAoKGNvbGxlY3RlZCA9IFtdKSxcbiAgICAgICAgICBtYXRjaChcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICByZWdleCxcbiAgICAgICAgICAgICguLi5hcmdzKSA9PlxuICAgICAgICAgICAgICAobWF0Y2hQcm9qZWN0aW9uID0gc2VsZWN0b3IoLi4uYXJncykpICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgY29sbGVjdGVkLnB1c2gobWF0Y2hQcm9qZWN0aW9uKVxuICAgICAgICAgICkpXG4gICAgICAgIDogcy5yZXBsYWNlKFxuICAgICAgICAgICAgLy8gUmVwbGFjZSBzZWVtcyB0byBiZSBhIGNvbXBhY3Qgd2F5IHRvIGdldCB0aGUgZGV0YWlscyBvZiBlYWNoIG1hdGNoXG4gICAgICAgICAgICByZWdleCxcbiAgICAgICAgICAgICguLi5hcmdzKSA9PiAobWF0Y2hQcm9qZWN0aW9uID0gc2VsZWN0b3IoLi4uYXJncykpIGFzIGFueVxuICAgICAgICAgICksXG4gICAgICBtYXRjaFByb2plY3Rpb24pXG4gICAgOiBzLm1hdGNoKHJlZ2V4KSA/PyB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwbGFjZXMgcmVzZXJ2ZWQgY2hhcmFjdGVycyB0byBnZXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBtYXRjaGVzIHRoZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBlc2NhcGVSZWdFeCA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIGlucHV0OiBUXG4pOiBNYXliZVVuZGVmaW5lZDxULCBzdHJpbmc+ID0+XG4gIGlucHV0Py5yZXBsYWNlKC9bXFxeJFxcXFwuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKSBhcyBhbnk7XG5cbmNvbnN0IFJFR0VYX05FVkVSID0gL1xcei4vZztcbmNvbnN0IHVuaW9uT3JOZXZlciA9IChwYXJ0czogKHN0cmluZyB8IE51bGxpc2gpW10sIGpvaW5lZD86IHN0cmluZykgPT5cbiAgKGpvaW5lZCA9IGpvaW4yKGRpc3RpbmN0KGZpbHRlcihwYXJ0cywgKHBhcnQpID0+IHBhcnQ/Lmxlbmd0aCkpLCBcInxcIikpXG4gICAgPyBuZXcgUmVnRXhwKGpvaW5lZCwgXCJndVwiKVxuICAgIDogUkVHRVhfTkVWRVI7XG5cbmNvbnN0IHN0cmluZ1J1bGVDYWNoZTogeyBbcGF0dGVybjogc3RyaW5nXTogUmVnRXhwIH0gPSB7fTtcbmV4cG9ydCBjb25zdCBpc1JlZ0V4ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBSZWdFeHAgPT4gdmFsdWUgaW5zdGFuY2VvZiBSZWdFeHA7XG5cbi8qKlxuICogVGVzdHMgb3IgcGFyc2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFjY2VwdGluZyB0aGUge0BsaW5rIFBhcnNhYmxlUmVnRXhwfSBmb3JtYXQuXG4gKlxuICogU3RyaW5ncyBhcmUgY2FjaGVkLCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIGRvIGFkZGl0aW9uYWwgY2FjaGluZyBvdXRzaWRlIHRoaXMgZnVuY3Rpb24gKGFzIGZhciBhcyB0aGUgY2FjaGluZyB3b3VsZCBvbmx5IGNvbmNlcm4gc3RyaW5ncykuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZVJlZ2V4ID0gPFQ+KFxuICBpbnB1dDogVCxcbiAgc2VwYXJhdG9yczogcmVhZG9ubHkgc3RyaW5nW10gPSBbXCIsXCIsIFwiIFwiXVxuKTogVCBleHRlbmRzIFBhcnNhYmxlUmVnRXhwID8gUmVnRXhwIDogdW5kZWZpbmVkID0+XG4gIGlzUmVnRXgoaW5wdXQpXG4gICAgPyBpbnB1dFxuICAgIDogaXNBcnJheShpbnB1dCkgLy8gUGFyc2UgaW5kaXZpZHVhbCBzcGVjaWZpZXJzLCBhbmQgam9pbiB0aGVtIGludG8gb25lIGxvbmcgcmVnZXguIEFuIGVtcHR5IGFycmF5IGlzIGludGVycHJldGVkIGFzIFwibmV2ZXJcIi5cbiAgICA/IHVuaW9uT3JOZXZlcihtYXAoaW5wdXQsIChwYXJ0KSA9PiBwYXJzZVJlZ2V4KHBhcnQsIHNlcGFyYXRvcnMpPy5zb3VyY2UpISlcbiAgICA6IGlzQm9vbGVhbihpbnB1dClcbiAgICA/IGlucHV0IC8vIGB0cnVlYCBpcyBcImFsd2F5c1wiLCBgZmFsc2VgIGlzIFwibmV2ZXJcIlxuICAgICAgPyAvLi9nXG4gICAgICA6IFJFR0VYX05FVkVSIC8vIE1hdGNoZXMgbm90aGluZy4gRW5kIG9mIHN0cmluZyBmb2xsb3dlZCBieSBzb21ldGhpbmcgaXMgbmV2ZXIgdGhlIGNhc2UuXG4gICAgOiBpc1N0cmluZyhpbnB1dClcbiAgICA/IChzdHJpbmdSdWxlQ2FjaGVbaW5wdXRdID8/PSBtYXRjaChcbiAgICAgICAgaW5wdXQgfHwgXCJcIixcbiAgICAgICAgL14oPzpcXC8oLis/KVxcLz98KC4qKSkkL2d1LFxuICAgICAgICAoXywgcmVnZXgsIHRleHQpID0+XG4gICAgICAgICAgcmVnZXhcbiAgICAgICAgICAgID8gbmV3IFJlZ0V4cChyZWdleCwgXCJndVwiKVxuICAgICAgICAgICAgOiB1bmlvbk9yTmV2ZXIoXG4gICAgICAgICAgICAgICAgbWFwKFxuICAgICAgICAgICAgICAgICAgc3BsaXQoXG4gICAgICAgICAgICAgICAgICAgIHRleHQhLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgIGAoPzwhKD88IVxcXFxcXFxcKVxcXFxcXFxcKVske2pvaW4yKHNlcGFyYXRvcnMsIGVzY2FwZVJlZ0V4KX1dYFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgKHRleHQpID0+XG4gICAgICAgICAgICAgICAgICAgIHRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgYF4ke2pvaW4yKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IG9uIG5vbi1lc2NhcGVkIGFzdGVyaXNrIChDaGFyYWN0ZXJpemVkIGJ5IGEgbGVhZGluZyBiYWNrc2xhc2ggdGhhdCBpcyBub3QgaXRzZWxmIGFuIGVzY2FwZWQgYmFja3NsYXNoKS5cbiAgICAgICAgICAgICAgICAgICAgICBzcGxpdCh0ZXh0LCAvKD88ISg/PCFcXFxcKVxcXFwpXFwqLyksXG4gICAgICAgICAgICAgICAgICAgICAgKHBhcnQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVSZWdFeChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGJhY2tzbGFzaGVzIHVzZWQgZm9yIGVzY2FwaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlKHBhcnQsIC9cXFxcKC4pL2csIFwiJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSm9pbiB0aGUgcGFydHMgc2VwYXJhdGVkIGJ5IG5vbi1lc2NhcGVkIGFzdGVyaXNrcyB3aXRoIHRoZSByZWdleCB3aWxkY2FyZCBlcXVpdmFsZW50LlxuICAgICAgICAgICAgICAgICAgICAgIFwiLipcIlxuICAgICAgICAgICAgICAgICAgICApfSRgXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICApISlcbiAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcblxuLyoqXG4gKiBCZXR0ZXIgbWluaWZ5YWJsZSB2ZXJzaW9uIG9mIGBTdHJpbmdgJ3MgYHNwbGl0YCBtZXRob2QgdGhhdCBhbGxvd3MgYSBudWxsJ2lzaCBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGxpdCA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIHM6IFQsXG4gIHNlcGFyYXRvcjogUmVnRXhwIHwgc3RyaW5nLFxuICB0cmltID0gdHJ1ZVxuKTogTWF5YmVVbmRlZmluZWQ8VCwgc3RyaW5nW10+ID0+XG4gIHMgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB0cmltXG4gICAgPyBzcGxpdChzLCBzZXBhcmF0b3IsIGZhbHNlKSEuZmlsdGVyKElERU5USVRZKVxuICAgIDogKHMuc3BsaXQoc2VwYXJhdG9yKSBhcyBhbnkpO1xuXG4vKipcbiAqIEJldHRlciBtaW5pZnlhYmxlIHZlcnNpb24gb2YgYFN0cmluZ2AncyBgcmVwbGFjZWAgbWV0aG9kIHRoYXQgYWxsb3dzIGEgbnVsbCdpc2ggcGFyYW1ldGVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwbGFjZSA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXG4gIHM6IFQsXG4gIG1hdGNoOiBSZWdFeHAsXG4gIHJlcGxhY2VWYWx1ZTogc3RyaW5nIHwgKCguLi5hcmdzOiBzdHJpbmdbXSkgPT4gc3RyaW5nKVxuKTogVCA9PiBzPy5yZXBsYWNlKG1hdGNoLCByZXBsYWNlVmFsdWUgYXMgYW55KSA/PyAocyBhcyBhbnkpO1xuIiwiaW1wb3J0IHsgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IFRyYWNrZWRFdmVudCB9IGZyb20gXCIuXCI7XG5cbi8qKiBUaGVzZSBwcm9wZXJ0aWVzIGFyZSB1c2VkIHRvIHRyYWNrIHRoZSBzdGF0ZSBvZiBldmVudHMgYXMgdGhleSBnZXQgY29sbGVjdGVkLCBhbmQgbm90IHN0b3JlZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRNZXRhZGF0YSB7XG4gIC8qKiBIaW50IHRvIHRoZSByZXF1ZXN0IGhhbmRsZXIgdGhhdCBuZXcgc2Vzc2lvbnMgc2hvdWxkIG5vdCBiZSBzdGFydGVkIGlmIGFsbCBwb3N0ZWQgZXZlbnRzIGFyZSBwYXNzaXZlLiAqL1xuICBwYXNzaXZlPzogYm9vbGVhbjtcblxuICAvKiogSGludCB0aGF0IHRoZSBldmVudCBoYXMgYmVlbiBxdWV1ZWQuICovXG4gIHF1ZXVlZD86IGJvb2xlYW47XG5cbiAgLyoqIEhpbnQgdG8gY2xpZW50IGNvZGUsIHRoYXQgdGhlIGV2ZW50IGhhcyBiZWVuIHBvc3RlZCB0byB0aGUgc2VydmVyLiAqL1xuICBwb3N0ZWQ/OiBib29sZWFuO1xufVxuXG5sZXQgbWV0YWRhdGE6IEV2ZW50TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgY2xlYXJNZXRhZGF0YSA9IDxcbiAgVCBleHRlbmRzIFRyYWNrZWRFdmVudCB8IE51bGxpc2gsXG4gIENsaWVudFNpZGUgZXh0ZW5kcyBib29sZWFuXG4+KFxuICBldmVudDogVCxcbiAgY2xpZW50OiBDbGllbnRTaWRlXG4pOiBUICZcbiAgKENsaWVudFNpZGUgZXh0ZW5kcyB0cnVlXG4gICAgPyB7IG1ldGFkYXRhPzogeyBwb3N0ZWQ/OiB1bmRlZmluZWQgfSB9XG4gICAgOiB7IG1ldGFkYXRhPzogdW5kZWZpbmVkIH0pID0+IChcbiAgKG1ldGFkYXRhID0gZXZlbnQ/Lm1ldGFkYXRhKSAmJlxuICAgIChjbGllbnRcbiAgICAgID8gKGRlbGV0ZSBtZXRhZGF0YS5wb3N0ZWQsXG4gICAgICAgIGRlbGV0ZSBtZXRhZGF0YS5xdWV1ZWQsXG4gICAgICAgICFPYmplY3QuZW50cmllcyhtZXRhZGF0YSkubGVuZ3RoICYmIGRlbGV0ZSBldmVudC5tZXRhZGF0YSlcbiAgICAgIDogZGVsZXRlIGV2ZW50Lm1ldGFkYXRhKSxcbiAgZXZlbnQgYXMgYW55XG4pO1xuIiwiaW1wb3J0IHtcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxpc2gsXG4gIGFycmF5MixcbiAgZm9yRWFjaDIsXG4gIGlzSXRlcmFibGUsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBtYXRjaCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgUGFyc2FibGVUYWdzLCBUYWcgfSBmcm9tIFwiLi5cIjtcblxuY29uc3QgbWF5YmVEZWNvZGUgPSA8UyBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KHM6IFMpOiBTID0+XG4gIC8vIEl0IHF1YWxpZmllczpcbiAgcyAmJlxuICAvXiglW0EtRjAtOV17Mn18W14lXSkqJC9naS50ZXN0KHMpICYmXG4gIC8vIEl0IG5lZWRzIGl0OlxuICAvW0EtRjAtOV17Mn0vZ2kudGVzdChzKVxuICAgID8gZGVjb2RlVVJJQ29tcG9uZW50KHMpXG4gICAgOiAocyBhcyBhbnkpO1xuXG5leHBvcnQgdHlwZSBUYWdDb2xsZWN0aW9uID0gTWFwPHN0cmluZywgVGFnPjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVGFncyA9IDxJbnB1dCBleHRlbmRzIFBhcnNhYmxlVGFncz4oXG4gIHRhZ1N0cmluZzogSW5wdXQsXG4gIHByZWZpeD86IHN0cmluZ1xuKTogTWF5YmVVbmRlZmluZWQ8SW5wdXQsIFRhZ1tdPiA9PlxuICBhcnJheTIoY29sbGVjdFRhZ3ModGFnU3RyaW5nLCBwcmVmaXgpPy52YWx1ZXMoKSkgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgcGFyc2VUYWdWYWx1ZSA9IDxWYWx1ZSBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxuICB2YWx1ZTogc3RyaW5nIHwgKHN0cmluZyB8IG51bGwpW10gfCBudWxsIHwgdW5kZWZpbmVkLFxuICB0YWdOYW1lID0gXCJ0YWdcIlxuKTogVmFsdWUgPT4gcGFyc2VUYWdzKHRhZ05hbWUgKyB2YWx1ZSk/LlswXSBhcyBhbnk7XG5cbmxldCBrZXk6IHN0cmluZztcbmxldCBjdXJyZW50OiBUYWcgfCB1bmRlZmluZWQ7XG5jb25zdCBjb2xsZWN0ID0gKGNvbGxlY3RlZDogVGFnQ29sbGVjdGlvbiwgdGFnOiBUYWcgfCBOdWxsaXNoKSA9PlxuICB0YWcgJiZcbiAgKCEoY3VycmVudCA9IGNvbGxlY3RlZC5nZXQoKGtleSA9IHRhZy50YWcgKyAodGFnLnZhbHVlID8/IFwiXCIpKSkpIHx8XG4gICAgKGN1cnJlbnQuc2NvcmUgPz8gMSkgPCAodGFnLnNjb3JlID8/IDEpKSAmJlxuICBjb2xsZWN0ZWQuc2V0KGtleSwgdGFnKTtcblxuLyoqXG4gKiBQYXJzZXMgdGFncyBmcm9tIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgYW5kIGNvbGxlY3RzIHRoZW0gaW4gYSBtYXAgdG8gYXZvaWQgZHVwbGljYXRlcy5cbiAqIEluIGNhc2Ugb2YgdGllcyBiZXR3ZWVuIHRhZ3Mgd2l0aCB0aGUgc2FtZSBuYW1lcyBhbmQgdmFsdWVzIGJ1dCB3aXRoIGRpZmZlcmVudCBzY29yZXMsIHRoZSBoaWdoZXN0IHdpbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBjb2xsZWN0VGFncyA9IDxJbnB1dCBleHRlbmRzIFBhcnNhYmxlVGFncz4oXG4gIHRhZ1N0cmluZzogSW5wdXQsXG4gIHByZWZpeCA9IFwiXCIsXG4gIGNvbGxlY3RlZDogVGFnQ29sbGVjdGlvbiA9IG5ldyBNYXAoKVxuKTogTWF5YmVVbmRlZmluZWQ8SW5wdXQsIFRhZ0NvbGxlY3Rpb24+ID0+IHtcbiAgaWYgKCF0YWdTdHJpbmcpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICBpZiAoaXNJdGVyYWJsZSh0YWdTdHJpbmcpKSB7XG4gICAgZm9yRWFjaDIodGFnU3RyaW5nLCAoaW5wdXQpID0+IGNvbGxlY3RUYWdzKGlucHV0LCBwcmVmaXgsIGNvbGxlY3RlZCkpO1xuICAgIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xuICB9XG5cbiAgLyoqXG4gICAqIFtuYW1lc3BhY2U6Ol1uYW1lW3dzKl1bKDp8PSlbd3MqXXZhbHVlXVtgfmBzY29yZV0gWyggfCx8O3wmfCMpIG1vcmUgdGFnc11cbiAgICpcbiAgICogVGhlIHBhcnRzIG9mIGEgdGFpbC5qIHRhZyBhcmU6XG4gICAqIDEuIE9wdGlvbmFsIG5hbWVzcGFjZSAodXRtLCBhaSwgY21zKS5cbiAgICogICAtIEFueXRoaW5nIG5vdCB3aGl0ZXNwYWNlLCBjb2xvbiAoYDpgKSBvciB0aWxkZSAoYH5gKSBmb2xsb3dlZCBieSBkb3VibGUgY29sb24gYDo6YC5cbiAgICogMi4gVGFnIG5hbWU6XG4gICAqICAgLSBBbnl0aGluZyBub3Qgd2hpdGVzcGFjZSwgY29sb24gKGA6YCksIHRpbGRlIGB+YCBvciBlcXVhbGl0eSAoYD1gKS5cbiAgICogMy4gT3B0aW9uYWwgdmFsdWUuXG4gICAqICAgLSBBbnl0aGluZyBub3QgYSBzZXBhcmF0b3IgYSBvdGhlciB3aGl0ZXNwYWNlIHRoYW4gc3BhY2UgKGAgYCkuXG4gICAqICAgLSBJZiB0aGUgdmFsdWUgaXMgc3VwcG9zZWQgdG8gY29udGFpbiBvbmUgb2YgdGhlc2UgY2hhcmFjdGVycyBpdCBtdXN0IGJlIHF1b3RlZCBpbiBlaXRoZXIgc2luZ2xlIChgXFxgKSBvciBkb3VibGUgcXVvdGVzIChgXCJgKS5cbiAgICogICAtIFRoZSB0YWcgbmFtZSBhbmQgdmFsdWUgYXJlIHNlcGFyYXRlZCBieSBlaXRoZXI6XG4gICAqICAgICAtIGA6YCAtIEZvbGxvd3Mgbm9ybWFsIHdyaXRpbmcgY29udmVudGlvbiBpbiBtYW55IGxhbmd1YWdlcyAoYGNvdW50cnk6IERlbm1hcmssIG5hbWU6IEdsb3R0YWwgc291bmRgKSwgb3JcbiAgICogICAgIC0gYD1gIC0gSXMgd2hhdCB5b3UgdHlwaWNhbGx5IHdyaXRlIGluIHByb2dyYW1taW5nLlxuICAgKiAgIC0gRXNjYXBpbmcgdmFsdWVzIHdpdGhpbiBxdW90ZXMgaXMgbm90IHJlcXVpcmVkLiBUaGUgbGFzdCBxdW90ZSBmb2xsb3dlZCBieSBhIHRlcm1pbmF0b3Igb3Igc2NvcmUgZW5kcyB0aGUgdmFsdWUuIChgdGFnMTogXCJUaGlzIFwidmFsdWVcIiBjb250YWluc1wiIHF1b3Rlc1wiIHRhZzI9Li4uYClcbiAgICogNC4gT3B0aW9uYWwgc2NvcmUuIEhvdyBtdWNoIHRoZSB0YWcgYXBwbGllcyB0byB0aGUgdGFyZ2V0IChmb3IgZXhhbXBsZSBhdWRpZW5jZTppbnZlc3RvcnN+OSBhdWRpZW5jZTpjb25zdW1lcnN+MyAtIHZlcnkgcmVsZXZhbnQgZm9yIGludmVzdG9ycywgYSBsaXR0bGUgYml0IGZvciBjb25zdW1lcnMpLlxuICAgKiAgIC0gWW91IGNhbiB1c2UgZGVjaW1hbHMgaW4gdGhlIHNjb3JlIChlLmcuIDUuMzQzKS5cbiAgICogICAtIFRoZSBwYXJzZWQgc2NvcmUgZ2V0cyBkaXZpZGVkIGJ5IDEwLCBzbyB5b3Ugc2hvdWxkIGdlbmVyYWxseSBhaW0gZm9yIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEwIHNpbmNlIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBwZXJjZW50YWdlIGJldHdlZW4gMCBhbmQgMTAwJS5cbiAgICogICAgIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBvdXRwdXQgbWFjaGluZSBnZW5lcmF0ZWQgc2NvcmVzIChjb3VsZCBiZSBmcm9tIGFuIGFsZ29yaXRobSkgdGhleSB0ZW5kIHRvIGFscmVhZHkgYmUgYmV0d2VlbiAwIGFuZCAxLCBzbyBoZXJlIHlvdSBtdXN0IG11bHRpcGx5IHRoZW0gd2l0aCAxMCB3aGVuIGVuY29kaW5nIHRoZSB0YWcgdG8gZ2V0IHRoZSBpbnRlbmRlZCByZXN1bHQuXG4gICAqICAgLSBUaGUgZGVmYXVsdCBpcyAxMCAoMTAwICUpLlxuICAgKlxuICAgKiAgVGFncyBhcmUgc2VwYXJhdGVkIGJ5IGVpdGhlcjpcbiAgICogICAgIC0gU3BhY2UgKGAgYCkgKGlucHV0IGZyaWVuZGx5KVxuICAgKiAgICAgLSBIYXNoIHRhZyAoYCNgKSAtIFNvbWUgcGVvcGxlIG1pZ2h0IGRvIHRoYXQgd2l0aG91dCB0aGlua2luZyBhYm91dCBpdCBzaW5jZSB0aGF0IGlzIGhvdyB0aGV5IG5vcm1hbGx5IHdyaXRlIHRhZ3NcbiAgICogICAgIC0gQ29tbWEgKGAsYCkgLSBIb3cgbW9zdCB3b3VsZCBpbnR1aXRpdmVseSBqb2luIHN0cmluZ3MgaW4gY29kZSksXG4gICAqICAgICAtIFNlbWljb2xvbiAoYDtgKSAtIENTUyBzdHlsZVxuICAgKiAgICAgLSBBbXBlcnNhbmQgLSBVUkwgcXVlcnkgc3RyaW5nIHN0eWxlLlxuICAgKiAgICAgLSBSZXBlYXRlZCBzZXBhcmF0b3JzIGdldHMgaWdub3JlZCBzbyBkb24ndCB3b3JyeSBhYm91dCBlbXB0eSBlbnRyaWVzIGlmIHlvdSB3cml0ZSBzb21ldGhpbmcgbGlrZSBgdGFnMSwsLCx0YWcyYC5cbiAgICpcbiAgICogICBCb3RoIG5hbWVzcGFjZSwgbmFtZSBhbmQgdmFsdWUgd2lsbCBiZSBVUkkgZGVjb2RlZCBpZiB0aGV5IGNvbnRhaW4gJXh4IGFueXdoZXJlIGluIHRoZW0uXG4gICAqL1xuXG4gIGlzU3RyaW5nKHRhZ1N0cmluZylcbiAgICA/IG1hdGNoKFxuICAgICAgICB0YWdTdHJpbmcsXG4gICAgICAgIC8oPzooW15cXHM6fl0rKTo6KD8hWyA6PV0pKT8oW15cXHN+XSs/KSg/OlxccypbOj1dXFxzKig/OlwiKCg/OlwiW15cIl0qfC4pKj8pKD86XCJ8JCl8JygoPzonW14nfl0qfC4pKj8pKD86J3wkKXwoKD86ICooPzooPzpbXiwmOyNcXHN+XSkpKSopKVxccyopPyg/OiAqfiAqKFxcZCooPzpcXC5cXGQqKT8pKT8oPzpbXFxzLCY7I35dK3wkKS9nLFxuICAgICAgICAoXywgbnMsIGxvY2FsTmFtZTogc3RyaW5nLCBxdW90ZWQxLCBxdW90ZWQyLCB1bnF1b3RlZCwgc2NvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCBuYW1lID1cbiAgICAgICAgICAgIChucyA/IG1heWJlRGVjb2RlKG5zKSArIFwiOjpcIiA6IFwiXCIpICtcbiAgICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgICBtYXliZURlY29kZShsb2NhbE5hbWUpO1xuXG4gICAgICAgICAgbGV0IHRhZzogVGFnID0ge1xuICAgICAgICAgICAgdGFnOiBuYW1lLFxuICAgICAgICAgICAgdmFsdWU6IG1heWJlRGVjb2RlKHF1b3RlZDEgPz8gcXVvdGVkMiA/PyB1bnF1b3RlZCksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzY29yZSAmJlxuICAgICAgICAgICAgcGFyc2VGbG9hdChzY29yZSkgIT09IDEwICYmXG4gICAgICAgICAgICAodGFnLnNjb3JlID0gcGFyc2VGbG9hdChzY29yZSkgLyAxMCk7XG4gICAgICAgICAgY29sbGVjdChjb2xsZWN0ZWQsIHRhZyk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICA6IGNvbGxlY3QoY29sbGVjdGVkLCB0YWdTdHJpbmcpO1xuXG4gIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGVuY29kZVRhZyA9IDxUIGV4dGVuZHMgVGFnIHwgbnVsbCB8IHVuZGVmaW5lZD4oXG4gIHRhZzogVFxuKTogVCBleHRlbmRzIFRhZyA/IHN0cmluZyA6IG51bGwgfCB1bmRlZmluZWQgPT5cbiAgdGFnID09IG51bGxcbiAgICA/ICh0YWcgYXMgYW55KVxuICAgIDogdGFnLnRhZyArXG4gICAgICAodGFnLnZhbHVlXG4gICAgICAgID8gXCI6XCIgKyAoL1ssJjsjfl0vLnRlc3QodGFnLnZhbHVlKSA/ICdcIicgKyB0YWcudmFsdWUgKyAnXCInIDogdGFnLnZhbHVlKVxuICAgICAgICA6IFwiXCIpICtcbiAgICAgICh0YWcuc2NvcmUgJiYgdGFnLnNjb3JlICE9PSAxID8gXCJ+XCIgKyB0YWcuc2NvcmUgKiAxMCA6IFwiXCIpO1xuIiwiaW1wb3J0IHtcbiAgdHlwZSBEb21haW4sXG4gIHR5cGUgUG9zaXRpb24sXG4gIHR5cGUgUmVjdGFuZ2xlLFxuICB0eXBlIFNjcmVlblBvc2l0aW9uLFxuICB0eXBlIFNpemUsXG4gIHR5cGUgVmlld3BvcnQsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBCaW5kZXJzLFxuICBGLFxuICBNQVhfU0FGRV9JTlRFR0VSLFxuICBOT09QLFxuICBOdWxsYWJsZSxcbiAgVCxcbiAgVW5iaW5kZXIsXG4gIGFycmF5MixcbiAgY3JlYXRlRXZlbnRCaW5kZXJzLFxuICBjcmVhdGVUaW1lb3V0LFxuICBmb3JFYWNoMixcbiAgaXNBcnJheSxcbiAgbmlsLFxuICBwYXJzZUJvb2xlYW4sXG4gIHBhcnNlVXJpLFxuICByZXBsYWNlLFxuICByZXN0cmljdCxcbiAgcm91bmQsXG4gIHRyeUNhdGNoLFxuICB0eXBlIE1heWJlVW5kZWZpbmVkLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGJvZHksIGRvY3VtZW50LCBodHRwRGVjb2RlLCBodHRwRGVjcnlwdCB9IGZyb20gXCIuLlwiO1xuXG5leHBvcnQgdHlwZSBOb2RlV2l0aFBhcmVudEVsZW1lbnQgPSBOb2RlIHwgRXZlbnRUYXJnZXQ7XG5cbmV4cG9ydCBsZXQgTUFYX0FOQ0VTVE9SX0RJU1RBTkNFID0gTUFYX1NBRkVfSU5URUdFUjtcblxuZXhwb3J0IGNvbnN0IGZvckFuY2VzdG9yc09yU2VsZiA9IDxUID0gYW55PihcbiAgZWw6IE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIGFjdGlvbjogKFxuICAgIGVsOiBFbGVtZW50LFxuICAgIHJldHVyblZhbHVlOiAodmFsdWU6IFQgfCB1bmRlZmluZWQsIHJlcGxhY2U/OiBib29sZWFuKSA9PiB2b2lkLFxuICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgKSA9PiBhbnksXG4gIHN0b3BwaW5nQ3JpdGVyaW9uOiAoZWw6IEVsZW1lbnQsIGRpc3RhbmNlOiBudW1iZXIpID0+IGJvb2xlYW4gPSAoXG4gICAgZWwsXG4gICAgZGlzdGFuY2VcbiAgKSA9PiBkaXN0YW5jZSA+PSBNQVhfQU5DRVNUT1JfRElTVEFOQ0Vcbik6IFQgfCB1bmRlZmluZWQgPT4ge1xuICBsZXQgaSA9IDA7XG4gIGxldCByZXR1cm5WYWx1ZTogYW55O1xuICBsZXQgc3RvcCA9IEY7XG4gIHdoaWxlIChcbiAgICBlbD8uW1wibm9kZVR5cGVcIl0gPT09IDEgJiZcbiAgICAhc3RvcHBpbmdDcml0ZXJpb24oZWwgYXMgRWxlbWVudCwgaSsrKSAmJlxuICAgIGFjdGlvbihcbiAgICAgIGVsIGFzIEVsZW1lbnQsXG4gICAgICAodmFsdWUsIHJlcGxhY2UpID0+IChcbiAgICAgICAgdmFsdWUgIT0gbmlsICYmXG4gICAgICAgICAgKChyZXR1cm5WYWx1ZSA9IHZhbHVlKSwgKHN0b3AgPSByZXBsYWNlICE9PSBUICYmIHJldHVyblZhbHVlICE9IG5pbCkpLFxuICAgICAgICBUXG4gICAgICApLFxuICAgICAgaSAtIDFcbiAgICApICE9PSBGICYmXG4gICAgIXN0b3BcbiAgKSB7XG4gICAgY29uc3QgcHJldiA9IGVsO1xuICAgIGVsID0gKGVsIGFzIEVsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKGVsID09PSBudWxsICYmIChwcmV2IGFzIEVsZW1lbnQpPy5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgICAgZWwgPSAocHJldiBhcyBFbGVtZW50KT8ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz8uZnJhbWVFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZVZhbHVlVHlwZSA9XG4gIC8qKlxuICAgKiBUaGUgbm9ybWFsaXplZCBhdHRyaWJ1dGUgdmFsdWUsIGludCB0aGUgc2Vuc2UgaXQgZ2V0cyB0cmltbWVkIGFuZCBsb3dlcmNhc2VkLlxuICAgKiBUaGUgZW1wdHkgc3ByaW5nIGlzIGNvbnNpZGVyZWQgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgfCB0cnVlXG4gIHwgXCJ6XCJcblxuICAvKipcbiAgICogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBhcyBhIGJvb2xlYW4gb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbWF0Y2ggYDBgLCBgMWAsIGB0cnVlYCwgYGZhbHNlYCBvciBcIlwiLlxuICAgKiBUaGUgZW1wdHkgc3RyaW5nIG1hdGNoZXMgZXhpc3RlbmNlIG9mIGFuIGF0dHJpYnV0ZSBgPHRhZyBhdHRyaWJ1dGUvPmAuXG4gICAqIElmIHBhcnNpbmcgYXJyYXlzIG9mIGJvb2xlYW5zLCB0aGUgZW1wdHkgc3RyaW5nIHdpbGwgYmUgY29uc2lkZXJlZCB1bmRlZmluZWQgc2luY2UgdGhhdCBpcyBhbiBlbXB0eSBlbGVtZW50IGluIHRoaXMgY29udGV4dC5cbiAgICovXG4gIHwgXCJiXCJcblxuICAvKiogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBhcyBhIG51bWJlciBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgbG9vayBsaWtlIGEgbnVtYmVyLiAqL1xuICB8IFwiblwiXG5cbiAgLyoqIFRoZSByYXcgYXR0cmlidXRlIHZhbHVlLiAqL1xuICB8IGZhbHNlXG4gIHwgXCJyXCJcblxuICAvKiogIFRoZSBhdHRyaWJ1dGUgdmFsdWUgcGFyc2VkIGFzIEpTT04uICovXG4gIHwgXCJqXCJcblxuICAvKiogIFRoZSBhdHRyaWJ1dGUgdmFsdWUgcGFyc2VkIGFzIGEgSFRUUCBlbmNvZGVkIHN0cmluZyAoZnJvbSBAdGFpbGpzL3V0aWwvdHJhbnNwb3J0KS4gKi9cbiAgfCBcImhcIlxuXG4gIC8qKiAgVGhlIGF0dHJpYnV0ZSB2YWx1ZSBwYXJzZWQgYXMgYSBjbGllbnQgZW5jcnlwdGVkIHZhbHVlIChmcm9tIEB0YWlsanMvdXRpbC90cmFuc3BvcnQpLiBUaGlzIGFsc28gc3VwcG9ydHMgSlNPTi4gKi9cbiAgfCBcImVcIlxuXG4gIC8qKlxuICAgKiBUaGlzIG1lYW5zIHRoZSBhdHRyaWJ1dGUgdmFsdWUgd2lsbCBiZSBwYXJzZWQgYXMgYW4gYXJyYXkgd2l0aCBlbGVtZW50cyBzZXBhcmF0ZWQgYnkgYCxgLlxuICAgKiBXaGl0ZXNwYWNlIGlzIHRyaW1tZWQsIGFuZCBlbXB0eSB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBBIHR5cGUgbWF5IGJlIGluY2x1ZGVkIGluIHRoZSB0dXBsZSB0byBwYXJzZSB0aGUgaXRlbXMgYXMgdGhpcyB0eXBlLiBJbiB0aGlzIGNhc2UgdW5wYXJzYWJsZSB2YWx1ZXMgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgYXJyYXlcbiAgICogYXMgdW5kZWZpbmVkLlxuICAgKi9cbiAgfCByZWFkb25seSBbdHlwZT86IEF0dHJpYnV0ZVZhbHVlVHlwZSAmIHN0cmluZ107XG5cbnR5cGUgUGFyc2VkQXR0cmlidXRlVmFsdWU8XG4gIFQgZXh0ZW5kcyBBdHRyaWJ1dGVWYWx1ZVR5cGUgfCBOdWxsaXNoLFxuICBFbmNvZGVkVHlwZSA9IGFueVxuPiA9IFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgVCBleHRlbmRzIEF0dHJpYnV0ZVZhbHVlVHlwZV1cbiAgPyBQYXJzZWRBdHRyaWJ1dGVWYWx1ZTxUPltdXG4gIDogVCBleHRlbmRzIChib29sZWFuIHwgXCJ6XCIgfCBOdWxsaXNoKSB8IFwiclwiXG4gID8gc3RyaW5nXG4gIDogVCBleHRlbmRzIFwiYlwiXG4gID8gYm9vbGVhbiB8IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBcIm5cIlxuICA/IG51bWJlciB8IHVuZGVmaW5lZFxuICA6IFQgZXh0ZW5kcyBcImpcIiB8IFwiaFwiIHwgXCJlXCJcbiAgPyBFbmNvZGVkVHlwZSB8IHVuZGVmaW5lZFxuICA6IG5ldmVyO1xuXG5leHBvcnQgY29uc3QgcGFyc2VBdHRyaWJ1dGVWYWx1ZTogPFxuICBWLFxuICBUeXBlIGV4dGVuZHMgQXR0cmlidXRlVmFsdWVUeXBlIHwgTnVsbGlzaCA9IFwielwiXG4+KFxuICB2YWx1ZTogVixcbiAgdHlwZTogVHlwZVxuKSA9PiBNYXliZVVuZGVmaW5lZDxcbiAgVixcbiAgVHlwZSBleHRlbmRzIFwiYlwiXG4gICAgPyBib29sZWFuXG4gICAgOiBWIGV4dGVuZHMgXCJcIlxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBQYXJzZWRBdHRyaWJ1dGVWYWx1ZTxUeXBlPlxuPiA9ICh2YWx1ZTogYW55LCB0eXBlID0gXCJ6XCIgYXMgYW55KSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIm51bGxcIiB8fCAodmFsdWUgPT09IFwiXCIgJiYgdHlwZSAhPT0gXCJiXCIpKVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSB0cnVlOlxuICAgIGNhc2UgXCJ6XCI6XG4gICAgICByZXR1cm4gKFwiXCIgKyB2YWx1ZSkudHJpbSgpPy50b0xvd2VyQ2FzZSgpO1xuICAgIGNhc2UgZmFsc2U6XG4gICAgY2FzZSBcInJcIjpcbiAgICAgIHZhbHVlO1xuICAgIGNhc2UgXCJiXCI6XG4gICAgICByZXR1cm4gdmFsdWUgPT09IFwiXCIgfHwgcGFyc2VCb29sZWFuKHZhbHVlKTtcbiAgICBjYXNlIFwiblwiOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgIGNhc2UgXCJqXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gSlNPTi5wYXJzZSh2YWx1ZSksIE5PT1ApO1xuICAgIGNhc2UgXCJoXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gaHR0cERlY29kZSh2YWx1ZSksIE5PT1ApO1xuICAgIGNhc2UgXCJlXCI6XG4gICAgICByZXR1cm4gdHJ5Q2F0Y2goKCkgPT4gaHR0cERlY3J5cHQ/Lih2YWx1ZSksIE5PT1ApO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gaXNBcnJheSh0eXBlKVxuICAgICAgICA/IHZhbHVlID09PSBcIlwiXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6IChcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgICAodmFsdWUpID0+XG4gICAgICAgICAgICAgICAgICAodmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50cmltKCkgPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgIDogcGFyc2VBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSwgdHlwZSFbMF0pKVxuICAgICAgICAgICAgICApXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXR0ciA9IDxcbiAgTm9kZSBleHRlbmRzIE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIFR5cGUgZXh0ZW5kcyBBdHRyaWJ1dGVWYWx1ZVR5cGUgfCBOdWxsaXNoID0gXCJ6XCJcbj4oXG4gIG5vZGU6IE5vZGUsXG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZT86IFR5cGVcbikgPT4gcGFyc2VBdHRyaWJ1dGVWYWx1ZSgobm9kZSBhcyBhbnkpPy5nZXRBdHRyaWJ1dGUobmFtZSksIHR5cGUpO1xuXG5leHBvcnQgY29uc3Qgc2V0QXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlOiBhbnlcbikgPT5cbiAgdmFsdWUgPT09IG5pbFxuICAgID8gKG5vZGUgYXMgYW55KT8ucmVtb3ZlQXR0cmlidXRlKG5hbWUpXG4gICAgOiAobm9kZSBhcyBhbnkpPy5zZXRBdHRyaWJ1dGUobmFtZSwgXCJcIiArIHZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IHNjb3BlQXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU/OiBBdHRyaWJ1dGVWYWx1ZVR5cGVcbikgPT4gZm9yQW5jZXN0b3JzT3JTZWxmKG5vZGUsIChlbCwgdmFsdWUpID0+IHZhbHVlKGF0dHIoZWwsIG5hbWUsIHR5cGUpKSk7XG5cbmV4cG9ydCBjb25zdCBpbkVsZW1lbnRTY29wZSA9IChcbiAgbm9kZTogTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCxcbiAgbmFtZTogc3RyaW5nXG4pID0+XG4gIGZvckFuY2VzdG9yc09yU2VsZihub2RlLCAoZWwsIHZhbHVlKSA9PlxuICAgIHZhbHVlKHRhZ05hbWUoZWwpID09PSBuYW1lIHx8IHVuZGVmaW5lZClcbiAgKTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZWRBdHRyaWJ1dGUgPSAoXG4gIG5vZGU6IE5vZGVXaXRoUGFyZW50RWxlbWVudCB8IE51bGxpc2gsXG4gIG5hbWU6IHN0cmluZ1xuKSA9PiBhdHRyKG5vZGUsIG5hbWUpPy50cmltKCk/LnRvTG93ZXJDYXNlKCk7XG5cbmxldCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgYm9vbGVhbkF0dHJpYnV0ZSA9IChcbiAgbm9kZTogTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCxcbiAgbmFtZTogc3RyaW5nXG4pID0+ICh2YWx1ZSA9IGF0dHIobm9kZSwgbmFtZSkpID09PSBcIlwiIHx8IHBhcnNlQm9vbGVhbih2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBudW1lcmljQXR0cmlidXRlID0gKFxuICBub2RlOiBOb2RlV2l0aFBhcmVudEVsZW1lbnQgfCBOdWxsaXNoLFxuICBuYW1lOiBzdHJpbmdcbikgPT4gcGFyc2VGbG9hdChcIlwiICsgKHZhbHVlID0gYXR0cihub2RlLCBuYW1lKSkpID8/IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gPFxuICBUIGV4dGVuZHMgTm9kZVdpdGhQYXJlbnRFbGVtZW50IHwgTnVsbGlzaCB8IE51bGxpc2hcbj4oXG4gIG5vZGU6IFRcbik6IE1heWJlVW5kZWZpbmVkPFQsIHN0cmluZ1tdPiA9PiAobm9kZSBhcyBhbnkpPy5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuXG5leHBvcnQgY29uc3QgY3NzUHJvcGVydHkgPSAoZWw6IEVsZW1lbnQsIG5hbWU6IHN0cmluZykgPT5cbiAgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKSB8fCBuaWw7XG5cbmV4cG9ydCBjb25zdCB0YWdOYW1lID0gPFQgZXh0ZW5kcyBFbGVtZW50IHwgTnVsbGlzaD4oXG4gIGVsOiBUXG4pOiBUIGV4dGVuZHMgTnVsbGlzaCA/IG51bGwgOiBzdHJpbmcgPT4gKGVsICE9IG5pbCA/IChlbC50YWdOYW1lIGFzIGFueSkgOiBuaWwpO1xuXG5sZXQgcG9zOiBQb3NpdGlvbjtcbmV4cG9ydCBjb25zdCByZWxhdGl2ZVNjcm9sbFBvcyA9ICgpOiBQb3NpdGlvbiA9PiAoXG4gIChwb3MgPSBzY3JvbGxQb3MoRikpLFxuICB7XG4gICAgeDogcG9zLnggLyAoYm9keS5vZmZzZXRXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSB8fCAwLFxuICAgIHk6IHBvcy55IC8gKGJvZHkub2Zmc2V0SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0KSB8fCAwLFxuICB9XG4pO1xuXG5leHBvcnQgY29uc3Qgc2Nyb2xsUG9zID0gKGludD86IGJvb2xlYW4pOiBQb3NpdGlvbiA9PiAoe1xuICB4OiByb3VuZChzY3JvbGxYLCBpbnQpLFxuICB5OiByb3VuZChzY3JvbGxZLCBpbnQpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBtYXRjaEV4SGFzaCA9IChocmVmMTogc3RyaW5nLCBocmVmMjogc3RyaW5nKSA9PlxuICByZXBsYWNlKGhyZWYxLCAvIy4qJC8sIFwiXCIpID09PSByZXBsYWNlKGhyZWYyLCAvIy4qJC8sIFwiXCIpO1xuXG5sZXQgc2NyZWVuUG9zOiBQb3NpdGlvbiB8IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5Qb3MgPSA8VCBleHRlbmRzIEVsZW1lbnQgfCBOdWxsaXNoPihcbiAgZWw6IFQsXG4gIG1vdXNlRXZlbnQ/OiBNb3VzZUV2ZW50LFxuICBpbmNsdWRlRm9sZCA9IFRcbik6IE1heWJlVW5kZWZpbmVkPFNjcmVlblBvc2l0aW9uPiA9PlxuICAoc2NyZWVuUG9zID0gZ2V0UG9zKGVsLCBtb3VzZUV2ZW50KSkgJiZcbiAgKHJlc3RyaWN0PFNjcmVlblBvc2l0aW9uPih7XG4gICAgeHB4OiBzY3JlZW5Qb3MueCxcbiAgICB5cHg6IHNjcmVlblBvcy55LFxuICAgIHg6IHJvdW5kKHNjcmVlblBvcy54IC8gYm9keS5vZmZzZXRXaWR0aCwgNCksXG4gICAgeTogcm91bmQoc2NyZWVuUG9zLnkgLyBib2R5Lm9mZnNldEhlaWdodCwgNCksXG4gICAgcGFnZUZvbGRzOiBpbmNsdWRlRm9sZCA/IHNjcmVlblBvcy55IC8gd2luZG93LmlubmVySGVpZ2h0IDogdW5kZWZpbmVkLFxuICB9KSBhcyBhbnkpO1xuXG5sZXQgeDogbnVtYmVyO1xubGV0IHk6IG51bWJlcjtcbmV4cG9ydCBjb25zdCBnZXRQb3MgPSA8TnVsbHM+KFxuICBlbDogTnVsbGFibGU8RWxlbWVudCwgTnVsbHM+LFxuICBtb3VzZUV2ZW50PzogTW91c2VFdmVudFxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIFBvc2l0aW9uPiA9PiB7XG4gIHJldHVybiAhIW1vdXNlRXZlbnQ/LltcInBvaW50ZXJUeXBlXCJdICYmIG1vdXNlRXZlbnQ/LnBhZ2VZICE9IG5pbFxuICAgID8geyB4OiBtb3VzZUV2ZW50LnBhZ2VYLCB5OiBtb3VzZUV2ZW50LnBhZ2VZIH1cbiAgICA6IGVsXG4gICAgPyAoKHsgeCwgeSB9ID0gZ2V0UmVjdChlbCkhKSwgeyB4LCB5IH0pXG4gICAgOiAodW5kZWZpbmVkIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNWaXNpYmxlID0gKGVsOiBFbGVtZW50IHwgTnVsbGlzaCkgPT4ge1xuICBpZiAoIWVsIHx8ICFlbC5pc0Nvbm5lY3RlZCB8fCBnZXRSZWN0KGVsLCBmYWxzZSkud2lkdGggPD0gMCkgcmV0dXJuIGZhbHNlO1xuICB3aGlsZSAoZWwpIHtcbiAgICBjb25zdCBzdHlsZSA9IChlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IGFzIFdpbmRvdyk/LmdldENvbXB1dGVkU3R5bGUoXG4gICAgICBlbFxuICAgICk7XG5cbiAgICBpZiAoc3R5bGUudmlzaWJpbGl0eSA9PT0gXCJoaWRkZW5cIiB8fCBzdHlsZS5vcGFjaXR5ID09PSBcIjBcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmxldCByZWN0OiBET01SZWN0O1xuZXhwb3J0IGNvbnN0IGdldFJlY3QgPSA8TnVsbHM+KFxuICBlbDogTnVsbGFibGU8RWxlbWVudCwgTnVsbHM+LFxuICBpbmNsdWRlU2Nyb2xsID0gdHJ1ZVxuKTogTWF5YmVVbmRlZmluZWQ8TnVsbHMsIFJlY3RhbmdsZT4gPT5cbiAgZWxcbiAgICA/ICgocmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgIChwb3MgPSBpbmNsdWRlU2Nyb2xsID8gc2Nyb2xsUG9zKEYpIDogeyB4OiAwLCB5OiAwIH0pLFxuICAgICAge1xuICAgICAgICB4OiByb3VuZChyZWN0LmxlZnQgKyBwb3MueCksXG4gICAgICAgIHk6IHJvdW5kKHJlY3QudG9wICsgcG9zLnkpLFxuICAgICAgICB3aWR0aDogcm91bmQocmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogcm91bmQocmVjdC5oZWlnaHQpLFxuICAgICAgfSlcbiAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcblxudHlwZSBBbGxNYXBzID0gV2luZG93RXZlbnRNYXAgJlxuICBHbG9iYWxFdmVudEhhbmRsZXJzRXZlbnRNYXAgJlxuICBEb2N1bWVudEV2ZW50TWFwICZcbiAgSFRNTEVsZW1lbnRFdmVudE1hcCAmIHtcbiAgICBmcmVlemU6IFBhZ2VUcmFuc2l0aW9uRXZlbnQ7XG4gICAgcmVzdW1lOiBQYWdlVHJhbnNpdGlvbkV2ZW50O1xuICB9O1xuXG5leHBvcnQgY29uc3QgbGlzdGVuID0gPEsgZXh0ZW5kcyBrZXlvZiBBbGxNYXBzPihcbiAgdGFyZ2V0OiB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuICAgICk6IHZvaWQ7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBFdmVudExpc3RlbmVyT3B0aW9uc1xuICAgICk6IHZvaWQ7XG4gIH0sXG4gIG5hbWU6IEsgfCBLW10sXG4gIGxpc3RlbmVyOiAoXG4gICAgZXY6IEFsbE1hcHNbSyBleHRlbmRzIGFueVtdID8gS1tudW1iZXJdIDogS10sXG4gICAgdW5iaW5kOiBVbmJpbmRlclxuICApID0+IGFueSxcbiAgb3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfVxuKTogQmluZGVycyA9PiB7XG4gIG5hbWUgPSBhcnJheTIobmFtZSkgYXMgYW55O1xuICByZXR1cm4gY3JlYXRlRXZlbnRCaW5kZXJzKFxuICAgIGxpc3RlbmVyLFxuICAgIChsaXN0ZW5lcikgPT5cbiAgICAgIGZvckVhY2gyKG5hbWUsIChuYW1lKSA9PlxuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICAgICksXG4gICAgKGxpc3RlbmVyKSA9PlxuICAgICAgZm9yRWFjaDIobmFtZSwgKG5hbWUpID0+XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBvcHRpb25zKVxuICAgICAgKVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRG9tYWluID0gKGhyZWY6IHN0cmluZyk6IERvbWFpbiA9PiB7XG4gIGNvbnN0IHsgaG9zdCwgc2NoZW1lLCBwb3J0IH0gPSBwYXJzZVVyaShocmVmLCB7XG4gICAgZGVsaW1pdGVyczogZmFsc2UsXG4gICAgcmVxdWlyZUF1dGhvcml0eTogdHJ1ZSxcbiAgfSk7XG4gIHJldHVybiB7IGhvc3Q6IGhvc3QgKyAocG9ydCA/IFwiOlwiICsgcG9ydCA6IFwiXCIpLCBzY2hlbWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3cG9ydFNpemUgPSAoKTogU2l6ZSA9PiAoe1xuICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxufSk7XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3cG9ydCA9ICgpOiBWaWV3cG9ydCA9PiAoXG4gIChwb3MgPSBzY3JvbGxQb3MoVCkpLFxuICB7XG4gICAgLi4ucG9zLFxuICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICB0b3RhbFdpZHRoOiBib2R5Lm9mZnNldFdpZHRoLFxuICAgIHRvdGFsSGVpZ2h0OiBib2R5Lm9mZnNldEhlaWdodCxcbiAgfVxuKTtcblxuZXhwb3J0IHR5cGUgT3ZlcmxheSA9IHtcbiAgbW92ZShyZWN0OiBET01SZWN0IHwgRWxlbWVudCk6IE92ZXJsYXk7XG4gIHRleHQodGV4dDogc3RyaW5nKTogT3ZlcmxheTtcbiAgdG9nZ2xlKHNob3c6IGJvb2xlYW4pOiBPdmVybGF5O1xufTtcbmV4cG9ydCBjb25zdCBvdmVybGF5ID0gKFxuICByZWN0PzogRE9NUmVjdCB8IEVsZW1lbnQsXG4gIHRleHQ/OiBzdHJpbmcsXG4gIHB1bHNlPzogYm9vbGVhblxuKTogT3ZlcmxheSA9PiB7XG4gIGxldCBiYWNrZHJvcEVsOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgbGV0IHRleHRFbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgbGV0IGN1cnJlbnRUZXh0ID0gdGV4dDtcbiAgbGV0IGN1cnJlbnRSZWN0OiBET01SZWN0IHwgdW5kZWZpbmVkID0gcmVjdCBhcyBhbnk7XG4gIGNvbnN0IGVuc3VyZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIGlmIChiYWNrZHJvcEVsKSByZXR1cm4gdHJ1ZTtcblxuICAgIGJhY2tkcm9wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJhY2tkcm9wRWwuc3R5bGUuY3NzVGV4dCA9XG4gICAgICBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjo0cHggc29saWQgYmx1ZTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MTAwXCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChiYWNrZHJvcEVsKTtcblxuICAgIHRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGV4dEVsLnN0eWxlLmNzc1RleHQgPVxuICAgICAgXCJwb3NpdGlvbjphYnNvbHV0ZTsgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsgcmlnaHQ6IDA7IHRvcDogMDttYXJnaW46MTBweFwiO1xuICAgIGJhY2tkcm9wRWwuYXBwZW5kQ2hpbGQodGV4dEVsKTtcblxuICAgIG92ZXJsYXkubW92ZShjdXJyZW50UmVjdCkudGV4dChjdXJyZW50VGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFuZXIgPSBjcmVhdGVUaW1lb3V0KCk7XG5cbiAgY29uc3Qgb3ZlcmxheSA9IHtcbiAgICBtb3ZlKHJlY3Q6IERPTVJlY3QgfCBFbGVtZW50IHwgTnVsbGlzaCkge1xuICAgICAgY3VycmVudFJlY3QgPSByZWN0ID0gKHJlY3QgYXMgRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKSA/P1xuICAgICAgICByZWN0ID8/IHtcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIH07XG5cbiAgICAgIGlmICghZW5zdXJlRWxlbWVudHMoKSkge1xuICAgICAgICByZXR1cm4gb3ZlcmxheTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjdXJyZW50UmVjdCEud2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXkudG9nZ2xlKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG9mZnNldCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBbXCJ0b3BcIiwgXCJsZWZ0XCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIl0uZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgICBiYWNrZHJvcEVsIS5zdHlsZVtwXSA9IHJlY3QhW3BdIC0gKGkgPCAyID8gb2Zmc2V0W3BdIDogMCkgKyBcInB4XCI7XG4gICAgICB9KTtcbiAgICAgIG9mZnNldCA9IGJhY2tkcm9wRWwhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGV4dEVsIS5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCA8IDAgPyAtb2Zmc2V0LnRvcCA6IDApICsgXCJweFwiO1xuXG4gICAgICB0ZXh0RWwhLnN0eWxlLnJpZ2h0ID1cbiAgICAgICAgKG9mZnNldC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgICAgPyBvZmZzZXQucmlnaHQgLSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICAgIDogMCkgKyBcInB4XCI7XG5cbiAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH0sXG4gICAgdGV4dDogKHRleHQ6IHN0cmluZyB8IE51bGxpc2gpID0+IChcbiAgICAgIGVuc3VyZUVsZW1lbnRzKCkgJiYgKHRleHRFbCEuaW5uZXJUZXh0ID0gY3VycmVudFRleHQgPSB0ZXh0ID8/IFwiXCIpLFxuICAgICAgb3ZlcmxheVxuICAgICksXG5cbiAgICB0b2dnbGUoc2hvdzogYm9vbGVhbikge1xuICAgICAgaWYgKCFiYWNrZHJvcEVsKSB7XG4gICAgICAgIGlmICghc2hvdykgcmV0dXJuIG92ZXJsYXk7XG4gICAgICAgIGVuc3VyZUVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgICBiYWNrZHJvcEVsIS5zdHlsZS50cmFuc2l0aW9uID0gc2hvdyA/IFwiXCIgOiBcIm9wYWNpdHkgMXMgLjVzXCI7XG4gICAgICBiYWNrZHJvcEVsIS5zdHlsZS5vcGFjaXR5ID0gc2hvdyA/IFwiMVwiIDogXCIwXCI7XG5cbiAgICAgIHNob3dcbiAgICAgICAgPyBjbGVhbmVyKGZhbHNlKVxuICAgICAgICA6IGNsZWFuZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFiYWNrZHJvcEVsKSByZXR1cm47XG4gICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGJhY2tkcm9wRWwpO1xuICAgICAgICAgICAgYmFja2Ryb3BFbCA9IHRleHRFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LCAxMTAwKTtcbiAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH0sXG4gIH07XG5cbiAgY3VycmVudFJlY3QgJiYgb3ZlcmxheS5tb3ZlKGN1cnJlbnRSZWN0KS50ZXh0KGN1cnJlbnRUZXh0KTtcbiAgcHVsc2UgJiYgb3ZlcmxheS50b2dnbGUodHJ1ZSkudG9nZ2xlKGZhbHNlKTtcblxuICByZXR1cm4gb3ZlcmxheTtcbn07XG4iLCJpbXBvcnQge1xuICBQYXJzYWJsZVRhZ3MsXG4gIFRhZ0NvbGxlY3Rpb24sXG4gIGNvbGxlY3RUYWdzLFxuICB0eXBlIFRhZyxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIFQsXG4gIGNvbmNhdCxcbiAgZmxhdE1hcCxcbiAgZmxhdE1hcDIsXG4gIGZvckVhY2gyLFxuICBpc0Z1bmN0aW9uLFxuICBpc0l0ZXJhYmxlLFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlZ0V4LFxuICBpc1N0cmluZyxcbiAgam9pbjIsXG4gIG1hdGNoZXMsXG4gIG5pbCxcbiAgcGFyc2VCb29sZWFuLFxuICBwYXJzZVJlZ2V4LFxuICByZXBsYWNlLFxuICBzdG9wLFxuICB0ZXN0UmVnZXgsXG4gIHR5cGUgTnVsbGlzaCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuXG5pbXBvcnQge1xuICBOb2RlV2l0aFBhcmVudEVsZW1lbnQsXG4gIGF0dHIsXG4gIGF0dHJpYnV0ZU5hbWVzLFxuICBjcmVhdGVFbGVtZW50LFxuICBjc3NQcm9wZXJ0eSxcbiAgZm9yQW5jZXN0b3JzT3JTZWxmLFxuICBtYXRjaFNlbGVjdG9yLFxuICB0cmFja2VyQ29uZmlnLFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB0eXBlIHsgQm91bmRhcnlEYXRhLCBUYWdNYXBwaW5ncyB9IGZyb20gXCIuLi8uLlwiO1xuXG5leHBvcnQgY29uc3QgYm91bmRhcnlEYXRhID0gbmV3IFdlYWtNYXA8Tm9kZSwgQm91bmRhcnlEYXRhPHRydWU+PigpO1xuZXhwb3J0IGNvbnN0IGdldEJvdW5kYXJ5RGF0YSA9IChlbDogTm9kZSkgPT4gYm91bmRhcnlEYXRhLmdldChlbCk7XG5cbmV4cG9ydCBjb25zdCB0cmFja2VyUHJvcGVydHlOYW1lID0gKG5hbWU6IHN0cmluZywgY3NzID0gRikgPT5cbiAgKGNzcyA/IFwiLS10cmFjay1cIiA6IFwidHJhY2stXCIpICsgbmFtZTtcblxuLy8gY29uc3QgdHJhY2tlclByb3BlcnR5ID0gKFxuLy8gICBlbDogRWxlbWVudCxcbi8vICAgbmFtZTogc3RyaW5nLFxuLy8gICB2YWx1ZSA9IGF0dHIoZWwsIHRyYWNrZXJQcm9wZXJ0eU5hbWUobmFtZSkpLFxuLy8gICBjc3MgPSBjc3NQcm9wZXJ0eShlbCBhcyBFbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUsIFQpKVxuLy8gKSA9PiAodmFsdWUgPyAoY3NzID8gdmFsdWUgKyBcIiBcIiArIGNzcyA6IHZhbHVlKSA6IGNzcyk7XG5cbnR5cGUgTWF0Y2hBdHRyaWJ1dGVSdWxlID0gcmVhZG9ubHkgW1xuICBtYXRjaDogUmVnRXhwLFxuICBzZWxlY3Rvcj86IHN0cmluZyxcbiAgYmFzZVJhbms/OiBzdHJpbmdcbl07XG5cbnR5cGUgQ2FjaGVNYXRjaFJ1bGVzID0gW1xuICBlbGlnaWJsZUNhY2hlOiB7IFtuYW1lOiBzdHJpbmddOiBib29sZWFuIH0sXG4gIHJ1bGVzOiBNYXRjaEF0dHJpYnV0ZVJ1bGVbXSB8IE51bGxpc2hcbl07XG5cbi8qKlxuICogRXh0cmFjdHMgYW4gZWxlbWVudCdzIHRhZ3MgZ2l2ZW4gYW4gYXR0cmlidXRlIG5hbWUsIGFuZCBhIGxpc3Qgb2YgcnVsZXMgYWJvdXQgaG93IHRvIG1hdGNoLi5cbiAqIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgZXh0ZXJuYWwsIGl0cyBsb2NhbCB2YXJpYWJsZXMgYXJlIGFkZGVkIGFzIGxvY2FsIHBhcmFtZXRlcnMuIERvbid0IHRhbXBlci5cbiAqXG4gKiBBbiBvcHRpb25hbCBgZWxpZ2libGVDYWNoZWAgY2FuIGJlIHBhc3NlZCBhbG9uZyB0byBzcGVlZCB1cCByZWplY3RpbmcgYXR0cmlidXRlIG5hbWVzIHRoYXQgZGVmaW5pdGVseSBkb24ndCBtYXRjaCBhbnl0aGluZy5cbiAqL1xuY29uc3QgbWF0Y2hBdHRyaWJ1dGVOYW1lcyA9IChcbiAgZWw6IEVsZW1lbnQgfCBOdWxsaXNoLFxuICBjYWNoZWQ6IENhY2hlTWF0Y2hSdWxlcyB8IE51bGxpc2gsXG4gIHRhZ3M6IFRhZ0NvbGxlY3Rpb24sXG4gIHByZWZpeD86IHN0cmluZyB8IGJvb2xlYW4sXG4gIHZhbHVlPzogc3RyaW5nLFxuICBlbGlnaWJsZT86IGJvb2xlYW5cbikgPT5cbiAgY2FjaGVkPy5bMV0gJiZcbiAgZm9yRWFjaDIoXG4gICAgYXR0cmlidXRlTmFtZXMoZWwpLFxuICAgIChuYW1lKSA9PlxuICAgICAgKGNhY2hlZFswXVtuYW1lXSA/Pz1cbiAgICAgICAgKChlbGlnaWJsZSA9IEYpLFxuICAgICAgICBpc1N0cmluZyhcbiAgICAgICAgICAocHJlZml4ID1cbiAgICAgICAgICAgIC8vIE5vIGNhY2hlLiBMZXQncyBsb29wIHRocm91Z2ggdGhlbSB0aGVuLlxuICAgICAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgICAgIGNhY2hlZFsxXSxcbiAgICAgICAgICAgICAgKFttYXRjaCwgc2VsZWN0b3IsIHByZWZpeF0sIF8pID0+XG4gICAgICAgICAgICAgICAgdGVzdFJlZ2V4KG5hbWUsIG1hdGNoKSAmJlxuICAgICAgICAgICAgICAgIC8vIFNuZWFraWx5IHdlIFwiZGVsZXRlXCIgdGhlIGVsaWdpYmxlIGZsYWcsIHNvIHRoZSBza2lwTmFtZUNhY2hlJ3MgYD8/PWAgYXNzaWdubWVudCB3aWxsIGFsd2F5cyBiZSByZWV2YWx1YXRlZC5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGNvZGUgYnJhbmNoIGlzIG5ldmVyIGhpdCwgd2UgcmV0dXJuIHRoZSBpbml0aWFsIHZhbHVlIGBmYWxzZWAsIGFuZCB0aGlzIGNoZWNrIHdpbGwgbmV2ZXIgYmUgcGVyZm9ybWVkIGFnYWluLlxuICAgICAgICAgICAgICAgIC8vIFdlIGRvIHRoaXMgY2hlY2sgYmVmb3JlIHRoZSBzZWxlY3RvciBjaGVjaywgc2luY2UgdGhpcyByZXN1bHQgaXMgbm90IGdlbmVyYWxseSBjYWNoZWFibGUuXG4gICAgICAgICAgICAgICAgKChlbGlnaWJsZSA9IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgIXNlbGVjdG9yIHx8IG1hdGNoU2VsZWN0b3IoZWwsIHNlbGVjdG9yKSkgJiZcbiAgICAgICAgICAgICAgICBzdG9wKHByZWZpeCA/PyBuYW1lKVxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSAmJiAvLyBUaGUgZW1wdHkgc3RyaW5nIGlzIGFsc28gXCJ0cnVlXCIgc2luY2UgaXQgbWVhbnMgcHJlc2VuY2Ugb2YgdGhlIGF0dHJpYnV0ZSB3aXRob3V0IGEgdmFsdWUgKGFzIGluIGA8ZGl2IHRhZy15ZXMgLz4pLlxuICAgICAgICAgICghKHZhbHVlID0gZWwhLmdldEF0dHJpYnV0ZShuYW1lKSEpIHx8IHBhcnNlQm9vbGVhbih2YWx1ZSkpICYmXG4gICAgICAgICAgY29sbGVjdFRhZ3ModmFsdWUsIHJlcGxhY2UocHJlZml4LCAvXFwtL2csIFwiOlwiKSwgdGFncyksXG4gICAgICAgIGVsaWdpYmxlKSlcbiAgKTtcblxuLy8gV2UgY2FjaGUgdGhlIHRyYWNrZXIgY29uZmlndXJhdGlvbidzIHJ1bGVzIGZvciB0YWcgbWFwcGluZ3MuXG5sZXQgY2FjaGVkVGFnTWFwcGVyOiAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+IHZvaWQgPSAoKSA9PiB7fTtcbmxldCBjYWNoZWRNYXBwaW5nczogVGFnTWFwcGluZ3MgfCB1bmRlZmluZWQ7XG5jb25zdCBwYXJzZVRhZ0F0dHJpYnV0ZXMgPSAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+IHtcbiAgaWYgKGNhY2hlZE1hcHBpbmdzID09PSAoY2FjaGVkTWFwcGluZ3MgPSB0cmFja2VyQ29uZmlnLnRhZ3MpKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRhZ01hcHBlcihlbCwgdGFncyk7XG4gIH1cblxuICBjb25zdCBwYXJzZSA9IChydWxlOiBUYWdNYXBwaW5nc1tzdHJpbmddKTogTWF0Y2hBdHRyaWJ1dGVSdWxlW10gPT5cbiAgICAgICFydWxlXG4gICAgICAgID8gW11cbiAgICAgICAgOiBpc1JlZ0V4KHJ1bGUpXG4gICAgICAgID8gW1tydWxlXV1cbiAgICAgICAgOiBpc0l0ZXJhYmxlKHJ1bGUpXG4gICAgICAgID8gZmxhdE1hcChydWxlLCBwYXJzZSlcbiAgICAgICAgOiBbXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHJ1bGUpXG4gICAgICAgICAgICAgID8gW3BhcnNlUmVnZXgocnVsZS5tYXRjaCkhLCBydWxlLnNlbGVjdG9yLCBydWxlLnByZWZpeF1cbiAgICAgICAgICAgICAgOiBbcGFyc2VSZWdleChydWxlKSFdLFxuICAgICAgICAgIF0sXG4gICAgY2FjaGU6IENhY2hlTWF0Y2hSdWxlcyA9IFtcbiAgICAgIHt9LFxuICAgICAgLy8gU3RhcnQgYnkgY2hlY2tpbmcgd2hldGhlciB3ZSBoYXZlIGFueSBvZiB0aGUgZ29vZCBvbCcsIGRvY3VtZW50ZWQsIFwidGFpbC5qcyBvZmZpY2lhbFwiIHRhZyBhdHRyaWJ1dGVzLlxuICAgICAgW1xuICAgICAgICBbL14oPzp0cmFja1xcLSk/dGFncz8oPzokfFxcLSkoLiopL10sXG4gICAgICAgIC4uLnBhcnNlKGZsYXRNYXAyKGNhY2hlZE1hcHBpbmdzLCAoWywgdmFsdWVdKSA9PiB2YWx1ZSwgMSkpLFxuICAgICAgXSxcbiAgICBdO1xuXG4gIChjYWNoZWRUYWdNYXBwZXIgPSAoZWw6IEVsZW1lbnQsIHRhZ3M6IFRhZ0NvbGxlY3Rpb24pID0+XG4gICAgbWF0Y2hBdHRyaWJ1dGVOYW1lcyhlbCwgY2FjaGUsIHRhZ3MpKShlbCwgdGFncyk7XG59O1xuXG5jb25zdCBjc3NQcm9wZXJ0eVdpdGhCYXNlID0gKGVsOiBFbGVtZW50LCBuYW1lOiBzdHJpbmcpID0+XG4gIGpvaW4yKFxuICAgIGNvbmNhdChcbiAgICAgIGNzc1Byb3BlcnR5KGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUsIFQpKSxcbiAgICAgIGNzc1Byb3BlcnR5KGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKFwiYmFzZS1cIiArIG5hbWUsIFQpKVxuICAgICksXG4gICAgXCIgXCJcbiAgKTtcblxuLy8gV2UgY2Fubm90IGNhY2hlIGFzIGJyb2FkbHkgZm9yIENTUyBiYXNlZCBydWxlcywgc28gd2UgY2FjaGUgcGVyIHNlbGVjdG9yIGluc3RlYWQuXG5jb25zdCBwYXJzZWRDc3NSdWxlczoge1xuICBbcnVsZTogc3RyaW5nXTogQ2FjaGVNYXRjaFJ1bGVzO1xufSA9IHt9O1xuXG5jb25zdCBwYXJzZUNzc01hcHBpbmdSdWxlcyA9IChcbiAgZWw6IEVsZW1lbnQsXG4gIHRhZ3M6IFRhZ0NvbGxlY3Rpb24sXG4gIHJ1bGVzU3RyaW5nID0gY3NzUHJvcGVydHlXaXRoQmFzZShlbCwgXCJhdHRyaWJ1dGVzXCIpXG4pID0+IHtcbiAgcnVsZXNTdHJpbmcgJiZcbiAgICBtYXRjaEF0dHJpYnV0ZU5hbWVzKFxuICAgICAgZWwsXG4gICAgICAocGFyc2VkQ3NzUnVsZXNbcnVsZXNTdHJpbmddID8/PSBbXG4gICAgICAgIHt9LFxuICAgICAgICBtYXRjaGVzKFxuICAgICAgICAgIHJ1bGVzU3RyaW5nLFxuICAgICAgICAgIC8oPzooXFxTKylcXDpcXHMqKT8oPzpcXCgoXFxTKylcXCl8KFteXFxzLDpdKykpXFxzKig/IVxcUypcXDopL2csXG4gICAgICAgICAgKF8sIHByZWZpeCwgcnVsZTEsIHJ1bGUyKSA9PlxuICAgICAgICAgICAgW3BhcnNlUmVnZXgocnVsZTEgfHwgcnVsZTIpLCAsIHByZWZpeF0gYXMgY29uc3RcbiAgICAgICAgKSxcbiAgICAgIF0pLFxuICAgICAgdGFnc1xuICAgICk7XG4gIGNvbGxlY3RUYWdzKGNzc1Byb3BlcnR5V2l0aEJhc2UoZWwsIFwidGFnc1wiKSwgdW5kZWZpbmVkLCB0YWdzKTtcbn07XG5cbmxldCBjdXJyZW50Qm91bmRhcnlEYXRhOiBCb3VuZGFyeURhdGE8dHJ1ZT4gfCBOdWxsaXNoO1xuZXhwb3J0IGNvbnN0IHRyYWNrZXJQcm9wZXJ0eSA9IChcbiAgZWw6IEVsZW1lbnQsXG4gIG5hbWU6IHN0cmluZyxcbiAgaW5oZXJpdDpcbiAgICB8IGJvb2xlYW5cbiAgICB8ICgoZWw6IE5vZGVXaXRoUGFyZW50RWxlbWVudCwgZGlzdGFuY2U6IG51bWJlcikgPT4gYm9vbGVhbikgPSBGLFxuICBib3VuZGFyeURhdGE/OiAoZWw6IEJvdW5kYXJ5RGF0YTx0cnVlPikgPT4gc3RyaW5nIHwgTnVsbGlzaFxuKTogc3RyaW5nIHwgbnVsbCA9PlxuICAoaW5oZXJpdFxuICAgID8gZm9yQW5jZXN0b3JzT3JTZWxmKFxuICAgICAgICBlbCxcbiAgICAgICAgKGVsLCByKSA9PiByKHRyYWNrZXJQcm9wZXJ0eShlbCwgbmFtZSwgRikpLFxuICAgICAgICBpc0Z1bmN0aW9uKGluaGVyaXQpID8gaW5oZXJpdCA6IHVuZGVmaW5lZFxuICAgICAgKVxuICAgIDogam9pbjIoXG4gICAgICAgIGNvbmNhdChcbiAgICAgICAgICBhdHRyKGVsLCB0cmFja2VyUHJvcGVydHlOYW1lKG5hbWUpKSxcbiAgICAgICAgICBjc3NQcm9wZXJ0eShlbCwgdHJhY2tlclByb3BlcnR5TmFtZShuYW1lLCBUKSlcbiAgICAgICAgKSxcbiAgICAgICAgXCIgXCJcbiAgICAgICkpID8/XG4gIChib3VuZGFyeURhdGEgJiZcbiAgICAoY3VycmVudEJvdW5kYXJ5RGF0YSA9IGdldEJvdW5kYXJ5RGF0YShlbCkpICYmXG4gICAgYm91bmRhcnlEYXRhKGN1cnJlbnRCb3VuZGFyeURhdGEpKSA/P1xuICBuaWw7XG5cbmxldCBwcm9wZXJ0eVZhbHVlOiBzdHJpbmcgfCBOdWxsaXNoO1xuZXhwb3J0IGNvbnN0IHRyYWNrZXJGbGFnID0gKFxuICBlbDogRWxlbWVudCxcbiAgbmFtZTogc3RyaW5nLFxuICBpbmhlcml0OlxuICAgIHwgYm9vbGVhblxuICAgIHwgKChlbDogTm9kZVdpdGhQYXJlbnRFbGVtZW50LCBkaXN0YW5jZTogbnVtYmVyKSA9PiBib29sZWFuKSA9IEYsXG4gIGJvdW5kYXJ5RGF0YT86IChkYXRhOiBCb3VuZGFyeURhdGEpID0+IGJvb2xlYW4gfCBOdWxsaXNoXG4pID0+XG4gIChwcm9wZXJ0eVZhbHVlID0gdHJhY2tlclByb3BlcnR5KGVsLCBuYW1lLCBpbmhlcml0LCBib3VuZGFyeURhdGEgYXMgYW55KSkgPT09XG4gICAgXCJcIiB8fCAocHJvcGVydHlWYWx1ZSA9PSBuaWwgPyBwcm9wZXJ0eVZhbHVlIDogcGFyc2VCb29sZWFuKHByb3BlcnR5VmFsdWUpKTtcblxuZXhwb3J0IHR5cGUgUGFyc2VkVGFncyA9IHsgdGFncz86IFRhZ1tdIH07XG5cbmV4cG9ydCBjb25zdCBwYXJzZVRhZ3MgPSAoXG4gIHNvdXJjZUVsOiBFbGVtZW50IHwgTnVsbGlzaCxcbiAgc3RvcHBpbmdDcml0ZXJpb24/OiAoZWw6IEVsZW1lbnQsIGRpc3RhbmNlOiBudW1iZXIpID0+IGJvb2xlYW4sXG4gIGVsZW1lbnRUYWdEYXRhPzogKGVsOiBFbGVtZW50KSA9PiBQYXJzYWJsZVRhZ3MsXG4gIHRhZ3M/OiBUYWdDb2xsZWN0aW9uXG4pOiBQYXJzZWRUYWdzID0+XG4gICFzb3VyY2VFbFxuICAgID8ge31cbiAgICA6ICgodGFncyA/Pz0gbmV3IE1hcCgpKSxcbiAgICAgIHBhcnNlQ3NzTWFwcGluZ1J1bGVzKHNvdXJjZUVsLCB0YWdzKSxcbiAgICAgIGZvckFuY2VzdG9yc09yU2VsZihcbiAgICAgICAgc291cmNlRWwsXG4gICAgICAgIChlbCkgPT4ge1xuICAgICAgICAgIHBhcnNlVGFnQXR0cmlidXRlcyhlbCwgdGFncyEpO1xuICAgICAgICAgIGNvbGxlY3RUYWdzKGVsZW1lbnRUYWdEYXRhPy4oZWwpLCB1bmRlZmluZWQsIHRhZ3MhKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcHBpbmdDcml0ZXJpb25cbiAgICAgICksXG4gICAgICB0YWdzLnNpemUgPyB7IHRhZ3M6IFsuLi50YWdzLnZhbHVlcygpXSB9IDoge30pO1xuXG5sZXQgc3R5bGVFbGVtZW50OiBOb2RlO1xuZXhwb3J0IGNvbnN0IGluamVjdENzc0RlZmF1bHRzID0gKGRvY3VtZW50OiBEb2N1bWVudCkgPT4ge1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFxuICAgICgoKHN0eWxlRWxlbWVudCA9XG4gICAgICAvLyAtLXRyYWNrLWJhc2UtYXR0cmlidXRlcyBhbmQgLS10cmFjay1iYXNlLXRhZ3MgYXJlIG5vdCBzZXQsIHNpbmNlIHRoZXkgYXJlIHN1cHBvc2VkIHRvIGJlIGluaGVyaXRlZC5cbiAgICAgIGNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkuaW5uZXJUZXh0ID0gYCogeyAke3RyYWNrZXJQcm9wZXJ0eU5hbWUoXG4gICAgICBcInRhZ3NcIixcbiAgICAgIFRcbiAgICApfTo7ICR7dHJhY2tlclByb3BlcnR5TmFtZShcImF0dHJpYnV0ZXNcIiwgVCl9Ojt9YCksXG4gICAgc3R5bGVFbGVtZW50KVxuICApO1xufTtcbiIsImltcG9ydCBtc2dwYWNrIGZyb20gXCJAeWdvZS9tc2dwYWNrXCI7XG5jb25zdCB7IGRlc2VyaWFsaXplOiBtc2dEZXNlcmlhbGl6ZSwgc2VyaWFsaXplOiBtc2dTZXJpYWxpemUgfSA9IG1zZ3BhY2s7XG5cbmltcG9ydCB7XG4gIElERU5USVRZLFxuICBJc05ldmVyLFxuICBOdWxsaXNoLFxuICBpc0FycmF5LFxuICBpc0Z1bmN0aW9uLFxuICBpc0l0ZXJhYmxlLFxuICBpc0pzb25TdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNTdHJpbmcsXG4gIGlzU3ltYm9sLFxuICBtYXAyLFxuICB0cnlDYXRjaCxcbiAgdW5kZWZpbmVkLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBIYXNoRnVuY3Rpb24sIGZyb202NHUsIGxmc3IsIHRvNjR1IH0gZnJvbSBcIi5cIjtcblxudHlwZSBDb252ZXJ0ZXJGdW5jdGlvblZhbHVlPFQ+ID0gVCBleHRlbmRzIHsgdG9KU09OKCk6IGluZmVyIFYgfVxuICA/IFZcbiAgOiBUIGV4dGVuZHMgeyB2YWx1ZU9mKCk6IGluZmVyIFYgfVxuICA/IFZcbiAgOiBUO1xuXG50eXBlIENvbnZlcnRlclZhbHVlPFQ+ID0gVCBleHRlbmRzIENvbnZlcnRlckZ1bmN0aW9uVmFsdWU8VD5cbiAgPyBuZXZlclxuICA6IENvbnZlcnRlckZ1bmN0aW9uVmFsdWU8VD47XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZUFycmF5ID0gRW5jb2RhYmxlW107XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZVR1cGxlID0gWy4uLkl0ZW1zOiBFbmNvZGFibGVbXV07XG5cbmV4cG9ydCB0eXBlIEVuY29kYWJsZU9iamVjdCA9IFBhcnRpYWw8e1xuICBbSyBpbiBzdHJpbmcgfCBudW1iZXJdPzogRW5jb2RhYmxlO1xufT47XG5cbi8qKlxuICogQWxsIHBvc3NpYmxlIHZhbHVlcyB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCB3aXRoIEpTT04uXG4gKi9cbmV4cG9ydCB0eXBlIEVuY29kYWJsZSA9XG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCBFbmNvZGFibGVBcnJheVxuICB8IEVuY29kYWJsZVR1cGxlXG4gIHwgRW5jb2RhYmxlT2JqZWN0O1xuXG4vKipcbiAqIFRoZSBzaGFwZSBvZiB0aGUgZGF0YSB0aGF0IHdpbGwgY29tZSBiYWNrIHdoZW4gZGVjb2RpbmcgdGhlIGVuY29kZWQgdmFsdWUgb2YgYSB0eXBlLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGF0IG9ubHkgdGhlIHNoYXBlcyBwZXJtaXR0ZWQgYnkge0BsaW5rIEVuY29kYWJsZX0gYXJlIHNlcmlhbGl6ZWQuXG4gKiBPdGhlcndpc2Ugbm90IGlnbm9yZWQgc2luY2UgZnVuY3Rpb25zIGFyZSBpbiBmYWN0IHNlcmlhbGl6ZWQgYXMgYHt9YC5cbiAqL1xuZXhwb3J0IHR5cGUgRGVjb2RlZDxUID0gRW5jb2RhYmxlPiA9IEVuY29kYWJsZSBleHRlbmRzIFRcbiAgPyBFbmNvZGFibGVcbiAgOiBUIGV4dGVuZHMgdm9pZFxuICA/IHVuZGVmaW5lZCAvLyBGb3IgYW5ub3lpbmcgcmVhc29uLCBUeXBlU2NyaXB0IGRpZmZlcmVudGlhdGVzIGJldHdlZW4gYHVuZGVmaW5lZGAgYW5kIGB2b2lkYC4gV2Ugd2FudCBgdm9pZGAuXG4gIDogVCBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkXG4gID8gVFxuICA6IElzTmV2ZXI8Q29udmVydGVyVmFsdWU8VD4+IGV4dGVuZHMgZmFsc2VcbiAgPyBEZWNvZGVkPENvbnZlcnRlclZhbHVlPFQ+PlxuICA6IFQgZXh0ZW5kcyBhbnlbXVxuICA/IHsgW2luZGV4IGluIGtleW9mIFRdOiBEZWNvZGVkPFRbaW5kZXhdPiB9XG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XG4gID8gRGVjb2RlZDxUPltdXG4gIDogVCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gID8gdW5kZWZpbmVkXG4gIDogVCBleHRlbmRzIG9iamVjdFxuICA/IHtcbiAgICAgIC1yZWFkb25seSBbUCBpbiBrZXlvZiBUIGFzIFAgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXJcbiAgICAgICAgPyBEZWNvZGVkPFRbUF0+IGV4dGVuZHMgdW5kZWZpbmVkXG4gICAgICAgICAgPyBuZXZlclxuICAgICAgICAgIDogUFxuICAgICAgICA6IG5ldmVyXTogRGVjb2RlZDxUW1BdPjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogVGhlIGJyb2FkZXN0IHBvc3NpYmxlIHN1YnR5cGUgb2YgYSBnaXZlbiB0eXBlIHRoYXQgY2FuIGJlIHNlcmlhbGl6ZWQgYW5kIHRoZW4gZGVzZXJpYWxpemVkIHdpdGhvdXQgdmlvbGF0aW5nIHRoZSB0eXBlJ3MgY29udHJhY3QsXG4gKiB3aXRoIHRoZSBleGNlcHRpb24gb2Ygd2VsbC1rbm93biBzeW1ib2wgcHJvcGVydGllcy4gVGhvc2UgYXJlIGlnbm9yZWQuXG4gKlxuICogTm90IHZpb2xhdGluZyB0aGUgY29udHJhY3QgZG9lcyBub3QgbWVhbiB0aGF0IHRoZSB0eXBlIGNhbiBsb3NsZXNzbHkgYmUgc2VyaWFsaXplZCBhbmQgdGhlbiBkZXNlcmlhbGl6ZWQgYmFjay5cbiAqIEl0IGp1c3QgbWVhbnMgdGhhdCBpdHMgY29udHJhY3Qgd2lsbCBub3QgYmUgdmlvbGF0ZWQgaWYgdmFsdWVzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBvbWl0dGVkIG9yIGRlc2VyaWFsaXplZCBiYWNrIHRvIGFub3RoZXIgdmFsaWQgc3VidHlwZS5cbiAqIEZvciBleGFtcGxlLCBhbiBpdGVyYWJsZSB0aGF0IGlzIG5vdCBhbiBhcnJheSB3aWxsIGJlIGRlc2VyaWFsaXplZCBhcyBhbiBhcnJheS5cbiAqXG4gKiBJbiBwYXJ0aWN1bGFyIGZ1bmN0aW9ucyBvciBwcm9taXNlcyBhcmUgc2VyaWFsaXplZCBhcyBlbXB0eSBvYmplY3RzIGB7fWAsIGFuZCBjYW5ub3QgYmUgZGVzZXJpYWxpemVkIGJhY2suXG4gKiBUaGlzIG1lYW5zIHRoYXQgcmVxdWlyZWQgY29uc3RyYWludHMgb24gcHJvcGVydGllcyB0aGF0IG9ubHkgYWxsb3cgdGhlc2UgdHlwZXMgY2FuIG5ldmVyIGJlIG1ldC5cbiAqIFNpbWlsYXJseSwgYXJyYXlzIHRoZSBjYW4gb25seSBob2xkIGZ1bmN0aW9ucyBvciBwcm9taXNlcyBtdXN0IGJlIGVtcHR5IChgbmV2ZXJbXWApIHRvIHNhdGlzZnkgdGhlIHR5cGUgY29uc3RyYWludC5cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEVuY29kYWJsZUNvbnRyYWN0PFQgPSBFbmNvZGFibGU+ID0gRW5jb2RhYmxlIGV4dGVuZHMgVFxuICA/IEVuY29kYWJsZVxuICA6IFQgZXh0ZW5kcyB2b2lkXG4gID8gdW5kZWZpbmVkIC8vIEZvciBhbm5veWluZyByZWFzb25zLCBUeXBlU2NyaXB0IGRpZmZlcmVudGlhdGVzIGJldHdlZW4gYHVuZGVmaW5lZGAgYW5kIGB2b2lkYC4gV2Ugd2FudCBgdm9pZGAuXG4gIDogVCBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkIHwgdm9pZFxuICA/IFRcbiAgOiBJc05ldmVyPENvbnZlcnRlclZhbHVlPFQ+PiBleHRlbmRzIGZhbHNlXG4gID8gRW5jb2RhYmxlQ29udHJhY3Q8Q29udmVydGVyVmFsdWU8VD4+XG4gIDogVCBleHRlbmRzIGFueVtdXG4gID8geyBbaW5kZXggaW4ga2V5b2YgVF06IEVuY29kYWJsZUNvbnRyYWN0PFRbaW5kZXhdPiB9XG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGFueT5cbiAgPyBUXG4gIDogVCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gID8gdW5kZWZpbmVkXG4gIDogVCBleHRlbmRzIG9iamVjdFxuICA/IHtcbiAgICAgIC8vIEZ1biBmYWN0OiBUeXBlU2NyaXB0IGtlZXBzIG9wdGlvbmFsIHByb3BlcnRpZXMgaWYgd2UgaXRlcmF0ZSBrZXlvZiBQIGFuZCB0aGVuIGV4Y2x1ZGUgc3ltYm9scyB3aXRoIHRoZSBgZXh0ZW5kc2AgY29uc3RydWN0LlxuICAgICAgLy8gIGAoa2V5b2YgVCAmIHN5bWJvbClgIG9yIGBFeGNsdWRlIDxrZXlvZiBULCBzeW1ib2w+YCBtYWtlcyBhbGwgcHJvcGVydGllcyByZXF1aXJlZC4gKGB7IGE/OiB1bmRlZmluZWR9YCBiZWNvbWVzIGB7YTp1bmRlZmluZWR9YClcbiAgICAgIC8vIEtlZXBpbmcgb3B0aW9uYWwgYHVuZGVmaW5lZGAgcHJvcGVydGllcyBtZWFucyB0aGF0IHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHN0aWxsIGFsbG93ZWQgaW4gYSB0eXBlIGxpa2UgYHthKCk/OiBib29sZWFufWAsIGV2ZW4gdGhvdWdoIGZ1bmN0aW9ucyBhcmUgbm90IGFsbG93ZWQuXG4gICAgICBbUCBpbiBrZXlvZiBUIGFzIFAgZXh0ZW5kcyBzeW1ib2wgPyBuZXZlciA6IFBdOiBFbmNvZGFibGVDb250cmFjdDxUW1BdPjtcbiAgICB9XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIHZhbHVlIHRvIGFuIEhUVFAgcXVlcnlzdHJpbmcvaGVhZGVyIHNhZmUgc3RyaW5nLCB0aGF0IGlzLCBkb2VzIG5vdCBuZWVkIHRvIGJlIFVSSSBlc2NhcGVkLlxuICogVGhlIGZ1bmN0aW9uIGlzIGFuYWxvZ291cyB0byBgSlNPTi5zdHJpbmdpZnlgLCBleGNlcHQgdGhpcyBvbmUgYWxzbyBzdXBwb3J0cyByZWZlcmVuY2VzLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gYmluYXJ5IHdoZXRoZXIgdG8gc2VyaWFsaXplIHRvIGEgc3RyaW5nIChVUkwgc2FmZSBiYXNlIDY0KSBvciBVaW50OEFycmF5LiBAZGVmYXVsdCBmYWxzZVxuICpcbiAqIEByZXR1cm5zIFRoZSBIVFRQIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZhbHVlLlxuICovXG5leHBvcnQgdHlwZSBFbmNvZGVyID0ge1xuICA8QmluYXJ5IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlPihcbiAgICB2YWx1ZTogYW55LFxuICAgIGJpbmFyeT86IEJpbmFyeVxuICApOiBCaW5hcnkgZXh0ZW5kcyB0cnVlID8gVWludDhBcnJheSA6IHN0cmluZztcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIHZhbHVlIGVuY29kZWQgd2l0aCBhbiB7QGxpbmsgRW5jb2Rlcn0uXG4gKi9cbmV4cG9ydCB0eXBlIERlY29kZXIgPSA8VCA9IGFueT4oXG4gIGVuY29kZWQ6IHN0cmluZyB8IFVpbnQ4QXJyYXkgfCBOdWxsaXNoXG4pID0+IFQgfCB1bmRlZmluZWQ7XG5cbmNvbnN0IFJFRl9QUk9QID0gXCIkcmVmXCI7XG5cbmNvbnN0IGluY2x1ZGVWYWx1ZSA9IChrZXk6IGFueSwgdmFsdWU6IGFueSwgaW5jbHVkZURlZmF1bHRWYWx1ZXM6IGJvb2xlYW4pID0+XG4gIGlzU3ltYm9sKGtleSlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaW5jbHVkZURlZmF1bHRWYWx1ZXNcbiAgICA/IHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICA6IHZhbHVlID09PSBudWxsIHx8IHZhbHVlO1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIGluLW1lbW9yeSBvYmplY3QgdG8gYSBmb3JtYXQgdGhhdCBjYW4gYmUgc2VyaWFsaXplZCBvdmVyIGEgd2lyZSBpbmNsdWRpbmcgY3ljbGljIHJlZmVyZW5jZXMuXG4gKi9cbmNvbnN0IHNlcmlhbGl6ZSA9IDxNc2dwYWNrIGV4dGVuZHMgYm9vbGVhbj4oXG4gIHZhbHVlOiBhbnksXG4gIG1zZ3BhY2s6IE1zZ3BhY2ssXG4gIHsgZGVmYXVsdFZhbHVlcyA9IHRydWUsIHByZXR0aWZ5ID0gZmFsc2UgfVxuKTogTXNncGFjayBleHRlbmRzIHRydWUgPyBVaW50OEFycmF5IDogc3RyaW5nID0+IHtcbiAgbGV0IGNsZWFuZXJzOiAoKCkgPT4gdm9pZClbXSB8IHVuZGVmaW5lZDtcbiAgbGV0IHJlZnM6IE1hcDxhbnksIG51bWJlcj4gfCB1bmRlZmluZWQ7XG4gIGxldCByZWZJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBjb25zdCBwYXRjaFByb3BlcnR5ID0gKFxuICAgIHRhcmdldDogYW55LFxuICAgIGtleTogYW55LFxuICAgIHZhbHVlID0gdGFyZ2V0W2tleV0sXG4gICAgcGF0Y2hlZCA9IGluY2x1ZGVWYWx1ZShrZXksIHZhbHVlLCBkZWZhdWx0VmFsdWVzKSA/IGlubmVyKHZhbHVlKSA6IHVuZGVmaW5lZFxuICApID0+IChcbiAgICB2YWx1ZSAhPT0gcGF0Y2hlZCAmJlxuICAgICAgKHBhdGNoZWQgPT09IHVuZGVmaW5lZCAmJiAhaXNBcnJheSh0YXJnZXQpXG4gICAgICAgID8gZGVsZXRlIHRhcmdldFtrZXldXG4gICAgICAgIDogKHRhcmdldFtrZXldID0gcGF0Y2hlZCksXG4gICAgICBhZGRDbGVhbmVyKCgpID0+ICh0YXJnZXRba2V5XSA9IHZhbHVlKSkpLFxuICAgIHBhdGNoZWRcbiAgKTtcblxuICBjb25zdCBhZGRDbGVhbmVyID0gKGNsZWFuZXI6ICgpID0+IHZvaWQpID0+IChjbGVhbmVycyA/Pz0gW10pLnB1c2goY2xlYW5lcik7XG5cbiAgY29uc3QgaW5uZXIgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICgodmFsdWUgYXMgYW55KS50b0pTT04gJiYgdmFsdWUgIT09ICh2YWx1ZSA9ICh2YWx1ZSBhcyBhbnkpLnRvSlNPTigpKSkge1xuICAgICAgcmV0dXJuIGlubmVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoKHJlZkluZGV4ID0gcmVmcz8uZ2V0KHZhbHVlKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKCF2YWx1ZVtSRUZfUFJPUF0pIHtcbiAgICAgICAgLy8gT25seSBhc3NpZ24gSUQgcGFyYW1ldGVyIGlmIHVzZWQuXG4gICAgICAgIHZhbHVlW1JFRl9QUk9QXSA9IHJlZkluZGV4O1xuICAgICAgICBhZGRDbGVhbmVyKCgpID0+IGRlbGV0ZSB2YWx1ZVtSRUZfUFJPUF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgW1JFRl9QUk9QXTogcmVmSW5kZXggfTtcbiAgICB9XG5cbiAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIChyZWZzID8/PSBuZXcgTWFwKCkpLnNldCh2YWx1ZSwgcmVmcy5zaXplICsgMSk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkgcGF0Y2hQcm9wZXJ0eSh2YWx1ZSwga2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgLy8gQXJyYXkgd2l0aCB1bmRlZmluZWQgdmFsdWVzIG9yIGl0ZXJhYmxlICh3aGljaCBpcyBtYWRlIGludG8gYXJyYXkuKS4gKFssMSwyLDNdIGRvZXMgbm90IHJldmVhbCBpdHMgZmlyc3QgZW50cnkpLlxuICAgICAgKCFpc0FycmF5KHZhbHVlKSB8fCBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoIDwgdmFsdWUubGVuZ3RoXG4gICAgICAgID8gWy4uLih2YWx1ZSBhcyBhbnkpXVxuICAgICAgICA6IHZhbHVlXG4gICAgICApLmZvckVhY2goKF8sIGkpID0+XG4gICAgICAgIGkgaW4gdmFsdWVcbiAgICAgICAgICA/IHBhdGNoUHJvcGVydHkodmFsdWUsIGkpXG4gICAgICAgICAgOiAvLyBIYW5kbGUgYXJyYXlzIGxpa2UgW3ZhbHVlMSwsdmFsdWUzLHZhbHVlNCwsLHZhbHVlNl0uIFRoZSBtaXNzaW5nIGVsZW1lbnRzIGRvZXMgbm90IHNlcmlhbGl6ZSB3ZWxsIHdpdGggbXNncGFjay5cbiAgICAgICAgICAgICgodmFsdWVbaV0gPSBudWxsKSwgYWRkQ2xlYW5lcigoKSA9PiBkZWxldGUgdmFsdWVbaV0pKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIHRyeUNhdGNoKFxuICAgICgpID0+XG4gICAgICBtc2dwYWNrXG4gICAgICAgID8gKG1zZ1NlcmlhbGl6ZShpbm5lcih2YWx1ZSkgPz8gbnVsbCkgYXMgYW55KVxuICAgICAgICA6IHRyeUNhdGNoKFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIHVuZGVmaW5lZCwgcHJldHRpZnkgPyAyIDogMCksXG4gICAgICAgICAgICAoKSA9PiBKU09OLnN0cmluZ2lmeShpbm5lcih2YWx1ZSksIHVuZGVmaW5lZCwgcHJldHRpZnkgPyAyIDogMClcbiAgICAgICAgICApLFxuICAgIHRydWUsXG4gICAgKCkgPT4gY2xlYW5lcnM/LmZvckVhY2goKGNsZWFuZXIpID0+IGNsZWFuZXIoKSlcbiAgKTtcbn07XG5cbi8qKlxuICogSHlkcmF0ZXMgdGhlIGZvcm1hdCByZXR1cm5lZCBieSB7QGxpbmsgc2VyaWFsaXplfSBiYWNrIHRvIGl0cyBvcmlnaW5hbCBpbi1tZW1vcnkgZm9ybWF0LlxuICovXG5jb25zdCBkZXNlcmlhbGl6ZSA9ICh2YWx1ZTogc3RyaW5nIHwgVWludDhBcnJheSkgPT4ge1xuICBsZXQgcmVmczogYW55W10gfCB1bmRlZmluZWQ7XG4gIGxldCBtYXRjaGVkUmVmOiBhbnk7XG5cbiAgY29uc3QgaW5uZXIgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cbiAgICBpZiAodmFsdWVbUkVGX1BST1BdICYmIChtYXRjaGVkUmVmID0gKHJlZnMgPz89IFtdKVt2YWx1ZVtSRUZfUFJPUF1dKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZWRSZWY7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlW1JFRl9QUk9QXSkge1xuICAgICAgcmVmcyFbdmFsdWVbUkVGX1BST1BdXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIHZhbHVlW1JFRl9QUk9QXTtcbiAgICB9XG5cbiAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaChcbiAgICAgIChbaywgdl0pID0+IHYgIT09ICh2ID0gaW5uZXIodikpICYmICh2YWx1ZVtrXSA9IHYpXG4gICAgKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gaW5uZXIoXG4gICAgaXNTdHJpbmcodmFsdWUpXG4gICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICgpID0+IEpTT04ucGFyc2UodmFsdWUgYXMgYW55KSxcbiAgICAgICAgICAoKSA9PiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBJbnZhbGlkIEpTT04gcmVjZWl2ZWQuYCwgdmFsdWUsIG5ldyBFcnJvcigpLnN0YWNrKSxcbiAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgOiB2YWx1ZSAhPSBudWxsXG4gICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICgpID0+IG1zZ0Rlc2VyaWFsaXplKHZhbHVlIGFzIGFueSksXG4gICAgICAgICAgKCkgPT4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgbWVzc2FnZSByZWNlaXZlZC5gLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbmV3IEVycm9yKCkuc3RhY2tcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIDogdmFsdWVcbiAgKTtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydCA9IFtcbiAgZW5jb2RlOiBFbmNvZGVyLFxuICBkZWNvZGU6IERlY29kZXIsXG4gIGhhc2g6IEhhc2hGdW5jdGlvbjxhbnk+XG5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydE9wdGlvbnMge1xuICAvKipcbiAgICogU2VyaWFsaXplL2Rlc2VyaWFsaXplIGFzIEpTT04uXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBqc29uPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogT21pdCBmYWxzaXNoIHZhbHVlcyAoYFwiXCJgLCBgMGAgYW5kIGBmYWxzZWApIHVubGVzcyBleHBsaWNpdGx5IHNldCB0byBgbnVsbGAuXG4gICAqXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGRlZmF1bHRWYWx1ZXM/OiBib29sZWFuO1xuXG4gIC8qKiBJbmRlbnQgSlNPTiBlbmNvZGVkIHN0cmluZ3MuIEBkZWZhdWx0IHRydWUgKi9cbiAgcHJldHRpZnk/OiBib29sZWFuO1xuXG4gIC8qKiBBbGxvdyByZWNlaXZlZCBtZXNzYWdlcyB0byBiZSBKU09OLiAqL1xuICBkZWNvZGVKc29uPzogYm9vbGVhbjtcbn1cblxubGV0IF9kZWZhdWx0VHJhbnNwb3J0czogW2NpcGhlcjogVHJhbnNwb3J0LCBqc29uOiBUcmFuc3BvcnRdIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBDcmVhdGVzIGEgcGFpciBvZiB7QGxpbmsgRW5jb2Rlcn0gYW5kIHtAbGluayBEZWNvZGVyfXMgYXMgd2VsbCBhcyBhIHtAbGluayBIYXNoRnVuY3Rpb248c3RyaW5nPn0uXG4gKiBNZXNzYWdlUGFjayBpcyB1c2VkIGZvciBzZXJpYWxpemF0aW9uLCB7QGxpbmsgbGZzcn0gZW5jcnlwdGlvbiBpcyBvcHRpb25hbGx5IHVzZWQgaWYgYSBrZXkgaXMgc3BlY2lmaWVkLCBhbmQgdGhlIGlucHV0IGFuZCBvdXRwdXRzIGFyZSBCYXNlNjRVUkwgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRyYW5zcG9ydCA9IChcbiAga2V5Pzogc3RyaW5nIHwgTnVsbGlzaCxcbiAgb3B0aW9uczogVHJhbnNwb3J0T3B0aW9ucyA9IHt9XG4pOiBUcmFuc3BvcnQgPT4ge1xuICBjb25zdCBmYWN0b3J5ID0gKFxuICAgIGtleTogc3RyaW5nIHwgTnVsbGlzaCxcbiAgICB7IGpzb24gPSBmYWxzZSwgZGVjb2RlSnNvbiA9IGZhbHNlLCAuLi5zZXJpYWxpemVPcHRpb25zIH06IFRyYW5zcG9ydE9wdGlvbnNcbiAgKTogVHJhbnNwb3J0ID0+IHtcbiAgICBjb25zdCBmYXN0U3RyaW5nSGFzaCA9ICh2YWx1ZTogYW55LCBiaXRzT3JOdW1lcmljOiBhbnkpID0+IHtcbiAgICAgIGlmIChpc051bWJlcih2YWx1ZSkgJiYgYml0c09yTnVtZXJpYyA9PT0gdHJ1ZSkgcmV0dXJuIHZhbHVlO1xuXG4gICAgICB2YWx1ZSA9IGlzU3RyaW5nKHZhbHVlKVxuICAgICAgICA/IG5ldyBVaW50OEFycmF5KG1hcDIodmFsdWUubGVuZ3RoLCAoaSkgPT4gdmFsdWUuY2hhckNvZGVBdChpKSAmIDI1NSkpXG4gICAgICAgIDoganNvblxuICAgICAgICA/IHRyeUNhdGNoKFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpLFxuICAgICAgICAgICAgKCkgPT4gSlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplKHZhbHVlLCBmYWxzZSwgc2VyaWFsaXplT3B0aW9ucykpXG4gICAgICAgICAgKVxuICAgICAgICA6IHNlcmlhbGl6ZSh2YWx1ZSwgdHJ1ZSwgc2VyaWFsaXplT3B0aW9ucyk7XG4gICAgICByZXR1cm4gaGFzaCh2YWx1ZSwgYml0c09yTnVtZXJpYyk7XG4gICAgfTtcbiAgICBjb25zdCBqc29uRGVjb2RlID0gKGVuY29kZWQ6IGFueSkgPT5cbiAgICAgIGVuY29kZWQgPT0gbnVsbFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRyeUNhdGNoKCgpID0+IGRlc2VyaWFsaXplKGVuY29kZWQpLCB1bmRlZmluZWQpO1xuICAgIGlmIChqc29uKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAoZGF0YTogYW55KSA9PiBzZXJpYWxpemUoZGF0YSwgZmFsc2UsIHNlcmlhbGl6ZU9wdGlvbnMpIGFzIGFueSxcbiAgICAgICAganNvbkRlY29kZSxcbiAgICAgICAgKHZhbHVlOiBhbnksIG51bWVyaWNPckJpdHM/OiBhbnkpID0+XG4gICAgICAgICAgZmFzdFN0cmluZ0hhc2godmFsdWUsIG51bWVyaWNPckJpdHMpIGFzIGFueSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IFtlbmNyeXB0LCBkZWNyeXB0LCBoYXNoXSA9IGxmc3Ioa2V5KTtcblxuICAgIHJldHVybiBbXG4gICAgICAoZGF0YTogYW55LCBiaW5hcnkpID0+XG4gICAgICAgIChiaW5hcnkgPyBJREVOVElUWSA6IHRvNjR1KShcbiAgICAgICAgICBlbmNyeXB0KHNlcmlhbGl6ZShkYXRhLCB0cnVlLCBzZXJpYWxpemVPcHRpb25zKSlcbiAgICAgICAgKSBhcyBhbnksXG4gICAgICAoZW5jb2RlZDogYW55KSA9PlxuICAgICAgICBlbmNvZGVkICE9IG51bGxcbiAgICAgICAgICA/IGRlc2VyaWFsaXplKFxuICAgICAgICAgICAgICBkZWNyeXB0KFxuICAgICAgICAgICAgICAgIGVuY29kZWQgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICAgICAgICA/IGVuY29kZWRcbiAgICAgICAgICAgICAgICAgIDogZGVjb2RlSnNvbiAmJiBpc0pzb25TdHJpbmcoZW5jb2RlZClcbiAgICAgICAgICAgICAgICAgID8ganNvbkRlY29kZShlbmNvZGVkKVxuICAgICAgICAgICAgICAgICAgOiBmcm9tNjR1KGVuY29kZWQpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAodmFsdWU6IGFueSwgbnVtZXJpY09yQml0cz86IGFueSkgPT5cbiAgICAgICAgZmFzdFN0cmluZ0hhc2godmFsdWUsIG51bWVyaWNPckJpdHMpIGFzIGFueSxcbiAgICBdO1xuICB9O1xuXG4gIGlmICgha2V5KSB7XG4gICAgbGV0IGpzb24gPSArKG9wdGlvbnMuanNvbiA/PyAwKTtcbiAgICBpZiAoanNvbiAmJiBvcHRpb25zLnByZXR0aWZ5ICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIChfZGVmYXVsdFRyYW5zcG9ydHMgPz89IFtcbiAgICAgICAgZmFjdG9yeShudWxsLCB7IGpzb246IGZhbHNlIH0pLFxuICAgICAgICBmYWN0b3J5KG51bGwsIHsganNvbjogdHJ1ZSwgcHJldHRpZnk6IHRydWUgfSksXG4gICAgICBdKVsranNvbl07XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWN0b3J5KGtleSwgb3B0aW9ucyk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRyYW5zcG9ydCA9IGNyZWF0ZVRyYW5zcG9ydCgpO1xuLyoqIEEgdHJhbnNwb3J0IHRoYXQgZW5jcnlwdHMgYW5kIGRlY3J5cHRzIG1lc3NhZ2VzLCBidXQgYWxzbyBhbGxvd3MgcGxhaW4gSlNPTiBtZXNzYWdlIHRvIGJlIGRlY29kZWQuICAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRKc29uRGVjb2RlVHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KG51bGwsIHtcbiAganNvbjogdHJ1ZSxcbiAgZGVjb2RlSnNvbjogdHJ1ZSxcbn0pO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRKc29uVHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KG51bGwsIHtcbiAganNvbjogdHJ1ZSxcbiAgcHJldHRpZnk6IHRydWUsXG59KTtcblxuZXhwb3J0IGNvbnN0IFtodHRwRW5jb2RlLCBodHRwRGVjb2RlLCBoYXNoXSA9IGRlZmF1bHRUcmFuc3BvcnQ7XG5leHBvcnQgY29uc3QgW2pzb25FbmNvZGUsIGpzb25EZWNvZGVdID0gZGVmYXVsdEpzb25UcmFuc3BvcnQ7XG4iLCJpbXBvcnQgeyBQQVRDSF9FVkVOVF9QT1NURklYIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcblxuaW1wb3J0IHtcbiAgRXZlbnRQYXRjaCxcbiAgUG9zdFJlcXVlc3QsXG4gIFBvc3RSZXNwb25zZSxcbiAgVHJhY2tlZEV2ZW50LFxuICBjbGVhck1ldGFkYXRhLFxuICBpc0V2ZW50UGF0Y2gsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGLFxuICBOdWxsaXNoLFxuICBUb2dnbGVBcnJheSxcbiAgYXJyYXkyLFxuICBjbG9jayxcbiAgY2xvbmUsXG4gIGNvbmNhdCxcbiAgY291bnQsXG4gIGRpZmYsXG4gIGZvckVhY2gyLFxuICBpc1N0cmluZyxcbiAgaXRlbWl6ZTIsXG4gIG1hcDIsXG4gIG1lcmdlLFxuICBtZXJnZTIsXG4gIG5vdyxcbiAgcGx1cmFsaXplLFxuICBwdXNoLFxuICBza2lwMixcbiAgc3RydWN0dXJhbEVxdWFscyxcbiAgdGhyb3dFcnJvcixcbiAgdW5zaGlmdCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHtcbiAgRVZFTlRfUE9TVF9GUkVRVUVOQ1ksXG4gIFRyYWNrZXJDb250ZXh0LFxuICBhZGRQYWdlVmlzaWJsZUxpc3RlbmVyLFxuICBjaGlsZEdyb3VwcyxcbiAgZGVidWcsXG4gIHJlcXVlc3QsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBVbmxvY2tBcGlDb21tYW5kIH0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRRdWV1ZVBvc3RPcHRpb25zIHtcbiAgZmx1c2g/OiBib29sZWFuO1xuICBhc3luYz86IGJvb2xlYW47XG4gIHZhcmlhYmxlcz86IFBvc3RSZXF1ZXN0W1widmFyaWFibGVzXCJdO1xufVxuXG5leHBvcnQgdHlwZSBQcm90ZWN0ZWRFdmVudCA9IFRyYWNrZWRFdmVudCAmIFVubG9ja0FwaUNvbW1hbmQ7XG5cbmNvbnN0IHBvc3RDYWxsYmFja3MgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCByZWdpc3RlclBvc3RDYWxsYmFjayA9IDxUIGV4dGVuZHMgVHJhY2tlZEV2ZW50PihcbiAgZXY6IFQsXG4gIGNhbGxiYWNrOiAoZXY6IFQpID0+IGJvb2xlYW4gfCB2b2lkXG4pID0+ICgoZXZbcG9zdENhbGxiYWNrc10gPz89IG5ldyBTZXQoKSkuYWRkKGNhbGxiYWNrKSwgZXYpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50UXVldWUge1xuICAvKipcbiAgICogUG9zdHMgZXZlbnRzIHRvIHRoZSBzZXJ2ZXIuIERvIG5vdCBwb3N0IGV2ZW50IHBhdGNoZXMgdXNpbmcgdGhpcyBtZXRob2QuIFVzZSB7QGxpbmsgcG9zdFBhdGNofSBpbnN0ZWFkLlxuICAgKiBJZiBmbHVzaCBpcyBub3QgZXhwbGljaXRseSByZXF1ZXN0ZWQsIHRoZSBldmVudCB3aWxsIGV2ZW50dWFsbHkgZ2V0IHBvc3RlZCwgZWl0aGVyIGJ5IHRoZSBjb25maWd1cmVkIHBvc3QgZnJlcXVlbmN5LCBvciB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGUgdGFiLlxuICAgKi9cbiAgcG9zdDxcbiAgICBUIGV4dGVuZHMgVG9nZ2xlQXJyYXk8UHJvdGVjdGVkRXZlbnRbXT4sXG4gICAgT3B0aW9ucyBleHRlbmRzIEV2ZW50UXVldWVQb3N0T3B0aW9ucyB8IHVuZGVmaW5lZFxuICA+KFxuICAgIGV2ZW50czogVCxcbiAgICBvcHRpb25zPzogT3B0aW9uc1xuICApOiBQcm9taXNlPE9wdGlvbnMgZXh0ZW5kcyB7IGFzeW5jOiBmYWxzZSB9ID8gUG9zdFJlc3BvbnNlIDogdm9pZD47XG5cbiAgLyoqXG4gICAqICBQb3N0cyBhIHBhdGNoIHRvIGFuIGV4aXN0aW5nIGV2ZW50LlxuICAgKi9cbiAgcG9zdFBhdGNoPFQgZXh0ZW5kcyBQcm90ZWN0ZWRFdmVudD4oXG4gICAgdGFyZ2V0OiBULFxuICAgIHBhdGNoOiBFdmVudFBhdGNoRGF0YTxUPixcbiAgICBmbHVzaD86IGJvb2xlYW5cbiAgKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgcGFzc2l2ZSBldmVudC5cbiAgICpcbiAgICogVGhlIHNvdXJjZSB3aWxsIGdldCBpbnZva2VkIHdoZW5ldmVyIHRoZSB0YWIgYmVjb21lcyBkZWFjdGl2YXRlZC4gSWYgdGhlIHNvdXJjZSByZXR1cm5zIHVuZGVmaW5lZCBvciBmYWxzZSwgdGhlIHNvdXJjZSBpcyB1bnJlZ2lzdGVyZWQuXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgaXMgYSBmdW5jdGlvbiB0byBtYW51YWxseSB1bnJlZ2lzdGVyIHRoZSBzb3VyY2UuXG4gICAqL1xuICByZWdpc3RlckV2ZW50UGF0Y2hTb3VyY2U8VCBleHRlbmRzIFByb3RlY3RlZEV2ZW50PihcbiAgICBzb3VyY2VFdmVudDogVCxcbiAgICBzb3VyY2U6IEV2ZW50UGF0Y2hTb3VyY2U8VD4sXG4gICAgaW5pdGlhbFBvc3Q/OiBib29sZWFuLFxuICAgIHJlbGF0ZWROb2RlPzogTm9kZVxuICApOiAoKSA9PiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB0eXBlIEV2ZW50UGF0Y2hEYXRhPFQgZXh0ZW5kcyBQcm90ZWN0ZWRFdmVudD4gPSBPbWl0PFxuICBFdmVudFBhdGNoPFQ+LFxuICBcInBhdGNoVGFyZ2V0SWRcIiB8IFwibWV0YWRhdGFcIiB8IFwidHlwZVwiXG4+ICYgeyB0eXBlPzogdW5kZWZpbmVkIH07XG5cbmV4cG9ydCB0eXBlIEV2ZW50UGF0Y2hTb3VyY2U8VCBleHRlbmRzIFByb3RlY3RlZEV2ZW50ID0gUHJvdGVjdGVkRXZlbnQ+ID0gKFxuICBjdXJyZW50OiBFdmVudFBhdGNoRGF0YTxUPixcbiAgdW5iaW5kOiAoKSA9PiB1bmRlZmluZWRcbikgPT4gRXZlbnRQYXRjaERhdGE8VD4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFdmVudFF1ZXVlID0gKFxuICB1cmw6IHN0cmluZyxcbiAgY29udGV4dDogVHJhY2tlckNvbnRleHQsXG4gIHBvc3RGcmVxdWVuY3kgPSBFVkVOVF9QT1NUX0ZSRVFVRU5DWVxuKTogRXZlbnRRdWV1ZSA9PiB7XG4gIHR5cGUgRmFjdG9yeSA9ICgpID0+IFtldmVudDogRXZlbnRQYXRjaCB8IHVuZGVmaW5lZCwgdW5iaW5kaW5nOiBib29sZWFuXTtcbiAgY29uc3QgcXVldWU6IFByb3RlY3RlZEV2ZW50W10gPSBbXTtcblxuICBjb25zdCBzbmFwc2hvdHMgPSBuZXcgV2Vha01hcDxQcm90ZWN0ZWRFdmVudCwgYW55PigpO1xuICBjb25zdCBzb3VyY2VzID0gbmV3IE1hcDxQcm90ZWN0ZWRFdmVudCwgRmFjdG9yeT4oKTtcblxuICBjb25zdCBtYXBQYXRjaFRhcmdldCA9IDxUIGV4dGVuZHMgUHJvdGVjdGVkRXZlbnQ+KFxuICAgIHNvdXJjZUV2ZW50OiBULFxuICAgIHBhdGNoOiBFdmVudFBhdGNoRGF0YTxUPiB8IHVuZGVmaW5lZFxuICApOiBFdmVudFBhdGNoPFQ+ID0+XG4gICAgIXNvdXJjZUV2ZW50Lm1ldGFkYXRhPy5xdWV1ZWRcbiAgICAgID8gdGhyb3dFcnJvcihcIlNvdXJjZSBldmVudCBub3QgcXVldWVkLlwiKVxuICAgICAgOiAobWVyZ2UocGF0Y2gsIHtcbiAgICAgICAgICB0eXBlOiBzb3VyY2VFdmVudC50eXBlICsgUEFUQ0hfRVZFTlRfUE9TVEZJWCxcbiAgICAgICAgICBwYXRjaFRhcmdldElkOiBzb3VyY2VFdmVudC5jbGllbnRJZCxcbiAgICAgICAgfSkgYXMgYW55KTtcblxuICBjb25zdCB1cGRhdGVTbmFwc2hvdCA9IChldjogUHJvdGVjdGVkRXZlbnQpID0+IHtcbiAgICBzbmFwc2hvdHMuc2V0KGV2LCBjbG9uZShldikpO1xuICB9O1xuXG4gIGNvbnN0IHJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZSA9IDxUIGV4dGVuZHMgUHJvdGVjdGVkRXZlbnQ+KFxuICAgIHNvdXJjZUV2ZW50OiBQcm90ZWN0ZWRFdmVudCxcbiAgICBzb3VyY2U6IEV2ZW50UGF0Y2hTb3VyY2U8VD4sXG4gICAgaW5pdGlhbFBvc3QgPSBmYWxzZSxcbiAgICByZWxhdGVkTm9kZT86IE5vZGVcbiAgKSA9PiB7XG4gICAgbGV0IHVuYmluZGluZyA9IGZhbHNlO1xuICAgIGNvbnN0IHVuYmluZCA9ICgpOiB1bmRlZmluZWQgPT4ge1xuICAgICAgdW5iaW5kaW5nID0gdHJ1ZTtcbiAgICB9O1xuICAgIHVwZGF0ZVNuYXBzaG90KHNvdXJjZUV2ZW50KTtcbiAgICByZWdpc3RlclBvc3RDYWxsYmFjayhzb3VyY2VFdmVudCwgdXBkYXRlU25hcHNob3QpO1xuICAgIGNvbnN0IGZhY3Rvcnk6IEZhY3RvcnkgPSAoKSA9PiB7XG4gICAgICBpZiAocmVsYXRlZE5vZGU/LmlzQ29ubmVjdGVkID09PSBmYWxzZSkge1xuICAgICAgICB1bmJpbmQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gc25hcHNob3RzLmdldChzb3VyY2VFdmVudCk7XG4gICAgICAgIGNvbnN0IHBhdGNoZWQgPSBzb3VyY2Uoc25hcHNob3QsIHVuYmluZCk7XG4gICAgICAgIGRlYnVnKFxuICAgICAgICAgIHsgZGlmZjogeyBzbmFwc2hvdCwgcGF0Y2hlZCB9LCBzdGFjazogbmV3IEVycm9yKCkuc3RhY2sgfSxcbiAgICAgICAgICBcIlBhdGNoIFwiICsgc25hcHNob3QudHlwZVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBbZGVsdGEsIGN1cnJlbnRdID0gZGlmZihwYXRjaGVkLCBzbmFwc2hvdCkgPz8gW107XG5cbiAgICAgICAgaWYgKGRlbHRhICYmICFzdHJ1Y3R1cmFsRXF1YWxzKGN1cnJlbnQsIHNuYXBzaG90KSkge1xuICAgICAgICAgIC8vIFRoZSBuZXcgXCJjdXJyZW50XCIgZGlmZmVycyBmcm9tIHRoZSBwcmV2aW91cy5cblxuICAgICAgICAgIHNuYXBzaG90cy5zZXQoc291cmNlRXZlbnQsIGNsb25lKGN1cnJlbnQpKTtcbiAgICAgICAgICAvLyBBZGQgcGF0Y2ggdGFyZ2V0IElEIGFuZCB0aGUgY29ycmVjdCBldmVudCB0eXBlIHRvIHRoZSBkZWx0YSBkYXRhIGJlZm9yZSB3ZSByZXR1cm4gaXQuXG4gICAgICAgICAgcmV0dXJuIFttYXBQYXRjaFRhcmdldChzb3VyY2VFdmVudCwgZGVsdGEpIGFzIGFueSwgdW5iaW5kaW5nXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gW3VuZGVmaW5lZCwgdW5iaW5kaW5nXTtcbiAgICB9O1xuICAgIHNvdXJjZXMuc2V0KHNvdXJjZUV2ZW50LCBmYWN0b3J5KTtcbiAgICBpZiAoaW5pdGlhbFBvc3QpIHtcbiAgICAgIHBvc3Qoc291cmNlRXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdW5iaW5kO1xuICB9O1xuXG4gIGNvbnN0IHBvc3RFdmVudHMgPSBhc3luYyA8QmVhY29uPihcbiAgICBldmVudHM6XG4gICAgICB8IFByb3RlY3RlZEV2ZW50W11cbiAgICAgIHwgW2FwaUtleTogc3RyaW5nIHwgTnVsbGlzaCwgZXZlbnRzOiBQcm90ZWN0ZWRFdmVudFtdXSxcbiAgICBiZWFjb246IEJlYWNvbiA9IHRydWUgYXMgYW55LFxuICAgIHZhcmlhYmxlczogYW55XG4gICk6IFByb21pc2U8QmVhY29uIGV4dGVuZHMgdHJ1ZSA/IHZvaWQgOiBQb3N0UmVzcG9uc2U+ID0+IHtcbiAgICBsZXQga2V5OiBzdHJpbmcgfCBOdWxsaXNoO1xuICAgIGlmICghZXZlbnRzWzBdIHx8IGlzU3RyaW5nKGV2ZW50c1swXSkpIHtcbiAgICAgIGtleSA9IGV2ZW50c1swXTtcbiAgICAgIGV2ZW50cyA9IGV2ZW50cy5zbGljZSgxKSBhcyBhbnk7XG4gICAgfVxuICAgIGV2ZW50cyA9IG1hcDIoZXZlbnRzLCAoZXY6IGFueSkgPT4ge1xuICAgICAgY29udGV4dD8udmFsaWRhdGVLZXkoa2V5ID8/IGV2LmtleSk7XG4gICAgICAvLyBVcGRhdGUgbWV0YWRhdGEgaW4gdGhlIHNvdXJjZSBldmVudCxcbiAgICAgIC8vIGFuZCBzZW5kIGEgY2xvbmUgb2YgdGhlIGV2ZW50IHdpdGhvdXQgY2xpZW50IG1ldGFkYXRhLCBhbmQgaXRzIHRpbWVzdGFtcCBpbiByZWxhdGl2ZSB0aW1lXG4gICAgICAvLyAodGhlIHNlcnZlciBleHBlY3RzIHRoaXMsIGFuZCB3aWxsIGFkanVzdCBhY2NvcmRpbmdseSB0byBpdHMgb3duIHRpbWUpLlxuICAgICAgbWVyZ2UoZXYsIHsgbWV0YWRhdGE6IHsgcG9zdGVkOiB0cnVlIH0gfSk7XG4gICAgICBpZiAoZXZbcG9zdENhbGxiYWNrc10pIHtcbiAgICAgICAgY29uc3QgYWJvcnQgPSBmb3JFYWNoMihcbiAgICAgICAgICBldltwb3N0Q2FsbGJhY2tzXSxcbiAgICAgICAgICAoY2FsbGJhY2ssIF8sIGFib3J0KSA9PiBjYWxsYmFjayhldikgPT09IGZhbHNlIHx8IGFib3J0LFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGlmIChhYm9ydCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGV2W3Bvc3RDYWxsYmFja3NdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVyZ2UoY2xlYXJNZXRhZGF0YShjbG9uZShldiksIHRydWUpLCB7XG4gICAgICAgIHRpbWVzdGFtcDogZXYudGltZXN0YW1wISAtIG5vdygpLFxuICAgICAgfSk7XG4gICAgfSkgYXMgUHJvdGVjdGVkRXZlbnRbXTtcblxuICAgIGRlYnVnKFxuICAgICAgeyBbY2hpbGRHcm91cHNdOiBtYXAyKGV2ZW50cywgKGV2OiBQcm90ZWN0ZWRFdmVudCkgPT4gW2V2LCBldi50eXBlLCBGXSkgfSxcbiAgICAgIFwiUG9zdGluZyBcIiArXG4gICAgICAgIGl0ZW1pemUyKFtcbiAgICAgICAgICBwbHVyYWxpemUoXCJuZXcgZXZlbnRcIiwgW1xuICAgICAgICAgICAgY291bnQoZXZlbnRzLCAoZXYpID0+ICFpc0V2ZW50UGF0Y2goZXYpKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgXSksXG4gICAgICAgICAgcGx1cmFsaXplKFwiZXZlbnQgcGF0Y2hcIiwgW1xuICAgICAgICAgICAgY291bnQoZXZlbnRzLCAoZXYpID0+IGlzRXZlbnRQYXRjaChldikpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBdKSxcbiAgICAgICAgXSkgK1xuICAgICAgICAoYmVhY29uID8gXCIgYXN5bmNocm9ub3VzbHlcIiA6IFwiIHN5bmNocm9ub3VzbHlcIikgK1xuICAgICAgICBcIi5cIlxuICAgICk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDxQb3N0UmVxdWVzdD4oXG4gICAgICB1cmwsXG4gICAgICB7XG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBkZXZpY2VTZXNzaW9uSWQ6IGNvbnRleHQ/LmRldmljZVNlc3Npb25JZCxcbiAgICAgIH0sXG4gICAgICB7IGJlYWNvbjogYmVhY29uIGFzIGFueSB9XG4gICAgKSBhcyBhbnk7XG4gIH07XG5cbiAgY29uc3QgcG9zdCA9IGFzeW5jIChcbiAgICBldmVudHM6IFRvZ2dsZUFycmF5PFByb3RlY3RlZEV2ZW50W10+LFxuICAgIHsgZmx1c2ggPSBmYWxzZSwgYXN5bmMgPSB0cnVlLCB2YXJpYWJsZXMgfTogRXZlbnRRdWV1ZVBvc3RPcHRpb25zID0ge31cbiAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCBuZXdFdmVudHM6IFByb3RlY3RlZEV2ZW50W10gPSBbXTtcblxuICAgIGV2ZW50cyA9IG1hcDIoXG4gICAgICBhcnJheTIoZXZlbnRzKSxcbiAgICAgIChldmVudCkgPT4gKFxuICAgICAgICAhZXZlbnQubWV0YWRhdGE/LnF1ZXVlZCAmJiBwdXNoKG5ld0V2ZW50cywgZXZlbnQpLFxuICAgICAgICBtZXJnZTIoY29udGV4dC5hcHBseUV2ZW50RXh0ZW5zaW9ucyhldmVudCksIHtcbiAgICAgICAgICBtZXRhZGF0YTogeyBxdWV1ZWQ6IHRydWUgfSxcbiAgICAgICAgfSkgPz8gc2tpcDJcbiAgICAgIClcbiAgICApIGFzIFByb3RlY3RlZEV2ZW50W107XG5cbiAgICBmb3JFYWNoMihuZXdFdmVudHMsIChldmVudCkgPT4gZGVidWcoZXZlbnQsIGV2ZW50LnR5cGUpKTtcblxuICAgIGlmICghYXN5bmMpIHtcbiAgICAgIHJldHVybiBwb3N0RXZlbnRzKGV2ZW50cywgZmFsc2UsIHZhcmlhYmxlcyk7XG4gICAgfVxuICAgIGlmICghZmx1c2gpIHtcbiAgICAgIGV2ZW50cy5sZW5ndGggJiYgcHVzaChxdWV1ZSwgLi4uZXZlbnRzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICB1bnNoaWZ0KGV2ZW50cyBhcyBhbnksIC4uLnF1ZXVlLnNwbGljZSgwKSk7XG4gICAgfVxuXG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG5cbiAgICBhd2FpdCBwb3N0RXZlbnRzKGV2ZW50cywgdHJ1ZSwgdmFyaWFibGVzKTtcbiAgfTtcblxuICBwb3N0RnJlcXVlbmN5ID4gMCAmJiBjbG9jaygoKSA9PiBwb3N0KFtdLCB7IGZsdXNoOiB0cnVlIH0pLCBwb3N0RnJlcXVlbmN5KTtcblxuICBhZGRQYWdlVmlzaWJsZUxpc3RlbmVyKCh2aXNpYmxlLCB1bmxvYWRpbmcsIGRlbHRhKSA9PiB7XG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhlIHRhYiBoYXMgb25seSBiZWVuIHZpc2libGUgZm9yIGxlc3MgdGhhbiBhIHNlY29uZCBhbmQgYSBoYWxmLlxuICAgIC8vIE1vcmUgdGhhbiB0aGF0IHRoZSB1c2VyIGlzIHByb2JhYmx5IGp1c3Qgc3dpdGNoaW5nIGJldHdlZW4gdGFicyBtb3ZpbmcgcGFzdCB0aGlzIG9uZS5cbiAgICAvLyBOT1RFOiAoVGhpcyBudW1iZXIgc2hvdWxkIHByZWZlcmFibHkgYmUgYmV0dGVyIHF1YWxpZmllZC4gV2UgY291bGQgYWxzbyBsb29rIGludG8gdXNlciBhY3RpdmF0aW9uIGV2ZW50cykuXG4gICAgaWYgKCF2aXNpYmxlICYmIChxdWV1ZS5sZW5ndGggfHwgdW5sb2FkaW5nIHx8IGRlbHRhID4gMTUwMCkpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFdmVudHMgPSBtYXAyKHNvdXJjZXMsIChbc291cmNlRXZlbnQsIHNvdXJjZV0pID0+IHtcbiAgICAgICAgY29uc3QgW2V2ZW50LCB1bmJpbmRpbmddID0gc291cmNlKCk7XG4gICAgICAgIHVuYmluZGluZyAmJlxuICAgICAgICAgIChzb3VyY2VzLmRlbGV0ZShzb3VyY2VFdmVudCksIHNuYXBzaG90cy5kZWxldGUoc291cmNlRXZlbnQpKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50ID8/IHNraXAyO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgdXBkYXRlZEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcG9zdChjb25jYXQocXVldWUuc3BsaWNlKDApLCB1cGRhdGVkRXZlbnRzKSEsIHsgZmx1c2g6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHBvc3QsXG4gICAgcG9zdFBhdGNoOiAodGFyZ2V0LCBwYXRjaCwgZmx1c2gpID0+XG4gICAgICBwb3N0KG1hcFBhdGNoVGFyZ2V0KHRhcmdldCwgcGF0Y2gpLCB7IGZsdXNoOiB0cnVlIH0pLFxuICAgIHJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBDT05TRU5UX0lORk9fS0VZLCBTQ09QRV9JTkZPX0tFWSB9IGZyb20gXCJAY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGNyZWF0ZVRyYW5zcG9ydCB9IGZyb20gXCJAdGFpbGpzL3RyYW5zcG9ydFwiO1xuaW1wb3J0IHsgaXNUcmFja2VkRXZlbnQgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRixcbiAgRk9SRVZFUixcbiAgVCxcbiAgYXJyYXkyLFxuICBhc3NpZ24sXG4gIGZpbHRlcixcbiAgZmxhdE1hcDIsXG4gIGZvckVhY2gyLFxuICBpc0FycmF5LFxuICBpc0pzb25TdHJpbmcsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBtZXJnZTIsXG4gIG5pbCxcbiAgbm93LFxuICBwdXNoLFxuICByZW1vdmUsXG4gIHNvcnQsXG4gIHN0b3AyLFxuICB0aHJvd0Vycm9yLFxuICB0cnlDYXRjaCxcbiAgdHlwZSBOdWxsaXNoLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBMaXN0ZW5lcixcbiAgVHJhY2tlcixcbiAgVHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24sXG4gIFRyYWNrZXJDb21tYW5kLFxuICBUcmFja2VyRXh0ZW5zaW9uLFxuICBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSxcbiAgZGVmYXVsdEV4dGVuc2lvbnMsXG4gIGlzRXh0ZW5zaW9uQ29tbWFuZCxcbiAgaXNGbHVzaENvbW1hbmQsXG4gIGlzR2V0Q29tbWFuZCxcbiAgaXNMaXN0ZW5lckNvbW1hbmQsXG4gIGlzU2V0Q29tbWFuZCxcbiAgaXNUYWdBdHRyaWJ1dGVzQ29tbWFuZCxcbiAgaXNUb2dnbGVDb21tYW5kLFxuICBpc1RyYWNrZXJBdmFpbGFibGVDb21tYW5kLFxuICBwb3N0VXNlckFnZW50RXZlbnQsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQge1xuICBFUlJfSU5URVJOQUxfRVJST1IsXG4gIEVSUl9JTlZBTElEX0NPTU1BTkQsXG4gIFRyYWNrZXJDb250ZXh0LFxuICBWQVJfVVJMLFxuICBhZGREZWJ1Z0xpc3RlbmVycyxcbiAgYWRkU3RhdGVMaXN0ZW5lcixcbiAgY3JlYXRlRXZlbnRRdWV1ZSxcbiAgY3JlYXRlVmFyaWFibGVTdG9yYWdlLFxuICBlcnJvckxvZ2dlcixcbiAgaHR0cERlY29kZSxcbiAgaXNUcmFja2VyLFxuICBsb2dFcnJvcixcbiAgbmV4dElkLFxuICBzZXRTdG9yYWdlS2V5LFxuICB0cmFja2VyQ29uZmlnLFxuICB3aW5kb3csXG59IGZyb20gXCIuL2xpYlwiO1xuXG5leHBvcnQgbGV0IHRyYWNrZXI6IFRyYWNrZXI7XG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZVRyYWNrZXIgPSAoXG4gIGNvbmZpZzogVHJhY2tlckNsaWVudENvbmZpZ3VyYXRpb24gfCBzdHJpbmdcbikgPT4ge1xuICBpZiAodHJhY2tlcikgcmV0dXJuIHRyYWNrZXI7XG4gIGxldCBjbGllbnRFbmNyeXB0aW9uS2V5OiBzdHJpbmc7XG4gIGlmIChpc1N0cmluZyhjb25maWcpKSB7XG4gICAgLy8gRGVjb2RlIHRoZSB0ZW1wb3Jhcnkga2V5IGZvciBkZWNyeXB0aW5nIHRoZSBjb25maWd1cmF0aW9uIHBheWxvYWQuXG4gICAgW2NsaWVudEVuY3J5cHRpb25LZXksIGNvbmZpZ10gPVxuICAgICAgaHR0cERlY29kZTxba2V5OiBzdHJpbmcsIGNvbmZpZ3VyYXRpb246IGFueV0+KGNvbmZpZykhO1xuXG4gICAgLy8gRGVjcnlwdFxuICAgIGNvbmZpZyA9IGNyZWF0ZVRyYW5zcG9ydChjbGllbnRFbmNyeXB0aW9uS2V5LCB7IGRlY29kZUpzb246IHRydWUgfSlbMV0oXG4gICAgICBjb25maWcgYXMgYW55XG4gICAgKSE7XG4gIH1cblxuICBtZXJnZTIodHJhY2tlckNvbmZpZywgW2NvbmZpZyBhcyBUcmFja2VyQ2xpZW50Q29uZmlndXJhdGlvbl0sIHtcbiAgICBvdmVyd3JpdGU6IHRydWUsXG4gIH0pO1xuXG4gIHNldFN0b3JhZ2VLZXkocmVtb3ZlKHRyYWNrZXJDb25maWcsIFwiZW5jcnlwdGlvbktleVwiKSk7XG5cbiAgY29uc3QgYXBpUHJvdGVjdGlvbktleSA9IHJlbW92ZSh0cmFja2VyQ29uZmlnLCBcImtleVwiKTtcblxuICBjb25zdCBxdWV1ZWRDb21tYW5kcyA9IHdpbmRvd1t0cmFja2VyQ29uZmlnLm5hbWVdPy5fID8/IFtdO1xuICBpZiAoIWlzQXJyYXkocXVldWVkQ29tbWFuZHMpKSB7XG4gICAgdGhyb3dFcnJvcihcbiAgICAgIGBUaGUgZ2xvYmFsIHZhcmlhYmxlIGZvciB0aGUgdHJhY2tlciBcIiR7dHJhY2tlckNvbmZpZy5uYW1lfVwiIGlzIHVzZWQgZm9yIHNvbWV0aGluZyBlbHNlIHRoYW4gYW4gYXJyYXkgb2YgcXVldWVkIGNvbW1hbmRzLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEV4dGVuc2lvbnMgLyBsaXN0ZW5lcnNcbiAgY29uc3QgZXh0ZW5zaW9uczogW1xuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgZXh0ZW5zaW9uOiBUcmFja2VyRXh0ZW5zaW9uLFxuICAgIHNvdXJjZTogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnlcbiAgXVtdID0gW107XG4gIGxldCBsaXN0ZW5lcnM6IExpc3RlbmVyW10gPSBbXTtcbiAgLy8gRXh0ZW5zaW9ucyBtYXkgcG9zdCBjb21tYW5kcyB3aGVuIGNvbnN0cnVjdGVkIGFuZCB3aGlsZSB0aGUgdHJhY2tlciBpcyBpbml0aWFsaXppbmdcblxuICBjb25zdCBjYWxsTGlzdGVuZXJzID0gKGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgbGV0IGtlZXAgPSBUO1xuICAgIGxpc3RlbmVycyA9IGZpbHRlcihsaXN0ZW5lcnMsIChsaXN0ZW5lcikgPT5cbiAgICAgIHRyeUNhdGNoKFxuICAgICAgICAoKSA9PiAoXG4gICAgICAgICAgbGlzdGVuZXJbZXZlbnRdPy4oLi4uYXJncywge1xuICAgICAgICAgICAgdHJhY2tlcjogdHJhY2tlcixcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiAoa2VlcCA9IEYpLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGtlZXAgLy8gV2lsbCBiZSBzZXQgc3luY2hyb25vdXNseSBpbiB0aGUgdW5zdWJzY3JpYmUgaGFuZGxlciBiZWZvcmUgdGhpcyB2YWx1ZSBpcyByZXR1cm5lZC5cbiAgICAgICAgKSxcbiAgICAgICAgZXJyb3JMb2dnZXIobGlzdGVuZXIpXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBwZW5kaW5nU3RhdGVDb21tYW5kczogVHJhY2tlckNvbW1hbmRbXSA9IFtdO1xuXG4gIGNvbnN0IHRyYWNrZXJDb250ZXh0OiBUcmFja2VyQ29udGV4dCA9IHtcbiAgICBhcHBseUV2ZW50RXh0ZW5zaW9ucyhldmVudCkge1xuICAgICAgZXZlbnQuY2xpZW50SWQgPz89IG5leHRJZCgpO1xuICAgICAgZXZlbnQudGltZXN0YW1wID8/PSBub3coKTtcblxuICAgICAgaW5zZXJ0QXJncyA9IFQ7XG4gICAgICBjb25zdCBza2lwID0gZm9yRWFjaDIoXG4gICAgICAgIGV4dGVuc2lvbnMsXG4gICAgICAgIChbLCBleHRlbnNpb25dKSA9PiBleHRlbnNpb24uZGVjb3JhdGU/LihldmVudCkgPT09IEYgJiYgc3RvcDIodHJ1ZSlcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBza2lwID8gdW5kZWZpbmVkIDogZXZlbnQ7XG4gICAgfSxcbiAgICB2YWxpZGF0ZUtleTogKGtleTogc3RyaW5nIHwgTnVsbGlzaCwgdGhyb3dJZkludmFsaWQgPSB0cnVlKSA9PlxuICAgICAgKCFhcGlQcm90ZWN0aW9uS2V5ICYmICFrZXkpIHx8XG4gICAgICBrZXkgPT09IGFwaVByb3RlY3Rpb25LZXkgfHxcbiAgICAgICgodGhyb3dJZkludmFsaWRcbiAgICAgICAgPyB0aHJvd0Vycm9yKGAnJHtrZXl9JyBpcyBub3QgYSB2YWxpZCBrZXkuYClcbiAgICAgICAgOiBmYWxzZSkgYXMgYW55KSxcbiAgfTtcbiAgLy8gVmFyaWFibGVzXG4gIGNvbnN0IHZhcmlhYmxlcyA9IGNyZWF0ZVZhcmlhYmxlU3RvcmFnZShWQVJfVVJMLCB0cmFja2VyQ29udGV4dCk7XG5cbiAgLy8gTWFpblxuICBjb25zdCBldmVudHMgPSBjcmVhdGVFdmVudFF1ZXVlKFZBUl9VUkwsIHRyYWNrZXJDb250ZXh0KTtcblxuICBsZXQgbWFpbkFyZ3M6IFRyYWNrZXJDb21tYW5kW10gfCBudWxsID0gbmlsO1xuICBsZXQgY3VycmVudEFyZyA9IDA7XG4gIGxldCBpbnNlcnRBcmdzID0gRjtcblxuICBsZXQgZ2xvYmFsU3RhdGVSZXNvbHZlZCA9IEY7XG5cbiAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gIHRyYWNrZXIgPSAoKC4uLmNvbW1hbmRzOiAoVHJhY2tlckNvbW1hbmQgfCBzdHJpbmcpW10pID0+IHtcbiAgICBpZiAoIXJlYWR5KSB7XG4gICAgICBxdWV1ZWRDb21tYW5kcy5wdXNoKC4uLmNvbW1hbmRzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBrZXk6IHN0cmluZyB8IE51bGxpc2g7XG4gICAgaWYgKGNvbW1hbmRzLmxlbmd0aCA+IDEgJiYgKCFjb21tYW5kc1swXSB8fCBpc1N0cmluZyhjb21tYW5kc1swXSkpKSB7XG4gICAgICBrZXkgPSBjb21tYW5kc1swXTtcbiAgICAgIGNvbW1hbmRzID0gY29tbWFuZHMuc2xpY2UoMSk7XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGNvbW1hbmRzWzBdKSkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGNvbW1hbmRzWzBdO1xuICAgICAgY29tbWFuZHMgPSBpc0pzb25TdHJpbmcocGF5bG9hZClcbiAgICAgICAgPyBKU09OLnBhcnNlKHBheWxvYWQpXG4gICAgICAgIDogaHR0cERlY29kZShwYXlsb2FkKTtcbiAgICB9XG5cbiAgICBsZXQgZmx1c2ggPSBGOyAvLyAvLyBGbHVzaCBhZnRlciB0aGVzZSBjb21tYW5kcywgb3B0aW9uYWxseSB3aXRob3V0IHdhaXRpbmcgZm9yIG90aGVyIHJlcXVlc3RzIHRvIGZpbmlzaCAoYmVjYXVzZSB0aGUgcGFnZSBpcyB1bmxvYWRpbmcgYW5kIHdlIGhhdmUgbm8gYmV0dGVyIG9wdGlvbiBldmVuIHRob3VnaCBpdCBtYXkgc3BsaXQgc2Vzc2lvbnMuKVxuXG4gICAgY29tbWFuZHMgPSBmaWx0ZXIoXG4gICAgICBmbGF0TWFwMihjb21tYW5kcywgKGNvbW1hbmQpID0+XG4gICAgICAgIGlzU3RyaW5nKGNvbW1hbmQpID8gaHR0cERlY29kZTxUcmFja2VyQ29tbWFuZD4oY29tbWFuZCkgOiBjb21tYW5kXG4gICAgICApLFxuICAgICAgKGNvbW1hbmQpID0+IHtcbiAgICAgICAgaWYgKCFjb21tYW5kKSByZXR1cm4gRjtcblxuICAgICAgICBpZiAoaXNUYWdBdHRyaWJ1dGVzQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgIHRyYWNrZXJDb25maWcudGFncyA9IGFzc2lnbihcbiAgICAgICAgICAgIHt9IGFzIGFueSxcbiAgICAgICAgICAgIHRyYWNrZXJDb25maWcudGFncyxcbiAgICAgICAgICAgIGNvbW1hbmQudGFnQXR0cmlidXRlc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNUb2dnbGVDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgdHJhY2tlckNvbmZpZy5kaXNhYmxlZCA9IGNvbW1hbmQuZGlzYWJsZTtcbiAgICAgICAgICByZXR1cm4gRjtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsdXNoQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgIGZsdXNoID0gVDtcbiAgICAgICAgICByZXR1cm4gRjtcbiAgICAgICAgfSBlbHNlIGlmIChpc1RyYWNrZXJBdmFpbGFibGVDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgY29tbWFuZCh0cmFja2VyKTtcbiAgICAgICAgICByZXR1cm4gRjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIWdsb2JhbFN0YXRlUmVzb2x2ZWQgJiZcbiAgICAgICAgICAhaXNMaXN0ZW5lckNvbW1hbmQoY29tbWFuZCkgJiZcbiAgICAgICAgICAhaXNFeHRlbnNpb25Db21tYW5kKGNvbW1hbmQpXG4gICAgICAgICkge1xuICAgICAgICAgIHBlbmRpbmdTdGF0ZUNvbW1hbmRzLnB1c2goY29tbWFuZCk7XG4gICAgICAgICAgcmV0dXJuIEY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gI2VuZHJlZ2lvblxuICAgICAgICByZXR1cm4gVDtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFjb21tYW5kcy5sZW5ndGggJiYgIWZsdXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0Q29tbWFuZFJhbmsgPSAoY21kOiBUcmFja2VyQ29tbWFuZCkgPT5cbiAgICAgIGlzRXh0ZW5zaW9uQ29tbWFuZChjbWQpXG4gICAgICAgID8gLTEwMFxuICAgICAgICA6IGlzTGlzdGVuZXJDb21tYW5kKGNtZClcbiAgICAgICAgPyAtNTBcbiAgICAgICAgOiBpc1NldENvbW1hbmQoY21kKVxuICAgICAgICA/IC0xMFxuICAgICAgICA6IGlzVHJhY2tlZEV2ZW50KGNtZClcbiAgICAgICAgPyA5MFxuICAgICAgICA6IDA7XG5cbiAgICAvLyBQdXQgZXZlbnRzIGxhc3QgdG8gYWxsb3cgbGlzdGVuZXJzIGFuZCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc2FtZSBiYXRjaCB0byB3b3JrIG9uIHRoZW0uXG4gICAgLy8gU2V0cyBjb21lIGJlZm9yZSBnZXRzIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhaXRpbmdcbiAgICAvLyBFeHRlbnNpb25zIHRoZW4gbGlzdGVuZXJzIGFyZSBmaXJzdCBzbyB0aGV5IGNhbiBldmFsdWF0ZSB0aGUgcmVzdC5cbiAgICBjb25zdCBleHBhbmRlZDogVHJhY2tlckNvbW1hbmRbXSA9IHNvcnQoY29tbWFuZHMsIGdldENvbW1hbmRSYW5rKTtcblxuICAgIC8vIEFsbG93IG5lc3RlZCBjYWxscyB0byB0cmFja2VyLnB1c2ggZnJvbSBsaXN0ZW5lcnMgYW5kIGludGVyY2VwdG9ycy4gSW5zZXJ0IGNvbW1hbmRzIGluIHRoZSBjdXJyZW50bHkgcHJvY2Vzc2VkIG1haW4gYmF0Y2guXG4gICAgaWYgKFxuICAgICAgbWFpbkFyZ3MgJiZcbiAgICAgIG1haW5BcmdzLnNwbGljZShcbiAgICAgICAgaW5zZXJ0QXJncyA/IGN1cnJlbnRBcmcgKyAxIDogbWFpbkFyZ3MubGVuZ3RoLFxuICAgICAgICAwLFxuICAgICAgICAuLi5leHBhbmRlZFxuICAgICAgKVxuICAgIClcbiAgICAgIHJldHVybjtcblxuICAgIG1haW5BcmdzID0gZXhwYW5kZWQ7XG5cbiAgICBmb3IgKGN1cnJlbnRBcmcgPSAwOyBjdXJyZW50QXJnIDwgbWFpbkFyZ3MubGVuZ3RoOyBjdXJyZW50QXJnKyspIHtcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBtYWluQXJncyFbY3VycmVudEFyZ107XG5cbiAgICAgIGlmICghY29tbWFuZCkgY29udGludWU7XG5cbiAgICAgIHRyYWNrZXJDb250ZXh0LnZhbGlkYXRlS2V5KGtleSA/PyBjb21tYW5kLmtleSksXG4gICAgICAgIHRyeUNhdGNoKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBtYWluQXJncyFbY3VycmVudEFyZ107XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzKFwiY29tbWFuZFwiLCBjb21tYW5kKTtcbiAgICAgICAgICAgIGluc2VydEFyZ3MgPSBGO1xuICAgICAgICAgICAgaWYgKGlzVHJhY2tlZEV2ZW50KGNvbW1hbmQpKSB7XG4gICAgICAgICAgICAgIGV2ZW50cy5wb3N0KGNvbW1hbmQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0dldENvbW1hbmQoY29tbWFuZCkpIHtcbiAgICAgICAgICAgICAgdmFyaWFibGVzLmdldChhcnJheTIoY29tbWFuZC5nZXQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTZXRDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgICAgIHZhcmlhYmxlcy5zZXQoYXJyYXkyKGNvbW1hbmQuc2V0KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTGlzdGVuZXJDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgICAgIHB1c2gobGlzdGVuZXJzLCBjb21tYW5kLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFeHRlbnNpb25Db21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgICAgIGxldCBleHRlbnNpb246IFRyYWNrZXJFeHRlbnNpb24gfCBOdWxsaXNoO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGV4dGVuc2lvbiA9IHRyeUNhdGNoKFxuICAgICAgICAgICAgICAgICAgKCkgPT4gY29tbWFuZC5leHRlbnNpb24uc2V0dXAodHJhY2tlciksXG4gICAgICAgICAgICAgICAgICAoZSkgPT4gbG9nRXJyb3IoY29tbWFuZC5leHRlbnNpb24uaWQsIGUpXG4gICAgICAgICAgICAgICAgKSEpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHB1c2goZXh0ZW5zaW9ucywgW1xuICAgICAgICAgICAgICAgICAgY29tbWFuZC5wcmlvcml0eSA/PyAxMDAsXG4gICAgICAgICAgICAgICAgICBleHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICBjb21tYW5kLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBzb3J0KGV4dGVuc2lvbnMsIChbcHJpb3JpdHldKSA9PiBwcmlvcml0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNUcmFja2VyQXZhaWxhYmxlQ29tbWFuZChjb21tYW5kKSkge1xuICAgICAgICAgICAgICBjb21tYW5kKHRyYWNrZXIpOyAvLyBWYXJpYWJsZXMgaGF2ZSBhbHJlYWR5IGJlZW4gbG9hZGVkIG9uY2UuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgc3VjY2VzcyA9IEY7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgWywgZXh0ZW5zaW9uXSBvZiBleHRlbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKChzdWNjZXNzID0gZXh0ZW5zaW9uLnByb2Nlc3NDb21tYW5kPy4oY29tbWFuZCkgPz8gRikpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAhc3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgRVJSX0lOVkFMSURfQ09NTUFORCxcbiAgICAgICAgICAgICAgICAgIGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgICBcIkxvYWRlZCBleHRlbnNpb25zOlwiLFxuICAgICAgICAgICAgICAgICAgbWFwMihleHRlbnNpb25zLCAoZXh0ZW5zaW9uKSA9PiBleHRlbnNpb25bMl0uaWQpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIChlKSA9PiBsb2dFcnJvcih0cmFja2VyLCBFUlJfSU5URVJOQUxfRVJST1IsIGUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbWFpbkFyZ3MgPSBuaWw7XG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICBldmVudHMucG9zdChbXSwgeyBmbHVzaCB9KTtcbiAgICB9XG4gIH0pIGFzIGFueTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCB0cmFja2VyQ29uZmlnLm5hbWUsIHtcbiAgICB2YWx1ZTogT2JqZWN0LmZyZWV6ZShcbiAgICAgIE9iamVjdC5hc3NpZ24odHJhY2tlciwge1xuICAgICAgICBpZDogXCJ0cmFja2VyX1wiICsgbmV4dElkKCksXG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICBbaXNUcmFja2VyXTogVCxcbiAgICAgIH0pXG4gICAgKSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgfSk7XG5cbiAgLy8gVE9ETzogQWRkIGNvbmRpdGlvbmFsIGNvbXBpbGVyIGZsYWcuXG4gIGFkZERlYnVnTGlzdGVuZXJzKCk7XG5cbiAgYWRkU3RhdGVMaXN0ZW5lcihhc3luYyAoZXZlbnQsIF8xLCBfMiwgdW5iaW5kKSA9PiB7XG4gICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBzZXNzaW9uIG9uIHRoZSBzZXJ2ZXIgYmVmb3JlIHBvc3RpbmcgYW55dGhpbmcuXG4gICAgLy8gQXMgcGFydCBvZiB0aGlzLCB3ZSBhbHNvIGdldCB0aGUgZGV2aWNlIHNlc3Npb24gSUQuXG4gICAgaWYgKGV2ZW50ID09PSBcInJlYWR5XCIpIHtcbiAgICAgIGNvbnN0IFtzZXNzaW9uLCBjb25zZW50XSA9IGF3YWl0IHZhcmlhYmxlc1xuICAgICAgICAuZ2V0KFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY29wZTogXCJzZXNzaW9uXCIsXG4gICAgICAgICAgICBrZXk6IFNDT1BFX0lORk9fS0VZLFxuICAgICAgICAgICAgcmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNjb3BlOiBcInNlc3Npb25cIixcbiAgICAgICAgICAgIGtleTogQ09OU0VOVF9JTkZPX0tFWSxcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggdGhlIGNvbnNlbnQgc3RhdHVzIGF0IGV2ZXJ5IG5ldyBwYWdlIHZpZXcgaW4gdGhlIGNhc2UgdGhlIHNlcnZlciBtYWRlIGNoYW5nZXMgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICAgICAgICAvLyBBZnRlciB0aGF0LCBjYWNoZSBpdCBpbmRlZmluaXRlbHkgc2luY2UgaXQgaXMgcHJlc3VtYWJseSBvbmx5IGNoYW5nZWQgYnkgdGhlIGNsaWVudCB1bnRpbCB0aGUgbmV4dCBwYWdlIHZpZXcgKGluIGFueSB0YWIpLlxuICAgICAgICAgICAgcmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgICAgIGNhY2hlOiBGT1JFVkVSLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pXG4gICAgICAgIC52YWx1ZXModHJ1ZSk7XG5cbiAgICAgIHRyYWNrZXJDb250ZXh0LmRldmljZVNlc3Npb25JZCA9IHNlc3Npb24uZGV2aWNlU2Vzc2lvbklkO1xuXG4gICAgICBpZiAoIXNlc3Npb24uaGFzVXNlckFnZW50KSB7XG4gICAgICAgIHBvc3RVc2VyQWdlbnRFdmVudCh0cmFja2VyKTtcbiAgICAgICAgc2Vzc2lvbi5oYXNVc2VyQWdlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZ2xvYmFsU3RhdGVSZXNvbHZlZCA9IHRydWU7XG4gICAgICBwZW5kaW5nU3RhdGVDb21tYW5kcy5sZW5ndGggJiYgdHJhY2tlcihwZW5kaW5nU3RhdGVDb21tYW5kcyk7XG5cbiAgICAgIHVuYmluZCgpO1xuXG4gICAgICAvLyBOb3cgd2UgYWNjZXB0IGNvbW1hbmRzLlxuICAgICAgcmVhZHkgPSB0cnVlO1xuICAgICAgdHJhY2tlcihcbiAgICAgICAgLi4ubWFwMihkZWZhdWx0RXh0ZW5zaW9ucywgKGV4dGVuc2lvbikgPT4gKHsgZXh0ZW5zaW9uIH0pKSxcbiAgICAgICAgLi4ucXVldWVkQ29tbWFuZHNcbiAgICAgICk7XG4gICAgICB0cmFja2VyKHsgc2V0OiB7IHNjb3BlOiBcInZpZXdcIiwga2V5OiBcImxvYWRlZFwiLCB2YWx1ZTogdHJ1ZSB9IH0pO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIHRyYWNrZXI7XG59O1xuIiwiaW1wb3J0IHsgU0NPUEVfSU5GT19LRVkgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQge1xuICBMb2NhbElELFxuICBWaWV3LFxuICBWaWV3RXZlbnQsXG4gIFZpZXdUaW1pbmdEYXRhLFxuICBpc0V2ZW50UGF0Y2gsXG4gIGlzVmlld0V2ZW50LFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRixcbiAgVCxcbiAgYWRkMixcbiAgYXJyYXkyLFxuICBjbG9jayxcbiAgY3JlYXRlRXZlbnQsXG4gIGNyZWF0ZVRpbWVyLFxuICBmb3JFYWNoMixcbiAgbWFwMixcbiAgbmlsLFxuICBub3csXG4gIHBhcnNlUXVlcnlTdHJpbmcsXG4gIHBhcnNlVXJpLFxuICByZXBsYWNlLFxuICBza2lwMixcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnksIGlzQ2hhbmdlVXNlckNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IHRyYWNrZXIgfSBmcm9tIFwiLi4vaW5pdGlhbGl6ZVRyYWNrZXJcIjtcbmltcG9ydCB7XG4gIFRBQl9JRCxcbiAgYWRkUGFnZVZpc2libGVMaXN0ZW5lcixcbiAgZGVidWcsXG4gIGdldEFjdGl2ZVRpbWUsXG4gIGdldFZpZXdwb3J0LFxuICBpc0ludGVybmFsVXJsLFxuICBsaXN0ZW4sXG4gIG1hdGNoRXhIYXNoLFxuICBuZXh0SWQsXG4gIHBhcnNlRG9tYWluLFxuICBzZXRMb2NhbFZhcmlhYmxlcyxcbiAgdHJ5R2V0VmFyaWFibGUsXG59IGZyb20gXCIuLi9saWJcIjtcblxuZXhwb3J0IGxldCBjdXJyZW50Vmlld0V2ZW50OiBWaWV3RXZlbnQgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50Vmlld0lkID0gKCkgPT4gY3VycmVudFZpZXdFdmVudD8uY2xpZW50SWQ7XG5cbmxldCBwdXNoUG9wTmF2aWdhdGlvbjogVmlld0V2ZW50W1wibmF2aWdhdGlvblR5cGVcIl0gfCB1bmRlZmluZWQ7XG5cbmNvbnN0IHJlZmVycmVyS2V5ID0ge1xuICBzY29wZTogXCJzaGFyZWRcIixcbiAga2V5OiBcInJlZmVycmVyXCIsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgcHVzaE5hdmlnYXRpb25Tb3VyY2UgPSAoXG4gIG5hdmlnYXRpb25FdmVudElkOiBMb2NhbElELFxuICBjb25zdW1lZD86ICgpID0+IHZvaWRcbikgPT4ge1xuICB0cmFja2VyLnZhcmlhYmxlcy5zZXQoe1xuICAgIC4uLnJlZmVycmVyS2V5LFxuICAgIHZhbHVlOiBbZ2V0Q3VycmVudFZpZXdJZCgpISwgbmF2aWdhdGlvbkV2ZW50SWRdLFxuICB9KTtcblxuICBjb25zdW1lZCAmJlxuICAgIHRyYWNrZXIudmFyaWFibGVzLmdldCh7XG4gICAgICAvLyBHcnIhIEludGVsbGlzZW5zZSB3b24ndCB1c2UgdGhlIGNvbnN0YW50IHNjb3BlIGFuZCBrZXkgdmFsdWVzIGlmIGAuLi5yZWZlcnJlcktleWAuXG4gICAgICBzY29wZTogcmVmZXJyZXJLZXkuc2NvcGUsXG4gICAgICBrZXk6IHJlZmVycmVyS2V5LmtleSxcbiAgICAgIHBvbGw6IChjdXJyZW50LCBfLCBwcmV2aW91cykgPT5cbiAgICAgICAgY3VycmVudFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogcHJldmlvdXM/LlsxXSA9PT0gbmF2aWdhdGlvbkV2ZW50SWQgJiYgY29uc3VtZWQoKSAmJiBmYWxzZSxcbiAgICB9KTtcbn07XG5cbmNvbnN0IHRvdGFsRHVyYXRpb24gPSBjcmVhdGVUaW1lcigpO1xuY29uc3QgdmlzaWJsZUR1cmF0aW9uID0gY3JlYXRlVGltZXIoKTtcblxubGV0IGFjdGl2YXRpb25zID0gMTtcblxuZXhwb3J0IGNvbnN0IGdldFZpc2libGVEdXJhdGlvbiA9ICgpID0+IHZpc2libGVEdXJhdGlvbigpO1xuXG5jb25zdCBbYWRkVmlld0NoYW5nZWRMaXN0ZW5lciwgZGlzcGF0Y2hWaWV3Q2hhbmdlZF0gPVxuICBjcmVhdGVFdmVudDxbdmlld0V2ZW50OiBWaWV3RXZlbnRdPigpO1xuXG5leHBvcnQgeyBhZGRWaWV3Q2hhbmdlZExpc3RlbmVyIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVWaWV3RHVyYXRpb25UaW1lciA9IChzdGFydGVkPzogYm9vbGVhbikgPT4ge1xuICBjb25zdCB0b3RhbFRpbWUgPSBjcmVhdGVUaW1lcihzdGFydGVkLCB0b3RhbER1cmF0aW9uKTtcbiAgY29uc3QgdmlzaWJsZVRpbWUgPSBjcmVhdGVUaW1lcihzdGFydGVkLCB2aXNpYmxlRHVyYXRpb24pO1xuICBjb25zdCBhY3RpdmVUaW1lID0gY3JlYXRlVGltZXIoc3RhcnRlZCwgZ2V0QWN0aXZlVGltZSk7XG4gIGNvbnN0IGFjdGl2YXRpb25zQ291bnRlciA9IGNyZWF0ZVRpbWVyKHN0YXJ0ZWQsICgpID0+IGFjdGl2YXRpb25zKTtcbiAgcmV0dXJuICh0b2dnbGU/OiBib29sZWFuLCByZXNldD86IGJvb2xlYW4pOiBWaWV3VGltaW5nRGF0YSA9PiAoe1xuICAgIHRvdGFsVGltZTogdG90YWxUaW1lKHRvZ2dsZSwgcmVzZXQpLFxuICAgIHZpc2libGVUaW1lOiB2aXNpYmxlVGltZSh0b2dnbGUsIHJlc2V0KSxcbiAgICBhY3RpdmVUaW1lOiBhY3RpdmVUaW1lKHRvZ2dsZSwgcmVzZXQpLFxuICAgIGFjdGl2YXRpb25zOiBhY3RpdmF0aW9uc0NvdW50ZXIodG9nZ2xlLCByZXNldCksXG4gIH0pO1xufTtcblxuY29uc3QgdGltZXIgPSBjcmVhdGVWaWV3RHVyYXRpb25UaW1lcigpO1xuZXhwb3J0IGNvbnN0IGdldFZpZXdUaW1lT2Zmc2V0ID0gKCkgPT4gdGltZXIoKTtcblxuY29uc3QgW2FkZEZyYW1lTGlzdGVuZXJJbnRlcm5hbCwgY2FsbE9uRnJhbWVdID1cbiAgY3JlYXRlRXZlbnQ8W2ZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudF0+KCk7XG5leHBvcnQgY29uc3Qgb25GcmFtZTogdHlwZW9mIGFkZEZyYW1lTGlzdGVuZXJJbnRlcm5hbCA9IChcbiAgbGlzdGVuZXIsXG4gIHRyaWdnZXJDdXJyZW50XG4pID0+IHtcbiAgdHJpZ2dlckN1cnJlbnQgJiYgZm9yRWFjaDIoZnJhbWVzLCAoZnJhbWUpID0+IGxpc3RlbmVyKGZyYW1lLCAoKSA9PiBmYWxzZSkpO1xuICByZXR1cm4gYWRkRnJhbWVMaXN0ZW5lckludGVybmFsKGxpc3RlbmVyKTtcbn07XG4vL2V4cG9ydCB7IGFkZEZyYW1lTGlzdGVuZXIgYXMgb25GcmFtZSB9O1xuXG5jb25zdCBrbm93bkZyYW1lcyA9IG5ldyBXZWFrU2V0PGFueT4oKTtcbmNvbnN0IGZyYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpO1xuXG5leHBvcnQgY29uc3QgY29udGV4dDogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImNvbnRleHRcIixcbiAgc2V0dXAodHJhY2tlcikge1xuICAgIGNsb2NrKFxuICAgICAgKCkgPT5cbiAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgZnJhbWVzLFxuICAgICAgICAgIChmcmFtZSkgPT4gYWRkMihrbm93bkZyYW1lcywgZnJhbWUpICYmIGNhbGxPbkZyYW1lKGZyYW1lKVxuICAgICAgICApLFxuICAgICAgNTAwXG4gICAgKS50cmlnZ2VyKCk7XG5cbiAgICAvLyBWaWV3IGRlZmluaXRpb25zIG1heSBiZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgYm90aCBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gaGFwcGVucy5cbiAgICAvLyBUaGlzIG1lYW5zIHRoZSBgZGVmaW5pdGlvbmAgcHJvcGVydHkgb2YgdGhlIGN1cnJlbnQgdmlldyBldmVudCBpcyB1cGRhdGVkIGluZGVwZW5kZW50bHkgb2YgaXRzIGNyZWF0aW9uLlxuICAgIC8vIElmIHRoZSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGFuZCBhZGRpdGlvbmFsIHBhdGNoIGV2ZW50IGlzIHNlbnQgd2l0aCB0aGUgZGVmaW5pdGlvbi5cbiAgICAvLyBXaGVuIGEgZGVmaW5pdGlvbiBoYXMgYmVlbiBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBldmVudCwgaXQgd2lsbCBub3QgYmUgY2hhbmdlZC5cbiAgICAvLyBJbnN0ZWFkIGFueSBuZXcgdmlldyBkZWZpbml0aW9uIHRoYXQgYXJyaXZlcyBiZWZvcmUgdGhlIG5leHQgbmF2aWdhdGlvbiBpcyBhc3N1bWVkIHRvIGJlIGZvciB0aGUgbmV4dCB2aWV3IGV2ZW50LlxuXG4gICAgbGV0IHBlbmRpbmdWaWV3RGVmaW5pdGlvbjogVmlldyB8IHVuZGVmaW5lZDtcblxuICAgIHRyYWNrZXIudmFyaWFibGVzLmdldCh7XG4gICAgICBzY29wZTogXCJ2aWV3XCIsXG4gICAgICBrZXk6IFwidmlld1wiLFxuICAgICAgcG9sbDogKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGN1cnJlbnRWaWV3RXZlbnQgPT0gbnVsbCB8fFxuICAgICAgICAgICFkZWZpbml0aW9uIHx8XG4gICAgICAgICAgY3VycmVudFZpZXdFdmVudD8uZGVmaW5pdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBCdWZmZXIgZm9yIG5leHQgbmF2aWdhdGlvbi5cbiAgICAgICAgICBwZW5kaW5nVmlld0RlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgICAgICAgIGlmIChkZWZpbml0aW9uPy5uYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBQb3N0IHZpZXcgcmVnaXN0ZXJlZC4gVGhpcyB3YXMgY3VzdG9tIG5hdmlnYXRpb24gdGhhdCB3ZSBhcmUgbm90IG5vcm1hbGx5IGludGVyY2VwdGluZy5cbiAgICAgICAgICAgIHBvc3RWaWV3KHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50LmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgICAgICAgIGlmIChjdXJyZW50Vmlld0V2ZW50Lm1ldGFkYXRhPy5wb3N0ZWQpIHtcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIGRlZmluaXRpb24gYXMgYSBwYXRjaCBiZWNhdXNlIHRoZSB2aWV3IGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gcG9zdGVkLlxuICAgICAgICAgICAgdHJhY2tlci5ldmVudHMucG9zdFBhdGNoKGN1cnJlbnRWaWV3RXZlbnQsIHtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcGVuZGluZ1ZpZXdEZWZpbml0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50LFxuICAgICAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50LnR5cGUgKyBcIiAoZGVmaW5pdGlvbiB1cGRhdGVkKVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGxldCB2aWV3SW5kZXggPVxuICAgICAgdHJ5R2V0VmFyaWFibGUoeyBzY29wZTogXCJ0YWJcIiwga2V5OiBcInZpZXdJbmRleFwiIH0pPy52YWx1ZSA/PyAwO1xuICAgIGxldCB0YWJJbmRleCA9IHRyeUdldFZhcmlhYmxlKHsgc2NvcGU6IFwidGFiXCIsIGtleTogXCJ0YWJJbmRleFwiIH0pPy52YWx1ZTtcblxuICAgIGlmICh0YWJJbmRleCA9PSBudWxsKSB7XG4gICAgICB0YWJJbmRleCA9XG4gICAgICAgIHRyeUdldFZhcmlhYmxlKHsgc2NvcGU6IFwic2hhcmVkXCIsIGtleTogXCJ0YWJJbmRleFwiIH0pPy52YWx1ZSA/P1xuICAgICAgICAvLyBJZiB3ZSBhcmUgdGhlIG9ubHkgdGFiLCB3ZSdsbCBzZWUgaWYgd2UgY2FuIGdldCB0aGUgbnVtYmVyIG9mIHByZXZpb3VzIHRhYnMgaW4gdGhlIHNlc3Npb25cbiAgICAgICAgLy8gZnJvbSB0aGUgc2Vzc2lvbiBpbmZvIHZhcmlhYmxlLlxuICAgICAgICAodHJ5R2V0VmFyaWFibGUoeyBzY29wZTogXCJzZXNzaW9uXCIsIGtleTogU0NPUEVfSU5GT19LRVkgfSk/LnZhbHVlXG4gICAgICAgICAgPy50YWJzIGFzIG51bWJlcikgPz9cbiAgICAgICAgMDtcbiAgICAgIHNldExvY2FsVmFyaWFibGVzKFxuICAgICAgICB7XG4gICAgICAgICAgc2NvcGU6IFwidGFiXCIsXG4gICAgICAgICAga2V5OiBcInRhYkluZGV4XCIsXG4gICAgICAgICAgdmFsdWU6IHRhYkluZGV4LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc2NvcGU6IFwic2hhcmVkXCIsXG4gICAgICAgICAga2V5OiBcInRhYkluZGV4XCIsXG4gICAgICAgICAgdmFsdWU6IHRhYkluZGV4ICsgMSxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uOiBzdHJpbmcgfCBudWxsID0gbmlsO1xuXG4gICAgY29uc3QgcG9zdFZpZXcgPSAoZm9yY2UgPSBGKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIG1hdGNoRXhIYXNoKFwiXCIgKyBjdXJyZW50TG9jYXRpb24sIChjdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmKSkgJiZcbiAgICAgICAgIWZvcmNlXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHNvdXJjZTogaHJlZixcbiAgICAgICAgc2NoZW1lLFxuICAgICAgICBob3N0LFxuICAgICAgfSA9IHBhcnNlVXJpKGxvY2F0aW9uLmhyZWYgKyBcIlwiLCB7IHJlcXVpcmVBdXRob3JpdHk6IHRydWUgfSk7XG4gICAgICBjdXJyZW50Vmlld0V2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcInZpZXdcIixcbiAgICAgICAgdGltZXN0YW1wOiBub3coKSxcbiAgICAgICAgY2xpZW50SWQ6IG5leHRJZCgpLFxuICAgICAgICB0YWI6IFRBQl9JRCxcbiAgICAgICAgaHJlZixcbiAgICAgICAgcGF0aDogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIGhhc2g6IGxvY2F0aW9uLmhhc2ggfHwgdW5kZWZpbmVkLFxuICAgICAgICBkb21haW46IHsgc2NoZW1lLCBob3N0IH0sXG4gICAgICAgIHRhYk51bWJlcjogdGFiSW5kZXggKyAxLFxuICAgICAgICB0YWJWaWV3TnVtYmVyOiB2aWV3SW5kZXggKyAxLFxuICAgICAgICB2aWV3cG9ydDogZ2V0Vmlld3BvcnQoKSxcbiAgICAgICAgZHVyYXRpb246IHRpbWVyKHVuZGVmaW5lZCwgdHJ1ZSksXG4gICAgICB9O1xuXG4gICAgICB0YWJJbmRleCA9PT0gMCAmJiAoY3VycmVudFZpZXdFdmVudC5maXJzdFRhYiA9IFQpO1xuICAgICAgdGFiSW5kZXggPT09IDAgJiYgdmlld0luZGV4ID09PSAwICYmIChjdXJyZW50Vmlld0V2ZW50LmxhbmRpbmdQYWdlID0gVCk7XG5cbiAgICAgIHNldExvY2FsVmFyaWFibGVzKHsgc2NvcGU6IFwidGFiXCIsIGtleTogXCJ2aWV3SW5kZXhcIiwgdmFsdWU6ICsrdmlld0luZGV4IH0pO1xuXG4gICAgICBjb25zdCBxcyA9IHBhcnNlUXVlcnlTdHJpbmcobG9jYXRpb24uaHJlZik7XG4gICAgICBtYXAyKFxuICAgICAgICBbXCJzb3VyY2VcIiwgXCJtZWRpdW1cIiwgXCJjYW1wYWlnblwiLCBcInRlcm1cIiwgXCJjb250ZW50XCJdLFxuICAgICAgICAocCwgXykgPT5cbiAgICAgICAgICAoKGN1cnJlbnRWaWV3RXZlbnQhLnV0bSA/Pz0ge30pW3BdID0gYXJyYXkyKHFzW2B1dG1fJHtwfWBdKT8uWzBdKSA/P1xuICAgICAgICAgIHNraXAyXG4gICAgICApO1xuXG4gICAgICAhKGN1cnJlbnRWaWV3RXZlbnQubmF2aWdhdGlvblR5cGUgPSBwdXNoUG9wTmF2aWdhdGlvbikgJiZcbiAgICAgICAgcGVyZm9ybWFuY2UgJiZcbiAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIiksXG4gICAgICAgICAgKGVudHJ5OiBQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3RXZlbnQhLnJlZGlyZWN0cyA9IGVudHJ5LnJlZGlyZWN0Q291bnQ7XG4gICAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50IS5uYXZpZ2F0aW9uVHlwZSA9IHJlcGxhY2UoXG4gICAgICAgICAgICAgIGVudHJ5LnR5cGUsXG4gICAgICAgICAgICAgIC9cXF8vZyxcbiAgICAgICAgICAgICAgXCItXCJcbiAgICAgICAgICAgICkgYXMgYW55O1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgcHVzaFBvcE5hdmlnYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICgoY3VycmVudFZpZXdFdmVudC5uYXZpZ2F0aW9uVHlwZSA/Pz0gXCJuYXZpZ2F0ZVwiKSA9PT0gXCJuYXZpZ2F0ZVwiKSB7XG4gICAgICAgIC8vIFRyeSBmaW5kIHJlbGF0ZWQgZXZlbnQgYW5kIHBhcmVudCB0YWIgY29udGV4dCBpZiBhbnkuXG4gICAgICAgIC8vIEFuZCBvbmx5IGlmIG5hdmlnYXRpbmcgKG5vdCBiYWNrL2ZvcndhcmQvcmVmcmVzaClcblxuICAgICAgICBjb25zdCByZWZlcnJlciA9IHRyeUdldFZhcmlhYmxlKHJlZmVycmVyS2V5KT8udmFsdWU7XG5cbiAgICAgICAgaWYgKHJlZmVycmVyICYmIGlzSW50ZXJuYWxVcmwoZG9jdW1lbnQucmVmZXJyZXIpKSB7XG4gICAgICAgICAgY3VycmVudFZpZXdFdmVudC52aWV3ID0gcmVmZXJyZXI/LlswXTtcbiAgICAgICAgICBjdXJyZW50Vmlld0V2ZW50LnJlbGF0ZWRFdmVudElkID0gcmVmZXJyZXI/LlsxXTtcbiAgICAgICAgICB0cmFja2VyLnZhcmlhYmxlcy5zZXQoeyAuLi5yZWZlcnJlcktleSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZWZlcnJlclxuICAgICAgY29uc3QgcmVmZXJyZXIgPSBkb2N1bWVudC5yZWZlcnJlciB8fCBuaWw7XG4gICAgICByZWZlcnJlciAmJlxuICAgICAgICAhaXNJbnRlcm5hbFVybChyZWZlcnJlcikgJiZcbiAgICAgICAgKGN1cnJlbnRWaWV3RXZlbnQhLmV4dGVybmFsUmVmZXJyZXIgPSB7XG4gICAgICAgICAgaHJlZjogcmVmZXJyZXIsXG4gICAgICAgICAgZG9tYWluOiBwYXJzZURvbWFpbihyZWZlcnJlciksXG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSB2aWV3IGRlZmluaXRpb24gcmVhZHksIHNldCB0aGlzIG9uIHRoZSBldmVudCwgYW5kIHJlc2V0IHRoZSBidWZmZXIuXG4gICAgICBjdXJyZW50Vmlld0V2ZW50LmRlZmluaXRpb24gPSBwZW5kaW5nVmlld0RlZmluaXRpb247XG4gICAgICBwZW5kaW5nVmlld0RlZmluaXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyYWNrZXIuZXZlbnRzLnBvc3QoY3VycmVudFZpZXdFdmVudCk7XG5cbiAgICAgIHRyYWNrZXIuZXZlbnRzLnJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZShjdXJyZW50Vmlld0V2ZW50ISwgKCkgPT4gKHtcbiAgICAgICAgZHVyYXRpb246IGdldFZpZXdUaW1lT2Zmc2V0KCksXG4gICAgICB9KSk7XG5cbiAgICAgIGRpc3BhdGNoVmlld0NoYW5nZWQoY3VycmVudFZpZXdFdmVudCk7XG4gICAgfTtcblxuICAgIGFkZFBhZ2VWaXNpYmxlTGlzdGVuZXIoKHZpc2libGUpID0+IHtcbiAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgIHZpc2libGVEdXJhdGlvbihUKTtcbiAgICAgICAgKythY3RpdmF0aW9ucztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpc2libGVEdXJhdGlvbihGKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxpc3RlbihcbiAgICAgIHdpbmRvdyxcbiAgICAgIFwicG9wc3RhdGVcIixcbiAgICAgICgpID0+ICgocHVzaFBvcE5hdmlnYXRpb24gPSBcImJhY2stZm9yd2FyZFwiKSwgcG9zdFZpZXcoKSlcbiAgICApO1xuICAgIGZvckVhY2gyKFtcInB1c2hcIiwgXCJyZXBsYWNlXCJdLCAobmFtZSkgPT4ge1xuICAgICAgY29uc3QgaW5uZXIgPSBoaXN0b3J5WyhuYW1lICs9IFwiU3RhdGVcIildO1xuICAgICAgaGlzdG9yeVtuYW1lXSA9ICguLi5hcmdzOiBhbnkpID0+IHtcbiAgICAgICAgaW5uZXIuYXBwbHkoaGlzdG9yeSwgYXJncyk7XG4gICAgICAgIHB1c2hQb3BOYXZpZ2F0aW9uID0gXCJuYXZpZ2F0ZVwiO1xuICAgICAgICBwb3N0VmlldygpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHBvc3RWaWV3KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcHJvY2Vzc0NvbW1hbmQ6IChjb21tYW5kKSA9PlxuICAgICAgICBpc0NoYW5nZVVzZXJDb21tYW5kKGNvbW1hbmQpICYmXG4gICAgICAgICh0cmFja2VyKFxuICAgICAgICAgIGNvbW1hbmQudXNlcm5hbWVcbiAgICAgICAgICAgID8geyB0eXBlOiBcImxvZ2luXCIsIHVzZXJuYW1lOiBjb21tYW5kLnVzZXJuYW1lIH1cbiAgICAgICAgICAgIDogeyB0eXBlOiBcImxvZ291dFwiIH1cbiAgICAgICAgKSxcbiAgICAgICAgVCksXG5cbiAgICAgIGRlY29yYXRlOiAoZXZlbnQpID0+IHtcbiAgICAgICAgY3VycmVudFZpZXdFdmVudCAmJlxuICAgICAgICAgICFpc1ZpZXdFdmVudChldmVudCkgJiZcbiAgICAgICAgICAhaXNFdmVudFBhdGNoKGV2ZW50KSAmJlxuICAgICAgICAgIChldmVudC52aWV3ID0gY3VycmVudFZpZXdFdmVudC5jbGllbnRJZCk7XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50Q2xpY2tJbnRlbnRFdmVudCxcbiAgdHlwZSBBY3RpdmF0ZWRDb21wb25lbnQsXG4gIHR5cGUgQWN0aXZhdGVkQ29udGVudCxcbiAgdHlwZSBDb25maWd1cmVkQ29tcG9uZW50LFxuICB0eXBlIFJlY3RhbmdsZSxcbiAgdHlwZSBVc2VySW50ZXJhY3Rpb25FdmVudCxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIE1heWJlVW5kZWZpbmVkLFxuICBOdWxsaXNoLFxuICBULFxuICBhcnJheTIsXG4gIGNvbmNhdCxcbiAgZmlsdGVyLFxuICBmaWx0ZXIyLFxuICBmbGF0TWFwLFxuICBmb3JFYWNoMixcbiAgaXNTdHJpbmcsXG4gIGpvaW4yLFxuICBtYXAyLFxuICBtYXgsXG4gIHB1c2gsXG4gIHNldDIsXG4gIHNvbWUsXG4gIHVuc2hpZnQsXG4gIHVwZGF0ZSxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHtcbiAgQm91bmRhcnlDb21tYW5kLFxuICBCb3VuZGFyeURhdGEsXG4gIFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LFxuICBpc0RhdGFCb3VuZGFyeUNvbW1hbmQsXG4gIGlzU2NhbkNvbXBvbmVudHNDb21tYW5kLFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7XG4gIE5vZGVXaXRoUGFyZW50RWxlbWVudCxcbiAgYm91bmRhcnlEYXRhLFxuICBjcmVhdGVJbXByZXNzaW9uT2JzZXJ2ZXIsXG4gIGZvckFuY2VzdG9yc09yU2VsZixcbiAgZ2V0UmVjdCxcbiAgcGFyc2VUYWdzLFxuICBzY2FuQXR0cmlidXRlcyxcbiAgdHJhY2tlclByb3BlcnR5LFxufSBmcm9tIFwiLi4vbGliXCI7XG5leHBvcnQgdHlwZSBBY3RpdmF0ZWREb21Db21wb25lbnQgPSBDb25maWd1cmVkQ29tcG9uZW50ICYgQWN0aXZhdGVkQ29tcG9uZW50O1xuXG5leHBvcnQgY29uc3QgY29tcG9uZW50RG9tQ29uZmlndXJhdGlvbiA9IFN5bWJvbChcIkRPTSBjb25maWd1cmF0aW9uXCIpO1xuXG5leHBvcnQgY29uc3QgcGFyc2VBY3RpdmF0aW9uVGFncyA9IChlbDogRWxlbWVudCkgPT5cbiAgcGFyc2VUYWdzKGVsLCB1bmRlZmluZWQsIChlbCkgPT4gZmlsdGVyMihhcnJheTIoYm91bmRhcnlEYXRhLmdldChlbCk/LnRhZ3MpKSk7XG5cbmNvbnN0IGhhc0NvbXBvbmVudE9yQ29udGVudCA9IChib3VuZGFyeT86IEJvdW5kYXJ5RGF0YTx0cnVlPiB8IG51bGwpID0+XG4gIGJvdW5kYXJ5Py5jb21wb25lbnQgfHwgYm91bmRhcnk/LmNvbnRlbnQ7XG5cbmxldCBlbnRyeTogQm91bmRhcnlEYXRhPHRydWU+IHwgdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IHBhcnNlQm91bmRhcnlUYWdzID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gIHJldHVybiBwYXJzZVRhZ3MoXG4gICAgZWwsXG4gICAgKGFuY2VzdG9yKSA9PlxuICAgICAgYW5jZXN0b3IgIT09IGVsICYmICEhaGFzQ29tcG9uZW50T3JDb250ZW50KGJvdW5kYXJ5RGF0YS5nZXQoYW5jZXN0b3IpKSxcbiAgICAoZWwpID0+IHtcbiAgICAgIGVudHJ5ID0gYm91bmRhcnlEYXRhLmdldChlbCkhO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGVudHJ5ID0gYm91bmRhcnlEYXRhLmdldChlbCkpICYmXG4gICAgICAgIGZsYXRNYXAoY29uY2F0KGVudHJ5LmNvbXBvbmVudCwgZW50cnkuY29udGVudCwgZW50cnkpLCBcInRhZ3NcIilcbiAgICAgICk7XG4gICAgfVxuICApO1xufTtcblxubGV0IGNvbnRlbnQ6IEFjdGl2YXRlZENvbnRlbnRbXSB8IHVuZGVmaW5lZDtcbmNvbnN0IHN0cmlwUmVjdHMgPSAoXG4gIGNvbXBvbmVudDogQWN0aXZhdGVkRG9tQ29tcG9uZW50LFxuICBrZWVwPzogYm9vbGVhblxuKTogQWN0aXZhdGVkRG9tQ29tcG9uZW50ID0+XG4gIGtlZXBcbiAgICA/IGNvbXBvbmVudFxuICAgIDoge1xuICAgICAgICAuLi5jb21wb25lbnQsXG4gICAgICAgIHJlY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgY29udGVudDpcbiAgICAgICAgICAoY29udGVudCA9IGNvbXBvbmVudC5jb250ZW50KSAmJlxuICAgICAgICAgIG1hcDIoY29udGVudCwgKGNvbnRlbnQpID0+ICh7IC4uLmNvbnRlbnQsIHJlY3Q6IHVuZGVmaW5lZCB9KSksXG4gICAgICB9O1xuXG5jb25zdCBlbnVtIEluY2x1ZGVTdGF0ZSB7XG4gIFNlY29uZGFyeSA9IDAsXG4gIFByaW1hcnkgPSAxLFxuICBQcm9tb3RlZCA9IDIsXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wb25lbnRDb250ZXh0ID0gKFxuICBlbDogTm9kZVdpdGhQYXJlbnRFbGVtZW50LFxuICBkaXJlY3RPbmx5ID0gRixcbiAgaW5jbHVkZVJlZ2lvbj86IGJvb2xlYW4gfCBOdWxsaXNoXG4pID0+IHtcbiAgbGV0IGNvbGxlY3RlZENvbnRlbnQ6IEFjdGl2YXRlZENvbnRlbnRbXSA9IFtdO1xuXG4gIHR5cGUgQXJlYSA9IHt9ICYgc3RyaW5nOyAvLyBGb3IgY2xhcml0eS5cbiAgbGV0IGNvbGxlY3RlZDogKEFjdGl2YXRlZERvbUNvbXBvbmVudCB8IEFyZWEpW10gPSBbXTtcblxuICBsZXQgaW5jbHVkZVN0YXRlID0gSW5jbHVkZVN0YXRlLlNlY29uZGFyeTtcbiAgbGV0IHJlY3Q6IFJlY3RhbmdsZSB8IHVuZGVmaW5lZDtcbiAgZm9yQW5jZXN0b3JzT3JTZWxmKGVsLCAoZWwpID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IGJvdW5kYXJ5RGF0YS5nZXQoZWwpO1xuXG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChoYXNDb21wb25lbnRPckNvbnRlbnQoZW50cnkpKSB7XG4gICAgICBjb25zdCBjb21wb25lbnRzID0gZmlsdGVyKFxuICAgICAgICBhcnJheTIoZW50cnkuY29tcG9uZW50KSxcbiAgICAgICAgKGVudHJ5KSA9PlxuICAgICAgICAgIGluY2x1ZGVTdGF0ZSA9PT0gSW5jbHVkZVN0YXRlLlNlY29uZGFyeSB8fFxuICAgICAgICAgICghZGlyZWN0T25seSAmJlxuICAgICAgICAgICAgKChpbmNsdWRlU3RhdGUgPT09IEluY2x1ZGVTdGF0ZS5QcmltYXJ5ICYmXG4gICAgICAgICAgICAgIGVudHJ5LnRyYWNrPy5zZWNvbmRhcnkgIT09IFQpIHx8XG4gICAgICAgICAgICAgIGVudHJ5LnRyYWNrPy5wcm9tb3RlKSlcbiAgICAgICk7XG5cbiAgICAgIHJlY3QgPVxuICAgICAgICAoKGluY2x1ZGVSZWdpb24gPz8gc29tZShjb21wb25lbnRzLCAoaXRlbSkgPT4gaXRlbS50cmFjaz8ucmVnaW9uKSkgJiZcbiAgICAgICAgICBnZXRSZWN0KGVsKSkgfHxcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgY29uc3QgdGFncyA9IHBhcnNlQm91bmRhcnlUYWdzKGVsKTtcbiAgICAgIGVudHJ5LmNvbnRlbnQgJiZcbiAgICAgICAgdW5zaGlmdChcbiAgICAgICAgICBjb2xsZWN0ZWRDb250ZW50LFxuICAgICAgICAgIC4uLm1hcDIoZW50cnkuY29udGVudCwgKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICAgIC4uLnRhZ3MsXG4gICAgICAgICAgfSkpXG4gICAgICAgICk7XG5cbiAgICAgIGNvbXBvbmVudHM/Lmxlbmd0aCAmJlxuICAgICAgICAodW5zaGlmdChcbiAgICAgICAgICBjb2xsZWN0ZWQsXG4gICAgICAgICAgLi4ubWFwMihcbiAgICAgICAgICAgIGNvbXBvbmVudHMsXG4gICAgICAgICAgICAoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAoaW5jbHVkZVN0YXRlID0gbWF4KFxuICAgICAgICAgICAgICAgIGluY2x1ZGVTdGF0ZSxcbiAgICAgICAgICAgICAgICBpdGVtLnRyYWNrPy5zZWNvbmRhcnkgLy8gSU5WOiBTZWNvbmRhcnkgY29tcG9uZW50cyBhcmUgb25seSBpbmNsdWRlZCBoZXJlIGlmIHdlIGRpZCBub3QgaGF2ZSBhbnkgY29tcG9uZW50cyBmcm9tIGEgY2hpbGQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgID8gSW5jbHVkZVN0YXRlLlByaW1hcnlcbiAgICAgICAgICAgICAgICAgIDogSW5jbHVkZVN0YXRlLlByb21vdGVkXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBzdHJpcFJlY3RzKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBjb2xsZWN0ZWRDb250ZW50Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICA/IGNvbGxlY3RlZENvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgICAgICAgLi4udGFncyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICEhcmVjdFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICAoY29sbGVjdGVkQ29udGVudCA9IFtdKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJlYSA9IGVudHJ5LmFyZWEgfHwgdHJhY2tlclByb3BlcnR5KGVsLCBcImFyZWFcIik7XG4gICAgYXJlYSAmJiB1bnNoaWZ0KGNvbGxlY3RlZCwgYXJlYSk7XG4gIH0pO1xuXG4gIGxldCBhcmVhUGF0aDogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG4gIGxldCBjb21wb25lbnRzOiBBY3RpdmF0ZWRDb21wb25lbnRbXSB8IHVuZGVmaW5lZDtcblxuICBpZiAoY29sbGVjdGVkQ29udGVudC5sZW5ndGgpIHtcbiAgICAvLyBDb250ZW50IHdpdGhvdXQgYSBjb250YWluaW5nIGNvbXBvbmVudCBpcyBnYXRoZXJlZCBpbiBhbiBJRC1sZXNzIGNvbXBvbmVudC5cbiAgICBwdXNoKGNvbGxlY3RlZCwgc3RyaXBSZWN0cyh7IGlkOiBcIlwiLCByZWN0LCBjb250ZW50OiBjb2xsZWN0ZWRDb250ZW50IH0pKTtcbiAgfVxuXG4gIGZvckVhY2gyKGNvbGxlY3RlZCwgKGl0ZW0pID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoaXRlbSkpIHtcbiAgICAgIHB1c2goKGFyZWFQYXRoID8/PSBbXSksIGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLmFyZWEgPz89IGpvaW4yKGFyZWFQYXRoLCBcIi9cIik7XG4gICAgICB1bnNoaWZ0KChjb21wb25lbnRzID8/PSBbXSksIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBvbmVudHMgfHwgYXJlYVBhdGhcbiAgICA/IHsgY29tcG9uZW50czogY29tcG9uZW50cywgYXJlYTogam9pbjIoYXJlYVBhdGgsIFwiL1wiKSB9XG4gICAgOiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY29tcG9uZW50czogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImNvbXBvbmVudHNcIixcbiAgc2V0dXAodHJhY2tlcikge1xuICAgIGNvbnN0IGltcHJlc3Npb25zID0gY3JlYXRlSW1wcmVzc2lvbk9ic2VydmVyKHRyYWNrZXIpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQm91bmRhcnlEYXRhID0gPFQgZXh0ZW5kcyBCb3VuZGFyeURhdGEgfCBOdWxsaXNoPihcbiAgICAgIGRhdGE6IFRcbiAgICApOiBNYXliZVVuZGVmaW5lZDxULCBCb3VuZGFyeURhdGE8dHJ1ZT4+ID0+XG4gICAgICBkYXRhID09IG51bGxcbiAgICAgICAgPyAodW5kZWZpbmVkIGFzIGFueSlcbiAgICAgICAgOiAoe1xuICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgIGNvbXBvbmVudDogYXJyYXkyKGRhdGEuY29tcG9uZW50KSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGFycmF5MihkYXRhLmNvbnRlbnQpLFxuICAgICAgICAgICAgdGFnczogYXJyYXkyKGRhdGEudGFncyksXG4gICAgICAgICAgfSBhcyBCb3VuZGFyeURhdGE8dHJ1ZT4pO1xuXG4gICAgY29uc3QgcmVnaXN0ZXJDb21wb25lbnQgPSAoe1xuICAgICAgYm91bmRhcnk6IGVsLFxuICAgICAgLi4uY29tbWFuZFxuICAgIH06IEJvdW5kYXJ5Q29tbWFuZCkgPT4ge1xuICAgICAgdXBkYXRlKGJvdW5kYXJ5RGF0YSwgZWwsIChjdXJyZW50KSA9PlxuICAgICAgICBub3JtYWxpemVCb3VuZGFyeURhdGEoXG4gICAgICAgICAgXCJhZGRcIiBpbiBjb21tYW5kXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29uY2F0KGN1cnJlbnQ/LmNvbXBvbmVudCwgY29tbWFuZC5jb21wb25lbnQpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbmNhdChjdXJyZW50Py5jb250ZW50LCBjb21tYW5kLmNvbnRlbnQpLFxuICAgICAgICAgICAgICAgIGFyZWE6IGNvbW1hbmQ/LmFyZWEgPz8gY3VycmVudD8uYXJlYSxcbiAgICAgICAgICAgICAgICB0YWdzOiBjb25jYXQoY3VycmVudD8udGFncywgY29tbWFuZC50YWdzKSxcbiAgICAgICAgICAgICAgICBjYXJ0OiBjb21tYW5kLmNhcnQgPz8gY3VycmVudD8uY2FydCxcbiAgICAgICAgICAgICAgICB0cmFjazogY29tbWFuZC50cmFjayA/PyBjdXJyZW50Py50cmFjayxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBcInVwZGF0ZVwiIGluIGNvbW1hbmRcbiAgICAgICAgICAgID8gY29tbWFuZC51cGRhdGUoY3VycmVudClcbiAgICAgICAgICAgIDogY29tbWFuZFxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpbXByZXNzaW9ucyhlbCwgYm91bmRhcnlEYXRhLmdldChlbCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGVjb3JhdGUoZXZlbnREYXRhKSB7XG4gICAgICAgIC8vIFN0cmlwIHRyYWNraW5nIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIGZvckVhY2gyKFxuICAgICAgICAgIChldmVudERhdGEgYXMgVXNlckludGVyYWN0aW9uRXZlbnQpLmNvbXBvbmVudHMsXG4gICAgICAgICAgKGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgc2V0Mihjb21wb25lbnQgYXMgYW55LCBcInRyYWNrXCIsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICAgICAgKGV2ZW50RGF0YSBhcyBDb21wb25lbnRDbGlja0ludGVudEV2ZW50KS5jbGlja2FibGVzLFxuICAgICAgICAgICAgICAoY2xpY2thYmxlKSA9PiBzZXQyKGNsaWNrYWJsZSBhcyBhbnksIFwidHJhY2tcIiwgdW5kZWZpbmVkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgcHJvY2Vzc0NvbW1hbmQoY21kKSB7XG4gICAgICAgIHJldHVybiBpc0RhdGFCb3VuZGFyeUNvbW1hbmQoY21kKVxuICAgICAgICAgID8gKHJlZ2lzdGVyQ29tcG9uZW50KGNtZCksIFQpXG4gICAgICAgICAgOiBpc1NjYW5Db21wb25lbnRzQ29tbWFuZChjbWQpXG4gICAgICAgICAgPyAoZm9yRWFjaDIoXG4gICAgICAgICAgICAgIHNjYW5BdHRyaWJ1dGVzKGNtZC5zY2FuLmF0dHJpYnV0ZSwgY21kLnNjYW4uY29tcG9uZW50cyksXG4gICAgICAgICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgVClcbiAgICAgICAgICA6IEY7XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIiwiaW1wb3J0IHtcbiAgRGVmaW5lZCxcbiAgRmFsc2lzaCxcbiAgSWYsXG4gIElzQW55LFxuICBNYXliZVByb21pc2VMaWtlLFxuICBOb3RGdW5jdGlvbixcbiAgTnVsbGlzaCxcbiAgT21pdE51bGxpc2gsXG4gIFRvZ2dsZVByb21pc2UsXG4gIFVud3JhcFByb21pc2VMaWtlLFxuICBXcmFwcGVkLFxuICBkZWxheSxcbiAgaXNBcnJheSxcbiAgaXNBd2FpdGFibGUsXG4gIGlzQm9vbGVhbixcbiAgaXNFcnJvcixcbiAgaXNGdW5jdGlvbixcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNTdHJpbmcsXG4gIHVud3JhcCxcbn0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCB0eXBlIEVycm9yR2VuZXJhdG9yID0gc3RyaW5nIHwgRXJyb3IgfCAoKCkgPT4gc3RyaW5nIHwgRXJyb3IpO1xuXG5leHBvcnQgY29uc3QgdGhyb3dFcnJvciA9IChcbiAgZXJyb3I6IEVycm9yR2VuZXJhdG9yLFxuICB0cmFuc2Zvcm06IChzdHJpbmc6IHN0cmluZykgPT4gRXJyb3IgPSAobWVzc2FnZSkgPT4gbmV3IEVycm9yKG1lc3NhZ2UpXG4pOiBuZXZlciA9PiB7XG4gIHRocm93IGlzU3RyaW5nKChlcnJvciA9IHVud3JhcChlcnJvcikpKSA/IHRyYW5zZm9ybShlcnJvcikgOiBlcnJvcjtcbn07XG5leHBvcnQgY29uc3QgdGhyb3dUeXBlRXJyb3IgPSAobWVzc2FnZTogc3RyaW5nKTogbmV2ZXIgPT5cbiAgdGhyb3dFcnJvcihuZXcgVHlwZUVycm9yKG1lc3NhZ2UpKTtcblxudHlwZSBDb21iaW5lVHlwZVRlc3RzPFQ+ID0gVCBleHRlbmRzIFtdXG4gID8ge31cbiAgOiBUIGV4dGVuZHMgW2luZmVyIEYsIC4uLmluZmVyIFJlc3RdXG4gID8gRiBleHRlbmRzICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBpbmZlciBSXG4gICAgPyAoSXNBbnk8Uj4gZXh0ZW5kcyB0cnVlID8gVCA6IFIpICYgQ29tYmluZVR5cGVUZXN0czxSZXN0PlxuICAgIDogbmV2ZXJcbiAgOiBuZXZlcjtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlID0gPFxuICBULFxuICBWYWxpZGF0b3IgZXh0ZW5kc1xuICAgIHwgKChjYW5kaWRhdGU6IFQpID0+IGNhbmRpZGF0ZSBpcyBhbnkpXG4gICAgfCAoKGNhbmRpZGF0ZTogVCkgPT4gUilcbiAgICB8IFtcbiAgICAgICAgdmFsaWRhdGU6IChjYW5kaWRhdGU6IFQpID0+IGFueSxcbiAgICAgICAgLi4udHlwZVRlc3RzOiAoKGNhbmRpZGF0ZTogVCkgPT4gY2FuZGlkYXRlIGlzIGFueSlbXVxuICAgICAgXVxuICAgIHwgKFIgJiBOb3RGdW5jdGlvbiksXG4gIFJcbj4oXG4gIHZhbHVlOiBULFxuICB2YWxpZGF0ZTogVmFsaWRhdG9yIHwgUixcbiAgdmFsaWRhdGlvbkVycm9yPzogRXJyb3JHZW5lcmF0b3IsXG4gIHVuZGVmaW5lZEVycm9yPzogRXJyb3JHZW5lcmF0b3Jcbik6IERlZmluZWQ8XG4gIElmPFxuICAgIElzQW55PFZhbGlkYXRvcj4sXG4gICAgVCxcbiAgICBWYWxpZGF0b3IgZXh0ZW5kcyByZWFkb25seSBbYW55LCAuLi5pbmZlciBUeXBlVGVzdHNdXG4gICAgICA/IENvbWJpbmVUeXBlVGVzdHM8VHlwZVRlc3RzPlxuICAgICAgOiBWYWxpZGF0b3IgZXh0ZW5kcyAoKHZhbHVlOiBhbnkpID0+IGluZmVyIFIpIHwgaW5mZXIgUlxuICAgICAgPyBSIGV4dGVuZHMgRmFsc2lzaFxuICAgICAgICA/IG5ldmVyXG4gICAgICAgIDogVmFsaWRhdG9yIGV4dGVuZHMgKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIGluZmVyIFJcbiAgICAgICAgPyBEZWZpbmVkPFI+XG4gICAgICAgIDogVFxuICAgICAgOiBuZXZlclxuICA+XG4+ID0+XG4gIChcbiAgICBpc0FycmF5KHZhbGlkYXRlKVxuICAgICAgPyB2YWxpZGF0ZS5ldmVyeSgodGVzdCkgPT4gdGVzdCh2YWx1ZSkpXG4gICAgICA6IGlzRnVuY3Rpb24odmFsaWRhdGUpXG4gICAgICA/IHZhbGlkYXRlKHZhbHVlKVxuICAgICAgOiB2YWxpZGF0ZVxuICApXG4gICAgPyB2YWx1ZVxuICAgIDogcmVxdWlyZWQodmFsdWUsIHVuZGVmaW5lZEVycm9yID8/IHZhbGlkYXRpb25FcnJvcikgJiZcbiAgICAgICh0aHJvd0Vycm9yKHZhbGlkYXRpb25FcnJvciA/PyBcIlZhbGlkYXRpb24gZmFpbGVkLlwiKSBhcyBhbnkpO1xuXG5leHBvcnQgY2xhc3MgSW52YXJpYW50VmlvbGF0ZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoaW52YXJpYW50Pzogc3RyaW5nKSB7XG4gICAgc3VwZXIoaW52YXJpYW50ID8gXCJJTlY6IFwiICsgaW52YXJpYW50IDogXCJBbiBpbnZhcmlhbnQgd2FzIHZpb2xhdGVkLlwiKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3RydWN0dXJhbEVxdWFscyA9IChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICBkZXB0aCA9IC0xXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSByZXR1cm4gdHJ1ZTtcbiAgLy8gaW50ZXJwcmV0IGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgYXMgdGhlIHNhbWUuXG4gIGlmICgodmFsdWUxID8/IHZhbHVlMikgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgaWYgKFxuICAgIChpc0FycmF5KHZhbHVlMSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZTEpKSAmJlxuICAgIChpc0FycmF5KHZhbHVlMikgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZTIpKSAmJlxuICAgIHZhbHVlMS5sZW5ndGggPT09IHZhbHVlMi5sZW5ndGhcbiAgKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlMSkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZTFba2V5XSAhPT0gdmFsdWUyW2tleV0gJiZcbiAgICAgICAgIXN0cnVjdHVyYWxFcXVhbHModmFsdWUxW2tleV0sIHZhbHVlMltrZXldLCBkZXB0aCAtIDEpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgKytuO1xuICAgIH1cbiAgICByZXR1cm4gbiA9PT0gT2JqZWN0LmtleXModmFsdWUyKS5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqIFRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBlcXVhbHMgYXQgbGVhc3Qgb25lIG9mIHNvbWUgb3RoZXIgdmFsdWVzLiAgKi9cbmV4cG9ydCBjb25zdCBlcXVhbHNBbnk6IDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KFxuICB0YXJnZXQ6IGFueSxcbiAgLi4udmFsdWVzOiBUXG4pID0+IHRhcmdldCBpcyBUW251bWJlcl0gPSAoKFxuICB0YXJnZXQ6IGFueSxcbiAgc2luZ2xlVmFsdWU6IGFueSxcbiAgLi4ub3RoZXJWYWx1ZXM6IGFueVxuKSA9PlxuICB0YXJnZXQgPT09IHNpbmdsZVZhbHVlIHx8XG4gIChvdGhlclZhbHVlcy5sZW5ndGggPiAwICYmXG4gICAgb3RoZXJWYWx1ZXMuc29tZSgodmFsdWU6IGFueSkgPT4gZXF1YWxzQW55KHRhcmdldCwgdmFsdWUpKSkpIGFzIGFueTtcblxuLyoqXG4gKiBTdGF0ZXMgYW4gaW52YXJpYW50LlxuICovXG5leHBvcnQgY29uc3QgaW52YXJpYW50ID0gPFQ+KFxuICB0ZXN0OiBXcmFwcGVkPFQgfCBmYWxzZT4sXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4pOiBEZWZpbmVkPFQ+ID0+IHtcbiAgY29uc3QgdmFsaWQgPSB1bndyYXAodGVzdCk7XG4gIHJldHVybiB2YWxpZCAhPSBudWxsICYmIHZhbGlkICE9PSBmYWxzZVxuICAgID8gKHZhbGlkIGFzIGFueSlcbiAgICA6IHRocm93RXJyb3IobmV3IEludmFyaWFudFZpb2xhdGVkRXJyb3IoZGVzY3JpcHRpb24pKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXF1aXJlZCA9IDxUPih2YWx1ZTogVCwgZXJyb3I/OiBFcnJvckdlbmVyYXRvcik6IE9taXROdWxsaXNoPFQ+ID0+XG4gIHZhbHVlICE9IG51bGxcbiAgICA/ICh2YWx1ZSBhcyBhbnkpXG4gICAgOiB0aHJvd0Vycm9yKFxuICAgICAgICBlcnJvciA/PyBcIkEgcmVxdWlyZWQgdmFsdWUgaXMgbWlzc2luZ1wiLFxuICAgICAgICAodGV4dCkgPT4gbmV3IFR5cGVFcnJvcih0ZXh0LnJlcGxhY2UoXCIuLi5cIiwgXCIgaXMgcmVxdWlyZWQuXCIpKVxuICAgICAgKTtcblxuZXhwb3J0IGNvbnN0IHRyeUNhdGNoID0gPFQsIEUgPSB0cnVlPihcbiAgZXhwcmVzc2lvbjogKCkgPT4gVCxcbiAgZXJyb3JIYW5kbGVyOiBFIHwgKGJvb2xlYW4gfCAoKGVycm9yPzogYW55KSA9PiBhbnkpIHwgTnVsbGlzaCkgPSB0cnVlIGFzIGFueSxcbiAgYWx3YXlzPzogKCkgPT4gdm9pZFxuKTpcbiAgfCBUXG4gIHwgKEUgZXh0ZW5kcyBOdWxsaXNoIHwgdHJ1ZVxuICAgICAgPyBuZXZlclxuICAgICAgOiBFIGV4dGVuZHMgZmFsc2VcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IEUgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBSXG4gICAgICA/IFIgZXh0ZW5kcyBFcnJvclxuICAgICAgICA/IG5ldmVyXG4gICAgICAgIDogUiBleHRlbmRzIHZvaWRcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBSXG4gICAgICA6IEUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZXJyb3JIYW5kbGVyKVxuICAgICAgPyBpc0Vycm9yKChlID0gZXJyb3JIYW5kbGVyKGUpKSlcbiAgICAgICAgPyB0aHJvd0Vycm9yKGUpXG4gICAgICAgIDogZVxuICAgICAgOiBpc0Jvb2xlYW4oZXJyb3JIYW5kbGVyKVxuICAgICAgPyBjb25zb2xlLmVycm9yKGVycm9ySGFuZGxlciA/IHRocm93RXJyb3IoZSkgOiBlKVxuICAgICAgOiAoZXJyb3JIYW5kbGVyIGFzIGFueSk7XG4gIH0gZmluYWxseSB7XG4gICAgYWx3YXlzPy4oKTtcbiAgfVxufTtcblxuZXhwb3J0IHR5cGUgRXJyb3JIYW5kbGVyID0gTnVsbGlzaCB8IGJvb2xlYW4gfCAoKGVycm9yOiBhbnkpID0+IGFueSk7XG50eXBlIEVycm9ySGFuZGxlclJlc3VsdDxIYW5kbGVyPiA9IEhhbmRsZXIgZXh0ZW5kcyB0cnVlXG4gID8gbmV2ZXJcbiAgOiBIYW5kbGVyIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgUlxuICA/IFRvZ2dsZVByb21pc2U8VW53cmFwUHJvbWlzZUxpa2U8Uj4gZXh0ZW5kcyBFcnJvciA/IG5ldmVyIDogUiwgUj5cbiAgOiB2b2lkO1xuXG5jb25zdCBtYXliZUF3YWl0ID0gPFQsIFI+KFxuICB2YWx1ZTogTWF5YmVQcm9taXNlTGlrZTxUPixcbiAgYWN0aW9uOiAodmFsdWU6IFQpID0+IFJcbik6IFIgPT4gKHZhbHVlIGFzIGFueSk/LnRoZW4oYWN0aW9uKSA/PyBhY3Rpb24odmFsdWUgYXMgYW55KTtcblxuY29uc3QgaGFuZGxlRXJyb3IgPSA8SGFuZGxlciBleHRlbmRzIEVycm9ySGFuZGxlcj4oXG4gIGVycm9ySGFuZGxlcjogSGFuZGxlcixcbiAgZXJyb3I6IGFueSxcbiAgbG9nID0gdHJ1ZVxuKTogRXJyb3JIYW5kbGVyUmVzdWx0PEhhbmRsZXI+ID0+XG4gIGVycm9ySGFuZGxlciA9PT0gZmFsc2VcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogZXJyb3JIYW5kbGVyID09PSB0cnVlIHx8XG4gICAgICBlcnJvckhhbmRsZXIgPT0gbnVsbCB8fFxuICAgICAgaXNFcnJvcigoZXJyb3IgPSBlcnJvckhhbmRsZXIoZXJyb3IpKSlcbiAgICA/IG1heWJlQXdhaXQoXG4gICAgICAgIGVycm9yLFxuICAgICAgICAoZXJyb3IpID0+IChsb2cgJiYgY29uc29sZS5lcnJvcihlcnJvciksIHRocm93RXJyb3IoZXJyb3IpKVxuICAgICAgKVxuICAgIDogZXJyb3I7XG5cbnR5cGUgRGVmZXJyZWRQcm9wZXJ0aWVzPFQ+ID0geyByZXNvbHZlZD86IEF3YWl0ZWQ8VD4gfTtcblxudHlwZSBOb3REZWZlcnJlZCA9IHsgcmVzb2x2ZWQ/OiB1bmRlZmluZWQgfTtcblxuZXhwb3J0IHR5cGUgRGVmZXJyZWQ8VD4gPSAoKCkgPT4gVCkgJiBEZWZlcnJlZFByb3BlcnRpZXM8VD47XG5cbmV4cG9ydCB0eXBlIERlZmVycmVkQXN5bmM8VD4gPSBEZWZlcnJlZDxNYXliZVByb21pc2VMaWtlPFQ+PjtcblxuZXhwb3J0IHR5cGUgTWF5YmVEZWZlcnJlZDxUPiA9IChUICYgTm90RGVmZXJyZWQpIHwgRGVmZXJyZWQ8VD47XG5leHBvcnQgdHlwZSBNYXliZURlZmVycmVkQXN5bmM8VD4gPVxuICB8ICgoVCB8IFByb21pc2VMaWtlPFQ+KSAmIE5vdERlZmVycmVkKVxuICB8IERlZmVycmVkQXN5bmM8VD47XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlRGVmZXJyZWQ6IHtcbiAgPFQ+KHZhbHVlOiBEZWZlcnJlZDxUPik6IFQ7XG4gIDxUPih2YWx1ZTogVCk6IFQ7XG59ID0gKHZhbHVlOiBEZWZlcnJlZDxhbnk+KSA9PlxuICBpc0Z1bmN0aW9uKHZhbHVlKSA/ICh2YWx1ZSBhcyBhbnkpPy5yZXNvbHZlZCA/PyB2YWx1ZSgpIDogdmFsdWU7XG5cbi8qKiBBIHZhbHVlIHRoYXQgaXMgaW5pdGlhbGl6ZWQgbGF6aWx5IG9uLWRlbWFuZC4gKi9cbmV4cG9ydCBjb25zdCBkZWZlcnJlZCA9IDxUPihcbiAgZXhwcmVzc2lvbjogV3JhcHBlZDxUPlxuKTogVCBleHRlbmRzIFByb21pc2VMaWtlPGluZmVyIFQ+ID8gRGVmZXJyZWRBc3luYzxUPiA6IERlZmVycmVkPFQ+ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55O1xuICBjb25zdCBnZXR0ZXIgPSAoKCkgPT4ge1xuICAgIGlmIChnZXR0ZXIuaW5pdGlhbGl6ZWQgfHwgcmVzdWx0KSB7XG4gICAgICAvLyBSZXN1bHQgbWF5IGVpdGhlciBiZSB0aGUgcmVzb2x2ZWQgdmFsdWUgb3IgYSBwZW5kaW5nIHByb21pc2UgZm9yIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IHVud3JhcChleHByZXNzaW9uKSBhcyBhbnk7XG4gICAgaWYgKHJlc3VsdC50aGVuKSB7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9IHJlc3VsdC50aGVuKChyZXNvbHZlZFZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgZ2V0dGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIChnZXR0ZXIucmVzb2x2ZWQgPSByZXN1bHQgPSByZXNvbHZlZFZhbHVlKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0dGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICByZXR1cm4gKGdldHRlci5yZXNvbHZlZCA9IHJlc3VsdCk7XG4gIH0pIGFzIGFueTtcbiAgcmV0dXJuIGdldHRlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBhc0RlZmVycmVkID0gPFQgZXh0ZW5kcyBNYXliZURlZmVycmVkPGFueT4+KFxuICBkZWZlcnJlZE9yUmVzb2x2ZWQ6IFRcbik6IFQgZXh0ZW5kcyBEZWZlcnJlZDxhbnk+ID8gVCA6IERlZmVycmVkPFQ+ID0+XG4gIGlzRnVuY3Rpb24oZGVmZXJyZWRPclJlc29sdmVkKVxuICAgID8gZGVmZXJyZWRPclJlc29sdmVkXG4gICAgOiAoT2JqZWN0LmFzc2lnbigoKSA9PiBkZWZlcnJlZE9yUmVzb2x2ZWQsIHtcbiAgICAgICAgcmVzb2x2ZWQ6IGlzQXdhaXRhYmxlKGRlZmVycmVkT3JSZXNvbHZlZClcbiAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgIDogZGVmZXJyZWRPclJlc29sdmVkLFxuICAgICAgfSkgYXMgYW55KTtcblxuY2xhc3MgRGVmZXJyZWRQcm9taXNlPFQ+IGV4dGVuZHMgUHJvbWlzZTxUPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2FjdGlvbjogKCkgPT4gUHJvbWlzZTxUPjtcbiAgcHJpdmF0ZSBfcmVzdWx0OiBQcm9taXNlPFQ+O1xuXG4gIHB1YmxpYyBnZXQgaW5pdGlhbGl6ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3VsdCAhPSBudWxsO1xuICB9XG5cbiAgY29uc3RydWN0b3IoYWN0aW9uOiAoKSA9PiBQcm9taXNlPFQ+KSB7XG4gICAgc3VwZXIoKCkgPT4ge30pO1xuICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcbiAgfVxuXG4gIHRoZW48VFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgICBvbmZ1bGZpbGxlZD86XG4gICAgICB8ICgodmFsdWU6IFQpID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+KVxuICAgICAgfCBudWxsXG4gICAgICB8IHVuZGVmaW5lZCxcbiAgICBvbnJlamVjdGVkPzpcbiAgICAgIHwgKChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pXG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkXG4gICk6IFByb21pc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj4ge1xuICAgIHJldHVybiAodGhpcy5fcmVzdWx0ID8/PSB0aGlzLl9hY3Rpb24oKSkudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gIH1cblxuICBjYXRjaDxUUmVzdWx0ID0gbmV2ZXI+KFxuICAgIG9ucmVqZWN0ZWQ/OlxuICAgICAgfCAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0IHwgUHJvbWlzZUxpa2U8VFJlc3VsdD4pXG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkXG4gICk6IFByb21pc2U8VCB8IFRSZXN1bHQ+IHtcbiAgICByZXR1cm4gKHRoaXMuX3Jlc3VsdCA/Pz0gdGhpcy5fYWN0aW9uKCkpLmNhdGNoKG9ucmVqZWN0ZWQpO1xuICB9XG5cbiAgZmluYWxseShvbmZpbmFsbHk/OiAoKCkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuICh0aGlzLl9yZXN1bHQgPz89IHRoaXMuX2FjdGlvbigpKS5maW5hbGx5KG9uZmluYWxseSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTWF5YmVEZWZlcnJlZFByb21pc2U8VD4gPVxuICB8IChUICYgeyBpbml0aWFsaXplZD86IGJvb2xlYW4gfSlcbiAgfCBEZWZlcnJlZFByb21pc2U8VD47XG5cbi8qKlxuICogQSBwcm9taXNlIHRoYXQgaXMgaW5pdGlhbGl6ZWQgbGF6aWx5IG9uLWRlbWFuZC5cbiAqIEZvciBwcm9taXNlcyB0aGlzIGlzIG1vcmUgY29udmVuaWVudCB0aGFuIHtAbGluayBkZWZlcnJlZH0sIHNpbmNlIGl0IGp1c3QgcmV0dXJucyBhIHByb21pc2UgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgZGVmZXJyZWRQcm9taXNlID0gPFQ+KFxuICBleHByZXNzaW9uOiBXcmFwcGVkPE1heWJlUHJvbWlzZUxpa2U8VD4+XG4pOiBEZWZlcnJlZFByb21pc2U8VD4gPT4gbmV3IERlZmVycmVkUHJvbWlzZShhc3luYyAoKSA9PiB1bndyYXAoZXhwcmVzc2lvbikpO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RXJyb3IgPSAoZXJyb3I6IGFueSwgaW5jbHVkZVN0YWNrVHJhY2U/OiBib29sZWFuKTogc3RyaW5nID0+XG4gICFlcnJvclxuICAgID8gXCIodW5zcGVjaWZpZWQgZXJyb3IpXCJcbiAgICA6IGluY2x1ZGVTdGFja1RyYWNlICYmIGVycm9yLnN0YWNrXG4gICAgPyBgJHtmb3JtYXRFcnJvcihlcnJvciwgZmFsc2UpfVxcbiR7ZXJyb3Iuc3RhY2t9YFxuICAgIDogZXJyb3IubWVzc2FnZVxuICAgID8gYCR7ZXJyb3IubmFtZX06ICR7ZXJyb3IubWVzc2FnZX1gXG4gICAgOiBcIlwiICsgZXJyb3I7XG5cbmV4cG9ydCBjb25zdCB0cnlDYXRjaEFzeW5jID0gYXN5bmMgPFxuICBULFxuICBDLFxuICBFIGV4dGVuZHMgYm9vbGVhbiB8ICgoZXJyb3I6IGFueSkgPT4gTWF5YmVQcm9taXNlTGlrZTxDPiksXG4gIFQxID0gVFxuPihcbiAgZXhwcmVzc2lvbjogV3JhcHBlZDxNYXliZVByb21pc2VMaWtlPFQ+PixcbiAgZXJyb3JIYW5kbGVyOiBFID0gdHJ1ZSBhcyBhbnksXG4gIGFsd2F5cz86ICgpID0+IE1heWJlUHJvbWlzZUxpa2U8YW55PlxuKTogUHJvbWlzZTxUMSB8IChFIGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogQyk+ID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gKGF3YWl0IHVud3JhcChleHByZXNzaW9uKSkgYXMgYW55O1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFpc0Jvb2xlYW4oZXJyb3JIYW5kbGVyKSkge1xuICAgICAgcmV0dXJuIChhd2FpdCBlcnJvckhhbmRsZXIoZSkpIGFzIGFueTtcbiAgICB9IGVsc2UgaWYgKGVycm9ySGFuZGxlcikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgLy8gYGZhbHNlYCBtZWFucyBcImlnbm9yZVwiLlxuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgYWx3YXlzPy4oKTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBSZXRyeVNldHRpbmdzPEVycm9yUmVzdWx0ID0gbmV2ZXI+IHtcbiAgcmV0cmllcz86IG51bWJlcjtcbiAgcmV0cnlEZWxheT86IG51bWJlciB8ICgocmV0cnk6IG51bWJlcikgPT4gbnVtYmVyKTtcbiAgZXJyb3JGaWx0ZXI/OiAoZXJyb3I6IGFueSwgcmV0cnk6IG51bWJlcikgPT4gYm9vbGVhbiB8IHZvaWQ7XG4gIGVycm9ySGFuZGxlcj86IChlcnJvcjogYW55LCByZXRyeTogbnVtYmVyKSA9PiBNYXliZVByb21pc2VMaWtlPEVycm9yUmVzdWx0Pjtcbn1cbmV4cG9ydCBjb25zdCB3aXRoUmV0cnkgPSBhc3luYyA8VCwgRXJyb3JSZXN1bHQgPSBuZXZlcj4oXG4gIGFjdGlvbjogKHJldHJ5OiBudW1iZXIpID0+IE1heWJlUHJvbWlzZUxpa2U8VD4sXG4gIHtcbiAgICByZXRyaWVzID0gMyxcbiAgICByZXRyeURlbGF5ID0gMjAwLFxuICAgIGVycm9yRmlsdGVyLFxuICAgIGVycm9ySGFuZGxlcixcbiAgfTogUmV0cnlTZXR0aW5nczxFcnJvclJlc3VsdD4gPSB7fVxuKTogUHJvbWlzZTxUIHwgRXJyb3JSZXN1bHQ+ID0+IHtcbiAgaWYgKHJldHJpZXMgPD0gMCkge1xuICAgIHJldHJpZXMgPSAxO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0cmllczsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBhY3Rpb24oaSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpID09PSByZXRyaWVzIC0gMSB8fCBlcnJvckZpbHRlcj8uKGVycm9yLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGVycm9ySGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBlcnJvckhhbmRsZXIoZXJyb3IsIGkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgZGVsYXkoXG4gICAgICAgICAgdHlwZW9mIHJldHJ5RGVsYXkgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyByZXRyeURlbGF5KGkgKyAxKVxuICAgICAgICAgICAgOiByZXRyeURlbGF5ICogKDAuOCArIDAuNCAqIE1hdGgucmFuZG9tKCkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDAgYXMgbmV2ZXI7XG59O1xuXG4vKipcbiAqICBOby1vcCBmdW5jdGlvbiB0byB2YWxpZGF0ZSB0eXBlcyBpbiBUeXBlU2NyaXB0LiBCZWNhdXNlIGZ1bmN0aW9uIHBhcmFtZXRlcnMgYXJlIGNvbnRyYXZhcmlhbnQsIHBhc3NpbmcgYW4gZXZlbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCBvbiBhbGwgcHJvcGVydGllcyB3aWxsIGdldCByZWQgd2lnZ2x5IGxpbmVzKVxuICovXG5leHBvcnQgY29uc3QgcmVzdHJpY3Q6IHtcbiAgPFQ+KGl0ZW06IFQpOiBUO1xufSA9IChpdGVtOiBhbnkpID0+IGl0ZW0gYXMgYW55O1xuIiwiaW1wb3J0IHsgQWxsS2V5cywgRXh0ZW5kcywgTWF5YmVVbmRlZmluZWQsIHRyeUNhdGNoIH0gZnJvbSBcIi4uXCI7XG5cbi8qKlxuICogVGhlIEVDTUFTY3JpcHQgcHJpbWl0aXZlIHR5cGVzLlxuICovXG5leHBvcnQgdHlwZSBQcmltaXRpdmVzID1cbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgdm9pZFxuICB8IGJvb2xlYW5cbiAgfCBudW1iZXJcbiAgfCBiaWdpbnRcbiAgfCBzdHJpbmdcbiAgfCBzeW1ib2xcbiAgfCBEYXRlO1xuXG5leHBvcnQgdHlwZSBOb25Bc3luYyA9XG4gIHwgUHJpbWl0aXZlc1xuICB8IEl0ZXJhYmxlPGFueT5cbiAgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpXG4gIHwgU2ltcGxlT2JqZWN0O1xuXG4vKipcbiAqIENvbW1vbiBmdW5jdGlvbiB0eXBlIHVzZWQgZm9yIHByb2plY3Rpb24gb2YgW2tleSx2YWx1ZV0gZW50cmllcy5cbiAqL1xuZXhwb3J0IHR5cGUgS2V5VmFsdWVQcm9qZWN0aW9uPEssIFYsIFI+ID0gKFxuICBlbnRyeTogW2tleTogSywgdmFsdWU6IFZdLFxuICBpbmRleDogbnVtYmVyXG4pID0+IFI7XG5cbi8qKlxuICogQW55dGhpbmcgYnV0IGEgcHJvbWlzZS5cbiAqL1xuZXhwb3J0IHR5cGUgTm90UHJvbWlzZSA9IHsgdGhlbj86IG5ldmVyIH07XG5cbi8qKlxuICogQW55dGhpbmcgYnV0IGEgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIE5vdEZ1bmN0aW9uID1cbiAgfCBiaWdpbnRcbiAgfCBib29sZWFuXG4gIHwgbnVsbFxuICB8IG51bWJlclxuICB8IHN0cmluZ1xuICB8IHN5bWJvbFxuICB8IHVuZGVmaW5lZFxuICB8IHtcbiAgICAgIFtrZXk6IHN0cmluZyB8IG51bWJlciB8IHN5bWJvbF06IGFueTtcbiAgICAgIFtTeW1ib2wuaGFzSW5zdGFuY2VdPzogbmV2ZXI7XG4gICAgfTtcblxuLyoqIFNob3J0ZXIgdGhhbiB3cml0aW5nIGFsbCB0aGlzIG91dCwgYW5kIHNsaWdodGx5IGVhc2llciB0byByZWFkLiAqL1xuZXhwb3J0IHR5cGUgTnVsbGlzaCA9IG51bGwgfCB1bmRlZmluZWQ7XG5leHBvcnQgdHlwZSBDYXB0dXJlTnVsbGlzaDxQYXJhbWV0ZXIsIE51bGxzPiA9IChQYXJhbWV0ZXIgfCBOdWxsaXNoKSAmIE51bGxzO1xuZXhwb3J0IHR5cGUgTWF5YmVOdWxsaXNoPFJldHVyblR5cGUsIE51bGxzID0gUmV0dXJuVHlwZT4gPSBOdWxscyBleHRlbmRzIE51bGxpc2hcbiAgPyBOdWxsc1xuICA6IFJldHVyblR5cGU7XG5cbmV4cG9ydCB0eXBlIFByb21pc2VJZlByb21pc2VMaWtlPFxuICBWYWx1ZSxcbiAgUGFyYW1ldGVyVmFsdWUgPSBWYWx1ZVxuPiA9IFBhcmFtZXRlclZhbHVlIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PlxuICA/IFByb21pc2U8VW53cmFwUHJvbWlzZUxpa2U8VmFsdWU+PlxuICA6IFZhbHVlO1xuXG5leHBvcnQgY29uc3QgaXNUcnVpc2ggPSA8VD4odmFsdWU6IFQpOiB2YWx1ZSBpcyBFeGNsdWRlPFQsIEZhbHNpc2g+ID0+ICEhdmFsdWU7XG5leHBvcnQgY29uc3QgaXNUcnVlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyB0cnVlID0+IHZhbHVlID09PSBUO1xuZXhwb3J0IGNvbnN0IGlzTm90VHJ1ZSA9IDxUPih2YWx1ZTogVCk6IHZhbHVlIGlzIEV4Y2x1ZGU8VCwgdHJ1ZT4gPT5cbiAgdmFsdWUgIT09IFQ7XG5cbmV4cG9ydCB0eXBlIEZhbHNpc2ggPSB2b2lkIHwgbnVsbCB8IHVuZGVmaW5lZCB8IDAgfCBcIlwiIHwgZmFsc2U7XG5leHBvcnQgdHlwZSBDYXB0dXJlRmFsc2lzaDxQYXJhbWV0ZXIsIE51bGxzPiA9IChQYXJhbWV0ZXIgfCBGYWxzaXNoKSAmIE51bGxzO1xuZXhwb3J0IHR5cGUgTWF5YmVGYWxzaXNoPFxuICBSZXR1cm5UeXBlLFxuICBWYWx1ZSA9IFJldHVyblR5cGVcbj4gPSBSZXR1cm5UeXBlIGV4dGVuZHMgRmFsc2lzaFxuICA/IFJldHVyblR5cGUgZXh0ZW5kcyBOdWxsaXNoXG4gICAgPyBSZXR1cm5UeXBlXG4gICAgOiB1bmRlZmluZWRcbiAgOiBWYWx1ZTtcblxuZXhwb3J0IHR5cGUgTnVsbGlzaE9yRmFsc2UgPSB2b2lkIHwgbnVsbCB8IHVuZGVmaW5lZCB8IGZhbHNlO1xuZXhwb3J0IHR5cGUgQ2FwdHVyZU51bGxpc2hPckZhbHNlPFBhcmFtZXRlciwgTnVsbHM+ID0gKFxuICB8IFBhcmFtZXRlclxuICB8IE51bGxpc2hPckZhbHNlXG4pICZcbiAgTnVsbHM7XG5cbmV4cG9ydCB0eXBlIE1heWJlTnVsbGlzaE9yRmFsc2U8XG4gIFJldHVyblR5cGUsXG4gIFBhcmFtZXRlciA9IFJldHVyblR5cGVcbj4gPSBQYXJhbWV0ZXIgZXh0ZW5kcyBOdWxsaXNoT3JGYWxzZVxuICA/IFBhcmFtZXRlciBleHRlbmRzIE51bGxpc2hcbiAgICA/IFBhcmFtZXRlclxuICAgIDogdW5kZWZpbmVkXG4gIDogUmV0dXJuVHlwZTtcblxuLyoqIEEgcmVjb3JkIHR5cGUgdGhhdCBpcyBuZWl0aGVyIGl0ZXJhYmxlIG9yIGEgZnVuY3Rpb24uICovXG5leHBvcnQgdHlwZSBTaW1wbGVPYmplY3Q8SyBleHRlbmRzIGtleW9mIGFueSA9IGtleW9mIGFueSwgViA9IGFueT4gPSBvYmplY3QgJiB7XG4gIHJlYWRvbmx5IFtQIGluIEtdPzogVjtcbn0gJiB7XG4gIFtTeW1ib2wuaXRlcmF0b3JdPzogbmV2ZXI7XG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0/OiBuZXZlcjtcbiAgW1N5bWJvbC5oYXNJbnN0YW5jZV0/OiBuZXZlcjtcblxuICB0aGVuPyhcbiAgICBvbmZ1bGZpbGxlZD86ICgodmFsdWU6IGFueSkgPT4gYW55KSB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICAgb25yZWplY3RlZD86ICgocmVhc29uOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQgfCBudWxsXG4gICk6IG5ldmVyO1xufTtcblxuZXhwb3J0IHR5cGUgVW53cmFwUHJvbWlzZUxpa2U8VD4gPSBUIGV4dGVuZHMgUHJvbWlzZUxpa2U8aW5mZXIgVD5cbiAgPyBVbndyYXBQcm9taXNlTGlrZTxUPlxuICA6IFQ7XG5cbmV4cG9ydCB0eXBlIE1heWJlUHJvbWlzZUxpa2U8VD4gPSBUIHwgUHJvbWlzZUxpa2U8VD47XG5cbmV4cG9ydCB0eXBlIE1heWJlUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuXG4vKipcbiAqIFNob3J0aGFuZCBmb3IgYSB2YWx1ZSB0aGF0IGlzIG9wdGlvbmFsbHkgYXdhaXRhYmxlLlxuICovXG5leHBvcnQgdHlwZSBUb2dnbGVQcm9taXNlPFQsIFRvZ2dsZSA9IGJvb2xlYW4+ID0gVG9nZ2xlIGV4dGVuZHNcbiAgfCB0cnVlXG4gIHwgUHJvbWlzZUxpa2U8YW55PlxuICA/IFQgZXh0ZW5kcyBQcm9taXNlTGlrZTxhbnk+XG4gICAgPyBUXG4gICAgOiBQcm9taXNlTGlrZTxUPlxuICA6IFQgZXh0ZW5kcyBQcm9taXNlTGlrZTxpbmZlciBUPlxuICA/IFVud3JhcFByb21pc2VMaWtlPFQ+XG4gIDogVDtcblxuLyoqXG4gKiBUcmljayBmb3IgaGF2aW5nIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgbm9uLW51bGwgdmFsdWUsIGlmIGEgZm9ybWFsIHBhcmFtZXRlciBhbHdheXMgaGFzIGEgbm9uLW51bGwgdmFsdWUsXG4gKiBzaW1pbGFyIHRvIC5ORVQncyBbTm90TnVsbElmTm90TnVsbF0uXG4gKlxuICogSWYgdGhlIGFjdHVhbCBwYXJhbWV0ZXIgY2FuIGhhdmUgYSBudWxsIG9yIHVuZGVmaW5lZCB2YWx1ZSB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgaW5jbHVkZSB0aGVzZSBvcHRpb25zLlxuICpcbiAqIGBmdW5jdGlvbiBleGFtcGxlPFQsQT4oYXJnOiAoVHxudWxsfHVuZGVmaW5lZCkmQSk6IHN0cmluZyB8IE51bGw8QT4gey4uLn1gXG4gKiBgZXhhbXBsZSg4MClgIHJldHVybnMgYHN0cmluZ2BcbiAqICBgY29uc3QgeDogbnVtYmVyfG51bGw7IGV4YW1wbGUoeClgIHJldHVybnMgYHN0cmluZ3xudWxsYC5cbiAqXG4gKiBUaGVyZSBjYW4gYWxzbyBiZSBhIFwibnVsbFwiIGRlZmF1bHQgKHNvIGFsbCBOdWxsJ2lzaCB2YWx1ZXMgbWFwcyB0byBvbmUgdmFsdWUpLiBJZiB0aGUgZnVuY3Rpb24gYWJvdmUgcmV0dXJuZWQgYHN0cmluZyB8IE51bGw8VCx1bmRlZmluZWQ+YCwgdGhlblxuICogYGV4YW1wbGUoeClgIHJldHVybnMgYHN0cmluZ3x1bmRlZmluZWRgLlxuICpcbiAqIEBvYnNvbGV0ZVxuICovXG5leHBvcnQgdHlwZSBOdWxsczxULCBOdWxsTGV2ZWxzID0gbnVsbCB8IHVuZGVmaW5lZD4gPSBUIGV4dGVuZHNcbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gIHwgdm9pZFxuICA/IFQgZXh0ZW5kcyBOdWxsTGV2ZWxzIHwgdm9pZFxuICAgID8gVCAmIE51bGxMZXZlbHNcbiAgICA6IE51bGxMZXZlbHNcbiAgOiBuZXZlcjtcblxuLyoqIElmIGFueSB0eXBlIGluIGEgdW5pb24gaGFzIGEgdmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB0aGF0IGNhbm5vdCBiZSBudWxsJ2lzaC4qL1xuZXhwb3J0IHR5cGUgSGFzUmVxdWlyZWRQcm9wZXJ0eTxULCBQPiA9IHRydWUgZXh0ZW5kcyAoXG4gIFQgZXh0ZW5kcyBpbmZlciBUXG4gICAgPyB0cnVlIGV4dGVuZHMgRXh0ZW5kczxcbiAgICAgICAgTnVsbGlzaCxcbiAgICAgICAga2V5b2YgVCBleHRlbmRzIFAgPyBUW1AgJiBrZXlvZiBUXSA6IFAgZXh0ZW5kcyBrZXlvZiBUID8gVFtQXSA6IG5ldmVyXG4gICAgICA+XG4gICAgICA/IGZhbHNlXG4gICAgICA6IHRydWVcbiAgICA6IG5ldmVyXG4pXG4gID8gdHJ1ZVxuICA6IGZhbHNlO1xuXG5leHBvcnQgdHlwZSBJZk5ldmVyPFQsIERlZmF1bHQ+ID0gW1RdIGV4dGVuZHMgW25ldmVyXSA/IERlZmF1bHQgOiBUO1xuZXhwb3J0IHR5cGUgSWZOb3ROZXZlcjxUZXN0LCBWYWx1ZSwgRGVmYXVsdCA9IG5ldmVyPiA9IFtUZXN0XSBleHRlbmRzIFtuZXZlcl1cbiAgPyBEZWZhdWx0XG4gIDogVmFsdWU7XG5cbmV4cG9ydCB0eXBlIEZpbHRlcjxULCBGaWx0ZXJUeXBlcywgRGVmYXVsdCA9IG5ldmVyPiA9IElmTmV2ZXI8XG4gIFQgZXh0ZW5kcyBpbmZlciBUID8gKFQgZXh0ZW5kcyBGaWx0ZXJUeXBlcyA/IFQgOiBuZXZlcikgOiBuZXZlcixcbiAgRGVmYXVsdFxuPjtcblxuLyoqIFJldHVybnMgdGhlIHR5cGUgb2YgYSBwcm9wZXJ0eSBmb3IgZWFjaCB0eXBlIGluIGEgdW5pb24gd2hlbiB0aGUgdHlwZSBoYXMgdGhlIGdpdmVuIHByb3BlcnR5LiAqL1xuZXhwb3J0IHR5cGUgUHJvcGVydHk8VCwgUD4gPSBUIGV4dGVuZHMgaW5mZXIgVFxuICA/IGtleW9mIFQgZXh0ZW5kcyBQXG4gICAgPyBUW1AgJiBrZXlvZiBUXVxuICAgIDogUCBleHRlbmRzIGtleW9mIFRcbiAgICA/IFRbUF1cbiAgICA6IG5ldmVyXG4gIDogbmV2ZXI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0eXBlIHdoZXJlIHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGZyb20gYW55IG9mIHRoZSBzcGVjaWZpZWQgdHlwZXMuXG4gKiBUaGlzIGNhbiBtYWtlIGxpZmUgZWFzaWVyIGZvciBjb2RlIHdvcmtpbmcgd2l0aCBwb2x5bW9ycGhpYyB0eXBlcy5cbiAqL1xuXG5leHBvcnQgdHlwZSBDb21tb25UeXBlVGVtcGxhdGU8VHM+ID0ge1xuICBbUCBpbiBBbGxLZXlzPFRzPl0/OiBUcyBleHRlbmRzIGluZmVyIFRcbiAgICA/IFAgZXh0ZW5kcyBrZXlvZiBUXG4gICAgICA/IFRbUF1cbiAgICAgIDogbmV2ZXJcbiAgICA6IG5ldmVyO1xufTtcblxuLyoqXG4gKiBNYXBzIGFsbCBudWxsJ2lzaCB0eXBlcyB0byBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IHR5cGUgVW5kZWZpbmVkPFQ+ID0gVCBleHRlbmRzIE51bGxpc2ggfCB2b2lkID8gdW5kZWZpbmVkIDogVDtcblxuZXhwb3J0IHR5cGUgRXhwYW5kVHlwZXM8XG4gIFRzLFxuICBDb21tb24gPSBDb21tb25UeXBlVGVtcGxhdGU8VHM+XG4+ID0gVHMgZXh0ZW5kcyBpbmZlciBUXG4gID8ge1xuICAgICAgW1AgaW4ga2V5b2YgQ29tbW9uXTogUCBleHRlbmRzIGtleW9mIFQgPyBUW1BdIDogQ29tbW9uW1BdO1xuICAgIH1cbiAgOiBuZXZlcjtcblxuLyogSlNPTiAqL1xuXG4vKiogTWVyZ2VzIHByb3BlcnRpZXMgaW4gYSB1bmlvbiB3aGljaCBtYWtlcyBpdCBsb29rIHByZXR0aWVyIGluIEludGVsbGlzZW5zZS4gKi9cbmV4cG9ydCB0eXBlIFByZXR0eTxUPiA9IFQgZXh0ZW5kcyBpbmZlciBUID8geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB9IDogbmV2ZXI7XG5cbi8qKlxuICogVXNlIGZvciBmdW5jdGlvbiBwYXJhbWV0ZXJzIHdoZXJlIHlvdSB3YW50IGFuIGFycmF5IHRvIGJlIGludGVycHJldGVkIGFzIGFzIHR1cGxlIHdpdGggYSBmaW5pdGUgbnVtYmVyIG9mIGVsZW1lbnRzLlxuICpcbiAqIEJ5IHN1Z2dlc3RpbmcgYSBwYXJhbWV0ZXIgbWF5IGJlIGEgb25lLXR1cGxlLCBUeXBlU2NyaXB0IHdpbGwgdHJlYXQgdGhlIGFyZ3VtZW50IGFzIGEgdHVwbGUsXG4gKiBhbHNvIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCB0eXBlIFR1cGxlUGFyYW1ldGVyPFQ+ID0gcmVhZG9ubHkgVFtdIHwgcmVhZG9ubHkgW1RdO1xuXG4vKiogTWluaWZ5IGZyaWVuZGx5IHZlcnNpb24gb2YgYGZhbHNlYC4gKi9cbmV4cG9ydCBjb25zdCB1bmRlZmluZWQgPSB2b2lkIDA7XG5cbi8qKiBDYWNoaW5nIHRoaXMgdmFsdWUgcG90ZW50aWFsbHkgc3BlZWRzIHVwIHRlc3RzIHJhdGhlciB0aGFuIHVzaW5nIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuICovXG5leHBvcnQgY29uc3QgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4vKiogQ2FjaGluZyB0aGlzIHZhbHVlIHBvdGVudGlhbGx5IHNwZWVkcyB1cCB0ZXN0cyByYXRoZXIgdGhhbiB1c2luZyBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLiAqL1xuZXhwb3J0IGNvbnN0IE1JTl9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjtcblxuLyoqIE1pbmlmeSBmcmllbmRseSB2ZXJzaW9uIG9mIGBmYWxzZWAuICovXG5leHBvcnQgY29uc3QgRiA9IGZhbHNlO1xuXG4vKiogTWluaWZ5IGZyaWVuZGx5IHZlcnNpb24gb2YgYHRydWVgLiAqL1xuZXhwb3J0IGNvbnN0IFQgPSB0cnVlO1xuXG4vKiogTWluaWZ5IGZyaWVuZGx5IHZlcnNpb24gb2YgYG51bGxgLiAqL1xuZXhwb3J0IGNvbnN0IG5pbCA9IG51bGw7XG5cbmV4cG9ydCB0eXBlIE5vT3BGdW5jdGlvbiA9ICguLi5hcmdzOiBhbnkpID0+IHZvaWQ7XG5cbi8qKiBBIGZ1bmN0aW9uIHRoYXQgZG9lcyBub3RoaW5nLiAqL1xuZXhwb3J0IGNvbnN0IE5PT1A6IE5vT3BGdW5jdGlvbiA9ICgpID0+IHt9O1xuXG5leHBvcnQgdHlwZSBJZGVudGl0eUZ1bmN0aW9uID0gPFQ+KGl0ZW06IFQsIC4uLmFyZ3M6IGFueSkgPT4gVDtcblxuLyoqIFRoZSBpZGVudGl0eSBmdW5jdGlvbiAoeCk9PnguICovXG5leHBvcnQgY29uc3QgSURFTlRJVFk6IElkZW50aXR5RnVuY3Rpb24gPSAoaXRlbTogYW55KSA9PiBpdGVtO1xuXG5leHBvcnQgdHlwZSBOdWxsRmlsdGVyRnVuY3Rpb24gPSA8VD4oaXRlbTogVCB8IE51bGxpc2gpID0+IGJvb2xlYW47XG5cbi8qKiBBIGZ1bmN0aW9uIHRoYXQgZmlsdGVycyBvdXQgdmFsdWVzICE9IG51bGwuICovXG5leHBvcnQgY29uc3QgRklMVEVSX05VTExJU0g6IE51bGxGaWx0ZXJGdW5jdGlvbiA9IChpdGVtOiBhbnkpID0+IGl0ZW0gIT0gbmlsO1xuXG5leHBvcnQgY29uc3QgTlVMTCA9IDA7XG5leHBvcnQgY29uc3QgVU5ERUZJTkVEID0gMTtcbmV4cG9ydCBjb25zdCBCT09MRUFOID0gMjtcbmV4cG9ydCBjb25zdCBOVU1CRVIgPSAzO1xuZXhwb3J0IGNvbnN0IEJJR0lOVCA9IDQ7XG5leHBvcnQgY29uc3QgU1RSSU5HID0gNTtcbmV4cG9ydCBjb25zdCBBUlJBWSA9IDY7XG5leHBvcnQgY29uc3QgT0JKRUNUID0gNztcbmV4cG9ydCBjb25zdCBEQVRFID0gODtcbmV4cG9ydCBjb25zdCBTWU1CT0wgPSA5O1xuZXhwb3J0IGNvbnN0IEZVTkNUSU9OID0gMTA7XG5leHBvcnQgY29uc3QgSVRFUkFCTEUgPSAxMTtcbmV4cG9ydCBjb25zdCBNQVAgPSAxMjtcbmV4cG9ydCBjb25zdCBTRVQgPSAxMztcbmV4cG9ydCBjb25zdCBQUk9NSVNFID0gMTQ7XG5cbmNvbnN0IFQxID0ge1xuICBbXCJuXCJdOiBOVU1CRVIsXG4gIFtcImZcIl06IEZVTkNUSU9OLFxufTtcbmNvbnN0IFQyID0ge1xuICBbXCJvXCJdOiBCT09MRUFOLFxuICBbXCJpXCJdOiBCSUdJTlQsXG4gIFtcInRcIl06IFNUUklORyxcbiAgW1wieVwiXTogU1lNQk9MLFxufTtcblxuZXhwb3J0IHR5cGUgVHlwZVRlc3RlcjxUPiA9ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBUO1xuZXhwb3J0IHR5cGUgVHlwZUNvbnZlcnRlcjxUPiA9IDxWLCBQIGV4dGVuZHMgYm9vbGVhbiA9IHRydWU+KFxuICB2YWx1ZTogVixcbiAgcGFyc2U/OiBQXG4pID0+IFQgZXh0ZW5kcyBOdWxsaXNoXG4gID8gdW5kZWZpbmVkXG4gIDogViBleHRlbmRzIFRcbiAgPyBWXG4gIDogKHRydWUgZXh0ZW5kcyBQID8gVCA6IG5ldmVyKSB8IHVuZGVmaW5lZDtcblxuLyoqIFVzaW5nIHRoaXMgY2FjaGVkIHZhbHVlIHNwZWVkcyB1cCB0ZXN0aW5nIGlmIGFuIG9iamVjdCBpcyBpdGVyYWJsZSBzZWVtaW5nbHkgYnkgYW4gb3JkZXIgb2YgbWFnbml0dWRlLiAqL1xuZXhwb3J0IGNvbnN0IHN5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuXG4vKiogVXNpbmcgdGhpcyBjYWNoZWQgdmFsdWUgc3BlZWRzIHVwIHRlc3RpbmcgaWYgYW4gb2JqZWN0IGlzIGl0ZXJhYmxlIHNlZW1pbmdseSBieSBhbiBvcmRlciBvZiBtYWduaXR1ZGUuICovXG5leHBvcnQgY29uc3Qgc3ltYm9sQXN5bmNJdGVyYXRvciA9IFN5bWJvbC5hc3luY0l0ZXJhdG9yO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVHlwZUNvbnZlcnRlciA9XG4gIC8qI19fUFVSRV9fKi9cblxuICAgIDxUPihcbiAgICAgIHR5cGVUZXN0ZXI6IFR5cGVUZXN0ZXI8VD4sXG4gICAgICBwYXJzZXI/OiAodmFsdWU6IGFueSkgPT4gVCB8IHVuZGVmaW5lZFxuICAgICk6IFR5cGVDb252ZXJ0ZXI8VD4gPT5cbiAgICAodmFsdWU6IGFueSwgcGFyc2UgPSB0cnVlIGFzIGFueSkgPT5cbiAgICAgIHR5cGVUZXN0ZXIodmFsdWUpXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiBwYXJzZXIgJiYgcGFyc2UgJiYgdmFsdWUgIT0gbnVsbCAmJiAodmFsdWUgPSBwYXJzZXIodmFsdWUpKSAhPSBudWxsXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiAodW5kZWZpbmVkIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCBpZkRlZmluZWQgPSA8VCwgUCwgUj4oXG4gIHZhbHVlOiBULFxuICByZXN1bHRPclByb3BlcnR5OiAoXG4gICAgfCAoQWxsS2V5czxUPiAmIChrZXlvZiBhbnkgJiB7fSkpXG4gICAgfCAoKHZhbHVlOiBFeGNsdWRlPFQsIE51bGxpc2g+KSA9PiBSKVxuICApICZcbiAgICBQXG4pOiBNYXliZVVuZGVmaW5lZDxULCBQIGV4dGVuZHMga2V5b2YgYW55ID8gRXhjbHVkZTxULCBOdWxsaXNoPiA6IFI+ID0+XG4gIGlzRnVuY3Rpb24ocmVzdWx0T3JQcm9wZXJ0eSlcbiAgICA/IHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgID8gKHJlc3VsdE9yUHJvcGVydHkodmFsdWUgYXMgYW55KSBhcyBhbnkpXG4gICAgICA6IHVuZGVmaW5lZFxuICAgIDogdmFsdWU/LltyZXN1bHRPclByb3BlcnR5IGFzIGFueV0gIT09IHVuZGVmaW5lZFxuICAgID8gdmFsdWVcbiAgICA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGlzTnVsbGlzaCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgdW5kZWZpbmVkIHwgdm9pZCB8IG51bGwgPT5cbiAgdmFsdWUgPT0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IGlzQm9vbGVhbiA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgYm9vbGVhbiA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiO1xuXG5leHBvcnQgY29uc3QgcGFyc2VCb29sZWFuID0gY3JlYXRlVHlwZUNvbnZlcnRlcihpc0Jvb2xlYW4sICh2YWx1ZSkgPT5cbiAgdmFsdWUgPT0gMCAvLyBCb3RoIG51bWJlcnMgYW5kIHN0cmluZyB3aXRoIHRoZSB2YWx1ZSAwIG9yIDFcbiAgICA/IGZhbHNlXG4gICAgOiB2YWx1ZSA9PSAxXG4gICAgPyB0cnVlXG4gICAgOiB2YWx1ZSA9PT0gXCJmYWxzZVwiXG4gICAgPyBmYWxzZVxuICAgIDogdmFsdWUgPT09IFwidHJ1ZVwiXG4gICAgPyB0cnVlXG4gICAgOiB1bmRlZmluZWRcbik7XG5cbmV4cG9ydCB0eXBlIEZhbHNpc2hUb1VuZGVmaW5lZDxcbiAgVCxcbiAgVW5kZWZpbmVkID0gdW5kZWZpbmVkXG4+ID0gVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdXG4gID8geyBbUCBpbiBrZXlvZiBUXTogRmFsc2lzaFRvVW5kZWZpbmVkPFRbUF0+IH1cbiAgOiBUIGV4dGVuZHMgRmFsc2lzaFxuICA/IFVuZGVmaW5lZFxuICA6IFQ7XG5cbmV4cG9ydCBjb25zdCBpc0ZhbHNpc2ggPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEZhbHNpc2ggPT4gIXZhbHVlO1xuXG5leHBvcnQgY29uc3QgaXNGYWxzZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgZmFsc2UgPT4gdmFsdWUgPT09IEY7XG5leHBvcnQgY29uc3QgaXNOb3RGYWxzZSA9IDxUPih2YWx1ZTogVCk6IHZhbHVlIGlzIEV4Y2x1ZGU8VCwgZmFsc2U+ID0+XG4gIHZhbHVlICE9PSBGO1xuXG5leHBvcnQgY29uc3QgdHJ1aXNoOiB7XG4gIDxUPihpdGVtczogSXRlcmFibGU8VCB8IEZhbHNpc2g+LCBrZWVwVW5kZWZpbmVkPzogZmFsc2UpOiBUW107XG4gIDxUPihpdGVtczogSXRlcmFibGU8VD4sIGtlZXBVbmRlZmluZWQ6IHRydWUpOiAoVCBleHRlbmRzIEZhbHNpc2hcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogVClbXTtcbiAgPFQgZXh0ZW5kcyB7IFtTeW1ib2wuaXRlcmF0b3JdPzogbmV2ZXIgfSB8IHN0cmluZz4oXG4gICAgdmFsdWU6IFQgfCBGYWxzaXNoXG4gICk6IFQgZXh0ZW5kcyBGYWxzaXNoID8gdW5kZWZpbmVkIDogRXhjbHVkZTxULCBGYWxzaXNoPjtcbn0gPSAodmFsdWU6IGFueSwga2VlcFVuZGVmaW5lZD86IGJvb2xlYW4pID0+XG4gIGlzQXJyYXkodmFsdWUpXG4gICAgPyBrZWVwVW5kZWZpbmVkXG4gICAgICA/IHZhbHVlLm1hcCgoaXRlbSkgPT4gKCEhaXRlbSA/IGl0ZW0gOiB1bmRlZmluZWQpKVxuICAgICAgOiB2YWx1ZS5maWx0ZXIoKGl0ZW06IGFueSkgPT4gISFpdGVtKVxuICAgIDogISF2YWx1ZVxuICAgID8gKHZhbHVlIGFzIGFueSlcbiAgICA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGlzSW50ZWdlcjogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIG51bWJlciA9XG4gIE51bWJlci5pc1NhZmVJbnRlZ2VyIGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IGlzTnVtYmVyID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBudW1iZXIgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiO1xuXG5leHBvcnQgY29uc3QgaXNGaW5pdGU6ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBudW1iZXIgPSBOdW1iZXIuaXNGaW5pdGUgYXMgYW55O1xuXG5leHBvcnQgY29uc3QgcGFyc2VOdW1iZXIgPSBjcmVhdGVUeXBlQ29udmVydGVyKGlzTnVtYmVyLCAodmFsdWUpID0+XG4gIGlzTmFOKCh2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpKSkgPyB1bmRlZmluZWQgOiB2YWx1ZVxuKTtcblxuZXhwb3J0IGNvbnN0IGlzQmlnSW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBiaWdpbnQgPT5cbiAgdHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiO1xuXG5leHBvcnQgY29uc3QgcGFyc2VCaWdJbnQgPSBjcmVhdGVUeXBlQ29udmVydGVyKGlzQmlnSW50LCAodmFsdWUpID0+XG4gIHRyeUNhdGNoKCgpID0+IEJpZ0ludCh2YWx1ZSkpXG4pO1xuXG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIHN0cmluZyA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG5cbmV4cG9ydCBjb25zdCB0b1N0cmluZyA9IGNyZWF0ZVR5cGVDb252ZXJ0ZXIoaXNTdHJpbmcsICh2YWx1ZSkgPT5cbiAgdmFsdWU/LnRvU3RyaW5nKClcbik7XG5cbmV4cG9ydCBjb25zdCBpc0FycmF5OiA8VD4oXG4gIHZhbHVlOiByZWFkb25seSBhbnlbXSB8IFRcbikgPT4gdmFsdWUgaXMgVCBleHRlbmRzIGFueVtdXG4gID8gYW55W11cbiAgOiB1bmtub3duIGV4dGVuZHMgVFxuICA/IGFueVtdXG4gIDogcmVhZG9ubHkgYW55W10gPSBBcnJheS5pc0FycmF5IGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IGlzRXJyb3IgPSAvKiNfX1BVUkVfXyovICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRXJyb3IgPT5cbiAgdmFsdWUgaW5zdGFuY2VvZiBFcnJvcjtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBhcyBhbiBhcnJheSBmb2xsb3dpbmcgdGhlc2UgcnVsZXM6XG4gKiAtIElmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQgKHRoaXMgZG9lcyBub3QgaW5jbHVkZSBgbnVsbGApLCBzbyBpcyB0aGUgcmV0dXJuIHZhbHVlLlxuICogLSBJZiB0aGUgdmFsdWUgaXMgYWxyZWFkeSBhbiBhcnJheSBpdHMgb3JpZ2luYWwgdmFsdWUgaXMgcmV0dXJuZWQgdW5sZXNzIGBjbG9uZWAgaXMgdHJ1ZS4gSW4gdGhhdCBjYXNlIGEgY29weSBvZiB0aGUgdmFsdWUgaXMgcmV0dXJuZWQuXG4gKiAtIElmIHRoZSB2YWx1ZSBpcyBpdGVyYWJsZSwgYW4gYXJyYXkgY29udGFpbmluZyBpdHMgdmFsdWVzIGlzIHJldHVybmVkXG4gKiAtIE90aGVyd2lzZSwgYW4gYXJyYXkgd2l0aCB0aGUgdmFsdWUgYXMgaXRzIHNpbmdsZSBpdGVtIGlzIHJldHVybmVkLlxuICovXG5leHBvcnQgY29uc3QgYXJyYXk6IHtcbiAgLy8gPFQ+KHZhbHVlOiBBc3luY0l0ZXJhYmxlPFQ+LCBjbG9uZT86IGJvb2xlYW4pOiBNYXliZVVuZGVmaW5lZDxcbiAgLy8gICBbVF1bMF0sXG4gIC8vICAgUHJvbWlzZTxUW10+XG4gIC8vID47XG4gIDxUPih2YWx1ZTogVCwgY2xvbmU/OiBib29sZWFuKTogVCBleHRlbmRzIGFueVxuICAgID8gdW5rbm93bltdIGV4dGVuZHMgVFxuICAgICAgPyBhbnlbXVxuICAgICAgOiBUIGV4dGVuZHMgTnVsbGlzaFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIEl0ZW0+XG4gICAgICA/IFQgZXh0ZW5kcyBJdGVtW11cbiAgICAgICAgPyBUXG4gICAgICAgIDogSXRlbVtdXG4gICAgICA6IFRbXVxuICAgIDogbmV2ZXI7XG59ID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSwgY2xvbmUgPSBmYWxzZSBhcyBhbnkpOiBhbnkgPT5cbiAgdmFsdWUgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAhY2xvbmUgJiYgaXNBcnJheSh2YWx1ZSlcbiAgICA/IHZhbHVlXG4gICAgOiBpc0l0ZXJhYmxlKHZhbHVlKVxuICAgID8gWy4uLnZhbHVlXVxuICAgIDogKFt2YWx1ZV0gYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IGlzT2JqZWN0ID0gLyojX19QVVJFX18qLyAoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzIG9iamVjdCAmIFJlY29yZDxhbnksIGFueT4gPT4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xuXG5leHBvcnQgY29uc3QgaXNQbGFpbk9iamVjdCA9IC8qI19fUFVSRV9fKi8gKFxuICB2YWx1ZTogYW55XG4pOiB2YWx1ZSBpcyBTaW1wbGVPYmplY3Q8a2V5b2YgYW55LCBhbnk+ID0+IHZhbHVlPy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuXG5leHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSAvKiNfX1BVUkVfXyovIDxQIGV4dGVuZHMga2V5b2YgYW55PihcbiAgdmFsdWU6IGFueSxcbiAgcHJvcGVydHk6IFBcbik6IHZhbHVlIGlzIHsgW1Byb3AgaW4gUF06IGFueSB9ID0+IGlzT2JqZWN0KHZhbHVlKSAmJiBwcm9wZXJ0eSBpbiB2YWx1ZTtcblxuZXhwb3J0IGNvbnN0IGhhc01ldGhvZHMgPSAvKiNfX1BVUkVfXyovIDxOYW1lcyBleHRlbmRzIHJlYWRvbmx5IChrZXlvZiBhbnkpW10+KFxuICB2YWx1ZTogYW55LFxuICAuLi5uYW1lczogTmFtZXNcbik6IHZhbHVlIGlzIHtcbiAgW1AgaW4gTmFtZXNbbnVtYmVyXV06ICguLi5hcmdzOiBhbnkpID0+IGFueTtcbn0gPT5cbiAgdmFsdWUgPT0gbnVsbFxuICAgID8gZmFsc2VcbiAgICA6IG5hbWVzLmV2ZXJ5KChuYW1lKSA9PiB0eXBlb2YgdmFsdWVbbmFtZV0gPT09IFwiZnVuY3Rpb25cIik7XG5cbmV4cG9ydCBjb25zdCBoYXNNZXRob2QgPSAvKiNfX1BVUkVfXyovIDxOYW1lIGV4dGVuZHMga2V5b2YgYW55PihcbiAgdmFsdWU6IGFueSxcbiAgbmFtZTogTmFtZVxuKTogdmFsdWUgaXMge1xuICBbUCBpbiBOYW1lXTogKC4uLmFyZ3M6IGFueSkgPT4gYW55O1xufSA9PiB0eXBlb2YgKHZhbHVlIGFzIGFueSk/LltuYW1lXSA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgY29uc3QgaXNEYXRlID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSk6IHZhbHVlIGlzIERhdGUgPT5cbiAgdmFsdWUgaW5zdGFuY2VvZiBEYXRlO1xuZXhwb3J0IGNvbnN0IHBhcnNlRGF0ZSA9IGNyZWF0ZVR5cGVDb252ZXJ0ZXIoaXNEYXRlLCAodmFsdWUpID0+XG4gIGlzTmFOKCh2YWx1ZSA9IERhdGUucGFyc2UodmFsdWUpKSkgPyB1bmRlZmluZWQgOiB2YWx1ZVxuKTtcblxuZXhwb3J0IGNvbnN0IGlzU3ltYm9sID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSk6IHZhbHVlIGlzIHN5bWJvbCA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwic3ltYm9sXCI7XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gLyojX19QVVJFX18qLyAoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzICguLi5hcmdzOiBhbnkpID0+IGFueSA9PiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIjtcblxuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZUxpa2UgPSAvKiNfX1BVUkVfXyovIChcbiAgdmFsdWU6IGFueVxuKTogdmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55PiA9PiAhIXZhbHVlPy5bXCJ0aGVuXCJdO1xuXG5leHBvcnQgY29uc3QgaXNJdGVyYWJsZSA9IC8qI19fUFVSRV9fKi8gKFxuICB2YWx1ZTogYW55LFxuICBhY2NlcHRTdHJpbmdzID0gZmFsc2Vcbik6IHZhbHVlIGlzIEl0ZXJhYmxlPGFueT4gPT5cbiAgISEodmFsdWU/LltzeW1ib2xJdGVyYXRvcl0gJiYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiB8fCBhY2NlcHRTdHJpbmdzKSk7XG5cbmV4cG9ydCBjb25zdCBpc0FzeW5jSXRlcmFibGUgPSAvKiNfX1BVUkVfXyovIChcbiAgdmFsdWU6IGFueVxuKTogdmFsdWUgaXMgQXN5bmNJdGVyYWJsZTxhbnk+ID0+ICEhdmFsdWU/LltzeW1ib2xBc3luY0l0ZXJhdG9yXTtcblxuZXhwb3J0IGNvbnN0IHRvSXRlcmFibGUgPSAvKiNfX1BVUkVfXyovIDxUPihcbiAgdmFsdWU6IFQgfCBJdGVyYWJsZTxUPlxuKTogSXRlcmFibGU8VD4gPT4gKGlzSXRlcmFibGUodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdKTtcblxuZXhwb3J0IGNvbnN0IGFzTWFwOiA8VCBleHRlbmRzIEl0ZXJhYmxlPHJlYWRvbmx5IFthbnksIGFueV0+IHwgTnVsbGlzaD4oXG4gIHZhbHVlczogVFxuKSA9PiBUIGV4dGVuZHMgSXRlcmFibGU8cmVhZG9ubHkgW2luZmVyIEtleSwgaW5mZXIgVmFsdWVdPlxuICA/IE1hcDxLZXksIFZhbHVlPlxuICA6IHVuZGVmaW5lZCA9IC8qI19fUFVSRV9fKi8gKHZhbHVlczogYW55KTogYW55ID0+XG4gIHZhbHVlcyA9PSBudWxsID8gdW5kZWZpbmVkIDogbmV3IFNldCh2YWx1ZXMpO1xuXG5leHBvcnQgY29uc3QgaXNNYXAgPSAvKiNfX1BVUkVfXyovICh2YWx1ZTogYW55KTogdmFsdWUgaXMgTWFwPGFueSwgYW55PiA9PlxuICB2YWx1ZSBpbnN0YW5jZW9mIE1hcDtcblxuZXhwb3J0IGNvbnN0IGFzU2V0OiA8VCBleHRlbmRzIEl0ZXJhYmxlPGFueT4gfCBOdWxsaXNoPihcbiAgdmFsdWVzOiBUXG4pID0+IFQgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPiA/IFNldDxUPiA6IHVuZGVmaW5lZCA9IC8qI19fUFVSRV9fKi8gKFxuICB2YWx1ZXM6IGFueVxuKTogYW55ID0+ICh2YWx1ZXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG5ldyBTZXQodmFsdWVzKSk7XG5cbmV4cG9ydCBjb25zdCBpc1NldCA9IC8qI19fUFVSRV9fKi8gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBTZXQ8YW55PiA9PlxuICB2YWx1ZSBpbnN0YW5jZW9mIFNldDtcblxuZXhwb3J0IGNvbnN0IGlzQXdhaXRhYmxlID0gLyojX19QVVJFX18qLyAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2U8YW55PiA9PlxuICAhIXZhbHVlPy50aGVuO1xuXG4vKipcbiAqIElmIHRoZSB2YWx1ZSBpcyBhIHByb21pc2UsIGl0IHdpbGwgYmUgYXdhaXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGF3YWl0SWZBd2FpdGFibGUgPSA8VCwgUj4oXG4gIHZhbHVlOiBULFxuICBhY3Rpb246ICh2YWx1ZTogVCBleHRlbmRzIFByb21pc2VMaWtlPGluZmVyIFQ+ID8gVCA6IFQpID0+IFJcbik6IFRvZ2dsZVByb21pc2U8UiwgVD4gPT5cbiAgKHZhbHVlIGFzIGFueSk/LnRoZW4/LigodmFsdWU6IGFueSkgPT4gYWN0aW9uKHZhbHVlKSkgPz8gYWN0aW9uKHZhbHVlIGFzIGFueSk7XG5cbmV4cG9ydCBjb25zdCB0eXBlQ29kZSA9ICh2YWx1ZTogYW55LCB0eXBlTmFtZSA9IHR5cGVvZiB2YWx1ZSkgPT5cbiAgdmFsdWUgPT0gbnVsbFxuICAgID8gdmFsdWUgPT09IG51bGxcbiAgICAgID8gTlVMTFxuICAgICAgOiBVTkRFRklORURcbiAgICA6IFQxW3R5cGVOYW1lWzBdXSA/P1xuICAgICAgVDJbdHlwZU5hbWVbMV1dID8/XG4gICAgICAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBBUlJBWSA6IHZhbHVlIGluc3RhbmNlb2YgRGF0ZSA/IERBVEUgOiBPQkpFQ1QpO1xuXG4vKipcbiAqIFJvdW5kIGEgbnVtYmVyIG9mIHRvIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWxzLlxuICovXG5leHBvcnQgY29uc3Qgcm91bmQgPSA8VCBleHRlbmRzIG51bWJlciB8IE51bGxpc2g+KFxuICBudW1iZXI6IFQsXG4gIGRlY2ltYWxzPzogbnVtYmVyIHwgYm9vbGVhblxuKTogTWF5YmVVbmRlZmluZWQ8VCwgbnVtYmVyPiA9PlxuICBudW1iZXIgPT0gbnVsbFxuICAgID8gKHVuZGVmaW5lZCBhcyBhbnkpXG4gICAgOiBkZWNpbWFscyA9PT0gZmFsc2VcbiAgICA/IG51bWJlclxuICAgIDogKChkZWNpbWFscyA9IE1hdGgucG93KDEwLCAhZGVjaW1hbHMgfHwgZGVjaW1hbHMgPT09IHRydWUgPyAwIDogZGVjaW1hbHMpKSxcbiAgICAgIE1hdGgucm91bmQobnVtYmVyICogZGVjaW1hbHMpIC8gZGVjaW1hbHMpO1xuXG5jb25zdCB0ZXN0Rmlyc3RMYXN0ID0gKHM6IHN0cmluZywgZmlyc3Q6IHN0cmluZywgbGFzdDogc3RyaW5nKSA9PlxuICBzWzBdID09PSBmaXJzdCAmJiBzW3MubGVuZ3RoIC0gMV0gPT09IGxhc3Q7XG5cbmV4cG9ydCBjb25zdCBpc0pzb25TdHJpbmcgPSAodmFsdWU6IGFueSk6IGJvb2xlYW4gPT5cbiAgaXNTdHJpbmcodmFsdWUpICYmXG4gICh0ZXN0Rmlyc3RMYXN0KHZhbHVlLCBcIntcIiwgXCJ9XCIpIHx8IHRlc3RGaXJzdExhc3QodmFsdWUsIFwiW1wiLCBcIl1cIikpO1xuXG5leHBvcnQgdHlwZSBNdXRhYmxlPFQ+ID0gVCBleHRlbmRzXG4gIHwgTWFwPGFueSwgYW55PlxuICB8IFdlYWtNYXA8YW55LCBhbnk+XG4gIHwgU2V0PGFueT5cbiAgfCBXZWFrU2V0PGFueT5cbiAgPyBUXG4gIDogVCBleHRlbmRzIFJlYWRvbmx5TWFwPGluZmVyIEssIGluZmVyIFY+XG4gID8gTWFwPEssIFY+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5U2V0PGluZmVyIEs+XG4gID8gU2V0PEs+XG4gIDogVCBleHRlbmRzIFByaW1pdGl2ZXNcbiAgPyBUXG4gIDogeyAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IE11dGFibGU8VFtQXT4gfTtcblxuLyoqIEZvciB3aGVuIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGludGVybmFsIHN0YXRlIHRoYXQgbmVlZHMgdG8gYmUgY2hhbmdlZCBpcyBleHBvc2VkIGFzIHJlYWQtb25seSBwdWJsaWMgcHJvcGVydHkuICovXG5leHBvcnQgY29uc3QgbXV0YXRlMiA9IC8qI19fUFVSRV9fKi8gPFQ+KHRhcmdldDogVCk6IE11dGFibGU8VD4gPT5cbiAgdGFyZ2V0IGFzIGFueTtcbiIsImltcG9ydCB7XG4gIEFsbEtleXMsXG4gIEFueUFsbCxcbiAgQXJyYXlzQXNFbXB0eSxcbiAgRW50cmllcyxcbiAgRXh0ZW5kcyxcbiAgRklMVEVSX05VTExJU0gsXG4gIEZhbHNpc2gsXG4gIEdlbmVyYWxpemVDb25zdGFudHMsXG4gIElmLFxuICBJZk5vdCxcbiAgSXRlcmFibGVPckFycmF5TGlrZSxcbiAgS2V5VmFsdWVQYWlyc1RvT2JqZWN0LFxuICBLZXlWYWx1ZVNvdXJjZSxcbiAgS2V5VmFsdWVTb3VyY2VzVG9PYmplY3QsXG4gIE1BWF9TQUZFX0lOVEVHRVIsXG4gIE1heWJlVW5kZWZpbmVkLFxuICBOdWxsaXNoLFxuICBPbWl0TnVsbGlzaCxcbiAgUHJvcGVydHksXG4gIFNpbXBsZU9iamVjdCxcbiAgU3RyaWN0VW5kZWZpbmVkLFxuICBTdWJ0cmFjdCxcbiAgVW5kZWZpbmVkSWZFbXB0eSxcbiAgVW5pb25Ub0ludGVyc2VjdGlvbixcbiAgYWRkLFxuICBhcnJheSxcbiAgYXJyYXkyLFxuICBnZXQsXG4gIGlmRGVmaW5lZCxcbiAgaXNBcnJheSxcbiAgaXNCb29sZWFuLFxuICBpc0ZhbHNpc2gsXG4gIGlzRnVuY3Rpb24sXG4gIGlzSXRlcmFibGUsXG4gIGlzTWFwLFxuICBpc051bWJlcixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzU2V0LFxuICBpc1N0cmluZyxcbiAgaXNUcnVpc2gsXG4gIHN5bWJvbEl0ZXJhdG9yLFxuICB1bmRlZmluZWQsXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBVVEYxNk1BWCA9IDB4ZmZmZjtcblxubGV0IHN0b3BJbnZva2VkID0gZmFsc2U7XG5leHBvcnQgY29uc3Qgc3RvcCA9ICh5aWVsZFZhbHVlPzogYW55KSA9PiAoKHN0b3BJbnZva2VkID0gdHJ1ZSksIHlpZWxkVmFsdWUpO1xuXG5leHBvcnQgY29uc3QgdG9DaGFyQ29kZXMgPSAoczogc3RyaW5nKSA9PlxuICBbLi4ubmV3IEFycmF5KHMubGVuZ3RoKV0ubWFwKChfLCBpKSA9PiBzLmNoYXJDb2RlQXQoaSkpO1xuZXhwb3J0IGNvbnN0IGNvZGVQb2ludCA9IChzdHJpbmc6IHN0cmluZywgaW5kZXg6IG51bWJlciA9IDApID0+XG4gIHN0cmluZy5jb2RlUG9pbnRBdChpbmRleCkhO1xuXG5leHBvcnQgdHlwZSBQcm9wZXJJdGVyYXRvclNvdXJjZSA9IEl0ZXJhYmxlPGFueT4gfCBTaW1wbGVPYmplY3Q7XG5leHBvcnQgdHlwZSBJdGVyYXRvclNvdXJjZSA9XG4gIHwgTnVsbGlzaFxuICB8IG51bWJlclxuICB8IEl0ZXJhYmxlPGFueT5cbiAgfCBTaW1wbGVPYmplY3RcbiAgfCBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwO1xuXG5leHBvcnQgdHlwZSBJdGVyYXRvclNvdXJjZU9mPFQ+ID1cbiAgfCAoVCBleHRlbmRzIG51bWJlciA/IG51bWJlciA6IG5ldmVyKVxuICB8IEl0ZXJhYmxlPFQ+XG4gIHwgKFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgSywgaW5mZXIgVl1cbiAgICAgID8gSyBleHRlbmRzIGtleW9mIGFueVxuICAgICAgICA/IFNpbXBsZU9iamVjdDxLLCBWPlxuICAgICAgICA6IG5ldmVyXG4gICAgICA6IG5ldmVyKVxuICB8IE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8VD47XG5cbmV4cG9ydCB0eXBlIEl0ZXJhdG9ySXRlbTxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+ID0gdW5rbm93biBleHRlbmRzIFNcbiAgPyBhbnlcbiAgOiBTIGV4dGVuZHMgbnVtYmVyXG4gID8gbnVtYmVyXG4gIDogUyBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XG4gID8gVFxuICA6IFMgZXh0ZW5kcyBTaW1wbGVPYmplY3Q8aW5mZXIgSywgaW5mZXIgVj5cbiAgPyByZWFkb25seSBbSywgVl1cbiAgOiBTIGV4dGVuZHMgQXJyYXlMaWtlPGluZmVyIFQ+XG4gID8gVFxuICA6IFMgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBUIHwgTnVsbGlzaFxuICA/IFRcbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgSXRlcmF0b3JJdGVtczxTIGV4dGVuZHMgcmVhZG9ubHkgSXRlcmF0b3JTb3VyY2VbXT4gPVxuICBTIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIFNdXG4gICAgPyBJdGVyYXRvckl0ZW08UyAmIEl0ZXJhdG9yU291cmNlPlxuICAgIDogUyBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBTLCAuLi5pbmZlciBSZXN0XVxuICAgID8gSXRlcmF0b3JJdGVtPFMgJiBJdGVyYXRvclNvdXJjZT4gfCBJdGVyYXRvckl0ZW1zPFJlc3QgJiBJdGVyYXRvclNvdXJjZVtdPlxuICAgIDogUyBleHRlbmRzIHJlYWRvbmx5IChpbmZlciBTKVtdXG4gICAgPyBJdGVyYXRvckl0ZW08UyAmIEl0ZXJhdG9yU291cmNlPlxuICAgIDogbmV2ZXI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXRlcmF0b3JDb250cm9sPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4ge1xuICBzb3VyY2U6IFM7XG4gIHByZXY6IEl0ZXJhdG9ySXRlbTxTPiB8IHVuZGVmaW5lZDtcbiAgc2tpcCgpOiB2b2lkO1xuICBlbmQoKTogdm9pZDtcbiAgZW5kPFA+KHZhbHVlOiBQKTogUDtcbn1cblxuZXhwb3J0IHR5cGUgRnVuY3Rpb25hbEl0ZXJhdG9yQWN0aW9uPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UgPSBJdGVyYXRvclNvdXJjZSxcbiAgUHJvamVjdGlvbiA9IGFueSxcbiAgVmFsdWUgPSBJdGVyYXRvckl0ZW08Uz5cbj4gPSAoXG4gIHZhbHVlOiBWYWx1ZSxcbiAgaW5kZXg6IG51bWJlclxuKSA9PiBQcm9qZWN0aW9uIHwgcmVhZG9ubHkgW2FueSwgYW55XSB8IHR5cGVvZiBzdG9wIHwgTnVsbGlzaDtcblxuZXhwb3J0IHR5cGUgSXRlcmF0b3JBY3Rpb248XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSA9IEl0ZXJhdG9yU291cmNlLFxuICBQcm9qZWN0aW9uID0gdW5rbm93bixcbiAgVmFsdWUgPSBJdGVyYXRvckl0ZW08Uz5cbj4gPSBBbGxLZXlzPFZhbHVlPiB8IEZ1bmN0aW9uYWxJdGVyYXRvckFjdGlvbjxTLCBQcm9qZWN0aW9uLCBWYWx1ZT47XG5cbi8vIFdlIG5lZWQgYm90aCB0aGUgaW5mZXJyZWQgcmV0dXJuIHZhbHVlIGZyb20gdGhlIEl0ZXJhdG9yQWN0aW9uIGFuZCB0aGUgSXRlcmF0b3JBY3Rpb24gaXRzZWxmIHVzZWQgYXMgdGhlIHBhcmFtZXRlclxuLy8gaW4gZnVuY3Rpb25zIGxpa2UgYDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFJldHVybiwgQWN0aW9uPihzb3VyY2U6IFMsIGFjdGlvbjogSXRlcmF0b3JBY3Rpb248UyxSZXR1cm4+IHwgUCk9Pkl0ZXJhdG9yUHJvamVjdGlvbjxTLFJldHVybixBY3Rpb24+LlxuLy8gSXQgaXMgaW1wb3J0YW50IHRvIHNldCB0aGUgZ2VuZXJpYyB0eXBlIGZvciBBY3Rpb24ncyBkZWZhdWx0IHZhbHVlIHRvIHVuZGVmaW5lZFxuLy8gVGhpcyBzZWVtcyB0byBiZSB0aGUgb25seSB3YXkgd2UgY2FuIGJvdGggYXV0b21hdGljYWxseSBpbmZlciBub24tcmVhZG9ubHkgdHVwbGVzIGZyb20gYCgpPT5bXCJ0ZXN0XCIsIDFdYCBhcyB0dXBsZXMsIGFuZCBhdCB0aGUgc2FtZSB0aW1lXG4vLyBhbGxvdyBwcm9wZXJ0eSBuYW1lcyBmcm9tIHRoZSBzb3VyY2UncyBpdGVtcy4gSWYgd2UgZGlkIG5vdCBpbmNsdWRlIHRoZSBwYXJhbWV0ZXIgaXRzZWxmIGl0IHdvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBkaWZmZXJlbnRpYXRlXG4vLyBiZXR3ZWVuIHByb3BlcnR5IG5hbWVzIGFuZCByZXR1cm4gdmFsdWVzLlxudHlwZSBJdGVyYXRvclByb2plY3Rpb248XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUmV0dXJuLFxuICBBY3Rpb24sXG4gIERlZmF1bHQgPSBJdGVyYXRvckl0ZW08Uz5cbj4gPSBBY3Rpb24gZXh0ZW5kcyBOdWxsaXNoXG4gID8gRGVmYXVsdFxuICA6IHVua25vd24gZXh0ZW5kcyBBY3Rpb25cbiAgPyBEZWZhdWx0XG4gIDogQWN0aW9uIGV4dGVuZHMga2V5b2YgYW55XG4gID8gRXhjbHVkZTxQcm9wZXJ0eTxJdGVyYXRvckl0ZW08Uz4sIEFjdGlvbj4sIE51bGxpc2g+XG4gIDogUmV0dXJuO1xuXG50eXBlIEl0ZXJhdG9yUHJvamVjdGlvbldpdGhVbmRlZmluZWQ8XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUmV0dXJuLFxuICBBY3Rpb24sXG4gIERlZmF1bHQgPSBJdGVyYXRvckl0ZW08Uz5cbj4gPVxuICB8IEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSZXR1cm4sIEFjdGlvbiwgRGVmYXVsdD5cbiAgfCAoQWN0aW9uIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgUlxuICAgICAgPyBSIGV4dGVuZHMgdHlwZW9mIHN0b3BcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBTdHJpY3RVbmRlZmluZWQ8Uj5cbiAgICAgIDogQWN0aW9uIGV4dGVuZHMga2V5b2YgYW55XG4gICAgICA/IFN0cmljdFVuZGVmaW5lZDxQcm9wZXJ0eTxJdGVyYXRvckl0ZW08Uz4sIEFjdGlvbj4+XG4gICAgICA6IG5ldmVyKSBleHRlbmRzIGluZmVyIFRcbiAgPyBUXG4gIDogbmV2ZXI7XG5cbnR5cGUgU3RhcnRFbmRBcmdzPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4gPVxuICB8IFtdXG4gIHwgKFMgZXh0ZW5kcyBudW1iZXJcbiAgICAgID8gW29mZnNldD86IG51bWJlciB8IE51bGxpc2hdXG4gICAgICA6IFMgZXh0ZW5kcyBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwPGluZmVyIFQ+XG4gICAgICA/IFtzZWVkPzogVCwgbWF4SXRlcmF0aW9ucz86IG51bWJlcl1cbiAgICAgIDogW3N0YXJ0OiBudW1iZXIgfCBOdWxsaXNoLCBlbmQ/OiBudW1iZXIgfCBOdWxsaXNoXSk7XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpbmdJdGVyYXRvclN0ZXA8VCA9IGFueT4gPSAoXG4gIGN1cnJlbnQ6IFQgfCB1bmRlZmluZWRcbikgPT4gVCB8IHVuZGVmaW5lZDtcblxudHlwZSBGbGF0SXRlcmF0b3JJdGVtPFQsIEQgZXh0ZW5kcyBudW1iZXIgPSAxLCBPYmplY3QgPSBmYWxzZT4gPSBUIGV4dGVuZHNcbiAgfCB1bmRlZmluZWRcbiAgfCB2b2lkXG4gID8gbmV2ZXJcbiAgOiBEIGV4dGVuZHMgMFxuICA/IFRcbiAgOiBUIGV4dGVuZHNcbiAgICAgIHwgSXRlcmFibGU8YW55PlxuICAgICAgfCAoT2JqZWN0IGV4dGVuZHMgdHJ1ZSA/IFJlY29yZDxrZXlvZiBhbnksIGFueT4gOiBuZXZlcilcbiAgPyBEIGV4dGVuZHMgMVxuICAgID8gSXRlcmF0b3JJdGVtPFQ+XG4gICAgOiBGbGF0SXRlcmF0b3JJdGVtPEl0ZXJhdG9ySXRlbTxUPiwgU3VidHJhY3Q8RCwgMT4sIE9iamVjdD5cbiAgOiBUO1xuXG5jb25zdCB3cmFwUHJvamVjdGlvbiA9IDxQPihcbiAgcHJvamVjdGlvbjogUCB8IHVuZGVmaW5lZFxuKTogdW5kZWZpbmVkIHwgKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IGFueSkgPT5cbiAgcHJvamVjdGlvbiA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IGlzRnVuY3Rpb24ocHJvamVjdGlvbilcbiAgICA/IChwcm9qZWN0aW9uIGFzIGFueSlcbiAgICA6IChpdGVtKSA9PiBpdGVtW3Byb2plY3Rpb24gYXMgYW55XTtcblxuZnVuY3Rpb24qIGNyZWF0ZUZpbHRlcmluZ0l0ZXJhdG9yPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gIHNvdXJjZTogUyxcbiAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUFxuKTogSXRlcmFibGU8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuO1xuICBpZiAocHJvamVjdGlvbikge1xuICAgIHByb2plY3Rpb24gPSB3cmFwUHJvamVjdGlvbihwcm9qZWN0aW9uKSE7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IGl0ZW0gb2Ygc291cmNlIGFzIGFueSkge1xuICAgICAgaWYgKChpdGVtID0gcHJvamVjdGlvbihpdGVtLCBpKyspKSAhPSBudWxsKSB7XG4gICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICB9XG4gICAgICBpZiAoc3RvcEludm9rZWQpIHtcbiAgICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGl0ZW0gb2Ygc291cmNlIGFzIGFueSkge1xuICAgICAgaWYgKGl0ZW0gIT0gbnVsbCkgeWllbGQgaXRlbTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24qIGNyZWF0ZU9iamVjdEl0ZXJhdG9yPFMgZXh0ZW5kcyBSZWNvcmQ8a2V5b2YgYW55LCBhbnk+LCBSLCBQPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFBcbik6IEl0ZXJhYmxlPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBQLCBSPj4ge1xuICBhY3Rpb24gPSB3cmFwUHJvamVjdGlvbihhY3Rpb24pO1xuICBsZXQgaSA9IDA7XG4gIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgIGxldCB2YWx1ZSA9IFtrZXksIHNvdXJjZVtrZXldXSBhcyBhbnk7XG4gICAgYWN0aW9uICYmICh2YWx1ZSA9IGFjdGlvbih2YWx1ZSwgaSsrKSk7XG5cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgeWllbGQgdmFsdWU7XG4gICAgfVxuICAgIGlmIChzdG9wSW52b2tlZCkge1xuICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiogY3JlYXRlUmFuZ2VJdGVyYXRvcihsZW5ndGggPSAwLCBvZmZzZXQ/OiBudW1iZXIpOiBJdGVyYWJsZTxudW1iZXI+IHtcbiAgaWYgKGxlbmd0aCA8IDApIHtcbiAgICBvZmZzZXQgPz89IC1sZW5ndGggLSAxO1xuICAgIHdoaWxlIChsZW5ndGgrKykgeWllbGQgb2Zmc2V0LS07XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0ID8/PSAwO1xuICAgIHdoaWxlIChsZW5ndGgtLSkgeWllbGQgb2Zmc2V0Kys7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uKiBjcmVhdGVTdHJpbmdJdGVyYXRvcihcbiAgaW5wdXQ6IHN0cmluZyxcbiAgc3RhcnQ6IG51bWJlcixcbiAgZW5kOiBudW1iZXJcbik6IEl0ZXJhYmxlPFtjaGFyOiBzdHJpbmcsIGNvZGVQb2ludDogbnVtYmVyXT4ge1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBpbnB1dC5jb2RlUG9pbnRBdChzdGFydCkhO1xuICAgIGxldCBwID0gaW5wdXRbc3RhcnQrK107XG4gICAgaWYgKGNvZGVQb2ludCA+IFVURjE2TUFYKSB7XG4gICAgICBzdGFydCsrO1xuICAgICAgcCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgfVxuICAgIHlpZWxkIFtwLCBjb2RlUG9pbnRdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogY3JlYXRlTmF2aWdhdGluZ0l0ZXJhdG9yPFQ+KFxuICBzdGVwOiBOYXZpZ2F0aW5nSXRlcmF0b3JTdGVwPFQ+LFxuICBzdGFydD86IFQgfCB1bmRlZmluZWQsXG4gIG1heEl0ZXJhdGlvbnMgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuKTogSXRlcmF0b3I8VD4ge1xuICBpZiAoc3RhcnQgIT0gbnVsbCkgeWllbGQgc3RhcnQ7XG4gIHdoaWxlIChtYXhJdGVyYXRpb25zLS0gJiYgKHN0YXJ0ID0gc3RlcChzdGFydCkpICE9IG51bGwpIHtcbiAgICB5aWVsZCBzdGFydDtcbiAgfVxufVxuXG5jb25zdCBzbGljZUFjdGlvbiA9IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFA+KFxuICBhY3Rpb246IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgc3RhcnQ6IGFueSxcbiAgZW5kOiBhbnlcbik6IFAgPT5cbiAgKHN0YXJ0ID8/IGVuZCkgIT09IHVuZGVmaW5lZFxuICAgID8gKChhY3Rpb24gPSB3cmFwUHJvamVjdGlvbihhY3Rpb24pISksXG4gICAgICAoc3RhcnQgPz89IDApLFxuICAgICAgKGVuZCA/Pz0gTUFYX1NBRkVfSU5URUdFUiksXG4gICAgICAodmFsdWUsIGluZGV4KSA9PlxuICAgICAgICBzdGFydC0tXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6IGVuZCEtLVxuICAgICAgICAgID8gYWN0aW9uXG4gICAgICAgICAgICA/IChhY3Rpb24gYXMgYW55KSh2YWx1ZSwgaW5kZXgpXG4gICAgICAgICAgICA6IHZhbHVlXG4gICAgICAgICAgOiBlbmQpXG4gICAgOiAoYWN0aW9uIGFzIGFueSk7XG5cbmV4cG9ydCB0eXBlIEl0ZXJhdG9yRmlsdGVyPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4gPSAoXG4gIHZhbHVlOiBJdGVyYXRvckl0ZW08Uz4sXG4gIGluZGV4OiBudW1iZXJcbikgPT4gdW5rbm93bjtcblxuLyoqIEZhc3RlciB3YXkgdG8gZXhjbHVkZSBudWxsJ2lzaCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IHRoYW4gdXNpbmcge0BsaW5rIGZpbHRlcn0gb3Ige0BsaW5rIG1hcH0gKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJBcnJheSA9IDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10gfCB1bmRlZmluZWQ+KFxuICBhcnJheTogVFxuKTogVCBleHRlbmRzIHJlYWRvbmx5IChpbmZlciBJdGVtKVtdID8gT21pdE51bGxpc2g8SXRlbT5bXSA6IHVuZGVmaW5lZCA9PlxuICBhcnJheT8uZmlsdGVyKEZJTFRFUl9OVUxMSVNIKSBhcyBhbnk7XG5cbmNvbnN0IGNyZWF0ZUl0ZXJhdG9yID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUD4oXG4gIHNvdXJjZTogUyxcbiAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKTogSXRlcmFibGU8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+PiA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gKFtdIGFzIGFueSlcbiAgICA6ICFwcm9qZWN0aW9uICYmIGlzQXJyYXkoc291cmNlKVxuICAgID8gZmlsdGVyQXJyYXkoc291cmNlKVxuICAgIDogc291cmNlW3N5bWJvbEl0ZXJhdG9yXVxuICAgID8gY3JlYXRlRmlsdGVyaW5nSXRlcmF0b3IoXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgc3RhcnQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gcHJvamVjdGlvblxuICAgICAgICAgIDogc2xpY2VBY3Rpb24ocHJvamVjdGlvbiwgc3RhcnQgYXMgYW55LCBlbmQpXG4gICAgICApXG4gICAgOiBpc09iamVjdChzb3VyY2UpXG4gICAgPyBjcmVhdGVPYmplY3RJdGVyYXRvcihcbiAgICAgICAgc291cmNlIGFzIGFueSxcbiAgICAgICAgc2xpY2VBY3Rpb24ocHJvamVjdGlvbiwgc3RhcnQgYXMgYW55LCBlbmQpXG4gICAgICApXG4gICAgOiBjcmVhdGVJdGVyYXRvcihcbiAgICAgICAgaXNGdW5jdGlvbihzb3VyY2UpXG4gICAgICAgICAgPyBjcmVhdGVOYXZpZ2F0aW5nSXRlcmF0b3Ioc291cmNlLCBzdGFydCwgZW5kKVxuICAgICAgICAgIDogKGNyZWF0ZVJhbmdlSXRlcmF0b3Ioc291cmNlIGFzIG51bWJlciwgc3RhcnQgYXMgYW55KSBhcyBhbnkpLFxuICAgICAgICBwcm9qZWN0aW9uXG4gICAgICApO1xuXG5jb25zdCBtYXBUb0FycmF5ID0gPFQsIE0+KFxuICBwcm9qZWN0ZWQ6IEl0ZXJhYmxlPFQ+LFxuICBtYXA6IE1cbik6IHRydWUgZXh0ZW5kcyBNID8gVFtdIDogSXRlcmFibGU8VD4gPT5cbiAgbWFwICYmICFpc0FycmF5KHByb2plY3RlZCkgPyBbLi4ucHJvamVjdGVkXSA6IChwcm9qZWN0ZWQgYXMgYW55KTtcblxudHlwZSBQcm9qZWN0RnVuY3Rpb24gPSB7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFAgZXh0ZW5kcyBJdGVyYXRvckFjdGlvbjxTLCBSPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiBQLFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBJdGVyYWJsZTxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4+O1xufTtcblxudHlwZSBNYXBGdW5jdGlvbiA9IHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUCBleHRlbmRzIEZ1bmN0aW9uYWxJdGVyYXRvckFjdGlvbjxTLCBSPj4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb24/OiB1bmRlZmluZWQsXG4gICAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4gICk6IE1heWJlVW5kZWZpbmVkPFMsIEV4Y2x1ZGU8SXRlcmF0b3JJdGVtPFM+LCBOdWxsaXNoPltdPjtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUj4oXG4gICAgc291cmNlOiBTLFxuICAgIHByb2plY3Rpb246IEZ1bmN0aW9uYWxJdGVyYXRvckFjdGlvbjxTLCBSPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogTWF5YmVVbmRlZmluZWQ8UywgRXhjbHVkZTxSLCBOdWxsaXNoPltdPjtcblxuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBLZXkgZXh0ZW5kcyBBbGxLZXlzPFM+PihcbiAgICBzb3VyY2U6IFMsXG4gICAgcHJvamVjdGlvbjogS2V5LFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBNYXliZVVuZGVmaW5lZDxTLCBFeGNsdWRlPFByb3BlcnR5PEl0ZXJhdG9ySXRlbTxTPiwgS2V5PiwgTnVsbGlzaD5bXT47XG59O1xuXG50eXBlIEZsYXRQcm9qZWN0RnVuY3Rpb24gPSA8XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUixcbiAgUCxcbiAgRCBleHRlbmRzIG51bWJlciA9IDEsXG4gIE8gZXh0ZW5kcyBib29sZWFuID0gZmFsc2Vcbj4oXG4gIHNvdXJjZTogUyxcbiAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgZGVwdGg/OiBELFxuICBleHBhbmRPYmplY3RzPzogTyxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFxuICBTLFxuICBJdGVyYWJsZTxGbGF0SXRlcmF0b3JJdGVtPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPiwgRCwgTz4+XG4+O1xuXG5leHBvcnQgY29uc3QgcHJvamVjdDogUHJvamVjdEZ1bmN0aW9uID0gKChcbiAgc291cmNlOiBhbnksXG4gIHByb2plY3Rpb246IGFueSxcbiAgc3RhcnQ6IGFueSxcbiAgZW5kOiBhbnlcbikgPT4gY3JlYXRlSXRlcmF0b3Ioc291cmNlLCBwcm9qZWN0aW9uLCBzdGFydCwgZW5kKSkgYXMgYW55O1xuXG5mdW5jdGlvbiogZmxhdHRlbkludGVybmFsKFxuICB2YWx1ZTogYW55LFxuICBkZXB0aDogbnVtYmVyLFxuICBleHBhbmRPYmplY3RzOiBib29sZWFuLFxuICBuZXN0ZWQ6IGJvb2xlYW5cbikge1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIGlmICh2YWx1ZVtzeW1ib2xJdGVyYXRvcl0gfHwgKGV4cGFuZE9iamVjdHMgJiYgaXNPYmplY3QodmFsdWUpKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG5lc3RlZCA/IGNyZWF0ZUl0ZXJhdG9yKHZhbHVlKSA6IHZhbHVlKSB7XG4gICAgICAgIGlmIChkZXB0aCAhPT0gMSkge1xuICAgICAgICAgIHlpZWxkKiBmbGF0dGVuSW50ZXJuYWwoaXRlbSwgZGVwdGggLSAxLCBleHBhbmRPYmplY3RzLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGNvbnN0IGZsYXR0ZW46IEZsYXRQcm9qZWN0RnVuY3Rpb24gPSAoXG4gIHNvdXJjZSxcbiAgcHJvamVjdGlvbj8sXG4gIGRlcHRoID0gMSBhcyBhbnksXG4gIGV4cGFuZE9iamVjdHM6IGFueSA9IGZhbHNlLFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+XG4gIGZsYXR0ZW5JbnRlcm5hbChcbiAgICBjcmVhdGVJdGVyYXRvcihzb3VyY2UsIHByb2plY3Rpb24gYXMgYW55LCBzdGFydCwgZW5kKSxcbiAgICBkZXB0aCArIDEsXG4gICAgZXhwYW5kT2JqZWN0cyxcbiAgICBmYWxzZVxuICApIGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IG1hcDogTWFwRnVuY3Rpb24gPSAoXG4gIHNvdXJjZTogYW55LFxuICBwcm9qZWN0aW9uPzogYW55LFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+IHtcbiAgcHJvamVjdGlvbiA9IHdyYXBQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IG1hcHBlZDogYW55W10gPSBbXTtcbiAgICBzdGFydCA9IHN0YXJ0ISA8IDAgPyBzb3VyY2UubGVuZ3RoICsgc3RhcnQhIDogc3RhcnQgPz8gMDtcbiAgICBlbmQgPSBlbmQhIDwgMCA/IHNvdXJjZS5sZW5ndGggKyBlbmQhIDogZW5kID8/IHNvdXJjZS5sZW5ndGg7XG4gICAgZm9yICg7IHN0YXJ0IDwgZW5kICYmICFzdG9wSW52b2tlZDsgc3RhcnQrKykge1xuICAgICAgbGV0IHZhbHVlID0gc291cmNlW3N0YXJ0XTtcbiAgICAgIGlmICgocHJvamVjdGlvbiA/ICh2YWx1ZSA9IHByb2plY3Rpb24odmFsdWUsIGkrKykpIDogdmFsdWUpICE9IG51bGwpIHtcbiAgICAgICAgbWFwcGVkLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xuICAgIHJldHVybiBtYXBwZWQ7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZSAhPSBudWxsXG4gICAgPyBhcnJheTIocHJvamVjdChzb3VyY2UsIHByb2plY3Rpb24sIHN0YXJ0LCBlbmQpKVxuICAgIDogKHVuZGVmaW5lZCBhcyBhbnkpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcEFzeW5jOiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgc291cmNlOiBTLFxuICBwcm9qZWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBQcm9taXNlPFxuICBNYXliZVVuZGVmaW5lZDxTLCBFeGNsdWRlPEF3YWl0ZWQ8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+PiwgTnVsbGlzaD5bXT5cbj4gPSBhc3luYyAoc291cmNlOiBhbnksIHByb2plY3Rpb24/OiBhbnksIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+IHtcbiAgcHJvamVjdGlvbiA9IHdyYXBQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBjb25zdCBtYXBwZWQ6IGFueSA9IFtdO1xuICBhd2FpdCBmb3JFYWNoQXN5bmMoXG4gICAgc291cmNlLFxuICAgIGFzeW5jIChpdGVtKSA9PiAoaXRlbSA9IGF3YWl0IHByb2plY3Rpb24oaXRlbSkpICE9IG51bGwgJiYgbWFwcGVkLnB1c2goaXRlbSlcbiAgKTtcbiAgcmV0dXJuIG1hcHBlZCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgemlwID0gPExocyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSaHMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIGxoczogTGhzLFxuICByaHM6IFJoc1xuKTogSXRlcmFibGU8W0l0ZXJhdG9ySXRlbTxMaHM+LCBJdGVyYXRvckl0ZW08UmhzPiB8IHVuZGVmaW5lZF0+ID0+IHtcbiAgY29uc3QgaXQyID0gY3JlYXRlSXRlcmF0b3IocmhzKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIHJldHVybiBjcmVhdGVJdGVyYXRvcihsaHMsIChsaHMpID0+IFtsaHMsIGl0Mi5uZXh0KCk/LnZhbHVlXSBhcyBbYW55LCBhbnldKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXN0aW5jdDoge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgICBzb3VyY2U6IFMsXG4gICAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+LFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBTIGV4dGVuZHMgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogU2V0PEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj47XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICAgIHNvdXJjZTogUyxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogUyBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IFNldDxJdGVyYXRvckl0ZW08Uz4+O1xufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgc291cmNlICE9IG51bGxcbiAgICA/IG5ldyBTZXQ8YW55PihbLi4ucHJvamVjdChzb3VyY2UsIHByb2plY3Rpb24sIHN0YXJ0LCBlbmQpXSlcbiAgICA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IHNpbmdsZToge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgICBzb3VyY2U6IFMsXG4gICAgcHJvamVjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogUyBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPiB8IHVuZGVmaW5lZDtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gICAgc291cmNlOiBTLFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBTIGV4dGVuZHMgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogSXRlcmF0b3JJdGVtPFM+IHwgdW5kZWZpbmVkO1xufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogKHNvdXJjZSA9IG1hcERpc3RpbmN0KHNvdXJjZSwgcHJvamVjdGlvbiwgc3RhcnQsIGVuZCkgYXMgYW55KS5sZW5ndGggPiAxXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IHNvdXJjZVswXTtcblxuZXhwb3J0IGNvbnN0IG1hcERpc3RpbmN0OiBNYXBGdW5jdGlvbiA9IChcbiAgc291cmNlOiBhbnksXG4gIHByb2plY3Rpb24/OiBhbnksXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT5cbiAgc291cmNlICE9IG51bGxcbiAgICA/IFsuLi4oZGlzdGluY3QgYXMgYW55KShzb3VyY2UsIHByb2plY3Rpb24sIHN0YXJ0LCBlbmQpXVxuICAgIDogc291cmNlO1xuXG5leHBvcnQgZnVuY3Rpb24qIGNvbmNhdEl0ZXJhdG9yczxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2VbXT4oXG4gIC4uLml0ZXJhdG9yczogU1xuKTogSXRlcmFibGU8SXRlcmF0b3JJdGVtczxTPj4ge1xuICBmb3IgKGNvbnN0IGl0ZXJhdG9yIG9mIGl0ZXJhdG9ycykge1xuICAgIGlmICghaXRlcmF0b3IpIGNvbnRpbnVlO1xuICAgIHlpZWxkKiBjcmVhdGVJdGVyYXRvcihpdGVyYXRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGludGVyc2VjdGlvbiA9IDxcbiAgVCxcbiAgQSBleHRlbmRzIEl0ZXJhYmxlPFQ+IHwgdW5kZWZpbmVkLFxuICBCIGV4dGVuZHMgSXRlcmFibGU8VD4gfCB1bmRlZmluZWRcbj4oXG4gIGE6IEEsXG4gIGI6IEJcbik6IFRbXSA9PiB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIFtdO1xuICBpc1NldChiKSAmJiAoW2IsIGFdID0gW2EsIGJdIGFzIGFueSk7XG4gIGNvbnN0IGxvb2t1cCA9IGlzU2V0KGEpID8gYSA6IG5ldyBTZXQoYSk7XG4gIHJldHVybiBmaWx0ZXIoYiwgKHZhbHVlKSA9PiBsb29rdXAuaGFzKHZhbHVlKSkgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGludGVyc2VjdHMgPSAoXG4gIGE6IEl0ZXJhYmxlPGFueT4gfCB1bmRlZmluZWQsXG4gIGI6IEl0ZXJhYmxlPGFueT4gfCB1bmRlZmluZWRcbikgPT4gISFjb3VudChpbnRlcnNlY3Rpb24oYSwgYikpO1xuXG5leHBvcnQgY29uc3QgZmxhdE1hcEt2ID0gPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUiwgUCwgRCBleHRlbmRzIG51bWJlciA9IDE+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgZGVwdGg6IEQgPSAxIGFzIGFueVxuKTogRmxhdEl0ZXJhdG9ySXRlbTxJdGVyYXRvclByb2plY3Rpb248UywgUiwgUD4sIEQsIHRydWU+W10gPT5cbiAgZmxhdE1hcChzb3VyY2UsIGFjdGlvbiwgZGVwdGgsIHRydWUpO1xuXG5leHBvcnQgY29uc3QgZmxhdE1hcDogPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFIsXG4gIFAsXG4gIEQgZXh0ZW5kcyBudW1iZXIgPSAxLFxuICBPIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgZGVwdGg/OiBELFxuICBleHBhbmRPYmplY3RzPzogTyxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IEZsYXRJdGVyYXRvckl0ZW08SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+LCBELCBPPltdID0gKFxuICBzb3VyY2UsXG4gIGFjdGlvbixcbiAgZGVwdGggPSAxIGFzIGFueSxcbiAgZXhwYW5kT2JqZWN0cyA9IGZhbHNlIGFzIGFueSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PlxuICBhcnJheTIoXG4gICAgKGZsYXR0ZW4gYXMgYW55KShzb3VyY2UsIGFjdGlvbiwgZGVwdGgsIGV4cGFuZE9iamVjdHMsIHN0YXJ0LCBlbmQpIGFzIGFueVxuICApIGFzIGFueTtcblxuY29uc3QgdHJhdmVyc2VJbnRlcm5hbCA9IDxUPihcbiAgcm9vdDogVCB8IFRbXSB8IHVuZGVmaW5lZCxcbiAgc2VsZWN0b3I6IChjdXJyZW50OiBUKSA9PiBJdGVyYWJsZTxUPiB8IHVuZGVmaW5lZCxcbiAgaW5jbHVkZTogYm9vbGVhbixcbiAgcmVzdWx0czogVFtdLFxuICBzZWVuOiBTZXQ8VD5cbikgPT4ge1xuICBpZiAoaXNBcnJheShyb290KSkge1xuICAgIGZvckVhY2hJbnRlcm5hbChyb290LCAoaXRlbSkgPT5cbiAgICAgIHRyYXZlcnNlSW50ZXJuYWwoaXRlbSwgc2VsZWN0b3IsIGluY2x1ZGUsIHJlc3VsdHMsIHNlZW4pXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICBpZiAoIXJvb3QgfHwgIWFkZChzZWVuLCByb290KSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaW5jbHVkZSAmJiByZXN1bHRzLnB1c2gocm9vdCk7XG4gIGZvckVhY2hJbnRlcm5hbChzZWxlY3Rvcihyb290KSwgKGl0ZW0pID0+XG4gICAgdHJhdmVyc2VJbnRlcm5hbChpdGVtLCBzZWxlY3RvciwgdHJ1ZSwgcmVzdWx0cywgc2VlbilcbiAgKTtcblxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbnR5cGUgQ29uY2F0UmVzdWx0XzxUPiA9IFQgZXh0ZW5kcyByZWFkb25seSBbXVxuICA/IG5ldmVyXG4gIDogVCBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBJdGVtLCAuLi5pbmZlciBSZXN0XVxuICA/XG4gICAgICB8IEV4Y2x1ZGU8SXRlbSBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+ID8gVCA6IEl0ZW0sIE51bGxpc2g+XG4gICAgICB8IENvbmNhdFJlc3VsdF88UmVzdD5cbiAgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgSXRlbT5cbiAgPyBFeGNsdWRlPEl0ZW0gZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPiA/IFQgOiBJdGVtLCBOdWxsaXNoPlxuICA6IG5ldmVyO1xuXG50eXBlIENvbmNhdFJlc3VsdDxUPiA9IENvbmNhdFJlc3VsdF88VD4gZXh0ZW5kcyBuZXZlclxuICA/IHVuZGVmaW5lZFxuICA6IENvbmNhdFJlc3VsdF88VD5bXTtcblxudHlwZSBGaW5hbEl0ZXJhdG9ySXRlbTxcbiAgVCxcbiAgQXJyYXlzT25seSA9IGZhbHNlLFxuICBNYXhEZXB0aCBleHRlbmRzIG51bWJlciA9IC0xXG4+ID0gTWF4RGVwdGggZXh0ZW5kcyAwXG4gID8gVFxuICA6IFQgZXh0ZW5kcyBzdHJpbmdcbiAgPyBzdHJpbmdcbiAgOiBUIGV4dGVuZHMgKFxuICAgICAgW0FycmF5c09ubHldIGV4dGVuZHMgW3RydWVdXG4gICAgICAgID8gcmVhZG9ubHkgKGluZmVyIFQpW11cbiAgICAgICAgOiBJdGVyYWJsZU9yQXJyYXlMaWtlPGluZmVyIFQ+XG4gICAgKVxuICA/IEZpbmFsSXRlcmF0b3JJdGVtPFxuICAgICAgVCxcbiAgICAgIEFycmF5c09ubHksXG4gICAgICAtMSBleHRlbmRzIE1heERlcHRoID8gLTEgOiBTdWJ0cmFjdDxNYXhEZXB0aCwgMT5cbiAgICA+XG4gIDogVDtcblxuZXhwb3J0IGNvbnN0IHVubmVzdCA9IDxcbiAgVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdLFxuICBBcnJheXNPbmx5IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlLFxuICBEZXB0aCBleHRlbmRzIG51bWJlciA9IC0xXG4+KFxuICBpdGVtczogVCxcbiAgYXJyYXlzT25seTogQXJyYXlzT25seSxcbiAgZGVwdGg6IERlcHRoID0gLTEgYXMgYW55XG4pOiBGaW5hbEl0ZXJhdG9ySXRlbTxULCBBcnJheXNPbmx5PltdID0+IHtcbiAgaWYgKCFkZXB0aCkgcmV0dXJuIGl0ZW1zIGFzIGFueTtcblxuICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuICBjb25zdCB0ZXN0ID0gYXJyYXlzT25seSA/IGlzQXJyYXkgOiBpc0l0ZXJhYmxlO1xuICBmb3JFYWNoKGl0ZW1zLCAoaXRlbSkgPT5cbiAgICB0ZXN0KGl0ZW0pXG4gICAgICA/IHJlc3VsdHMucHVzaCguLi51bm5lc3QoaXRlbSwgYXJyYXlzT25seSwgZGVwdGggLSAxKSlcbiAgICAgIDogaXRlbSAhPSBudWxsICYmIHJlc3VsdHMucHVzaChpdGVtKVxuICApO1xuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbmV4cG9ydCBjb25zdCB1bmFycmF5OiB7XG4gIDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10sIERlcHRoIGV4dGVuZHMgbnVtYmVyID0gLTE+KFxuICAgIGl0ZW1zOiBUXG4gICk6IEZpbmFsSXRlcmF0b3JJdGVtPFQsIHRydWU+W107XG4gIDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KC4uLml0ZW1zOiBUKTogRmluYWxJdGVyYXRvckl0ZW08VCwgdHJ1ZT5bXTtcbn0gPSAoLi4uaXRlbXM6IGFueVtdKSA9PiB1bm5lc3QoaXRlbXMubGVuZ3RoID09PSAxID8gaXRlbXNbMF0gOiBpdGVtcywgdHJ1ZSk7XG5cbmV4cG9ydCBjb25zdCBjb25jYXQ6IHtcbiAgPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oaXRlbXM6IFQpOlxuICAgIHwgQ29uY2F0UmVzdWx0PFQ+XG4gICAgfCBJZk5vdDxBbnlBbGw8QXJyYXlzQXNFbXB0eTxUW251bWJlcl0+LCBmYWxzZT4+O1xuICA8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiguLi5pdGVtczogVCk6XG4gICAgfCBDb25jYXRSZXN1bHQ8VD5cbiAgICB8IElmTm90PEFueUFsbDxBcnJheXNBc0VtcHR5PFRbbnVtYmVyXT4sIGZhbHNlPj47XG59ID0gKC4uLml0ZW1zOiBhbnlbXSkgPT4ge1xuICBsZXQgbWVyZ2VkOiBhbnlbXSB8IHVuZGVmaW5lZDtcbiAgZm9yRWFjaChcbiAgICBpdGVtcy5sZW5ndGggPT09IDEgPyBpdGVtc1swXSA6IGl0ZW1zLFxuICAgIChpdGVtKSA9PiBpdGVtICE9IG51bGwgJiYgKG1lcmdlZCA/Pz0gW10pLnB1c2goLi4uKGFycmF5MihpdGVtKSBhcyBhbnkpKVxuICApO1xuICByZXR1cm4gbWVyZ2VkIGFzIGFueTtcbn07XG5cbnR5cGUgRXhwYW5kSXRlbTxUPiA9IEV4Y2x1ZGU8VCBleHRlbmRzIHJlYWRvbmx5IChpbmZlciBUKVtdID8gVCA6IFQsIE51bGxpc2g+O1xuXG50eXBlIEl0ZW1PclNlbGY8VD4gPSBFeGNsdWRlPFxuICBUIGV4dGVuZHMgc3RyaW5nID8gVCA6IFQgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBUPiA/IFQgOiBULFxuICBOdWxsaXNoXG4+O1xuXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdDxULCBSPihcbiAgc291cmNlOiBULFxuICBzZWxlY3RvcjogKHNvdXJjZTogSXRlbU9yU2VsZjxUPikgPT4gUiB8IE51bGxpc2gsXG4gIGluY2x1ZGVTZWxmPzogZmFsc2UsXG4gIGRlcHRoPzogMCB8IDEsXG4gIGNvbGxlY3RlZD86IFNldDx1bmtub3duPlxuKTogSXRlcmFibGU8SXRlbU9yU2VsZjxSPj47XG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdDxULCBSPihcbiAgc291cmNlOiBUIHwgUiB8IE51bGxpc2gsXG4gIHNlbGVjdG9yOiAoc291cmNlOiBJdGVtT3JTZWxmPFQ+KSA9PiBSIHwgTnVsbGlzaCxcbiAgaW5jbHVkZVNlbGY/OiBib29sZWFuLFxuICBkZXB0aD86IG51bWJlcixcbiAgY29sbGVjdGVkPzogU2V0PHVua25vd24+XG4pOiBJdGVyYWJsZTxJdGVtT3JTZWxmPFQ+IHwgSXRlbU9yU2VsZjxSPj47XG5leHBvcnQgZnVuY3Rpb24qIGNvbGxlY3QoXG4gIHNvdXJjZTogYW55LFxuICBzZWxlY3RvcjogKHNvdXJjZTogYW55KSA9PiBhbnksXG4gIGluY2x1ZGVTZWxmID0gZmFsc2UsXG4gIGRlcHRoID0gLTEsXG4gIGNvbGxlY3RlZDogU2V0PGFueT4gPSBuZXcgU2V0KClcbik6IEl0ZXJhYmxlPGFueT4ge1xuICBpZiAoaXNJdGVyYWJsZShzb3VyY2UpKSB7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSkge1xuICAgICAgaWYgKCFjb2xsZWN0ZWQuaGFzKGl0ZW0pKSB7XG4gICAgICAgIHlpZWxkKiBjb2xsZWN0KGl0ZW0sIHNlbGVjdG9yLCBpbmNsdWRlU2VsZiwgZGVwdGgsIGNvbGxlY3RlZCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHNvdXJjZSAhPSBudWxsICYmICFjb2xsZWN0ZWQuaGFzKHNvdXJjZSkpIHtcbiAgICBpZiAoaW5jbHVkZVNlbGYpIHtcbiAgICAgIGNvbGxlY3RlZC5hZGQoc291cmNlKTtcbiAgICAgIHlpZWxkIHNvdXJjZSBhcyBhbnk7XG4gICAgfVxuICAgIGlmIChkZXB0aC0tKSB7XG4gICAgICB5aWVsZCogY29sbGVjdChcbiAgICAgICAgc2VsZWN0b3Ioc291cmNlIGFzIGFueSkgYXMgYW55LFxuICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgaW5jbHVkZVNlbGYsXG4gICAgICAgIGRlcHRoLFxuICAgICAgICBjb2xsZWN0ZWRcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBleHBhbmQgPSA8XG4gIFQsXG4gIEluY2x1ZGVTZWxmUGFyYW1ldGVyIGV4dGVuZHMgYm9vbGVhbiB8IHJlYWRvbmx5IFtib29sZWFuXSA9IFt0cnVlXVxuPihcbiAgcm9vdDogVCxcbiAgc2VsZWN0b3I6IChcbiAgICBjdXJyZW50OiBFeHBhbmRJdGVtPFQ+XG4gICkgPT4gSXRlcmFibGU8RXhwYW5kSXRlbTxUPiB8IE51bGxpc2g+IHwgRXhwYW5kSXRlbTxUPiB8IE51bGxpc2gsXG4gIGluY2x1ZGVTZWxmOiBJbmNsdWRlU2VsZlBhcmFtZXRlciA9IFt0cnVlXSBhcyBhbnlcbik6IFQgZXh0ZW5kcyB1bmRlZmluZWRcbiAgPyB1bmRlZmluZWRcbiAgOiBJbmNsdWRlU2VsZlBhcmFtZXRlciBleHRlbmRzIHJlYWRvbmx5IFtib29sZWFuXVxuICA/IEV4cGFuZEl0ZW08VD5bXVxuICA6IFNldDxUPiA9PiB7XG4gIGNvbnN0IFthc0FycmF5LCBzZWxmXSA9IGlzQm9vbGVhbihpbmNsdWRlU2VsZilcbiAgICA/IFtmYWxzZSwgaW5jbHVkZVNlbGZdXG4gICAgOiBbdHJ1ZSwgaW5jbHVkZVNlbGZbMF1dO1xuICBjb25zdCBzZWVuID0gbmV3IFNldDxUPigpO1xuICBleHBhbmRJbnRlcm5hbChpc0FycmF5KHJvb3QpID8gcm9vdCA6IFtyb290XSwgc2VsZWN0b3IsIHNlZW4sIHNlbGYpO1xuICByZXR1cm4gYXNBcnJheSA/IFsuLi5zZWVuXSA6IChzZWVuIGFzIGFueSk7XG59O1xuXG5jb25zdCBleHBhbmRJbnRlcm5hbCA9IChcbiAgdmFsdWU6IHVua25vd24sXG4gIHNlbGVjdG9yOiAoY3VycmVudDogdW5rbm93bikgPT4gSXRlcmFibGU8dW5rbm93bj4gfCB1bmtub3duIHwgTnVsbGlzaCxcbiAgc2VlbjogU2V0PGFueT4sXG4gIGluY2x1ZGUgPSB0cnVlXG4pID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybjtcbiAgaWYgKHZhbHVlW3N5bWJvbEl0ZXJhdG9yXSkge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSBhcyBhbnkpXG4gICAgICBleHBhbmRJbnRlcm5hbChpdGVtLCBzZWxlY3Rvciwgc2VlbiwgaW5jbHVkZSk7XG4gIH1cbiAgaW5jbHVkZSAmJiBzZWVuLmFkZCh2YWx1ZSk7XG4gIGV4cGFuZEludGVybmFsKHNlbGVjdG9yKHZhbHVlKSwgc2VsZWN0b3IsIHNlZW4sIGluY2x1ZGUpO1xufTtcblxuY29uc3QgZm9yRWFjaEFycmF5ID0gKFxuICBzb3VyY2U6IHJlYWRvbmx5IGFueVtdLFxuICBhY3Rpb246IGFueSxcbiAgc3RhcnQ6IGFueSxcbiAgZW5kOiBhbnlcbikgPT4ge1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueTtcbiAgbGV0IGkgPSAwO1xuICBzdGFydCA9IHN0YXJ0ISA8IDAgPyBzb3VyY2UubGVuZ3RoICsgc3RhcnQhIDogc3RhcnQgPz8gMDtcbiAgZW5kID0gZW5kISA8IDAgPyBzb3VyY2UubGVuZ3RoICsgZW5kISA6IGVuZCA/PyBzb3VyY2UubGVuZ3RoO1xuICBmb3IgKDsgc3RhcnQgPCBlbmQ7IHN0YXJ0KyspIHtcbiAgICBpZiAoXG4gICAgICBzb3VyY2Vbc3RhcnRdICE9IG51bGwgJiZcbiAgICAgICgocmV0dXJuVmFsdWUgPSBhY3Rpb24oc291cmNlW3N0YXJ0XSwgaSsrKSA/PyByZXR1cm5WYWx1ZSksIHN0b3BJbnZva2VkKVxuICAgICkge1xuICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5jb25zdCBmb3JFYWNoSXRlcmFibGUgPSAoc291cmNlOiBJdGVyYWJsZTxhbnk+LCBhY3Rpb246IGFueSkgPT4ge1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCB2YWx1ZSBvZiBzb3VyY2UgYXMgYW55KSB7XG4gICAgaWYgKFxuICAgICAgdmFsdWUgIT0gbnVsbCAmJlxuICAgICAgKChyZXR1cm5WYWx1ZSA9IGFjdGlvbih2YWx1ZSwgaSsrKSA/PyByZXR1cm5WYWx1ZSksIHN0b3BJbnZva2VkKVxuICAgICkge1xuICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5jb25zdCBmb3JFYWNoT2JqZWN0ID0gKHNvdXJjZTogYW55LCBhY3Rpb246IGFueSkgPT4ge1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBrZXkgaW4gc291cmNlKSB7XG4gICAgaWYgKFxuICAgICAgKChyZXR1cm5WYWx1ZSA9IGFjdGlvbihba2V5LCBzb3VyY2Vba2V5XV0sIGkrKykgPz8gcmV0dXJuVmFsdWUpLFxuICAgICAgc3RvcEludm9rZWQpXG4gICAgKSB7XG4gICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseTogPFMsIFIsIEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uOiAoXG4gICAgaXRlbTogUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlID8gSXRlcmF0b3JJdGVtPFM+IDogT21pdE51bGxpc2g8Uz4sXG4gICAgLi4uYXJnczogQXJnc1xuICApID0+IFIsXG4gIC4uLmFyZ3M6IEFyZ3NcbikgPT4gUyBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IEV4Y2x1ZGU8UiwgTnVsbGlzaD5bXSA9IChcbiAgc291cmNlLFxuICBhY3Rpb24sXG4gIC4uLmFyZ3NcbikgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogaXNJdGVyYWJsZShzb3VyY2UpXG4gICAgPyBtYXAoc291cmNlLCAoaXRlbSkgPT4gYWN0aW9uKGl0ZW0gYXMgYW55LCAuLi5hcmdzKSlcbiAgICA6IChhY3Rpb24oc291cmNlIGFzIGFueSwgLi4uYXJncykgYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IGFwcGx5QXN5bmM6IDxcbiAgUyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLFxuICBSIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PixcbiAgQXJncyBleHRlbmRzIHJlYWRvbmx5IGFueVtdXG4+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbjogKGl0ZW06IEl0ZXJhdG9ySXRlbTxTPiwgLi4uYXJnczogQXJncykgPT4gUixcbiAgLi4uYXJnczogQXJnc1xuKSA9PiBQcm9taXNlPFMgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBFeGNsdWRlPFIsIE51bGxpc2g+W10+ID0gKFxuICBzb3VyY2UsXG4gIGFjdGlvbixcbiAgLi4uYXJnc1xuKSA9PiBtYXBBc3luYyhzb3VyY2UsIChpdGVtKSA9PiBhY3Rpb24oaXRlbSwgLi4uYXJncykpIGFzIGFueTtcblxuY29uc3QgZm9yRWFjaEludGVybmFsOiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSPihcbiAgc291cmNlOiBTLFxuICBhY3Rpb24/OiBJdGVyYXRvckFjdGlvbjxTLCBSPixcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PiBSIHwgdW5kZWZpbmVkID0gKHNvdXJjZSwgYWN0aW9uLCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuO1xuXG4gIGlmIChpc0FycmF5KHNvdXJjZSkpIHJldHVybiBmb3JFYWNoQXJyYXkoc291cmNlLCBhY3Rpb24sIHN0YXJ0LCBlbmQpO1xuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChzb3VyY2Vbc3ltYm9sSXRlcmF0b3JdKSByZXR1cm4gZm9yRWFjaEl0ZXJhYmxlKHNvdXJjZSBhcyBhbnksIGFjdGlvbik7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwib2JqZWN0XCIpIHJldHVybiBmb3JFYWNoT2JqZWN0KHNvdXJjZSwgYWN0aW9uKTtcbiAgfVxuICBsZXQgcmV0dXJuVmFsdWU6IGFueTtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBjcmVhdGVJdGVyYXRvcihzb3VyY2UsIGFjdGlvbiwgc3RhcnQsIGVuZCkpIHtcbiAgICB2YWx1ZSAhPSBudWxsICYmIChyZXR1cm5WYWx1ZSA9IHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JFYWNoID0gZm9yRWFjaEludGVybmFsIGFzIHtcbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgUj4oXG4gICAgc291cmNlOiBTLFxuICAgIGFjdGlvbjogRnVuY3Rpb25hbEl0ZXJhdG9yQWN0aW9uPFMsIFI+LFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBSIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGZvckVhY2hBc3luYzogPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFIgZXh0ZW5kcyBQcm9taXNlTGlrZTxhbnk+XG4+KFxuICBzb3VyY2U6IFMsXG4gIGFjdGlvbjogSXRlcmF0b3JBY3Rpb248UywgUj4sXG4gIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBQcm9taXNlPFIgfCB1bmRlZmluZWQ+ID0gYXN5bmMgKFxuICBzb3VyY2U6IGFueSxcbiAgYWN0aW9uOiBhbnksXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT4ge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGxldCByZXR1cm5WYWx1ZTogYW55O1xuICBmb3IgKGxldCBpdGVtIG9mIHByb2plY3Qoc291cmNlLCBhY3Rpb24sIHN0YXJ0LCBlbmQpKSB7XG4gICAgKGl0ZW0gPSAoYXdhaXQgaXRlbSkgYXMgYW55KSAhPSBudWxsICYmIChyZXR1cm5WYWx1ZSA9IGl0ZW0pO1xuICAgIGlmIChzdG9wSW52b2tlZCkge1xuICAgICAgc3RvcEludm9rZWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgZmxhdEZvckVhY2ggPSA8XG4gIFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSxcbiAgUixcbiAgUCxcbiAgRGVwdGggZXh0ZW5kcyBudW1iZXIsXG4gIE8gZXh0ZW5kcyBib29sZWFuID0gZmFsc2Vcbj4oXG4gIHNvdXJjZTogUyxcbiAgYWN0aW9uOiBJdGVyYXRvckFjdGlvbjxTLCBSPiB8IFAsXG4gIGRlcHRoOiBEZXB0aCA9IDEgYXMgYW55LFxuICBleHBhbmRPYmplY3RzOiBPID0gZmFsc2UgYXMgYW55LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbik6IEZsYXRJdGVyYXRvckl0ZW08SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+LCBEZXB0aCwgTz4gfCB1bmRlZmluZWQgPT5cbiAgZm9yRWFjaEludGVybmFsKFxuICAgIGZsYXR0ZW4oc291cmNlLCB1bmRlZmluZWQsIGRlcHRoLCBleHBhbmRPYmplY3RzLCAuLi4ocmVzdCBhcyBhbnkpKSxcbiAgICBhY3Rpb24gYXMgYW55XG4gICkgYXMgYW55O1xuXG50eXBlIEtleVZhbHVlUGFydHM8VD4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEtleSwgaW5mZXIgVmFsdWVdXG4gID8gW0tleSwgVmFsdWVdXG4gIDogW3VuZGVmaW5lZCwgdW5kZWZpbmVkXTtcblxudHlwZSBPYmplY3RFbnRyeVR5cGU8VD4gPSBUIGV4dGVuZHMgaW5mZXIgVFxuICA/IHsgW1AgaW4ga2V5b2YgVF0tPzogW1AsIFRbUF1dIH1ba2V5b2YgVF1cbiAgOiBuZXZlcjtcblxudHlwZSBPYmplY3RGcm9tRW50cmllczxFbnRyeVR5cGUgZXh0ZW5kcyByZWFkb25seSBba2V5b2YgYW55LCBhbnldPiA9XG4gIFVuaW9uVG9JbnRlcnNlY3Rpb248XG4gICAgRW50cnlUeXBlIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEtleSBleHRlbmRzIGtleW9mIGFueSwgaW5mZXIgVmFsdWVdXG4gICAgICA/IHsgW1AgaW4gS2V5XTogVmFsdWUgfVxuICAgICAgOiBuZXZlclxuICA+O1xuXG4vKiogRmFzdCB2ZXJzaW9uIG9mIGBvYmpgLiAqL1xuZXhwb3J0IGNvbnN0IGZyb21FbnRyaWVzOiB7XG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYWJsZTxyZWFkb25seSBba2V5b2YgYW55LCBhbnldIHwgRmFsc2lzaD4gfCBOdWxsaXNoPihcbiAgICBzb3VyY2U6IFNvdXJjZVxuICApOiBTb3VyY2UgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBFbnRyeSBleHRlbmRzIHJlYWRvbmx5IFtrZXlvZiBhbnksIGFueV0+XG4gICAgPyBPYmplY3RGcm9tRW50cmllczxFbnRyeT5cbiAgICA6IHVuZGVmaW5lZDtcbiAgPFxuICAgIFNvdXJjZSBleHRlbmRzIFJlY29yZDxrZXlvZiBhbnksIGFueT4gfCBOdWxsaXNoLFxuICAgIE1hcHBlZCBleHRlbmRzIHJlYWRvbmx5IFtrZXlvZiBhbnksIGFueV0gfCBGYWxzaXNoID0gT2JqZWN0RW50cnlUeXBlPFNvdXJjZT5cbiAgPihcbiAgICBzb3VyY2U6IFNvdXJjZSxcbiAgICBtYXA6IChlbnRyeTogT2JqZWN0RW50cnlUeXBlPFNvdXJjZT4sIGluZGV4OiBudW1iZXIpID0+IE1hcHBlZCB8IE51bGxpc2hcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBPYmplY3RGcm9tRW50cmllczxcbiAgICAgICAgTWFwcGVkIGV4dGVuZHMgcmVhZG9ubHkgW2tleW9mIGFueSwgYW55XSA/IE1hcHBlZCA6IG5ldmVyXG4gICAgICA+O1xufSA9IChzb3VyY2U6IGFueSwgbWFwPzogYW55KSA9PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcbiAgaWYgKG1hcCkge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgdmFsdWU6IGFueTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICh2YWx1ZSA9IG1hcChba2V5LCBzb3VyY2Vba2V5XV0sIGkrKykpICYmIChyZXN1bHRbdmFsdWVbMF1dID0gdmFsdWVbMV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHNvdXJjZSkge1xuICAgICAgZW50cnkgJiYgKHJlc3VsdFtlbnRyeVswXV0gPSBlbnRyeVsxXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIExpa2UgT2JqZWN0LmZyb21FbnRyaWVzLCBidXQgYWNjZXB0cyBhbnkgaXRlcmFibGUgc291cmNlIGFuZCBhIHByb2plY3Rpb24gaW5zdGVhZCBvZiBqdXN0IGtleS92YWx1ZSBwYWlycy5cbiAqIFByb3BlcnRpZXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzIGFyZSBub3QgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdGluZyBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBvYmo6IHtcbiAgPFMgZXh0ZW5kcyBLZXlWYWx1ZVNvdXJjZSB8IE51bGxpc2g+KHNvdXJjZTogUyk6IE1heWJlVW5kZWZpbmVkPFxuICAgIFMsXG4gICAgS2V5VmFsdWVQYWlyc1RvT2JqZWN0PEl0ZXJhdG9ySXRlbTxTPj5cbiAgPjtcbiAgPFMgZXh0ZW5kcyBJdGVyYWJsZTxLZXlWYWx1ZVNvdXJjZT4gfCBOdWxsaXNoLCBHIGV4dGVuZHMgYm9vbGVhbj4oXG4gICAgc291cmNlOiBTLFxuICAgIGdyb3VwOiBHXG4gICk6IFMgZXh0ZW5kcyBOdWxsaXNoXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IEtleVZhbHVlU291cmNlc1RvT2JqZWN0PEl0ZXJhdG9ySXRlbTxTPiwgRz47XG5cbiAgPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSB8IE51bGxpc2gsIFIgZXh0ZW5kcyByZWFkb25seSBbYW55LCBhbnldLCBQPihcbiAgICBzb3VyY2U6IFMsXG4gICAgc2VsZWN0b3I6IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgICBtZXJnZT86IChcbiAgICAgIGN1cnJlbnQ6IEtleVZhbHVlUGFydHM8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+PlsxXSB8IHVuZGVmaW5lZCxcbiAgICAgIHZhbHVlOiBLZXlWYWx1ZVBhcnRzPEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj5bMV1cbiAgICApID0+IEtleVZhbHVlUGFydHM8SXRlcmF0b3JQcm9qZWN0aW9uPFMsIFIsIFA+PlsxXSB8IE51bGxpc2hcbiAgKTogS2V5VmFsdWVQYWlyc1RvT2JqZWN0PEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPj47XG59ID0gKChzb3VyY2U6IGFueSwgc2VsZWN0b3I/OiBhbnksIG1lcmdlPzogYW55KSA9PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBpZiAoaXNCb29sZWFuKHNlbGVjdG9yKSB8fCBtZXJnZSkge1xuICAgIGxldCByZXN1bHQgPSB7fSBhcyBhbnk7XG4gICAgZm9yRWFjaChcbiAgICAgIHNvdXJjZSxcbiAgICAgIG1lcmdlXG4gICAgICAgID8gKGl0ZW0sIGkpID0+XG4gICAgICAgICAgICAoaXRlbSA9IHNlbGVjdG9yKGl0ZW0sIGkpKSAhPSBudWxsICYmXG4gICAgICAgICAgICAoaXRlbVsxXSA9IG1lcmdlKHJlc3VsdFtpdGVtWzBdXSwgaXRlbVsxXSkpICE9IG51bGwgJiZcbiAgICAgICAgICAgIChyZXN1bHRbaXRlbVswXV0gPSBpdGVtWzFdKVxuICAgICAgICA6IChzb3VyY2UpID0+XG4gICAgICAgICAgICBmb3JFYWNoKFxuICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgPyAoaXRlbSkgPT5cbiAgICAgICAgICAgICAgICAgICAgaXRlbT8uWzFdICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgKChyZXN1bHRbaXRlbVswXV0gPz89IFtdKS5wdXNoKGl0ZW1bMV0pLCByZXN1bHQpXG4gICAgICAgICAgICAgICAgOiAoaXRlbSkgPT5cbiAgICAgICAgICAgICAgICAgICAgaXRlbT8uWzFdICE9IG51bGwgJiYgKChyZXN1bHRbaXRlbVswXV0gPSBpdGVtWzFdKSwgcmVzdWx0KVxuICAgICAgICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gZnJvbUVudHJpZXMoXG4gICAgbWFwKFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZWN0b3JcbiAgICAgICAgPyAoaXRlbSwgaW5kZXgpID0+IGlmRGVmaW5lZChzZWxlY3RvcihpdGVtLCBpbmRleCksIDEpXG4gICAgICAgIDogKGl0ZW0pID0+IGlmRGVmaW5lZChpdGVtLCAxKVxuICAgICkhXG4gICk7XG59KSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBncm91cFJlZHVjZTogPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIEtleSxcbiAgQWNjdW11bGF0b3IgPSB1bmtub3duXG4+KFxuICBzb3VyY2U6IFMsXG4gIGtleVNlbGVjdG9yOiAoaXRlbTogSXRlcmF0b3JJdGVtPFM+LCBpbmRleDogbnVtYmVyKSA9PiBLZXksXG4gIHJlZHVjZXI6IChcbiAgICBhY2N1bXVsYXRvcjogR2VuZXJhbGl6ZUNvbnN0YW50czxBY2N1bXVsYXRvcj4sXG4gICAgaXRlbTogSXRlcmF0b3JJdGVtPFM+LFxuICAgIGluZGV4OiBudW1iZXJcbiAgKSA9PiBBY2N1bXVsYXRvcixcbiAgc2VlZD86IEFjY3VtdWxhdG9yIHwgKCgpID0+IEFjY3VtdWxhdG9yKSxcbiAgLi4ucmVzZXQ6IFN0YXJ0RW5kQXJnczxTPlxuKSA9PiBNYXA8S2V5LCBBY2N1bXVsYXRvcj4gPSAoXG4gIHNvdXJjZSxcbiAga2V5U2VsZWN0b3IsXG4gIHJlZHVjZXIsXG4gIHNlZWQsXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT4ge1xuICBjb25zdCBncm91cHMgPSBuZXcgTWFwPGFueSwgYW55PigpO1xuICBjb25zdCBzZWVkRmFjdG9yeSA9ICgpID0+IChpc0Z1bmN0aW9uKHNlZWQpID8gc2VlZCgpIDogc2VlZCk7XG4gIGNvbnN0IGFjdGlvbjogSXRlcmF0b3JBY3Rpb248YW55LCBhbnk+ID0gKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qga2V5ID0ga2V5U2VsZWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGxldCBhY2MgPSBncm91cHMuZ2V0KGtleSkgPz8gc2VlZEZhY3RvcnkoKTtcbiAgICBjb25zdCB2YWx1ZSA9IHJlZHVjZXIoYWNjLCBpdGVtLCBpbmRleCk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGdyb3Vwcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBmb3JFYWNoSW50ZXJuYWwoc291cmNlLCBhY3Rpb24sIHN0YXJ0LCBlbmQpO1xuICByZXR1cm4gZ3JvdXBzIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm91cDogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZSwgS2V5LCBSID0gSXRlcmF0b3JJdGVtPFM+PihcbiAgc291cmNlOiBTLFxuICBrZXlTZWxlY3RvcjogKGl0ZW06IEl0ZXJhdG9ySXRlbTxTPiwgaW5kZXg6IG51bWJlcikgPT4gS2V5LFxuICB2YWx1ZVNlbGVjdG9yPzogKGl0ZW06IEl0ZXJhdG9ySXRlbTxTPiwgaW5kZXg6IG51bWJlcikgPT4gUixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IFMgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBNYXA8S2V5LCBSW10+ID0gKFxuICBzb3VyY2UsXG4gIGtleVNlbGVjdG9yLFxuICB2YWx1ZVNlbGVjdG9yID0gKGl0ZW06IGFueSkgPT4gaXRlbSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PiB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gIGNvbnN0IGdyb3VwcyA9IG5ldyBNYXA8YW55LCBhbnlbXT4oKTtcbiAgKGZvckVhY2hJbnRlcm5hbCBhcyBhbnkpKFxuICAgIHNvdXJjZSxcbiAgICAoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlTZWxlY3RvcihpdGVtLCBpbmRleCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlU2VsZWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgICAgZ2V0KGdyb3Vwcywga2V5IGFzIGFueSwgKCkgPT4gW10pLnB1c2godmFsdWUpO1xuICAgIH0sXG4gICAgc3RhcnQsXG4gICAgZW5kXG4gICk7XG4gIHJldHVybiBncm91cHMgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZHVjZTogPFxuICBTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsXG4gIFJlZHVjZXIgZXh0ZW5kcyAoXG4gICAgLi4uYXJnczogW1xuICAgICAgYWNjdW11bGF0b3I6IHVua25vd24gZXh0ZW5kcyBBY2N1bXVsYXRvclxuICAgICAgICA/IGFueVxuICAgICAgICA6IEdlbmVyYWxpemVDb25zdGFudHM8QWNjdW11bGF0b3I+LFxuICAgICAgaXRlbTogSXRlcmF0b3JJdGVtPFM+LFxuICAgICAgaW5kZXg6IG51bWJlclxuICAgIF1cbiAgKSA9PiBHZW5lcmFsaXplQ29uc3RhbnRzPEFjY3VtdWxhdG9yPixcbiAgQWNjdW11bGF0b3Jcbj4oXG4gIHNvdXJjZTogUyxcbiAgcmVkdWNlcjogUmVkdWNlcixcbiAgc2VlZD86IEFjY3VtdWxhdG9yIHwgKCgpID0+IEFjY3VtdWxhdG9yKSxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IFJlZHVjZXIgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBpbmZlciBSXG4gID8gUiB8ICh1bmtub3duIGV4dGVuZHMgQWNjdW11bGF0b3IgPyB1bmRlZmluZWQgOiBuZXZlcilcbiAgOiBuZXZlciA9IChzb3VyY2UsIHJlZHVjZXIsIHNlZWQsIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+IHtcbiAgY29uc3Qgc2VlZEZhY3RvcnkgPSAoKSA9PiAoaXNGdW5jdGlvbihzZWVkKSA/IHNlZWQoKSA6IHNlZWQpO1xuICByZXR1cm4gKFxuICAgIGZvckVhY2hJbnRlcm5hbChcbiAgICAgIHNvdXJjZSxcbiAgICAgICh2YWx1ZSwgaW5kZXgpID0+XG4gICAgICAgIChzZWVkID1cbiAgICAgICAgICAoKHJlZHVjZXIgYXMgYW55KShzZWVkIGFzIGFueSwgdmFsdWUsIGluZGV4KSBhcyBhbnkpID8/XG4gICAgICAgICAgc2VlZEZhY3RvcnkoKSksXG4gICAgICBzdGFydCxcbiAgICAgIGVuZFxuICAgICkgPz8gKHNlZWRGYWN0b3J5KCkgYXMgYW55KVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlcjoge1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBQIGV4dGVuZHMgSXRlcmF0b3JGaWx0ZXI8Uz4+KFxuICAgIHNvdXJjZTogUyxcbiAgICBwcmVkaWNhdGU/OiBQLFxuICAgIC4uLmFyZ3M6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBNYXliZVVuZGVmaW5lZDxTLCBFeGNsdWRlPEV4Y2x1ZGU8SXRlcmF0b3JJdGVtPFM+LCBGYWxzaXNoPltdLCBuZXZlcltdPj47XG59ID0gKHNvdXJjZSwgcHJlZGljYXRlLCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PlxuICAobWFwIGFzIGFueSkoXG4gICAgc291cmNlLFxuICAgICh2YWx1ZTogYW55LCBpbmRleDogYW55KSA9PlxuICAgICAgdmFsdWUgJiYgcHJlZGljYXRlPy4odmFsdWUsIGluZGV4KSA/IHZhbHVlIDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0LFxuICAgIGVuZFxuICApIGFzIGFueTtcblxubGV0IGZpbHRlckludGVybmFsID0gZmlsdGVyO1xuXG5leHBvcnQgY29uc3QgY291bnQ6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBzb3VyY2U6IFMsXG4gIHByZWRpY2F0ZT86IEl0ZXJhdG9yRmlsdGVyPFM+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gTWF5YmVVbmRlZmluZWQ8UywgbnVtYmVyPiA9IChcbiAgc291cmNlOiBJdGVyYXRvclNvdXJjZSxcbiAgZmlsdGVyPzogSXRlcmF0b3JGaWx0ZXI8SXRlcmF0b3JTb3VyY2U+XG4pID0+IHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcblxuICBsZXQgbjogbnVtYmVyO1xuICBpZiAoIWZpbHRlcikge1xuICAgIGlmICgobiA9IHNvdXJjZSFbXCJsZW5ndGhcIl0gPz8gc291cmNlIVtcInNpemVcIl0pICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBpZiAoIXNvdXJjZVtzeW1ib2xJdGVyYXRvcl0pIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBuID0gMDtcbiAgcmV0dXJuIChcbiAgICBmb3JFYWNoSW50ZXJuYWwoXG4gICAgICBzb3VyY2UsXG4gICAgICBmaWx0ZXIgPyAoaXRlbSwgaW5kZXgpID0+IChmaWx0ZXIhKGl0ZW0sIGluZGV4KSA/ICsrbiA6IG4pIDogKCkgPT4gKytuXG4gICAgKSA/PyAoMCBhcyBhbnkpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3Qgc3VtOiB7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2VPZjxudW1iZXI+PihcbiAgICBzb3VyY2U6IFMsXG4gICAgc2VsZWN0b3I/OiBJdGVyYXRvckFjdGlvbjxTLCBudW1iZXI+LFxuICAgIC4uLnJlc3Q6IFN0YXJ0RW5kQXJnczxTPlxuICApOiBudW1iZXI7XG4gIDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICAgIHNvdXJjZTogUyxcbiAgICBzZWxlY3RvcjogSXRlcmF0b3JBY3Rpb248UywgbnVtYmVyPixcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogbnVtYmVyO1xufSA9IChcbiAgc291cmNlOiBhbnksXG4gIHNlbGVjdG9yOiBhbnkgPSAoaXRlbTogYW55KSA9PiBpdGVtLFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+XG4gIHJlZHVjZShcbiAgICBzb3VyY2UsXG4gICAgKHN1bSwgdmFsdWUsIGluZGV4KSA9PiBzdW0gKyAoc2VsZWN0b3IodmFsdWUsIGluZGV4KSA/PyAwKSxcbiAgICAwLFxuICAgIHN0YXJ0LFxuICAgIGVuZFxuICApO1xuXG50eXBlIENhbkJlRW1wdHlTb3VyY2U8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPiA9IGFueVtdIGV4dGVuZHMgU1xuICA/IHRydWVcbiAgOiBTIGV4dGVuZHMgeyBsZW5ndGg6IDAgfSB8IDAgLy8gWmVybyBsZW5ndGggcmFuZ2UuXG4gID8gdHJ1ZVxuICA6IFMgZXh0ZW5kcyByZWFkb25seSBhbnlbXSB8IG51bWJlclxuICA/IGZhbHNlXG4gIDogdHJ1ZTtcblxudHlwZSBNaW5NYXhGdW5jdGlvbiA9IHtcbiAgPFMgZXh0ZW5kcyByZWFkb25seSBudW1iZXJbXT4oLi4ubnVtYmVyczogUyB8IHJlYWRvbmx5IFtudW1iZXJdKTpcbiAgICB8IChTIGV4dGVuZHMgcmVhZG9ubHkgW10gPyB1bmRlZmluZWQgOiBudW1iZXIpXG4gICAgfCBVbmRlZmluZWRJZkVtcHR5PFM+O1xuICA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlLCBSLCBQPihcbiAgICBzb3VyY2U6IFMgfCByZWFkb25seSBbbnVtYmVyXSxcbiAgICBzZWxlY3Rvcj86IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbiAgKTogdHJ1ZSBleHRlbmRzIENhbkJlRW1wdHlTb3VyY2U8Uz5cbiAgICA/IG51bWJlciB8IHVuZGVmaW5lZFxuICAgIDogSWY8XG4gICAgICAgIEV4dGVuZHM8SXRlcmF0b3JQcm9qZWN0aW9uV2l0aFVuZGVmaW5lZDxTLCBSLCBQPiwgbnVtYmVyPixcbiAgICAgICAgbnVtYmVyLFxuICAgICAgICB1bmRlZmluZWRcbiAgICAgID47XG59O1xuXG5leHBvcnQgY29uc3QgbWluOiBNaW5NYXhGdW5jdGlvbiA9IChzb3VyY2U6IGFueSwgLi4uYXJnczogYW55W10pID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IGlzTnVtYmVyKHNvdXJjZSlcbiAgICA/IE1hdGgubWluKHNvdXJjZSwgLi4uYXJncylcbiAgICA6IHJlZHVjZShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoXG4gICAgICAgICAgbWluLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIHByb2plY3RlZCA9IGFyZ3NbMV0gPyBhcmdzWzFdKHZhbHVlLCBpbmRleCkgOiB2YWx1ZVxuICAgICAgICApID0+XG4gICAgICAgICAgbWluID09IG51bGwgfHwgKGlzTnVtYmVyKHByb2plY3QpICYmIHByb2plY3RlZCA8IG1pbilcbiAgICAgICAgICAgID8gcHJvamVjdGVkXG4gICAgICAgICAgICA6IG1heCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBhcmdzWzJdLFxuICAgICAgICBhcmdzWzNdXG4gICAgICApO1xuXG5leHBvcnQgY29uc3QgbWF4QnkgPSA8VD4oXG4gIHNvdXJjZTogSXRlcmFibGU8VD4sXG4gIHNlbGVjdG9yOiAoaXRlbTogVCwgY3VycmVudE1heD86IG51bWJlcikgPT4gbnVtYmVyIHwgZmFsc2UgfCBOdWxsaXNoXG4pID0+IHtcbiAgbGV0IGJlc3Q6IFtULCBudW1iZXJdIHwgdW5kZWZpbmVkO1xuICBsZXQgc2VsZWN0ZWQ6IG51bWJlciB8IGJvb2xlYW4gfCBOdWxsaXNoO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgc2VsZWN0ZWQgPSBzZWxlY3RvcihpdGVtLCBiZXN0Py5bMV0pO1xuICAgIGlmIChzZWxlY3RlZCA9PT0gZmFsc2UpIHJldHVybiBiZXN0O1xuICAgIGlmICghYmVzdCB8fCBzZWxlY3RlZCEgPiBiZXN0WzFdKSB7XG4gICAgICBiZXN0ID0gW2l0ZW0sIHNlbGVjdGVkIV07XG4gICAgfVxuICB9XG4gIHJldHVybiBiZXN0O1xufTtcblxuZXhwb3J0IGNvbnN0IG1heDogTWluTWF4RnVuY3Rpb24gPSAoc291cmNlOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBpc051bWJlcihzb3VyY2UpXG4gICAgPyBNYXRoLm1heChzb3VyY2UsIC4uLmFyZ3MpXG4gICAgOiByZWR1Y2UoXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKFxuICAgICAgICAgIG1heCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBwcm9qZWN0ZWQgPSBhcmdzWzFdID8gYXJnc1sxXSh2YWx1ZSwgaW5kZXgpIDogdmFsdWVcbiAgICAgICAgKSA9PlxuICAgICAgICAgIG1heCA9PSBudWxsIHx8IChpc051bWJlcihwcm9qZWN0ZWQpICYmIHByb2plY3RlZCA+IG1heClcbiAgICAgICAgICAgID8gcHJvamVjdGVkXG4gICAgICAgICAgICA6IG1heCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBhcmdzWzJdLFxuICAgICAgICBhcmdzWzNdXG4gICAgICApO1xuXG5leHBvcnQgY29uc3QgdmFsdWVzOiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gTWF5YmVVbmRlZmluZWQ8XG4gIFMsXG4gIChJdGVyYXRvckl0ZW08Uz4gZXh0ZW5kcyByZWFkb25seSBbYW55LCBpbmZlciBJdGVtXVxuICAgID8gSXRlbVxuICAgIDogSXRlcmF0b3JJdGVtPFM+KVtdXG4+ID0gKHNvdXJjZSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgKG1hcCBhcyBhbnkpKFxuICAgIHNvdXJjZSxcbiAgICBpc1BsYWluT2JqZWN0KHNvdXJjZSkgfHwgaXNNYXAoc291cmNlKVxuICAgICAgPyAoaXRlbTogYW55KSA9PiBpdGVtWzFdXG4gICAgICA6IChpdGVtOiBhbnkpID0+IGl0ZW0sXG4gICAgc3RhcnQsXG4gICAgZW5kXG4gICk7XG5cbmV4cG9ydCBjb25zdCBlbnRyaWVzOiA8UyBleHRlbmRzIEl0ZXJhYmxlPGFueT4gfCBTaW1wbGVPYmplY3Q+KFxuICB0YXJnZXQ6IFNcbikgPT4gRW50cmllczxTPiA9ICh0YXJnZXQpID0+XG4gICFpc0FycmF5KHRhcmdldCkgJiYgaXNJdGVyYWJsZSh0YXJnZXQpXG4gICAgPyBtYXAoXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgaXNNYXAodGFyZ2V0KVxuICAgICAgICAgID8gKHZhbHVlKSA9PiB2YWx1ZVxuICAgICAgICAgIDogaXNTZXQodGFyZ2V0KVxuICAgICAgICAgID8gKHZhbHVlKSA9PiBbdmFsdWUsIHRydWVdXG4gICAgICAgICAgOiAodmFsdWUsIGluZGV4KSA9PiBbaW5kZXgsIHZhbHVlXVxuICAgICAgKVxuICAgIDogaXNPYmplY3QodGFyZ2V0KVxuICAgID8gKE9iamVjdC5lbnRyaWVzKHRhcmdldCkgYXMgYW55KVxuICAgIDogdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3Qga2V5czogPFMgZXh0ZW5kcyBJdGVyYXRvclNvdXJjZT4oXG4gIHNvdXJjZTogUyxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFxuICBTLFxuICBJdGVyYXRvckl0ZW08Uz4gZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgS2V5LCBhbnldID8gS2V5IDogbnVtYmVyXG4+ID0gKHNvdXJjZSwgc3RhcnQ/OiBhbnksIGVuZD86IGFueSkgPT5cbiAgKG1hcCBhcyBhbnkpKFxuICAgIHNvdXJjZSxcbiAgICBpc1BsYWluT2JqZWN0KHNvdXJjZSlcbiAgICAgID8gKGl0ZW06IGFueSkgPT4gaXRlbVswXVxuICAgICAgOiAoX2l0ZW06IGFueSwgaTogbnVtYmVyKSA9PiBpLFxuICAgIHN0YXJ0LFxuICAgIGVuZFxuICApO1xuXG5leHBvcnQgY29uc3QgbWFwRmlyc3Q6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UsIFIsIFA+KFxuICBzb3VyY2U6IFMsXG4gIHByb2plY3Rpb246IEl0ZXJhdG9yQWN0aW9uPFMsIFI+IHwgUCxcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IEl0ZXJhdG9yUHJvamVjdGlvbjxTLCBSLCBQPiB8IHVuZGVmaW5lZCA9IChcbiAgc291cmNlLFxuICBwcm9qZWN0aW9uLFxuICBzdGFydD86IGFueSxcbiAgZW5kPzogYW55XG4pID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6ICgocHJvamVjdGlvbiA9IHdyYXBQcm9qZWN0aW9uKHByb2plY3Rpb24pISksXG4gICAgICBmb3JFYWNoSW50ZXJuYWwoXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKHZhbHVlLCBpKSA9PlxuICAgICAgICAgICFwcm9qZWN0aW9uIHx8ICh2YWx1ZSA9IChwcm9qZWN0aW9uIGFzIGFueSkodmFsdWUsIGkpKVxuICAgICAgICAgICAgPyBzdG9wKHZhbHVlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICAgICkpO1xuXG5leHBvcnQgY29uc3QgZmlyc3Q6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBzb3VyY2U6IFMsXG4gIHByZWRpY2F0ZT86IEl0ZXJhdG9yRmlsdGVyPFM+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gSXRlcmF0b3JJdGVtPFM+IHwgdW5kZWZpbmVkID0gKFxuICBzb3VyY2UsXG4gIHByZWRpY2F0ZT86IEl0ZXJhdG9yRmlsdGVyPGFueT4sXG4gIHN0YXJ0PzogYW55LFxuICBlbmQ/OiBhbnlcbikgPT5cbiAgc291cmNlID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogZm9yRWFjaEludGVybmFsKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgICh2YWx1ZSwgaSkgPT5cbiAgICAgICAgICAhcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh2YWx1ZSwgaSkgPyBzdG9wKHZhbHVlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZFxuICAgICAgKTtcblxuZXhwb3J0IGNvbnN0IGxhc3Q6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2UgfCB1bmRlZmluZWQ+KFxuICBzb3VyY2U6IFMsXG4gIHByZWRpY2F0ZT86IEl0ZXJhdG9yRmlsdGVyPFM+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gSXRlcmF0b3JJdGVtPFM+IHwgdW5kZWZpbmVkID0gKFxuICBzb3VyY2UsXG4gIHByZWRpY2F0ZT86IGFueSxcbiAgc3RhcnQ/OiBhbnksXG4gIGVuZD86IGFueVxuKSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBpc0FycmF5KHNvdXJjZSkgfHwgaXNTdHJpbmcoc291cmNlKVxuICAgID8gc291cmNlW3NvdXJjZS5sZW5ndGggLSAxXVxuICAgIDogZm9yRWFjaEludGVybmFsKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIChpdGVtLCBpKSA9PiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoaXRlbSwgaSkgPyBpdGVtIDogdW5kZWZpbmVkKSxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZFxuICAgICAgKTtcblxuZXhwb3J0IGNvbnN0IHJhbmsgPSA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihzb3VyY2U6IFMpID0+XG4gIGNyZWF0ZUl0ZXJhdG9yKHNvdXJjZSwgKGl0ZW0sIGkpID0+IFtpdGVtLCBpXSBhcyBjb25zdCk7XG5cbmV4cG9ydCBjb25zdCBzb21lOiA8UyBleHRlbmRzIEl0ZXJhdG9yU291cmNlPihcbiAgc291cmNlOiBTLFxuICBwcmVkaWNhdGU/OiBJdGVyYXRvckZpbHRlcjxTPixcbiAgLi4ucmVzdDogU3RhcnRFbmRBcmdzPFM+XG4pID0+IE1heWJlVW5kZWZpbmVkPFMsIGJvb2xlYW4+ID0gKHNvdXJjZSwgcHJlZGljYXRlLCBzdGFydD86IGFueSwgZW5kPzogYW55KSA9PlxuICBzb3VyY2UgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBpc1BsYWluT2JqZWN0KHNvdXJjZSkgJiYgIXByZWRpY2F0ZVxuICAgID8gT2JqZWN0LmtleXMoc291cmNlKS5sZW5ndGggPiAwXG4gICAgOiAoc291cmNlIGFzIGFueSkuc29tZT8uKHByZWRpY2F0ZSA/PyBpc1RydWlzaCkgPz9cbiAgICAgIGZvckVhY2hJbnRlcm5hbDxhbnksIGJvb2xlYW4+KFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHByZWRpY2F0ZVxuICAgICAgICAgID8gKGl0ZW0sIGluZGV4KSA9PiAocHJlZGljYXRlKGl0ZW0sIGluZGV4KSA/IHN0b3AodHJ1ZSkgOiBmYWxzZSlcbiAgICAgICAgICA6ICgpID0+IHN0b3AodHJ1ZSksXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICAgICkgPz9cbiAgICAgIGZhbHNlO1xuXG5leHBvcnQgY29uc3QgZXZlcnk6IDxTIGV4dGVuZHMgSXRlcmF0b3JTb3VyY2U+KFxuICBzb3VyY2U6IFMsXG4gIHByZWRpY2F0ZT86IEl0ZXJhdG9yRmlsdGVyPFM+LFxuICAuLi5yZXN0OiBTdGFydEVuZEFyZ3M8Uz5cbikgPT4gTWF5YmVVbmRlZmluZWQ8UywgYm9vbGVhbj4gPSAoc291cmNlLCBwcmVkaWNhdGUsIHN0YXJ0PzogYW55LCBlbmQ/OiBhbnkpID0+XG4gIHNvdXJjZSA9PSBudWxsXG4gICAgPyB1bmRlZmluZWRcbiAgICA6ICghKHNvbWUgYXMgYW55KShcbiAgICAgICAgc291cmNlLFxuICAgICAgICBwcmVkaWNhdGVcbiAgICAgICAgICA/IChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICFwcmVkaWNhdGUoaXRlbSwgaW5kZXgpXG4gICAgICAgICAgOiBpc0ZhbHNpc2gsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICAgICkgYXMgYW55KTtcblxuLyoqXG4gKiBBcnJheSdzIGBzb3J0YCBmdW5jdGlvbiB0aGF0IG9mZmVycyBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IGlzIGFwcGxpZWQgb24gZWFjaCBlbGVtZW50IGluc3RlYWQgb2YgaGF2aW5nIHRvIGRvIGl0IHR3aWNlIChgWy4uLl0uc29ydCh4LHkpPT5mKHgpLWYoeSlgKS5cbiAqIERlZmF1bHQgaXMgdG8gdXNlIHRoZSB2YWx1ZSBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNvcnQgPSA8XG4gIFQgZXh0ZW5kcyBJdGVyYWJsZTxhbnk+IHwgTnVsbGlzaCxcbiAgSXRlbSBleHRlbmRzIEl0ZXJhdG9ySXRlbTxUPlxuPihcbiAgaXRlbXM6IFQsXG4gIHJhbms6IChpdGVtOiBJdGVtKSA9PiBudW1iZXIgPSAoaXRlbSkgPT4gaXRlbSBhcyBhbnlcbik6IE1heWJlVW5kZWZpbmVkPFQsIEl0ZW1bXT4gPT5cbiAgKGFycmF5KGl0ZW1zKT8uc29ydCgobGhzLCByaHMpID0+IHJhbmsobGhzKSAtIHJhbmsocmhzKSksIGl0ZW1zKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBiaW5hcnlTZWFyY2g6IHtcbiAgKGFycjogQXJyYXk8bnVtYmVyPiwgZmluZDogbnVtYmVyKTogbnVtYmVyO1xuICA8VCA9IG51bWJlcj4oYXJyOiBBcnJheTxUPiwgZmluZDogVCwgY29tcGFyZTogKHg6IFQsIHk6IFQpID0+IG51bWJlcik6IG51bWJlcjtcbn0gPSA8VCA9IG51bWJlcj4oXG4gIGFycjogQXJyYXk8VD4sXG4gIGZpbmQ6IFQsXG4gIGNvbXBhcmU6ICh4OiBULCB5OiBUKSA9PiBudW1iZXIgPSAoKHg6IGFueSwgeTogYW55KSA9PiB4IC0geSkgYXMgYW55XG4pID0+IHtcbiAgbGV0IG0gPSAwO1xuICBsZXQgbiA9IGFyci5sZW5ndGggLSAxO1xuICBsZXQgY21wOiBudW1iZXI7XG4gIGxldCBrOiBudW1iZXI7XG4gIHdoaWxlIChtIDw9IG4pIHtcbiAgICBrID0gKG4gKyBtKSA+PiAxO1xuICAgIGNtcCA9IGNvbXBhcmUoZmluZCwgYXJyW2tdKTtcbiAgICBpZiAoY21wID4gMCkge1xuICAgICAgbSA9IGsgKyAxO1xuICAgIH0gZWxzZSBpZiAoY21wIDwgMCkge1xuICAgICAgbiA9IGsgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIH5tO1xufTtcbiIsImltcG9ydCB7XG4gIEFuZCxcbiAgRXh0ZW5kcyxcbiAgR2VuZXJhbGl6ZUNvbnN0YW50cyxcbiAgSWYsXG4gIElzQW55LFxuICBJdGVyYXRvckl0ZW0sXG4gIEl0ZXJhdG9yU291cmNlT2YsXG4gIEtleVZhbHVlUGFpcnNUb09iamVjdCxcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE1ldGhvZE92ZXJsb2FkcyxcbiAgTm90RnVuY3Rpb24sXG4gIE51bGxpc2gsXG4gIFByZXR0aWZ5SW50ZXJzZWN0aW9uLFxuICBQcmltaXRpdmVzLFxuICBTaW1wbGVPYmplY3QsXG4gIFN1YnRyYWN0LFxuICBVbmlvblRvSW50ZXJzZWN0aW9uLFxuICBjb3VudCxcbiAgZm9yRWFjaCxcbiAgaGFzTWV0aG9kLFxuICBpc0FycmF5LFxuICBpc0Z1bmN0aW9uLFxuICBpc01hcCxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1NldCxcbiAgbWFwLFxuICBvYmosXG4gIHN0cnVjdHVyYWxFcXVhbHMsXG4gIHRocm93RXJyb3IsXG59IGZyb20gXCIuXCI7XG5cbnR5cGUgUmVhZG9ubHlNYXBMaWtlPEsgPSBhbnksIFYgPSBhbnk+ID0ge1xuICBoYXM/KGtleTogSyk6IGJvb2xlYW47XG4gIGdldChrZXk6IEspOiBWIHwgdW5kZWZpbmVkO1xufTtcblxudHlwZSBNYXBMaWtlPEsgPSBhbnksIFYgPSBhbnk+ID0gUmVhZG9ubHlNYXBMaWtlPEssIFY+ICYge1xuICBzZXQoa2V5OiBLLCB2YWx1ZTogVik6IGFueTtcbiAgZGVsZXRlKGtleTogSyk6IGFueTtcbiAgY2xlYXIoKTogYW55O1xufTtcblxudHlwZSBSZWFkb25seVNldExpa2U8SyA9IGFueT4gPSB7XG4gIGhhcyhrZXk6IEspOiBib29sZWFuO1xufTtcbnR5cGUgU2V0TGlrZTxLID0gYW55PiA9IFJlYWRvbmx5U2V0TGlrZTxLPiAmIHtcbiAgYWRkKGtleTogSyk6IGFueTtcbiAgZGVsZXRlKGtleTogSyk6IGFueTtcbiAgY2xlYXIoKTogYW55O1xufTtcblxudHlwZSBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyPEsgZXh0ZW5kcyBhbnkgPSBhbnksIFYgZXh0ZW5kcyBhbnkgPSBhbnk+ID1cbiAgfCBTaW1wbGVPYmplY3RcbiAgfCByZWFkb25seSBhbnlbXVxuICB8IFJlYWRvbmx5TWFwTGlrZTxLLCBWPlxuICB8IFJlYWRvbmx5U2V0TGlrZTxLPjtcblxudHlwZSBQcm9wZXJ0eUNvbnRhaW5lcjxLIGV4dGVuZHMgYW55ID0gYW55LCBWIGV4dGVuZHMgYW55ID0gYW55PiA9XG4gIHwgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcjxLLCBWPlxuICB8IE1hcExpa2U8SywgVj5cbiAgfCBTZXRMaWtlPEs+O1xuXG5leHBvcnQgdHlwZSBUdXBsZUluZGljZXM8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiA9IFQgZXh0ZW5kcyByZWFkb25seSBbXVxuICA/IG5ldmVyXG4gIDogbnVtYmVyIGV4dGVuZHMgVFtcImxlbmd0aFwiXVxuICA/IG51bWJlclxuICA6IFQgZXh0ZW5kcyByZWFkb25seSBbYW55LCAuLi5pbmZlciBSZXN0XVxuICA/IFR1cGxlSW5kaWNlczxSZXN0PiB8IFJlc3RbXCJsZW5ndGhcIl1cbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgS2V5VHlwZTxUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2g+ID1cbiAgVCBleHRlbmRzIFByaW1pdGl2ZXNcbiAgICA/IG5ldmVyXG4gICAgOiBUIGV4dGVuZHMgUmVhZG9ubHlNYXBMaWtlPGluZmVyIEssIGFueT4gfCBSZWFkb25seVNldExpa2U8aW5mZXIgSz5cbiAgICA/IEtcbiAgICA6IFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxuICAgID8gVHVwbGVJbmRpY2VzPFQ+XG4gICAgOiBrZXlvZiBUO1xuXG5leHBvcnQgdHlwZSBWYWx1ZVR5cGU8XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaCxcbiAgSyA9IEtleVR5cGU8VD4sXG4gIENvbnRleHQgZXh0ZW5kcyB1bmRlZmluZWQgfCBcImdldFwiIHwgXCJzZXRcIiA9IHVuZGVmaW5lZFxuPiA9IElzQW55PFQ+IGV4dGVuZHMgdHJ1ZVxuICA/IGFueVxuICA6IFQgZXh0ZW5kcyBOdWxsaXNoXG4gID8gbmV2ZXJcbiAgOiBLIGV4dGVuZHMgS2V5VHlwZTxUPlxuICA/IFQgZXh0ZW5kcyBSZWFkb25seU1hcExpa2U8SywgaW5mZXIgVj5cbiAgICA/IFYgfCBJZjxFeHRlbmRzPENvbnRleHQsIFwiZ2V0XCIgfCBcInNldFwiPiwgdW5kZWZpbmVkPlxuICAgIDogVCBleHRlbmRzIFJlYWRvbmx5U2V0TGlrZTxLPlxuICAgID8gYm9vbGVhblxuICAgIDpcbiAgICAgICAgfCBUW0tdXG4gICAgICAgIHwgSWY8QW5kPEV4dGVuZHM8VCwgU2ltcGxlT2JqZWN0PiwgRXh0ZW5kczxDb250ZXh0LCBcInNldFwiPj4sIHVuZGVmaW5lZD5cbiAgOiBuZXZlcjtcblxuY29uc3Qgc2V0ID0gKHRhcmdldDogYW55LCBrZXk6IGFueSwgdmFsdWU6IGFueSkgPT4ge1xuICBpZiAodGFyZ2V0LmNvbnN0cnVjdG9yID09PSBPYmplY3QgfHwgaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGRlbGV0ZSB0YXJnZXRba2V5XSA6ICh0YXJnZXRba2V5XSA9IHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgPyB0YXJnZXQuZGVsZXRlXG4gICAgICA/IHRhcmdldC5kZWxldGUoa2V5KVxuICAgICAgOiBkZWxldGUgdGFyZ2V0W2tleV1cbiAgICA6IHRhcmdldC5zZXRcbiAgICA/IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSlcbiAgICA6IHRhcmdldC5hZGRcbiAgICA/IHZhbHVlXG4gICAgICA/IHRhcmdldC5hZGQoa2V5KVxuICAgICAgOiB0YXJnZXQuZGVsZXRlKGtleSlcbiAgICA6ICh0YXJnZXRba2V5XSA9IHZhbHVlKTtcblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0U2luZ2xlSWZOb3REZWZpbmVkID0gKFxuICB0YXJnZXQ6IGFueSxcbiAga2V5OiBhbnksXG4gIHZhbHVlOiBhbnksXG4gIGVycm9yOiAoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgY3VycmVudFZhbHVlOiBhbnksXG4gICAgbmV3VmFsdWU6IGFueSxcbiAgICB0YXJnZXQ6IGFueVxuICApID0+IHN0cmluZyB8IEVycm9yXG4pID0+IHtcbiAgY29uc3QgY3VycmVudFZhbHVlID0gZ2V0KHRhcmdldCwga2V5KTtcbiAgaWYgKGN1cnJlbnRWYWx1ZSAhPSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihlcnJvcihrZXksIGN1cnJlbnRWYWx1ZSwgdmFsdWUsIHRhcmdldCkpO1xuICB9XG4gIHJldHVybiBzZXQodGFyZ2V0LCBrZXksIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cnlBZGQ6IHtcbiAgPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciwgSyBleHRlbmRzIEtleVR5cGU8VD4+KFxuICAgIHRhcmdldDogVCxcbiAgICBrZXk6IEssXG4gICAgdmFsdWU6IFdyYXBwZWQ8VmFsdWVUeXBlPFQsIEssIFwic2V0XCI+PixcbiAgICBjb25mbGljdD86IChjdXJyZW50OiBWYWx1ZVR5cGU8VCwgSz4pID0+IHZvaWRcbiAgKTogYm9vbGVhbjtcbn0gPSAodGFyZ2V0LCBrZXksIHZhbHVlLCBjb25mbGljdCkgPT4ge1xuICBjb25zdCBjdXJyZW50ID0gZ2V0KHRhcmdldCwga2V5KTtcbiAgaWYgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgIGNvbmZsaWN0Py4oY3VycmVudCBhcyBhbnkpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXksIHVud3JhcCh2YWx1ZSkpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXQ6IHtcbiAgPFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaCwgSyBleHRlbmRzIEtleVR5cGU8VD4+KFxuICAgIHRhcmdldDogVCxcbiAgICBrZXk6IEtcbiAgKTogVmFsdWVUeXBlPFQsIEssIFwiZ2V0XCI+O1xuICA8XG4gICAgVCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoLFxuICAgIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+LFxuICAgIFIgZXh0ZW5kc1xuICAgICAgfCBWYWx1ZVR5cGU8VCwgSz5cbiAgICAgIHwgKCgpID0+IFZhbHVlVHlwZTxULCBLPilcbiAgICAgIHwgdW5kZWZpbmVkXG4gICAgICB8ICgoKSA9PiBWYWx1ZVR5cGU8VCwgSz4gfCB1bmRlZmluZWQpXG4gID4oXG4gICAgdGFyZ2V0OiBULFxuICAgIGtleTogSyxcbiAgICBpbml0OiBSXG4gICk6IFZhbHVlVHlwZTxcbiAgICBULFxuICAgIEssXG4gICAgUiBleHRlbmRzIFZhbHVlVHlwZTxULCBLPiB8ICgoKSA9PiBWYWx1ZVR5cGU8VCwgSz4pID8gdW5kZWZpbmVkIDogXCJnZXRcIlxuICA+O1xufSA9IDxcbiAgVCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoLFxuICBLIGV4dGVuZHMgS2V5VHlwZTxUPixcbiAgUiBleHRlbmRzIFZhbHVlVHlwZTxULCBLPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuPihcbiAgdGFyZ2V0OiBULFxuICBrZXk6IEsgfCB1bmRlZmluZWQsXG4gIGluaXQ/OiBXcmFwcGVkPFI+XG4pID0+IHtcbiAgaWYgKCF0YXJnZXQpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuXG4gIGxldCB2YWx1ZSA9ICh0YXJnZXQgYXMgYW55KS5nZXRcbiAgICA/ICh0YXJnZXQgYXMgYW55KS5nZXQoa2V5KVxuICAgIDogKHRhcmdldCBhcyBhbnkpLmhhc1xuICAgID8gKHRhcmdldCBhcyBhbnkpLmhhcyhrZXkpXG4gICAgOiB0YXJnZXRba2V5IGFzIGFueV07XG5cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaW5pdCAhPSBudWxsKSB7XG4gICAgKHZhbHVlID0gaXNGdW5jdGlvbihpbml0KSA/IChpbml0IGFzIGFueSkoKSA6IGluaXQpICE9IG51bGwgJiZcbiAgICAgIHNldCh0YXJnZXQsIGtleSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbnR5cGUgVXBkYXRlRnVuY3Rpb248XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyLFxuICBLZXksXG4gIEN1cnJlbnQsXG4gIEZhY3Rvcnlcbj4gPSBGYWN0b3J5IGV4dGVuZHMgZmFsc2VcbiAgPyAoXG4gICAgICBjdXJyZW50OiBDdXJyZW50LFxuICAgICAga2V5OiBLZXksXG4gICAgICB0YXJnZXQ6IFRcbiAgICApID0+IEdlbmVyYWxpemVDb25zdGFudHM8VmFsdWVUeXBlPFQsIEtleT4+IHwgdW5kZWZpbmVkXG4gIDogKGtleTogS2V5LCB0YXJnZXQ6IFQpID0+IEdlbmVyYWxpemVDb25zdGFudHM8VmFsdWVUeXBlPFQsIEtleT4+O1xuXG50eXBlIFVwZGF0ZXI8XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyLFxuICBLZXksXG4gIEN1cnJlbnQgPSBWYWx1ZVR5cGU8VCwgS2V5PixcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcbiAgRmFjdG9yeSA9IGZhbHNlXG4+ID0gU2V0dGVyc09ubHkgZXh0ZW5kcyB0cnVlXG4gID8gVmFsdWVUeXBlPFQsIEtleT4gfCAoRmFjdG9yeSBleHRlbmRzIHRydWUgPyBuZXZlciA6IHVuZGVmaW5lZClcbiAgOiBJc0FueTxUPiBleHRlbmRzIHRydWVcbiAgPyBOb3RGdW5jdGlvbiB8IFVwZGF0ZUZ1bmN0aW9uPGFueSwgYW55LCBhbnksIEZhY3Rvcnk+XG4gIDpcbiAgICAgIHwgKFZhbHVlVHlwZTxULCBLZXk+IGV4dGVuZHMgRnVuY3Rpb25cbiAgICAgICAgICA/IG5ldmVyXG4gICAgICAgICAgOiBWYWx1ZVR5cGU8VCwgS2V5PiB8IChGYWN0b3J5IGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogdW5kZWZpbmVkKSlcbiAgICAgIHwgVXBkYXRlRnVuY3Rpb248VCwgS2V5LCBDdXJyZW50LCBGYWN0b3J5PjtcblxudHlwZSBVcGRhdGVyVHlwZTxULCBTZXR0ZXJzT25seSA9IGZhbHNlPiA9IFNldHRlcnNPbmx5IGV4dGVuZHMgdHJ1ZVxuICA/IFRcbiAgOiBUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgVFxuICA/IFRcbiAgOiBUO1xuXG50eXBlIEJ1bGtVcGRhdGVPYmplY3Q8XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyLFxuICBTZXR0ZXJzT25seSA9IGZhbHNlLFxuICBGYWN0b3J5ID0gZmFsc2Vcbj4gPSBUIGV4dGVuZHMgTWFwTGlrZSB8IFNldExpa2UgfCBhbnlbXVxuICA/IHtcbiAgICAgIFtQIGluIEtleVR5cGU8VD5dOiBVcGRhdGVyPFQsIFAsIFZhbHVlVHlwZTxULCBQPiwgU2V0dGVyc09ubHksIEZhY3Rvcnk+O1xuICAgIH1cbiAgOiB7IFtQIGluIGtleW9mIFQgJiBLZXlUeXBlPFQ+XT86IFVwZGF0ZXI8VCwgUCwgVFtQXSwgU2V0dGVyc09ubHksIEZhY3Rvcnk+IH07XG5cbnR5cGUgQnVsa1VwZGF0ZUtleVZhbHVlPFxuICBUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcixcbiAgU2V0dGVyc09ubHkgPSBmYWxzZSxcbiAgRmFjdG9yeSA9IGZhbHNlLFxuICBLIGV4dGVuZHMga2V5b2YgVCA9IGtleW9mIFRcbj4gPSBJc0FueTxUPiBleHRlbmRzIHRydWVcbiAgPyByZWFkb25seSBbYW55LCBVcGRhdGVyPFQsIGFueSwgYW55LCBTZXR0ZXJzT25seSwgRmFjdG9yeT5dXG4gIDogVCBleHRlbmRzIE1hcExpa2UgfCBTZXRMaWtlIHwgYW55W11cbiAgPyByZWFkb25seSBbXG4gICAgICBLZXlUeXBlPFQ+LFxuICAgICAgVXBkYXRlcjxULCBLZXlUeXBlPFQ+LCBWYWx1ZVR5cGU8VCwgS2V5VHlwZTxUPj4sIFNldHRlcnNPbmx5LCBGYWN0b3J5PlxuICAgIF1cbiAgOiBLIGV4dGVuZHMgYW55XG4gID8gcmVhZG9ubHkgW0ssIFVwZGF0ZXI8VCwgS2V5VHlwZTxUPiwgYW55LCBTZXR0ZXJzT25seSwgRmFjdG9yeT5dXG4gIDogbmV2ZXI7XG5cbnR5cGUgQnVsa1VwZGF0ZXM8XG4gIFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyLFxuICBTZXR0ZXJzT25seSA9IGZhbHNlLFxuICBGYWN0b3J5ID0gZmFsc2Vcbj4gPVxuICB8IEJ1bGtVcGRhdGVPYmplY3Q8VCwgU2V0dGVyc09ubHksIEZhY3Rvcnk+XG4gIHwgSXRlcmFibGU8XG4gICAgICB8IEJ1bGtVcGRhdGVLZXlWYWx1ZTxULCBTZXR0ZXJzT25seSwgRmFjdG9yeT5cbiAgICAgIHwgQnVsa1VwZGF0ZU9iamVjdDxULCBTZXR0ZXJzT25seSwgRmFjdG9yeT5cbiAgICA+XG4gIHwgcmVhZG9ubHkgKHJlYWRvbmx5IEJ1bGtVcGRhdGVLZXlWYWx1ZTxULCBTZXR0ZXJzT25seSwgRmFjdG9yeT5bXSlbXTtcblxudHlwZSBNZXJnZVJlc3VsdF88VXBkYXRlcz4gPSBVcGRhdGVzIGV4dGVuZHMgSXRlcmFibGU8XG4gIGluZmVyIEl0ZW0gZXh0ZW5kcyByZWFkb25seSBba2V5b2YgYW55LCBhbnldXG4+XG4gID8gS2V5VmFsdWVQYWlyc1RvT2JqZWN0PEl0ZW0+XG4gIDogVXBkYXRlcztcblxudHlwZSBNZXJnZVJlc3VsdDxULCBVcGRhdGVzPiA9IFQgZXh0ZW5kcyBTaW1wbGVPYmplY3RcbiAgPyBQcmV0dGlmeUludGVyc2VjdGlvbjxcbiAgICAgIFQgJlxuICAgICAgICBVbmlvblRvSW50ZXJzZWN0aW9uPFxuICAgICAgICAgIE1lcmdlUmVzdWx0XzxcbiAgICAgICAgICAgIFVwZGF0ZXMgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBVcGRhdGVzPiA/IFVwZGF0ZXMgOiBVcGRhdGVzXG4gICAgICAgICAgPlxuICAgICAgICA+XG4gICAgPlxuICA6IFQgJlxuICAgICAgVW5pb25Ub0ludGVyc2VjdGlvbjxcbiAgICAgICAgTWVyZ2VSZXN1bHRfPFxuICAgICAgICAgIFVwZGF0ZXMgZXh0ZW5kcyBJdGVyYWJsZTxpbmZlciBVcGRhdGVzPiA/IFVwZGF0ZXMgOiBVcGRhdGVzXG4gICAgICAgID5cbiAgICAgID47XG5cbnR5cGUgU2V0RXJyb3JIYW5kbGVyPFQgZXh0ZW5kcyBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaD4gPSAoXG4gIGtleTogS2V5VHlwZTxUPixcbiAgY3VycmVudFZhbHVlOiBWYWx1ZVR5cGU8VD4sXG4gIG5ld1ZhbHVlOiBWYWx1ZVR5cGU8VD4sXG4gIHRhcmdldDogVFxuKSA9PiBzdHJpbmcgfCBFcnJvcjtcblxudHlwZSBTZXR0YWJsZUtleVR5cGU8VCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyPiA9IFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxuICA/IC8vIGBLZXlUeXBlPFQ+YCB3b24ndCBkby5cbiAgICAvLyBJZiB0aGlzIGBrZXlvZmAgY29uc3RyYWludCBpcyBub3Qgc2V0IFR5cGVTY3JpcHQgd2lsbCBvbmx5IGNvbnN0cmFpbiB2YWx1ZXMgZm9yIHJlYWRvbmx5IHR1cGxlIGl0ZW1zIHRvIFRbbnVtYmVyXSBhbmQgbm90IFRbS10uXG4gICAga2V5b2YgVFxuICA6IFQgZXh0ZW5kcyBTaW1wbGVPYmplY3RcbiAgPyBrZXlvZiBhbnlcbiAgOiBLZXlUeXBlPFQ+O1xuXG50eXBlIFNldHRhYmxlVmFsdWVUeXBlPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciwgSz4gPSBLIGV4dGVuZHMgS2V5VHlwZTxUPlxuICA/XG4gICAgICB8IFZhbHVlVHlwZTxULCBLPlxuICAgICAgLy8gYHVuZGVmaW5lZGAgcmVtb3ZlcyBlbGVtZW50cyBmcm9tIG1hcHMgYW5kIHNldHMgc28gYWxzbyBhbGxvd2VkLlxuICAgICAgfCAoVCBleHRlbmRzIE1hcExpa2UgfCBTZXRMaWtlID8gdW5kZWZpbmVkIDogbmV2ZXIpXG4gIDogVCBleHRlbmRzIFNpbXBsZU9iamVjdFxuICA/IGFueVxuICA6IG5ldmVyO1xuXG50eXBlIElzR2VuZXJhbEtleTxULCBTID0ga2V5b2YgYW55PiA9IFMgZXh0ZW5kcyBUID8gdHJ1ZSA6IGZhbHNlO1xuXG4vKiogTGlzdCBvZiBrZXlzIGluIFQgdGhhdCBoYXMgdW5kZWZpbmVkIHZhbHVlcy4gSWYgVGVtcGxhdGUgZG9lcyBub3QgYWxsb3cgdW5kZWZpbmVkIHZhbHVlcyBmb3IgYSBrZXkgaXQgaXMgZXhjbHVkZWQgZnJvbSB0aGUgcmVzdWx0cy4gKi9cbnR5cGUgVW5kZWZpbmVkS2V5czxcbiAgVCxcbiAgVGVtcGxhdGUgPSB7fSxcbiAgSyBleHRlbmRzIGtleW9mIFQgPSBrZXlvZiBUXG4+ID0gSyBleHRlbmRzIGtleW9mIFRcbiAgPyBUW0tdIGV4dGVuZHMgdW5kZWZpbmVkXG4gICAgPyBLIGV4dGVuZHMga2V5b2YgVGVtcGxhdGVcbiAgICAgID8gdW5kZWZpbmVkIGV4dGVuZHMgVGVtcGxhdGVbS11cbiAgICAgICAgPyBLXG4gICAgICAgIDogbmV2ZXJcbiAgICAgIDogS1xuICAgIDogbmV2ZXJcbiAgOiBuZXZlcjtcblxudHlwZSBBbGxLZXlzPFQ+ID0gVCBleHRlbmRzIGluZmVyIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5cbnR5cGUgQW55VmFsdWU8VCwgSz4gPSBUIGV4dGVuZHMgaW5mZXIgVFxuICA/IEsgZXh0ZW5kcyBrZXlvZiBUXG4gICAgPyBUW0tdXG4gICAgOiBuZXZlclxuICA6IG5ldmVyO1xuXG50eXBlIE1lcmdlT2JqZWN0czxUPiA9IHtcbiAgW1AgaW4gQWxsS2V5czxUPl06IEFueVZhbHVlPFQsIFA+O1xufTtcblxudHlwZSBLZXlWYWx1ZVR1cGxlVG9SZWNvcmQ8SXRlbT4gPSBJdGVtIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIEssIGluZmVyIFZdXG4gID8ge1xuICAgICAgW1AgaW4gSyAmIGtleW9mIGFueV06IFY7XG4gICAgfVxuICA6IEl0ZW0gZXh0ZW5kcyByZWFkb25seSAoaW5mZXIgS1YpW11cbiAgPyB7IFtQIGluIEtWICYga2V5b2YgYW55XTogS1YgfVxuICA6IEl0ZW0gZXh0ZW5kcyBTaW1wbGVPYmplY3RcbiAgPyBJdGVtXG4gIDogbmV2ZXI7XG5cbnR5cGUgQXNzaWduUmVjb3JkPFQsIFM+ID0ge1xuICBbUCBpbiBFeGNsdWRlPFxuICAgIGtleW9mIFQgfCBrZXlvZiBTLFxuICAgIElzR2VuZXJhbEtleTxrZXlvZiBUIHwga2V5b2YgUz4gZXh0ZW5kcyB0cnVlID8gbmV2ZXIgOiBVbmRlZmluZWRLZXlzPFMsIFQ+XG4gID5dOiBQIGV4dGVuZHMga2V5b2YgU1xuICAgID8gSXNHZW5lcmFsS2V5PFA+IGV4dGVuZHMgdHJ1ZVxuICAgICAgPyBBbnlWYWx1ZTxTIHwgVCwgUD5cbiAgICAgIDogUCBleHRlbmRzIGtleW9mIFRcbiAgICAgID8gU1tQXSBleHRlbmRzIFRbUF1cbiAgICAgICAgPyBHZW5lcmFsaXplQ29uc3RhbnRzPFNbUF0+IGV4dGVuZHMgVFtQXVxuICAgICAgICAgID8gR2VuZXJhbGl6ZUNvbnN0YW50czxTW1BdPlxuICAgICAgICAgIDogU1tQXVxuICAgICAgICA6IG5ldmVyXG4gICAgICA6IEdlbmVyYWxpemVDb25zdGFudHM8U1tQXT5cbiAgICA6IFAgZXh0ZW5kcyBrZXlvZiBUXG4gICAgPyBUW1BdXG4gICAgOiBuZXZlcjtcbn07XG5cbnR5cGUgU2V0T3JVcGRhdGVGdW5jdGlvbjxcbiAgU2V0dGVyc09ubHksXG4gIEVycm9ySGFuZGxlciA9IGZhbHNlLFxuICBSZWFkb25seSA9IGZhbHNlXG4+ID0ge1xuICA8XG4gICAgVCBleHRlbmRzXG4gICAgICB8IElmPFJlYWRvbmx5LCBSZWFkb25seVByb3BlcnR5Q29udGFpbmVyLCBQcm9wZXJ0eUNvbnRhaW5lcj5cbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWQsXG4gICAgVSBleHRlbmRzIFVwZGF0ZXI8XG4gICAgICBUIGV4dGVuZHMgTnVsbGlzaCA/IG5ldmVyIDogVCxcbiAgICAgIEssXG4gICAgICBWYWx1ZVR5cGU8VCwgSz4sXG4gICAgICBTZXR0ZXJzT25seVxuICAgID4sXG4gICAgSyBleHRlbmRzIEtleVR5cGU8VD5cbiAgPihcbiAgICB0YXJnZXQ6IFQsXG4gICAga2V5OiBLLFxuICAgIHZhbHVlOiBVLFxuICAgIC4uLmFyZ3M6IEVycm9ySGFuZGxlciBleHRlbmRzIHRydWUgPyBbZXJyb3I6IFNldEVycm9ySGFuZGxlcjxUPl0gOiBbXVxuICApOiBVcGRhdGVyVHlwZTxVPjtcbiAgPFxuICAgIFQgZXh0ZW5kc1xuICAgICAgfCBJZjxSZWFkb25seSwgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lciwgUHJvcGVydHlDb250YWluZXI+XG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkLFxuICAgIFVcbiAgPihcbiAgICB0YXJnZXQ6IFQsXG4gICAgdmFsdWVzOiBCdWxrVXBkYXRlczxUIGV4dGVuZHMgTnVsbGlzaCA/IG5ldmVyIDogVCwgU2V0dGVyc09ubHk+ICYgVSxcbiAgICAuLi5hcmdzOiBFcnJvckhhbmRsZXIgZXh0ZW5kcyB0cnVlID8gW2Vycm9yOiBTZXRFcnJvckhhbmRsZXI8VD5dIDogW11cbiAgKTogVDtcbn07XG5cbmV4cG9ydCBjb25zdCBtZXJnZSA9IDxcbiAgVGFyZ2V0LFxuICBWYWx1ZXMgZXh0ZW5kcyByZWFkb25seSBJdGVyYXRvclNvdXJjZU9mPHJlYWRvbmx5IFtrZXlvZiBhbnksIGFueV0+W11cbj4oXG4gIHRhcmdldDogVGFyZ2V0LFxuICAuLi52YWx1ZXM6IFZhbHVlc1xuKTogTWF5YmVVbmRlZmluZWQ8VGFyZ2V0LCBNZXJnZVJlc3VsdDxUYXJnZXQsIFZhbHVlcz4+ID0+IChcbiAgZm9yRWFjaCh2YWx1ZXMsICh2YWx1ZXMpID0+XG4gICAgZm9yRWFjaCh2YWx1ZXMsIChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFtrZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgIG1lcmdlKHRhcmdldFtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICksXG4gIHRhcmdldCBhcyBhbnlcbik7XG5cbmNvbnN0IGNyZWF0ZVNldE9yVXBkYXRlRnVuY3Rpb24gPVxuICA8U2V0dGVyc09ubHksIEVycm9yPihcbiAgICBzZXR0ZXI6ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlOiBhbnksIGVycm9yPzogYW55KSA9PiBhbnlcbiAgKTogU2V0T3JVcGRhdGVGdW5jdGlvbjxTZXR0ZXJzT25seSwgRXJyb3I+ID0+XG4gICh0YXJnZXQ6IFByb3BlcnR5Q29udGFpbmVyLCBrZXk6IGFueSwgdmFsdWU/OiBhbnksIGVycm9yPzogYW55KSA9PiB7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHNldHRlcih0YXJnZXQsIGtleSwgdmFsdWUsIGVycm9yKTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKGtleSwgKGl0ZW0pID0+XG4gICAgICBpc0FycmF5KGl0ZW0pXG4gICAgICAgID8gc2V0dGVyKHRhcmdldCwgaXRlbVswXSwgaXRlbVsxXSlcbiAgICAgICAgOiBmb3JFYWNoKGl0ZW0sIChba2V5LCB2YWx1ZV0pID0+IHNldHRlcih0YXJnZXQsIGtleSwgdmFsdWUpKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG5leHBvcnQgY29uc3QgYXNzaWduID0gY3JlYXRlU2V0T3JVcGRhdGVGdW5jdGlvbjx0cnVlLCBmYWxzZT4oc2V0KTtcbmV4cG9ydCBjb25zdCB1cGRhdGU6IDxcbiAgVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyIHwgTnVsbGlzaCxcbiAgSyBleHRlbmRzIEtleVR5cGU8VD5cbj4oXG4gIHRhcmdldDogVCxcbiAga2V5OiBLLFxuICB1cGRhdGU6IChjdXJyZW50OiBWYWx1ZVR5cGU8VCwgSz4gfCB1bmRlZmluZWQpID0+IFZhbHVlVHlwZTxULCBLPiB8IHVuZGVmaW5lZFxuKSA9PiBUID0gKHRhcmdldCwga2V5LCB1cGRhdGUpID0+IHtcbiAgbGV0IHZhbHVlOiBhbnk7XG4gIGlmIChoYXNNZXRob2QodGFyZ2V0LCBcInNldFwiKSkge1xuICAgICh2YWx1ZSA9IHVwZGF0ZSh0YXJnZXQuZ2V0KGtleSkpKSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IHRhcmdldC5kZWxldGUoa2V5KVxuICAgICAgOiB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKGhhc01ldGhvZCh0YXJnZXQsIFwiYWRkXCIpKSB7XG4gICAgdmFsdWUgPSB0YXJnZXQuaGFzKGtleSk7XG4gICAgdXBkYXRlKHZhbHVlKSA/IHRhcmdldC5hZGQoa2V5KSA6IHRhcmdldC5kZWxldGUoa2V5KTtcbiAgfSBlbHNlIGlmICh0YXJnZXQpIHtcbiAgICB2YWx1ZSA9ICh0YXJnZXQgYXMgYW55KVtrZXldID0gdXBkYXRlKCh0YXJnZXQgYXMgYW55KVtrZXldKTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmV4cG9ydCBjb25zdCBhc3NpZ25JZlVuZGVmaW5lZCA9IGNyZWF0ZVNldE9yVXBkYXRlRnVuY3Rpb248ZmFsc2UsIHRydWU+KFxuICBzZXRTaW5nbGVJZk5vdERlZmluZWRcbik7XG5cbmV4cG9ydCBjb25zdCBzd2FwID0gPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciwgSyBleHRlbmRzIEtleVR5cGU8VD4+KFxuICB0YXJnZXQ6IFQsXG4gIGtleTogSyxcbiAgdmFsdWU6IFZhbHVlVHlwZTxULCBLPlxuKTogVmFsdWVUeXBlPFQsIEssIFwiZ2V0XCI+ID0+IHtcbiAgY29uc3QgY3VycmVudCA9IGdldCh0YXJnZXQsIGtleSkgYXMgYW55O1xuICBpZiAodmFsdWUgIT09IGN1cnJlbnQpIHNldCh0YXJnZXQsIGtleSwgdmFsdWUpO1xuICByZXR1cm4gY3VycmVudCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkID0gPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lcjxhbnksIGJvb2xlYW4+PihcbiAgdGFyZ2V0OiBULFxuICBrZXk6IEtleVR5cGU8VD5cbikgPT5cbiAgdGFyZ2V0IGluc3RhbmNlb2YgU2V0IHx8IHRhcmdldCBpbnN0YW5jZW9mIFdlYWtTZXRcbiAgICA/ICF0YXJnZXQuaGFzKGtleSkgJiYgKHRhcmdldC5hZGQoa2V5KSwgdHJ1ZSlcbiAgICA6ICFnZXQodGFyZ2V0LCBrZXkpICYmIChzZXQodGFyZ2V0LCBrZXksIHRydWUpLCB0cnVlKTtcblxuZXhwb3J0IGNvbnN0IGhhcyA9IDxUIGV4dGVuZHMgUmVhZG9ubHlQcm9wZXJ0eUNvbnRhaW5lcj4oXG4gIHRhcmdldDogVCxcbiAga2V5OiBLZXlUeXBlPFQ+XG4pID0+XG4gIGhhc01ldGhvZCh0YXJnZXQsIFwiaGFzXCIpXG4gICAgPyB0YXJnZXQuaGFzKGtleSlcbiAgICA6ICgodGFyZ2V0IGFzIGFueSkuZ2V0Py4oa2V5KSA/PyAodGFyZ2V0IGFzIGFueSlba2V5XSkgIT0gbnVsbDtcblxudHlwZSBSZW1vdmVEZWVwQXJnczxcbiAgVCxcbiAgQ3VycmVudCBleHRlbmRzIGFueVtdID0gW10sXG4gIERlcHRoIGV4dGVuZHMgbnVtYmVyID0gMjBcbj4gPSBUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXJcbiAgPyBEZXB0aCBleHRlbmRzIDBcbiAgICA/IEN1cnJlbnRcbiAgICA6XG4gICAgICAgIHwgKERlcHRoIGV4dGVuZHMgMjAgPyBuZXZlciA6IEN1cnJlbnQpXG4gICAgICAgIHwgUmVtb3ZlRGVlcEFyZ3M8XG4gICAgICAgICAgICBWYWx1ZVR5cGU8VD4sXG4gICAgICAgICAgICBbLi4uQ3VycmVudCwgS2V5VHlwZTxUPltdIHwgS2V5VHlwZTxUPl0sXG4gICAgICAgICAgICBTdWJ0cmFjdDxEZXB0aCwgMT5cbiAgICAgICAgICA+XG4gIDogQ3VycmVudDtcblxudHlwZSBSZW1vdmVEZWVwVmFsdWU8XG4gIFQsXG4gIEFyZ3MgZXh0ZW5kcyBhbnlbXSxcbiAgQXJyYXlJdCA9IGZhbHNlXG4+ID0gVCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyXG4gID8gQXJyYXlJdCBleHRlbmRzIHRydWVcbiAgICA/IChWYWx1ZVR5cGU8VD4gfCB1bmRlZmluZWQpW11cbiAgICA6IEFyZ3MgZXh0ZW5kcyBbS2V5VHlwZTxUPltdXVxuICAgID8gKFZhbHVlVHlwZTxUPiB8IHVuZGVmaW5lZClbXVxuICAgIDogQXJncyBleHRlbmRzIFtLZXlUeXBlPFQ+XVxuICAgID8gVmFsdWVUeXBlPFQ+IHwgdW5kZWZpbmVkXG4gICAgOiBBcmdzIGV4dGVuZHMgW2luZmVyIFIsIC4uLmluZmVyIFJlc3RdXG4gICAgPyBSZW1vdmVEZWVwVmFsdWU8VmFsdWVUeXBlPFQ+LCBSZXN0LCBSIGV4dGVuZHMgYW55W10gPyB0cnVlIDogQXJyYXlJdD5cbiAgICA6IG5ldmVyXG4gIDogbmV2ZXI7XG5cbnR5cGUgS2V5c0FyZzxUIGV4dGVuZHMgUHJvcGVydHlDb250YWluZXIgfCBOdWxsaXNoPiA9IFQgZXh0ZW5kcyBTaW1wbGVPYmplY3RcbiAgPyByZWFkb25seSAoa2V5b2YgVCB8IHVuZGVmaW5lZClbXVxuICA6IHJlYWRvbmx5IChLZXlUeXBlPFQ+IHwgdW5kZWZpbmVkKVtdO1xuXG5jb25zdCBjbGVhclNpbmdsZSA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnkpID0+IHtcbiAgaWYgKCh0YXJnZXQgPz8ga2V5KSA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGxldCBjdXJyZW50ID0gZ2V0KHRhcmdldCwga2V5KTtcblxuICBpZiAoaGFzTWV0aG9kKHRhcmdldCwgXCJkZWxldGVcIikpIHtcbiAgICB0YXJnZXQuZGVsZXRlKGtleSk7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIHRhcmdldFtrZXldO1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufTtcblxuLyoqXG4gKiBEZWxldGVzIHRoZSBzcGVjaWZpZWQga2V5cyBmcm9tIHRoZSB0YXJnZXQgYW5kIHJldHVybnMgdGhlIHRhcmdldC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlbDoge1xuICA8VCBleHRlbmRzIFByb3BlcnR5Q29udGFpbmVyIHwgdW5kZWZpbmVkLCBLIGV4dGVuZHMgS2V5c0FyZzxUPj4oXG4gICAgdGFyZ2V0OiBULFxuICAgIC4uLmtleXM6IEtcbiAgKTogVCBleHRlbmRzIFNpbXBsZU9iamVjdCA/IHsgW1AgaW4gRXhjbHVkZTxrZXlvZiBULCBLW251bWJlcl0+XTogVFtQXSB9IDogVDtcbn0gPSAodGFyZ2V0OiBhbnksIC4uLmtleXM6IGFueSkgPT5cbiAgdGFyZ2V0ICYmXG4gIChhc3NpZ24odGFyZ2V0LCBtYXAoa2V5cywgKGtleSkgPT4gW2tleSwgdW5kZWZpbmVkXSkgYXMgYW55KSBhcyBhbnkpO1xuXG4vKipcbiAqIFJlbW92ZXMgb25lIG9yIG1vcmUgdmFsdWVzIGZyb20gYSBwcm9wZXJ0eSBjb250YWluZXIgc3BlY2lmaWVkIGJ5IHRoZSBwcm92aWRlZCBrZXkgb3IgYXJyYXkgb2Yga2V5cy5cbiAqXG4gKiBJZiBtb3JlIHRoYW4gb25lIGxldmVsIG9mIGtleSBhcmd1bWVudHMgYXJlIHNwZWNpZmllZCwgdmFsdWVzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBwcm9wZXJ0eSBjb250YWluZXIgYXQgdGhlIGRlZXBlc3QgbGV2ZWwuXG4gKiBJZiBhIHByb3BlcnR5IGNvbnRhaW5lciBiZWNvbWVzIGVtcHR5IGFsb25nIHRoZSBwYXRoIG9mIGtleXMsIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIGl0cyBwYXJlbnQuXG4gKlxuICovXG5leHBvcnQgY29uc3QgY2xlYXIgPSA8XG4gIFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsXG4gIEFyZ3MgZXh0ZW5kcyBSZW1vdmVEZWVwQXJnczxUPlxuPihcbiAgdGFyZ2V0OiBULFxuICAuLi5rZXlzOiBBcmdzXG4pOiBSZW1vdmVEZWVwVmFsdWU8VCwgQXJncz4gPT4ge1xuICBjb25zdCByZW1vdmVkOiBhbnlbXSA9IFtdO1xuICBsZXQgYXJyYXkgPSBmYWxzZTtcblxuICBjb25zdCBjbGVhclN0ZXAgPSAoXG4gICAgdGFyZ2V0OiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwYXJlbnQ/OiBhbnksXG4gICAgcGFyZW50S2V5PzogYW55XG4gICkgPT4ge1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0S2V5cyA9IGtleXNbaW5kZXhdO1xuICAgIGlmIChpbmRleCA9PT0ga2V5cy5sZW5ndGggLSAxKSB7XG4gICAgICBpZiAoaXNBcnJheSh0YXJnZXRLZXlzKSkge1xuICAgICAgICBhcnJheSA9IHRydWU7XG4gICAgICAgIHRhcmdldEtleXMuZm9yRWFjaCgoa2V5KSA9PiByZW1vdmVkLnB1c2goY2xlYXJTaW5nbGUodGFyZ2V0LCBrZXkpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVkLnB1c2goY2xlYXJTaW5nbGUodGFyZ2V0LCB0YXJnZXRLZXlzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0FycmF5KHRhcmdldEtleXMpKSB7XG4gICAgICAgIGFycmF5ID0gdHJ1ZTtcbiAgICAgICAgdGFyZ2V0S2V5cy5mb3JFYWNoKChrZXkpID0+XG4gICAgICAgICAgY2xlYXJTdGVwKGdldCh0YXJnZXQsIGtleSksIGluZGV4ICsgMSwgdGFyZ2V0LCBrZXkpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhclN0ZXAoZ2V0KHRhcmdldCwgdGFyZ2V0S2V5cyksIGluZGV4ICsgMSwgdGFyZ2V0LCB0YXJnZXRLZXlzKTtcbiAgICAgIH1cbiAgICAgIGlmICghY291bnQodGFyZ2V0KSAmJiBwYXJlbnQpIHtcbiAgICAgICAgcmVtb3ZlKHBhcmVudCwgcGFyZW50S2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNsZWFyU3RlcCh0YXJnZXQsIDApO1xuICByZXR1cm4gYXJyYXkgPyByZW1vdmVkIDogcmVtb3ZlZFswXTtcbn07XG5cbi8qKiBSZW1vdmVzIGFsbCBlbnRyaWVzIGZyb20gYSBzZXQgb3IgbWFwLCBhbmQgcmV0dXJucyB0aGVtLiAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5ID0gPFMgZXh0ZW5kcyBTZXRMaWtlIHwgTWFwTGlrZSB8IHVuZGVmaW5lZD4oXG4gIHRhcmdldDogU1xuKTogTWF5YmVVbmRlZmluZWQ8UywgSXRlcmF0b3JJdGVtPFM+W10+ID0+IHtcbiAgaWYgKCF0YXJnZXQpIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuXG4gIGNvbnN0IGVudHJpZXMgPSBtYXAodGFyZ2V0KTtcbiAgdGFyZ2V0LmNsZWFyKCk7XG4gIHJldHVybiBlbnRyaWVzIGFzIGFueTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGtleShzKSBmcm9tIGEgcHJvcGVydHkgY29udGFpbmVyIGFuZCByZXR1cm5zIHRoZWlyIHZhbHVlLCBvciB1bmRlZmluZWQgaWYgdGhlIGNvbnRhaW5lciBkaWQgbm90IGhhdmUgdGhlIHNwZWNpZmllZCBrZXkuXG4gKlxuICogVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB7QGxpbmsgY2xlYXJ9IGFuZCB0aGlzIGZ1bmN0aW9uIGlzIHRoYXQgaXQgZG9lcyBub3QgY29uc2lkZXIgbmVzdGVkIHByb3BlcnR5IGNvbnRhaW5lcnMgYW5kIHRoYXQgYXJyYXlzIHdpbGwgYmUgc3BsaWNlZCAoYXMgb3Bwb3NlZCB0byBgY2xlYXJgIHdoZXJlIHRoZSBpbmRleCB3aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCkuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmU6IHtcbiAgPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsIEsgZXh0ZW5kcyBLZXlUeXBlPFQ+IHwgdW5kZWZpbmVkPihcbiAgICB0YXJnZXQ6IFQsXG4gICAga2V5OiBLXG4gICk6IFQgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IFZhbHVlVHlwZTxULCBLLCBcImdldFwiPjtcbiAgPFQgZXh0ZW5kcyBQcm9wZXJ0eUNvbnRhaW5lciB8IE51bGxpc2gsIEsgZXh0ZW5kcyBLZXlzQXJnPFQ+PihcbiAgICB0YXJnZXQ6IFQsXG4gICAga2V5czogS1xuICApOiAoVCBleHRlbmRzIE51bGxpc2ggPyBUIDogVmFsdWVUeXBlPFQsIEtbbnVtYmVyXSwgXCJnZXRcIj4pW107XG59ID0gKHRhcmdldDogUHJvcGVydHlDb250YWluZXIsIGtleXM6IGFueSkgPT4ge1xuICBpZiAoIXRhcmdldCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBpZiAoaXNBcnJheShrZXlzKSkge1xuICAgIC8vIFNvcnQgYXJyYXkga2V5cyBkZXNjZW5kaW5nIGFzIHRoZXkgd291bGQgb3RoZXJ3aXNlIG5vdCBtYXRjaCB0aGVpciBvZmZzZXQgYXMgdGhlIGFycmF5IGlzIHNwbGljZWQgYWxvbmcgdGhlIHdheS5cbiAgICByZXR1cm4gKFxuICAgICAgaXNBcnJheSh0YXJnZXQpICYmIHRhcmdldC5sZW5ndGggPiAxID8ga2V5cy5zb3J0KCh4LCB5KSA9PiB5IC0geCkgOiBrZXlzXG4gICAgKS5tYXAoKGtleSkgPT4gcmVtb3ZlKHRhcmdldCwga2V5KSk7XG4gIH1cblxuICByZXR1cm4gaXNBcnJheSh0YXJnZXQpXG4gICAgPyBrZXlzIDwgdGFyZ2V0Lmxlbmd0aFxuICAgICAgPyAodGFyZ2V0IGFzIGFueVtdKS5zcGxpY2Uoa2V5cywgMSlbMF1cbiAgICAgIDogdW5kZWZpbmVkXG4gICAgOiBjbGVhclNpbmdsZSh0YXJnZXQsIGtleXMpO1xufTtcblxudHlwZSBFbnRyeVRvT2JqZWN0PEl0ZW0+ID0gSXRlbSBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBLICYga2V5b2YgYW55LCBpbmZlciBWXVxuICA/IHtcbiAgICAgIFtQIGluIEsgJiBrZXlvZiBhbnldOiBWO1xuICAgIH1cbiAgOiBuZXZlcjtcblxudHlwZSBFbnRyaWVzVG9PYmplY3Q8RW50cmllcz4gPSBVbmlvblRvSW50ZXJzZWN0aW9uPFxuICBJbmxpbmVQcm9wZXJ0eURlc2NyaXB0b3JzPFxuICAgIEVudHJpZXMgZXh0ZW5kcyBOdWxsaXNoIHwgYm9vbGVhblxuICAgICAgPyB7fVxuICAgICAgOiBFbnRyaWVzIGV4dGVuZHMgcmVhZG9ubHkgW1xuICAgICAgICAgIFBhcnRpYWw8UmVhZG9ubHk8UHJvcGVydHlEZXNjcmlwdG9yPj4sXG4gICAgICAgICAgLi4uaW5mZXIgUmVzdFxuICAgICAgICBdXG4gICAgICA/IEVudHJpZXNUb09iamVjdDxSZXN0W251bWJlcl0+XG4gICAgICA6IEVudHJpZXMgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgSXRlbSwgLi4uaW5mZXIgUmVzdF1cbiAgICAgID8gRW50cnlUb09iamVjdDxJdGVtPiAmIEVudHJpZXNUb09iamVjdDxSZXN0PlxuICAgICAgOiBFbnRyaWVzIGV4dGVuZHMgcmVhZG9ubHkgKGluZmVyIEl0ZW1zKVtdXG4gICAgICA/IEVudHJ5VG9PYmplY3Q8SXRlbXM+XG4gICAgICA6IEVudHJpZXNcbiAgPlxuPjtcblxudHlwZSBJbmxpbmVQcm9wZXJ0eURlc2NyaXB0b3JzPFQ+ID0ge1xuICBbUCBpbiBrZXlvZiBUXTogVFtQXSBleHRlbmRzICgpID0+IGluZmVyIFYgfCB7IHZhbHVlOiBpbmZlciBWIH1cbiAgICA/IFZcbiAgICA6IFRbUF0gZXh0ZW5kcyB7IGdldCgpOiBpbmZlciBWIH1cbiAgICA/IFZcbiAgICA6IFRbUF07XG59O1xuXG50eXBlIFByb3BlcnR5TGlzdCA9XG4gIHwgYm9vbGVhblxuICB8IG51bGxcbiAgfCB1bmRlZmluZWRcbiAgfCByZWFkb25seSBbZGVmYXVsdHM6IFBhcnRpYWw8UHJvcGVydHlEZXNjcmlwdG9yPiwgLi4uaXRlbXM6IFByb3BlcnR5TGlzdFtdXVxuICB8IHJlYWRvbmx5IChyZWFkb25seSBba2V5OiBrZXlvZiBhbnksIHZhbHVlOiBhbnldKVtdXG4gIHwgU2ltcGxlT2JqZWN0O1xuXG5leHBvcnQgY29uc3QgZGVmaW5lOiB7XG4gIDxULCBQIGV4dGVuZHMgcmVhZG9ubHkgUHJvcGVydHlMaXN0W10+KFxuICAgIHRhcmdldDogVCxcbiAgICAuLi5wcm9wZXJ0aWVzOiBQXG4gICk6IChUIGV4dGVuZHMgRnVuY3Rpb24gPyBUIDoge30pICZcbiAgICBQcmV0dGlmeUludGVyc2VjdGlvbjxUICYgRW50cmllc1RvT2JqZWN0PFBbbnVtYmVyXT4+O1xufSA9ICh0YXJnZXQ6IGFueSwgLi4uYXJnczogcmVhZG9ubHkgYW55W10pID0+IHtcbiAgY29uc3QgYWRkID0gKGFyZzogYW55LCBkZWZhdWx0cz86IGFueSkgPT4ge1xuICAgIGlmICghYXJnKSByZXR1cm47XG4gICAgbGV0IHByb3BlcnRpZXM6IHJlYWRvbmx5IGFueVtdO1xuICAgIGlmIChpc0FycmF5KGFyZykpIHtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZ1swXSkpIHtcbiAgICAgICAgLy8gVHVwbGUgd2l0aCB0aGUgZmlyc3QgaXRlbSB0aGUgZGVmYXVsdHMgYW5kIHRoZSBuZXh0IHRoZSBkZWZpbml0aW9ucyB3aXRoIHRob3NlIGRlZmF1bHRzLFxuICAgICAgICAvLyAoW3tlbnVtZXJhYmxlOiBmYWxzZSwgLi4ufSwgLi4uXSlcbiAgICAgICAgKGFyZyBhcyBhbnlbXSkuc3BsaWNlKDEpLmZvckVhY2goKGl0ZW1zKSA9PiBhZGQoaXRlbXMsIGFyZ1swXSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyAoW1trZXkxLCB2YWx1ZTFdLCBba2V5MiwgdmFsdWUyXSwgLi4uXSlcbiAgICAgIHByb3BlcnRpZXMgPSBhcmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFuIG9iamVjdC5cbiAgICAgIHByb3BlcnRpZXMgPSBtYXAoYXJnKSE7XG4gICAgfVxuXG4gICAgcHJvcGVydGllcy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAuLi5kZWZhdWx0cyxcbiAgICAgICAgLi4uKGlzUGxhaW5PYmplY3QodmFsdWUpICYmIChcImdldFwiIGluIHZhbHVlIHx8IFwidmFsdWVcIiBpbiB2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiAhdmFsdWUubGVuZ3RoXG4gICAgICAgICAgPyB7IGdldDogdmFsdWUgfVxuICAgICAgICAgIDogeyB2YWx1ZSB9KSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICBhcmdzLmZvckVhY2goKGFyZykgPT4gYWRkKGFyZykpO1xuICByZXR1cm4gdGFyZ2V0IGFzIGFueTtcbn07XG5cbnR5cGUgUHJvcGVydHlTZWxlY3RvcjxUPiA9XG4gIHwga2V5b2YgVFxuICB8IHtcbiAgICAgIFtQIGluIGtleW9mIFRdPzogUHJvcGVydHlTZWxlY3RvcjxUW1BdPjtcbiAgICB9XG4gIHwgcmVhZG9ubHkgKGtleW9mIFQpW107XG5cbnR5cGUgU2luZ2xlUGlja1Jlc3VsdDxULCBTZWxlY3RlZD4gPSBTZWxlY3RlZCBleHRlbmRzXG4gIHwgKHN0cmluZyAmIGluZmVyIEspXG4gIHwgKGluZmVyIEspW11cbiAgPyB1bmtub3duIGV4dGVuZHMgS1xuICAgID8gVFxuICAgIDogeyBbUCBpbiBrZXlvZiBUICYgS106IFRbUF0gfVxuICA6IGtleW9mIFNlbGVjdGVkIGV4dGVuZHMgaW5mZXIgS2V5c1xuICA/IHtcbiAgICAgIFtQIGluIEtleXMgJiBrZXlvZiBhbnkgJiBrZXlvZiBTZWxlY3RlZF06IFAgZXh0ZW5kcyBrZXlvZiBUXG4gICAgICAgID8gU2VsZWN0ZWRbUF0gZXh0ZW5kcyB0cnVlXG4gICAgICAgICAgPyBUW1BdXG4gICAgICAgICAgOiBTaW5nbGVQaWNrUmVzdWx0PFRbUF0sIFNlbGVjdGVkW1BdPlxuICAgICAgICA6IG5ldmVyO1xuICAgIH1cbiAgOiBuZXZlcjtcblxudHlwZSBQaWNrUmVzdWx0czxULCBTZWxlY3RvcnM+ID0gUHJldHRpZnlJbnRlcnNlY3Rpb248XG4gIFNlbGVjdG9ycyBleHRlbmRzIFtpbmZlciBJdGVtLCAuLi5pbmZlciBSZXN0XVxuICAgID8gdW5rbm93biBleHRlbmRzIEl0ZW1cbiAgICAgID8gVFxuICAgICAgOiBTaW5nbGVQaWNrUmVzdWx0PFQsIEl0ZW0+ICYgU2luZ2xlUGlja1Jlc3VsdDxULCBSZXN0PlxuICAgIDogbmV2ZXJcbj47XG5cbmV4cG9ydCBjb25zdCBwaWNrID0gPFQsIFNlbGVjdG9ycyBleHRlbmRzIFByb3BlcnR5U2VsZWN0b3I8VD5bXSwgVT4oXG4gIHNvdXJjZTogVCB8IChudWxsIHwgKHVuZGVmaW5lZCAmIFUpKSxcbiAgLi4uYXJnczogU2VsZWN0b3JzXG4pOiBVIGV4dGVuZHMgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogUGlja1Jlc3VsdHM8VCwgU2VsZWN0b3JzPiA9PiB7XG4gIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG5cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBhcmdzXG4gICAgICAuZmxhdE1hcCgoYXJnKSA9PlxuICAgICAgICBpc09iamVjdChhcmcpXG4gICAgICAgICAgPyBpc0FycmF5KGFyZylcbiAgICAgICAgICAgID8gYXJnLm1hcCgoYXJncykgPT5cbiAgICAgICAgICAgICAgICBpc0FycmF5KGFyZ3MpXG4gICAgICAgICAgICAgICAgICA/IGFyZ3MubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgICAgID8gW2FyZ3NbMF0sIHNvdXJjZSFbYXJnc1swXV1dXG4gICAgICAgICAgICAgICAgICAgIDogcGljayhzb3VyY2UhW2FyZ3NbMF1dLCAuLi4oYXJnc1sxXSBhcyBhbnlbXSkpXG4gICAgICAgICAgICAgICAgICA6IFthcmdzLCBzb3VyY2UhW2FyZ3NdXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IE9iamVjdC5lbnRyaWVzKGFyZ3MpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSB0cnVlID8gc291cmNlIVtrZXldIDogcGljayhzb3VyY2UhW2tleV0sIHZhbHVlKSxcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICA6IChbW2FyZywgc291cmNlIVthcmddXV0gYXMgYW55KVxuICAgICAgKVxuICAgICAgLmZpbHRlcigoYXJnKSA9PiBhcmdbMV0gIT0gbnVsbClcbiAgKSBhcyBhbnk7XG59O1xuXG5leHBvcnQgdHlwZSBXcmFwcGVkPFQ+ID0gVCB8ICgoKSA9PiBUKTtcblxuZXhwb3J0IHR5cGUgVW53cmFwPFQ+ID0gVCBleHRlbmRzICgpID0+IGluZmVyIFIgPyBSIDogVDtcblxuZXhwb3J0IGNvbnN0IHVud3JhcDoge1xuICA8VD4odmFsdWU6IFdyYXBwZWQ8VD4pOiBUO1xufSA9ICh2YWx1ZTogV3JhcHBlZDxhbnk+KTogYW55ID0+IChpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKCkgOiB2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCB1bmxvY2sgPSA8VCBleHRlbmRzIFJlYWRvbmx5UHJvcGVydHlDb250YWluZXI+KFxuICByZWFkb25seTogVFxuKTogVCBleHRlbmRzIFJlYWRvbmx5TWFwTGlrZTxpbmZlciBLLCBpbmZlciBWPlxuICA/IE1hcExpa2U8SywgVj5cbiAgOiBUIGV4dGVuZHMgUmVhZG9ubHlTZXRMaWtlPGluZmVyIFQ+XG4gID8gU2V0TGlrZTxUPlxuICA6IFQgPT4gcmVhZG9ubHkgYXMgYW55O1xuXG5leHBvcnQgY29uc3Qgd3JhcCA9IDxUPihcbiAgb3JpZ2luYWw6IFQsXG4gIHdyYXA6IChcbiAgICBvcmlnaW5hbDogVCBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueSA/IFQgOiAoKSA9PiBULFxuICAgIC4uLmFyZ3M6IFQgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQXJncykgPT4gYW55ID8gQXJncyA6IFtdXG4gICkgPT4gVCBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFIgPyBSIDogVFxuKTogVCA9PlxuICBvcmlnaW5hbCA9PSBudWxsXG4gICAgPyBvcmlnaW5hbFxuICAgIDogaXNGdW5jdGlvbihvcmlnaW5hbClcbiAgICA/ICguLi5hcmdzOiBhbnkpID0+IHdyYXAob3JpZ2luYWwgYXMgYW55LCAuLi5hcmdzKVxuICAgIDogKHdyYXAgYXMgYW55KSgoKSA9PiBvcmlnaW5hbCBhcyBhbnkpO1xuXG4vKiogQ3JlYXRlcyBhIGNsb25lIG9mIGFuIG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cywgc2V0cyBhbmQgbWFwcykgYXQgdGhlIHNwZWNpZmllZCBkZXB0aC4gLTEgbWVhbnMgXCJhbnkgZGVwdGhcIi4gKi9cbmV4cG9ydCBjb25zdCBjbG9uZSA9IDxUPih2YWx1ZTogVCwgZGVwdGggPSAtMSk6IFQgPT5cbiAgaXNBcnJheSh2YWx1ZSlcbiAgICA/IGRlcHRoXG4gICAgICA/IHZhbHVlLm1hcCgodmFsdWUpID0+IGNsb25lKHZhbHVlLCBkZXB0aCAtIDEpKVxuICAgICAgOiBbLi4udmFsdWVdXG4gICAgOiBpc1BsYWluT2JqZWN0KHZhbHVlKVxuICAgID8gZGVwdGhcbiAgICAgID8gb2JqKHZhbHVlIGFzIGFueSwgKFtrLCB2XSkgPT4gW2ssIGNsb25lKHYsIGRlcHRoIC0gMSldKVxuICAgICAgOiB7IC4uLnZhbHVlIH1cbiAgICA6IGlzU2V0KHZhbHVlKVxuICAgID8gbmV3IFNldDxhbnk+KFxuICAgICAgICBkZXB0aFxuICAgICAgICAgID8gKG1hcCBhcyBhbnkpKHZhbHVlLCAodmFsdWU6IGFueSkgPT4gY2xvbmUodmFsdWUsIGRlcHRoIC0gMSkpXG4gICAgICAgICAgOiB2YWx1ZVxuICAgICAgKVxuICAgIDogaXNNYXAodmFsdWUpXG4gICAgPyBuZXcgTWFwPGFueSwgYW55PihcbiAgICAgICAgZGVwdGhcbiAgICAgICAgICA/IChtYXAgYXMgYW55KSh2YWx1ZSwgKHZhbHVlOiBhbnkpID0+XG4gICAgICAgICAgICAgIC8vIERvZXMgbm90IGNsb25lIGtleXMuXG4gICAgICAgICAgICAgIFt2YWx1ZVswXSwgY2xvbmUodmFsdWVbMV0sIGRlcHRoIC0gMSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiB2YWx1ZVxuICAgICAgKVxuICAgIDogKHZhbHVlIGFzIGFueSk7XG5cbi8qKlxuICogVmVyeSBtdWNoIGxpa2UgYEFycmF5LnB1c2hgIGV4Y2VwdCBpdCBhY2NlcHRzIGFueXRoaW5nIHdpdGggYSBgcHVzaCBgIG1ldGhvZCAgKGluY2x1ZGluZyBub24tZ2VuZXJpYyBvdmVybG9hZHMpLFxuICogYW5kIHJldHVybnMgdGhlIHRhcmdldCBzbyBjaGFpbmluZyBpcyBlYXNpZXIuIFN1aXRhYmxlIGZvciB0aWdodCBtaW5pZmljYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBwdXNoID0gPFQgZXh0ZW5kcyB7IHB1c2g6ICguLi5hcmdzOiBhbnkpID0+IGFueSB9IHwgTnVsbGlzaD4oXG4gIHRhcmdldDogVCxcbiAgLi4uaXRlbXM6IE1ldGhvZE92ZXJsb2FkczxULCBcInB1c2hcIj5bMF1cbik6IFQgPT4gdGFyZ2V0Py5wdXNoKC4uLihpdGVtcyBhcyBhbnkpKSE7XG5cbi8qKlxuICogVmVyeSBtdWNoIGxpa2UgYEFycmF5LnBvcGAgZXhjZXB0IGl0IGFjY2VwdHMgYW55dGhpbmcgd2l0aCBhIGBwb3BgIG1ldGhvZC5cbiAqIChJbmNsdWRlZCBvciB0aGUgc2FrZSBvZiBnZW5lcmFsaXR5IHNpbmNlIHdlIGhhdmUge0BsaW5rIHB1c2h9KS4gU3VpdGFibGUgZm9yIHRpZ2h0IG1pbmlmaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IHBvcCA9IDxUIGV4dGVuZHMgeyBwb3AoKTogUiB9IHwgdW5kZWZpbmVkLCBSPihcbiAgdGFyZ2V0OiBUXG4pOiBNYXliZVVuZGVmaW5lZDxULCBSPiA9PiB0YXJnZXQ/LnBvcCgpIGFzIGFueTtcblxuLyoqXG4gKiBWZXJ5IG11Y2ggbGlrZSBgQXJyYXkudW5zaGlmdGAgZXhjZXB0IGl0IGFjY2VwdHMgYW55dGhpbmcgd2l0aCBhIGBwdXNoIGAgbWV0aG9kICAoaW5jbHVkaW5nIG5vbi1nZW5lcmljIG92ZXJsb2FkcyksXG4gKiBhbmQgcmV0dXJucyB0aGUgdGFyZ2V0IHNvIGNoYWluaW5nIGlzIGVhc2llci4gU3VpdGFibGUgZm9yIHRpZ2h0IG1pbmlmaWNhdGlvblxuICovXG5leHBvcnQgY29uc3QgdW5zaGlmdCA9IDxUIGV4dGVuZHMgeyB1bnNoaWZ0OiAoLi4uYXJnczogYW55KSA9PiBhbnkgfSB8IE51bGxpc2g+KFxuICB0YXJnZXQ6IFQsXG4gIC4uLml0ZW1zOiBNZXRob2RPdmVybG9hZHM8VCwgXCJ1bnNoaWZ0XCI+WzBdXG4pOiBUID0+IHRhcmdldD8udW5zaGlmdCguLi4oaXRlbXMgYXMgYW55KSkhO1xuXG4vKipcbiAqIFZlcnkgbXVjaCBsaWtlIGBBcnJheS5zaGlmdGAgZXhjZXB0IGl0IGFjY2VwdHMgYW55dGhpbmcgd2l0aCBhIGBzaGlmdGAgbWV0aG9kLlxuICogKEluY2x1ZGVkIG9yIHRoZSBzYWtlIG9mIGdlbmVyYWxpdHkgc2luY2Ugd2UgaGF2ZSB7QGxpbmsgdW5zaGlmdH0pLiBTdWl0YWJsZSBmb3IgdGlnaHQgbWluaWZpY2F0aW9uLiAqL1xuZXhwb3J0IGNvbnN0IHNoaWZ0ID0gPFQgZXh0ZW5kcyB7IHNoaWZ0KCk6IFIgfSB8IHVuZGVmaW5lZCwgUj4oXG4gIHRhcmdldDogVFxuKTogTWF5YmVVbmRlZmluZWQ8VCwgUj4gPT4gdGFyZ2V0Py5zaGlmdCgpIGFzIGFueTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBhbiBvYmplY3QsIGFuZCB0aGUgY2hhbmdlZCB2YWx1ZXMgc3BlY2lmaWVkLlxuICogSWYgYW4gdXBkYXRlZCBwcm9wZXJ0eSBpcyBudW1lcmljLCB0aGUgZGVsdGEgd2lsbCBiZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB1cGRhdGVkIGFuZCBjdXJyZW50IG51bWJlci5cbiAqIElmIGFuIHVwZGF0ZWQgcHJvcGVydHkgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgdmFsdWUsIGl0IHdpbGwgbm90IGJlIGluY2x1ZGVkIGluIHRoZSBkaWZmIHJlc3VsdCxcbiAqIG90aGVyd2lzZSB0aGlzIGFsZ29yaXRobSBpcyBubyBtb3JlIHNvcGhpc3RpY2F0ZWQgdGhhbiBqdXN0IHJldHVybmluZyB0aGUgbmV3IHZhbHVlIGluIHRoZSBkaWZmIChlLmcuIG5vdGhpbmcgc3BlY2lhbCBhYm91dCBzdHJpbmdzKS5cbiAqXG4gKiBAcmV0dXJucyBBIHR1cGxlIHdpdGggdGhlIGZpcnN0IGVsZW1lbnQgYmVpbmcgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHVwZGF0ZXMgYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sXG4gKiAgYW5kIHRoZSBzZWNvbmQgZWxlbWVudCBhIGNsb25lIG9mIHRoZSBjdXJyZW50IHZhbHVlIHdpdGggdGhlIGNoYW5nZXMgYXBwbGllZC5cbiAqICBUaGUgbGF0dGVyIHNob3VsZCBiZSBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgbmV4dCB0aW1lIHRoZSBkaWZmIGlzIGNhbGN1bGF0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBkaWZmID0gPFQ+KFxuICB1cGRhdGVkOiBULFxuICBwcmV2aW91czogVCB8IHVuZGVmaW5lZFxuKTogW2RlbHRhOiBULCBjdXJyZW50OiBUXSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghdXBkYXRlZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KHByZXZpb3VzKSkgcmV0dXJuIFt1cGRhdGVkLCB1cGRhdGVkXTtcblxuICBjb25zdCBkZWx0YTogYW55ID0ge307XG4gIGxldCBwYXRjaGVkVmFsdWU6IGFueTtcbiAgbGV0IHByZXZpb3VzVmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgdGhpcyB3aWxsIGJlIGEgY2xvbmUgb2YgdGhlIHByZXZpb3VzIHZhbHVlIHdpdGggdGhlIGRlbHRhIGNoYW5nZXMgYXBwbGllZC5cbiAgbGV0IHBhdGNoZWQ6IGFueTtcblxuICBpZiAoaXNQbGFpbk9iamVjdCh1cGRhdGVkKSkge1xuICAgIGZvckVhY2godXBkYXRlZCwgKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHN0cnVjdHVyYWxFcXVhbHModmFsdWUsIHByZXZpb3VzW2tleV0sIC0xKSkge1xuICAgICAgICAvLyBObyBjaGFuZ2VzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KChwYXRjaGVkVmFsdWUgPSB2YWx1ZSkpKSB7XG4gICAgICAgIC8vIGRlbHRhVmFsdWUgd2lsbCBiZSB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG5vIGNoYW5nZWQgaW4gdGhlIGNoaWxkIG9iamVjdC5cbiAgICAgICAgaWYgKCEodmFsdWUgPSBkaWZmKHZhbHVlLCBwcmV2aW91c1trZXldKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgW3ZhbHVlLCBwYXRjaGVkVmFsdWVdID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlKSAmJiBpc051bWJlcihwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IChwYXRjaGVkVmFsdWUgPSB2YWx1ZSkgLSBwcmV2aW91c1ZhbHVlO1xuICAgICAgfVxuXG4gICAgICBkZWx0YVtrZXldID0gdmFsdWU7XG4gICAgICAocGF0Y2hlZCA/Pz0gY2xvbmUocHJldmlvdXMpKVtrZXldID0gcGF0Y2hlZFZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXRjaGVkID8gW2RlbHRhLCBwYXRjaGVkXSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuIiwiaW1wb3J0IHtcbiAgRixcbiAgTUFYX1NBRkVfSU5URUdFUixcbiAgTWF5YmVQcm9taXNlTGlrZSxcbiAgVCxcbiAgaXNCb29sZWFuLFxuICBpc0Z1bmN0aW9uLFxuICBpc05vdEZhbHNlLFxuICBpc1RydWUsXG4gIHByb21pc2UsXG4gIHRyeUNhdGNoQXN5bmMsXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBNSUxMSVNFQ09ORCA9IDE7XG5leHBvcnQgY29uc3QgU0VDT05EID0gTUlMTElTRUNPTkQgKiAxMDAwO1xuZXhwb3J0IGNvbnN0IE1JTlVURSA9IFNFQ09ORCAqIDYwO1xuZXhwb3J0IGNvbnN0IEhPVVIgPSBNSU5VVEUgKiA2MDtcbmV4cG9ydCBjb25zdCBEQVkgPSBIT1VSICogMjQ7XG5leHBvcnQgY29uc3QgRk9SRVZFUiA9IE1BWF9TQUZFX0lOVEVHRVI7XG5cbmV4cG9ydCBsZXQgbm93OiAocm91bmQ/OiBib29sZWFuKSA9PiBudW1iZXIgPVxuICB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IChyb3VuZCA9IFQpID0+XG4gICAgICAgIHJvdW5kID8gTWF0aC50cnVuYyhub3coRikpIDogcGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiBEYXRlLm5vdztcblxuZXhwb3J0IHR5cGUgVGltZXIgPSB7XG4gICh0b2dnbGU/OiBib29sZWFuLCByZXNldD86IGJvb2xlYW4pOiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXQgPSBTeW1ib2woKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRpbWVyID0gKFxuICBzdGFydGVkID0gdHJ1ZSxcbiAgdGltZVJlZmVyZW5jZSA9ICgpID0+IG5vdygpXG4pOiBUaW1lciA9PiB7XG4gIGxldCB0MDogbnVtYmVyID0gK3N0YXJ0ZWQgKiB0aW1lUmVmZXJlbmNlKCk7XG4gIGxldCBlbGFwc2VkID0gMDtcbiAgbGV0IGNhcHR1cmVkRWxhcHNlZDogbnVtYmVyO1xuICByZXR1cm4gKHRvZ2dsZSA9IHN0YXJ0ZWQsIHJlc2V0PzogYm9vbGVhbikgPT4ge1xuICAgIGNhcHR1cmVkRWxhcHNlZCA9IHN0YXJ0ZWRcbiAgICAgID8gKGVsYXBzZWQgKz0gLXQwICsgKHQwID0gdGltZVJlZmVyZW5jZSgpKSlcbiAgICAgIDogZWxhcHNlZDtcbiAgICByZXNldCAmJiAoZWxhcHNlZCA9IDApO1xuXG4gICAgKHN0YXJ0ZWQgPSB0b2dnbGUpICYmICh0MCA9IHRpbWVSZWZlcmVuY2UoKSk7XG5cbiAgICByZXR1cm4gY2FwdHVyZWRFbGFwc2VkO1xuICB9O1xufTtcblxuLyoqXG4gKiBUaGUgY2FsbGJhY2sgaW52b2tlZCB3aGVuIGEge0BsaW5rIENsb2NrfSB0aWNrcy5cbiAqIElmIGl0IHJldHVybnMgYGZhbHNlYCB0aGUgY2xvY2sgd2lsbCBzdG9wLiBBbnkgb3RoZXIgcmV0dXJuIHZhbHVlIGhhcyBubyBlZmZlY3QuXG4gKi9cbmV4cG9ydCB0eXBlIENsb2NrQ2FsbGJhY2sgPSAoXG4gIGVsYXBzZWQ6IG51bWJlcixcbiAgZGVsdGE6IG51bWJlclxuKSA9PiBNYXliZVByb21pc2VMaWtlPGFueT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2sge1xuICByZWFkb25seSBhY3RpdmU6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGJ1c3k6IGJvb2xlYW47XG4gIHJlc3RhcnQoZnJlcXVlbmN5PzogbnVtYmVyLCBjYWxsYmFjaz86IENsb2NrQ2FsbGJhY2spOiBDbG9jaztcbiAgdG9nZ2xlKHN0YXJ0OiBib29sZWFuLCB0cmlnZ2VyPzogYm9vbGVhbik6IENsb2NrO1xuICB0cmlnZ2VyKHNraXBRdWV1ZT86IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsb2NrU2V0dGluZ3Mge1xuICBmcmVxdWVuY3k/OiBudW1iZXI7XG4gIHF1ZXVlPzogYm9vbGVhbjtcbiAgcGF1c2VkPzogYm9vbGVhbjtcbiAgdHJpZ2dlcj86IGJvb2xlYW47XG4gIG9uY2U/OiBib29sZWFuO1xuICBjYWxsYmFjaz86IENsb2NrQ2FsbGJhY2s7XG4gIHJhZj86IGJvb2xlYW47XG59XG5cbi8qKiBMaWdodC13ZWlnaHQgdmVyc2lvbiBvZiB7QGxpbmsgY2xvY2t9LiBUaGUgdHJpZ2dlciBhbmQgY2FuY2VsIG92ZXJsb2FkcyByZXR1cm5zIHRydWUgdG8gZW5hYmxlIGNoYWluaW5nIGxpa2UgYHRpbWVvdXQoZmFsc2UpJiYuLi5gICovXG5leHBvcnQgY29uc3QgY3JlYXRlVGltZW91dCA9IChcbiAgZGVmYXVsdFRpbWVvdXQgPSAwXG4pOiB7XG4gIChjYWxsYmFjazogKCkgPT4gdm9pZCwgdGltZW91dD86IG51bWJlcik6IHZvaWQ7XG4gIChjYW5jZWw6IGZhbHNlKTogdHJ1ZTtcbiAgKHRyaWdnZXI6IHRydWUpOiB0cnVlO1xuICAoKTogYm9vbGVhbjtcbn0gPT4ge1xuICBsZXQgaGFuZGxlOiBhbnk7XG4gIGxldCBjdXJyZW50Q2FsbGJhY2s6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBzdGlja3lUaW1lb3V0ID0gKGFyZz86IGFueSwgdGltZW91dCA9IGRlZmF1bHRUaW1lb3V0KSA9PiB7XG4gICAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gISFjdXJyZW50Q2FsbGJhY2s7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgIGlmIChpc0Jvb2xlYW4oYXJnKSkge1xuICAgICAgYXJnICYmICh0aW1lb3V0IDwgMCA/IGlzTm90RmFsc2UgOiBpc1RydWUpKGN1cnJlbnRDYWxsYmFjaz8uKCkpXG4gICAgICAgID8gc3RpY2t5VGltZW91dChjdXJyZW50Q2FsbGJhY2ssIHRpbWVvdXQpXG4gICAgICAgIDogKGN1cnJlbnRDYWxsYmFjayA9IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRDYWxsYmFjayA9IGFyZztcbiAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHN0aWNreVRpbWVvdXQodHJ1ZSwgdGltZW91dCksXG4gICAgICAgIHRpbWVvdXQgPCAwID8gLXRpbWVvdXQgOiB0aW1lb3V0XG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHN0aWNreVRpbWVvdXQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGNsb2NrOiB7XG4gIChjYWxsYmFjazogQ2xvY2tDYWxsYmFjaywgZnJlcXVlbmN5OiBudW1iZXIpOiBDbG9jaztcbiAgKHNldHRpbmdzOiBDbG9ja1NldHRpbmdzKTogQ2xvY2s7XG59ID0gKFxuICBjYWxsYmFja09yU2V0dGluZ3M6IENsb2NrQ2FsbGJhY2sgfCBDbG9ja1NldHRpbmdzLFxuICBmcmVxdWVuY3kgPSAwXG4pOiBDbG9jayA9PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gaXNGdW5jdGlvbihjYWxsYmFja09yU2V0dGluZ3MpXG4gICAgPyB7XG4gICAgICAgIGZyZXF1ZW5jeSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrT3JTZXR0aW5ncyxcbiAgICAgIH1cbiAgICA6IGNhbGxiYWNrT3JTZXR0aW5ncztcblxuICBsZXQge1xuICAgIHF1ZXVlID0gdHJ1ZSxcbiAgICBwYXVzZWQgPSBmYWxzZSxcbiAgICB0cmlnZ2VyID0gZmFsc2UsXG4gICAgb25jZSA9IGZhbHNlLFxuICAgIGNhbGxiYWNrID0gKCkgPT4ge30sXG4gICAgcmFmLFxuICB9ID0gc2V0dGluZ3M7XG4gIGZyZXF1ZW5jeSA9IHNldHRpbmdzLmZyZXF1ZW5jeSA/PyAwO1xuXG4gIGxldCB0aW1lb3V0SWQgPSAwO1xuICBjb25zdCBtdXRleCA9IHByb21pc2UodHJ1ZSkucmVzb2x2ZSgpO1xuICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCFwYXVzZWQpO1xuICBsZXQgZGVsdGEgPSB0aW1lcigpO1xuXG4gIGNvbnN0IG91dGVyQ2FsbGJhY2sgPSBhc3luYyAoc2tpcFF1ZXVlPzogYm9vbGVhbikgPT4ge1xuICAgIGlmICghdGltZW91dElkIHx8ICghcXVldWUgJiYgbXV0ZXgucGVuZGluZyAmJiBza2lwUXVldWUgIT09IHRydWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIChpbnN0YW5jZSBhcyBhbnkpLmJ1c3kgPSB0cnVlO1xuICAgIGlmIChza2lwUXVldWUgIT09IHRydWUpIHtcbiAgICAgIHdoaWxlIChtdXRleC5wZW5kaW5nKSB7XG4gICAgICAgIGF3YWl0IG11dGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgICFza2lwUXVldWUgJiYgbXV0ZXgucmVzZXQoKTtcblxuICAgIGlmIChcbiAgICAgIChhd2FpdCB0cnlDYXRjaEFzeW5jKFxuICAgICAgICAoKSA9PiBjYWxsYmFjayEodGltZXIoKSwgLWRlbHRhICsgKGRlbHRhID0gdGltZXIoKSkpLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgKCkgPT4gIXNraXBRdWV1ZSAmJiBtdXRleC5yZXNvbHZlKClcbiAgICAgICkpID09PSBmYWxzZSB8fFxuICAgICAgZnJlcXVlbmN5IDw9IDAgfHxcbiAgICAgIG9uY2VcbiAgICApIHtcbiAgICAgIHJlc2V0KGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gISgoaW5zdGFuY2UgYXMgYW55KS5idXN5ID0gZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVRpbWVvdXQgPSAoKSA9PlxuICAgICh0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICAgKCkgPT4gKHJhZiA/IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aW1lb3V0Q2FsbGJhY2spIDogdGltZW91dENhbGxiYWNrKCkpLFxuICAgICAgZnJlcXVlbmN5IDwgMCA/IC1mcmVxdWVuY3kgOiBmcmVxdWVuY3lcbiAgICApIGFzIGFueSk7XG5cbiAgY29uc3QgdGltZW91dENhbGxiYWNrID0gKCkgPT4ge1xuICAgIGluc3RhbmNlLmFjdGl2ZSAmJiBvdXRlckNhbGxiYWNrKCk7XG4gICAgaW5zdGFuY2UuYWN0aXZlICYmIHVwZGF0ZVRpbWVvdXQoKTtcbiAgfTtcblxuICBjb25zdCByZXNldCA9IChzdGFydDogYm9vbGVhbiwgcmVzZXRUaW1lciA9ICFzdGFydCkgPT4ge1xuICAgIHRpbWVyKHN0YXJ0LCByZXNldFRpbWVyKTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAoaW5zdGFuY2UgYXMgYW55KS5hY3RpdmUgPSAhISh0aW1lb3V0SWQgPSBzdGFydCA/IHVwZGF0ZVRpbWVvdXQoKSA6IDApO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICBjb25zdCBpbnN0YW5jZTogQ2xvY2sgPSB7XG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBidXN5OiBmYWxzZSxcbiAgICByZXN0YXJ0OiAobmV3RnJlcXVlbmN5LCBuZXdDYWxsYmFjaykgPT4ge1xuICAgICAgZnJlcXVlbmN5ID0gbmV3RnJlcXVlbmN5ID8/IGZyZXF1ZW5jeTtcbiAgICAgIGNhbGxiYWNrID0gbmV3Q2FsbGJhY2sgPz8gY2FsbGJhY2s7XG4gICAgICByZXR1cm4gcmVzZXQodHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICB0b2dnbGU6IChzdGFydCwgdHJpZ2dlcikgPT5cbiAgICAgIHN0YXJ0ICE9PSBpbnN0YW5jZS5hY3RpdmVcbiAgICAgICAgPyBzdGFydFxuICAgICAgICAgID8gdHJpZ2dlclxuICAgICAgICAgICAgPyAocmVzZXQodHJ1ZSksIGluc3RhbmNlLnRyaWdnZXIoKSwgaW5zdGFuY2UpXG4gICAgICAgICAgICA6IHJlc2V0KHRydWUpXG4gICAgICAgICAgOiByZXNldChmYWxzZSlcbiAgICAgICAgOiBpbnN0YW5jZSxcbiAgICB0cmlnZ2VyOiBhc3luYyAoc2tpcFF1ZXVlKSA9PlxuICAgICAgKGF3YWl0IG91dGVyQ2FsbGJhY2soc2tpcFF1ZXVlKSkgJiYgKHJlc2V0KGluc3RhbmNlLmFjdGl2ZSksIHRydWUpLFxuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZS50b2dnbGUoIXBhdXNlZCwgdHJpZ2dlcik7XG59O1xuIiwiaW1wb3J0IHtcbiAgSWYsXG4gIE1heWJlUHJvbWlzZUxpa2UsXG4gIE1heWJlVW5kZWZpbmVkLFxuICBOdWxsaXNoLFxuICBUb2dnbGVQcm9taXNlLFxuICBVbndyYXAsXG4gIFdyYXBwZWQsXG4gIGlzRnVuY3Rpb24sXG4gIG5vdyxcbiAgdGhyb3dFcnJvcixcbiAgdHJ5Q2F0Y2hBc3luYyxcbiAgdW5kZWZpbmVkLFxuICB1bndyYXAsXG59IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjbGFzcyBSZXNldHRhYmxlUHJvbWlzZTxUID0gdm9pZCwgRSA9IGFueT4gaW1wbGVtZW50cyBQcm9taXNlTGlrZTxUPiB7XG4gIHByaXZhdGUgX3Byb21pc2U6IE9wZW5Qcm9taXNlPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudmFsdWU7XG4gIH1cbiAgcHVibGljIGdldCBlcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5lcnJvcjtcbiAgfVxuICBwdWJsaWMgZ2V0IHBlbmRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UucGVuZGluZztcbiAgfVxuXG4gIHB1YmxpYyByZXNvbHZlKHZhbHVlOiBULCBpZlBlbmRpbmcgPSBmYWxzZSkge1xuICAgIHRoaXMuX3Byb21pc2UucmVzb2x2ZSh2YWx1ZSwgaWZQZW5kaW5nKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyByZWplY3QodmFsdWU/OiBFLCBpZlBlbmRpbmcgPSBmYWxzZSkge1xuICAgIHRoaXMuX3Byb21pc2UucmVqZWN0KHZhbHVlLCBpZlBlbmRpbmcpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgT3BlblByb21pc2U8VD4oKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBzaWduYWwodmFsdWU6IFQpIHtcbiAgICB0aGlzLnJlc29sdmUodmFsdWUpO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB0aGVuPFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gICAgb25mdWxmaWxsZWQ/OlxuICAgICAgfCAoKHZhbHVlOiBUKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPilcbiAgICAgIHwgdW5kZWZpbmVkXG4gICAgICB8IG51bGwsXG4gICAgb25yZWplY3RlZD86XG4gICAgICB8ICgocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+KVxuICAgICAgfCB1bmRlZmluZWRcbiAgICAgIHwgbnVsbFxuICApOiBQcm9taXNlTGlrZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5Qcm9taXNlPFQgPSB2b2lkLCBFID0gYW55PiBpbXBsZW1lbnRzIFByb21pc2VMaWtlPFQ+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBfcHJvbWlzZTogUHJvbWlzZTxUPjtcblxuICBwdWJsaWMgcmVhZG9ubHkgcmVzb2x2ZTogKHZhbHVlOiBULCBpZlBlbmRpbmc/OiBib29sZWFuKSA9PiB0aGlzO1xuICBwdWJsaWMgcmVhZG9ubHkgcmVqZWN0OiAocmVhc29uOiBFIHwgdW5kZWZpbmVkLCBpZlBlbmRpbmc/OiBib29sZWFuKSA9PiB0aGlzO1xuICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IChUIGV4dGVuZHMgdm9pZCA/IHRydWUgOiBUKSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHJlYWRvbmx5IGVycm9yOiBFIHwgdHJ1ZTtcbiAgcHVibGljIHBlbmRpbmcgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBjYXB0dXJlZDogYW55W107XG4gICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKCguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgY2FwdHVyZWQgPSBhcmdzLm1hcCgoaW5uZXIsIGkpID0+ICh2YWx1ZTogYW55LCBpZlBlbmRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICBpZiAoaWZQZW5kaW5nKSByZXR1cm4gdGhpcztcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBhbHJlYWR5IHJlc29sdmVkL3JlamVjdGVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgICh0aGlzIGFzIGFueSkucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAodGhpcyBhcyBhbnkpW2kgPyBcImVycm9yXCIgOiBcInZhbHVlXCJdID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZTtcbiAgICAgICAgaW5uZXIodmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgW3RoaXMucmVzb2x2ZSwgdGhpcy5yZWplY3RdID0gY2FwdHVyZWQhO1xuICB9XG5cbiAgcHVibGljIHRoZW48VFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgICBvbmZ1bGZpbGxlZD86XG4gICAgICB8ICgodmFsdWU6IFQpID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+KVxuICAgICAgfCBudWxsXG4gICAgICB8IHVuZGVmaW5lZCxcbiAgICBvbnJlamVjdGVkPzpcbiAgICAgIHwgKChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pXG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkXG4gICk6IFByb21pc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jayB7XG4gIC8qKlxuICAgKiBXYWl0IHVudGlsIHRoZSBsb2NrIGlzIGF2YWlsYWJsZS4gSWYgYSB0aW1lb3V0IGlzIG5vdCBzcGVjaWZpZWQgb3IgbmVnYXRpdmUsIHRoZSBjYWxsaW5nIHRocmVhZCB3aWxsIHdhaXQgaW5kZWZpbml0ZWx5LlxuICAgKiBJZiBhIG93bmVyIElEIGlzIHNwZWNpZmllZCB0aGUgbG9jayB3aWxsIGJlIHJlZW50cmFudCBmb3IgdGhhdCBJRC5cbiAgICovXG4gIDxNcyBleHRlbmRzIG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZD4oXG4gICAgdGltZW91dD86IE1zLFxuICAgIG93bmVySWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTwoKCkgPT4gdm9pZCkgfCBJZjxNcywgdW5kZWZpbmVkPj47XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIHRoZSBzcGVjaWZpZWQgYWN0aW9uIHdoZW4gdGhlIGxvY2sgYmVjb21lcyBhdmFpbGFibGUuXG4gICAqIElmIGEgdGltZW91dCBpcyBub3Qgc3BlY2lmaWVkIG9yIG5lZ2F0aXZlLCB0aGUgY2FsbGluZyB0aHJlYWQgd2lsbCB3YWl0IGluZGVmaW5pdGVseS5cbiAgICogSWYgYSBvd25lciBJRCBpcyBzcGVjaWZpZWQgdGhlIGxvY2sgd2lsbCBiZSByZWVudHJhbnQgZm9yIHRoYXQgSUQuXG4gICAqL1xuICA8VCwgTXMgZXh0ZW5kcyBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ+KFxuICAgIGFjdGlvbjogKCkgPT4gTWF5YmVQcm9taXNlTGlrZTxUPixcbiAgICB0aW1lb3V0PzogTXMsXG4gICAgb3duZXJJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPFQgfCBJZjxNcywgdW5kZWZpbmVkPj47XG59XG5cbmV4cG9ydCB0eXBlIExvY2tTdGF0ZSA9IFtvd25lcjogc3RyaW5nIHwgYm9vbGVhbiwgZXhwaXJlcz86IG51bWJlcl07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVMb2NrID0gKHRpbWVvdXQ/OiBudW1iZXIpOiBMb2NrID0+IHtcbiAgY29uc3Qgc2VtYXBob3JlID0gcHJvbWlzZTxMb2NrU3RhdGUgfCBib29sZWFuPih0cnVlKTtcbiAgbGV0IHN0YXRlOiBMb2NrU3RhdGUgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgd2FpdCA9IGFzeW5jIChcbiAgICBhcmcxPzogKCgpID0+IGFueSkgfCBudW1iZXIsXG4gICAgYXJnMj86IG51bWJlciB8IHN0cmluZyxcbiAgICBhcmczPzogc3RyaW5nXG4gICkgPT4ge1xuICAgIGlmIChpc0Z1bmN0aW9uKGFyZzEpKSB7XG4gICAgICBjb25zdCByZWxlYXNlID0gYXdhaXQgd2FpdChhcmcyIGFzIG51bWJlciwgYXJnMyk7XG4gICAgICByZXR1cm4gcmVsZWFzZSA/IGF3YWl0IHRyeUNhdGNoQXN5bmMoYXJnMSwgdHJ1ZSwgcmVsZWFzZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG93bmVySWQgPSBhcmcyIGFzIHN0cmluZztcblxuICAgIGxldCBtcyA9IGFyZzEgYXMgbnVtYmVyO1xuICAgIGxldCByZW5ld0ludGVydmFsOiBhbnkgPSAwO1xuICAgIHdoaWxlIChzdGF0ZSAmJiBvd25lcklkICE9PSBzdGF0ZVswXSAmJiAoc3RhdGVbMV0gPz8gMCkhIDwgbm93KCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKGF3YWl0IChtcyA+PSAwID8gcmFjZShkZWxheShtcyksIHNlbWFwaG9yZSkgOiBzZW1hcGhvcmUpKSA9PT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSBhYm92ZSBkaWQgbm90IHJldHVybiB1bmRlZmluZWQgd2UgZ290IHRoZSBzZW1hcGhvcmUuXG4gICAgfVxuXG4gICAgY29uc3QgcmVsZWFzZSA9ICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChyZW5ld0ludGVydmFsKTtcbiAgICAgIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgc2VtYXBob3JlLnNpZ25hbChmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmV3ID0gKCkgPT4ge1xuICAgICAgc3RhdGUgPSBbb3duZXJJZCA/PyB0cnVlLCB0aW1lb3V0ID8gbm93KCkgLSB0aW1lb3V0IDogdW5kZWZpbmVkXTtcbiAgICAgIHRpbWVvdXQgJiZcbiAgICAgICAgKHJlbmV3SW50ZXJ2YWwgPSBzZXRUaW1lb3V0KCgpID0+IHN0YXRlICYmIHJlbmV3KCksIHRpbWVvdXQgLyAyKSk7XG4gICAgfTtcbiAgICByZW5ldygpO1xuXG4gICAgcmV0dXJuIHJlbGVhc2U7XG4gIH07XG4gIHJldHVybiB3YWl0O1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmVyID0gKGY6IFZvaWRGdW5jdGlvbiwgbXMgPSAwKSA9PlxuICBtcyA+IDAgPyBzZXRUaW1lb3V0KGYsIG1zKSA6IHdpbmRvdy5xdWV1ZU1pY3JvdGFzayhmKTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gPFxuICBEZWxheSBleHRlbmRzIG51bWJlciB8IE51bGxpc2gsXG4gIFQgZXh0ZW5kcyBXcmFwcGVkPGFueT4gPSB2b2lkXG4+KFxuICBtczogRGVsYXksXG4gIHZhbHVlPzogVFxuKTogTWF5YmVVbmRlZmluZWQ8RGVsYXksIFRvZ2dsZVByb21pc2U8VW53cmFwPFQ+LCB0cnVlPj4gPT5cbiAgbXMgPT0gbnVsbCB8fCBpc0Zpbml0ZShtcylcbiAgICA/ICFtcyB8fCBtcyA8PSAwXG4gICAgICA/IHVud3JhcCh2YWx1ZSkhXG4gICAgICA6IG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUpID0+XG4gICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiByZXNvbHZlKGF3YWl0IHVud3JhcCh2YWx1ZSkpLCBtcylcbiAgICAgICAgKVxuICAgIDogKHRocm93RXJyb3IoYEludmFsaWQgZGVsYXkgJHttc30uYCkgYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IHByb21pc2U6IHtcbiAgPFQgPSB2b2lkPihyZXNldHRhYmxlPzogZmFsc2UpOiBPcGVuUHJvbWlzZTxUPjtcbiAgPFQgPSB2b2lkPihyZXNldHRhYmxlOiB0cnVlKTogUmVzZXR0YWJsZVByb21pc2U8VD47XG59ID0gKHJlc2V0dGFibGU/OiBib29sZWFuKSA9PlxuICByZXNldHRhYmxlID8gbmV3IFJlc2V0dGFibGVQcm9taXNlKCkgOiAobmV3IE9wZW5Qcm9taXNlKCkgYXMgYW55KTtcblxudHlwZSBVbndyYXBQcm9taXNlQXJnPFQ+ID0gVCBleHRlbmRzICgpID0+IGluZmVyIFQgPyBBd2FpdGVkPFQ+IDogQXdhaXRlZDxUPjtcbnR5cGUgVW53cmFwUHJvbWlzZUFyZ3M8VCBleHRlbmRzIGFueVtdPiA9IFQgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgQXJnXVxuICA/IFtVbndyYXBQcm9taXNlQXJnPEFyZz5dXG4gIDogVCBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBBcmcsIC4uLmluZmVyIFJlc3RdXG4gID8gW1Vud3JhcFByb21pc2VBcmc8QXJnPiwgLi4uVW53cmFwUHJvbWlzZUFyZ3M8UmVzdD5dXG4gIDogW107XG5cbmV4cG9ydCB0eXBlIEFzeW5jVmFsdWU8VD4gPVxuICB8IHVuZGVmaW5lZFxuICB8IFRcbiAgfCBQcm9taXNlTGlrZTxUPlxuICB8ICgoKSA9PiBUKVxuICB8ICgoKSA9PiBQcm9taXNlTGlrZTxUPik7XG5cbmV4cG9ydCBjb25zdCB3YWl0QWxsID0gPEFyZ3MgZXh0ZW5kcyBBc3luY1ZhbHVlPGFueT5bXT4oXG4gIC4uLmFyZ3M6IEFyZ3Ncbik6IFByb21pc2U8VW53cmFwUHJvbWlzZUFyZ3M8QXJncz4+ID0+XG4gIFByb21pc2UuYWxsKGFyZ3MubWFwKChhcmcpID0+IChpc0Z1bmN0aW9uKGFyZykgPyBhcmcoKSA6IGFyZykpKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCByYWNlID0gPEFyZ3MgZXh0ZW5kcyBBc3luY1ZhbHVlPGFueT5bXT4oXG4gIC4uLmFyZ3M6IEFyZ3Ncbik6IFByb21pc2U8VW53cmFwUHJvbWlzZUFyZ3M8QXJncz5bbnVtYmVyXT4gPT5cbiAgUHJvbWlzZS5yYWNlKGFyZ3MubWFwKChhcmcpID0+IChpc0Z1bmN0aW9uKGFyZykgPyBhcmcoKSA6IGFyZykpKSBhcyBhbnk7XG4iLCJpbXBvcnQgeyBmaWx0ZXIsIHJlZHVjZSB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCB0eXBlIFJlYmluZGVyID0gKCkgPT4gYm9vbGVhbjtcbmV4cG9ydCB0eXBlIFVuYmluZGVyID0gKCkgPT4gYm9vbGVhbjtcbmV4cG9ydCB0eXBlIEJpbmRlcnMgPSBbdW5iaW5kOiBVbmJpbmRlciwgcmViaW5kOiBSZWJpbmRlcl07XG5cbmV4cG9ydCB0eXBlIFNvdXJjZUxpc3RlbmVyPEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4gPSAoXG4gIC4uLmFyZ3M6IEFyZ3NcbikgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIExpc3RlbmVyPEFyZ3MgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4gPSAoXG4gIC4uLmFyZ3M6IFsuLi5hcmdzOiBBcmdzLCB1bmJpbmQ6IFVuYmluZGVyXVxuKSA9PiB2b2lkO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRXZlbnRCaW5kZXJzID0gPEFyZ3MgZXh0ZW5kcyBhbnlbXT4oXG4gIGxpc3RlbmVyOiBMaXN0ZW5lcjxBcmdzPixcbiAgYXR0YWNoOiAobGlzdGVuZXI6IFNvdXJjZUxpc3RlbmVyPEFyZ3M+KSA9PiB2b2lkLFxuICBkZXRhY2g6IChsaXN0ZW5lcjogU291cmNlTGlzdGVuZXI8QXJncz4pID0+IHZvaWRcbik6IEJpbmRlcnMgPT4ge1xuICBsZXQgYm91bmQgPSBmYWxzZTtcblxuICBjb25zdCBvdXRlckxpc3RlbmVyID0gKC4uLmFyZ3M6IEFyZ3MpID0+IGxpc3RlbmVyKC4uLmFyZ3MsIHVuYmluZCk7XG5cbiAgY29uc3QgdW5iaW5kID0gKCkgPT5cbiAgICBib3VuZCAhPT0gKGJvdW5kID0gZmFsc2UpICYmIChkZXRhY2gob3V0ZXJMaXN0ZW5lciksIHRydWUpO1xuXG4gIGNvbnN0IHJlYmluZCA9ICgpID0+XG4gICAgYm91bmQgIT09IChib3VuZCA9IHRydWUpICYmIChhdHRhY2gob3V0ZXJMaXN0ZW5lciksIHRydWUpO1xuXG4gIHJlYmluZCgpO1xuICByZXR1cm4gW3VuYmluZCwgcmViaW5kXTtcbn07XG5cbmV4cG9ydCBjb25zdCBqb2luRXZlbnRCaW5kZXJzID0gKFxuICAuLi5iaW5kZXJzOiAoQmluZGVycyB8IHVuZGVmaW5lZClbXVxuKTogQmluZGVycyA9PiAoXG4gIChiaW5kZXJzID0gZmlsdGVyKGJpbmRlcnMpKSxcbiAgW1xuICAgICgpID0+IHJlZHVjZShiaW5kZXJzLCAoY2hhbmdlZCwgYmluZGVyKSA9PiBiaW5kZXIhWzBdKCkgfHwgY2hhbmdlZCwgZmFsc2UpLFxuICAgICgpID0+IHJlZHVjZShiaW5kZXJzLCAoY2hhbmdlZCwgYmluZGVyKSA9PiBiaW5kZXIhWzFdKCkgfHwgY2hhbmdlZCwgZmFsc2UpLFxuICBdXG4pO1xuXG5leHBvcnQgdHlwZSBFdmVudEhhbmRsZXI8QXJncyBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiA9IChcbiAgLi4ucGF5bG9hZDogQXJnc1xuKSA9PiB2b2lkO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRXZlbnQgPSA8QXJncyBleHRlbmRzIHJlYWRvbmx5IGFueVtdPigpOiBbXG4gIGxpc3RlbjogKGxpc3RlbmVyOiBMaXN0ZW5lcjxBcmdzPiwgdHJpZ2dlckN1cnJlbnQ/OiBib29sZWFuKSA9PiBCaW5kZXJzLFxuICBkaXNwYXRjaDogKC4uLnBheWxvYWQ6IEFyZ3MpID0+IHZvaWRcbl0gPT4ge1xuICBjb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0PFNvdXJjZUxpc3RlbmVyPEFyZ3M+PigpO1xuICBsZXQgZGlzcGF0Y2hlZEFyZ3M6IEFyZ3MgfCB1bmRlZmluZWQ7XG4gIHJldHVybiBbXG4gICAgKGhhbmRsZXIsIHRyaWdnZXIpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRlcnMgPSBjcmVhdGVFdmVudEJpbmRlcnMoXG4gICAgICAgIGhhbmRsZXIgYXMgYW55LFxuICAgICAgICAoaGFuZGxlcikgPT4gbGlzdGVuZXJzLmFkZChoYW5kbGVyIGFzIGFueSksXG4gICAgICAgIChoYW5kbGVyKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGhhbmRsZXIgYXMgYW55KVxuICAgICAgKTtcbiAgICAgIHRyaWdnZXIgJiZcbiAgICAgICAgZGlzcGF0Y2hlZEFyZ3MgJiZcbiAgICAgICAgKGhhbmRsZXIgYXMgYW55KSguLi5kaXNwYXRjaGVkQXJncywgYmluZGVyc1swXSk7XG4gICAgICByZXR1cm4gYmluZGVycztcbiAgICB9LFxuICAgICguLi5wYXlsb2FkKSA9PiAoXG4gICAgICAoZGlzcGF0Y2hlZEFyZ3MgPSBwYXlsb2FkKSxcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKC4uLnBheWxvYWQpKVxuICAgICksXG4gIF07XG59O1xuXG5leHBvcnQgdHlwZSBDaGFpbmVkRXZlbnRIYW5kbGVyPEFyZ3MgZXh0ZW5kcyBhbnlbXSwgVD4gPSAoXG4gIC4uLmFyZ3M6IFtcbiAgICAuLi5hcmdzOiBBcmdzLFxuICAgIG5leHQ6IHtcbiAgICAgICgpOiBUO1xuICAgICAgKC4uLmFyZ3M6IEFyZ3MpOiBUO1xuICAgIH0sXG4gICAgdW5iaW5kOiBVbmJpbmRlclxuICBdXG4pID0+IFQ7XG5cbnR5cGUgTGlua2VkTm9kZTxUPiA9IFtcbiAgcHJldjogTGlua2VkTm9kZTxUPiB8IHVuZGVmaW5lZCxcbiAgaXRlbTogVCxcbiAgbmV4dDogTGlua2VkTm9kZTxUPiB8IHVuZGVmaW5lZFxuXTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYWluZWRFdmVudCA9IDxUID0gdm9pZCwgQXJncyBleHRlbmRzIGFueVtdID0gW10+KCk6IFtcbiAgcmVnaXN0ZXI6IChcbiAgICBoYW5kbGVyOiBDaGFpbmVkRXZlbnRIYW5kbGVyPEFyZ3MsIFQ+LFxuICAgIHByaW9yaXR5PzogbnVtYmVyXG4gICkgPT4gQmluZGVycyxcbiAgaW52b2tlOiAoLi4uYXJnczogQXJncykgPT4gVCB8IHVuZGVmaW5lZFxuXSA9PiB7XG4gIHR5cGUgSXRlbSA9IFtcbiAgICBoYW5kbGVyOiBDaGFpbmVkRXZlbnRIYW5kbGVyPEFyZ3MsIFQ+LFxuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgYmluZGVyczogQmluZGVyc1xuICBdO1xuICB0eXBlIE5vZGUgPSBMaW5rZWROb2RlPEl0ZW0+O1xuICBsZXQgaGVhZDogTm9kZSB8IHVuZGVmaW5lZDtcbiAgbGV0IHRhaWw6IE5vZGUgfCB1bmRlZmluZWQ7XG4gIGxldCBuZXh0OiBOb2RlIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHJlZ2lzdGVyID0gKFxuICAgIGhhbmRsZXI6IENoYWluZWRFdmVudEhhbmRsZXI8QXJncywgVD4sXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgaGFuZGxlciBnZXRzIHJlYm91bmQgYXQgdGhlaXIgcHJldmlvdXMgcHJpb3JpdHkgd2l0aG91dCBqdW1waW5nIGRpc2NyZXRlIGluY3JlbWVudHMuXG4gICAgLy8gKEl0IGlzIGRlc2VyaWFibGUgdG8gYmUgYWJsZSB0byBzcGVjZml5IHByaW9yaXR5IDAgb3IgIDEwIHdpdGhvdXQgaGF2aW5nIHRvIHRoaW5rIGFib3V0IGhvdyBtYW55IDBzIHRoZXJlIGFyZSlcbiAgICBwcmlvcml0eSA9ICh0YWlsPy5bMV1bMV0gPz8gMCkgKyAwLjAwMDAwMVxuICApID0+IHtcbiAgICBjb25zdCByZWdpc3Rlck5vZGUgPSAobm9kZT86IE5vZGUpID0+IHtcbiAgICAgIGxldCBib3VuZCA9IHRydWU7XG4gICAgICBub2RlID8/PSBbXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgW1xuICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgcHJpb3JpdHksXG4gICAgICAgICAgW1xuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWJvdW5kKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIG5vZGUhWzBdID8gKG5vZGUhWzBdWzJdID0gbm9kZSFbMl0pIDogKGhlYWQgPSBub2RlIVsyXSk7XG4gICAgICAgICAgICAgIG5vZGUhWzJdID8gKG5vZGUhWzJdWzBdID0gbm9kZSFbMF0pIDogKHRhaWwgPSBub2RlIVswXSk7XG4gICAgICAgICAgICAgIG5vZGUhWzBdID0gbm9kZSFbMl0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHJldHVybiAhKGJvdW5kID0gZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IChib3VuZCA/IGZhbHNlIDogKHJlZ2lzdGVyTm9kZShub2RlKSwgKGJvdW5kID0gdHJ1ZSkpKSxcbiAgICAgICAgICBdLFxuICAgICAgICBdLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICBdO1xuICAgICAgbmV4dCA9IGhlYWQ7XG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgaGVhZCA9IHRhaWwgPSBub2RlO1xuICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA+PSB0YWlsIVsxXVsxXSkge1xuICAgICAgICBub2RlWzBdID0gdGFpbDtcbiAgICAgICAgdGFpbCA9IHRhaWwhWzJdID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElOVjogcHJpb3JpdHkgPCB0YWlsLnByaW9yaXR5LCBzbyBuZXh0IHdpbGwgYmUgbm9uLW51bGwgYWZ0ZXIgbG9vcDtcbiAgICAgICAgd2hpbGUgKG5leHQhWzFdWzFdISA8PSBwcmlvcml0eSkge1xuICAgICAgICAgIG5leHQgPSBuZXh0WzJdITtcbiAgICAgICAgfVxuXG4gICAgICAgIChub2RlWzBdID0gKG5vZGVbMl0gPSBuZXh0KVswXSkgPyAobm9kZVswXVsyXSA9IG5vZGUpIDogKGhlYWQgPSBub2RlKTtcbiAgICAgICAgbmV4dFswXSA9IG5vZGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlWzFdWzJdO1xuICAgIH07XG4gICAgcmV0dXJuIHJlZ2lzdGVyTm9kZSgpO1xuICB9O1xuXG4gIGNvbnN0IGludm9rZSA9IChub2RlOiBOb2RlIHwgdW5kZWZpbmVkLCBhcmdzOiBBcmdzKSA9PiAoXG4gICAgKG5leHQgPSBub2RlPy5bMl0pLFxuICAgIG5vZGVcbiAgICAgID8gKG5vZGVbMV1bMF0oXG4gICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAoLi4ubmV4dEFyZ3M6IEFyZ3MpID0+XG4gICAgICAgICAgICBpbnZva2UobmV4dCEsIG5leHRBcmdzLmxlbmd0aCA/IG5leHRBcmdzIDogYXJncyksXG4gICAgICAgICAgbm9kZVsxXVsyXVswXVxuICAgICAgICApIGFzIGFueSlcbiAgICAgIDogdW5kZWZpbmVkXG4gICk7XG5cbiAgcmV0dXJuIFtyZWdpc3RlciwgKC4uLmFyZ3MpID0+IGludm9rZShoZWFkLCBhcmdzKV07XG59O1xuIiwiaW1wb3J0IHtcbiAgTUlOVVRFLFxuICBNYXliZVVuZGVmaW5lZCxcbiAgTnVsbGlzaCxcbiAgZm9yRWFjaDIsXG4gIGlzQXJyYXksXG4gIGlzQm9vbGVhbixcbiAgaXNJdGVyYWJsZSxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1N0cmluZyxcbiAgbWFwLFxuICBwdXNoLFxuICByZXBsYWNlLFxuICByb3VuZCxcbiAgc3ltYm9sSXRlcmF0b3IsXG4gIHVuZGVmaW5lZCxcbn0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZUNhc2UgPSA8UyBleHRlbmRzIHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ+KFxuICBzOiBTLFxuICB1cHBlcjogYm9vbGVhblxuKTogUyA9PiAocyA9PSBudWxsID8gcyA6IHVwcGVyID8gcy50b1VwcGVyQ2FzZSgpIDogcy50b0xvd2VyQ2FzZSgpKSBhcyBTO1xuXG5leHBvcnQgY29uc3QgY2hhbmdlSWRlbnRpZmllckNhc2VTdHlsZSA9IChcbiAgaWRlbnRpZmllcjogc3RyaW5nLFxuICB0eXBlOiBcImNhbWVsXCIgfCBcInBhc2NhbFwiIHwgXCJrZWJhYlwiIHwgXCJzbmFrZVwiXG4pID0+XG4gIGlkZW50aWZpZXIucmVwbGFjZShcbiAgICAvKFtfLV0qKShcXCQqKD86W0EtWl0rfFthLXpdKSkoW2EtejAtOV0qKS9nLFxuICAgIChfLCB1bmRlcnNjb3JlcywgaW5pdGlhbCwgcmVzdCwgaW5kZXgpID0+XG4gICAgICAodW5kZXJzY29yZXMgJiYgKCFpbmRleCB8fCB0eXBlID09PSBcImtlYmFiXCIgfHwgdHlwZSA9PT0gXCJzbmFrZVwiKVxuICAgICAgICA/IHVuZGVyc2NvcmVzLnJlcGxhY2UoLy4vZywgdHlwZSA9PT0gXCJzbmFrZVwiID8gXCItXCIgOiBcIl9cIilcbiAgICAgICAgOiBcIlwiKSArXG4gICAgICAoKGluZGV4ICYmICh0eXBlID09PSBcImtlYmFiXCIgfHwgdHlwZSA9PT0gXCJzbmFrZVwiKSAmJiAhdW5kZXJzY29yZXNcbiAgICAgICAgPyB0eXBlID09PSBcInNuYWtlXCJcbiAgICAgICAgICA/IFwiLVwiXG4gICAgICAgICAgOiBcIl9cIlxuICAgICAgICA6IFwiXCIpICtcbiAgICAgICAgY2hhbmdlQ2FzZShpbml0aWFsLCB0eXBlID09PSBcInBhc2NhbFwiIHx8ICh0eXBlID09PSBcImNhbWVsXCIgJiYgaW5kZXgpKSArXG4gICAgICAgIGNoYW5nZUNhc2UoXG4gICAgICAgICAgdHlwZSA9PT0gXCJrZWJhYlwiIHx8IHR5cGUgPT09IFwic25ha2VcIlxuICAgICAgICAgICAgPyByZXN0LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgLyg/PD1cXEQpXFxkfCg/PD1cXGQpXFxEL2csXG4gICAgICAgICAgICAgICAgdHlwZSA9PT0gXCJrZWJhYlwiID8gXCJfJCZcIiA6IFwiLSQmXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiByZXN0LFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICkpXG4gICk7XG5cbi8qKlxuICogUGx1cmFsaXplcyBhIG5vdW4gdXNpbmcgc3RhbmRhcmQgRW5nbGlzaCBydWxlcy5cbiAqIEl0IGlzIG5vdCB2ZXJ5IHNtYXJ0LCBzbyBpZiB0aGUgcGx1cmFsIGZvcm0gaXMgbm90IGp1c3QgYWRkaW5nIGFuIFwic1wiIGluIHRoZSBlbmQgdW5sZXNzIHRoZSBzaW5ndWxhciBmb3JtIGFscmVhZHkgZW5kcyB3aXRoIFwic1wiLFxuICogaXQgbXVzdCBiZSBzcGVjaWZpZWQgbWFudWFsbHkuXG4gKlxuICogQHBhcmFtIHNpbmd1bGFyIC0gVGhlIHNpbmd1bGFyIGZvcm0gb2YgdGhlIG5vdW5cbiAqIEBwYXJhbSBuIC0gVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGRlY2lkZXMgaWYgdGhlIG5vdW4gc2hvdWxkIGJlIHBsdXJhbGl6ZWQuIElmIGdpdmVuIGFuIGFycmF5IHRoZSBudW1iZXIgd2lsbCBiZSBwb3N0Zml4ZWQuXG4gKiBAcGFyYW0gcGx1cmFsIC0gVGhlIHBsdXJhbCBmb3JtIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIGFkZGluZyBhbiBcInNcIiB0byB0aGUgc2luZ3VsYXIgZm9ybS5cbiAqIEByZXR1cm5zIFRoZSBub3VuLCBwbHVyYWxpemVkIGlmIG5lZWRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBsdXJhbGl6ZSA9IDxcbiAgVCBleHRlbmRzIHN0cmluZyB8IE51bGxpc2gsXG4gIE4gZXh0ZW5kcyBudW1iZXIgfCBOdWxsaXNoLFxuICBQbHVyYWwgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmdcbj4oXG4gIHNpbmd1bGFyOiBULFxuICBuOiBOIHwgW2NvdW50OiBOXSxcbiAgcGx1cmFsPzogUGx1cmFsXG4pOiBUIGV4dGVuZHMgTnVsbGlzaCA/IHVuZGVmaW5lZCA6IE4gZXh0ZW5kcyBOdWxsaXNoID8gdW5kZWZpbmVkIDogc3RyaW5nID0+XG4gIHNpbmd1bGFyID09IG51bGxcbiAgICA/ICh1bmRlZmluZWQgYXMgYW55KVxuICAgIDogaXNBcnJheShuKVxuICAgID8gKG4gPSBuWzBdKSA9PSBudWxsXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBuICsgXCIgXCIgKyBwbHVyYWxpemUoc2luZ3VsYXIsIG4sIHBsdXJhbClcbiAgICA6IG4gPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkIVxuICAgIDogbiA9PT0gMVxuICAgID8gc2luZ3VsYXJcbiAgICA6IHBsdXJhbCA/PyAoc2luZ3VsYXIgPT09IFwiaXNcIiA/IFwiYXJlXCIgOiBzaW5ndWxhciArIFwic1wiKTtcblxubGV0IGFuc2lTdXBwb3J0ZWQgPSB0cnVlO1xuXG4vKiogRW5hYmxlcyBvciBkaXNhYmxlcyBBTlNJIGZvcm1hdHRpbmcgaW4gY29uc29sZSBvdXRwdXQuICovXG5leHBvcnQgY29uc3QgdG9nZ2xlQW5zaSA9ICh0b2dnbGUgPSB0cnVlKSA9PiAoYW5zaVN1cHBvcnRlZCA9IHRvZ2dsZSk7XG5cbi8qKlxuICogQ2FuIGNvbG9yaXplIHRleHQgdXNpbmcgQU5TSSBlc2NhcGUgc2VxdWVuY2VzLlxuICogU2VlIGUuZy4gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kb2NzL2RldnRvb2xzL2NvbnNvbGUvZm9ybWF0LXN0eWxlIGZvciBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgYW5zaSA9IDxCdWZmZXIgZXh0ZW5kcyBzdHJpbmdbXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZD4oXG4gIHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgcHM6IHN0cmluZyB8IG51bWJlcixcbiAgYnVmZmVyPzogQnVmZmVyXG4pOiBCdWZmZXIgZXh0ZW5kcyB1bmRlZmluZWQgPyBzdHJpbmcgOiBzdHJpbmdbXSA9PlxuICBidWZmZXJcbiAgICA/IChhbnNpU3VwcG9ydGVkICYmIHB1c2goYnVmZmVyLCBcIlxceDFCW1wiLCBwcywgXCJtXCIpLFxuICAgICAgaXNBcnJheSh2YWx1ZSkgPyBwdXNoKGJ1ZmZlciwgLi4udmFsdWUpIDogcHVzaChidWZmZXIsIHZhbHVlKSxcbiAgICAgIGFuc2lTdXBwb3J0ZWQgJiYgcHVzaChidWZmZXIsIFwiXFx4MUJbbVwiKSxcbiAgICAgIGJ1ZmZlcilcbiAgICA6IChhbnNpKHZhbHVlLCBwcywgW10pLmpvaW4oXCJcIikgYXMgYW55KTtcblxuY29uc3QgaW5kZW50ID0gKGJ1ZmZlcjogc3RyaW5nW10sIG46IG51bWJlciwgLi4udmFsdWVzOiBzdHJpbmdbXSkgPT4gKFxuICBwdXNoKGJ1ZmZlciwgXCIgIFwiLnJlcGVhdChuKSwgLi4udmFsdWVzKSwgYnVmZmVyXG4pO1xuY29uc3QgYnIgPSAoYnVmZmVyOiBzdHJpbmdbXSwgaW5kZW50cyA9IDApID0+IChcbiAgaW5kZW50cyA+IDAgJiYgaW5kZW50KGJ1ZmZlciwgaW5kZW50cyksIHB1c2goYnVmZmVyLCBcIlxcblwiKSwgYnVmZmVyXG4pO1xuXG5jb25zdCBwcmV0dHlQcmludCA9IChcbiAgdmFsdWU6IGFueSxcbiAgYnVmZmVyOiBzdHJpbmdbXSA9IFtdLFxuICBpbmRlbnRzID0gMCxcbiAgdGVybWluYXRvciA9IFwiXCJcbikgPT4ge1xuICBjb25zdCB3cmFwID0gKFxuICAgIHN0YXJ0OiBzdHJpbmcsXG4gICAgZW5kOiBzdHJpbmcsXG4gICAgY29udGVudDogKGJ1ZmZlcjogc3RyaW5nW10pID0+IHZvaWRcbiAgKSA9PiB7XG4gICAgYW5zaShzdGFydCwgOTAsIGJ1ZmZlcik7XG4gICAgY29uc3Qgc3ViQnVmZmVyOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnRlbnQoc3ViQnVmZmVyKTtcbiAgICBzdWJCdWZmZXIubGVuZ3RoICYmXG4gICAgICAoYnIoYnVmZmVyLCBpbmRlbnRzKSwgcHVzaChidWZmZXIsIC4uLnN1YkJ1ZmZlcikpICYmXG4gICAgICBpbmRlbnQoYnVmZmVyLCBpbmRlbnRzKTtcblxuICAgIGFuc2koZW5kLCA5MCwgYnVmZmVyKTtcbiAgfTtcblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGFuc2kodmFsdWUgPT09IHVuZGVmaW5lZCA/IFwiKHVuZGVmaW5lZClcIiA6IFwiKG51bGwpXCIsIFwiMzc7MlwiLCBidWZmZXIpO1xuICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgd3JhcChcIltcIiwgXCJdXCIsIChidWZmZXIpID0+XG4gICAgICBmb3JFYWNoMihcbiAgICAgICAgdmFsdWUsXG4gICAgICAgICh2YWx1ZSkgPT4gKFxuICAgICAgICAgIGluZGVudChidWZmZXIsIGluZGVudHMpLFxuICAgICAgICAgIHByZXR0eVByaW50KHZhbHVlLCBidWZmZXIsIGluZGVudHMgKyAxLCBcIixcXG5cIilcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgd3JhcChcIntcIiwgXCJ9XCIsIChidWZmZXIpID0+XG4gICAgICBmb3JFYWNoMihcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIChba2V5LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICBpbmRlbnQoYnVmZmVyLCBpbmRlbnRzICsgMSksXG4gICAgICAgICAgYW5zaShbXCJcIiArIChrZXkgYXMgYW55KSwgXCI6XCJdLCBcIjkwOzNcIiwgYnVmZmVyKSxcbiAgICAgICAgICBwdXNoKGJ1ZmZlciwgXCIgXCIpLFxuICAgICAgICAgIHByZXR0eVByaW50KHZhbHVlLCBidWZmZXIsIGluZGVudHMgKyAxLCBcIixcXG5cIilcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgYW5zaSh2YWx1ZSwgMzYsIGJ1ZmZlcik7XG4gIH0gZWxzZSBpZiAoaXNOdW1iZXIodmFsdWUpIHx8IGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICBhbnNpKFwiXCIgKyB2YWx1ZSwgMzMsIGJ1ZmZlcik7XG4gIH0gZWxzZSB7XG4gICAgcHVzaChidWZmZXIsIHZhbHVlKTtcbiAgfVxuICB0ZXJtaW5hdG9yICYmIHB1c2goYnVmZmVyLCB0ZXJtaW5hdG9yKTtcbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbnR5cGUgVXBwZXJjYXNlTGV0dGVyID1cbiAgfCBcIkFcIlxuICB8IFwiQlwiXG4gIHwgXCJDXCJcbiAgfCBcIkRcIlxuICB8IFwiRVwiXG4gIHwgXCJGXCJcbiAgfCBcIkdcIlxuICB8IFwiSFwiXG4gIHwgXCJJXCJcbiAgfCBcIkpcIlxuICB8IFwiS1wiXG4gIHwgXCJMXCJcbiAgfCBcIk1cIlxuICB8IFwiTlwiXG4gIHwgXCJPXCJcbiAgfCBcIlBcIlxuICB8IFwiUVwiXG4gIHwgXCJSXCJcbiAgfCBcIlNcIlxuICB8IFwiVFwiXG4gIHwgXCJVXCJcbiAgfCBcIlZcIlxuICB8IFwiV1wiXG4gIHwgXCJYXCJcbiAgfCBcIllcIlxuICB8IFwiWlwiO1xuXG4vKipcbiAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHByZXR0aWZ5aW5nIGVudW0gbmFtZXMgKGxpa2UgU2VydmVyV3JpdGUgYmVjb21lcyAnc2VydmVyLXdyaXRlJyksIGFsYXMgaXQgZG9lcyBjdXJyZW50bHkgbm90IHdvcmsgd2l0aFxuICogdHMtanNvbi1zY2hlbWEtZ2VuZXJhdG9yLiBLZXB0IGluIHRoZSBob3BlIHRoaXMgd2lsbCBiZSBzdXBwb3J0ZWQgb25lIGRheS5cbiAqL1xuZXhwb3J0IHR5cGUgU25ha2VDYXNlPFxuICBTIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaCxcbiAgRmlyc3QgPSB0cnVlXG4+ID0gUyBleHRlbmRzIE51bGxpc2hcbiAgPyB1bmRlZmluZWRcbiAgOiBTIGV4dGVuZHMgYCR7aW5mZXIgUH0ke2luZmVyIFJlc3R9YFxuICA/IFtQLCBGaXJzdF0gZXh0ZW5kcyBbVXBwZXJjYXNlTGV0dGVyLCBmYWxzZV1cbiAgICA/IGAtJHtMb3dlcmNhc2U8UD59JHtTbmFrZUNhc2U8UmVzdCwgZmFsc2U+fWBcbiAgICA6IGAke0xvd2VyY2FzZTxQPn0ke1NuYWtlQ2FzZTxSZXN0LCBmYWxzZT59YFxuICA6IFMgZXh0ZW5kcyBzdHJpbmdcbiAgPyBMb3dlcmNhc2U8Uz5cbiAgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBzbmFrZUNhc2UgPSA8UyBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxuICBzOiBTXG4pOiBNYXliZVVuZGVmaW5lZDxTLCBTbmFrZUNhc2U8Uz4+ID0+XG4gIHJlcGxhY2UocywgLyguKT8oW0EtWl0pL2csIChfLCBwcmV2LCBwKSA9PlxuICAgICgocHJldiA/IHByZXYgKyBcIi1cIiA6IFwiXCIpICsgcCkudG9Mb3dlckNhc2UoKVxuICApIGFzIGFueTtcblxuZXhwb3J0IGNvbnN0IHF1b3RlID0gPFQ+KFxuICBpdGVtOiBULFxuICBxdW90ZUNoYXIgPSBcIidcIlxuKTogTWF5YmVVbmRlZmluZWQ8VCwgVCBleHRlbmRzIEl0ZXJhYmxlPGFueT4gPyBzdHJpbmdbXSA6IHN0cmluZz4gPT5cbiAgaXRlbSA9PSBudWxsXG4gICAgPyAodW5kZWZpbmVkIGFzIGFueSlcbiAgICA6IGl0ZW1bc3ltYm9sSXRlcmF0b3JdXG4gICAgPyBtYXAoaXRlbSwgKGl0ZW0pID0+IHF1b3RlKGl0ZW0sIHF1b3RlQ2hhcikpXG4gICAgOiBxdW90ZUNoYXIgKyBpdGVtICsgcXVvdGVDaGFyO1xuXG5leHBvcnQgY29uc3QgZWxsaXBzaXMgPSA8VCBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxuICB0ZXh0OiBULFxuICBtYXhMZW5ndGg6IG51bWJlcixcbiAgZGVidWcgPSBmYWxzZVxuKTogVCA9PlxuICB0ZXh0ICYmXG4gICgodGV4dC5sZW5ndGggPiBtYXhMZW5ndGhcbiAgICA/IGRlYnVnXG4gICAgICA/IGAke3RleHQuc2xpY2UoMCwgbWF4TGVuZ3RoKX0uLi4gW2FuZCAke3RleHQubGVuZ3RoIC0gbWF4TGVuZ3RofSBtb3JlXWBcbiAgICAgIDogdGV4dC5zbGljZSgwLCBtYXhMZW5ndGggLSAxKSArIFwi4oCmXCJcbiAgICA6IHRleHQpIGFzIGFueSk7XG5cbi8qKiBXb3JkIHN0YXRpc3RpY3MgZm9yIGEgdGV4dC4gKi9cbmV4cG9ydCB0eXBlIFRleHRTdGF0cyA9IHtcbiAgLyoqIFRoZSBzb3VyY2UgdGV4dC4gKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKiBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhlIHRleHQuICovXG4gIGxlbmd0aDogbnVtYmVyO1xuXG4gIC8qKiBUaGUgbnVtYmVyIG9mIHdvcmQgY2hhcmFjdGVycyAoYSBsZXR0ZXIgb3IgbnVtYmVyIGZvbGxvd2VkIGJ5IGFueSBudW1iZXIgb2YgbGV0dGVycywgbnVtYmVycyBvciBhcG9zdHJvcGhlcykgaW4gdGhlIHRleHQuICovXG4gIGNoYXJhY3RlcnM6IG51bWJlcjtcblxuICAvKiogVGhlIG51bWJlciBvZiB3b3JkcyBpbiB0aGUgdGV4dC4gQSB3b3JkIGlzIGRlZmluZWQgYXMgYSBncm91cCBvZiBjb25zZWN1dGl2ZSB3b3JkIGNoYXJhY3RlcnMuICovXG4gIHdvcmRzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2Ygc2VudGVuY2VzIGluIHRoZSB0ZXh0LlxuICAgKiBBIHNlbnRlbmNlIGlzIGRlZmluZWQgYXMgYW55IGdyb3VwIG9mIGNoYXJhY3RlcnMgd2hlcmUgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXMgYSB3b3JkIGNoYXJhY3RlclxuICAgKiB0ZXJtaW5hdGVkIGJ5IGAuYCwgYCFgLCBgP2Agb3IgdGhlIGVuZCBvZiB0aGUgdGV4dC5cbiAgICovXG4gIHNlbnRlbmNlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgTElYIGluZGV4IGZvciB0aGUgdGV4dC4gVGhlIG1lYXN1cmUgZ2l2ZXMgYW4gaW5kaWNhdGlvbiBvZiBob3cgZGlmZmljdWx0IGl0IGlzIHRvIHJlYWQuXG4gICAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXhfKHJlYWRhYmlsaXR5X3Rlc3QpKVxuICAgKi9cbiAgbGl4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBlc3RpbWF0ZWQgdGltZSBpdCB3aWxsIHRha2UgZm9yIGFuIGF2ZXJhZ2UgdXNlciB0byByZWFkIGFsbCB0aGUgdGV4dC5cbiAgICogVGhlIGR1cmF0aW9uIGlzIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGF0IGlzIHRoZSB0aW1lIHByZWNpc2lvbiBmb3IgRUNNQVNjcmlwdCB0aW1lc3RhbXBzLlxuICAgKlxuICAgKiBUaGUgZXN0aW1hdGUgaXMgYXNzdW1pbmcgXCJTaWxlbnQgcmVhZGluZyB0aW1lXCIgd2hpY2ggc2VlbXMgdG8gYmUgMjM4IHdvcmRzIHBlciBtaW51dGUgYWNjb3JkaW5nXG4gICAqIHRvIFtNYXJjIEJyeXNiYWVydCdzIHJlc2VhcmNoXSAoaHR0cHM6Ly93d3cuc2NpZW5jZWRpcmVjdC5jb20vc2NpZW5jZS9hcnRpY2xlL2Ficy9waWkvUzA3NDk1OTZYMTkzMDA3ODY/dmlhJTNEaWh1YilcbiAgICpcbiAgICovXG4gIHJlYWRUaW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjaGFyYWN0ZXIgaW5kaWNlcyBpbiB0aGUgc291cmNlIHRleHQgdGhhdCBkZW1hcmNhdGVzIHNwZWNpZmljIGZyYWN0aW9ucyBvZiB0aGUgdG90YWwgbnVtYmVycyBvZiB3b3JkIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIDAgJSwgMjUgJSwgNTAgJSwgNzUgJSBhbmQgMTAwICUgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBsZXR0ZXJzIHJlc3BlY3RpdmVseS5cbiAgICogVGhlIGluZGV4IGlzIGZvciB0aGUgY2hhcmFjdGVyIGFmdGVyIHRoZSBsYXN0IGxldHRlciB0aGF0IHRoYXQgZG9lcyBub3QgZXhjZWVkIHRoZSBib3VuZGFyeS5cbiAgICogRm9yIGV4YW1wbGUsIHRoZSAyNSAlIGJvdW5kYXJ5IG9mIFwiYWJjZFwiIGlzIDEgKGJldHdlZW4gYSBhbmQgYikuXG4gICAqL1xuICBib3VuZGFyaWVzOiB7IG9mZnNldDogbnVtYmVyOyB3b3Jkc0JlZm9yZTogbnVtYmVyOyByZWFkVGltZTogbnVtYmVyIH1bXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUZXh0U3RhdHMgPSAoXG4gIHRleHQ6IHN0cmluZyxcbiAgYm91bmRhcnlMaW1pdHMgPSBbMCwgMC4yNSwgMC41LCAwLjc1LCAxXVxuKTogVGV4dFN0YXRzID0+IHtcbiAgbGV0IGNoYXJNYXRjaGVyID0gL1tcXHB7TH1cXHB7Tn1dW1xccHtMfVxccHtOfSfigJldKnwoWy4hP10rKS9ndTtcbiAgbGV0IG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbDtcbiAgbGV0IGNoYXJzID0gMDtcbiAgbGV0IHdvcmRzID0gMDtcbiAgbGV0IGxvbmdXb3JkcyA9IDA7XG4gIGxldCBzZW50ZW5jZXMgPSAwO1xuXG4gIGxldCBoYXNXb3JkID0gZmFsc2U7XG4gIHdoaWxlICgobWF0Y2ggPSBjaGFyTWF0Y2hlci5leGVjKHRleHQpKSkge1xuICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgaGFzV29yZCAmJiArK3NlbnRlbmNlcztcbiAgICAgIGhhc1dvcmQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFzV29yZCA9IHRydWU7XG4gICAgICBjaGFycyArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICBtYXRjaFswXS5sZW5ndGggPiA2ICYmICsrbG9uZ1dvcmRzO1xuICAgICAgKyt3b3JkcztcbiAgICB9XG4gIH1cbiAgaGFzV29yZCAmJiArK3NlbnRlbmNlcztcbiAgY2hhck1hdGNoZXIgPSAvW1xccHtMfVxccHtOfV18KFteXFxwe0x9XFxwe059XSspL2d1O1xuXG4gIGNvbnN0IGxpbWl0cyA9IGJvdW5kYXJ5TGltaXRzLm1hcCgoYm91bmRhcnkpID0+IChib3VuZGFyeSAqIGNoYXJzKSB8IDApO1xuICBjb25zdCBib3VuZGFyaWVzOiBUZXh0U3RhdHNbXCJib3VuZGFyaWVzXCJdID0gW107XG5cbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IHByZXZJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBsZXQgd29yZHNCZWZvcmUgPSAwO1xuICBsZXQgaW5TZW50ZW5jZSA9IGZhbHNlO1xuXG4gIGRvIHtcbiAgICBtYXRjaCA9IGNoYXJNYXRjaGVyLmV4ZWModGV4dCkhO1xuICAgIGlmIChtYXRjaD8uWzFdKSB7XG4gICAgICAvLyBXb3JkIGRlbGltaXRlclxuICAgICAgaW5TZW50ZW5jZSAmJiArK3dvcmRzQmVmb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmRleCA9IG1hdGNoPy5pbmRleCE7XG4gICAgICBsZXQgd2FzQm91bmRhcnkgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGltaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbGltaXRzW2ldLS0pIHtcbiAgICAgICAgICBib3VuZGFyaWVzW2ldID0ge1xuICAgICAgICAgICAgb2Zmc2V0OiBwcmV2SW5kZXggPz8gaW5kZXgsXG4gICAgICAgICAgICB3b3Jkc0JlZm9yZSxcbiAgICAgICAgICAgIHJlYWRUaW1lOiByb3VuZChNSU5VVEUgKiAod29yZHNCZWZvcmUgLyAyMzgpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdhc0JvdW5kYXJ5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGluU2VudGVuY2UgPSAhd2FzQm91bmRhcnkpIHx8ICh3b3Jkc0JlZm9yZSA9IDApO1xuICAgICAgcHJldkluZGV4ID0gaW5kZXggKyAxO1xuICAgIH1cbiAgfSB3aGlsZSAobWF0Y2gpO1xuXG4gIHJldHVybiB7XG4gICAgdGV4dCxcbiAgICBsZW5ndGg6IHRleHQubGVuZ3RoLFxuICAgIGNoYXJhY3RlcnM6IGNoYXJzLFxuICAgIHdvcmRzLFxuICAgIHNlbnRlbmNlcyxcbiAgICBsaXg6IHJvdW5kKHdvcmRzIC8gc2VudGVuY2VzICsgKDEwMCAqIGxvbmdXb3JkcykgLyB3b3JkcyksXG4gICAgcmVhZFRpbWU6IHJvdW5kKE1JTlVURSAqICh3b3JkcyAvIDIzOCkpLFxuICAgIGJvdW5kYXJpZXMsXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgTnVsbGlzaCwgaXNOdW1iZXIsIG1hcDIsIHNraXAyLCB0aHJvd0Vycm9yLCB1bmRlZmluZWQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgdHlwZSBFbnVtUGFyc2VyPFZhbHVlcz4gPSBfRW51bVBhcnNlcjxGaWx0ZXJFbnVtVmFsdWVzPFZhbHVlcz4+O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRW51bVBhcnNlcjogPFZhbHVlcz4oXG4gIG5hbWU6IHN0cmluZyxcbiAgdmFsdWVzOiBWYWx1ZXNcbikgPT4gRW51bVBhcnNlcjxWYWx1ZXM+ID0gKG5hbWUsIHZhbHVlcykgPT4ge1xuICBjb25zdCBsZXZlbHM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IHJhbmtzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gIGNvbnN0IHBhcnNlcjogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gIGxldCByYW5rID0gMDtcbiAgZm9yIChsZXQga2V5IGluIHZhbHVlcykge1xuICAgIGlmIChrZXkgPT09IHZhbHVlc1trZXldKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyc2VyLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICByYW5rc1trZXldID0gcmFuaysrO1xuICAgICAgbGV2ZWxzLnB1c2goa2V5KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBwYXJzZSA9ICh2YWx1ZTogYW55LCB2YWxpZGF0ZSA9IHRydWUpID0+XG4gICAgdmFsdWUgPT0gbnVsbFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogcmFua3NbdmFsdWVdICE9IG51bGxcbiAgICAgID8gdmFsdWVcbiAgICAgIDogdmFsaWRhdGVcbiAgICAgID8gdGhyb3dFcnJvcihgVGhlICR7bmFtZX0gXCIke3ZhbHVlfVwiIGlzIG5vdCBkZWZpbmVkLmApXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBwcm9wZXJ0eVNldHRpbmdzID0ge1xuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwYXJzZXIsIHtcbiAgICBwYXJzZToge1xuICAgICAgdmFsdWU6IHBhcnNlLFxuICAgICAgLi4ucHJvcGVydHlTZXR0aW5ncyxcbiAgICB9LFxuICAgIHJhbmtzOiB7XG4gICAgICB2YWx1ZTogcmFua3MsXG4gICAgICAuLi5wcm9wZXJ0eVNldHRpbmdzLFxuICAgIH0sXG4gICAgbGV2ZWxzOiB7XG4gICAgICB2YWx1ZTogbGV2ZWxzLFxuICAgICAgLi4ucHJvcGVydHlTZXR0aW5ncyxcbiAgICB9LFxuICAgIGNvbXBhcmU6IHtcbiAgICAgIHZhbHVlOiAobGhzOiBhbnksIHJoczogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJhbmsxID0gcmFua3NbcGFyc2UobGhzKV0sXG4gICAgICAgICAgcmFuazIgPSByYW5rc1twYXJzZShyaHMpXTtcbiAgICAgICAgcmV0dXJuIHJhbmsxIDwgcmFuazIgPyAtMSA6IHJhbmsxID4gcmFuazIgPyAxIDogMDtcbiAgICAgIH0sXG4gICAgICAuLi5wcm9wZXJ0eVNldHRpbmdzLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZXIgYXMgYW55O1xufTtcblxudHlwZSBGaWx0ZXJFbnVtVmFsdWVzPFQ+ID0gUGljazxcbiAgVCxcbiAge1xuICAgIFtQIGluIGtleW9mIFRdOiBbVFtQXV0gZXh0ZW5kcyBbUF0gPyBUW1BdIDogbmV2ZXI7XG4gIH1ba2V5b2YgVF1cbj47XG5cbnR5cGUgX0VudW1QYXJzZXI8XG4gIFZhbHVlcyxcbiAgS2V5cyBleHRlbmRzIHN0cmluZyA9IGtleW9mIFZhbHVlcyAmIHN0cmluZ1xuPiA9IFZhbHVlcyAmIHtcbiAgcGFyc2U8XG4gICAgVCBleHRlbmRzIEtleXMgfCAoc3RyaW5nICYge30pIHwgbnVtYmVyIHwgTnVsbGlzaCxcbiAgICBWYWxpZGF0ZSBleHRlbmRzIGJvb2xlYW4gPSB0cnVlXG4gID4oXG4gICAgdmFsdWU6IFQsXG4gICAgdmFsaWRhdGU/OiBWYWxpZGF0ZVxuICApOiBUIGV4dGVuZHMgTnVsbGlzaFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBLZXlzIHwgKFZhbGlkYXRlIGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogdW5kZWZpbmVkKTtcblxuICByZWFkb25seSBsZXZlbHM6IEtleXNbXTtcbiAgcmVhZG9ubHkgcmFua3M6IHsgW1AgaW4gS2V5c106IG51bWJlciB9O1xuXG4gIGNvbXBhcmUobGhzOiBLZXlzLCByaHM6IEtleXMpOiBudW1iZXI7XG59O1xuIiwiaW1wb3J0IHtcbiAgTWF5YmVVbmRlZmluZWQsXG4gIE51bGxpc2gsXG4gIFBpY2tSZXF1aXJlZCxcbiAgUHJldHRpZnlJbnRlcnNlY3Rpb24sXG4gIFNpbXBsZU9iamVjdCxcbiAgY29uY2F0MixcbiAgZm9yRWFjaDIsXG4gIGdyb3VwMixcbiAgaXNBcnJheSxcbiAgaXNTdHJpbmcsXG4gIGpvaW4yLFxuICBtYXAsXG4gIG1hcDIsXG4gIG1hdGNoLFxuICBuaWwsXG4gIG9iajIsXG4gIHNraXAyLFxuICBzdG9wMixcbiAgdW5kZWZpbmVkLFxufSBmcm9tIFwiLlwiO1xuXG50eXBlIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWUgPVxuICB8IGJvb2xlYW5cbiAgfCBzdHJpbmdcbiAgfCByZWFkb25seSBzdHJpbmdbXVxuICB8IHJlYWRvbmx5IFtdO1xuXG5leHBvcnQgdHlwZSBQYXJzZWRVcmk8XG4gIFF1ZXJ5U3RyaW5nRGVsaW1pdGVycyBleHRlbmRzIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWUgPSBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlXG4+ID0ge1xuICAvKiogVGhlIG9yaWdpbmFsIFVSSSB0aGF0IHdhcyBwYXJzZWQuICovXG4gIHNvdXJjZTogc3RyaW5nO1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIHNjaGVtZSBleGNsdWRpbmcgY29sb24gYW5kIHNsYXNoZXMuICovXG4gIHNjaGVtZT86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgc2NoZW1lIGluY2x1ZGVzIHR3byBzbGFzaGVzIG9yIG5vdCAoaW4gd2hpY2ggY2FzZSBpdCBpcyBhIHVybikuXG4gICAqIFNsYXNoZXMgYXJlIG9ubHkgaW5jbHVkZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBVUkkgaWYgdGhpcyB2YWx1ZSBpcyBleHBsaWNpdHkgYGZhbHNlYCxcbiAgICogb3Ige0BsaW5rIHNjaGVtZX0gaGFzIGEgdmFsdWUgYW5kIGl0IGlzIG5vdCBleHBsaWNpdGx5IGB0cnVlYC5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVybj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFVzZXIgbmFtZSwgcGFzc3dvcmQsIGhvc3QgYW5kIHBvcnQgYXMgbXVjaCBhcyBhbnkgb2YgdGhlc2UgYXJlIHBhcnQgb2YgdGhlIFVSSS5cbiAgICogV2hlbiBmb3JtYXR0aW5nIGEgcGFyc2VkIFVSSSwgdGhpcyBpcyBub3QgdXNlZCwgYnV0IHJhdGhlciB0aGUgaW5kaXZpZHVhbCBwYXJ0cy5cbiAgICovXG4gIGF1dGhvcml0eT86IHN0cmluZztcblxuICB1c2VyPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgaG9zdD86IHN0cmluZztcbiAgcG9ydD86IG51bWJlcjtcbiAgcGF0aD86IHN0cmluZztcbiAgcXVlcnk/OiBRdWVyeVN0cmluZ0RlbGltaXRlcnMgZXh0ZW5kcyBmYWxzZVxuICAgID8gc3RyaW5nXG4gICAgOiBQYXJzZWRRdWVyeVN0cmluZzxFeGNsdWRlPFF1ZXJ5U3RyaW5nRGVsaW1pdGVycywgbnVsbD4+O1xuICBmcmFnbWVudD86IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJhbWV0ZXJMaXN0U3ltYm9sID0gU3ltYm9sKCk7XG5leHBvcnQgdHlwZSBQYXJzZWRRdWVyeVN0cmluZzxEZWxpbWl0ZXJzIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZT4gPVxuICBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIERlbGltaXRlcnMgZXh0ZW5kcyBOdWxsaXNoIHwgcmVhZG9ubHkgW10gfCBmYWxzZVxuICAgICAgPyBzdHJpbmdcbiAgICAgIDogc3RyaW5nIHwgc3RyaW5nW11cbiAgPiAmIHtcbiAgICBbcGFyYW1ldGVyTGlzdFN5bWJvbF0/OiBbXG4gICAgICBzdHJpbmcsXG4gICAgICBEZWxpbWl0ZXJzIGV4dGVuZHMgTnVsbGlzaCB8IHJlYWRvbmx5IFtdIHwgZmFsc2VcbiAgICAgICAgPyBzdHJpbmdcbiAgICAgICAgOiBzdHJpbmcgfCBzdHJpbmdbXVxuICAgIF07XG4gIH07XG5cbmV4cG9ydCBjb25zdCB1cmlFbmNvZGUgPSAodmFsdWU6IGFueSkgPT5cbiAgdmFsdWUgIT0gbmlsID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IHBhcnNlS2V5VmFsdWUgPSA8XG4gIERlbGltaXRlcnMgZXh0ZW5kcyBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID0gW1wifFwiLCBcIjtcIiwgXCIsXCJdXG4+KFxuICB2YWx1ZTogc3RyaW5nIHwgTnVsbGlzaCxcbiAge1xuICAgIGRlbGltaXRlcnMgPSBbXCJ8XCIsIFwiO1wiLCBcIixcIl0gYXMgYW55LFxuICAgIGRlY29kZSA9IHRydWUsXG4gICAgbG93ZXJDYXNlLFxuICB9OiBRdWVyeVN0cmluZ1BhcnNlT3B0aW9uczxEZWxpbWl0ZXJzPiA9IHt9XG4pOlxuICB8IHJlYWRvbmx5IFtrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCwgdmFsdWVzOiBzdHJpbmdbXV1cbiAgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICBjb25zdCBwYXJ0czogW3N0cmluZywgc3RyaW5nLCBzdHJpbmdbXV0gPSB2YWx1ZS5zcGxpdChcIj1cIikubWFwKCh2KSA9PiB7XG4gICAgdiA9IGRlY29kZSA/IGRlY29kZVVSSUNvbXBvbmVudCh2LnRyaW0oKSkucmVwbGFjZUFsbChcIitcIiwgXCIgXCIpIDogdi50cmltKCk7XG4gICAgcmV0dXJuIGxvd2VyQ2FzZSA/IHYudG9Mb3dlckNhc2UoKSA6IHY7XG4gIH0pIGFzIGFueTtcbiAgbGV0IHNwbGl0OiBzdHJpbmdbXTtcbiAgcGFydHNbMV0gPz89IFwiXCI7XG4gIHBhcnRzWzJdID1cbiAgICAocGFydHNbMV0gJiZcbiAgICAgICgoaXNTdHJpbmcoZGVsaW1pdGVycykgJiYgKGRlbGltaXRlcnMgPSBbZGVsaW1pdGVyc10gYXMgYW55KSkgfHxcbiAgICAgICAgaXNBcnJheShkZWxpbWl0ZXJzKSkgJiZcbiAgICAgIGZvckVhY2gyKGRlbGltaXRlcnMgYXMgc3RyaW5nW10sIChkZWxpbSkgPT5cbiAgICAgICAgKHNwbGl0ID0gcGFydHNbMV0hLnNwbGl0KGRlbGltKSkubGVuZ3RoID4gMSA/IHN0b3AyKHNwbGl0KSA6IHVuZGVmaW5lZFxuICAgICAgKSkgfHxcbiAgICAocGFydHNbMV0gPyBbcGFydHNbMV1dIDogW10pO1xuXG4gIHJldHVybiBwYXJ0cztcbn07XG5cbi8vIC8vIEJyb3dzZXJzIGFjY2VwdHMgYC8vYCBhcyBcIndoYXRldmVyIHRoZSBwcm90b2NvbCBpc1wiIGlzIGxpbmtzLlxuLy8gLy8gQSBzY2hlbWUgY2FuIG9ubHkgYmUgbGV0dGVycywgZGlnaXRzLCBgK2AsIGAtYCBhbmQgYC5gLlxuLy8gLy8gVGhlIHNsYXNoZXMgYXJlIGNhcHR1cmVkIHNvIHdlIGNhbiBwdXQgdGhlIHBhcnNlZCBVUkkgY29ycmVjdGx5IGJhY2sgdG9nZXRoZXIuXG4vLyAvLyBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjFcbi8vIFNjaGVtZSAoZ3JvdXAgMSBhbmQgMikgPSBgLy9gIG9yIGBuYW1lOmAgb3IgYG5hbWU6Ly9gID0gKD86KD86KFtcXHcrLi1dKyk6KT8oXFwvXFwvKT8pXG5cbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4xXG4vLyBVc2VyIEluZm9ybWF0aW9uIChncm91cHMgNCBhbmQgNSkgPSBgdXNlckBgIG9yIGB1c2VyOnBhc3N3b3JkQGAgPSAoPzooW146QF0rKSg/OlxcOihbXkBdKikpP0ApXG5cbi8vIC8vIElmIGFuIElQdjYgYWRkcmVzcyBpcyB1c2VkIHdpdGggYSBwb3J0IGl0IGlzIHdyYXBwZWQgaW4gc3F1YXJlIGJyYWNrZXRzLlxuLy8gLy8gT3RoZXJ3aXNlIGEgaG9zdCBpcyBhbnl0aGluZyB1bnRpbCBwb3J0LCBwYXRoIG9yIHF1ZXJ5IHN0cmluZy5cbi8vIC8vIFNlIGFsc28gaHR0cHM6Ly9zZXJ2ZXJmYXVsdC5jb20vcXVlc3Rpb25zLzIwNTc5My9ob3ctY2FuLW9uZS1kaXN0aW5ndWlzaC10aGUtaG9zdC1hbmQtdGhlLXBvcnQtaW4tYW4taXB2Ni11cmwgYWJvdXQgdGhlIGJyYWNrZXRzLlxuLy8gLy8gaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjJcbi8vIEhvc3QgKGdyb3VwIDYgb3IgNykgPSBgWyBJUHY2IG9yIElQdkZ1dHVyZSBdOnBvcnRgIG9yIElQdjYgb3IgYElQdjQ6cG9ydGAgb3IgYGRvbWFpbjpwb3J0YCAgPSAoPzpcXFsoW15cXF1dKylcXF18KFswLTk6XSt8W14vK10rPykpXG5cbi8vIC8vUG9ydCBpcyBpbmNsdWRlZCBpbiB0aGUgb3B0aW9uYWwgaG9zdCBncm91cCB0byBzZXBhcmF0ZSBgYWJvdXQ6YmxhbmtgIGxpa2Ugc2NoZW1lcyBmcm9tIGBsb2NhbGhvc3Q6MTMzN2AgbGlrZSBob3N0c1xuLy8gLy8gaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjNcbi8vIFBvcnQgKGdyb3VwIDgpID0gKD86OihcXGQqKSk/XG5cbi8vIEF1dGhvcml0eSAoZ3JvdXAgMykgPSBVc2VyIEluZm9ybWF0aW9uICsgSG9zdCArIFBvcnRcblxuLy8gLy8gQW55dGhpbmcgdW50aWwgYW4gb3B0aW9uYWwgcXVlcnkgb3IgZnJhZ21lbnRcbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuM1xuLy8gUGF0aCBhbmQgIChncm91cCA5KSA9IChcXC9bXiM/XSopXG5cbi8vIC8vIEFueXRoaW5nIGZvbGxvd2luZyBhIGA/YCB1bnRpbCBhbiBvcHRpb25hbCBmcmFnbWVudC5cbi8vIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuNFxuLy8gUXVlcnkgKGdyb3VwIDEwKSA9ICg/OlxcPyhbXiNdKikpXG5cbi8vIC8vIEFueXRoaW5nIGZvbGxvd2luZyBhIHBvdW5kIHNpZ24gdW50aWwgZW5kLlxuLy8gLy8gaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy41XG4vLyBGcmFnbWVudCAoZ3JvdXAgMTEpID0gKD86Iy4qKVxuXG4vLyBFdmVyeXRoaW5nIHB1dCB0b2dldGhlclxuLy8gXig/Oig/OihbXFx3Ky4tXSspOik/KD86XFwvXFwvKT8pPygoPzooW146QF0rKSg/OlxcOihbXkBdKikpP0ApPyg/OlxcWyhbXlxcXV0rKVxcXXwoWzAtOTpdK3xbXi8rXSs/KSk/KD86OihcXGQqKSk/KT8oXFwvW14jP10qKT8oPzpcXD8oW14jXSopKT8oPzojKC4qKSk/JFxuXG4vKipcbiAqIFBhcnNlcyBhbiBVUkkgYWNjb3JkaW5nIHRvIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmMzOTg2I3NlY3Rpb24tMi4xLlxuICogVGhlIHBhcnNlciBpcyBub3QgcGVkYW50aWMgYWJvdXQgdGhlIGFsbG93ZWQgY2hhcmFjdGVycyBpbiBlYWNoIGdyb3VwXG4gKlxuICogQHBhcmFtIHVyaSBUaGUgVVJJIHRvIHBhcnNlXG4gKiBAcGFyYW0gcXVlcnkgV2hldGhlciB0byBwYXJzZSB0aGUgcXVlcnkgaW50byBhIHJlY29yZCB3aXRoIGVhY2ggcGFyYW1ldGVyIGFuZCBpdHMgdmFsdWUocykgb3IganVzdCB0aGUgc3RyaW5nLlxuICogIElmIGFuIGFycmF5IGlzIHByb3ZpZGVkIHRoZXNlIGFyZSB0aGUgY2hhcmFjdGVycyB0aGF0IGFyZSB1c2VkIHRvIHNwbGl0IHF1ZXJ5IHN0cmluZyB2YWx1ZXMuIElmIHRoaXMgaXMgZW1wdHksIGFycmF5cyBhcmUgbm90IHBhcnNlZC5cbiAqIEByZXR1cm5zIEEgcmVjb3JkIHdpdGggdGhlIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgVVJJLlxuICovXG5leHBvcnQgY29uc3QgcGFyc2VVcmkgPSA8XG4gIFVyaSBleHRlbmRzIHN0cmluZyB8IE51bGxpc2gsXG4gIERlbGltaXRlciBleHRlbmRzIFF1ZXJ5U3RyaW5nRGVsaW1pdGVyVmFsdWUgPSB0cnVlLFxuICBSZXF1aXJlQXV0aG9yaXR5IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+KFxuICB1cmk6IFVyaSxcbiAge1xuICAgIGRlbGltaXRlcnMgPSB0cnVlIGFzIGFueSxcbiAgICByZXF1aXJlQXV0aG9yaXR5LFxuICAgIC4uLm9wdGlvbnNcbiAgfTogUXVlcnlTdHJpbmdQYXJzZU9wdGlvbnM8RGVsaW1pdGVyPiAmIHtcbiAgICByZXF1aXJlQXV0aG9yaXR5PzogUmVxdWlyZUF1dGhvcml0eTtcbiAgfSA9IHt9XG4pOlxuICB8IFByZXR0aWZ5SW50ZXJzZWN0aW9uPFxuICAgICAgUmVxdWlyZUF1dGhvcml0eSBleHRlbmRzIHRydWVcbiAgICAgICAgPyBQaWNrUmVxdWlyZWQ8UGFyc2VkVXJpPERlbGltaXRlcj4sIFwic2NoZW1lXCIgfCBcImhvc3RcIiB8IFwidXJuXCIgfCBcInBhdGhcIj5cbiAgICAgICAgOiBQYXJzZWRVcmk8RGVsaW1pdGVyPixcbiAgICAgIHRydWVcbiAgICA+XG4gIHwgKFVyaSBleHRlbmRzIE51bGxpc2ggPyB1bmRlZmluZWQgOiBuZXZlcikgPT5cbiAgdXJpID09IG5pbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAobWF0Y2goXG4gICAgICAgIHVyaSxcbiAgICAgICAgL14oPzooPzooW1xcdysuLV0rKTopPyhcXC9cXC8pPyk/KCg/OihbXjpAXSspKD86XFw6KFteQF0qKSk/QCk/KD86XFxbKFteXFxdXSspXFxdfChbMC05Ol0rfFteLytdKz8pKT8oPzo6KFxcZCopKT8pPyhcXC9bXiM/XSopPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kL2csXG4gICAgICAgIChcbiAgICAgICAgICBzb3VyY2U6IHN0cmluZyxcbiAgICAgICAgICBzY2hlbWUsXG4gICAgICAgICAgc2xhc2hlcyxcbiAgICAgICAgICBhdXRob3JpdHksXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICBicmFja2V0SG9zdCxcbiAgICAgICAgICBob3N0LFxuICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICBmcmFnbWVudFxuICAgICAgICApID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQ6IFBhcnNlZFVyaSA9IHtcbiAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgIHNjaGVtZSxcbiAgICAgICAgICAgIHVybjogc2NoZW1lID8gIXNsYXNoZXMgOiBzbGFzaGVzID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhdXRob3JpdHksXG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICBob3N0OiBicmFja2V0SG9zdCA/PyBob3N0LFxuICAgICAgICAgICAgcG9ydDogcG9ydCAhPSBudWxsID8gcGFyc2VJbnQocG9ydCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgcXVlcnk6XG4gICAgICAgICAgICAgIGRlbGltaXRlcnMgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgPyBxdWVyeVN0cmluZ1xuICAgICAgICAgICAgICAgIDogcXVlcnlTdHJpbmdcbiAgICAgICAgICAgICAgICA/IHBhcnNlUXVlcnlTdHJpbmcocXVlcnlTdHJpbmcsIHsgLi4ub3B0aW9ucywgZGVsaW1pdGVycyB9KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBwYXJzZWQucGF0aCA9XG4gICAgICAgICAgICBwYXJzZWQucGF0aCB8fFxuICAgICAgICAgICAgKHBhcnNlZC5hdXRob3JpdHkgPyAocGFyc2VkLnVybiA/IFwiXCIgOiBcIi9cIikgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgICkgYXMgYW55KTtcblxuZXhwb3J0IHR5cGUgUXVlcnlTdHJpbmdQYXJzZU9wdGlvbnM8XG4gIERlbGltaXRlcnMgZXh0ZW5kcyBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID0gW1wiLFwiXVxuPiA9IHtcbiAgLyoqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBkaXNhYmxlcyBwYXJzaW5nIG9mIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzLCBhbmQgaW5zdGVhZCBnaXZlcyB0aGUgcmF3IHF1ZXJ5IHN0cmluZyBpbiB0aGUgVVJJIHBhcnNlIHJlc3VsdC4gKi9cbiAgZGVsaW1pdGVycz86IERlbGltaXRlcnM7XG4gIGRlY29kZT86IGJvb2xlYW47XG4gIGxvd2VyQ2FzZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VIdHRwSGVhZGVyID0gPFxuICBWIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaCxcbiAgRGVsaW1pdGVyIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZSA9IFwiLFwiXG4+KFxuICBxdWVyeTogVixcbiAgb3B0aW9ucz86IFF1ZXJ5U3RyaW5nUGFyc2VPcHRpb25zPERlbGltaXRlcj5cbik6IFByZXR0aWZ5SW50ZXJzZWN0aW9uPFBhcnNlZFF1ZXJ5U3RyaW5nPERlbGltaXRlcj4+ID0+XG4gIHBhcnNlUGFyYW1ldGVycyhxdWVyeSwgXCI7IFwiLCBvcHRpb25zKTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlUXVlcnlTdHJpbmcgPSA8XG4gIFYgZXh0ZW5kcyBzdHJpbmcgfCBOdWxsaXNoLFxuICBEZWxpbWl0ZXJzIGV4dGVuZHMgUXVlcnlTdHJpbmdEZWxpbWl0ZXJWYWx1ZSA9IHRydWVcbj4oXG4gIHF1ZXJ5OiBWLFxuICBvcHRpb25zPzogUXVlcnlTdHJpbmdQYXJzZU9wdGlvbnM8RGVsaW1pdGVycz5cbik6IFByZXR0aWZ5SW50ZXJzZWN0aW9uPFBhcnNlZFF1ZXJ5U3RyaW5nPERlbGltaXRlcnM+PiA9PlxuICBwYXJzZVBhcmFtZXRlcnMocXVlcnksIFwiJlwiLCBvcHRpb25zKTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlUGFyYW1ldGVycyA9IDxcbiAgViBleHRlbmRzIHN0cmluZyB8IE51bGxpc2gsXG4gIERlbGltaXRlcnMgZXh0ZW5kcyBRdWVyeVN0cmluZ0RlbGltaXRlclZhbHVlID0gdHJ1ZVxuPihcbiAgcXVlcnk6IFYsXG4gIHNlcGFyYXRvcjogc3RyaW5nLFxuICB7XG4gICAgZGVsaW1pdGVycyA9IHRydWUgYXMgYW55LFxuICAgIC4uLm9wdGlvbnNcbiAgfTogUXVlcnlTdHJpbmdQYXJzZU9wdGlvbnM8RGVsaW1pdGVycz4gPSB7fVxuKTogUHJldHRpZnlJbnRlcnNlY3Rpb248UGFyc2VkUXVlcnlTdHJpbmc8RGVsaW1pdGVycz4+ID0+IHtcbiAgY29uc3QgcGFyYW1ldGVycyA9IG1hcDIoXG4gICAgcXVlcnk/Lm1hdGNoKC8oPzpeLio/XFw/fF4pKFteI10qKS8pPy5bMV0/LnNwbGl0KHNlcGFyYXRvciksXG4gICAgKHBhcnQpID0+IHtcbiAgICAgIGxldCBba2V5LCB2YWx1ZSwgdmFsdWVzXSA9XG4gICAgICAgIHBhcnNlS2V5VmFsdWUocGFydCwge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgZGVsaW1pdGVyczpcbiAgICAgICAgICAgIGRlbGltaXRlcnMgPT09IGZhbHNlXG4gICAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgICAgOiBkZWxpbWl0ZXJzID09PSB0cnVlXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgIDogZGVsaW1pdGVycyxcbiAgICAgICAgfSkgPz8gW107XG4gICAgICByZXR1cm4gKGtleSA9IGtleT8ucmVwbGFjZSgvXFxbXFxdJC8sIFwiXCIpKSAhPSBudWxsXG4gICAgICAgID8gZGVsaW1pdGVycyAhPT0gZmFsc2VcbiAgICAgICAgICA/IFtrZXksIHZhbHVlcyEubGVuZ3RoID4gMSA/IHZhbHVlcyEgOiB2YWx1ZSFdXG4gICAgICAgICAgOiBba2V5LCB2YWx1ZSFdXG4gICAgICAgIDogc2tpcDI7XG4gICAgfVxuICApO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBvYmoyKGdyb3VwMihwYXJhbWV0ZXJzLCBmYWxzZSksIChba2V5LCB2YWx1ZXNdKSA9PiBbXG4gICAga2V5LFxuICAgIGRlbGltaXRlcnMgIT09IGZhbHNlXG4gICAgICA/IHZhbHVlcy5sZW5ndGggPiAxXG4gICAgICAgID8gY29uY2F0Mih2YWx1ZXMpXG4gICAgICAgIDogdmFsdWVzWzBdXG4gICAgICA6IHZhbHVlcy5qb2luKFwiLFwiKSxcbiAgXSkgYXMgYW55O1xuXG4gIHJldHVybiByZXN1bHRzXG4gICAgPyAoKHJlc3VsdHNbcGFyYW1ldGVyTGlzdFN5bWJvbF0gPSBwYXJhbWV0ZXJzKSwgcmVzdWx0cylcbiAgICA6IHJlc3VsdHM7XG59O1xuXG5leHBvcnQgY29uc3QgdG9RdWVyeVN0cmluZyA9IDxcbiAgUCBleHRlbmRzXG4gICAgfCBJdGVyYWJsZTxyZWFkb25seSBbc3RyaW5nLCBhbnldPlxuICAgIHwgU2ltcGxlT2JqZWN0PHN0cmluZywgYW55PlxuICAgIHwgdW5kZWZpbmVkXG4+KFxuICBwYXJhbWV0ZXJzOiBQLFxuICBkZWxpbWl0ZXIgPSBcIixcIlxuKTogTWF5YmVVbmRlZmluZWQ8UCwgc3RyaW5nPiA9PlxuICBwYXJhbWV0ZXJzID09IG5pbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAobWFwKHBhcmFtZXRlcnMsIChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGtleSlcbiAgICAgICAgICA/IGtleSArXG4gICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgKGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICAgICAgPyBtYXAodmFsdWUsIHVyaUVuY29kZSkuam9pbihkZWxpbWl0ZXIpXG4gICAgICAgICAgICAgICAgOiB1cmlFbmNvZGUodmFsdWUpID8/IFwiXCIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9KT8uam9pbihcIiZcIikgYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZFF1ZXJ5U3RyaW5nID0gPFVyaSBleHRlbmRzIHN0cmluZyB8IHVuZGVmaW5lZD4oXG4gIGJhc2VVcmk6IFVyaSxcbiAgcGFyYW1ldGVyczpcbiAgICB8IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgICB8IEl0ZXJhYmxlPHJlYWRvbmx5IFtrZXk6IHN0cmluZywgdmFsdWU6IGFueV0+XG4gICAgfCB1bmRlZmluZWRcbik6IE1heWJlVW5kZWZpbmVkPFVyaSwgc3RyaW5nPiA9PiB7XG4gIGlmICghYmFzZVVyaSkgcmV0dXJuIHVuZGVmaW5lZCE7XG4gIGNvbnN0IHFzID0gdG9RdWVyeVN0cmluZyhwYXJhbWV0ZXJzKTtcbiAgcmV0dXJuIChiYXNlVXJpLm1hdGNoKC9eW14/XSovKSFbMF0gKyAocXMgPyBcIj9cIiArIHFzIDogXCJcIikpIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBtZXJnZVF1ZXJ5U3RyaW5nID0gPFVyaSBleHRlbmRzIHN0cmluZyB8IHVuZGVmaW5lZD4oXG4gIGN1cnJlbnRVcmk6IFVyaSxcbiAgcGFyYW1ldGVyczpcbiAgICB8IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgICB8IEl0ZXJhYmxlPHJlYWRvbmx5IFtrZXk6IHN0cmluZywgdmFsdWU6IGFueV0+XG4gICAgfCB1bmRlZmluZWRcbik6IE1heWJlVW5kZWZpbmVkPFVyaSwgc3RyaW5nPiA9PiB7XG4gIGlmICghY3VycmVudFVyaSkgcmV0dXJuIHVuZGVmaW5lZCE7XG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZVF1ZXJ5U3RyaW5nKGN1cnJlbnRVcmkpO1xuICBmb3JFYWNoMihcbiAgICBwYXJhbWV0ZXJzLFxuICAgIChba2V5LCB2YWx1ZV0pID0+IChjdXJyZW50W2tleV0gPSBjdXJyZW50W2tleV0gPz8gdmFsdWUpXG4gICk7XG4gIHJldHVybiBhcHBlbmRRdWVyeVN0cmluZyhjdXJyZW50VXJpLCBjdXJyZW50KSBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0VXJpID0gPFVyaSBleHRlbmRzIE9taXQ8UGFyc2VkVXJpLCBcInNvdXJjZVwiPj4oXG4gIHVyaTogVXJpXG4pOiBNYXliZVVuZGVmaW5lZDxVcmksIHN0cmluZz4gPT5cbiAgdXJpID09IG5pbFxuICAgID8gKHVuZGVmaW5lZCBhcyBhbnkpXG4gICAgOiBqb2luMihcbiAgICAgICAgW1xuICAgICAgICAgIHVyaS5zY2hlbWUgfHwgdXJpLnVybiA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gKHVyaS5zY2hlbWUgPyB1cmkuc2NoZW1lICsgXCI6XCIgOiBcIlwiKSArICghdXJpLnVybiA/IFwiLy9cIiA6IFwiXCIpXG4gICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgdXJpLnVzZXIsXG4gICAgICAgICAgdXJpLnBhc3N3b3JkID8gXCI6XCIgKyB1cmkucGFzc3dvcmQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgdXJpLnVzZXIgJiYgXCJAXCIsXG4gICAgICAgICAgdXJpLmhvc3QsXG4gICAgICAgICAgdXJpLnBvcnQgPyBcIjpcIiArIHVyaS5wb3J0IDogdW5kZWZpbmVkLFxuICAgICAgICAgIHVyaS5wYXRoID09PSBcIi9cIiA/IFwiXCIgOiB1cmkucGF0aCxcbiAgICAgICAgICB1cmkucXVlcnkgJiZcbiAgICAgICAgICAgIFwiP1wiICsgKGlzU3RyaW5nKHVyaS5xdWVyeSkgPyB1cmkucXVlcnkgOiB0b1F1ZXJ5U3RyaW5nKHVyaS5xdWVyeSkpLFxuICAgICAgICAgIHVyaS5mcmFnbWVudCAmJiBcIiNcIiArIHVyaS5mcmFnbWVudCxcbiAgICAgICAgXSxcbiAgICAgICAgXCJcIlxuICAgICAgKSB8fCB1bmRlZmluZWQhO1xuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSBcIi5cIjtcclxuXHJcbmV4cG9ydCB0eXBlIEludGVydmFsPFQ+ID0gW3N0YXJ0OiBULCBlbmQ6IFRdO1xyXG5leHBvcnQgdHlwZSBJbnRlcnZhbHM8VCA9IG51bWJlcj4gPSBSZWFkb25seUFycmF5PFtzdGFydDogVCwgZW5kOiBUXT4gJiB7XHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgaW50ZXJ2YWxzIHRvIGluY2x1ZGUgdGhlIHNwZWNpZmllZCBzdGFydCBhbmQgZW5kLFxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSB1cGRhdGVkIHRvdGFsIHdpZHRoLlxyXG4gICAqXHJcbiAgICovXHJcbiAgcHVzaDogKHN0YXJ0OiBULCBlbmQ6IFQpID0+IG51bWJlcjtcclxuXHJcbiAgLyoqIFRoZSB0b3RhbCB3aWR0aCBvZiB0aGUgaW50ZXJ2YWxzLiAqL1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlSW50ZXJ2YWxzID0gPFQgPSBudW1iZXI+KFxyXG4gIGNtcDogKHg6IFQsIHk6IFQpID0+IG51bWJlciA9ICh4OiBhbnksIHk6IGFueSkgPT4gKHggLSB5KSBhcyBhbnksXHJcbiAgd2lkdGg6IChpbnRlcnZhbDogSW50ZXJ2YWw8VD4pID0+IG51bWJlciA9IChpbnRlcnZhbDogYW55KSA9PlxyXG4gICAgKGludGVydmFsWzFdIC0gaW50ZXJ2YWxbMF0pIGFzIGFueVxyXG4pOiBJbnRlcnZhbHM8VD4gPT4ge1xyXG4gIGNvbnN0IHJhbmdlczogSW50ZXJ2YWw8VD5bXSA9IFtdO1xyXG5cclxuICByZXR1cm4gYXNzaWduKHJhbmdlcywge1xyXG4gICAgcHVzaChzdGFydDogVCwgZW5kOiBUKSB7XHJcbiAgICAgIGxldCBwZW5kaW5nOiBJbnRlcnZhbDxUPiB8IHVuZGVmaW5lZCA9IFtzdGFydCwgZW5kXTtcclxuXHJcbiAgICAgIGNvbnN0IGZpbmFsaXplID0gKHVwZGF0ZTogYW55ID0gdHJ1ZSkgPT5cclxuICAgICAgICB1cGRhdGVcclxuICAgICAgICAgID8gKChyYW5nZXMgYXMgYW55KS53aWR0aCA9IHJhbmdlcy5yZWR1Y2UoXHJcbiAgICAgICAgICAgICAgKHN1bSwgaW50ZXJ2YWwpID0+IHN1bSArIHdpZHRoKGludGVydmFsKSxcclxuICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgICkpXHJcbiAgICAgICAgICA6IChyYW5nZXMgYXMgYW55KS53aWR0aDtcclxuXHJcbiAgICAgIGxldCBjaGFuZ2VkOiBhbnk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSByYW5nZXNbaV07XHJcbiAgICAgICAgaWYgKGNtcChwZW5kaW5nWzFdLCBjdXJyZW50WzBdKSA8IDApIHtcclxuICAgICAgICAgIC8vIEVuZHMgYmVmb3JlIG5leHQgc3RhcnQuIEluc2VydCBiZWZvcmUuXHJcbiAgICAgICAgICByZXR1cm4gZmluYWxpemUocmFuZ2VzLnNwbGljZShpLCAwLCBwZW5kaW5nKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjbXAocGVuZGluZ1swXSwgY3VycmVudFsxXSkgPD0gMCkge1xyXG4gICAgICAgICAgaWYgKGNtcChwZW5kaW5nWzBdLCBjdXJyZW50WzBdKSA8IDApIHtcclxuICAgICAgICAgICAgLy8gRXhwYW5kIGxlZnQgKGNoYW5nZWQpLlxyXG4gICAgICAgICAgICBjaGFuZ2VkID0gY3VycmVudFswXSA9IHBlbmRpbmdbMF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoY21wKHBlbmRpbmdbMV0sIGN1cnJlbnRbMV0pID4gMCkge1xyXG4gICAgICAgICAgICAvLyBFeHBhbmQgcmlnaHQgKGNoYW5nZWQpLlxyXG4gICAgICAgICAgICBjaGFuZ2VkID0gY3VycmVudFsxXSA9IHBlbmRpbmdbMV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocmFuZ2VzW2kgKyAxXT8uWzBdIDwgY3VycmVudFsxXSkge1xyXG4gICAgICAgICAgICAvLyBEZXRhY2ggdGhlIGN1cnJlbnQgcmFuZ2Ugc2luY2UgaXQgaXMgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIG5leHQuXHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSBwZW5kaW5nID0gcmFuZ2VzLnNwbGljZShpLS0sIDEpWzBdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHRvdGFsIHdpZHRoIGlmIHRoZSBjdXJyZW50IHJhbmdlIHdhcyBleHBhbmRlZCBvciBtZXJnZWQuXHJcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZShjaGFuZ2VkICE9IG51bGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgc3RpbGwgaXMgYSBwZW5kaW5nIHJhbmdlIGl0IG1lYW5zIGl0cyBzdGFydCBjb21lcyBhZnRlciB0aGUgY3VycmVudCBlbmQuXHJcbiAgICAgIC8vIE9ubHkgdXBkYXRlIHdpZHRoIGluIHRoYXQgY2FzZS5cclxuICAgICAgcmV0dXJuIGZpbmFsaXplKHBlbmRpbmcgJiYgKHJhbmdlc1tyYW5nZXMubGVuZ3RoXSA9IHBlbmRpbmcpKTtcclxuICAgIH0sXHJcbiAgICB3aWR0aDogMCxcclxuICB9KSBhcyBhbnk7XHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgRmFsc2lzaCxcclxuICBJdGVyYXRvckl0ZW0yLFxyXG4gIE1heWJlTnVsbGlzaE9yRmFsc2UsXHJcbiAgTnVsbGlzaCxcclxuICBTaW1wbGVPYmplY3QsXHJcbiAgVW5pb25Ub0ludGVyc2VjdGlvbixcclxufSBmcm9tIFwiLi5cIjtcclxuXHJcbi8qKiBFbmNvdXJhZ2VzIFR5cGVTY3JpcHQgdG8gdHJlYXQgYSByZXR1cm4gdmFsdWUgYXMgYSB0dXBsZSAoZm9yIHNvbWUgcmVhc29uIGFsc28sIGlmIHRoZSB0dXBsZSBoYXMgbW9yZSB0aGFuIG9uZSBlbGVtZW50KS4gKi9cclxuZXhwb3J0IHR5cGUgQW55VHVwbGUgPVxyXG4gIHwgcmVhZG9ubHkgW2FueV1cclxuICB8IHJlYWRvbmx5IFthbnldW11cclxuICB8IHJlYWRvbmx5IFthbnldW11bXVxyXG4gIHwgcmVhZG9ubHkgW2FueV1bXVtdW11cclxuICB8IHJlYWRvbmx5IFthbnldW11bXVtdW107XHJcblxyXG5leHBvcnQgdHlwZSBFbmNvdXJhZ2VUdXBsZXM8VD4gPSBUIHwgKFQgJiBBbnlUdXBsZSk7XHJcblxyXG5leHBvcnQgdHlwZSBBbGxvd0FkZGl0aW9uYWxFbGVtZW50czxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+ID1cclxuICBudW1iZXIgZXh0ZW5kcyBUW1wibGVuZ3RoXCJdID8gVCA6IFsuLi5ULCAuLi5hbnldO1xyXG5cclxuZXhwb3J0IHR5cGUgS2V5VmFsdWVUeXBlPEsgPSBrZXlvZiBhbnksIFYgPSBhbnk+ID0gcmVhZG9ubHkgW0ssIFZdO1xyXG5leHBvcnQgdHlwZSBLZXlWYWx1ZVR5cGVMaWtlPEsgPSBrZXlvZiBhbnksIFYgPSBhbnk+ID0gcmVhZG9ubHkgW0ssIFYsIC4uLmFueV07XHJcblxyXG5leHBvcnQgdHlwZSBVbmtub3duSXNPa2F5PFIsIFY+ID0gUiBleHRlbmRzIHVuZGVmaW5lZFxyXG4gID8gUlxyXG4gIDogdW5rbm93biBleHRlbmRzIFZcclxuICA/IGFueVxyXG4gIDogUiBleHRlbmRzIFZcclxuICA/IFJcclxuICA6IFYgJiBSIGV4dGVuZHMgbmV2ZXJbXVxyXG4gID8gUlxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBOZXZlcklzQW55PFQ+ID0gVCBleHRlbmRzIG5ldmVyW11cclxuICA/IGFueVtdXHJcbiAgOiB1bmtub3duIGV4dGVuZHMgVFxyXG4gID8gYW55XHJcbiAgOiBbVF0gZXh0ZW5kcyBbbmV2ZXJdXHJcbiAgPyBhbnlcclxuICA6IFQ7XHJcblxyXG5leHBvcnQgdHlwZSBOb3RNYXBPclNldDxUPiA9IFQgZXh0ZW5kc1xyXG4gIHwgUmVhZG9ubHlNYXA8YW55LCBhbnk+XHJcbiAgfCBXZWFrTWFwPGFueSwgYW55PlxyXG4gIHwgUmVhZG9ubHlTZXQ8YW55PlxyXG4gIHwgV2Vha1NldDxhbnk+XHJcbiAgPyBuZXZlclxyXG4gIDogVDtcclxuXHJcbmV4cG9ydCB0eXBlIFJlY29yZEtleU9mPFQ+ID0gVCBleHRlbmRzIGluZmVyIFQgPyBrZXlvZiBUIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBTZWxlY3RvcjxUID0gYW55PiA9XHJcbiAgfCBSZWNvcmRLZXlPZjxUPlxyXG4gIHwgKChpdGVtOiBULCAuLi5hcmdzOiBhbnkpID0+IGFueSlcclxuICB8IE51bGxpc2g7XHJcblxyXG5leHBvcnQgdHlwZSBFbnRyaWVzT2Y8VD4gPSB7IFtQIGluIGtleW9mIFRdLT86IFtQLCBUW1BdXSB9W2tleW9mIFRdO1xyXG5cclxudHlwZSBTdHJpbmdPck51bWJlcjxaPiA9XHJcbiAgfCBaXHJcbiAgfCAoWiBleHRlbmRzIGAke2luZmVyIE4gZXh0ZW5kcyBudW1iZXJ9YCA/IE4gOiBuZXZlcik7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlUeXBlT2Y8VD4gPSB1bmtub3duIGV4dGVuZHMgVFxyXG4gID8gYW55XHJcbiAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gID8gbmV2ZXJcclxuICA6IFQgZXh0ZW5kcyBNYXA8aW5mZXIgSywgYW55PlxyXG4gID8gS1xyXG4gIDogVCBleHRlbmRzIFdlYWtNYXA8aW5mZXIgSywgYW55PlxyXG4gID8gS1xyXG4gIDogVCBleHRlbmRzIFNldDxpbmZlciBLPlxyXG4gID8gS1xyXG4gIDogVCBleHRlbmRzIFdlYWtTZXQ8aW5mZXIgSz5cclxuICA/IEtcclxuICA6IFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxyXG4gID8gU3RyaW5nT3JOdW1iZXI8a2V5b2YgVCAmIGAke251bWJlcn1gPlxyXG4gIDoga2V5b2YgVDtcclxuXHJcbmV4cG9ydCB0eXBlIElucHV0VmFsdWVUeXBlT2Y8VCwgSyA9IEtleVR5cGVPZjxUPj4gPSB1bmtub3duIGV4dGVuZHMgVFxyXG4gID8gYW55XHJcbiAgOiBUIGV4dGVuZHMgU2V0PGFueT5cclxuICA/IHVua25vd25cclxuICA6IFZhbHVlVHlwZU9mPFQsIEs+O1xyXG5cclxuZXhwb3J0IHR5cGUgVmFsdWVUeXBlT2Y8VCwgSyA9IEtleVR5cGVPZjxUPj4gPSB1bmtub3duIGV4dGVuZHMgVFxyXG4gID8gYW55XHJcbiAgOiBUIGV4dGVuZHMgTWFwPGluZmVyIE1hcEtleSwgaW5mZXIgVj5cclxuICA/IEsgZXh0ZW5kcyBNYXBLZXlcclxuICAgID8gViB8IHVuZGVmaW5lZFxyXG4gICAgOiBuZXZlclxyXG4gIDogVCBleHRlbmRzIFdlYWtNYXA8aW5mZXIgTWFwS2V5LCBpbmZlciBWPlxyXG4gID8gSyBleHRlbmRzIE1hcEtleVxyXG4gICAgPyBWIHwgdW5kZWZpbmVkXHJcbiAgICA6IG5ldmVyXHJcbiAgOiBUIGV4dGVuZHMgU2V0PGFueT4gfCBXZWFrU2V0PGFueT5cclxuICA/IGJvb2xlYW5cclxuICA6IFQgZXh0ZW5kcyBOdWxsaXNoXHJcbiAgPyBuZXZlclxyXG4gIDogdW5rbm93biBleHRlbmRzIEtcclxuICA/IFRbS2V5VHlwZU9mPFQ+ICYga2V5b2YgVF1cclxuICA6IEsgZXh0ZW5kcyBLZXlUeXBlT2Y8VD5cclxuICA/IFRbSyAmIGtleW9mIFRdXHJcbiAgOiBuZXZlcjtcclxuXHJcbmV4cG9ydCB0eXBlIEVudHJ5VHlwZU9mPFNvdXJjZT4gPSB1bmtub3duIGV4dGVuZHMgU291cmNlXHJcbiAgPyByZWFkb25seSBbYW55LCBhbnldXHJcbiAgOiBLZXlUeXBlT2Y8U291cmNlPiBleHRlbmRzIGluZmVyIEtcclxuICA/IHJlYWRvbmx5IFtLLCBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+XVxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBPYmplY3RGcm9tRW50cmllczxFbnRyaWVzIGV4dGVuZHMgS2V5VmFsdWVUeXBlTGlrZSB8IE51bGxpc2g+ID1cclxuICBVbmlvblRvSW50ZXJzZWN0aW9uPFxyXG4gICAgRW50cmllcyBleHRlbmRzIHJlYWRvbmx5IFtpbmZlciBLZXkgZXh0ZW5kcyBrZXlvZiBhbnksIGluZmVyIFZhbHVlLCAuLi5hbnldXHJcbiAgICAgID8geyBbUCBpbiBLZXldOiBWYWx1ZSB9XHJcbiAgICAgIDoge31cclxuICA+IGV4dGVuZHMgaW5mZXIgVFxyXG4gICAgPyB7IFtQIGluIGtleW9mIFRdOiBUW1BdIH1cclxuICAgIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBPYmplY3RTb3VyY2VUb09iamVjdDxTb3VyY2U+ID0gU291cmNlIGV4dGVuZHMgRmFsc2lzaFxyXG4gID8ge31cclxuICA6IFNvdXJjZSBleHRlbmRzIEl0ZXJhYmxlPEZhbHNpc2ggfCBpbmZlciBLdiBleHRlbmRzIEtleVZhbHVlVHlwZUxpa2U+XHJcbiAgPyBPYmplY3RGcm9tRW50cmllczxLdj5cclxuICA6IFNvdXJjZTtcclxuXHJcbmV4cG9ydCB0eXBlIEl0ZXJhdGlvblJlc3VsdEFycmF5PEl0PiA9IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgW0l0ZXJhdG9ySXRlbTI8SXQ+XSBleHRlbmRzIFtuZXZlcl0gPyB1bmRlZmluZWQgOiBJdGVyYXRvckl0ZW0yPEl0PltdLFxyXG4gIEl0XHJcbj47XHJcblxyXG5leHBvcnQgdHlwZSBEZWZhdWx0QXNzaWduVmFsdWU8XHJcbiAgVCxcclxuICBLIGV4dGVuZHMgS2V5VHlwZU9mPFQ+ID0gS2V5VHlwZU9mPFQ+XHJcbj4gPSBUIGV4dGVuZHMgU2V0PGFueT4gfCBXZWFrU2V0PGFueT5cclxuICA/IHRydWVcclxuICA6IHVuZGVmaW5lZCBleHRlbmRzIFZhbHVlVHlwZU9mPFQsIEs+XHJcbiAgPyB1bmRlZmluZWRcclxuICA6IG5ldmVyO1xyXG5cclxuLyoqIENvbnZlcnRzIGdlbmVyaWMgdHlwZXMgd2l0aCBgYW55YCBwYXJhbWV0ZXJzIHRvIHRoZWlyIHNwZWNpZmljIHR5cGVzLiBFLmcuIE1hcDxhbnksYW55PiB0byBNYXA8c3RyaW5nLG51bWJlcj4uICAqL1xyXG5leHBvcnQgdHlwZSBUb1NwZWNpZmljR2VuZXJpY1R5cGU8VmFsdWUsIFNwZWNpZmljVHlwZT4gPVxyXG4gIFNwZWNpZmljVHlwZSBleHRlbmRzIGluZmVyIFNwZWNpZmljVHlwZVxyXG4gICAgPyBWYWx1ZSBleHRlbmRzIFNwZWNpZmljVHlwZVxyXG4gICAgICA/IFNwZWNpZmljVHlwZVxyXG4gICAgICA6IG5ldmVyXHJcbiAgICA6IG5ldmVyO1xyXG5cclxuLyoqIFdyYXBzIHRoZSB2YWx1ZSBpbiBhIHByb21pc2UgaWYgdGhlIGZ1bmN0aW9uIGlzIGFzeW5jLiAgKi9cclxuZXhwb3J0IHR5cGUgUHJvbWlzZUlmQXN5bmM8VmFsdWUsIEY+ID0gRiBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGluZmVyIFJcclxuICA/IHVua25vd24gZXh0ZW5kcyBSXHJcbiAgICA/IGFueVxyXG4gICAgOiBSIGV4dGVuZHMgUHJvbWlzZUxpa2U8YW55PlxyXG4gICAgPyBQcm9taXNlPFZhbHVlPlxyXG4gICAgOiBWYWx1ZVxyXG4gIDogbmV2ZXI7XHJcblxyXG4vLyAjcmVnaW9uIHJlZ2lvbl9zaW1wbGVfb2JqZWN0c1xyXG5cclxudHlwZSBTcGVjaWZpY0tleXM8SyBleHRlbmRzIGtleW9mIGFueT4gPSBLIGV4dGVuZHMga2V5b2YgYW55XHJcbiAgPyBzdHJpbmcgZXh0ZW5kcyBLXHJcbiAgICA/IG5ldmVyXHJcbiAgICA6IG51bWJlciBleHRlbmRzIEtcclxuICAgID8gbmV2ZXJcclxuICAgIDogc3ltYm9sIGV4dGVuZHMgS1xyXG4gICAgPyBuZXZlclxyXG4gICAgOiBLXHJcbiAgOiBuZXZlcjtcclxuXHJcbnR5cGUgR2VuZXJpY0tleXM8SyBleHRlbmRzIGtleW9mIGFueT4gPSBLIGV4dGVuZHMga2V5b2YgYW55XHJcbiAgPyBzdHJpbmcgZXh0ZW5kcyBLXHJcbiAgICA/IEtcclxuICAgIDogbnVtYmVyIGV4dGVuZHMgS1xyXG4gICAgPyBLXHJcbiAgICA6IHN5bWJvbCBleHRlbmRzIEtcclxuICAgID8gS1xyXG4gICAgOiBuZXZlclxyXG4gIDogbmV2ZXI7XHJcblxyXG50eXBlIE9wdGlvbmFsS2V5czxULCBLIGV4dGVuZHMga2V5b2YgVCA9IGtleW9mIFQ+ID0gSyBleHRlbmRzIGtleW9mIFRcclxuICA/IHsgW1AgaW4gS10/OiBUW0tdIH0gZXh0ZW5kcyBQaWNrPFQsIEs+XHJcbiAgICA/IEtcclxuICAgIDogbmV2ZXJcclxuICA6IG5ldmVyO1xyXG5cclxudHlwZSBSZXF1aXJlZEtleXM8VD4gPSBFeGNsdWRlPGtleW9mIFQsIE9wdGlvbmFsS2V5czxUPj47XHJcblxyXG50eXBlIF9EaXNwYXRjaE1lcmdlUmVjb3JkczxUMSwgVDIsIE1lcmdlUmVjb3JkcywgT3ZlcndyaXRlLCBPdmVyd3JpdGVOdWxscz4gPVxyXG4gIFQxIGV4dGVuZHMgRmFsc2lzaFxyXG4gICAgPyBUMlxyXG4gICAgOiBUMiBleHRlbmRzIEZhbHNpc2hcclxuICAgID8gVDFcclxuICAgIDogX01lcmdlUmVjb3JkczI8VDEsIFQyLCBNZXJnZVJlY29yZHMsIE92ZXJ3cml0ZSwgT3ZlcndyaXRlTnVsbHM+O1xyXG5cclxudHlwZSBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gIFQxUCxcclxuICBUMlAsXHJcbiAgRGVlcCxcclxuICBPdmVyd3JpdGUsXHJcbiAgT3ZlcndyaXRlTnVsbHMsXHJcbiAgRGVmYXVsdFxyXG4+ID0gRGVlcCBleHRlbmRzIHRydWVcclxuICA/IFQxUCBleHRlbmRzIFNpbXBsZU9iamVjdFxyXG4gICAgPyBUMlAgZXh0ZW5kcyBTaW1wbGVPYmplY3RcclxuICAgICAgPyBfRGlzcGF0Y2hNZXJnZVJlY29yZHM8VDFQLCBUMlAsIHRydWUsIE92ZXJ3cml0ZSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgIDogRGVmYXVsdFxyXG4gICAgOiBEZWZhdWx0XHJcbiAgOiBEZWZhdWx0O1xyXG5cclxudHlwZSBfT3ZlcndyaXRlTnVsbDxWMSwgVjIsIFRvZ2dsZT4gPSBUb2dnbGUgZXh0ZW5kcyB0cnVlXHJcbiAgPyBWMSBleHRlbmRzIG51bGxcclxuICAgID8gVjJcclxuICAgIDogVjFcclxuICA6IFYxO1xyXG50eXBlIF9NZXJnZVJlY29yZHMyPFxyXG4gIFQxLFxyXG4gIFQyLFxyXG4gIERlZXAsXHJcbiAgT3ZlcndyaXRlLFxyXG4gIE92ZXJ3cml0ZU51bGxzLFxyXG4gIE8xIGV4dGVuZHMga2V5b2YgVDEgPSBPcHRpb25hbEtleXM8VDE+LFxyXG4gIE8yIGV4dGVuZHMga2V5b2YgVDIgPSBPcHRpb25hbEtleXM8VDI+LFxyXG4gIFIxIGV4dGVuZHMga2V5b2YgVDEgPSBSZXF1aXJlZEtleXM8VDE+LFxyXG4gIFIyIGV4dGVuZHMga2V5b2YgVDIgPSBSZXF1aXJlZEtleXM8VDI+XHJcbj4gPSBQaWNrPFQxLCBFeGNsdWRlPGtleW9mIFQxLCBTcGVjaWZpY0tleXM8a2V5b2YgVDI+Pj4gJlxyXG4gIFBpY2s8VDIsIEV4Y2x1ZGU8a2V5b2YgVDIsIFNwZWNpZmljS2V5czxrZXlvZiBUMT4+PiAmIHtcclxuICAgIC8vIFJlc3VsdGluZyBwcm9wZXJ0eSBtYXkgYmUgb3B0aW9uYWwgb25seSBpZiBib3RoIG9wdGlvbmFsIGluIFQxIGFuZCBUMlxyXG4gICAgW1AgaW4gTzEgJiBPMl0/OlxyXG4gICAgICB8IF9PdmVyd3JpdGVOdWxsPFQxW1BdLCBUMltQXSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgIHwgVDJbUF1cclxuICAgICAgfCBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICAgICAgVDFbUF0sXHJcbiAgICAgICAgICBUMltQXSxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxscyxcclxuICAgICAgICAgIG5ldmVyXHJcbiAgICAgICAgPjtcclxuICB9ICYge1xyXG4gICAgLy8gQ2FuIG9ubHkgYmUgVDEgaWYgb3ZlcndyaXRlPWZhbHNlXHJcbiAgICBbUCBpbiBPMSAmIFIyXTpcclxuICAgICAgfCBUMltQXVxyXG4gICAgICB8IF9NZXJnZVJlY29yZHNJZlJlY29yZHM8XHJcbiAgICAgICAgICBUMVtQXSxcclxuICAgICAgICAgIFQyW1BdLFxyXG4gICAgICAgICAgRGVlcCxcclxuICAgICAgICAgIE92ZXJ3cml0ZSxcclxuICAgICAgICAgIE92ZXJ3cml0ZU51bGxzLFxyXG4gICAgICAgICAgT3ZlcndyaXRlIGV4dGVuZHMgZmFsc2VcclxuICAgICAgICAgICAgPyBFeGNsdWRlPFxyXG4gICAgICAgICAgICAgICAgX092ZXJ3cml0ZU51bGw8VDFbUF0sIFQyW1BdLCBPdmVyd3JpdGVOdWxscz4sXHJcbiAgICAgICAgICAgICAgICBTaW1wbGVPYmplY3QgfCB1bmRlZmluZWRcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDogbmV2ZXJcclxuICAgICAgICA+O1xyXG4gIH0gJiB7XHJcbiAgICAvLyBXaWxsIG5ldmVyIGJlIFQyIGlmIG92ZXJ3cml0ZT1mYWxzZVxyXG4gICAgW1AgaW4gUjEgJiBPMl06XHJcbiAgICAgIHwgX092ZXJ3cml0ZU51bGw8VDFbUF0sIFQyW1BdLCBPdmVyd3JpdGVOdWxscz5cclxuICAgICAgfCBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICAgICAgVDFbUF0sXHJcbiAgICAgICAgICBUMltQXSxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxscyxcclxuICAgICAgICAgIE92ZXJ3cml0ZSBleHRlbmRzIGZhbHNlID8gbmV2ZXIgOiBFeGNsdWRlPFQyW1BdLCBTaW1wbGVPYmplY3Q+XHJcbiAgICAgICAgPjtcclxuICB9ICYge1xyXG4gICAgLy8gT3ZlcndyaXRlIGRlY2lkZXMgd2hldGhlciB0aGUgdmFsdWUgaXMgVDEgb3IgVDJcclxuICAgIFtQIGluIFIxICYgUjJdOiBfTWVyZ2VSZWNvcmRzSWZSZWNvcmRzPFxyXG4gICAgICBUMVtQXSxcclxuICAgICAgVDJbUF0sXHJcbiAgICAgIERlZXAsXHJcbiAgICAgIE92ZXJ3cml0ZSxcclxuICAgICAgT3ZlcndyaXRlTnVsbHMsXHJcbiAgICAgIEV4Y2x1ZGU8XHJcbiAgICAgICAgT3ZlcndyaXRlIGV4dGVuZHMgZmFsc2VcclxuICAgICAgICAgID9cclxuICAgICAgICAgICAgICB8IF9PdmVyd3JpdGVOdWxsPFQxW1BdLCBUMltQXSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgICAgICAgICAgICAgfCBUMltHZW5lcmljS2V5czxSMT4gJiBrZXlvZiBUMl1cclxuICAgICAgICAgIDpcclxuICAgICAgICAgICAgICB8IF9PdmVyd3JpdGVOdWxsPFxyXG4gICAgICAgICAgICAgICAgICBUMVtHZW5lcmljS2V5czxSMj4gJiBrZXlvZiBUMV0sXHJcbiAgICAgICAgICAgICAgICAgIFQyW1BdLFxyXG4gICAgICAgICAgICAgICAgICBPdmVyd3JpdGVOdWxsc1xyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHwgVDJbUF0sXHJcbiAgICAgICAgU2ltcGxlT2JqZWN0XHJcbiAgICAgID5cclxuICAgID47XHJcbiAgfSBleHRlbmRzIGluZmVyIFRcclxuICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBNZXJnZU9iamVjdFNvdXJjZXM8XHJcbiAgVGFyZ2V0LFxyXG4gIFNvdXJjZXMsXHJcbiAgRGVlcCxcclxuICBPdmVyd3JpdGUsXHJcbiAgT3ZlcndyaXRlTnVsbHNcclxuPiA9IChcclxuICBTb3VyY2VzIGV4dGVuZHMgcmVhZG9ubHkgW2luZmVyIFQsIC4uLmluZmVyIFJlc3RdXHJcbiAgICA/IFQgZXh0ZW5kcyBpbmZlciBUXHJcbiAgICAgID8gTWVyZ2VPYmplY3RTb3VyY2VzPFxyXG4gICAgICAgICAgX0Rpc3BhdGNoTWVyZ2VSZWNvcmRzPFxyXG4gICAgICAgICAgICBUYXJnZXQsXHJcbiAgICAgICAgICAgIE9iamVjdFNvdXJjZVRvT2JqZWN0PFQ+LFxyXG4gICAgICAgICAgICBEZWVwLFxyXG4gICAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICAgIE92ZXJ3cml0ZU51bGxzXHJcbiAgICAgICAgICA+LFxyXG4gICAgICAgICAgUmVzdCxcclxuICAgICAgICAgIERlZXAsXHJcbiAgICAgICAgICBPdmVyd3JpdGUsXHJcbiAgICAgICAgICBPdmVyd3JpdGVOdWxsc1xyXG4gICAgICAgID5cclxuICAgICAgOiBuZXZlclxyXG4gICAgOiBTb3VyY2VzIGV4dGVuZHMgRmFsc2lzaCB8IHJlYWRvbmx5IFtdXHJcbiAgICA/IFRhcmdldFxyXG4gICAgOiBfRGlzcGF0Y2hNZXJnZVJlY29yZHM8XHJcbiAgICAgICAgVGFyZ2V0LFxyXG4gICAgICAgIE9iamVjdFNvdXJjZVRvT2JqZWN0PFNvdXJjZXM+LFxyXG4gICAgICAgIERlZXAsXHJcbiAgICAgICAgT3ZlcndyaXRlLFxyXG4gICAgICAgIE92ZXJ3cml0ZU51bGxzXHJcbiAgICAgID5cclxuKSBleHRlbmRzIGluZmVyIFRcclxuICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxyXG4gIDogbmV2ZXI7XHJcblxyXG4vLyAjZW5kcmVnaW9uXHJcblxyXG5jb25zdCBnZXRSb290UHJvdG90eXBlID0gKHZhbHVlOiBhbnkpID0+IHtcclxuICBsZXQgcHJvdG8gPSB2YWx1ZTtcclxuICB3aGlsZSAocHJvdG8pIHtcclxuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKCh2YWx1ZSA9IHByb3RvKSk7XHJcbiAgfVxyXG4gIHJldHVybiB2YWx1ZTtcclxufTtcclxuY29uc3QgZmluZFByb3RvdHlwZUZyYW1lID0gKFxyXG4gIGZyYW1lV2luZG93OiBXaW5kb3cgfCBudWxsLFxyXG4gIG1hdGNoUHJvdG90eXBlOiBhbnlcclxuKSA9PiB7XHJcbiAgaWYgKCFmcmFtZVdpbmRvdyB8fCBnZXRSb290UHJvdG90eXBlKGZyYW1lV2luZG93KSA9PT0gbWF0Y2hQcm90b3R5cGUpIHtcclxuICAgIHJldHVybiBmcmFtZVdpbmRvdztcclxuICB9XHJcbiAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZVdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChmcmFtZVdpbmRvdyA9IGZpbmRQcm90b3R5cGVGcmFtZShmcmFtZS5jb250ZW50V2luZG93LCBtYXRjaFByb3RvdHlwZSkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBmcmFtZVdpbmRvdztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBDcm9zcyBkb21haW4gaXNzdWUuXHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdoZW4gaW4gaWZyYW1lcywgd2UgbmVlZCB0byBjb3B5IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIHRoZSBnbG9iYWwgc2NvcGUncyBwcm90b3R5cGVzIHNpbmNlLFxyXG4gKiBlLmcuLCBgT2JqZWN0YCBpbiBhbiBpZnJhbWUgaXMgZGlmZmVyZW50IGZyb20gYE9iamVjdGAgaW4gdGhlIHRvcCBmcmFtZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBmaW5kRGVjbGFyaW5nU2NvcGUgPSAodGFyZ2V0OiBhbnkpID0+XHJcbiAgdGFyZ2V0ID09IG51bGxcclxuICAgID8gdGFyZ2V0XHJcbiAgICA6IGdsb2JhbFRoaXMud2luZG93XHJcbiAgICA/IGZpbmRQcm90b3R5cGVGcmFtZSh3aW5kb3csIGdldFJvb3RQcm90b3R5cGUodGFyZ2V0KSlcclxuICAgIDogZ2xvYmFsVGhpcztcclxuIiwiaW1wb3J0IHtcclxuICBBc3luY0l0ZXJhdGlvbkl0ZW0sXHJcbiAgQXN5bmNJdGVyYXRpb25Qcm9qZWN0aW9uMixcclxuICBBc3luY0l0ZXJhdGlvblNvdXJjZSxcclxuICBBc3luY0l0ZXJhdGlvblNvdXJjZU9mLFxyXG4gIEFzeW5jSXRQcm9qZWN0aW9uLFxyXG4gIEZhbHNpc2gsXHJcbiAgZ2V0MixcclxuICBpc0FycmF5LFxyXG4gIGlzSXRlcmFibGUsXHJcbiAgaXNQcm9taXNlTGlrZSxcclxuICBpdGVtaXplMixcclxuICBJdGVyYXRpb25GaWx0ZXJDYWxsYmFjazIsXHJcbiAgSXRlcmF0aW9uUHJvamVjdGlvbixcclxuICBJdGVyYXRpb25Qcm9qZWN0aW9uMixcclxuICBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgSXRlcmF0aW9uU291cmNlT2YsXHJcbiAgSXRlcmF0aW9uVHlwZUd1YXJkQ2FsbGJhY2syLFxyXG4gIEl0ZXJhdG9ySXRlbTIsXHJcbiAgTWF5YmVBcnJheSxcclxuICBNYXliZU51bGxpc2gsXHJcbiAgTWF5YmVOdWxsaXNoT3JGYWxzZSxcclxuICBOdWxsaXNoLFxyXG4gIE51bGxpc2hPckZhbHNlLFxyXG4gIE9iamVjdFNvdXJjZSxcclxuICBTb3J0YWJsZSxcclxuICBzeW1ib2xBc3luY0l0ZXJhdG9yLFxyXG4gIHRocm93RXJyb3IsXHJcbiAgVHVwbGVPckFycmF5LFxyXG4gIFVud3JhcFByb21pc2VMaWtlLFxyXG59IGZyb20gXCIuLlwiO1xyXG5pbXBvcnQge1xyXG4gIEVuY291cmFnZVR1cGxlcyxcclxuICBmaW5kRGVjbGFyaW5nU2NvcGUsXHJcbiAgSXRlcmF0aW9uUmVzdWx0QXJyYXksXHJcbiAgS2V5VmFsdWVUeXBlLFxyXG4gIE9iamVjdFNvdXJjZVRvT2JqZWN0LFxyXG4gIFNlbGVjdG9yLFxyXG59IGZyb20gXCIuL19pbnRlcm5hbFwiO1xyXG5cclxubGV0IHN0b3BJbnZva2VkID0gZmFsc2U7XHJcbmNvbnN0IHN0b3BTeW1ib2wgPSBTeW1ib2woKTtcclxuXHJcbmV4cG9ydCBjb25zdCBza2lwMiA9IFN5bWJvbCgpO1xyXG5leHBvcnQgY29uc3Qgc3RvcDI6ICg8VCA9IGFueT4odmFsdWU6IFQpID0+IFQpICYgdHlwZW9mIHN0b3BTeW1ib2wgPSAoPFQ+KFxyXG4gIHZhbHVlOiBUXHJcbikgPT4gKChzdG9wSW52b2tlZCA9IHRydWUpLCB2YWx1ZSkpIGFzIGFueTtcclxuXHJcbi8vICNyZWdpb24gcmVnaW9uX2l0ZXJhdG9yX2ltcGxlbWVudGF0aW9uc1xyXG5jb25zdCBmb3JFYWNoU3ltYm9sID0gU3ltYm9sKCk7XHJcbmNvbnN0IGFzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sID0gU3ltYm9sKCk7XHJcbmNvbnN0IHN5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xyXG5cclxuLy8gUHJvdG90eXBlIGV4dGVuc2lvbnMgYXJlIGFzc2lnbmVkIG9uLWRlbWFuZCB0byBleGNsdWRlIHRoZW0gd2hlbiB0cmVlLXNoYWtpbmcgY29kZSB0aGF0IGFyZSBub3QgdXNpbmcgYW55IG9mIHRoZSBpdGVyYXRvcnMuXHJcbmNvbnN0IGVuc3VyZUZvckVhY2hJbXBsZW1lbnRhdGlvbnMgPSA8Uj4oXHJcbiAgdGFyZ2V0OiBhbnksXHJcbiAgZXJyb3I6IGFueSxcclxuICByZXRyeTogKCkgPT4gUlxyXG4pOiBSID0+IHtcclxuICBpZiAodGFyZ2V0ID09IG51bGwgfHwgdGFyZ2V0Py5bZm9yRWFjaFN5bWJvbF0pIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuICBsZXQgc2NvcGUgPSBmaW5kRGVjbGFyaW5nU2NvcGUodGFyZ2V0KTtcclxuICBpZiAoIXNjb3BlKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZvckVhY2hJdGVyYWJsZTogKCkgPT4gRm9yRWFjaEZ1bmN0aW9uID1cclxuICAgIC8vIEZhY3RvcnkgdG8gZ2VuZXJhdGUgc2VwYXJhdGUgZnVuY3Rpb25zIGZvciBlYWNoIHByb3RvdHlwZS4gSmF2YVNjcmlwdCBKSVQgY29tcGlsZXJzIHByb2JhYmx5IGxpa2UgdGhhdC5cclxuICAgICgpID0+ICh0YXJnZXQsIHByb2plY3Rpb24sIG1hcHBlZCwgc2VlZCwgY29udGV4dCkgPT4ge1xyXG4gICAgICBsZXQgcHJvamVjdGVkOiBhbnksXHJcbiAgICAgICAgaSA9IDA7XHJcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0YXJnZXQpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAocHJvamVjdGVkID0gcHJvamVjdGlvblxyXG4gICAgICAgICAgICA/IHByb2plY3Rpb24oaXRlbSwgaSsrLCBzZWVkLCBjb250ZXh0KVxyXG4gICAgICAgICAgICA6IGl0ZW0pICE9PSBza2lwMlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKHByb2plY3RlZCA9PT0gc3RvcDIpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZWVkID0gcHJvamVjdGVkO1xyXG4gICAgICAgICAgaWYgKG1hcHBlZCkgbWFwcGVkLnB1c2gocHJvamVjdGVkKTtcclxuICAgICAgICAgIGlmIChzdG9wSW52b2tlZCkge1xyXG4gICAgICAgICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG1hcHBlZCB8fCBzZWVkO1xyXG4gICAgfTtcclxuXHJcbiAgc2NvcGUuQXJyYXkucHJvdG90eXBlW2ZvckVhY2hTeW1ib2xdID0gKChcclxuICAgIHRhcmdldDogYW55W10sXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgbWFwcGVkLFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApID0+IHtcclxuICAgIGxldCBwcm9qZWN0ZWQ6IGFueSwgaXRlbTogYW55O1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0YXJnZXQubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgIGl0ZW0gPSB0YXJnZXRbaV07XHJcbiAgICAgIGlmIChcclxuICAgICAgICAocHJvamVjdGVkID0gcHJvamVjdGlvbiA/IHByb2plY3Rpb24oaXRlbSwgaSwgc2VlZCwgY29udGV4dCkgOiBpdGVtKSAhPT1cclxuICAgICAgICBza2lwMlxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAocHJvamVjdGVkID09PSBzdG9wMikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlZWQgPSBwcm9qZWN0ZWQ7XHJcbiAgICAgICAgaWYgKG1hcHBlZCkge1xyXG4gICAgICAgICAgbWFwcGVkLnB1c2gocHJvamVjdGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0b3BJbnZva2VkKSB7XHJcbiAgICAgICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwcGVkIHx8IHNlZWQ7XHJcbiAgfSkgc2F0aXNmaWVzIEZvckVhY2hGdW5jdGlvbjtcclxuXHJcbiAgY29uc3QgZ2VuZXJpY0ZvckVhY2hJdGVyYWJsZSA9IGZvckVhY2hJdGVyYWJsZSgpO1xyXG4gIHNjb3BlLk9iamVjdC5wcm90b3R5cGVbZm9yRWFjaFN5bWJvbF0gPSAoKFxyXG4gICAgdGFyZ2V0LFxyXG4gICAgcHJvamVjdGlvbixcclxuICAgIG1hcHBlZCxcclxuICAgIHNlZWQsXHJcbiAgICBjb250ZXh0XHJcbiAgKSA9PiB7XHJcbiAgICBpZiAodGFyZ2V0W3N5bWJvbEl0ZXJhdG9yXSkge1xyXG4gICAgICBpZiAodGFyZ2V0LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gZ2VuZXJpY0ZvckVhY2hJdGVyYWJsZShcclxuICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgIHByb2plY3Rpb24sXHJcbiAgICAgICAgICBtYXBwZWQsXHJcbiAgICAgICAgICBzZWVkLFxyXG4gICAgICAgICAgY29udGV4dFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KVtmb3JFYWNoU3ltYm9sXSA9IGZvckVhY2hJdGVyYWJsZSgpKShcclxuICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgcHJvamVjdGlvbixcclxuICAgICAgICBtYXBwZWQsXHJcbiAgICAgICAgc2VlZCxcclxuICAgICAgICBjb250ZXh0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBsZXQgcHJvamVjdGVkOiBhbnksXHJcbiAgICAgIGl0ZW06IGFueSxcclxuICAgICAgaSA9IDA7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcclxuICAgICAgaXRlbSA9IFtrZXksIHRhcmdldFtrZXldXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChwcm9qZWN0ZWQgPSBwcm9qZWN0aW9uXHJcbiAgICAgICAgICA/IHByb2plY3Rpb24oaXRlbSwgaSsrLCBzZWVkLCBjb250ZXh0KVxyXG4gICAgICAgICAgOiBpdGVtKSAhPT0gc2tpcDJcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKHByb2plY3RlZCA9PT0gc3RvcDIpIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWVkID0gcHJvamVjdGVkO1xyXG4gICAgICAgIGlmIChtYXBwZWQpIG1hcHBlZC5wdXNoKHByb2plY3RlZCk7XHJcbiAgICAgICAgaWYgKHN0b3BJbnZva2VkKSB7XHJcbiAgICAgICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwcGVkIHx8IHNlZWQ7XHJcbiAgfSkgc2F0aXNmaWVzIEZvckVhY2hGdW5jdGlvbjtcclxuXHJcbiAgc2NvcGUuT2JqZWN0LnByb3RvdHlwZVthc3luY0l0ZXJhdG9yRmFjdG9yeVN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodGhpc1tzeW1ib2xJdGVyYXRvcl0gfHwgdGhpc1tzeW1ib2xBc3luY0l0ZXJhdG9yXSkge1xyXG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbc3ltYm9sQXN5bmNJdGVyYXRvcl0oKSA/PyB0aGlzW3N5bWJvbEl0ZXJhdG9yXSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xyXG4gICAgICBwcm90b1thc3luY0l0ZXJhdG9yRmFjdG9yeVN5bWJvbF0gPVxyXG4gICAgICAgIHByb3RvW3N5bWJvbEFzeW5jSXRlcmF0b3JdID8/IHByb3RvW3N5bWJvbEl0ZXJhdG9yXTtcclxuICAgICAgcmV0dXJuIHRoaXNbYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2xdKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGl0ZXJhdGVFbnRyaWVzKHRoaXMpO1xyXG4gIH07XHJcblxyXG4gIGZvciAoY29uc3QgcHJvdG8gb2YgW1xyXG4gICAgc2NvcGUuTWFwLnByb3RvdHlwZSxcclxuICAgIHNjb3BlLldlYWtNYXAucHJvdG90eXBlLFxyXG4gICAgc2NvcGUuU2V0LnByb3RvdHlwZSxcclxuICAgIHNjb3BlLldlYWtTZXQucHJvdG90eXBlLFxyXG4gICAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uXHJcbiAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZnVuY3Rpb24qICgpIHt9KSxcclxuICBdKSB7XHJcbiAgICBwcm90b1tmb3JFYWNoU3ltYm9sXSA9IGZvckVhY2hJdGVyYWJsZSgpO1xyXG4gICAgcHJvdG9bYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2xdID0gcHJvdG9bc3ltYm9sSXRlcmF0b3JdO1xyXG4gIH1cclxuXHJcbiAgc2NvcGUuTnVtYmVyLnByb3RvdHlwZVtmb3JFYWNoU3ltYm9sXSA9ICgoXHJcbiAgICB0YXJnZXQsXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgbWFwcGVkLFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApID0+XHJcbiAgICBnZW5lcmljRm9yRWFjaEl0ZXJhYmxlKFxyXG4gICAgICByYW5nZTIodGFyZ2V0KSxcclxuICAgICAgcHJvamVjdGlvbixcclxuICAgICAgbWFwcGVkLFxyXG4gICAgICBzZWVkLFxyXG4gICAgICBjb250ZXh0XHJcbiAgICApKSBzYXRpc2ZpZXMgRm9yRWFjaEZ1bmN0aW9uO1xyXG4gIHNjb3BlLk51bWJlci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2xdID0gcmFuZ2UyO1xyXG5cclxuICBzY29wZS5GdW5jdGlvbi5wcm90b3R5cGVbZm9yRWFjaFN5bWJvbF0gPSAoKFxyXG4gICAgdGFyZ2V0LFxyXG4gICAgcHJvamVjdGlvbixcclxuICAgIG1hcHBlZCxcclxuICAgIHNlZWQsXHJcbiAgICBjb250ZXh0XHJcbiAgKSA9PlxyXG4gICAgZ2VuZXJpY0ZvckVhY2hJdGVyYWJsZShcclxuICAgICAgdHJhdmVyc2UyKHRhcmdldCksXHJcbiAgICAgIHByb2plY3Rpb24sXHJcbiAgICAgIG1hcHBlZCxcclxuICAgICAgc2VlZCxcclxuICAgICAgY29udGV4dFxyXG4gICAgKSkgc2F0aXNmaWVzIEZvckVhY2hGdW5jdGlvbjtcclxuXHJcbiAgc2NvcGUuRnVuY3Rpb24ucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sXSA9IHRyYXZlcnNlMjtcclxuXHJcbiAgcmV0dXJuIHJldHJ5KCk7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBGb3JFYWNoRnVuY3Rpb24gPSAoXHJcbiAgdGFyZ2V0OiBhbnksXHJcbiAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8YW55LCBhbnksIGFueT4gfCB1bmRlZmluZWQsXHJcbiAgbWFwcGVkOiBhbnlbXSB8IHVuZGVmaW5lZCxcclxuICBzZWVkOiBhbnksXHJcbiAgY29udGV4dDogYW55XHJcbikgPT4gYW55O1xyXG5cclxuLy8gI2VuZHJlZ2lvblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiByYW5nZTIobGVuZ3RoOiBudW1iZXIgPSB0aGlzKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgeWllbGQgaTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiB0cmF2ZXJzZTIoXHJcbiAgbmV4dDogPFQ+KGN1cnJlbnQ6IFQgfCB1bmRlZmluZWQpID0+IFQgfCBOdWxsaXNoID0gdGhpc1xyXG4pIHtcclxuICBsZXQgaXRlbTogYW55ID0gdW5kZWZpbmVkO1xyXG4gIHdoaWxlICgoaXRlbSA9IG5leHQoaXRlbSkpICE9PSB1bmRlZmluZWQpIHlpZWxkIGl0ZW07XHJcbn1cclxuXHJcbmZ1bmN0aW9uKiBpdGVyYXRlRW50cmllcyhzb3VyY2U6IGFueSkge1xyXG4gIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xyXG4gICAgeWllbGQgW2tleSwgc291cmNlW2tleV1dO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZvckVhY2gyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oc291cmNlOiBTb3VyY2UpOiBNYXliZU51bGxpc2hPckZhbHNlPFxyXG4gICAgSXRlcmF0b3JJdGVtMjxTb3VyY2U+IHwgdW5kZWZpbmVkLFxyXG4gICAgU291cmNlXHJcbiAgPjtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyLFxyXG4gICAgQ29udGV4dCA9IFNvdXJjZVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246XHJcbiAgICAgIHwgSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsLCBDb250ZXh0PlxyXG4gICAgICB8IE51bGxpc2gsXHJcbiAgICBzZWVkPzogQWNjdW11bGF0b3IsXHJcbiAgICBjb250ZXh0PzogQ29udGV4dFxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8SXRlcmF0aW9uUHJvamVjdGlvbjxQcm9qZWN0ZWQ+IHwgdW5kZWZpbmVkLCBTb3VyY2U+O1xyXG59ID0gKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55LCBzZWVkPzogYW55LCBjb250ZXh0PzogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBzb3VyY2VcclxuICAgICAgPyBzb3VyY2VbZm9yRWFjaFN5bWJvbF0oc291cmNlLCBwcm9qZWN0aW9uLCB1bmRlZmluZWQsIHNlZWQsIGNvbnRleHQpXHJcbiAgICAgIDogc291cmNlID09IG51bGxcclxuICAgICAgPyBzb3VyY2VcclxuICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUZvckVhY2hJbXBsZW1lbnRhdGlvbnMoc291cmNlLCBlLCAoKSA9PlxyXG4gICAgICBmb3JFYWNoMihzb3VyY2UsIHByb2plY3Rpb24sIHNlZWQsIGNvbnRleHQpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBsZXQgbWFwMjoge1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCxcclxuICAgIEFjY3VtdWxhdG9yIGV4dGVuZHMgUHJvamVjdGVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsIC8vIE90aGVyd2lzZSBQcm9qZWN0ZWQgbWF5IGJlIGBzeW1ib2xgXHJcbiAgICBUYXJnZXQgPSB1bmRlZmluZWQsXHJcbiAgICBDb250ZXh0ID0gU291cmNlXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgIHRhcmdldD86IFRhcmdldCAmIEl0ZXJhdGlvblByb2plY3Rpb248UHJvamVjdGVkPltdLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdG9yLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBNYXliZU51bGxpc2hPckZhbHNlPFxyXG4gICAgSXRlcmF0aW9uUHJvamVjdGlvbjxQcm9qZWN0ZWQ+W10gZXh0ZW5kcyBUYXJnZXRcclxuICAgICAgPyBUYXJnZXRcclxuICAgICAgOiBJdGVyYXRpb25Qcm9qZWN0aW9uPFByb2plY3RlZD5bXSxcclxuICAgIFNvdXJjZVxyXG4gID47XHJcblxyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2VPZjxUPiwgVCwgVGFyZ2V0ID0gbmV2ZXJbXT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb24/OiB1bmRlZmluZWQgfCBudWxsLFxyXG4gICAgdGFyZ2V0PzogVGFyZ2V0ICYgVFtdLFxyXG4gICAgc2VlZD86IGFueSxcclxuICAgIGNvbnRleHQ/OiBhbnlcclxuICApOiBUYXJnZXQgZXh0ZW5kcyBuZXZlcltdID8gSXRlcmF0aW9uUmVzdWx0QXJyYXk8U291cmNlPiA6IFRhcmdldDtcclxufSA9IChcclxuICBzb3VyY2U6IGFueSxcclxuICBwcm9qZWN0aW9uPzogYW55LFxyXG4gIHRhcmdldCA9IFtdLFxyXG4gIHNlZWQ/OiBhbnksXHJcbiAgY29udGV4dCA9IHNvdXJjZVxyXG4pID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuICFzb3VyY2UgJiYgc291cmNlICE9PSAwICYmIHNvdXJjZSAhPT0gXCJcIlxyXG4gICAgICA/IHNvdXJjZSA9PSBudWxsXHJcbiAgICAgICAgPyBzb3VyY2VcclxuICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICA6IHNvdXJjZVtmb3JFYWNoU3ltYm9sXShzb3VyY2UsIHByb2plY3Rpb24sIHRhcmdldCwgc2VlZCwgY29udGV4dCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUZvckVhY2hJbXBsZW1lbnRhdGlvbnMoc291cmNlLCBlLCAoKSA9PlxyXG4gICAgICBtYXAyKHNvdXJjZSwgcHJvamVjdGlvbiwgdGFyZ2V0LCBzZWVkLCBjb250ZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYmF0Y2gyID0gPFQsIEFyZz4oXHJcbiAgc291cmNlOiBBcmcgJiBJdGVyYWJsZTxUPixcclxuICBiYXRjaFNpemU6IG51bWJlclxyXG4pOiBNYXliZU51bGxpc2g8VFtdW10sIEFyZz4gPT4ge1xyXG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHNvdXJjZTtcclxuXHJcbiAgY29uc3QgYmF0Y2hlczogVFtdW10gPSBbXTtcclxuICBsZXQgYmF0Y2g6IFRbXSA9IFtdO1xyXG4gIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2UpIHtcclxuICAgIGJhdGNoLnB1c2goaXRlbSk7XHJcbiAgICBpZiAoYmF0Y2gubGVuZ3RoID09PSBiYXRjaFNpemUpIHtcclxuICAgICAgYmF0Y2hlcy5wdXNoKGJhdGNoKTtcclxuICAgICAgYmF0Y2ggPSBbXTtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKGJhdGNoLmxlbmd0aCA+IDApIHtcclxuICAgIGJhdGNoZXMucHVzaChiYXRjaCk7XHJcbiAgfVxyXG4gIHJldHVybiBiYXRjaGVzIGFzIGFueTtcclxufTtcclxuXHJcbnR5cGUgRmlsdGVyVHJ1aXNoPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgW1xyXG4gIGluZmVyIFQsXHJcbiAgLi4uaW5mZXIgUmVzdFxyXG5dXHJcbiAgPyBUIGV4dGVuZHMgRmFsc2lzaFxyXG4gICAgPyBGaWx0ZXJUcnVpc2g8UmVzdD5cclxuICAgIDogW1QsIC4uLkZpbHRlclRydWlzaDxSZXN0Pl1cclxuICA6IFQgZXh0ZW5kcyByZWFkb25seSBbXVxyXG4gID8gW11cclxuICA6IFQgZXh0ZW5kcyByZWFkb25seSAoaW5mZXIgVClbXVxyXG4gID8gRXhjbHVkZTxULCBGYWxzaXNoPltdXHJcbiAgOiBuZXZlcjtcclxuXHJcbi8qKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggdGhlIHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IGZhbHNlJ2lzaCAqL1xyXG5leHBvcnQgY29uc3QgdHJ1aXNoMjoge1xyXG4gIDxWYWx1ZXMgZXh0ZW5kcyBUdXBsZU9yQXJyYXk8e30gfCBGYWxzaXNoPj4oXHJcbiAgICB2YWx1ZXM6IFZhbHVlc1xyXG4gICk6IEZpbHRlclRydWlzaDxWYWx1ZXM+O1xyXG4gIDxWYWx1ZXMgZXh0ZW5kcyByZWFkb25seSAoe30gfCBGYWxzaXNoKVtdPihcclxuICAgIC4uLnZhbHVlczogVmFsdWVzXHJcbiAgKTogRmlsdGVyVHJ1aXNoPFZhbHVlcz47XHJcbn0gPSAoLi4udmFsdWVzOiBhbnlbXSkgPT5cclxuICBmaWx0ZXIyKHZhbHVlcy5sZW5ndGggPT09IDEgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIGZhbHNlKSBhcyBhbnk7XHJcblxyXG5leHBvcnQgbGV0IGZpbHRlcjI6IHtcclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLCBTdHJpY3QgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZT4oXHJcbiAgICB0YXJnZXQ6IFNvdXJjZSxcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0byBmaWx0ZXIgb3V0IG9ubHkgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBvciBhbGwgZmFsc2UnaXNoIHZhbHVlcyAoYG51bGxgLCBgdW5kZWZpbmVkYCwgYGZhbHNlYCwgYFwiXCJgIGFuZCBgMGApLlxyXG4gICAgICogSWYgdGhlIGxhdHRlciBiZWhhdmlvciBpcyBwcmVmZXJyZWQsIHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIHRydWlzaDJ9LlxyXG4gICAgICpcclxuICAgICAqIEBkZWZhdWx0IHRydWVcclxuICAgICAqL1xyXG4gICAgc3RyaWN0PzogU3RyaWN0XHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgIEV4Y2x1ZGU8XHJcbiAgICAgIEl0ZXJhdG9ySXRlbTI8U291cmNlPixcclxuICAgICAgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgKFN0cmljdCBleHRlbmRzIHRydWUgPyBOdWxsaXNoIDogRmFsc2lzaClcclxuICAgID5bXSxcclxuICAgIFNvdXJjZVxyXG4gID47XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUiBleHRlbmRzIEV4Y2x1ZGU8XHJcbiAgICAgIEl0ZXJhdG9ySXRlbTI8U291cmNlPixcclxuICAgICAgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgRmFsc2lzaFxyXG4gICAgPlxyXG4gID4oXHJcbiAgICB0YXJnZXQ6IFNvdXJjZSxcclxuICAgIGZpbHRlcjogSXRlcmF0aW9uVHlwZUd1YXJkQ2FsbGJhY2syPFNvdXJjZSwgUj4sXHJcbiAgICBpbnZlcnQ/OiBib29sZWFuXHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxSW10sIFNvdXJjZT47XHJcblxyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgdGFyZ2V0OiBTb3VyY2UsXHJcbiAgICBmaWx0ZXI6IEl0ZXJhdGlvbkZpbHRlckNhbGxiYWNrMjxTb3VyY2U+LFxyXG4gICAgaW52ZXJ0PzogYm9vbGVhblxyXG4gICk6IEl0ZXJhdGlvblJlc3VsdEFycmF5PFNvdXJjZT47XHJcblxyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgdGFyZ2V0OiBTb3VyY2UsXHJcbiAgICBmaWx0ZXI6IHsgaGFzKGl0ZW06IEV4Y2x1ZGU8SXRlcmF0b3JJdGVtMjxTb3VyY2U+LCBOdWxsaXNoPik6IGFueSB9LFxyXG4gICAgaW52ZXJ0PzogYm9vbGVhblxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBJdGVyYXRvckl0ZW0yPEV4Y2x1ZGU8U291cmNlLCBOdWxsaXNoT3JGYWxzZT4+W10sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG59ID0gKGl0ZW1zOiBhbnksIGZpbHRlcjogYW55ID0gdHJ1ZSwgaW52ZXJ0ID0gZmFsc2UpID0+XHJcbiAgbWFwMihcclxuICAgIGl0ZW1zLFxyXG4gICAgZmlsdGVyID09PSB0cnVlXHJcbiAgICAgID8gKGl0ZW0pID0+IGl0ZW0gPz8gc2tpcDJcclxuICAgICAgOiAhZmlsdGVyXHJcbiAgICAgID8gKGl0ZW0pID0+IGl0ZW0gfHwgc2tpcDJcclxuICAgICAgOiBmaWx0ZXIuaGFzXHJcbiAgICAgID8gKGl0ZW0pID0+IChpdGVtID09IG51bGwgfHwgZmlsdGVyLmhhcyhpdGVtKSA9PT0gaW52ZXJ0ID8gc2tpcDIgOiBpdGVtKVxyXG4gICAgICA6IChpdGVtLCBpbmRleCwgcHJldikgPT5cclxuICAgICAgICAgICFmaWx0ZXIoaXRlbSwgaW5kZXgsIHByZXYpID09PSBpbnZlcnQgPyBpdGVtIDogc2tpcDJcclxuICApO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRha2UyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIGNvdW50OiBudW1iZXIsXHJcbiAgICBwcm9qZWN0aW9uPzogdW5kZWZpbmVkXHJcbiAgKTogSXRlcmF0aW9uUmVzdWx0QXJyYXk8U291cmNlPjtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgY291bnQ6IG51bWJlcixcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD5cclxuICApOiBNYXliZU51bGxpc2hPckZhbHNlPEl0ZXJhdGlvblByb2plY3Rpb248UHJvamVjdGVkPltdLCBTb3VyY2U+O1xyXG59ID0gKHNvdXJjZTogYW55LCBjb3VudDogYW55LCBwcm9qZWN0aW9uPzogYW55KSA9PlxyXG4gIG1hcDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+IChcclxuICAgICAgaW5kZXggPT09IGNvdW50ICsgMSAmJiAoc3RvcEludm9rZWQgPSB0cnVlKSxcclxuICAgICAgcHJvamVjdGlvbiA/IHByb2plY3Rpb24oaXRlbSwgaW5kZXgsIHByZXYpIDogaXRlbVxyXG4gICAgKVxyXG4gICk7XHJcbmV4cG9ydCBjb25zdCBmaXJzdDI6IHtcclxuICA8U291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLCBSPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJlZGljYXRlOiBJdGVyYXRpb25UeXBlR3VhcmRDYWxsYmFjazI8U291cmNlLCBSPlxyXG4gICk6IFIgfCB1bmRlZmluZWQ7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByZWRpY2F0ZT86IEl0ZXJhdGlvbkZpbHRlckNhbGxiYWNrMjxTb3VyY2U+XHJcbiAgKTogSXRlcmF0b3JJdGVtMjxTb3VyY2U+IHwgdW5kZWZpbmVkO1xyXG59ID0gKHNvdXJjZTogYW55LCBwcmVkaWNhdGUgPSBzb3VyY2UpID0+XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+IChcclxuICAgICAgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKGl0ZW0sIGluZGV4LCBwcmV2LCBzb3VyY2UpKSAmJlxyXG4gICAgICAgIChzdG9wSW52b2tlZCA9IHRydWUpLFxyXG4gICAgICBpdGVtXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbnR5cGUgT25lczxOIGV4dGVuZHMgbnVtYmVyLCBBIGV4dGVuZHMgbnVtYmVyW10gPSBbXT4gPSBBW1wibGVuZ3RoXCJdIGV4dGVuZHMgTlxyXG4gID8gQVxyXG4gIDogT25lczxOLCBbLi4uQSwgMV0+O1xyXG5cclxudHlwZSBEZWM8QSBleHRlbmRzIG51bWJlcj4gPSBBIGV4dGVuZHMgMFxyXG4gID8gLTFcclxuICA6IGAke0F9YCBleHRlbmRzIGAtJHtpbmZlciBffWBcclxuICA/IC0xXHJcbiAgOiBPbmVzPEE+IGV4dGVuZHMgW2FueSwgLi4uaW5mZXIgUmVzdF1cclxuICA/IFJlc3RbXCJsZW5ndGhcIl1cclxuICA6IG5ldmVyO1xyXG5cclxudHlwZSBGbGF0PFQsIERlcHRoIGV4dGVuZHMgbnVtYmVyPiA9IERlcHRoIGV4dGVuZHMgMFxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIHN0cmluZ1xyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XHJcbiAgPyBGbGF0PFQsIERlYzxEZXB0aD4+XHJcbiAgOiBUO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZsYXRNYXAyOiB7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlciwgLy8gT3RoZXJ3aXNlIFIgbWF5IGJlIGBzeW1ib2xgXHJcbiAgICBUYXJnZXQgPSB1bmRlZmluZWQsXHJcbiAgICBDb250ZXh0ID0gU291cmNlLFxyXG4gICAgRGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBkZXB0aD86IERlcHRoLFxyXG4gICAgdGFyZ2V0PzogVGFyZ2V0ICYgRmxhdDxJdGVyYXRpb25Qcm9qZWN0aW9uPFByb2plY3RlZD4sIERlcHRoPltdLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdG9yLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBNYXliZU51bGxpc2hPckZhbHNlPFxyXG4gICAgRmxhdDxJdGVyYXRpb25Qcm9qZWN0aW9uPFByb2plY3RlZD4sIERlcHRoPltdIGV4dGVuZHMgVGFyZ2V0XHJcbiAgICAgID8gVGFyZ2V0XHJcbiAgICAgIDogRmxhdDxJdGVyYXRpb25Qcm9qZWN0aW9uPFByb2plY3RlZD4sIERlcHRoPltdLFxyXG4gICAgU291cmNlXHJcbiAgPjtcclxuXHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSwgRGVwdGggZXh0ZW5kcyBudW1iZXIgPSAtMT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb24/OiBOdWxsaXNoLFxyXG4gICAgZGVwdGg/OiBEZXB0aCxcclxuICAgIHRhcmdldD86IGFueVtdLFxyXG4gICAgc2VlZD86IGFueSxcclxuICAgIGNvbnRleHQ/OiBhbnlcclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gU291cmNlIDogRmxhdDxJdGVyYXRvckl0ZW0yPFNvdXJjZT4sIERlcHRoPltdO1xyXG59ID0gKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBhbnksXHJcbiAgZGVwdGg6IGFueSA9IC0xLFxyXG4gIHRhcmdldDogYW55W10gPSBbXSxcclxuICBzZWVkPzogYW55LFxyXG4gIGNvbnRleHQgPSBzb3VyY2VcclxuKSA9PlxyXG4gIG1hcDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICAoaXRlbSwgaW5kZXgsIHByZXZpb3VzKSA9PlxyXG4gICAgICAocHJvamVjdGlvbiA/IChpdGVtID0gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldmlvdXMpKSA6IGl0ZW0pICE9XHJcbiAgICAgICAgbnVsbCAmJlxyXG4gICAgICBpdGVtW1N5bWJvbC5pdGVyYXRvcl0gJiZcclxuICAgICAgdHlwZW9mIGl0ZW0gIT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgZGVwdGhcclxuICAgICAgICA/IChmbGF0TWFwMihpdGVtLCB1bmRlZmluZWQsIGRlcHRoIC0gMSwgdGFyZ2V0LCBpdGVtKSwgc2tpcDIpXHJcbiAgICAgICAgOiBpdGVtLFxyXG4gICAgdGFyZ2V0LFxyXG4gICAgc2VlZCxcclxuICAgIGNvbnRleHRcclxuICApO1xyXG5cclxudHlwZSBHcm91cDJSZXN1bHQ8U291cmNlLCBBc01hcD4gPSBBc01hcCBleHRlbmRzIHRydWVcclxuICA/IFNvdXJjZSBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQgZXh0ZW5kcyBLZXlWYWx1ZVR5cGU8YW55Pj5cclxuICAgID8gTWFwPEV4Y2x1ZGU8VFswXSwgdW5kZWZpbmVkPiwgVFsxXVtdPlxyXG4gICAgOiBTb3VyY2UgZXh0ZW5kcyB7IFtQIGluIGluZmVyIEtleV06IGluZmVyIFZhbHVlIH1cclxuICAgID8gTWFwPEtleSwgVmFsdWVbXT5cclxuICAgIDogbmV2ZXJcclxuICA6IFNvdXJjZSBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQgZXh0ZW5kcyBLZXlWYWx1ZVR5cGU+XHJcbiAgPyB7IFtQIGluIEV4Y2x1ZGU8VFswXSwgdW5kZWZpbmVkPl06IFRbMV0gfVxyXG4gIDogU291cmNlIGV4dGVuZHMgeyBbUCBpbiBpbmZlciBLZXldOiBpbmZlciBWYWx1ZSB9XHJcbiAgPyB7IFtQIGluIEtleV06IFZhbHVlW10gfVxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgY29uc3QgZ3JvdXAyOiB7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgT2JqZWN0U291cmNlPGFueT4gfCBOdWxsaXNoT3JGYWxzZSxcclxuICAgIEFzTWFwIGV4dGVuZHMgYm9vbGVhbiA9IHRydWVcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBtYXA/OiBBc01hcFxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBHcm91cDJSZXN1bHQ8T2JqZWN0U291cmNlVG9PYmplY3Q8U291cmNlPiwgQXNNYXA+LFxyXG4gICAgU291cmNlXHJcbiAgPjtcclxuXHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhYmxlPEtleVZhbHVlVHlwZTxhbnk+PiB8IE51bGxpc2hPckZhbHNlPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgbWFwPzogdHJ1ZVxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBHcm91cDJSZXN1bHQ8T2JqZWN0U291cmNlVG9PYmplY3Q8U291cmNlPiwgdHJ1ZT4sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG5cclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQgZXh0ZW5kcyBLZXlWYWx1ZVR5cGU8a2V5b2YgYW55PiB8IEZhbHNpc2gsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyLFxyXG4gICAgQXNNYXAgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZVxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBtYXA/OiBBc01hcFxyXG4gICk6IE1heWJlTnVsbGlzaE9yRmFsc2U8XHJcbiAgICBHcm91cDJSZXN1bHQ8SXRlcmF0aW9uUHJvamVjdGlvbjxQcm9qZWN0ZWQsIEZhbHNpc2g+W10sIEFzTWFwPixcclxuICAgIFNvdXJjZVxyXG4gID47XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkIGV4dGVuZHMgS2V5VmFsdWVUeXBlPGFueT4gfCBGYWxzaXNoLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlclxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByb2plY3Rpb246IEl0ZXJhdGlvblByb2plY3Rpb24yPFNvdXJjZSwgQWNjdW11bGF0b3IsIFByb2plY3RlZCB8IFNpZ25hbD4sXHJcbiAgICBtYXA/OiB0cnVlXHJcbiAgKTogTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgIEdyb3VwMlJlc3VsdDxJdGVyYXRpb25Qcm9qZWN0aW9uPFByb2plY3RlZCwgRmFsc2lzaD5bXSwgdHJ1ZT4sXHJcbiAgICBTb3VyY2VcclxuICA+O1xyXG59ID0gKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55LCBtYXA/OiBhbnkpID0+IHtcclxuICBpZiAocHJvamVjdGlvbiAhPSBudWxsICYmIHR5cGVvZiBwcm9qZWN0aW9uICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIFtwcm9qZWN0aW9uLCBtYXBdID0gW3VuZGVmaW5lZCwgcHJvamVjdGlvbl07XHJcbiAgfVxyXG4gIGxldCBncm91cHM6IGFueSwga3Y6IFthbnksIGFueV07XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICBtYXAgIT09IGZhbHNlXHJcbiAgICAgID8gKChncm91cHMgPSBuZXcgTWFwKCkpLFxyXG4gICAgICAgIChpdGVtLCBpbmRleCwgcHJldikgPT4ge1xyXG4gICAgICAgICAga3YgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtO1xyXG4gICAgICAgICAgaWYgKGt2WzBdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZ2V0Mihncm91cHMsIGt2WzBdLCAoKSA9PiBbXSkucHVzaChrdlsxXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgOiAoKGdyb3VwcyA9IHt9KSxcclxuICAgICAgICAoaXRlbSwgaW5kZXgsIHByZXYpID0+XHJcbiAgICAgICAgICAoa3YgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtKSAmJlxyXG4gICAgICAgICAga3ZbMF0gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgKGdyb3Vwc1trdlswXV0gPz89IFtdKS5wdXNoKGt2WzFdKSlcclxuICApO1xyXG5cclxuICByZXR1cm4gZ3JvdXBzO1xyXG59O1xyXG5cclxuZXhwb3J0IGxldCBmb3JFYWNoQXdhaXQyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEFzeW5jSXRlcmF0aW9uU291cmNlIHwgTnVsbGlzaD4oc291cmNlOiBTb3VyY2UpOiBQcm9taXNlPFxyXG4gICAgTWF5YmVOdWxsaXNoPEFzeW5jSXRlcmF0aW9uSXRlbTxTb3VyY2U+LCBTb3VyY2U+IHwgdW5kZWZpbmVkXHJcbiAgPjtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBBc3luY0l0ZXJhdGlvblNvdXJjZSB8IE51bGxpc2gsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRlZCBleHRlbmRzIFVud3JhcFByb21pc2VMaWtlPFByb2plY3RlZD4sXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlcixcclxuICAgIENvbnRleHQgPSBTb3VyY2VcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uOlxyXG4gICAgICB8IEFzeW5jSXRlcmF0aW9uUHJvamVjdGlvbjI8XHJcbiAgICAgICAgICBTb3VyY2UsXHJcbiAgICAgICAgICBBY2N1bXVsYXRlZCxcclxuICAgICAgICAgIEVuY291cmFnZVR1cGxlczxQcm9qZWN0ZWQ+IHwgU2lnbmFsLFxyXG4gICAgICAgICAgQ29udGV4dFxyXG4gICAgICAgID5cclxuICAgICAgfCBOdWxsaXNoLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdGVkLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBQcm9taXNlPE1heWJlTnVsbGlzaDxBc3luY0l0UHJvamVjdGlvbjxQcm9qZWN0ZWQ+LCBTb3VyY2U+IHwgdW5kZWZpbmVkPjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSwgc2VlZD86IGFueSwgY29udGV4dD86IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gaXRlcmF0ZUFzeW5jMihzb3VyY2UsIHByb2plY3Rpb24sIHVuZGVmaW5lZCwgc2VlZCwgY29udGV4dCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUZvckVhY2hJbXBsZW1lbnRhdGlvbnMoc291cmNlLCBlLCAoKSA9PlxyXG4gICAgICBmb3JFYWNoQXdhaXQyKHNvdXJjZSwgcHJvamVjdGlvbiwgc2VlZCwgY29udGV4dClcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBtYXBBd2FpdDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgICBQcm9qZWN0ZWQsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFVud3JhcFByb21pc2VMaWtlPFByb2plY3RlZD4sXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlciwgLy8gT3RoZXJ3aXNlIFIgbWF5IGJlIGBzeW1ib2xgXHJcbiAgICBUYXJnZXQgPSB1bmRlZmluZWQsXHJcbiAgICBDb250ZXh0ID0gU291cmNlXHJcbiAgPihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAgcHJvamVjdGlvbjogQXN5bmNJdGVyYXRpb25Qcm9qZWN0aW9uMjxcclxuICAgICAgU291cmNlLFxyXG4gICAgICBBY2N1bXVsYXRvcixcclxuICAgICAgUHJvamVjdGVkIHwgU2lnbmFsXHJcbiAgICA+LFxyXG4gICAgdGFyZ2V0PzogVGFyZ2V0ICYgQXN5bmNJdFByb2plY3Rpb248UHJvamVjdGVkPltdLFxyXG4gICAgc2VlZD86IEFjY3VtdWxhdG9yLFxyXG4gICAgY29udGV4dD86IENvbnRleHRcclxuICApOiBQcm9taXNlPFxyXG4gICAgTWF5YmVOdWxsaXNoT3JGYWxzZTxcclxuICAgICAgQXN5bmNJdFByb2plY3Rpb248UHJvamVjdGVkPltdIGV4dGVuZHMgVGFyZ2V0XHJcbiAgICAgICAgPyBUYXJnZXRcclxuICAgICAgICA6IEFzeW5jSXRQcm9qZWN0aW9uPFByb2plY3RlZD5bXSxcclxuICAgICAgU291cmNlXHJcbiAgICA+XHJcbiAgPjtcclxuXHJcbiAgPFNvdXJjZSBleHRlbmRzIEFzeW5jSXRlcmF0aW9uU291cmNlT2Y8VD4sIFQsIFRhcmdldCA9IG5ldmVyW10+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uPzogdW5kZWZpbmVkIHwgbnVsbCxcclxuICAgIHRhcmdldD86IFRhcmdldCAmIFRbXSxcclxuICAgIHNlZWQ/OiBhbnksXHJcbiAgICBjb250ZXh0PzogYW55XHJcbiAgKTogUHJvbWlzZTxcclxuICAgIFRhcmdldCBleHRlbmRzIG5ldmVyW11cclxuICAgICAgPyBJdGVyYXRpb25SZXN1bHRBcnJheTxJdGVyYWJsZTxBc3luY0l0ZXJhdGlvbkl0ZW08U291cmNlPj4+XHJcbiAgICAgIDogVGFyZ2V0XHJcbiAgPjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbjogYW55LCB0YXJnZXQgPSBbXSwgc2VlZDogYW55LCBjb250ZXh0OiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGl0ZXJhdGVBc3luYzIoc291cmNlLCBwcm9qZWN0aW9uLCB0YXJnZXQsIHNlZWQsIGNvbnRleHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgbWFwQXdhaXQyKHNvdXJjZSwgcHJvamVjdGlvbiwgdGFyZ2V0LCBzZWVkLCBjb250ZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBpdGVyYXRlQXN5bmMyID0gYXN5bmMgKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxhbnksIGFueSwgYW55LCBhbnk+IHwgTnVsbGlzaCxcclxuICBtYXBwZWQ/OiBhbnlbXSxcclxuICBzZWVkPzogYW55LFxyXG4gIGNvbnRleHQ/OiBhbnlcclxuKSA9PiB7XHJcbiAgaWYgKChzb3VyY2UgPSBhd2FpdCBzb3VyY2UpID09IG51bGwpIHJldHVybiBzb3VyY2U7XHJcbiAgaWYgKHNvdXJjZSA9PT0gZmFsc2UpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0IGl0ZXJhdG9yID0gc291cmNlW2FzeW5jSXRlcmF0b3JGYWN0b3J5U3ltYm9sXSgpIGFzIEFzeW5jSXRlcmF0b3I8YW55PjtcclxuXHJcbiAgbGV0IHJlc3VsdDogSXRlcmF0b3JSZXN1bHQ8YW55PjtcclxuICBsZXQgcHJvamVjdGVkOiBhbnksXHJcbiAgICBpID0gMDtcclxuXHJcbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkgYXMgYW55KSkge1xyXG4gICAgaWYgKGlzUHJvbWlzZUxpa2UocmVzdWx0KSkge1xyXG4gICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0LmRvbmUpIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGl0ZW0gPSByZXN1bHQudmFsdWU7XHJcbiAgICBpZiAoaXNQcm9taXNlTGlrZShpdGVtKSkge1xyXG4gICAgICBpdGVtID0gYXdhaXQgaXRlbTtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgKHByb2plY3RlZCA9IGF3YWl0IChwcm9qZWN0aW9uXHJcbiAgICAgICAgPyBwcm9qZWN0aW9uKGl0ZW0sIGkrKywgc2VlZCwgY29udGV4dClcclxuICAgICAgICA6IGl0ZW0pKSAhPT0gc2tpcDJcclxuICAgICkge1xyXG4gICAgICBpZiAocHJvamVjdGVkID09PSBzdG9wMikge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHNlZWQgPSBwcm9qZWN0ZWQ7XHJcbiAgICAgIG1hcHBlZD8ucHVzaChwcm9qZWN0ZWQpO1xyXG4gICAgICBpZiAoc3RvcEludm9rZWQpIHtcclxuICAgICAgICBzdG9wSW52b2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFwcGVkIHx8IHNlZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29sbGVjdDIgPSA8VCwgTnVsbHM+KFxyXG4gIHNvdXJjZTogVCB8IEl0ZXJhYmxlPFQ+IHwgTnVsbHMsXHJcbiAgZ2VuZXJhdG9yOiAoaXRlbTogVCkgPT4gSXRlcmFibGU8VD4gfCBUIHwgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyLFxyXG4gIGluY2x1ZGVTZWxmID0gdHJ1ZSxcclxuICBjb2xsZWN0ZWQ/OiBTZXQ8VD5cclxuKTogTWF5YmVOdWxsaXNoPFNldDxUPiwgTnVsbHM+ID0+IHtcclxuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiBzb3VyY2UgYXMgYW55O1xyXG4gIGNvbnN0IHJvb3QgPSBjb2xsZWN0ZWQ7XHJcbiAgY29sbGVjdGVkID8/PSBuZXcgU2V0KCk7XHJcbiAgaWYgKHNvdXJjZVtzeW1ib2xJdGVyYXRvcl0gJiYgdHlwZW9mIHNvdXJjZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSBhcyBJdGVyYWJsZTxhbnk+KSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAoY29sbGVjdDIoaXRlbSwgZ2VuZXJhdG9yLCBpbmNsdWRlU2VsZiwgY29sbGVjdGVkKSBhcyBhbnkpID09PSBzdG9wMlxyXG4gICAgICApIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoIWNvbGxlY3RlZC5oYXMoc291cmNlIGFzIGFueSkpIHtcclxuICAgIGlmIChpbmNsdWRlU2VsZikge1xyXG4gICAgICBjb2xsZWN0ZWQuYWRkKHNvdXJjZSBhcyBhbnkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGdlbmVyYXRlZCA9IGdlbmVyYXRvcihzb3VyY2UgYXMgYW55KTtcclxuICAgIGlmIChnZW5lcmF0ZWQgPT09IHN0b3AyKSByZXR1cm4gcm9vdCA/IHN0b3AyIDogKGNvbGxlY3RlZCBhcyBhbnkpO1xyXG4gICAgaWYgKGdlbmVyYXRlZCAhPT0gc2tpcDIpIHtcclxuICAgICAgY29sbGVjdDIoZ2VuZXJhdGVkLCBnZW5lcmF0b3IsIHRydWUsIGNvbGxlY3RlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBjb2xsZWN0ZWQgYXMgYW55O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3RpbmN0MiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVxyXG4gIDogVCBleHRlbmRzIE51bGxpc2hcclxuICA/IFRcclxuICA6IFQgZXh0ZW5kcyBTZXQ8YW55PlxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIEl0ZXJhYmxlPGluZmVyIFQ+XHJcbiAgPyBTZXQ8VD5cclxuICA6IFNldDxUPiA9PlxyXG4gIHNvdXJjZSA9PSBudWxsXHJcbiAgICA/IHNvdXJjZVxyXG4gICAgOiBzb3VyY2UgaW5zdGFuY2VvZiBTZXRcclxuICAgID8gc291cmNlXHJcbiAgICA6IChuZXcgU2V0KFxyXG4gICAgICAgIHNvdXJjZVtzeW1ib2xJdGVyYXRvcl0gJiYgdHlwZW9mIHNvdXJjZSAhPT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgPyBzb3VyY2VcclxuICAgICAgICAgIDogKFtzb3VyY2VdIGFzIGFueSlcclxuICAgICAgKSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGl0ZXJhYmxlMiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogVCBleHRlbmRzIHVuZGVmaW5lZCA/IFtdIDogVCBleHRlbmRzIEl0ZXJhYmxlPGFueT4gPyBUIDogW1RdID0+XHJcbiAgc291cmNlID09PSB2b2lkIDBcclxuICAgID8gW11cclxuICAgIDogc291cmNlPy5bc3ltYm9sSXRlcmF0b3JdICYmIHR5cGVvZiBzb3VyY2UgIT09IFwic3RyaW5nXCJcclxuICAgID8gc291cmNlXHJcbiAgICA6IChbc291cmNlXSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFycmF5MiA9IDxUPihcclxuICBzb3VyY2U6IFRcclxuKTogdW5rbm93biBleHRlbmRzIFRcclxuICA/IGFueVtdXHJcbiAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gID8gVFxyXG4gIDogVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdXHJcbiAgPyBUXHJcbiAgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgSXRlbT5cclxuICA/IEl0ZW1bXVxyXG4gIDogW1RdID0+XHJcbiAgc291cmNlID09IG51bGxcclxuICAgID8gc291cmNlXHJcbiAgICA6IGlzQXJyYXkoc291cmNlKVxyXG4gICAgPyBzb3VyY2VcclxuICAgIDogc291cmNlW3N5bWJvbEl0ZXJhdG9yXSAmJiB0eXBlb2Ygc291cmNlICE9PSBcInN0cmluZ1wiXHJcbiAgICA/IFsuLi4oc291cmNlIGFzIGFueSldXHJcbiAgICA6IChbc291cmNlXSBhcyBhbnkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNvbWUyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIHByZWRpY2F0ZT86IEl0ZXJhdGlvbkZpbHRlckNhbGxiYWNrMjxTb3VyY2U+XHJcbiAgKTogYm9vbGVhbjtcclxufSA9IChzb3VyY2UsIHByZWRpY2F0ZSkgPT5cclxuICBmb3JFYWNoMihzb3VyY2UsIChpdGVtLCBpbmRleCwgcHJldikgPT5cclxuICAgIChwcmVkaWNhdGUgPyBwcmVkaWNhdGUoaXRlbSwgaW5kZXgsIHByZXYsIHNvdXJjZSkgOiBpdGVtKVxyXG4gICAgICA/IChzdG9wSW52b2tlZCA9IHRydWUpXHJcbiAgICAgIDogaXRlbVxyXG4gICkgPT09IHRydWU7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsMjoge1xyXG4gIDxTb3VyY2UgZXh0ZW5kcyBJdGVyYXRpb25Tb3VyY2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcmVkaWNhdGU/OiBJdGVyYXRpb25GaWx0ZXJDYWxsYmFjazI8U291cmNlPlxyXG4gICk6IGJvb2xlYW47XHJcbn0gPSAoc291cmNlLCBwcmVkaWNhdGUpID0+XHJcbiAgZm9yRWFjaDIoc291cmNlLCAoaXRlbSwgaW5kZXgsIHByZXYpID0+XHJcbiAgICAhKHByZWRpY2F0ZSA/IHByZWRpY2F0ZShpdGVtLCBpbmRleCwgcHJldiwgc291cmNlKSA6IGl0ZW0pXHJcbiAgICAgID8gIShzdG9wSW52b2tlZCA9IHRydWUpXHJcbiAgICAgIDogaXRlbVxyXG4gICkgIT09IGZhbHNlO1xyXG5cclxudHlwZSBDb25jYXRSZXN1bHQ8VCBleHRlbmRzIHJlYWRvbmx5IGFueVtdPiA9IFtOdWxsaXNoIHwgVFtudW1iZXJdXSBleHRlbmRzIFtcclxuICBOdWxsaXNoXHJcbl1cclxuICA/IHVuZGVmaW5lZFxyXG4gIDoge1xyXG4gICAgICBbUCBpbiBrZXlvZiBUXTogVFtQXSBleHRlbmRzIGluZmVyIFRcclxuICAgICAgICA/IHVua25vd24gZXh0ZW5kcyBUXHJcbiAgICAgICAgICA/IGFueVxyXG4gICAgICAgICAgOiBUIGV4dGVuZHMgSXRlcmFibGU8aW5mZXIgVD5cclxuICAgICAgICAgID8gVFxyXG4gICAgICAgICAgOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgICAgICAgPyBuZXZlclxyXG4gICAgICAgICAgOiBUXHJcbiAgICAgICAgOiBuZXZlcjtcclxuICAgIH1bbnVtYmVyXVtdO1xyXG5leHBvcnQgY29uc3QgY29uY2F0Mjoge1xyXG4gIDxUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10+KGFyZ3M6IFQpOiBDb25jYXRSZXN1bHQ8VD47XHJcbiAgPFQgZXh0ZW5kcyByZWFkb25seSBhbnlbXT4oLi4uYXJnczogVCk6IENvbmNhdFJlc3VsdDxUPjtcclxufSA9IChhcmcwOiBhbnksIC4uLm90aGVyOiBhbnlbXSkgPT4ge1xyXG4gIGlmIChvdGhlci5sZW5ndGggfHwgIWlzSXRlcmFibGUoYXJnMCkpIHtcclxuICAgIGFyZzAgPSBbYXJnMCwgLi4ub3RoZXJdO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogYW55W10gfCB1bmRlZmluZWQ7XHJcbiAgZm9yIChjb25zdCBhcmcgb2YgYXJnMCkge1xyXG4gICAgaWYgKGFyZyA9PSBudWxsKSBjb250aW51ZTtcclxuICAgIGlmIChpc0l0ZXJhYmxlKGFyZykpIHtcclxuICAgICAgKHJlc3VsdCA/Pz0gW10pLnB1c2goLi4uYXJnKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICAocmVzdWx0ID8/PSBbXSkucHVzaChhcmcpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0IGFzIGFueTtcclxufTtcclxuXHJcbmNvbnN0IHNvcnRDb21wYXJlID0gKHg6IFNvcnRhYmxlLCB5OiBTb3J0YWJsZSwgZGVzY2VuZGluZzogYm9vbGVhbikgPT5cclxuICAoZGVzY2VuZGluZyA/IC0xIDogMSkgKlxyXG4gICh4ID09PSB5XHJcbiAgICA/IDBcclxuICAgIDogdHlwZW9mIHggPT09IFwic3RyaW5nXCJcclxuICAgID8gdHlwZW9mIHkgPT09IFwic3RyaW5nXCJcclxuICAgICAgPyB4LmxvY2FsZUNvbXBhcmUoeSlcclxuICAgICAgOiAxXHJcbiAgICA6IHR5cGVvZiB5ID09PSBcInN0cmluZ1wiXHJcbiAgICA/IC0xXHJcbiAgICA6IHggPT0gbnVsbFxyXG4gICAgPyB5ID09IG51bGxcclxuICAgICAgPyAwXHJcbiAgICAgIDogLTFcclxuICAgIDogeSA9PSBudWxsXHJcbiAgICA/IDFcclxuICAgIDogKHggYXMgYW55KSAtICh5IGFzIGFueSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNvcnQyOiB7XHJcbiAgPFQgZXh0ZW5kcyBTb3J0YWJsZSwgU291cmNlPihcclxuICAgIGl0ZW1zOiBTb3VyY2UgJiAoSXRlcmFibGU8VD4gfCBOdWxsaXNoKSxcclxuICAgIGRlc2NlbmRpbmc/OiBib29sZWFuXHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFQgOiBJdGVyYXRvckl0ZW0yPFQ+W107XHJcblxyXG4gIDxULCBTb3VyY2U+KFxyXG4gICAgaXRlbXM6IFNvdXJjZSAmIChJdGVyYWJsZTxUPiB8IHVuZGVmaW5lZCksXHJcbiAgICBzZWxlY3RvcjogTWF5YmVBcnJheTwoaXRlbTogVCkgPT4gU29ydGFibGU+LFxyXG4gICAgZGVzY2VuZGluZz86IGJvb2xlYW5cclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoID8gVCA6IFRbXTtcclxufSA9IChpdGVtczogYW55LCBzZWxlY3RvcjogYW55LCBkZXNjZW5kaW5nPzogYW55KSA9PlxyXG4gIChhcnJheTIoaXRlbXMpIGFzIGFueVtdKS5zb3J0KFxyXG4gICAgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgPyAoeCwgeSkgPT4gc29ydENvbXBhcmUoc2VsZWN0b3IoeCksIHNlbGVjdG9yKHkpLCBkZXNjZW5kaW5nKVxyXG4gICAgICA6IGlzQXJyYXkoc2VsZWN0b3IpXHJcbiAgICAgID8gc2VsZWN0b3IubGVuZ3RoXHJcbiAgICAgICAgPyAoeCwgeSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYyA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0b3IubGVuZ3RoICYmICFjOyBpKyspIHtcclxuICAgICAgICAgICAgICBjID0gc29ydENvbXBhcmUoc2VsZWN0b3JbaV0oeCksIHNlbGVjdG9yW2ldKHkpLCBkZXNjZW5kaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYztcclxuICAgICAgICAgIH1cclxuICAgICAgICA6ICh4LCB5KSA9PiBzb3J0Q29tcGFyZSh4LCB5LCBkZXNjZW5kaW5nKVxyXG4gICAgICA6ICh4LCB5KSA9PiBzb3J0Q29tcGFyZSh4LCB5LCBzZWxlY3RvcilcclxuICApO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvcG9Tb3J0MiA9IDxTb3VyY2UsIFQ+KFxyXG4gIGl0ZW1zOiAoSXRlcmFibGU8VD4gfCBOdWxsaXNoKSAmIFNvdXJjZSxcclxuICBkZXBlbmRlbmNpZXM6IChpdGVtOiBUKSA9PiBJdGVyYWJsZTxUPiB8IE51bGxpc2gsXHJcbiAgZm9ybWF0PzogU2VsZWN0b3I8VD5cclxuKTogTWF5YmVOdWxsaXNoPFRbXSwgU291cmNlPiA9PiB7XHJcbiAgaWYgKGl0ZW1zID09IG51bGwpIHJldHVybiBpdGVtcyBhcyBhbnk7XHJcblxyXG4gIHR5cGUgSW5mbyA9IFtpdGVtOiBULCBkZXBlbmRlbnRzOiBJbmZvW10sIGJsb2NraW5nRWRnZXM6IFNldDxUPl07XHJcblxyXG4gIGxldCBjbGVhcjogSW5mb1tdID0gW107XHJcbiAgbGV0IG1hcHBlZDogVFtdID0gW107XHJcblxyXG4gIGNvbnN0IGVkZ2VzID0gbmV3IE1hcDxULCBJbmZvPihcclxuICAgIG1hcDIoaXRlbXMsIChpdGVtKSA9PiBbaXRlbSwgW2l0ZW0sIFtdLCBudWxsIV1dKVxyXG4gICk7XHJcbiAgZm9yIChjb25zdCBbaXRlbSwgaW5mb10gb2YgZWRnZXMpIHtcclxuICAgIGZvciAoY29uc3QgZGVwZW5kZW5jeSBvZiBkZXBlbmRlbmNpZXMoaXRlbSkgPz8gW10pIHtcclxuICAgICAgLy8gSWdub3JlIGRlcGVuZGVuY2llcyBub3QgcHJlc2VudC5cclxuICAgICAgZWRnZXMuZ2V0KGRlcGVuZGVuY3kpPy5bMV0ucHVzaChpbmZvKSAmJlxyXG4gICAgICAgIChpbmZvWzJdID8/PSBuZXcgU2V0KCkpLmFkZChkZXBlbmRlbmN5KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mb1syXSkge1xyXG4gICAgICBjbGVhci5wdXNoKGluZm8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBbaXRlbSwgZGVwZW5kZW50c10gb2YgY2xlYXIpIHtcclxuICAgIG1hcHBlZC5wdXNoKGl0ZW0pO1xyXG4gICAgZm9yIChjb25zdCBkZXBlbmRlbnQgb2YgZGVwZW5kZW50cykge1xyXG4gICAgICBkZXBlbmRlbnRbMl0uZGVsZXRlKGl0ZW0pO1xyXG4gICAgICBpZiAoIWRlcGVuZGVudFsyXS5zaXplKSB7XHJcbiAgICAgICAgY2xlYXIucHVzaChkZXBlbmRlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFwcGVkLmxlbmd0aCA9PT0gZWRnZXMuc2l6ZVxyXG4gICAgPyAobWFwcGVkIGFzIGFueSlcclxuICAgIDogdGhyb3dFcnJvcihcclxuICAgICAgICBgQ3ljbGljIGRlcGVuZGVuY2llczogJHtpdGVtaXplMihcclxuICAgICAgICAgIG1hcDIoZWRnZXMsIChbLCBpbmZvXSkgPT5cclxuICAgICAgICAgICAgaW5mb1syXT8uc2l6ZVxyXG4gICAgICAgICAgICAgID8gKGZvcm1hdCA9IG5vcm1hbGl6ZVNlbGVjdG9yKGZvcm1hdCkpKGluZm9bMF0pICtcclxuICAgICAgICAgICAgICAgIFwiIGRlcGVuZHMgb24gXCIgK1xyXG4gICAgICAgICAgICAgICAgaXRlbWl6ZTIoaW5mb1syXSwgZm9ybWF0KVxyXG4gICAgICAgICAgICAgIDogc2tpcDJcclxuICAgICAgICAgIClcclxuICAgICAgICApfS5gXHJcbiAgICAgICk7XHJcbn07XHJcblxyXG5jb25zdCBub3JtYWxpemVTZWxlY3RvciA9IChzZWxlY3RvcjogU2VsZWN0b3IsIHJlcXVpcmUgPSBmYWxzZSkgPT5cclxuICB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgPyBzZWxlY3RvclxyXG4gICAgOiBzZWxlY3RvciAhPSBudWxsXHJcbiAgICA/IChpdGVtOiBhbnkpID0+XHJcbiAgICAgICAgKGl0ZW0gPSBpdGVtW3NlbGVjdG9yXSkgPT09IHVuZGVmaW5lZCAmJiByZXF1aXJlID8gc2tpcDIgOiBpdGVtXHJcbiAgICA6IChpdGVtOiBhbnkpID0+IGl0ZW07XHJcblxyXG50eXBlIFJlZHVjZUZ1bmN0aW9uPERlZmF1bHQgPSB1bmRlZmluZWQsIEJ5ID0gZmFsc2U+ID0ge1xyXG4gIDxTb3VyY2U+KFxyXG4gICAgc291cmNlOiBTb3VyY2UgJiBJdGVyYWJsZTxudW1iZXIgfCB1bmRlZmluZWQ+XHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFNvdXJjZSA6IG51bWJlciB8IERlZmF1bHQ7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkIGV4dGVuZHMgbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gICAgU2lnbmFsIGV4dGVuZHMgdHlwZW9mIHNraXAyIHwgdHlwZW9mIHN0b3AyIHwgbmV2ZXIsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCA9IGFueSxcclxuICAgIEl0ZW0gZXh0ZW5kcyBib29sZWFuID0gZmFsc2VcclxuICA+KFxyXG4gICAgLi4uYXJnczogW1xyXG4gICAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgICAgcHJvamVjdGlvbjogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgICAgLi4uKHRydWUgZXh0ZW5kcyBCeSA/IFtyZXR1cm5JdGVtPzogSXRlbV0gOiBbXSlcclxuICAgIF1cclxuICApOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoXHJcbiAgICA/IFNvdXJjZVxyXG4gICAgOiBJdGVtIGV4dGVuZHMgdHJ1ZVxyXG4gICAgPyBJdGVyYXRvckl0ZW0yPFNvdXJjZT5cclxuICAgIDogbnVtYmVyIHwgRGVmYXVsdDtcclxufTtcclxuXHJcbmNvbnN0IHJlZHVjZTIgPSAoXHJcbiAgc291cmNlOiBhbnksXHJcbiAgcHJvamVjdGlvbjogYW55LFxyXG4gIHJlZHVjZTogKGN1cnJlbnQ6IG51bWJlciB8IHVuZGVmaW5lZCwgdmFsdWU6IG51bWJlcikgPT4gbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gIHJldHVybkl0ZW0gPSBmYWxzZVxyXG4pID0+IHtcclxuICBsZXQgdmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICBsZXQgcmVzdWx0OiBhbnk7XHJcbiAgZm9yRWFjaDIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICByZXR1cm5JdGVtXHJcbiAgICAgID8gKGl0ZW0sIGluZGV4LCBwcmV2OiBhbnkpID0+XHJcbiAgICAgICAgICAodmFsdWUgPSBwcm9qZWN0aW9uID8gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgcHJldikgOiBpdGVtKSAhPT1cclxuICAgICAgICAgICAgdW5kZWZpbmVkICYmIHByZXYgIT09IChwcmV2ID0gcmVkdWNlKHByZXYsIHZhbHVlKSlcclxuICAgICAgICAgICAgPyAoKHJlc3VsdCA9IGl0ZW0pLCBwcmV2KVxyXG4gICAgICAgICAgICA6IHByZXZcclxuICAgICAgOiAoaXRlbSwgaW5kZXgsIHByZXY6IGFueSkgPT5cclxuICAgICAgICAgICh2YWx1ZSA9IHByb2plY3Rpb24gPyBwcm9qZWN0aW9uKGl0ZW0sIGluZGV4LCBwcmV2KSA6IGl0ZW0pICE9PVxyXG4gICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gKHJlc3VsdCA9IHJlZHVjZShwcmV2LCB2YWx1ZSkpXHJcbiAgICAgICAgICAgIDogcHJldlxyXG4gICk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtaW4yOiBSZWR1Y2VGdW5jdGlvbjx1bmRlZmluZWQsIHRydWU+ID0gKFxyXG4gIHNvdXJjZTogYW55LFxyXG4gIHByb2plY3Rpb24/OiBhbnksXHJcbiAgYnk/OiBib29sZWFuXHJcbikgPT5cclxuICByZWR1Y2UyKFxyXG4gICAgc291cmNlLFxyXG4gICAgcHJvamVjdGlvbixcclxuICAgIChwcmV2LCB4KSA9PiAocHJldiA9PSBudWxsIHx8IHggPCBwcmV2ID8geCA6IHByZXYpLFxyXG4gICAgYnlcclxuICApO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1heDI6IFJlZHVjZUZ1bmN0aW9uPHVuZGVmaW5lZCwgdHJ1ZT4gPSAoXHJcbiAgc291cmNlOiBhbnksXHJcbiAgcHJvamVjdGlvbj86IGFueSxcclxuICBieT86IGJvb2xlYW5cclxuKSA9PlxyXG4gIHJlZHVjZTIoXHJcbiAgICBzb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uLFxyXG4gICAgKHByZXYsIHgpID0+IChwcmV2ID09IG51bGwgfHwgeCA+IHByZXYgPyB4IDogcHJldiksXHJcbiAgICBieVxyXG4gICk7XHJcblxyXG5leHBvcnQgY29uc3Qgc3VtMjogUmVkdWNlRnVuY3Rpb248bnVtYmVyPiA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSkgPT5cclxuICByZWR1Y2UyKHNvdXJjZSwgcHJvamVjdGlvbiwgKHByZXYgPSAwLCB4KSA9PiB7XHJcbiAgICByZXR1cm4gcHJldiArIHg7XHJcbiAgfSkgfHwgMDtcclxuXHJcbmV4cG9ydCBjb25zdCBhdmcyOiBSZWR1Y2VGdW5jdGlvbjxudW1iZXI+ID0gKHNvdXJjZTogYW55LCBwcm9qZWN0aW9uPzogYW55KSA9PiB7XHJcbiAgbGV0IG4gPSAwO1xyXG4gIGxldCBzdW0gPSByZWR1Y2UyKHNvdXJjZSwgcHJvamVjdGlvbiwgKHByZXYgPSAwLCB4KSA9PiAobisrLCBwcmV2ICsgeCkpO1xyXG4gIHJldHVybiBuID8gc3VtIC8gbiA6IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhc0tleXMyID0gKG9iajogYW55KSA9PiAhIWtleUNvdW50MihvYmosIHRydWUpO1xyXG5leHBvcnQgY29uc3Qga2V5Q291bnQyID0gKG9iajogYW55LCBzb21lID0gZmFsc2UpID0+IHtcclxuICBpZiAoIW9iaikgcmV0dXJuIDA7XHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICBmb3IgKGNvbnN0IF8gaW4gb2JqKSB7XHJcbiAgICBpZiAoKytjb3VudCAmJiBzb21lKSB7XHJcbiAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gY291bnQ7XHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgQXNzaWduU291cmNlLFxyXG4gIEZhbHNpc2gsXHJcbiAgZm9yRWFjaDIsXHJcbiAgaXNBcnJheSxcclxuICBpdGVyYWJsZTIsXHJcbiAgSXRlcmF0aW9uUHJvamVjdGlvbixcclxuICBJdGVyYXRpb25Qcm9qZWN0aW9uMixcclxuICBJdGVyYXRpb25Tb3VyY2UsXHJcbiAgTWF5YmVOdWxsaXNoLFxyXG4gIE1heWJlUHJvbWlzZUxpa2UsXHJcbiAgTnVsbGlzaCxcclxuICBPYmplY3RTb3VyY2UsXHJcbiAgUHJvbWlzZUlmUHJvbWlzZUxpa2UsXHJcbiAgU2ltcGxlT2JqZWN0LFxyXG4gIHNraXAyLFxyXG4gIHN0b3AyLFxyXG59IGZyb20gXCIuLlwiO1xyXG5pbXBvcnQge1xyXG4gIEVuY291cmFnZVR1cGxlcyxcclxuICBmaW5kRGVjbGFyaW5nU2NvcGUsXHJcbiAgSW5wdXRWYWx1ZVR5cGVPZixcclxuICBLZXlUeXBlT2YsXHJcbiAgS2V5VmFsdWVUeXBlLFxyXG4gIE1lcmdlT2JqZWN0U291cmNlcyxcclxuICBPYmplY3RGcm9tRW50cmllcyxcclxuICBPYmplY3RTb3VyY2VUb09iamVjdCxcclxuICBSZWNvcmRLZXlPZixcclxuICBWYWx1ZVR5cGVPZixcclxufSBmcm9tIFwiLi9faW50ZXJuYWxcIjtcclxuXHJcbmNvbnN0IHNldFN5bWJvbCA9IFN5bWJvbCgpO1xyXG5jb25zdCBnZXRTeW1ib2wgPSBTeW1ib2woKTtcclxuY29uc3QgcHVzaFN5bWJvbCA9IFN5bWJvbCgpO1xyXG5cclxubGV0IGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyA9IDxSPihcclxuICB0YXJnZXQ6IGFueSxcclxuICBlcnJvcjogYW55LFxyXG4gIHJldHJ5OiAoKSA9PiBSXHJcbik6IFIgPT4ge1xyXG4gIGlmICh0YXJnZXQgPT0gbnVsbCB8fCB0YXJnZXQ/LltnZXRTeW1ib2xdKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbiAgbGV0IHNjb3BlID0gZmluZERlY2xhcmluZ1Njb3BlKHRhcmdldCk7XHJcbiAgaWYgKCFzY29wZSkge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG5cclxuICBpZiAoc2NvcGUuT2JqZWN0LnByb3RvdHlwZVtzZXRTeW1ib2xdKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgZm9yIChjb25zdCB7IHByb3RvdHlwZSB9IG9mIFtzY29wZS5NYXAsIHNjb3BlLldlYWtNYXBdKSB7XHJcbiAgICBwcm90b3R5cGVbc2V0U3ltYm9sXSA9IGZ1bmN0aW9uIChrZXk6IGFueSwgdmFsdWU6IGFueSkge1xyXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZvaWQgMFxyXG4gICAgICAgID8gdGhpcy5kZWxldGUoa2V5KVxyXG4gICAgICAgIDogdGhpcy5nZXQoa2V5KSAhPT0gdmFsdWUgJiYgISF0aGlzLnNldChrZXksIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBwcm90b3R5cGVbZ2V0U3ltYm9sXSA9IHByb3RvdHlwZS5nZXQ7XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IHsgcHJvdG90eXBlIH0gb2YgW3Njb3BlLlNldCwgc2NvcGUuV2Vha1NldF0pIHtcclxuICAgIHByb3RvdHlwZVtzZXRTeW1ib2xdID0gZnVuY3Rpb24gKGtleTogYW55LCB2YWx1ZTogYW55LCBhZGQgPSBmYWxzZSkge1xyXG4gICAgICByZXR1cm4gdmFsdWUgfHwgKGFkZCAmJiB2YWx1ZSA9PT0gdm9pZCAwKVxyXG4gICAgICAgID8gdGhpcy5oYXMoa2V5KVxyXG4gICAgICAgICAgPyBmYWxzZVxyXG4gICAgICAgICAgOiAhIXRoaXMuYWRkKGtleSlcclxuICAgICAgICA6IHRoaXMuZGVsZXRlKGtleSk7XHJcbiAgICB9O1xyXG4gICAgcHJvdG90eXBlW2dldFN5bWJvbF0gPSBwcm90b3R5cGUuaGFzO1xyXG4gICAgcHJvdG90eXBlW3B1c2hTeW1ib2xdID0gZnVuY3Rpb24gKGtleXM6IGFueVtdKSB7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIGtleSAhPT0gdm9pZCAwICYmIHRoaXMuYWRkKGtleSk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICB9XHJcbiAgc2NvcGUuQXJyYXkucHJvdG90eXBlW3B1c2hTeW1ib2xdID0gZnVuY3Rpb24gKHZhbHVlczogYW55W10pIHtcclxuICAgIHRoaXMucHVzaCguLi52YWx1ZXMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgZm9yIChjb25zdCB7IHByb3RvdHlwZSB9IG9mIFtzY29wZS5PYmplY3QsIHNjb3BlLkFycmF5XSkge1xyXG4gICAgcHJvdG90eXBlW3NldFN5bWJvbF0gPSBmdW5jdGlvbiAoa2V5OiBhbnksIHZhbHVlOiBhbnkpIHtcclxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAodGhpc1trZXldID0gdmFsdWUpICE9PSB2YWx1ZTtcclxuICAgIH07XHJcbiAgICBwcm90b3R5cGVbZ2V0U3ltYm9sXSA9IGZ1bmN0aW9uIChrZXk6IGFueSkge1xyXG4gICAgICByZXR1cm4gdGhpc1trZXldO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXRyeSgpO1xyXG59O1xyXG5cclxudHlwZSBHZXRSZXN1bHQ8U291cmNlLCBLLCBEZWZhdWx0PiA9IHVua25vd24gZXh0ZW5kcyBEZWZhdWx0XHJcbiAgPyBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+XHJcbiAgOiB1bmRlZmluZWQgZXh0ZW5kcyBEZWZhdWx0XHJcbiAgPyBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+XHJcbiAgOiBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge307XHJcblxyXG5leHBvcnQgbGV0IGdldDI6IHtcclxuICA8XHJcbiAgICBTb3VyY2UsXHJcbiAgICBLIGV4dGVuZHMgS2V5VHlwZU9mPFNvdXJjZT4sXHJcbiAgICBJbml0aWFsaXplRGVmYXVsdCBleHRlbmRzICgpID0+IE1heWJlUHJvbWlzZUxpa2U8XHJcbiAgICAgIElucHV0VmFsdWVUeXBlT2Y8U291cmNlLCBLPlxyXG4gICAgPlxyXG4gID4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZSxcclxuICAgIGtleTogSyxcclxuICAgIGluaXRpYWxpemU6IEluaXRpYWxpemVEZWZhdWx0XHJcbiAgKTogdW5rbm93biBleHRlbmRzIEluaXRpYWxpemVEZWZhdWx0XHJcbiAgICA/IFZhbHVlVHlwZU9mPFNvdXJjZSwgSz4gLy8gQXNzdW1lIGBhbnlgIGlzIG5vdCBhbiBhc3luYyBmdW5jdGlvbi5cclxuICAgIDogSW5pdGlhbGl6ZURlZmF1bHQgZXh0ZW5kcyAoKSA9PiBpbmZlciBEZWZhdWx0XHJcbiAgICA/IERlZmF1bHQgZXh0ZW5kcyBQcm9taXNlTGlrZTxpbmZlciBEZWZhdWx0PlxyXG4gICAgICA/IFByb21pc2U8R2V0UmVzdWx0PFNvdXJjZSwgSywgRGVmYXVsdD4+XHJcbiAgICAgIDogR2V0UmVzdWx0PFNvdXJjZSwgSywgRGVmYXVsdD5cclxuICAgIDogbmV2ZXI7XHJcbiAgPFNvdXJjZSwgSyBleHRlbmRzIEtleVR5cGVPZjxTb3VyY2U+PihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAga2V5OiBLLFxyXG4gICAgaW5pdGlhbGl6ZTogSW5wdXRWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge31cclxuICApOiBWYWx1ZVR5cGVPZjxTb3VyY2UsIEs+ICYge307XHJcbiAgPFNvdXJjZSwgSyBleHRlbmRzIEtleVR5cGVPZjxTb3VyY2U+PihcclxuICAgIHNvdXJjZTogU291cmNlLFxyXG4gICAga2V5OiBLLFxyXG4gICAgaW5pdGlhbGl6ZT86IElucHV0VmFsdWVUeXBlT2Y8U291cmNlLCBLPlxyXG4gICk6IFZhbHVlVHlwZU9mPFNvdXJjZSwgSz47XHJcbn0gPSAoc291cmNlOiBhbnksIGtleT86IGFueSwgaW5pdGlhbGl6ZT86IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiBzb3VyY2U7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gc291cmNlW2dldFN5bWJvbF0oa2V5KTtcclxuICAgIGlmIChcclxuICAgICAgdmFsdWUgPT09IHZvaWQgMCAmJlxyXG4gICAgICAodmFsdWUgPSB0eXBlb2YgaW5pdGlhbGl6ZSA9PT0gXCJmdW5jdGlvblwiID8gaW5pdGlhbGl6ZSgpIDogaW5pdGlhbGl6ZSkgIT09XHJcbiAgICAgICAgdm9pZCAwXHJcbiAgICApIHtcclxuICAgICAgaWYgKHZhbHVlPy50aGVuKVxyXG4gICAgICAgIHJldHVybiB2YWx1ZS50aGVuKCh2YWx1ZTogYW55KSA9PlxyXG4gICAgICAgICAgdmFsdWUgPT09IHZvaWQgMCA/IHZhbHVlIDogc291cmNlW3NldFN5bWJvbF0oa2V5LCB2YWx1ZSlcclxuICAgICAgICApO1xyXG4gICAgICBzb3VyY2Vbc2V0U3ltYm9sXShrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gZW5zdXJlQXNzaWduSW1wbGVtZW50YXRpb25zKHNvdXJjZSwgZSwgKCkgPT5cclxuICAgICAgZ2V0Mihzb3VyY2UsIGtleSwgaW5pdGlhbGl6ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBhZGQyOiB7XHJcbiAgPFRhcmdldCwgSyBleHRlbmRzIEtleVR5cGVPZjxUYXJnZXQ+PihcclxuICAgIHRhcmdldDogKFNldDxLPiB8IFdlYWtTZXQ8SyAmIHt9PikgJiBUYXJnZXQsXHJcbiAgICBrZXk6IEssXHJcbiAgICB2YWx1ZT86IElucHV0VmFsdWVUeXBlT2Y8VGFyZ2V0PlxyXG4gICk6IE1heWJlTnVsbGlzaDxib29sZWFuLCBUYXJnZXQ+O1xyXG4gIDxUYXJnZXQsIEsgZXh0ZW5kcyBLZXlUeXBlT2Y8VGFyZ2V0Pj4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogSyxcclxuICAgIHZhbHVlOiBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICApOiBNYXliZU51bGxpc2g8Ym9vbGVhbiwgVGFyZ2V0PjtcclxufSA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlPzogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiB0YXJnZXQ/LltzZXRTeW1ib2xdKGtleSwgdmFsdWUsIHRydWUpID09PSB0cnVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnModGFyZ2V0LCBlLCAoKSA9PlxyXG4gICAgICBhZGQyKHRhcmdldCwga2V5LCB2YWx1ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBzZXQyOiB7XHJcbiAgPFxyXG4gICAgVGFyZ2V0LFxyXG4gICAgSyBleHRlbmRzIEtleVR5cGVPZjxUYXJnZXQ+LFxyXG4gICAgVmFsdWUgZXh0ZW5kcyBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICA+KFxyXG4gICAgdGFyZ2V0OiBUYXJnZXQsXHJcbiAgICBrZXk6IEssXHJcbiAgICB2YWx1ZTogVmFsdWVcclxuICApOiBNYXliZU51bGxpc2g8VmFsdWUsIFRhcmdldD47XHJcbn0gPSAodGFyZ2V0OiBhbnksIGtleTogYW55LCB2YWx1ZTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHRhcmdldFtzZXRTeW1ib2xdKGtleSwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnModGFyZ2V0LCBlLCAoKSA9PlxyXG4gICAgICBzZXQyKHRhcmdldCwga2V5LCB2YWx1ZSlcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGxldCBleGNoYW5nZTI6IHtcclxuICA8XHJcbiAgICBUYXJnZXQsXHJcbiAgICBLIGV4dGVuZHMgS2V5VHlwZU9mPFRhcmdldD4sXHJcbiAgICBWYWx1ZSBleHRlbmRzIElucHV0VmFsdWVUeXBlT2Y8VGFyZ2V0LCBLPlxyXG4gID4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogSyxcclxuICAgIHZhbHVlOiBWYWx1ZVxyXG4gICk6IE1heWJlTnVsbGlzaDxWYWx1ZSwgVGFyZ2V0PjtcclxufSA9ICh0YXJnZXQ6IGFueSwga2V5OiBhbnksIHZhbHVlOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJldmlvdXMgPSB0YXJnZXRbZ2V0U3ltYm9sXShrZXkpO1xyXG4gICAgdGFyZ2V0W3NldFN5bWJvbF0oa2V5LCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gcHJldmlvdXM7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyh0YXJnZXQsIGUsICgpID0+XHJcbiAgICAgIGV4Y2hhbmdlMih0YXJnZXQsIGtleSwgdmFsdWUpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGUyOiB7XHJcbiAgPFRhcmdldCwgSywgVmFsdWUgZXh0ZW5kcyBJbnB1dFZhbHVlVHlwZU9mPFRhcmdldCwgSz4sIFVwZGF0ZVJlc3VsdD4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIGtleTogS2V5VHlwZU9mPFRhcmdldD4gJiBLLFxyXG4gICAgdXBkYXRlOiAoXHJcbiAgICAgIGN1cnJlbnQ6IFZhbHVlVHlwZU9mPFRhcmdldCwgSz5cclxuICAgICkgPT4gVXBkYXRlUmVzdWx0ICYgTWF5YmVQcm9taXNlTGlrZTxFbmNvdXJhZ2VUdXBsZXM8VmFsdWUgfCB1bmRlZmluZWQ+PlxyXG4gICk6IFByb21pc2VJZlByb21pc2VMaWtlPFxyXG4gICAgTWF5YmVOdWxsaXNoPFZhbHVlVHlwZU9mPFRhcmdldCwgSz4sIFRhcmdldD4sXHJcbiAgICBVcGRhdGVSZXN1bHRcclxuICA+O1xyXG59ID0gKHRhcmdldDogYW55LCBrZXk6IGFueSwgdXBkYXRlOiBhbnkpID0+IHtcclxuICBsZXQgdXBkYXRlZCA9IHVwZGF0ZShnZXQyKHRhcmdldCwga2V5KSk7XHJcbiAgcmV0dXJuIHR5cGVvZiB1cGRhdGVkPy50aGVuID09PSBcImZ1bmN0aW9uXCJcclxuICAgID8gdXBkYXRlZC50aGVuKCh2YWx1ZTogYW55KSA9PiBzZXQyKHRhcmdldCwga2V5LCB2YWx1ZSkpXHJcbiAgICA6IHNldDIodGFyZ2V0LCBrZXksIHVwZGF0ZWQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb25lMjoge1xyXG4gIDxUIGV4dGVuZHMgU2ltcGxlT2JqZWN0IHwgcmVhZG9ubHkgYW55W10+KHZhbHVlOiBULCBkZXB0aD86IG51bWJlcik6IFQ7XHJcbn0gPSAodGVtcGxhdGUsIGRlcHRoID0gLTEpID0+IHtcclxuICBjb25zdCBjdG9yID0gdGVtcGxhdGU/LmNvbnN0cnVjdG9yO1xyXG4gIGlmIChjdG9yID09PSBPYmplY3QgfHwgY3RvciA9PT0gQXJyYXkpIHtcclxuICAgIGNvbnN0IGNsb25lOiBhbnkgPSBjdG9yKCk7XHJcbiAgICBmb3IgKGNvbnN0IHAgaW4gdGVtcGxhdGUpIHtcclxuICAgICAgY29uc3QgcHJvcFZhbHVlID0gdGVtcGxhdGVbcF07XHJcbiAgICAgIGNsb25lW3BdID1cclxuICAgICAgICBkZXB0aCAmJiAocHJvcFZhbHVlPy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IGlzQXJyYXkocHJvcFZhbHVlKSlcclxuICAgICAgICAgID8gY2xvbmUyKHByb3BWYWx1ZSwgZGVwdGggLSAxKVxyXG4gICAgICAgICAgOiBwcm9wVmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG4gIHJldHVybiB0ZW1wbGF0ZTtcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgcHVzaDI6IHtcclxuICA8VGFyZ2V0LCBJdGVtPihcclxuICAgIHRhcmdldDogVGFyZ2V0ICYgKHJlYWRvbmx5IEl0ZW1bXSB8IE51bGxpc2gpLFxyXG4gICAgLi4udmFsdWVzOiAoSXRlbSB8IHVuZGVmaW5lZClbXVxyXG4gICk6IFRhcmdldDtcclxuICA8VGFyZ2V0LCBLPihcclxuICAgIHRhcmdldDogVGFyZ2V0ICYgKFNldDxLPiB8IFdlYWtTZXQ8SyAmIHt9PiksXHJcbiAgICAuLi52YWx1ZXM6IChLIHwgdW5kZWZpbmVkKVtdXHJcbiAgKTtcclxufSA9ICh0YXJnZXQ6IGFueSwgLi4uaXRlbXM6IGFueVtdKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiB0YXJnZXQgPT0gbnVsbCA/IHRhcmdldCA6IHRhcmdldFtwdXNoU3ltYm9sXShpdGVtcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVuc3VyZUFzc2lnbkltcGxlbWVudGF0aW9ucyh0YXJnZXQsIGUsICgpID0+XHJcbiAgICAgIHB1c2gyKHRhcmdldCwgLi4uaXRlbXMpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvYmoyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIE9iamVjdFNvdXJjZTxLLCBWPiwgSyBleHRlbmRzIGtleW9mIGFueSwgVj4oXHJcbiAgICBzb3VyY2U6IFNvdXJjZVxyXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2ggPyBTb3VyY2UgOiBPYmplY3RTb3VyY2VUb09iamVjdDxTb3VyY2U+O1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCBleHRlbmRzIEtleVZhbHVlVHlwZTxLLCBWPiB8IE51bGxpc2gsXHJcbiAgICBBY2N1bXVsYXRvciBleHRlbmRzIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyLFxyXG4gICAgSyBleHRlbmRzIGtleW9mIGFueSxcclxuICAgIFZcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uOiBJdGVyYXRpb25Qcm9qZWN0aW9uMjxTb3VyY2UsIEFjY3VtdWxhdG9yLCBQcm9qZWN0ZWQgfCBTaWduYWw+XHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgPyBTb3VyY2VcclxuICAgIDogT2JqZWN0RnJvbUVudHJpZXM8SXRlcmF0aW9uUHJvamVjdGlvbjxQcm9qZWN0ZWQ+PjtcclxufSA9IChzb3VyY2U6IGFueSwgcHJvamVjdGlvbj86IGFueSkgPT4ge1xyXG4gIGNvbnN0IHRhcmdldCA9IHt9O1xyXG4gIGZvckVhY2gyKFxyXG4gICAgc291cmNlLFxyXG4gICAgcHJvamVjdGlvblxyXG4gICAgICA/IChpdGVtLCBpbmRleCwgc2VlZCkgPT5cclxuICAgICAgICAgIChpdGVtID0gcHJvamVjdGlvbihpdGVtLCBpbmRleCwgc2VlZCkpICYmXHJcbiAgICAgICAgICAodHlwZW9mIGl0ZW0gIT09IFwic3ltYm9sXCIgfHwgKGl0ZW0gIT09IHNraXAyICYmIGl0ZW0gIT09IHN0b3AyKSlcclxuICAgICAgICAgICAgPyAodGFyZ2V0W2l0ZW1bMF1dID0gaXRlbVsxXSlcclxuICAgICAgICAgICAgOiBpdGVtXHJcbiAgICAgIDogKGl0ZW0pID0+XHJcbiAgICAgICAgICBpdGVtICYmXHJcbiAgICAgICAgICAodHlwZW9mIGl0ZW0gIT09IFwic3ltYm9sXCIgfHwgKGl0ZW0gIT09IHNraXAyICYmIGl0ZW0gIT09IHN0b3AyKSlcclxuICAgICAgICAgICAgPyAodGFyZ2V0W2l0ZW1bMF1dID0gaXRlbVsxXSlcclxuICAgICAgICAgICAgOiBpdGVtXHJcbiAgKTtcclxuICByZXR1cm4gdGFyZ2V0O1xyXG59O1xyXG5cclxuZXhwb3J0IGxldCBhc3NpZ24yOiB7XHJcbiAgPFRhcmdldCwgSXRzIGV4dGVuZHMgcmVhZG9ubHkgQXNzaWduU291cmNlPFRhcmdldD5bXT4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIC4uLnNvdXJjZXM6IEl0c1xyXG4gICk6IFRhcmdldDtcclxufSA9ICh0YXJnZXQsIC4uLnNvdXJjZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKHRhcmdldD8uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG4gICAgICBmb3JFYWNoMihzb3VyY2VzLCAoc291cmNlKSA9PlxyXG4gICAgICAgIGZvckVhY2gyKHNvdXJjZSEsIChrdikgPT4ga3YgJiYgKHRhcmdldFtrdlswXV0gPSBrdlsxXSkpXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JFYWNoMihzb3VyY2VzLCAoc291cmNlKSA9PlxyXG4gICAgICAgIGZvckVhY2gyKHNvdXJjZSwgKGt2KSA9PiBrdiAmJiB0YXJnZXRbc2V0U3ltYm9sXShrdlswXSwga3ZbMV0pKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gZW5zdXJlQXNzaWduSW1wbGVtZW50YXRpb25zKHRhcmdldCwgZSwgKCkgPT5cclxuICAgICAgYXNzaWduMih0YXJnZXQsIC4uLnNvdXJjZXMpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVyZ2UyU2V0dGluZ3M8XHJcbiAgRGVlcCBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxyXG4gIE92ZXJ3cml0ZSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxyXG4gIE92ZXJ3cml0ZU51bGxzIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW5cclxuPiB7XHJcbiAgLyoqXHJcbiAgICogTWVyZ2UgbmVzdGVkIG9iamVjdHMgaWYgYm90aCB0aGUgdGFyZ2V0IGFuZCBzb3VyY2UgdmFsdWVzIGFyZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgZGVlcD86IERlZXA7XHJcblxyXG4gIC8qKlxyXG4gICAqIERvbid0IG1lcmdlIHRoZSB2YWx1ZSBmcm9tIHRoZSBvdGhlciBvYmplY3QocykgaWYgdGhlIHRhcmdldCBhbHJlYWR5IGhhcyBhIHZhbHVlLlxyXG4gICAqL1xyXG4gIG92ZXJ3cml0ZT86IE92ZXJ3cml0ZTtcclxuICAvKipcclxuICAgKiBPdmVyd3JpdGUgYG51bGxgIGFzIGlmIGl0IHdhcyBgdW5kZWZpbmVkYCB3aGVuIG1lcmdpbmcgd2l0aCBgb3ZlcndyaXRlOiBmYWxzZWAuXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBudWxscz86IGJvb2xlYW47XHJcbn1cclxuZXhwb3J0IGNvbnN0IG1lcmdlMjoge1xyXG4gIDxcclxuICAgIFRhcmdldCxcclxuICAgIFNvdXJjZSBleHRlbmRzIFNpbXBsZU9iamVjdCB8IEZhbHNpc2ggfCBJdGVyYWJsZTxPYmplY3RTb3VyY2U+LFxyXG4gICAgRGVlcCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgT3ZlcndyaXRlIGV4dGVuZHMgYm9vbGVhbiA9IHRydWUsXHJcbiAgICBPdmVyd3JpdGVOdWxscyBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZVxyXG4gID4oXHJcbiAgICB0YXJnZXQ6IFRhcmdldCxcclxuICAgIHNvdXJjZXM6IEVuY291cmFnZVR1cGxlczxTb3VyY2U+LFxyXG4gICAgb3B0aW9ucz86IE1lcmdlMlNldHRpbmdzPERlZXAsIE92ZXJ3cml0ZSwgT3ZlcndyaXRlTnVsbHM+XHJcbiAgKTogVGFyZ2V0IGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgPyBUYXJnZXRcclxuICAgIDogTWVyZ2VPYmplY3RTb3VyY2VzPFRhcmdldCwgU291cmNlLCBEZWVwLCBPdmVyd3JpdGUsIE92ZXJ3cml0ZU51bGxzPjtcclxufSA9IChcclxuICB0YXJnZXQ6IGFueSxcclxuICBzb3VyY2VzOiBhbnksXHJcbiAgb3B0aW9uczogeyBkZWVwPzogYm9vbGVhbjsgb3ZlcndyaXRlPzogYm9vbGVhbjsgbnVsbHM/OiBib29sZWFuIH0gPSB7fVxyXG4pID0+IHtcclxuICBpZiAodGFyZ2V0ID09IG51bGwpIHtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRlZXAgPSB0cnVlLCBvdmVyd3JpdGUgPSB0cnVlLCBudWxscyA9IGZhbHNlIH0gPSBvcHRpb25zO1xyXG5cclxuICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBpdGVyYWJsZTIoc291cmNlcykpIHtcclxuICAgIGZvckVhY2gyKHNvdXJjZSwgKGt2KSA9PiB7XHJcbiAgICAgIGlmICgha3YpIHJldHVybjtcclxuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0ga3Y7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0YXJnZXRba2V5XTtcclxuICAgICAgaWYgKG51bGxzID8gY3VycmVudCA9PSBudWxsIDogY3VycmVudCA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBkZWVwICYmXHJcbiAgICAgICAgdmFsdWU/LmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiZcclxuICAgICAgICBjdXJyZW50Py5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0XHJcbiAgICAgICkge1xyXG4gICAgICAgIG1lcmdlMihjdXJyZW50LCB2YWx1ZSwgb3B0aW9ucyk7XHJcbiAgICAgIH0gZWxzZSBpZiAob3ZlcndyaXRlKSB7XHJcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcGljazI6IHtcclxuICA8XHJcbiAgICBUIGV4dGVuZHMgb2JqZWN0IHwgTnVsbGlzaCxcclxuICAgIFRLIGV4dGVuZHMga2V5b2YgKFQgJiB7fSksXHJcbiAgICBLIGV4dGVuZHMgUmVjb3JkS2V5T2Y8VD5cclxuICA+KFxyXG4gICAgdGFyZ2V0OiBULFxyXG4gICAgLy8gVGhlIGBLIHwgR2AgdHJpY2sgaXMgYmVjYXVzZSBUeXBlU2NyaXB0IHdpbGwgY29uc2lkZXIgYFtcInByb3AxXCIsIFwicHJvcDJcIl1gIGFzIGBzdHJpbmdbXWBcclxuICAgIC8vICB3aXRob3V0IHRoZSBgSyBleHRlbmRzIGtleW9mIFRgIGNvbnN0cmFpbnQgKGluIHdoaWNoIGNhc2UgaXQgZ2V0cyBpdCByaWdodCBhcyAoXCJwcm9wMVwifFwicHJvcDJcIilbXSkuXHJcbiAgICAvLyBga2V5b2YgVGAgaXMgdG9vIHJlc3RyaWN0aXZlIHNpbmNlIHdlIGFsc28gd2FudCB0byBzdXBwb3J0IGludGVyc2VjdGlvbiB0eXBlcy5cclxuICAgIGtleXM6IEl0ZXJhYmxlPFRLIHwgSz5cclxuICApOiBUIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgPyBUXHJcbiAgICA6IFQgZXh0ZW5kcyBpbmZlciBUXHJcbiAgICA/IChUSyB8IEspICYga2V5b2YgVCBleHRlbmRzIGluZmVyIEsgZXh0ZW5kcyBrZXlvZiBUXHJcbiAgICAgID8ge1xyXG4gICAgICAgICAgW1AgaW4gS106IFRbUF07XHJcbiAgICAgICAgfVxyXG4gICAgICA6IG5ldmVyXHJcbiAgICA6IG5ldmVyO1xyXG59ID0gKHRhcmdldCwga2V5cykgPT5cclxuICB0YXJnZXQgPT0gbnVsbFxyXG4gICAgPyB0YXJnZXRcclxuICAgIDogKG9iajIoa2V5cywgKGtleSkgPT5cclxuICAgICAgICAvLyBUaGUgZmlyc3QgY2hlY2sgaXMgcHJlc3VtYWJseSBmYXN0ZXIgdGhhbiB0aGUgYGluYCBvcGVyYXRvci5cclxuICAgICAgICB0YXJnZXRba2V5IGFzIGFueV0gIT09IHZvaWQgMCB8fCBrZXkgaW4gdGFyZ2V0XHJcbiAgICAgICAgICA/IFtrZXksIHRhcmdldFtrZXkgYXMgYW55XV1cclxuICAgICAgICAgIDogc2tpcDJcclxuICAgICAgKSBhcyBhbnkpO1xyXG4iLCJpbXBvcnQge1xyXG4gIGZpbHRlcjIsXHJcbiAgZm9yRWFjaDIsXHJcbiAgaXNBcnJheSxcclxuICBpc0l0ZXJhYmxlLFxyXG4gIEl0ZXJhdGlvblByb2plY3Rpb24yLFxyXG4gIEl0ZXJhdGlvblNvdXJjZSxcclxuICBtYXAyLFxyXG4gIE51bGxpc2gsXHJcbiAgcmVwbGFjZSxcclxuICBza2lwMixcclxuICBzdG9wMixcclxufSBmcm9tIFwiLi5cIjtcclxuXHJcbmNvbnN0IGlzRW1wdHlTdHJpbmcgPSAoczogYW55KSA9PlxyXG4gIHMgPT0gbnVsbCB8fCB0eXBlb2YgcyA9PT0gXCJib29sZWFuXCIgfHwgcy50b1N0cmluZygpID09PSBcIlwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGpvaW4yOiB7XHJcbiAgLyoqIEpvaW5zIHRoZSBzcGVjaWZpZWQgdmFsdWVzIHdpdGggdGhlIHNwZWNpZmllZCBzZXBhcmF0b3IgKGRlZmF1bHQgXCJcIikuIGBudWxsYCwgYHVuZGVmaW5lZGAsIGVtcHR5IHN0cmluZ3MgYW5kIGJvb2xlYW5zIGFyZSBvbWl0dGVkLiAqL1xyXG4gIDxTb3VyY2U+KHNvdXJjZTogU291cmNlLCBzZXBhcmF0b3I/OiBzdHJpbmcpOiBTb3VyY2UgZXh0ZW5kcyBOdWxsaXNoXHJcbiAgICA/IFNvdXJjZVxyXG4gICAgOiBzdHJpbmc7XHJcbiAgLyoqIEpvaW5zIHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBzcGVjaWZpZWQgdmFsdWVzIHdpdGggdGhlIHNwZWNpZmllZCBzZXBhcmF0b3IgKGRlZmF1bHQgXCJcIikuIGBudWxsYCwgYHVuZGVmaW5lZGAsIGVtcHR5IHN0cmluZ3MgYW5kIGJvb2xlYW5zIGFyZSBvbWl0dGVkLiAqL1xyXG4gIDxcclxuICAgIFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZSxcclxuICAgIFByb2plY3RlZCxcclxuICAgIFNpZ25hbCBleHRlbmRzIHR5cGVvZiBza2lwMiB8IHR5cGVvZiBzdG9wMiB8IG5ldmVyLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQgPSBhbnlcclxuICA+KFxyXG4gICAgc291cmNlOiBTb3VyY2UsXHJcbiAgICBwcm9qZWN0aW9uPzogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgIHNlcGFyYXRvcj86IHN0cmluZ1xyXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2ggPyBTb3VyY2UgOiBzdHJpbmc7XHJcbn0gPSAoc291cmNlOiBhbnksIGFyZzE6IGFueSwgYXJnMj86IGFueSkgPT5cclxuICBzb3VyY2UgPT0gbnVsbFxyXG4gICAgPyBzb3VyY2VcclxuICAgIDogIWlzSXRlcmFibGUoc291cmNlKVxyXG4gICAgPyBpc0VtcHR5U3RyaW5nKHNvdXJjZSlcclxuICAgICAgPyBcIlwiXHJcbiAgICAgIDogc291cmNlLnRvU3RyaW5nKClcclxuICAgIDogZmlsdGVyMihcclxuICAgICAgICB0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICA/IG1hcDIoc291cmNlLCBhcmcxKVxyXG4gICAgICAgICAgOiAoKGFyZzIgPSBhcmcxKSwgc291cmNlKSxcclxuICAgICAgICBpc0VtcHR5U3RyaW5nLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKS5qb2luKGFyZzIgPz8gXCJcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5kZW50MiA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgTnVsbGlzaD4oXHJcbiAgdGV4dDogVCxcclxuICBpbmRlbnQgPSBcIiAgXCJcclxuKTogVCBleHRlbmRzIE51bGxpc2ggPyBUIDogc3RyaW5nID0+IHtcclxuICBpZiAodGV4dCA9PSBudWxsKSByZXR1cm4gdGV4dCBhcyBhbnk7XHJcbiAgbGV0IGkgPSAwO1xyXG4gIGxldCBiYXNlSW5kZW50ID0gMDtcclxuICByZXR1cm4gcmVwbGFjZSh0ZXh0LCAvKCAqKShbXlxcclxcbl0qKShcXHI/XFxuPykvZywgKF8sIGxpbmVJbmRlbnQsIHRleHQsIGJyKSA9PiB7XHJcbiAgICBpZiAoIXRleHQpIHtcclxuICAgICAgcmV0dXJuIGJyO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpKyspIHtcclxuICAgICAgYmFzZUluZGVudCA9IGxpbmVJbmRlbnQubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGAke2luZGVudH0ke1xyXG4gICAgICBsaW5lSW5kZW50Lmxlbmd0aCA+PSBiYXNlSW5kZW50ID8gbGluZUluZGVudC5zbGljZShiYXNlSW5kZW50KSA6IFwiXCJcclxuICAgIH0ke3RleHR9JHticn1gO1xyXG4gIH0pIGFzIGFueTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJpbmdpZnkyOiA8VD4odmFsdWU6IFQpID0+IFQgZXh0ZW5kcyB1bmRlZmluZWQgPyBUIDogc3RyaW5nID1cclxuICBKU09OLnN0cmluZ2lmeTtcclxuXHJcbmV4cG9ydCBjb25zdCBqc29uMiA9IDxWYWx1ZSA9IGFueT4oXHJcbiAgdmFsdWU6IGFueVxyXG4pOiBWYWx1ZSBleHRlbmRzIE51bGxpc2ggfCBcIlwiID8gdW5kZWZpbmVkIDogVmFsdWUgPT5cclxuICB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIlwiXHJcbiAgICA/IHVuZGVmaW5lZFxyXG4gICAgOiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCJcclxuICAgID8gdmFsdWVcclxuICAgIDogSlNPTi5wYXJzZSh2YWx1ZSArIFwiXCIpO1xyXG5cclxuLyoqXHJcbiAqIEl0ZW1pemVzIGFuIGFycmF5IG9mIGl0ZW1zIGJ5IHNlcGFyYXRpbmcgdGhlbSB3aXRoIGNvbW1hcyBhbmQgYSBjb25qdW5jdGlvbiBsaWtlIFwiYW5kXCIgb3IgXCJvclwiLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGl0ZW1pemUyOiB7XHJcbiAgPFNvdXJjZSBleHRlbmRzIEl0ZXJhdGlvblNvdXJjZT4oXHJcbiAgICB2YWx1ZXM6IFNvdXJjZSxcclxuICAgIGNvbmp1bmN0aW9uPzpcclxuICAgICAgfCBudWxsXHJcbiAgICAgIHwgc3RyaW5nXHJcbiAgICAgIHwgW2NvbW1hOiBzdHJpbmcgfCBOdWxsaXNoLCBjb25qdW5jdGlvbjogc3RyaW5nIHwgTnVsbGlzaF0sXHJcbiAgICByZXN1bHQ/OiAoZW51bWVyYXRlZDogc3RyaW5nLCBuOiBudW1iZXIpID0+IHN0cmluZ1xyXG4gICk6IFNvdXJjZSBleHRlbmRzIE51bGxpc2ggPyBTb3VyY2UgOiBzdHJpbmc7XHJcbiAgPFxyXG4gICAgU291cmNlIGV4dGVuZHMgSXRlcmF0aW9uU291cmNlLFxyXG4gICAgUHJvamVjdGVkLFxyXG4gICAgQWNjdW11bGF0b3IgZXh0ZW5kcyBQcm9qZWN0ZWQsXHJcbiAgICBTaWduYWwgZXh0ZW5kcyB0eXBlb2Ygc2tpcDIgfCB0eXBlb2Ygc3RvcDIgfCBuZXZlclxyXG4gID4oXHJcbiAgICB2YWx1ZXM6IFNvdXJjZSxcclxuICAgIGZvcm1hdDogSXRlcmF0aW9uUHJvamVjdGlvbjI8U291cmNlLCBBY2N1bXVsYXRvciwgUHJvamVjdGVkIHwgU2lnbmFsPixcclxuICAgIGNvbmp1bmN0aW9uPzpcclxuICAgICAgfCBzdHJpbmdcclxuICAgICAgfCBbY29tbWE6IHN0cmluZyB8IE51bGxpc2gsIGNvbmp1bmN0aW9uOiBzdHJpbmcgfCBOdWxsaXNoXSxcclxuICAgIHJlc3VsdD86IChlbnVtZXJhdGVkOiBzdHJpbmcsIG46IG51bWJlcikgPT4gc3RyaW5nXHJcbiAgKTogU291cmNlIGV4dGVuZHMgTnVsbGlzaCA/IFNvdXJjZSA6IHN0cmluZztcclxufSA9ICh2YWx1ZXM6IGFueSwgc2VwYXJhdG9ycz86IGFueSwgcmVzdWx0PzogYW55LCByZXN0PzogYW55KSA9PiB7XHJcbiAgaWYgKCF2YWx1ZXMgJiYgdmFsdWVzICE9PSAwKSByZXR1cm4gdmFsdWVzID09IG51bGwgPyB2YWx1ZXMgOiB1bmRlZmluZWQ7XHJcblxyXG4gIGlmICh0eXBlb2Ygc2VwYXJhdG9ycyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICByZXR1cm4gaXRlbWl6ZTIobWFwMih2YWx1ZXMsIHNlcGFyYXRvcnMpLCByZXN1bHQsIHJlc3QpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlyc3Q6IHN0cmluZ1tdID0gW107XHJcbiAgY29uc3QgbGFzdCA9IGZvckVhY2gyKHZhbHVlcywgKGl0ZW0sIF8sIHByZXYpID0+XHJcbiAgICBpc0VtcHR5U3RyaW5nKGl0ZW0pID8gc2tpcDIgOiAocHJldiAmJiBmaXJzdC5wdXNoKHByZXYpLCBpdGVtLnRvU3RyaW5nKCkpXHJcbiAgKTtcclxuXHJcbiAgbGV0IFtzZXBhcmF0b3IsIGNvbmp1bmN0aW9uXSA9IGlzQXJyYXkoc2VwYXJhdG9ycylcclxuICAgID8gc2VwYXJhdG9yc1xyXG4gICAgOiBbLCBzZXBhcmF0b3JzXTtcclxuXHJcbiAgc2VwYXJhdG9yID8/PSBcIixcIjtcclxuICBjb25qdW5jdGlvbiA9XHJcbiAgICAoY29uanVuY3Rpb24gPz89IFwiYW5kXCIpWzBdID09PSBzZXBhcmF0b3JcclxuICAgICAgPyAvLyBUaGUgY29uanVuY3Rpb24gc3RhcnRzIHdpdGggdGhlIHNlcGFyYXRvciBmb3IgXCIxLCAyLCBvciAzXCIuXHJcbiAgICAgICAgY29uanVuY3Rpb24gKyBcIiBcIlxyXG4gICAgICA6IFwiIFwiICtcclxuICAgICAgICAvLyBEb24ndCBhZGQgdHdvIHNwYWNlcyBpZiB0aGUgY29uanVuY3Rpb24gaXMgdGhlIGVtcHR5IHN0cmluZy5cclxuICAgICAgICAoY29uanVuY3Rpb24gPyBjb25qdW5jdGlvbiArIFwiIFwiIDogXCJcIik7XHJcblxyXG4gIGNvbnN0IGVudW1lcmF0ZWQgPSBmaXJzdC5sZW5ndGhcclxuICAgID8gYCR7Zmlyc3Quam9pbihzZXBhcmF0b3IgKyBcIiBcIil9JHtjb25qdW5jdGlvbn0ke2xhc3R9YFxyXG4gICAgOiBsYXN0ID8/IFwiXCI7XHJcblxyXG4gIHJldHVybiByZXN1bHRcclxuICAgID8gcmVzdWx0KGVudW1lcmF0ZWQsIGZpcnN0Lmxlbmd0aCArICsobGFzdCAhPSBudWxsKSlcclxuICAgIDogKGVudW1lcmF0ZWQgYXMgYW55KTtcclxufTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlRW51bVBhcnNlciB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuLyoqXG4gKiBEZWZpbmVzIHRvIHdoaWNoIGV4dGVuZCBhIHBpZWNlIG9mIGluZm9ybWF0aW9uIHJlbGF0ZXMgdG8gYSBuYXR1cmFsIGluZGl2aWR1YWwgd2hpY2ggaXMgdHlwaWNhbGx5IHNvbWVvbmUgdmlzaXRpbmcgeW91ciBhcHAgb3Igd2Vic2l0ZS5cbiAqXG4gKiBUYWlsLmpzIHJlcXVpcmVzIGFsbCBkYXRhIHRoYXQgY2FuIGJlIGNvbGxlY3RlZCB0byBiZSBjbGFzc2lmaWVkIHRvIHByZXZlbnQgYW55IGRhdGEgZnJvbSBiZWluZyBzdG9yZWQgb3Igb3RoZXJ3aXNlIHVzZWQgYmV5b25kXG4gKiBhbiBpbmRpdmlkdWFsJ3MgY29uc2VudC5cbiAqXG4gKiBCZSBhd2FyZSB0aGF0IGRlIGRlZmF1bHQgc2V0dGluZ3MgaW4gdGhlIHRhaWwuanMgc2NoZW1hICpkbyBub3QqIGd1YXJhbnRlZSBsZWdhbCBjb21wbGlhbmNlLCBhbmQgeW91IGFyZSByZXNwb25zaWJsZVxuICogZm9yIG5vdCB1c2luZyB0aGUgY29sbGVjdGVkIGRhdGEgZm9yIG90aGVyIHB1cnBvc2VzIHRoYW4gdGhvc2UgaW50ZW5kZWQuXG4gKlxuICovXG5jb25zdCBsZXZlbHMgPSB7XG4gIC8qKlxuICAgKiBBIFwiY29uc2VudFwiIGZvciB0aGlzIGRhdGEgY2xhc3NpZmljYXRpb24gbWVhbnMgdGhhdCBubyBkYXRhIHdpbGwgYmUgc3RvcmVkIGZvciBhbnkgcmVhc29uLlxuICAgKlxuICAgKiBMaWtld2lzZSwgaWYgdXNlZCBpbiBhIHNjaGVtYSBhbGwgZGF0YSB3aXRoIHRoaXMgY2xhc3NpZmljYXRpb24gd2lsbCBub3QgYmUgc3RvcmVkLlxuICAgKi9cbiAgbmV2ZXI6IFwibmV2ZXJcIixcblxuICAvKipcbiAgICogVGhlIGRhdGEgY2Fubm90IGJlIGxpbmtlZCB0byBhIHNwZWNpZmljIGluZGl2aWR1YWwgYWZ0ZXIgdGhleSBsZWF2ZSB0aGUgd2Vic2l0ZSBvciBhcHAsIGFuZCB0aGVpciBzZXNzaW9uIGVuZHMuXG4gICAqXG4gICAqIFRoaXMgZG9lcyBfbm90XyBpbmNsdWRlIHNlZW1pbmdseSBhbm9ueW1vdXMgZGF0YSBzdWNoIGFzIHRoZSBoYXNoIG9mIGFuIElQIGFkZHJlc3MsIHNpbmNlIHRoYXQgbWF5IHN0aWxsIGJlIGxpbmtlZCBiYWNrXG4gICAqIHRvIGFuIGluZGl2aWR1YWwgdXNpbmcgXCJhZGRpdGlvbmFsIGluZm9ybWF0aW9uXCIuIEFzIGFuIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRlc3QgaWYgYSBzcGVjaWZpYyBwZXJzb24gdmlzaXRlZCBhIHdlYnNpdGUgYXQgYSBnaXZlbiB0aW1lXG4gICAqIGFuZCB5b3Uga25vdyB0aGVpciBJUCBhZGRyZXNzIGF0IHRoYXQgdGltZSBieSBzb21lIG90aGVyIG1lYW5zLCB5b3UgY2FuIGdlbmVyYXRlIGEgaGFzaCB3aXRoIHRoZSBzYW1lIGFsZ29yaXRobSBhbmQgc2VlIGlmIGl0IGlzXG4gICAqIGluIHRoZSBkYXRhLlxuICAgKlxuICAgKiBUYWlsLmpzIHdpbGwgY29sbGVjdCB0aGlzIGtpbmQgb2YgZGF0YSBpbiBhIHdheSB0aGF0IGRvZXMgbm90IHVzZSBjb29raWVzIG9yIG90aGVyIGluZm9ybWF0aW9uIHBlcnNpc3RlZCBpbiB0aGUgaW5kaXZpZHVhbCdzIGRldmljZS4gKi9cbiAgYW5vbnltb3VzOiBcImFub255bW91c1wiLFxuXG4gIC8qKlxuICAgKiBUaGUgZGF0YSBpcyB1bmxpa2VseSB0byBpZGVudGlmeSBhbiBpbmRpdmlkdWFsIGJ5IGl0c2VsZiwgYnV0IG1heSBsaW5rIHRvIGEgc3BlY2lmaWMgaW5kaXZpZHVhbCBpZiBjb21iaW5lZCB3aXRoIG90aGVyIGRhdGEuXG4gICAqXG4gICAqIEV4YW1wbGVzIGFyZSBJUCBhZGRyZXNzZXMsIGRldGFpbGVkIGxvY2F0aW9uIGRhdGEsIGFuZCByYW5kb21seSBnZW5lcmF0ZWQgZGV2aWNlIElEcyBwZXJzaXN0ZWQgb3ZlciB0aW1lIHRvIHRyYWNrIHJldHVybmluZyB2aXNpdG9ycy5cbiAgICovXG4gIGluZGlyZWN0OiBcImluZGlyZWN0XCIsXG5cbiAgLyoqXG4gICAqIFRoZSBkYXRhIGRpcmVjdGx5IGlkZW50aWZpZXMgYSBzcGVjaWZpYyBpbmRpdmlkdWFsLlxuICAgKlxuICAgKiBFeGFtcGxlcyBhcmUgbmFtZXMsIGVtYWlsIGFkZHJlc3NlcywgdXNlciBuYW1lcywgY3VzdG9tZXIgSURzIGZyb20gYSBDUk0gc3lzdGVtIG9yIG9yZGVyIG51bWJlcnMgdGhhdCBjYW4gYmUgbGlua2VkXG4gICAqIHRvIGFub3RoZXIgc3lzdGVtIHdoZXJlIHRoZSBwZXJzb25zIGRldGFpbHMgYXJlIGF2YWlsYWJsZS5cbiAgICovXG4gIGRpcmVjdDogXCJkaXJlY3RcIixcblxuICAvKipcbiAgICogTm90IG9ubHkgZG9lcyB0aGUgZGF0YSBpZGVudGlmeSBhIHNwZWNpZmljIGluZGl2aWR1YWwgYnV0IG1heSBhbHNvIHJldmVhbCBzZW5zaXRpdmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXJcbiAgICogc3VjaCBhcyBoZWFsdGggZGF0YSwgZmluYW5jaWFsIG1hdHRlcnMsIHJhY2UsIHBvbGl0aWNhbCBhbmQgcmVsaWdpb3VzIHZpZXdzLCBvciB1bmlvbiBtZW1iZXJzaGlwLlxuICAgKlxuICAgKiB0YWlsLmpzJ3MgZGVmYXVsdCBzY2hlbWEgZG9lcyBub3QgaGF2ZSBhbnkgZGF0YSB3aXRoIHRoaXMgY2xhc3NpZmljYXRpb24uIElmIHlvdSBpbnRlbmQgdG8gY2FwdHVyZSBzZW5zaXRpdmUgZGF0YSBpbiB5b3VyIGV2ZW50c1xuICAgKiB5b3UgbWF5IGNvbnNpZGVyIHBzZXVkb25vbWl6aW5nIGl0IGJ5IGhhc2hpbmcgaXQgb3Igb2JmdXNjYXRpbmcgaXQgYnkgc29tZSBvdGhlciBtZWNoYW5pc20uXG4gICAqIFdoZXRoZXIgdGhlIGRhdGEgd2lsbCB0aGVuIGNsYXNzaWZ5IGFzIFwiaW5kaXJlY3RcIiBvciBzdGlsbCBiZSBcInNlbnNpdGl2ZVwiIGRlcGVuZHMgb24gY29udGV4dCwgYnV0IGl0IHdpbGwgYXJndWFibHkgdGhlbiBiZVxuICAgKiBcImxlc3Mgc2Vuc2l0aXZlXCIuXG4gICAqL1xuICBzZW5zaXRpdmU6IFwic2Vuc2l0aXZlXCIsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBEYXRhQ2xhc3NpZmljYXRpb24gPSAodHlwZW9mIGxldmVscylba2V5b2YgdHlwZW9mIGxldmVsc107XG5cbmV4cG9ydCBjb25zdCBEYXRhQ2xhc3NpZmljYXRpb24gPSBjcmVhdGVFbnVtUGFyc2VyKFxuICBcImRhdGEgY2xhc3NpZmljYXRpb25cIixcbiAgbGV2ZWxzXG4pO1xuIiwiaW1wb3J0IHtcbiAgZnJvbUVudHJpZXMsXG4gIGlzQXJyYXksXG4gIGlzU3RyaW5nLFxuICBrZXlzMixcbiAgbWFwMixcbiAgTnVsbGlzaCxcbiAgb2JqMixcbiAgc2tpcDIsXG4gIHRocm93RXJyb3IsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IFNDSEVNQV9UWVBFX1BST1BFUlRZLCB0eXBlIERhdGFVc2FnZSB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCB0eXBlIERhdGFQdXJwb3NlTmFtZSA9IGtleW9mIERhdGFQdXJwb3NlcyB8IFwibmVjZXNzYXJ5XCI7XG5jb25zdCBEQVRBX1BVUlBPU0VTOiBEYXRhUHVycG9zZU5hbWVbXSA9IFtcbiAgXCJuZWNlc3NhcnlcIixcbiAgXCJwZXJmb3JtYW5jZVwiLFxuICBcImZ1bmN0aW9uYWxpdHlcIixcbiAgXCJtYXJrZXRpbmdcIixcbiAgXCJwZXJzb25hbGl6YXRpb25cIixcbiAgXCJzZWN1cml0eVwiLFxuXTtcblxuY29uc3QgVkFMSURfUFVSUE9TRV9OQU1FUyA9IG9iajIoREFUQV9QVVJQT1NFUywgKHB1cnBvc2UpID0+IFtcbiAgcHVycG9zZSxcbiAgcHVycG9zZSxcbl0pO1xuXG5leHBvcnQgY29uc3QgREFUQV9QVVJQT1NFU19BTEw6IERhdGFQdXJwb3NlcyA9IE9iamVjdC5mcmVlemUoXG4gIGZyb21FbnRyaWVzKERBVEFfUFVSUE9TRVMubWFwKChwdXJwb3NlKSA9PiBbcHVycG9zZSwgdHJ1ZV0pKVxuKTtcblxuLyoqXG4gKiBPcHRpb25hbCBwdXJwb3NlcyB0aGF0IG11c3QgYmUgdHJlYXRlZCBzZXBhcmF0ZWx5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbmFsUHVycG9zZXMge1xuICAvKipcbiAgICogQ29uc2lkZXIgdGhlIHNlY3VyaXR5IHB1cnBvc2UgZGlmZmVyZW50IGZyb20gXCJuZWNlc3NhcnlcIi5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHNlY3VyaXR5OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBDb25zaWRlciB0aGUgcGVyc29uYWxpemF0aW9uIHB1cnBvc2UgZGlmZmVyZW50IGZyb20gXCJmdW5jdGlvbmFsaXR5XCIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBwZXJzb25hbGl6YXRpb246IGJvb2xlYW47XG59XG5cbmNvbnN0IG1hcE9wdGlvbmFsUHVycG9zZToge1xuICA8VCBleHRlbmRzIHN0cmluZyB8IE51bGxpc2g+KFxuICAgIHB1cnBvc2U6IFQsXG4gICAgb3B0aW9uYWxQdXJwb3NlczogT3B0aW9uYWxQdXJwb3NlcyB8IE51bGxpc2hcbiAgKTogVCBleHRlbmRzIE51bGxpc2ggPyBUIDogRGF0YVB1cnBvc2VOYW1lO1xufSA9IChwdXJwb3NlLCBvcHRpb25hbFB1cnBvc2VzKTogYW55ID0+XG4gIHB1cnBvc2UgPT09IFwicGVyc29uYWxpemF0aW9uXCIgJiYgb3B0aW9uYWxQdXJwb3Nlcz8ucGVyc29uYWxpemF0aW9uICE9PSB0cnVlXG4gICAgPyBcImZ1bmN0aW9uYWxpdHlcIlxuICAgIDogcHVycG9zZSA9PT0gXCJzZWN1cml0eVwiICYmIG9wdGlvbmFsUHVycG9zZXM/LnNlY3VyaXR5ICE9PSB0cnVlXG4gICAgPyBcIm5lY2Vzc2FyeVwiXG4gICAgOiBwdXJwb3NlO1xuXG5jb25zdCBtYXBPcHRpb25hbFB1cnBvc2VzOiB7XG4gIChcbiAgICBwdXJwb3NlczogRGF0YVB1cnBvc2VzLFxuICAgIG9wdGlvbmFsUHVycG9zZXM6IE9wdGlvbmFsUHVycG9zZXMgfCBOdWxsaXNoXG4gICk6IERhdGFQdXJwb3Nlcztcbn0gPSAocHVycG9zZXMsIG9wdGlvbmFsUHVycG9zZXMpID0+IHtcbiAgbGV0IG1hcHBlZFB1cnBvc2VzID0gcHVycG9zZXM7XG4gIGlmIChcbiAgICBvcHRpb25hbFB1cnBvc2VzPy5wZXJzb25hbGl6YXRpb24gIT09IHRydWUgJiZcbiAgICBtYXBwZWRQdXJwb3Nlcy5wZXJzb25hbGl6YXRpb24gIT0gbnVsbFxuICApIHtcbiAgICBtYXBwZWRQdXJwb3NlcyA9PT0gcHVycG9zZXMgJiYgKG1hcHBlZFB1cnBvc2VzID0geyAuLi5wdXJwb3NlcyB9KTtcbiAgICBpZiAobWFwcGVkUHVycG9zZXMuZnVuY3Rpb25hbGl0eSAhPSBudWxsKSB7XG4gICAgICBtYXBwZWRQdXJwb3Nlcy5wZXJzb25hbGl6YXRpb24gPSBtYXBwZWRQdXJwb3Nlcy5mdW5jdGlvbmFsaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBwZWRQdXJwb3Nlcy5mdW5jdGlvbmFsaXR5ID0gbWFwcGVkUHVycG9zZXMucGVyc29uYWxpemF0aW9uO1xuICAgIH1cbiAgICBkZWxldGUgbWFwcGVkUHVycG9zZXMucGVyc29uYWxpemF0aW9uO1xuICB9XG4gIGlmIChvcHRpb25hbFB1cnBvc2VzPy5zZWN1cml0eSAhPT0gdHJ1ZSAmJiBtYXBwZWRQdXJwb3Nlcy5zZWN1cml0eSAhPSBudWxsKSB7XG4gICAgbWFwcGVkUHVycG9zZXMgPT09IHB1cnBvc2VzICYmIChtYXBwZWRQdXJwb3NlcyA9IHsgLi4ucHVycG9zZXMgfSk7XG5cbiAgICBkZWxldGUgbWFwcGVkUHVycG9zZXMuc2VjdXJpdHk7XG4gIH1cblxuICByZXR1cm4gbWFwcGVkUHVycG9zZXM7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFB1cnBvc2VUZXN0T3B0aW9ucyB7XG4gIGludGVyc2VjdD86IFwic29tZVwiIHwgXCJhbGxcIiB8IGZhbHNlO1xuICB0YXJnZXRQdXJwb3NlPzogRGF0YVB1cnBvc2VOYW1lO1xuICBvcHRpb25hbFB1cnBvc2VzPzogT3B0aW9uYWxQdXJwb3NlcyB8IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBEYXRhUHVycG9zZXM6IHtcbiAgcGFyc2U8XG4gICAgVCBleHRlbmRzIHN0cmluZyB8IHN0cmluZ1tdIHwgRGF0YVB1cnBvc2VzIHwgRGF0YVVzYWdlIHwgTnVsbGlzaCxcbiAgICBOYW1lcyBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZSxcbiAgICBJbmNsdWRlRGVmYXVsdCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlXG4gID4oXG4gICAgdmFsdWU6IFQsXG4gICAgb3B0aW9ucz86IHsgbmFtZXM/OiBOYW1lczsgaW5jbHVkZURlZmF1bHQ/OiBib29sZWFuOyB2YWxpZGF0ZT86IGJvb2xlYW4gfVxuICApOiBUIGV4dGVuZHMgTnVsbGlzaFxuICAgID8gVFxuICAgIDogTmFtZXMgZXh0ZW5kcyB0cnVlXG4gICAgPyAoW0luY2x1ZGVEZWZhdWx0XSBleHRlbmRzIHRydWUgPyBEYXRhUHVycG9zZU5hbWUgOiBrZXlvZiBEYXRhUHVycG9zZXMpW11cbiAgICA6IERhdGFQdXJwb3NlcztcblxuICByZWFkb25seSBhbGw6IERhdGFQdXJwb3NlcztcblxuICAvKipcbiAgICogQ29tcGFyZXMgd2hldGhlciBhIGNvbnNlbnQgaXMgc3VmZmljaWVudCBmb3IgYSBzZXQgb2YgdGFyZ2V0IHB1cnBvc2VzLCBvciB3aGV0aGVyXG4gICAqIGEgZmlsdGVyIG1hdGNoZXMgYWxsIHRoZSBwdXJwb3NlcyBpbiBhIHRhcmdldC5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IHRvIHZhbGlkYXRlIHRoZSBjb25zZW50IGFnYWluc3QuXG4gICAqIEBwYXJhbSB0ZXN0IFRoZSBzZXQgb2YgYWxsb3dlZCBwdXJwb3NlcyBpbiBlaXRoZXIgYSBjb25zZW50IG9yIGZpbHRlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgaG93IHRvIHRlc3QuXG4gICAqXG4gICAqICBUaGUgZGVmYXVsdCBpcyBcIm5vcm1hbFwiIGNvbnNlbnQgdmFsaWRhdGlvbiB3aGljaCBvbmx5IHJlcXVpcmVzIHRoZSB0YXJnZXQgdG8gaGF2ZSBvbmUgcHVycG9zZSB3aXRoIGNvbnNlbnQgKG9yIG5vIHJlcXVpcmVkIHB1cnBvc2VzKS5cbiAgICpcbiAgICovXG4gIHRlc3QoXG4gICAgdGFyZ2V0OiBEYXRhUHVycG9zZXMsXG4gICAgdGVzdDogRGF0YVB1cnBvc2VzLFxuICAgIG9wdGlvbnM/OiBQdXJwb3NlVGVzdE9wdGlvbnNcbiAgKTogYm9vbGVhbjtcblxuICBuYW1lczogRGF0YVB1cnBvc2VOYW1lW107XG4gIHNwZWNpZmljTmFtZXM6IChrZXlvZiBEYXRhUHVycG9zZXMpW107XG59ID0ge1xuICBuYW1lczogREFUQV9QVVJQT1NFUyxcbiAgc3BlY2lmaWNOYW1lczogREFUQV9QVVJQT1NFUy5maWx0ZXIoKHB1cnBvc2UpID0+IHB1cnBvc2UgIT09IFwibmVjZXNzYXJ5XCIpLFxuICBwYXJzZTogKFxuICAgIHZhbHVlOiBhbnksXG4gICAgeyBuYW1lcyA9IGZhbHNlLCBpbmNsdWRlRGVmYXVsdCA9IHRydWUsIHZhbGlkYXRlID0gdHJ1ZSB9ID0ge31cbiAgKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodmFsdWUucHVycG9zZXMpIHtcbiAgICAgIC8vIEZyb20gRGF0YVVzYWdlXG4gICAgICB2YWx1ZSA9IHZhbHVlLnB1cnBvc2VzO1xuICAgIH1cblxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHB1cnBvc2VzOiBEYXRhUHVycG9zZXMgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB2YWx1ZSBhcyBhbnkpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IFNDSEVNQV9UWVBFX1BST1BFUlRZKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoIVZBTElEX1BVUlBPU0VfTkFNRVNbbmFtZV0pIHtcbiAgICAgICAgICB2YWxpZGF0ZSAmJiB0aHJvd0Vycm9yKGBUaGUgcHVycG9zZSBuYW1lICcke25hbWV9JyBpcyBub3QgZGVmaW5lZC5gKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9PSBcIm5lY2Vzc2FyeVwiKSB7XG4gICAgICAgICAgcHVycG9zZXNbbmFtZSBhcyBhbnldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFsdWUgPSBwdXJwb3NlcztcbiAgICB9XG5cbiAgICBpZiAobmFtZXMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcDIodmFsdWUsIChba2V5LCB2YWx1ZV0pID0+XG4gICAgICAgIFZBTElEX1BVUlBPU0VfTkFNRVNba2V5XSAmJiB2YWx1ZSA/IGtleSA6IHNraXAyXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggfHwgIWluY2x1ZGVEZWZhdWx0ID8gcmVzdWx0IDogW1wibmVjZXNzYXJ5XCJdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIGdldCBhbGwoKTogRGF0YVB1cnBvc2VzIHtcbiAgICByZXR1cm4ge1xuICAgICAgZnVuY3Rpb25hbGl0eTogdHJ1ZSxcbiAgICAgIG1hcmtldGluZzogdHJ1ZSxcbiAgICAgIHBlcmZvcm1hbmNlOiB0cnVlLFxuICAgICAgcGVyc29uYWxpemF0aW9uOiB0cnVlLFxuICAgICAgc2VjdXJpdHk6IHRydWUsXG4gICAgfTtcbiAgfSxcblxuICB0ZXN0KFxuICAgIHRhcmdldDogRGF0YVB1cnBvc2VzLFxuICAgIHRlc3Q6IERhdGFQdXJwb3NlcyxcbiAgICB7IGludGVyc2VjdCwgb3B0aW9uYWxQdXJwb3NlcywgdGFyZ2V0UHVycG9zZSB9OiBQdXJwb3NlVGVzdE9wdGlvbnNcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25hbFB1cnBvc2VzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgb3B0aW9uYWxQdXJwb3NlcyA9IHtcbiAgICAgICAgcGVyc29uYWxpemF0aW9uOiBvcHRpb25hbFB1cnBvc2VzLFxuICAgICAgICBzZWN1cml0eTogb3B0aW9uYWxQdXJwb3NlcyxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRhcmdldFB1cnBvc2UgJiZcbiAgICAgICh0YXJnZXRQdXJwb3NlID0gbWFwT3B0aW9uYWxQdXJwb3NlKHRhcmdldFB1cnBvc2UsIG9wdGlvbmFsUHVycG9zZXMpKSAhPT1cbiAgICAgICAgXCJuZWNlc3NhcnlcIiAmJlxuICAgICAgIXRlc3RbbWFwT3B0aW9uYWxQdXJwb3NlKHRhcmdldFB1cnBvc2UsIG9wdGlvbmFsUHVycG9zZXMpXVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRhcmdldCA9IG1hcE9wdGlvbmFsUHVycG9zZXModGFyZ2V0LCBvcHRpb25hbFB1cnBvc2VzKTtcbiAgICB0ZXN0ID0gbWFwT3B0aW9uYWxQdXJwb3Nlcyh0ZXN0LCBvcHRpb25hbFB1cnBvc2VzKTtcblxuICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgIGZvciAobGV0IHB1cnBvc2UgaW4gdGVzdCkge1xuICAgICAgICBpZiAoIVZBTElEX1BVUlBPU0VfTkFNRVNbcHVycG9zZV0pIGNvbnRpbnVlO1xuICAgICAgICBpZiAodGVzdFtwdXJwb3NlXSAmJiAhdGFyZ2V0W3B1cnBvc2VdKSB7XG4gICAgICAgICAgLy8gQXQgbGVhc3Qgb25lIHB1cnBvc2UgaW4gdGhlIGNvbnNlbnQgaXMgbm90IHByZXNlbnQgaW4gdGhlIHRhcmdldC5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGludGVyc2VjdCA9PT0gXCJhbGxcIikge1xuICAgICAgICBmb3IgKGxldCBwdXJwb3NlIGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghVkFMSURfUFVSUE9TRV9OQU1FU1twdXJwb3NlXSkgY29udGludWU7XG4gICAgICAgICAgaWYgKHRhcmdldFtwdXJwb3NlXSAmJiAhdGVzdFtwdXJwb3NlXSkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcmdldCBoYXMgYSBwdXJwb3NlIHRoYXQgaXMgbm90IGluY2x1ZGVkIGluIHRoZSBjb25zZW50LlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgaGFzQW55ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgcHVycG9zZSBpbiB0YXJnZXQpIHtcbiAgICAgIGlmICghVkFMSURfUFVSUE9TRV9OQU1FU1twdXJwb3NlXSkgY29udGludWU7XG4gICAgICBpZiAodGFyZ2V0W3B1cnBvc2VdKSB7XG4gICAgICAgIGlmICh0ZXN0W3B1cnBvc2VdKSB7XG4gICAgICAgICAgLy8gSnVzdCBvbmUgb2YgdGhlIHB1cnBvc2VzIGlzIGdvb2QgZW5vdWdoLlxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGhhc0FueSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRoZSB0YXJnZXQgaGFzIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBwdXJwb3NlLCBhbmQgdGhlIGNvbnNlbnQgZG9lcyBub3QgaW5jbHVkZSBhbnkuXG4gICAgcmV0dXJuICFoYXNBbnk7XG4gIH0sXG59O1xuXG4vL1xuLyoqXG4gKiBUaGUgcHVycG9zZXMgZGF0YSBjYW4gYmUgdXNlZCBmb3IuXG4gKiBOb24tbmVjZXNzYXJ5IGRhdGEgcmVxdWlyZXMgYW4gaW5kaXZpZHVhbCdzIGNvbnNlbnQgdG8gYmUgY29sbGVjdGVkIGFuZCB1c2VkLlxuICpcbiAqIERhdGEgY2F0ZWdvcml6ZWQgYXMgXCJhbm9ueW1vdXNcIiB3aWxsIGJlIHN0b3JlZCByZWdhcmRsZXNzIG9mIGNvbnNlbnQgc2luY2UgYSBjb25zZW50IG9ubHkgcmVsYXRlc1xuICogdG8gXCJwZXJzb25hbCBkYXRhXCIsIGFuZCBhbm9ueW1vdXMgZGF0YSBpcyBqdXN0IFwiZGF0YVwiLlxuICpcbiAqIFdoZXRoZXIgdGhlIHR3byBwdXJwb3NlcyBcInBlcnNvbmFsaXphdGlvblwiIGFuZCBcInNlY3VyaXR5XCIgYXJlIGNvbnNpZGVyZWQgc2VwYXJhdGUgcHVycG9zZXNcbiAqIGlzIGNvbmZpZ3VyYWJsZS4gVGhlIGRlZmF1bHQgaXMgdG8gY29uc2lkZXIgXCJwZXJzb25hbGl6YXRpb25cIiB0aGUgc2FtZSBhcyBcImZ1bmN0aW9uYWxpdHlcIiwgYW5kXG4gKiBcInNlY3VyaXR5XCIgdGhlIHNhbWUgYXMgXCJuZWNlc3NhcnlcIi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRhUHVycG9zZXMge1xuICAvKipcbiAgICogRGF0YSBzdG9yZWQgZm9yIHRoaXMgcHVycG9zZSBpcyB1c2VkIHRvIGdhaW4gaW5zaWdodHMgb24gaG93IGluZGl2aWR1YWxzIGludGVyYWN0IHdpdGggYSB3ZWJzaXRlIG9yIGFwcCBvcHRpb25hbGx5IGluY2x1ZGluZ1xuICAgKiBkZW1vZ3JhcGhpY3MgYW5kIHNpbWlsYXIgdHJhaXRzIHdpdGggdGhlIHB1cnBvc2Ugb2Ygb3B0aW1pemluZyB0aGUgd2Vic2l0ZSBvciBhcHAuXG4gICAqXG4gICAqIERPIE5PVCB1c2UgdGhpcyBjYXRlZ29yeSBpZiB0aGUgZGF0YSBtYXkgYmUgc2hhcmVkIHdpdGggdGhpcmQgcGFydGllcyBvciBvdGhlcndpc2UgdXNlZCBmb3IgdGFyZ2V0ZWQgbWFya2V0aW5nIG91dHNpZGUgdGhlIHNjb3BlXG4gICAqIG9mIHRoZSB3ZWJzaXRlIG9yIGFwcC4gVXNlIHtAbGluayBEYXRhUHVycG9zZUZsYWdzLlRhcmdldGluZ30gaW5zdGVhZC5cbiAgICpcbiAgICogSXQgbWF5IGJlIG9rYXkgaWYgdGhlIGRhdGEgaXMgb25seSB1c2VkIGZvciBkaWZmZXJlbnQgd2Vic2l0ZSBhbmQgYXBwcyB0aGF0IHJlbGF0ZSB0byB0aGUgc2FtZSBwcm9kdWN0IG9yIHNlcnZpY2UuXG4gICAqIFRoaXMgd291bGQgYmUgdGhlIGNhc2UgaWYgYW4gaW5kaXZpZHVhbCBpcyBhYmxlIHRvIHVzZSBhbiBhcHAgYW5kIHdlYnNpdGUgaW50ZXJjaGFuZ2VhYmx5IGZvciB0aGUgc2FtZSBzZXJ2aWNlLiBEaWZmZXJlbnQgYXJlYXMgb2YgYSBicmFuZCBtYXlcbiAgICogYWxzbyBiZSBkaXN0cmlidXRlZCBhY3Jvc3MgbXVsdGlwbGUgZG9tYWluIG5hbWVzLlxuICAgKlxuICAgKi9cbiAgcGVyZm9ybWFuY2U/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEYXRhIHN0b3JlZCBmb3IgdGhpcyBwdXJwb3NlIGlzIHVzZWQgZm9yIHNldHRpbmdzIHRoYXQgYWRqdXN0IHRoZSBhcHBlYXJhbmNlIG9mIGEgd2Vic2l0ZSBvciBhcHBcbiAgICogYWNjb3JkaW5nIHRvIGFuIGluZGl2aWR1YWwncyBwcmVmZXJlbmNlcyBzdWNoIGFzIFwiZGFyayBtb2RlXCIgb3IgbG9jYWxpemF0aW9uIG9mIGRhdGUgYW5kIG51bWJlciBmb3JtYXR0aW5nLlxuICAgKlxuICAgKiBEZXBlbmRpbmcgb24geW91ciBjb25maWd1cmF0aW9uLCBhIGZ1bmN0aW9uYWxpdHkgY29uc2VudCBtYXkgYWxzbyBpbmNsdWRlIHBlcnNvbmFsaXphdGlvbi5cbiAgICogUGVyc29uYWxpemF0aW9uIHN1Y2ggYXMgc3VnZ2VzdGVkIGFydGljbGVzIGFuZCB2aWRlb3MgaXMgcGVyIGRlZmluaXRpb24gZnVuY3Rpb25hbGl0eSxcbiAgICogYnV0IGEgc3BlY2lhbCBzdWJjYXRlZ29yeSBtYXkgYmUgdXNlZCB0byBtYWtlIHRoZSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHByb2ZpbGUgc2V0dGluZ3NcbiAgICogYW5kIGJlaGF2aW9yYWwgaGlzdG9yeSBkZXBlbmRpbmcgb24geW91ciByZXF1aXJlbWVudHMuXG4gICAqXG4gICAqIERPIE5PVCB1c2UgdGhpcyBjYXRlZ29yeSBpZiB0aGUgZGF0YSBtYXkgYmUgc2hhcmVkIHdpdGggdGhpcmQgcGFydGllcyBvciBvdGhlcndpc2UgdXNlZCBmb3IgdGFyZ2V0ZWQgbWFya2V0aW5nIG91dHNpZGUgdGhlIHNjb3BlXG4gICAqIG9mIHRoZSB3ZWJzaXRlIG9yIGFwcC4gVXNlIHtAbGluayBEYXRhUHVycG9zZUZsYWdzLk1hcmtldGluZ30gaW5zdGVhZC5cbiAgICpcbiAgICogSXQgbWF5IGJlIG9rYXkgaWYgdGhlIGRhdGEgaXMgb25seSB1c2VkIGZvciBkaWZmZXJlbnQgd2Vic2l0ZSBhbmQgYXBwcyB0aGF0IHJlbGF0ZSB0byB0aGUgc2FtZSBwcm9kdWN0LCBicmFuZCBvciBzZXJ2aWNlLCBoZW5jZVxuICAgKiB0aGUgaW5mb3JtYXRpb24gaXMgc3RpbGwgXCJmaXJzdCBwYXJ0eVwiIHdpdGggcmVzcGVjdCB0byB0aGUgbGVnYWwgZW50aXR5L2JyYW5kIHRvIHdob20gdGhlIGNvbnNlbnQgaXMgbWFkZS5cbiAgICpcbiAgICogVGhpcyB3b3VsZCBiZSB0aGUgY2FzZSBpZiBhbiBpbmRpdmlkdWFsIGlzIGFibGUgdG8gdXNlIGFuIGFwcCBhbmQgd2Vic2l0ZSBpbnRlcmNoYW5nZWFibHkgZm9yIHRoZSBzYW1lIHNlcnZpY2UuIERpZmZlcmVudCBhcmVhcyBvZiBhIGJyYW5kIG1heVxuICAgKiBhbHNvIGJlIGRpc3RyaWJ1dGVkIGFjcm9zcyBtdWx0aXBsZSBkb21haW4gbmFtZXMuXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbmFsaXR5PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGF0YSBzdG9yZWQgZm9yIHRoaXMgcHVycG9zZSBtYXkgYmUgc2ltaWxhciB0byBib3RoIGZ1bmN0aW9uYWxpdHkgYW5kIHBlcmZvcm1hbmNlIGRhdGEsIGhvd2V2ZXIgaXQgbWF5IGJlIHNoYXJlZCB3aXRoIHRoaXJkIHBhcnRpZXNcbiAgICogb3Igb3RoZXJ3aXNlIHVzZWQgdG8gcGVyZm9ybSBtYXJrZXRpbmcgb3V0c2lkZSB0aGUgc2NvcGUgb2YgdGhlIHNwZWNpZmljIHdlYnNpdGUgb3IgYXBwLlxuICAgKlxuICAgKiBXaGVuIHRhZ2dpbmcgZGF0YSBwb2ludHMgaW4gYSBzY2hlbWEgaXQgaXMgZ29vZCBwcmFjdGljZSB0byBhbHNvIHNwZWNpZnkgd2hldGhlciB0aGUgZGF0YSBpcyByZWxhdGVkIHRvXG4gICAqIHBlcmZvcm1hbmNlLCBmdW5jdGlvbmFsaXR5IG9yIGJvdGhcbiAgICpcbiAgICogSWYgdGhlIGRhdGEgaXMgb25seSB1c2VkIGZvciBkaWZmZXJlbnQgd2Vic2l0ZXMgYW5kIGFwcHMgdGhhdCByZWxhdGUgdG8gdGhlIHNhbWUgcHJvZHVjdCBvciBzZXJ2aWNlIHRoYXQgYmVsb25ncyB0byB5b3VyIGJyYW5kLFxuICAgKiBpdCBtaWdodCBub3QgYmUgbmVjZXNzYXJ5IHRvIHVzZSB0aGlzIGNhdGVnb3J5LlxuICAgKi9cbiAgbWFya2V0aW5nPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogUGVyc29uYWxpemF0aW9uIGlzIGEgc3BlY2lhbCBzdWJjYXRlZ29yeSBvZiBmdW5jdGlvbmFsaXR5IGRhdGEgdGhhdCBpc1xuICAgKiBmb3IgdGhpbmdzIHN1Y2ggYXMgcmVjb21tZW5kaW5nIGFydGljbGVzIGFuZCB2aWRlb3MuXG4gICAqIFRoaXMgcHVycG9zZSBpcyBwZXIgZGVmYXVsdCBzeW5vbnltb3VzIHdpdGgge0BsaW5rIERhdGFQdXJwb3Nlcy5mdW5jdGlvbmFsaXR5fSwgYnV0IGNhbiBiZSBjb25maWd1cmVkIHRvIGJlIGEgc2VwYXJhdGUgcHVycG9zZVxuICAgKiB0aGF0IHJlcXVpcmVzIGl0cyBvd24gY29uc2VudC5cbiAgICovXG4gIHBlcnNvbmFsaXphdGlvbj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERhdGEgc3RvcmVkIGZvciB0aGlzIHB1cnBvc2UgaXMgcmVsYXRlZCB0byBzZWN1cml0eSBzdWNoIGFzIGF1dGhlbnRpY2F0aW9uLCBmcmF1ZCBwcmV2ZW50aW9uLCBhbmQgb3RoZXIgdXNlciBwcm90ZWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIHB1cnBvc2UgaXMgcGVyIGRlZmF1bHQgc3lub255bW91cyB3aXRoIHtAbGluayBEYXRhUHVycG9zZXMuZXNzZW50aWFsfSBidXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gYmUgYSBzZXBhcmF0ZSBwdXJwb3NlXG4gICAqIHRoYXQgcmVxdWlyZXMgaXRzIG93biBjb25zZW50LlxuICAgKi9cbiAgc2VjdXJpdHk/OiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgaXRlbWl6ZTIsIE1heWJlTnVsbGlzaCwgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIERhdGFDbGFzc2lmaWNhdGlvbixcbiAgRGF0YVB1cnBvc2VzLFxuICBQdXJwb3NlVGVzdE9wdGlvbnMsXG4gIFNjaGVtYURhdGFVc2FnZSxcbn0gZnJvbSBcIi5cIjtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERhdGFVc2FnZSA9ICh1c2FnZT86IERhdGFVc2FnZSkgPT5cbiAgYCR7dXNhZ2U/LmNsYXNzaWZpY2F0aW9uID8/IFwiYW5vbnltb3VzXCJ9IGRhdGEgZm9yICR7aXRlbWl6ZTIoXG4gICAgRGF0YVB1cnBvc2VzLnBhcnNlKHVzYWdlPy5wdXJwb3NlcywgeyBuYW1lczogdHJ1ZSB9KVxuICApfSAgcHVycG9zZXMuYDtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ29uc2VudCA9IChcbiAgdGFyZ2V0OiBEYXRhVXNhZ2UsXG4gIGNvbnNlbnQ6IERhdGFVc2FnZSxcbiAgb3B0aW9uczogUHVycG9zZVRlc3RPcHRpb25zXG4pID0+IHtcbiAgaWYgKHRhcmdldC5jbGFzc2lmaWNhdGlvbiA9PT0gXCJuZXZlclwiIHx8IGNvbnNlbnQuY2xhc3NpZmljYXRpb24gPT09IFwibmV2ZXJcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodGFyZ2V0LmNsYXNzaWZpY2F0aW9uID09PSBcImFub255bW91c1wiKSB7XG4gICAgLy8gQW5vbnltb3VzIGRhdGEgZG9lcyBub3QgcmVxdWlyZSBjb25zZW50IChpdCBpcyBub3QgXCJfcGVyc29uYWxfIGRhdGFcIiAtIGp1c3QgX2RhdGFfKS5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgRGF0YUNsYXNzaWZpY2F0aW9uLnJhbmtzW3RhcmdldC5jbGFzc2lmaWNhdGlvbl0gPlxuICAgIERhdGFDbGFzc2lmaWNhdGlvbi5yYW5rc1tjb25zZW50LmNsYXNzaWZpY2F0aW9uXVxuICApIHtcbiAgICAvLyBUb28gcGVyc29uYWwuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIERhdGFQdXJwb3Nlcy50ZXN0KHRhcmdldC5wdXJwb3NlcywgY29uc2VudC5wdXJwb3Nlcywgb3B0aW9ucyk7XG59O1xuXG4vKipcbiAqIFRoZSBjb21iaW5hdGlvbiBvZiB0aGUgY2xhc3NpZmljYXRpb24gYW5kIHB1cnBvc2VzIGl0IGNhbiBiZSB1c2VkIGZvciBkZXRlcm1pbmVzIHdoZXRoZXJcbiAqIGRhdGEgY2FuIGJlIHN0b3JlZCBvciB1c2VkIHdoZW4gY29tcGFyZWQgdG8gYW4gaW5kaXZpZHVhbCdzIGNvbnNlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVVzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGNsYXNzaWZpY2F0aW9uIG9mIGRhdGEgYSB1c2VyIGhhcyBjb25zZW50ZWQgdG8gYmUgY29sbGVjdGVkIGFuZCBzdG9yZWQuXG4gICAqXG4gICAqIEFueSBwcm9wZXJ0eSB3aXRoIGEgY2xhc3NpZmljYXRpb24gaGlnaGVyIHRoYW4gdGhpcyB3aWxsIGJlIGNsZWFyZWQgKGNlbnNvcmVkKSBiZWZvcmUgYW4gb2JqZWN0IGlzIHN0b3JlZC5cbiAgICogSWYgYWxsIHByb3BlcnRpZXMgZ2V0cyBjZW5zb3JlZCwgdGhlIG9iamVjdCBpcyBub3Qgc3RvcmVkIGF0IGFsbC5cbiAgICpcbiAgICogQW5vbnltb3VzIGRhdGEgZG9lcyBub3QgcmVxdWlyZSBhY3RpdmUgY29uc2VudCwgc28gZGF0YSBpcyBzdG9yZWQgcmVnYXJkbGVzcyBvZiBpdHMgcHVycG9zZXNcbiAgICogc2luY2UgaXQgaXMgbm90IFwicGVyc29uYWwgZGF0YVwiIGJ1dCBqdXN0IFwiZGF0YVwiLlxuICAgKiBUaGlzIG1lYW5zIHlvdSBzaG91bGQgbm90IGFubm90YXRlIGFsbCBhbm9ueW1vdXMgZGF0YSBhcyBcIm5lY2Vzc2FyeVwiIGluIHlvdXIgc2NoZW1hLCBidXQgcmF0aGVyXG4gICAqIHVzZSB0aGUgcHVycG9zZShzKSB0aGF0IHdvdWxkIHJlcXVpcmUgY29uc2VudCBoYWQgdGhlIGRhdGEgbm90IGJlZW4gYW5vbnltb3VzLlxuICAgKlxuICAgKiBJbiB0aGlzIHdheSB5b3UgY2FuIHNpbXBseSByZW1vdmUgdGhlIGBhbm9ueW1vdXNgIGFubm90YXRpb24gZnJvbSBhIGZpZWxkIG9yIG9iamVjdCBpZiBpdCB0dXJuc1xuICAgKiBvdXQgaXQgaXMgbm90IHRydWx5IGFub255bW91cy4gQWZ0ZXIgdGhhdCB0aGUgZGF0YSBjYW4gbm8gbG9uZ2VyIGJlIHJlYWQgZm9yIHB1cnBvc2VzIHdpdGhvdXRcbiAgICogdXNlciBjb25zZW50LiBIb3dldmVyLCB0YWlsLmpzIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IHJlZGFjdGluZy9wdXJnaW5nIHRoZSBkYXRhIGZyb20gc3RvcmFnZVxuICAgKiBzbyB0aGlzIHlvdSBuZWVkIHRvIGRvIG1hbnVhbGx5LlxuICAgKlxuICAgKiBGb3Igc2NoZW1hIGRlZmluaXRpb25zIHNlZSB7QGxpbmsgU2NoZW1hRGF0YVVzYWdlfSBmb3IgaW5oZXJpdGFuY2UgcnVsZXMuXG4gICAqXG4gICAqIEBkZWZhdWx0IGFub255bW91c1xuICAgKlxuICAgKi9cbiAgY2xhc3NpZmljYXRpb246IERhdGFDbGFzc2lmaWNhdGlvbjtcblxuICAvKipcbiAgICogVGhlIHB1cnBvc2VzIHRoZSBkYXRhIG1heSBiZSB1c2VkIGZvci5cbiAgICpcbiAgICogSWYgYSBkYXRhIHBvaW50IGhhcyBtdWx0aXBsZSBwdXJwb3NlcywgY29uc2VudCBpcyBvbmx5IG5lZWQgZm9yIG9uZSBvZiB0aGVtXG4gICAqIGZvciB0aGUgZGF0YSB0byBnZXQgc3RvcmVkLiBIb3dldmVyLCBpZiBzb21lIGxvZ2ljIHRyaWVzIHRvIHJlYWQgdGhlIGRhdGEgZm9yIGEgcHVycG9zZSB3aXRob3V0IGNvbnNlbnQsXG4gICAqIGl0IGlzIG5vdCByZXR1cm5lZCwgc2luY2UgaXQgaXMgb25seSBzdG9yZWQgZm9yIG90aGVyIHB1cnBvc2VzLlxuICAgKlxuICAgKiBQdXJwb3NlcyBkbyBub3QgcmVzdHJpY3QgYW5vbnltb3VzIGRhdGEuIElmIG5vIHB1cnBvc2VzIGFyZSBleHBsaWNpdGx5IHNwZWNpZmllZCBpdCBpbXBsaWVzIFwibmVjZXNzYXJ5XCIuXG4gICAqXG4gICAqIEZvciBzY2hlbWEgZGVmaW5pdGlvbnMgc2VlIHtAbGluayBTY2hlbWFEYXRhVXNhZ2V9IGZvciBpbmhlcml0YW5jZSBydWxlcy5cbiAgICovXG4gIHB1cnBvc2VzOiBEYXRhUHVycG9zZXM7XG59XG5cbmV4cG9ydCBjb25zdCBEYXRhVXNhZ2UgPSB7XG4gIGFub255bW91czoge1xuICAgIGNsYXNzaWZpY2F0aW9uOiBcImFub255bW91c1wiLFxuICAgIHB1cnBvc2VzOiB7fSxcbiAgfSBhcyBEYXRhVXNhZ2UsXG4gIGNsb25lOiA8VCBleHRlbmRzIERhdGFVc2FnZSB8IE51bGxpc2g+KFxuICAgIHVzYWdlOiBUXG4gICk6IE1heWJlTnVsbGlzaDxULCBEYXRhVXNhZ2U+ID0+XG4gICAgdXNhZ2UgJiZcbiAgICAoe1xuICAgICAgY2xhc3NpZmljYXRpb246IHVzYWdlLmNsYXNzaWZpY2F0aW9uLFxuICAgICAgcHVycG9zZXM6IHsgLi4udXNhZ2UucHVycG9zZXMgfSxcbiAgICB9IHNhdGlzZmllcyBEYXRhVXNhZ2UgYXMgYW55KSxcblxuICBlcXVhbHM6ICh1c2FnZTE6IERhdGFVc2FnZSB8IE51bGxpc2gsIHVzYWdlMjogRGF0YVVzYWdlIHwgTnVsbGlzaCkgPT5cbiAgICB1c2FnZTEgPT09IHVzYWdlMiB8fFxuICAgICh1c2FnZTEgJiZcbiAgICAgIHVzYWdlMiAmJlxuICAgICAgdXNhZ2UxLmNsYXNzaWZpY2F0aW9uID09PSB1c2FnZTIuY2xhc3NpZmljYXRpb24gJiZcbiAgICAgIERhdGFQdXJwb3Nlcy50ZXN0KHVzYWdlMS5wdXJwb3NlcywgdXNhZ2UyLnB1cnBvc2VzLCB7XG4gICAgICAgIGludGVyc2VjdDogXCJhbGxcIixcbiAgICAgICAgb3B0aW9uYWxQdXJwb3NlczogdHJ1ZSxcbiAgICAgIH0pKSxcblxuICBzZXJpYWxpemU6ICh1c2FnZTogRGF0YVVzYWdlKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgY29uc3QgcHVycG9zZXMgPSBEYXRhUHVycG9zZXMucGFyc2UodXNhZ2UucHVycG9zZXMsIHtcbiAgICAgIG5hbWVzOiB0cnVlLFxuICAgICAgaW5jbHVkZURlZmF1bHQ6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuICghdXNhZ2UuY2xhc3NpZmljYXRpb24gfHwgdXNhZ2UuY2xhc3NpZmljYXRpb24gPT09IFwiYW5vbnltb3VzXCIpICYmXG4gICAgICAhcHVycG9zZXM/Lmxlbmd0aFxuICAgICAgPyBudWxsXG4gICAgICA6IGAke3VzYWdlLmNsYXNzaWZpY2F0aW9ufToke3B1cnBvc2VzfWA7XG4gIH0sXG5cbiAgZGVzZXJpYWxpemU6IChcbiAgICB1c2FnZVN0cmluZzogc3RyaW5nIHwgTnVsbGlzaCxcbiAgICBkZWZhdWx0VXNhZ2U/OiBEYXRhVXNhZ2VcbiAgKTogRGF0YVVzYWdlID0+IHtcbiAgICBpZiAoIXVzYWdlU3RyaW5nKVxuICAgICAgcmV0dXJuIGRlZmF1bHRVc2FnZVxuICAgICAgICA/IERhdGFVc2FnZS5jbG9uZShkZWZhdWx0VXNhZ2UpXG4gICAgICAgIDogeyBjbGFzc2lmaWNhdGlvbjogXCJhbm9ueW1vdXNcIiwgcHVycG9zZXM6IHt9IH07XG4gICAgY29uc3QgW2NsYXNzaWZpY2F0aW9uLCBwdXJwb3Nlc10gPSB1c2FnZVN0cmluZy5zcGxpdChcIjpcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzaWZpY2F0aW9uOlxuICAgICAgICBEYXRhQ2xhc3NpZmljYXRpb24ucGFyc2UoY2xhc3NpZmljYXRpb24sIGZhbHNlKSA/PyBcImFub255bW91c1wiLFxuICAgICAgcHVycG9zZXM6IERhdGFQdXJwb3Nlcy5wYXJzZShwdXJwb3NlcywgeyB2YWxpZGF0ZTogZmFsc2UgfSkgPz8ge30sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbnVtUGFyc2VyIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuXG5jb25zdCBsZXZlbHMgPSB7XG4gIC8qKiBEYXRhIGNhbiBiZSByZWFkIGFuZCB3cml0dGVuIGZyb20gYW55d2hlcmUuICovXG4gIHB1YmxpYzogXCJwdWJsaWNcIixcbiAgLyoqIERhdGEgY2FuIGJlIHJlYWQgZnJvbSBhbnl3aGVyZSBidXQgY2FuIG9ubHkgYmUgd3JpdHRlbiBpbiB0cnVzdGVkIGNvbnRleHQuICovXG4gIFwidHJ1c3RlZC13cml0ZVwiOiBcInRydXN0ZWQtd3JpdGVcIixcbiAgLyoqIERhdGEgaXMgb25seSBhdmFpbGFibGUgaW4gdHJ1c3RlZCBjb250ZXh0LiAqL1xuICBcInRydXN0ZWQtb25seVwiOiBcInRydXN0ZWQtb25seVwiLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgRGF0YVZpc2liaWxpdHkgPSAodHlwZW9mIGxldmVscylba2V5b2YgdHlwZW9mIGxldmVsc107XG5cbi8qKlxuICogRGVmaW5lcyByZXN0cmljdGlvbnMgb24gd2hlcmUgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHdoZW4gaXQgY2FuIGJlIG1vZGlmaWVkLlxuICovXG5leHBvcnQgdHlwZSBEYXRhQWNjZXNzID0ge1xuICAvKipcbiAgICogVGhlIGRhdGEgY2Fubm90IGJlIGNoYW5nZWQgb25jZSBzZXQuXG4gICAqXG4gICAqIEZvciBzY2hlbWEgZGVmaW5pdGlvbnMgc2VlIHtAbGluayBTY2hlbWFEYXRhVXNhZ2V9IGZvciBpbmhlcml0YW5jZSBydWxlcy5cbiAgICovXG4gIHJlYWRvbmx5OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiBkYXRhIGNhbiBiZSBhY2Nlc3NlZCBvdXRzaWRlIHRydXN0ZWQgY29udGV4dC5cbiAgICpcbiAgICogRm9yIHNjaGVtYSBkZWZpbml0aW9ucyBzZWUge0BsaW5rIFNjaGVtYURhdGFVc2FnZX0gZm9yIGluaGVyaXRhbmNlIHJ1bGVzLlxuICAgKi9cbiAgdmlzaWJpbGl0eTogRGF0YVZpc2liaWxpdHk7XG59O1xuXG5leHBvcnQgY29uc3QgRGF0YVZpc2liaWxpdHkgPSBjcmVhdGVFbnVtUGFyc2VyKFwiZGF0YSByZXN0cmljdGlvblwiLCBsZXZlbHMpO1xuIiwiaW1wb3J0IHR5cGUgeyBUcmFja2VkRXZlbnQgfSBmcm9tIFwiLlwiO1xuXG4vKiogVGhlIHNoYXBlIG9mIHRoZSBwYXRjaCBkYXRhIGZvciBhIHtAbGluayBUcmFja2VkRXZlbnR9ICovXG5leHBvcnQgdHlwZSBFdmVudFBhdGNoPFQgZXh0ZW5kcyBUcmFja2VkRXZlbnQgPSBUcmFja2VkRXZlbnQ+ID0gUGFydGlhbDxcbiAgT21pdDxULCBcInR5cGVcIj5cbj4gJiB7XG4gIHR5cGU6IGAke1RbXCJ0eXBlXCJdfV9wYXRjaGA7XG59ICYgUmVxdWlyZWQ8UGljazxUcmFja2VkRXZlbnQsIFwicGF0Y2hUYXJnZXRJZFwiPj47XG5cbmV4cG9ydCBjb25zdCBpc0V2ZW50UGF0Y2ggPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEV2ZW50UGF0Y2ggPT5cbiAgISF2YWx1ZT8ucGF0Y2hUYXJnZXRJZDtcbiIsImltcG9ydCB7IFNjaGVtYURhdGFVc2FnZSwgU2NoZW1hUHJvcGVydHlEZWZpbml0aW9uIH0gZnJvbSBcIi4uLy4uXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVtYU9iamVjdFR5cGVEZWZpbml0aW9uIGV4dGVuZHMgUGFydGlhbDxTY2hlbWFEYXRhVXNhZ2U+IHtcclxuICAvKipcclxuICAgKiBNYXkgYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgdHlwZSBuYW1lIGlmIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBrZXlzIGluIHRoZSBzY2hlbWEuXHJcbiAgICovXHJcbiAgbmFtZT86IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHR5cGUgaW5oZXJpdHMgcHJvcGVydGllcyBmcm9tIHRoZXNlIG90aGVyIHR5cGVzLlxyXG4gICAqXHJcbiAgICogRGF0YSB1c2FnZSB3aWxsIGJlIGluaGVyaXRlZCBieSB0aGVzZSB0eXBlcyBpbiBvcmRlciwgdGhhdCBpcywgaWYgYm90aCB0aGUgZmlyc3QgYW5kIGxhc3RcclxuICAgKiB0eXBlIGhhcyBhIGRhdGEgY2xhc3NpZmljYXRpb24sIHRoZSBsYXN0IG9uZSB3aW5zLlxyXG4gICAqL1xyXG4gIGV4dGVuZHM/OiBzdHJpbmdbXTtcclxuXHJcbiAgLyoqIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0eXBlLiAqL1xyXG4gIHByb3BlcnRpZXM6IHtcclxuICAgIFtQIGluIHN0cmluZ106IFNjaGVtYVByb3BlcnR5RGVmaW5pdGlvbjtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU0NIRU1BX1RZUEVfUFJPUEVSVFkgPSBcIkBzY2hlbWFcIjtcclxuZXhwb3J0IGNvbnN0IFNDSEVNQV9QUklWQUNZX1BST1BFUlRZID0gXCJAcHJpdmFjeVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU2NoZW1hVHlwZWREYXRhVHlwZUluZm8gPSBzdHJpbmc7XHJcbi8vICB7XHJcbi8vICAgLyoqIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIHNjaGVtYSB0aGF0IGRlZmluZXMgdGhlIHR5cGUuICovXHJcbi8vICAgbnM6IHN0cmluZztcclxuLy8gICAvKiogVGhlIG5hbWUgb2YgdGhlIHR5cGUgKGV4Y2x1ZGluZyBuYW1lc3BhY2UpLiAqL1xyXG4vLyAgIG5hbWU6IHN0cmluZztcclxuLy8gICAvKiogVGhlIHZlcnNpb24gb2YgdGhlIHR5cGUsIGlmIHNwZWNpZmllZC4gKi9cclxuLy8gICB2ZXJzaW9uPzogc3RyaW5nO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVtYVR5cGVkRGF0YVByaXZhY3lJbmZvIHtcclxuICAvKipcclxuICAgKiBPbmUgb3IgbW9yZSBwcm9wZXJ0eSB2YWx1ZXMgaGF2ZSBiZWVuIHJlbW92ZWQgYmVjYXVzZSB0aGV5IHdvdWxkIHZpb2xhdGUgYSB1c2VyJ3MgY29uc2VudC5cclxuICAgKiBXaGVuIHRoaXMgaXMgdGhlIGNhc2UsIHBsZWFzZSBhbHNvIGNoZWNrZWQgdGhlIHtAbGluayBpbnZhbGlkfSBmbGFnIHNpbmNlIHRoZSBwYXJ0aWFsIGRhdGEgYWZ0ZXIgY2Vuc29yaW5nXHJcbiAgICogbWF5IG5vdCB2YWxpZGF0ZSBhZ2FpbnN0IHRoZSBzY2hlbWEuXHJcbiAgICovXHJcbiAgY2Vuc29yZWQ/OiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgZGF0YSBkb2VzIG5vdCB2YWxpZGF0ZSBhZ2FpbnN0IHRoZSBzY2hlbWEuXHJcbiAgICovXHJcbiAgaW52YWxpZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2NoZW1hVHlwZWREYXRhIHtcclxuICBbU0NIRU1BX1RZUEVfUFJPUEVSVFldPzogU2NoZW1hVHlwZWREYXRhVHlwZUluZm87XHJcblxyXG4gIFtTQ0hFTUFfUFJJVkFDWV9QUk9QRVJUWV0/OiBTY2hlbWFUeXBlZERhdGFQcml2YWN5SW5mbztcclxufVxyXG4iLCJpbXBvcnQgeyBlbGxpcHNpcywgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuaW1wb3J0IHsgU2NoZW1hVmFsaWRhdGlvbkNvbnRleHQsIFNjaGVtYVZhbHVlVmFsaWRhdG9yIH0gZnJvbSBcIi5cIjtcclxuaW1wb3J0IHsgU2NoZW1hUHJvcGVydHlUeXBlIH0gZnJvbSBcIi4uL1NjaGVtYVByb3BlcnR5VHlwZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVmFsaWRhdGlvbkVycm9yQ29udGV4dCA9IHtcclxuICBwYXRoOiBzdHJpbmc7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIHNvdXJjZTogYW55O1xyXG4gIHR5cGU6IFNjaGVtYVByb3BlcnR5VHlwZSB8IG51bGw7XHJcbiAgZm9yYmlkZGVuPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCA9IFN5bWJvbCgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGpvaW5QYXRoID0gKHByZWZpeDogc3RyaW5nLCBjdXJyZW50OiBzdHJpbmcpID0+XHJcbiAgY3VycmVudD8ubGVuZ3RoID8gcHJlZml4ICsgKGN1cnJlbnRbMF0gPT09IFwiW1wiID8gXCJcIiA6IFwiLlwiKSArIGN1cnJlbnQgOiBwcmVmaXg7XHJcblxyXG5leHBvcnQgY29uc3QgcHVzaElubmVyRXJyb3JzID0gPFQ+KFxyXG4gIHByZWZpeDogc3RyaW5nLFxyXG4gIHZhbHVlOiBULFxyXG4gIGN1cnJlbnQ6IGFueSxcclxuICBjb250ZXh0OiBTY2hlbWFWYWxpZGF0aW9uQ29udGV4dCxcclxuICBlcnJvcnM6IFZhbGlkYXRpb25FcnJvckNvbnRleHRbXSxcclxuICB2YWxpZGF0YWJsZTogeyB2YWxpZGF0ZTogU2NoZW1hVmFsdWVWYWxpZGF0b3IgfVxyXG4pOiBUIHwgdHlwZW9mIFZBTElEQVRJT05fRVJST1JfU1lNQk9MID0+IHtcclxuICBjb25zdCBpbm5lckVycm9yczogVmFsaWRhdGlvbkVycm9yQ29udGV4dFtdID0gW107XHJcbiAgaWYgKFxyXG4gICAgKHZhbHVlID0gdmFsaWRhdGFibGUudmFsaWRhdGUoXHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBjdXJyZW50LFxyXG4gICAgICBjb250ZXh0LFxyXG4gICAgICBpbm5lckVycm9yc1xyXG4gICAgKSBhcyBhbnkpID09PSBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCB8fFxyXG4gICAgaW5uZXJFcnJvcnMubGVuZ3RoXHJcbiAgKSB7XHJcbiAgICBlcnJvcnMucHVzaChcclxuICAgICAgLi4uaW5uZXJFcnJvcnMubWFwKChlcnJvcikgPT4gKHtcclxuICAgICAgICAuLi5lcnJvcixcclxuICAgICAgICBwYXRoOiBqb2luUGF0aChwcmVmaXgsIGVycm9yLnBhdGgpLFxyXG4gICAgICB9KSlcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiB2YWx1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0W10sIG1lc3NhZ2U/OiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKChtZXNzYWdlID8gbWVzc2FnZSArIFwiOlxcblwiIDogXCJcIikgKyBmb3JtYXRWYWxpZGF0aW9uRXJyb3JzKGVycm9ycykpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1hdEVycm9yU291cmNlID0gKHZhbHVlOiBhbnkpID0+XHJcbiAgdmFsdWUgPT09IHVuZGVmaW5lZCA/IFwidW5kZWZpbmVkXCIgOiBlbGxpcHNpcyhKU09OLnN0cmluZ2lmeSh2YWx1ZSksIDQwLCB0cnVlKTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVWYWxpZGF0aW9uRXJyb3JzID0gPFxyXG4gIFIsXHJcbiAgQ29sbGVjdGVkIGV4dGVuZHMgVmFsaWRhdGlvbkVycm9yQ29udGV4dFtdIHwgTnVsbGlzaFxyXG4+KFxyXG4gIGFjdGlvbjogKFxyXG4gICAgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0W11cclxuICApID0+IFIgfCB0eXBlb2YgVkFMSURBVElPTl9FUlJPUl9TWU1CT0wsXHJcbiAgY29sbGVjdGVkRXJyb3JzPzogQ29sbGVjdGVkLFxyXG4gIG1lc3NhZ2U/OiBzdHJpbmdcclxuKTogQ29sbGVjdGVkIGV4dGVuZHMgTnVsbGlzaFxyXG4gID8gRXhjbHVkZTxSLCB0eXBlb2YgVkFMSURBVElPTl9FUlJPUl9TWU1CT0w+XHJcbiAgOiBSID0+IHtcclxuICBjb25zdCBlcnJvcnM6IFZhbGlkYXRpb25FcnJvckNvbnRleHRbXSA9IGNvbGxlY3RlZEVycm9ycyA/PyBbXTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYWN0aW9uKGVycm9ycyk7XHJcbiAgaWYgKFxyXG4gICAgIWNvbGxlY3RlZEVycm9ycyAmJlxyXG4gICAgKHJlc3VsdCA9PT0gVkFMSURBVElPTl9FUlJPUl9TWU1CT0wgfHwgZXJyb3JzLmxlbmd0aClcclxuICApIHtcclxuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoZXJyb3JzLCBtZXNzYWdlKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdCBhcyBhbnk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybWF0VmFsaWRhdGlvbkVycm9ycyA9IChcclxuICBlcnJvcnM6IHJlYWRvbmx5IFZhbGlkYXRpb25FcnJvckNvbnRleHRbXSxcclxuICBidWxsZXQgPSBcIlwiXHJcbik6IHN0cmluZyA9PiB7XHJcbiAgaWYgKCFlcnJvcnMubGVuZ3RoKSByZXR1cm4gXCIodW5zcGVjaWZpZWQgZXJyb3IpXCI7XHJcblxyXG4gIGNvbnN0IGZvcm1hdHRlZCA9IChlcnJvcnMubGVuZ3RoID4gMTAgPyBlcnJvcnMuc2xpY2UoMCwgMTApIDogZXJyb3JzKS5tYXAoXHJcbiAgICAoeyBwYXRoLCBtZXNzYWdlIH0pID0+IGAke2J1bGxldH0ke3BhdGggPyBgJHtwYXRofTogJHttZXNzYWdlfWAgOiBtZXNzYWdlfWBcclxuICApO1xyXG4gIGlmIChlcnJvcnMubGVuZ3RoID4gMTApIHtcclxuICAgIGZvcm1hdHRlZC5wdXNoKFwiXCIsIGAoYW5kICR7ZXJyb3JzLmxlbmd0aCAtIDEwfSBtb3JlKWApO1xyXG4gIH1cclxuICByZXR1cm4gZm9ybWF0dGVkLmpvaW4oXCJcXG5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7IGRpc3RpbmN0MiwgaXRlbWl6ZTIgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7XHJcbiAgU2NoZW1hRW51bVR5cGVEZWZpbml0aW9uLFxyXG4gIFNjaGVtYVByaW1pdGl2ZVR5cGVEZWZpbml0aW9uLFxyXG4gIFNjaGVtYVZhbGlkYXRpb25FcnJvcixcclxuICBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTCxcclxufSBmcm9tIFwiLi4vLi4vLi4vLi5cIjtcclxuaW1wb3J0IHsgZm9ybWF0RXJyb3JTb3VyY2UgfSBmcm9tIFwiLlwiO1xyXG5cclxuY29uc3QgUkVHRVhfREFURSA9IC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0oPzpUMDA6MDA6MDAoPzpcXC4wMDApPyk/WiQvO1xyXG5jb25zdCBSRUdFWF9EQVRFVElNRSA9XHJcbiAgL15cXGR7NH0tXFxkezJ9LVxcZHsyfSg/OlRcXGR7Mn06XFxkezJ9OlxcZHsyfSg/OlxcLlxcZHsxLDd9KT8pP1okLztcclxuY29uc3QgUkVHRVhfVVVJRCA9XHJcbiAgL15cXHs/KFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSlcXH0/JC87XHJcblxyXG5jb25zdCBSRUdFWF9VUkkgPVxyXG4gIC9eKD86KD86KFtcXHcrLi1dKyk6KShcXC9cXC8pPykoKD86KFteOkBdKykoPzpcXDooW15AXSopKT9AKT8oPzpcXFsoW15cXF1dKylcXF18KFswLTk6XSt8W14vK10rPykpKD86OihcXGQqKSk/KShcXC9bXiM/XSopPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kLztcclxuY29uc3QgUkVHRVhfRU1BSUwgPVxyXG4gIC9eW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKkAoPzooXFxbKChbMC05Ll0rKXwoWzAtOWEtZjpdKykpXFxdKXwoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSkpPyQvO1xyXG5cclxuZXhwb3J0IHR5cGUgU2NoZW1hUHJpbWl0aXZlVmFsdWVWYWxpZGF0b3IgPSAoXHJcbiAgdmFsdWU6IGFueSxcclxuICBlcnJvcnM6IFNjaGVtYVZhbGlkYXRpb25FcnJvcltdXHJcbikgPT4gYW55IHwgbnVsbDtcclxuXHJcbmNvbnN0IGFkZEVycm9yID0gKFxyXG4gIGVycm9yczogU2NoZW1hVmFsaWRhdGlvbkVycm9yW10sXHJcbiAgdmFsdWU6IGFueSxcclxuICBtZXNzYWdlOiBzdHJpbmdcclxuKSA9PiAoXHJcbiAgZXJyb3JzLnB1c2goe1xyXG4gICAgcGF0aDogXCJcIixcclxuICAgIHR5cGU6IG51bGwsXHJcbiAgICBzb3VyY2U6IHZhbHVlLFxyXG4gICAgbWVzc2FnZTogYCR7Zm9ybWF0RXJyb3JTb3VyY2UodmFsdWUpfSAke21lc3NhZ2V9LmAsXHJcbiAgfSksXHJcbiAgVkFMSURBVElPTl9FUlJPUl9TWU1CT0xcclxuKTtcclxuXHJcbmNvbnN0IGlzTnVtYmVyID0gKHZhbHVlOiBhbnksIGludGVnZXI6IGJvb2xlYW4sIGFsbG93U3RyaW5nczogYm9vbGVhbikgPT5cclxuICAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmXHJcbiAgICAvLyBPbmx5IGFjdHVhbCBudW1iZXJzLiBJRUVFIDc1NCBzdHVmZiBsaWtlIE5hTiBpcyBub3Qgc3VwcG9ydGVkIGluIEpTT04gc28gYWxzbyBub3QgaGVyZS5cclxuICAgICgoIWludGVnZXIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKSAmJiAhTnVtYmVyLmlzTmFOKHZhbHVlKSkgfHxcclxuICAgICAgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpKSB8fFxyXG4gIChhbGxvd1N0cmluZ3MgJiZcclxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgaXNOdW1iZXIoaW50ZWdlciA/IHBhcnNlSW50KHZhbHVlKSA6IHBhcnNlRmxvYXQodmFsdWUpLCBpbnRlZ2VyLCBmYWxzZSkpO1xyXG5cclxuY29uc3QgcHJpbWl0aXZlVmFsaWRhdG9yczogUmVjb3JkPHN0cmluZywgU2NoZW1hUHJpbWl0aXZlVmFsdWVWYWxpZGF0b3I+ID0ge307XHJcbmV4cG9ydCBjb25zdCBnZXRQcmltaXRpdmVUeXBlVmFsaWRhdG9yID0gKFxyXG4gIHR5cGU6IFNjaGVtYVByaW1pdGl2ZVR5cGVEZWZpbml0aW9uIHwgU2NoZW1hRW51bVR5cGVEZWZpbml0aW9uLFxyXG4gIGFsbG93TnVtZXJpY1N0cmluZ3MgPSBmYWxzZVxyXG4pOiB7XHJcbiAgdmFsaWRhdG9yOiBTY2hlbWFQcmltaXRpdmVWYWx1ZVZhbGlkYXRvcjtcclxuICBwcmltaXRpdmU6IFNjaGVtYVByaW1pdGl2ZVR5cGVEZWZpbml0aW9uW1wicHJpbWl0aXZlXCJdO1xyXG4gIGVudW1WYWx1ZXM6IFNldDxzdHJpbmcgfCBudW1iZXI+IHwgdW5kZWZpbmVkO1xyXG59ID0+IHtcclxuICBsZXQgcHJpbWl0aXZlID1cclxuICAgIHR5cGUucHJpbWl0aXZlID8/ICh0eXBlLnByaW1pdGl2ZSA9IHR5cGVvZiAodHlwZS5lbnVtPy5bMF0gPz8gXCJcIikgYXMgYW55KTtcclxuXHJcbiAgbGV0IHZhbGlkYXRvciA9IChwcmltaXRpdmVWYWxpZGF0b3JzW1xyXG4gICAgdHlwZS5wcmltaXRpdmUgKyBcIi1cIiArICh0eXBlW1wiZm9ybWF0XCJdID8/IFwiXCIpICsgXCItXCIgKyBhbGxvd051bWVyaWNTdHJpbmdzXHJcbiAgXSA/Pz0gY3JlYXRlKHR5cGUgYXMgU2NoZW1hUHJpbWl0aXZlVHlwZURlZmluaXRpb24sIGFsbG93TnVtZXJpY1N0cmluZ3MpKTtcclxuXHJcbiAgY29uc3QgbWF4TGVuZ3RoID0gdHlwZVtcIm1heExlbmd0aFwiXTtcclxuICBpZiAobWF4TGVuZ3RoICE9IG51bGwpIHtcclxuICAgIGNvbnN0IGlubmVyID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yID0gKHZhbHVlLCBlcnJvcnMpID0+XHJcbiAgICAgICh2YWx1ZSA9IGlubmVyKHZhbHVlLCBlcnJvcnMpKSA9PT0gVkFMSURBVElPTl9FUlJPUl9TWU1CT0xcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiB2YWx1ZS5sZW5ndGggPiBtYXhMZW5ndGhcclxuICAgICAgICA/IGFkZEVycm9yKFxyXG4gICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICBgZXhjZWVkcyB0aGUgbWF4aW11bSBhbGxvd2VkICR7bWF4TGVuZ3RofSBudW1iZXIgb2YgY2hhcmFjdGVyc2BcclxuICAgICAgICAgIClcclxuICAgICAgICA6IHZhbHVlO1xyXG4gIH1cclxuICBjb25zdCBtaW4gPSB0eXBlW1wibWluXCJdLFxyXG4gICAgbWF4ID0gdHlwZVtcIm1heFwiXTtcclxuICBpZiAobWluICE9IG51bGwgfHwgbWF4ICE9IG51bGwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XHJcbiAgICAgIG1pbiAhPSBudWxsXHJcbiAgICAgICAgPyBtYXggIT0gbnVsbFxyXG4gICAgICAgICAgPyBgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fWBcclxuICAgICAgICAgIDogYGF0IGxlYXN0ICR7bWlufWBcclxuICAgICAgICA6IGBhdCBtb3N0ICR7bWF4fWA7XHJcbiAgICBjb25zdCBpbm5lciA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvciA9ICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAodmFsdWUgPSBpbm5lcih2YWx1ZSwgZXJyb3JzKSkgPT09IFZBTElEQVRJT05fRVJST1JfU1lNQk9MXHJcbiAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgIDogKG1pbiA9PSBudWxsIHx8IHZhbHVlID49IG1pbikgJiYgKG1heCA9PSBudWxsIHx8IHZhbHVlIDw9IG1heClcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBlcnJvck1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGVudW1WYWx1ZXM6IFNldDxhbnk+IHwgdW5kZWZpbmVkO1xyXG4gIGlmIChcImVudW1cIiBpbiB0eXBlKSB7XHJcbiAgICBjb25zdCBpbm5lciA9IHZhbGlkYXRvcjtcclxuICAgIGVudW1WYWx1ZXMgPSBuZXcgU2V0KFxyXG4gICAgICAoQXJyYXkuaXNBcnJheSh0eXBlLmVudW0pID8gdHlwZS5lbnVtIDogW3R5cGUuZW51bV0pLm1hcCgodmFsdWU6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xyXG4gICAgICAgIGlmICgodmFsdWUgPSBpbm5lcih2YWx1ZSwgZXJyb3JzKSkgPT09IFZBTElEQVRJT05fRVJST1JfU1lNQk9MKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGVycm9yc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFlbnVtVmFsdWVzLnNpemUpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgICAgICBcIkF0IGxlYXN0IG9uZSBlbnVtIHZhbHVlIHRvIHRlc3QgYWdhaW5zdCBpcyByZXF1aXJlZC5cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XHJcbiAgICAgIFwiaXMgbm90IHRoZSBjb25zdGFudCB2YWx1ZSBcIiArXHJcbiAgICAgIGl0ZW1pemUyKFxyXG4gICAgICAgICh0eXBlLmVudW0gYXMgYW55W10pLm1hcCgodmFsdWU6IGFueSkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcclxuICAgICAgICBcIm9yXCJcclxuICAgICAgKTtcclxuXHJcbiAgICB2YWxpZGF0b3IgPSAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgKHZhbHVlID0gaW5uZXIodmFsdWUsIGVycm9ycykpID09PSBWQUxJREFUSU9OX0VSUk9SX1NZTUJPTFxyXG4gICAgICAgID8gdmFsdWVcclxuICAgICAgICA6IGVudW1WYWx1ZXMhLmhhcyh2YWx1ZSlcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBlcnJvck1lc3NhZ2UpO1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgdmFsaWRhdG9yLFxyXG4gICAgcHJpbWl0aXZlLFxyXG4gICAgZW51bVZhbHVlczogZGlzdGluY3QyKGVudW1WYWx1ZXMpLFxyXG4gIH07XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUoXHJcbiAgdHlwZTogU2NoZW1hUHJpbWl0aXZlVHlwZURlZmluaXRpb24sXHJcbiAgYWxsb3dOdW1lcmljU3RyaW5nczogYm9vbGVhblxyXG4pOiBTY2hlbWFQcmltaXRpdmVWYWx1ZVZhbGlkYXRvciB7XHJcbiAgc3dpdGNoICh0eXBlLnByaW1pdGl2ZSkge1xyXG4gICAgY2FzZSBcImJvb2xlYW5cIjpcclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCJcclxuICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSBCb29sZWFuXCIpO1xyXG5cclxuICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICB2YWx1ZSAmJiBSRUdFWF9EQVRFLnRlc3QodmFsdWUpICYmICFpc05hTigrbmV3IERhdGUodmFsdWUpKVxyXG4gICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgOiBhZGRFcnJvcihcclxuICAgICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgXCJpcyBub3QgYSB2YWxpZCBJU08gODYwMSBVVEMgZGF0ZSAodGltZSBpcyBub3QgYWxsb3dlZCwgYW5kIHRoZSAnWicgcG9zdGZpeCBtdXN0IGJlIGFkZGVkIHRvIGluZGljYXRlIENvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lKVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgY2FzZSBcInRpbWVzdGFtcFwiOlxyXG4gICAgY2FzZSBcImRhdGV0aW1lXCI6XHJcbiAgICAgIGNvbnN0IGlzbyA9XHJcbiAgICAgICAgXCJmb3JtYXRcIiBpbiB0eXBlXHJcbiAgICAgICAgICA/IHR5cGUuZm9ybWF0ICE9PSBcInVuaXhcIlxyXG4gICAgICAgICAgOiB0eXBlLnByaW1pdGl2ZSA9PT0gXCJkYXRldGltZVwiO1xyXG4gICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+IHtcclxuICAgICAgICBpZiAoIXZhbHVlIHx8IGlzTnVtYmVyKHZhbHVlLCBmYWxzZSwgYWxsb3dOdW1lcmljU3RyaW5ncykpIHtcclxuICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUsIHRydWUsIGFsbG93TnVtZXJpY1N0cmluZ3MpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBcImlzIG5vdCBhIHZhbGlkIFVOSVggdGltZXN0YW1wXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFsdWUgPSArdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghUkVHRVhfREFURVRJTUUudGVzdCh2YWx1ZSkgfHwgaXNOYU4oK25ldyBEYXRlKHZhbHVlKSkpIHtcclxuICAgICAgICAgIHJldHVybiBhZGRFcnJvcihcclxuICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgXCJpcyBub3QgYSB2YWxpZCBJU08gODYwMSBVVEMgZGF0ZS90aW1lICh0aGUgJ1onIHBvc3RmaXggbXVzdCBiZSBhZGRlZCB0byBpbmRpY2F0ZSBDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZSlcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBpc28gPyBuZXcgRGF0ZSh2YWx1ZSkudG9JU09TdHJpbmcoKSA6ICt2YWx1ZTtcclxuICAgICAgfTtcclxuXHJcbiAgICBjYXNlIFwiZHVyYXRpb25cIjpcclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgIGlzTnVtYmVyKHZhbHVlLCB0cnVlLCBhbGxvd051bWVyaWNTdHJpbmdzKVxyXG4gICAgICAgICAgPyArdmFsdWVcclxuICAgICAgICAgIDogYWRkRXJyb3IoXHJcbiAgICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgIFwiaXMgbm90IGEgdmFsaWQgZHVyYXRpb24gKG11c3QgYmUgcHJvdmlkZWQgYXMgbWlsbGlzZWNvbmRzKVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgY2FzZSBcImludGVnZXJcIjpcclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgIGlzTnVtYmVyKHZhbHVlLCB0cnVlLCBhbGxvd051bWVyaWNTdHJpbmdzKVxyXG4gICAgICAgICAgPyArdmFsdWVcclxuICAgICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSB2YWxpZCBpbnRlZ2VyXCIpO1xyXG5cclxuICAgIGNhc2UgXCJudW1iZXJcIjpcclxuICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgIGlzTnVtYmVyKHZhbHVlLCBmYWxzZSwgYWxsb3dOdW1lcmljU3RyaW5ncylcclxuICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSBudW1iZXJcIik7XHJcblxyXG4gICAgY2FzZSBcInN0cmluZ1wiOlxyXG4gICAgICBzd2l0Y2ggKHR5cGUuZm9ybWF0KSB7XHJcbiAgICAgICAgY2FzZSBcInVyaVwiOlxyXG4gICAgICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgUkVHRVhfVVJJLnRlc3QodmFsdWUpXHJcbiAgICAgICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICAgIDogYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSB2YWxpZCBVUklcIik7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ1cmxcIjpcclxuICAgICAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiBSRUdFWF9VUkkuZXhlYyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghbWF0Y2gpIHJldHVybiBhZGRFcnJvcihlcnJvcnMsIHZhbHVlLCBcImlzIG5vdCBhIHZhbGlkIFVSTFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzJdXHJcbiAgICAgICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICAgIDogYWRkRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgIFwiaXMgbm90IGEgdmFsaWQgVVJMIChpdCBpcyBhIFVSSSwgYnV0IGEgVVJMIGlzIHJlcXVpcmVkKVwiXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBjYXNlIFwidXJuXCI6XHJcbiAgICAgICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgUkVHRVhfVVJJLmV4ZWModmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4gYWRkRXJyb3IoZXJyb3JzLCB2YWx1ZSwgXCJpcyBub3QgYSB2YWxpZCBVUk5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXSA9PT0gXCJ1cm5cIiAmJiAhbWF0Y2hbMl1cclxuICAgICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgICAgOiBhZGRFcnJvcihcclxuICAgICAgICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgXCJpcyBub3QgYSB2YWxpZCBVUk4gKGl0IGlzIGEgVVJJLCBidXQgYSBVUk4gaXMgcmVxdWlyZWQpXCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIGNhc2UgXCJlbWFpbFwiOlxyXG4gICAgICAgICAgcmV0dXJuICh2YWx1ZSwgZXJyb3JzKSA9PlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgUkVHRVhfRU1BSUwudGVzdCh2YWx1ZSlcclxuICAgICAgICAgICAgICA/IHZhbHVlLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKHZhbHVlLCBlcnJvcnMpID0+XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICA6IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgc3RyaW5nXCIpO1xyXG5cclxuICAgIGNhc2UgXCJ1dWlkXCI6XHJcbiAgICAgIHJldHVybiAodmFsdWUsIGVycm9ycykgPT5cclxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICA/IFJFR0VYX1VVSUQuZXhlYyh2YWx1ZSk/LlsxXS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICA6IG51bGwpID8/IGFkZEVycm9yKGVycm9ycywgdmFsdWUsIFwiaXMgbm90IGEgdmFsaWQgVVVJRFwiKTtcclxuXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICAgIGAnJHtmb3JtYXRFcnJvclNvdXJjZSh0eXBlKX0nIGlzIG5vdCBhIHN1cHBvcnRlZCBwcmltaXRpdmUgdHlwZS5gXHJcbiAgICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGNyZWF0ZUVudW1QYXJzZXIsIE1heWJlTnVsbGlzaCwgTnVsbGlzaCwgcGljazIgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBUaW1lc3RhbXAsIFZhcmlhYmxlS2V5IH0gZnJvbSBcIi4uLy4uXCI7XG5pbXBvcnQgeyBTY2hlbWFEYXRhVXNhZ2UgfSBmcm9tIFwiLi4vc2NoZW1hL1NjaGVtYURhdGFVc2FnZVwiO1xuXG5leHBvcnQgdHlwZSBLbm93blZhcmlhYmxlTWFwID0ge1xuICBbc2NvcGU6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59O1xuXG5jb25zdCB2YXJpYWJsZVNjb3BlTmFtZXMgPSB7XG4gIC8qKlxuICAgKiBWYXJpYWJsZXMgdGhhdCBhcmUgbm90IGJvdW5kIHRvIGluZGl2aWR1YWxzLCBkb2VzIG5vdCBjb250YWluIHBlcnNvbmFsIGRhdGEsIGFuZCBub3Qgc3ViamVjdCB0byBjZW5zb3JpbmcuXG4gICAqIFRoZXNlIG1heSBiZSB1c2VkIGZvciBwdXJwb3NlcyBzdWNoIGFzIHNoYXJlZCBydW50aW1lIGNvbmZpZ3VyYXRpb25cbiAgICogb3IgYXVnbWVudGluZyBleHRlcm5hbCBlbnRpdGllcyB3aXRoIHJlYWwtdGltZSBkYXRhIGZvciBwZXJzb25hbGl6YXRpb24gb3IgdGVzdGluZy5cbiAgICovXG4gIGdsb2JhbDogXCJnbG9iYWxcIixcblxuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgcmVsYXRlcyB0byBhbiBpbmRpdmlkdWFsJ3MgY3VycmVudCBzZXNzaW9uLiBUaGVzZSBhcmUgcHVyZ2VkIHdoZW4gdGhlIHNlc3Npb24gZW5kcy5cbiAgICpcbiAgICogU2Vzc2lvbiB2YXJpYWJsZXMgY2FuIG9ubHkgYmUgcmVhZCBmb3IgdGhlIGN1cnJlbnQgc2Vzc2lvbiBmcm9tIHVudHJ1c3RlZCBjb250ZXh0cy5cbiAgICovXG4gIHNlc3Npb246IFwic2Vzc2lvblwiLFxuXG4gIC8qKlxuICAgKiBWYXJpYWJsZXMgdGhhdCByZWxhdGVzIHRvIGFuIGluZGl2aWR1YWwncyBkZXZpY2UuXG4gICAqXG4gICAqIFRoZXNlIHZhcmlhYmxlcyBhcmUgcGh5c2ljYWxseSBzdG9yZWQgaW4gdGhlIGRldmljZSB3aGVyZSB0aGUgYXZhaWxhYmxlIHNwYWNlIG1heSBiZSB2ZXJ5IGxpbWl0ZWQuXG4gICAqIEZvciBleGFtcGxlLCBkbyBub3QgZXhjZWVkIGEgdG90YWwgb2YgMiBLaUIgaWYgdGFyZ2V0aW5nIHdlYiBicm93c2Vycy5cbiAgICpcbiAgICogVG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMgYmV0d2VlbiBjb25jdXJyZW50IHJlcXVlc3RzLCBkZXZpY2UgZGF0YSBtYXkgdGVtcG9yYXJpbHkgYmUgbG9hZGVkIGludG8gc2Vzc2lvbiBzdG9yYWdlLlxuICAgKlxuICAgKiBBbnkgZGF0YSBzdG9yZWQgaGVyZSBpcyBwZXIgZGVmaW5pdGlvbiBhdCBsZWFzdCBgaW5kaXJlY3RgIHNpbmNlIGl0IGlzIGxpbmtlZCB0byBhIGRldmljZS5cbiAgICovXG4gIGRldmljZTogXCJkZXZpY2VcIixcblxuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgcmVsYXRlcyB0byBhbiBpbmRpdmlkdWFsIGFjcm9zcyBkZXZpY2VzLlxuICAgKlxuICAgKiBBc3NvY2lhdGluZyBhIHVzZXIgSUQgd2l0aCBhIHNlc3Npb24gY2FuIG9ubHkgaGFwcGVuIGZyb20gYSB0cnVzdGVkIGNvbnRleHQsXG4gICAqIGJ1dCBkYXRhIGZvciB0aGUgYXNzb2NpYXRlZCB1c2VyIGNhbiB0aGVuIGJlIHJlYWQgZnJvbSB1bnRydXN0ZWQgY29udGV4dHMgdW5sZXNzIGEgYHRydXN0ZWQtb25seWAgcmVzdHJpY3Rpb24gaXMgcHV0IG9uIHRoZSBkYXRhLlxuICAgKlxuICAgKiBBbnkgZGF0YSBzdG9yZWQgaGVyZSBpcyBwZXIgZGVmaW5pdGlvbiBhdCBsZWFzdCBgZGlyZWN0YCBzaW5jZSBpdCBkaXJlY3RseSBsaW5rZWQgdG8gYW4gaW5kaXZpZHVhbC5cbiAgICovXG4gIHVzZXI6IFwidXNlclwiLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVTZXJ2ZXJTY29wZSA9XG4gICh0eXBlb2YgdmFyaWFibGVTY29wZU5hbWVzKVtrZXlvZiB0eXBlb2YgdmFyaWFibGVTY29wZU5hbWVzXTtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVFeHBsaWNpdFNlcnZlclNjb3BlcyA9IFwiZ2xvYmFsXCI7XG5cbmV4cG9ydCBjb25zdCBWYXJpYWJsZVNlcnZlclNjb3BlID0gY3JlYXRlRW51bVBhcnNlcihcbiAgXCJ2YXJpYWJsZSBzY29wZVwiLFxuICB2YXJpYWJsZVNjb3BlTmFtZXNcbik7XG5cbi8qKlxuICogQSB2YXJpYWJsZSBpcyBhIHNwZWNpZmljIHBpZWNlIG9mIGluZm9ybWF0aW9uIHRoYXQgY2FuIGJlIGNsYXNzaWZpZWQgYW5kIGNoYW5nZWQgaW5kZXBlbmRlbnRseS5cbiAqIEEgdmFyaWFibGUgY2FuIGVpdGhlciBiZSBnbG9iYWwgb3IgcmVsYXRlZCB0byBhIHNwZWNpZmljIGVudGl0eSBvciB0cmFja2VyIHNjb3BlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlPFQgZXh0ZW5kcyB7fSA9IGFueT4gZXh0ZW5kcyBWYXJpYWJsZUtleSB7XG4gIC8qKlxuICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIG9ubHkgcHJvdmlkZWQgaWYgdGhlIHZhcmlhYmxlIGlzIHNjaGVtYSBib3VuZC5cbiAgICovXG4gIHNjaGVtYT86IHtcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIHZlcnNpb24/OiBzdHJpbmc7XG4gICAgdXNhZ2U6IFNjaGVtYURhdGFVc2FnZTtcbiAgfTtcblxuICAvKipcbiAgICogV2hlbiB0aGUgdmFyaWFibGUgd2FzIGNyZWF0ZWQgKFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcykuXG4gICAqL1xuICBjcmVhdGVkOiBUaW1lc3RhbXA7XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHZhcmlhYmxlIHdhcyBsYXN0IG1vZGlmaWVkLiAoVW5peCBtcykuXG4gICAqL1xuICBtb2RpZmllZDogVGltZXN0YW1wO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSB0b2tlbiB0aGF0IGNoYW5nZXMgZXZlcnkgdGltZSBhIHZhcmlhYmxlIGlzIHVwZGF0ZWQuXG4gICAqXG4gICAqIEl0IGZvbGxvd3MgdGhlIHNlbWFudGljcyBvZiBhIFwid2Vha1wiIEVUYWcgaW4gdGhlIEhUVFAgcHJvdG9jb2wuXG4gICAqIEhvdyB0aGUgdmFsdWUgaXMgZ2VuZXJhdGVkIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCBzcGVjaWZpYyB0byB0aGUgc3RvcmFnZSB0aGF0IG1hbmFnZXMgdGhlIHZhcmlhYmxlLlxuICAgKlxuICAgKlxuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGludCB0byB2YXJpYWJsZSBzdG9yYWdlcyB0aGF0IHRoZSB2YXJpYWJsZSBzaG91bGQgYmUgZGVsZXRlZCBhZnRlciB0aGlzIGFtb3VudCBvZiBtaWxsaXNlY29uZHNcbiAgICogdW5sZXNzIHVwZGF0ZWQgb3IgcmVmcmVzaGVkICh2aWEgVmFyaWFibGVTdG9yYWdlIGluIEB0YWlsanMvZW5naW5lIHNldCBvciByZWZyZXNoIG1ldGhvZHMpLlxuICAgKlxuICAgKiBWYXJpYWJsZSBzdG9yYWdlcyBjYW4gZGVjaWRlIGhvdyBhY2N1cmF0ZWx5IHRoZXkgd2FudCB0byBlbmZvcmNlIHRoaXMgaW4gdGhlIGJhY2tncm91bmQsXG4gICAqIHlldCBpdCB3aWxsIGJlIGFjY3VyYXRlIGZyb20gYSBjbGllbnQgcGVyc3BlY3RpdmUsIHNpbmNlIHRhaWwuanMgZmlsdGVycyBvdXQgZXhwaXJlZCB2YXJpYWJsZXMgb24gcmVhZC5cbiAgICovXG4gIHR0bD86IG51bWJlcjtcblxuICAvKiogSWYgdGhlIHZhcmlhYmxlIGhhcyBhIHRpbWUtdG8tbGl2ZSwgdGhpcyBpcyB3aGVuIGl0IHNob3VsZCBleHBpcmUuICovXG4gIGV4cGlyZXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuIEl0IG11c3Qgb25seSBiZSB1bmRlZmluZWQgaW4gYSBzZXQgb3BlcmF0aW9uIGluIHdoaWNoIGNhc2UgaXQgbWVhbnMgXCJkZWxldGVcIi5cbiAgICovXG4gIHZhbHVlOiBUO1xufVxuXG4vKiogUmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIGEga2V5IHRoYXQgY2FuIGJlIHVzZWQgZm9yIGxvZ2dpbmcgYW5kIGVycm9yIG1lc3NhZ2VzLiAgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRWYXJpYWJsZUtleSA9IChcbiAge1xuICAgIGtleSxcbiAgICBzY29wZSA9IFwiXCIsXG4gICAgZW50aXR5SWQgPSBcIlwiLFxuICAgIHNvdXJjZSA9IFwiXCIsXG4gIH06IHtcbiAgICBzb3VyY2U/OiBzdHJpbmcgfCBudWxsO1xuICAgIHNjb3BlPzogc3RyaW5nO1xuICAgIGtleTogc3RyaW5nO1xuICAgIGVudGl0eUlkPzogc3RyaW5nO1xuICB9LFxuICBlcnJvcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gXCJcIlxuKSA9PlxuICBbXG4gICAgXCInXCIgKyBrZXkgKyBcIidcIixcbiAgICBzb3VyY2UgJiYgXCJmcm9tICdcIiArIHNvdXJjZSArIFwiJ1wiLFxuICAgIGVycm9yLFxuICAgIHNjb3BlICYmIFwiaW4gXCIgKyBzY29wZSArIFwiIHNjb3BlXCIsXG4gICAgZW50aXR5SWQgJiYgXCJmb3IgJ1wiICsgZW50aXR5SWQgKyBcIidcIixcbiAgXVxuICAgIC5maWx0ZXIoKHMpID0+IHMpXG4gICAgLmpvaW4oXCIgXCIpO1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdEtleSA9IDxcbiAgVCBleHRlbmRzIChQYXJ0aWFsPFZhcmlhYmxlS2V5PiAmIHsga2V5OiBzdHJpbmcgfSkgfCBOdWxsaXNoXG4+KFxuICB2YWx1ZTogVFxuKTogVCBleHRlbmRzIGluZmVyIFRcbiAgPyBQaWNrPFQsIGtleW9mIFQgJiAoXCJzb3VyY2VcIiB8IFwia2V5XCIgfCBcInNjb3BlXCIgfCBcImVudGl0eUlkXCIpPiBleHRlbmRzIGluZmVyIFRcbiAgICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxuICAgIDogbmV2ZXJcbiAgOiBuZXZlciA9PlxuICB2YWx1ZSA9PSBudWxsXG4gICAgPyB2YWx1ZVxuICAgIDogKHtcbiAgICAgICAgc291cmNlOiB2YWx1ZS5zb3VyY2UsXG4gICAgICAgIGtleTogdmFsdWUua2V5LFxuICAgICAgICBzY29wZTogdmFsdWUuc2NvcGUsXG4gICAgICAgIGVudGl0eUlkOiB2YWx1ZS5lbnRpdHlJZCxcbiAgICAgIH0gYXMgYW55KTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RWYXJpYWJsZSA9IDxUIGV4dGVuZHMgUGFydGlhbDxWYXJpYWJsZT4gfCBOdWxsaXNoPihcbiAgdmFyaWFibGU6IFRcbik6IE1heWJlTnVsbGlzaDxQaWNrPFZhcmlhYmxlLCBrZXlvZiBUICYga2V5b2YgVmFyaWFibGU+LCBUPiA9PiB7XG4gIGlmICh2YXJpYWJsZSA9PSBudWxsKSByZXR1cm4gdmFyaWFibGUgYXMgYW55O1xuICByZXR1cm4ge1xuICAgIHNjb3BlOiB2YXJpYWJsZS5zY29wZSxcbiAgICBrZXk6IHZhcmlhYmxlLmtleSxcbiAgICBlbnRpdHlJZDogdmFyaWFibGUuZW50aXR5SWQsXG4gICAgY3JlYXRlZDogdmFyaWFibGUuY3JlYXRlZCxcbiAgICBtb2RpZmllZDogdmFyaWFibGUubW9kaWZpZWQsXG4gICAgdmVyc2lvbjogdmFyaWFibGUudmVyc2lvbixcbiAgICBleHBpcmVzOiB2YXJpYWJsZS5leHBpcmVzLFxuICAgIHR0bDogdmFyaWFibGUudHRsLFxuICAgIHZhbHVlOiB2YXJpYWJsZS52YWx1ZSxcbiAgfSBzYXRpc2ZpZXMgUGFydGlhbDxWYXJpYWJsZT4gYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUxvY2FsU2NvcGVkRW50aXR5SWQgPSAodmFyaWFibGU6IFZhcmlhYmxlKSA9PiB7XG4gIGlmICh2YXJpYWJsZS5zY29wZSAhPT0gXCJnbG9iYWxcIikge1xuICAgIHZhcmlhYmxlLmVudGl0eUlkID0gdW5kZWZpbmVkITtcbiAgfVxuICByZXR1cm4gdmFyaWFibGU7XG59O1xuIiwiaW1wb3J0IHtcclxuICBhcnJheTIsXHJcbiAgZWxsaXBzaXMsXHJcbiAgZm9yRWFjaDIsXHJcbiAgZ2V0MixcclxuICBOdWxsaXNoLFxyXG4gIG9iajIsXHJcbiAgdGhyb3dFcnJvcixcclxuICB0cnlBZGQsXHJcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQge1xyXG4gIENPUkVfU0NIRU1BX05TLFxyXG4gIFNDSEVNQV9EQVRBX1VTQUdFX0FOT05ZTU9VUyxcclxuICBTY2hlbWFUeXBlRGVmaW5pdGlvbixcclxuICB0eXBlIFNjaGVtYURlZmluaXRpb24sXHJcbiAgdHlwZSBWYXJpYWJsZVNlcnZlclNjb3BlLFxyXG59IGZyb20gXCIuLi8uLi8uLlwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0VOU09SX1ZBTElEQVRFOiBWYWxpZGF0YWJsZVNjaGVtYUVudGl0eSA9IHtcclxuICB2YWxpZGF0ZTogKHZhbHVlOiBhbnksIF9jdXJyZW50LCBfY29udGV4dCwgX2Vycm9ycykgPT4gdmFsdWUsXHJcbiAgY2Vuc29yOiAodmFsdWUsIF9jb250ZXh0KSA9PiB2YWx1ZSxcclxufTtcclxuXHJcbmltcG9ydCB7XHJcbiAgQ09SRV9FVkVOVF9ESVNDUklNSU5BVE9SLFxyXG4gIGhhc0VudW1WYWx1ZXMsXHJcbiAgaXNTY2hlbWFPYmplY3RUeXBlLFxyXG4gIFNjaGVtYSxcclxuICBTY2hlbWFEYXRhVXNhZ2UsXHJcbiAgU2NoZW1hT2JqZWN0VHlwZSxcclxuICBTY2hlbWFQcm9wZXJ0eVR5cGUsXHJcbiAgU2NoZW1hU3lzdGVtVHlwZURlZmluaXRpb24sXHJcbiAgU2NoZW1hVmFyaWFibGUsXHJcbn0gZnJvbSBcIi4uLy4uXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUV2ZW50UGF0Y2hEZWZpbml0aW9uLFxyXG4gIGNyZWF0ZVNjaGVtYVR5cGVNYXBwZXIsXHJcbiAgcGFyc2VCYXNlVHlwZXMsXHJcbiAgcGFyc2VQcm9wZXJ0eSxcclxuICBwYXJzZVR5cGUsXHJcbiAgcGFyc2VUeXBlUHJvcGVydGllcyxcclxuICBTY2hlbWFUeXBlU2VsZWN0b3IsXHJcbiAgc2VyaWFsaXplQXNEZWZpbml0aW9ucyxcclxuICBUeXBlUGFyc2VDb250ZXh0LFxyXG59IGZyb20gXCIuL3BhcnNpbmdcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVBY2Nlc3NWYWxpZGF0b3IsXHJcbiAgY3JlYXRlQ2Vuc29yQWN0aW9uLFxyXG4gIGdldFByaW1pdGl2ZVR5cGVWYWxpZGF0b3IsXHJcbiAgaGFuZGxlVmFsaWRhdGlvbkVycm9ycyxcclxuICBvdmVycmlkZVVzYWdlLFxyXG4gIFZhbGlkYXRhYmxlU2NoZW1hRW50aXR5LFxyXG4gIFZBTElEQVRJT05fRVJST1JfU1lNQk9MLFxyXG4gIGFkZFR5cGVWYWxpZGF0b3JzLFxyXG59IGZyb20gXCIuL3ZhbGlkYXRpb25cIjtcclxuaW1wb3J0IHsgUEFUQ0hfRVZFTlRfUE9TVEZJWCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgdHlwZSBTY2hlbWFEZWZpbml0aW9uU291cmNlID0ge1xyXG4gIHNjaGVtYTogU2NoZW1hRGVmaW5pdGlvbjtcclxuICAvKipcclxuICAgKiBEbyBub3QgYWRkIGV2ZW50cyBhbmQgdmFyaWFibGVzIGZyb20gdGhpcyBzY2hlbWEgdG8gYXZvaWQgbmFtZSBjbGFzaGVzLlxyXG4gICAqIFVzZSB0aGlzIGlmIHRoZSB0eXBlcyBmcm9tIHRoZSBzY2hlbWEgYXJlIG9ubHkgcmVmZXJlbmNlZCBieSBvdGhlciBzY2hlbWFzIHRoYXQgcHJvdmlkZSBldmVudHMgYW5kIHZhcmlhYmxlcy5cclxuICAgKi9cclxuICB0eXBlc09ubHk/OiBib29sZWFuO1xyXG59O1xyXG5cclxuY29uc3QgdXJpVmFsaWRhdG9yID0gZ2V0UHJpbWl0aXZlVHlwZVZhbGlkYXRvcih7XHJcbiAgcHJpbWl0aXZlOiBcInN0cmluZ1wiLFxyXG4gIGZvcm1hdDogXCJ1cmlcIixcclxufSk7XHJcbmV4cG9ydCBjbGFzcyBUeXBlUmVzb2x2ZXIge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3NjaGVtYXMgPSBuZXcgTWFwPHN0cmluZywgU2NoZW1hPigpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3R5cGVzID0gbmV3IE1hcDxzdHJpbmcsIFNjaGVtYU9iamVjdFR5cGU+KCk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfc3lzdGVtVHlwZXM6IFR5cGVQYXJzZUNvbnRleHRbXCJzeXN0ZW1UeXBlc1wiXSA9IHt9O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX2V2ZW50TWFwcGVyOiBTY2hlbWFUeXBlU2VsZWN0b3IgfCB1bmRlZmluZWQ7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3ZhcmlhYmxlcyA9IG5ldyBNYXA8c3RyaW5nLCBNYXA8c3RyaW5nLCBTY2hlbWFWYXJpYWJsZT4+KCk7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBzY2hlbWFzOiByZWFkb25seSBTY2hlbWFbXTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfc291cmNlRGVmaW5pdGlvbnM6IHJlYWRvbmx5IFNjaGVtYURlZmluaXRpb25Tb3VyY2VbXTtcclxuICBwdWJsaWMgcmVhZG9ubHkgZGVmaW5pdGlvbnM6IHJlYWRvbmx5IFNjaGVtYURlZmluaXRpb25bXTtcclxuICBwcml2YXRlIHJlYWRvbmx5IF9kZWZhdWx0VXNhZ2U6IFNjaGVtYURhdGFVc2FnZTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkZWZpbml0aW9uczogcmVhZG9ubHkgU2NoZW1hRGVmaW5pdGlvblNvdXJjZVtdLFxyXG4gICAgZGVmYXVsdFVzYWdlID0gU0NIRU1BX0RBVEFfVVNBR0VfQU5PTllNT1VTXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9zb3VyY2VEZWZpbml0aW9ucyA9IGRlZmluaXRpb25zO1xyXG4gICAgdGhpcy5fZGVmYXVsdFVzYWdlID0gZGVmYXVsdFVzYWdlO1xyXG4gICAgY29uc3Qgc2NoZW1hQ29udGV4dHM6IFtzY2hlbWE6IFNjaGVtYSwgY29udGV4dDogVHlwZVBhcnNlQ29udGV4dF1bXSA9XHJcbiAgICAgIGRlZmluaXRpb25zLm1hcCgoeyBzY2hlbWEsIHR5cGVzT25seSB9KSA9PiB7XHJcbiAgICAgICAgaWYgKCFzY2hlbWEubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgIGAke2VsbGlwc2lzKFxyXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNjaGVtYSksXHJcbiAgICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApfSBpcyBub3QgYSB2YWxpZCBzY2hlbWEgLSBuYW1lc3BhY2UgaXMgbWlzc2luZy5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBoYW5kbGVWYWxpZGF0aW9uRXJyb3JzKChlcnJvcnMpID0+XHJcbiAgICAgICAgICB1cmlWYWxpZGF0b3IudmFsaWRhdG9yKHNjaGVtYS5uYW1lc3BhY2UsIGVycm9ycylcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICh0aGlzLl9zY2hlbWFzLmhhcyhuYW1lc3BhY2UpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgIGBPbmx5IG9uZSBzY2hlbWEgY2FuIGRlZmluZSB0aGUgbmFtZXNwYWNlICcke25hbWVzcGFjZX0nLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZDogU2NoZW1hID0ge1xyXG4gICAgICAgICAgaWQ6IG5hbWVzcGFjZSxcclxuICAgICAgICAgIG5hbWVzcGFjZSxcclxuICAgICAgICAgIHNvdXJjZTogc2NoZW1hLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIG5hbWU6IHNjaGVtYS5uYW1lID8/IG5hbWVzcGFjZSxcclxuICAgICAgICAgIHF1YWxpZmllZE5hbWU6IG5hbWVzcGFjZSxcclxuICAgICAgICAgIHR5cGVzT25seTogISF0eXBlc09ubHksXHJcbiAgICAgICAgICB2ZXJzaW9uOiBzY2hlbWEudmVyc2lvbixcclxuICAgICAgICAgIHVzYWdlT3ZlcnJpZGVzOiBzY2hlbWEsXHJcbiAgICAgICAgICB0eXBlczogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgZXZlbnRzOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICB2YXJpYWJsZXM6IG5ldyBNYXAoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX3NjaGVtYXMuc2V0KG5hbWVzcGFjZSwgcGFyc2VkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgIHBhcnNlZCxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgc2NoZW1hOiBwYXJzZWQsXHJcbiAgICAgICAgICAgIHBhcnNlZFR5cGVzOiB0aGlzLl90eXBlcyxcclxuICAgICAgICAgICAgc3lzdGVtVHlwZXM6IHRoaXMuX3N5c3RlbVR5cGVzLFxyXG4gICAgICAgICAgICBkZWZhdWx0VXNhZ2U6IG92ZXJyaWRlVXNhZ2UoZGVmYXVsdFVzYWdlLCBwYXJzZWQudXNhZ2VPdmVycmlkZXMpLFxyXG4gICAgICAgICAgICB1c2FnZU92ZXJyaWRlczogc2NoZW1hLFxyXG4gICAgICAgICAgICB0eXBlc09ubHk6ICEhdHlwZXNPbmx5LFxyXG4gICAgICAgICAgICBsb2NhbFR5cGVzOiBwYXJzZWQudHlwZXMsXHJcbiAgICAgICAgICAgIHR5cGVBbGlhc2VzOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZvciAoY29uc3QgW3NjaGVtYSwgY29udGV4dF0gb2Ygc2NoZW1hQ29udGV4dHMpIHtcclxuICAgICAgLy8gUG9wdWxhdGUgdGhlIHR5cGUgZGljdGlvbmFyeSB3aXRoIGluaXRpYWwgdHlwZSBzdHVicyB3aXRob3V0IHByb3BlcnRpZXMgYW5kIGJhc2UgdHlwZXMuXHJcbiAgICAgIC8vIFRoaXMgYWxsb3dzIGNpcmN1bGFyIHJlZmVyZW5jZXMgdG8gYmUgcmVzb2x2ZWQsIGFuZCBzY2hlbWFzIGFuZCB0aGVpciB0eXBlcyBiZSBwYXJzZWQgaW4gYW55IG9yZGVyLlxyXG4gICAgICBmb3JFYWNoMihcclxuICAgICAgICBzY2hlbWEuc291cmNlLnR5cGVzLFxyXG4gICAgICAgIChbbmFtZSwgdHlwZV06IFtzdHJpbmcsIFNjaGVtYVR5cGVEZWZpbml0aW9uXSkgPT5cclxuICAgICAgICAgIHBhcnNlVHlwZShbbmFtZSwgdHlwZV0sIGNvbnRleHQsIG51bGwpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBldmVudFR5cGUgPSB0aGlzLl9zeXN0ZW1UeXBlcy5ldmVudDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtzY2hlbWEsIGNvbnRleHRdIG9mIHNjaGVtYUNvbnRleHRzKSB7XHJcbiAgICAgIC8vIFBhcnNlIGJhc2UgdHlwZXMgc28gXCJleHRlbmRlZEJ5XCIgaXMgcG9wdWxhdGVkIGZvciBhbGwgdHlwZXMgYmVmb3JlIHdlIHBhcnNlIHByb3BlcnRpZXMuLlxyXG4gICAgICBmb3JFYWNoMihzY2hlbWEudHlwZXMsIChbLCB0eXBlXSkgPT4gcGFyc2VCYXNlVHlwZXModHlwZSwgY29udGV4dCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgW3NjaGVtYSwgY29udGV4dF0gb2Ygc2NoZW1hQ29udGV4dHMpIHtcclxuICAgICAgZm9yRWFjaDIoc2NoZW1hLnR5cGVzLCAoWywgdHlwZV0pID0+IHBhcnNlVHlwZVByb3BlcnRpZXModHlwZSwgY29udGV4dCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChldmVudFR5cGUpIHtcclxuICAgICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHR5cGVzIHRvIGF2b2lkIGluZmluaXRlIGxvb3AgKHRoYXQgaXMsIHBhdGNoIHR5cGVzIGZvciBwYXRjaCB0eXBlcyBmb3IgcGF0Y2ggdHlwZXMgZXRjLi4uKS5cclxuICAgICAgZm9yRWFjaDIoZXZlbnRUeXBlLmV4dGVuZGVkQnlBbGwsICh0eXBlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IChzY2hlbWFDb250ZXh0cy5maW5kKFxyXG4gICAgICAgICAgKGNvbnRleHQpID0+IGNvbnRleHRbMF0gPT09IHR5cGUuc2NoZW1hXHJcbiAgICAgICAgKSA/P1xyXG4gICAgICAgICAgdGhyb3dFcnJvcihcclxuICAgICAgICAgICAgYE5vIHBhcnNlIGNvbnRleHQgZm9yIHRoZSBzY2hlbWEgJyR7dHlwZS5zY2hlbWEubmFtZX0nLmBcclxuICAgICAgICAgICkpWzFdO1xyXG5cclxuICAgICAgICBpZiAoIWhhc0VudW1WYWx1ZXModHlwZS5wcm9wZXJ0aWVzW0NPUkVfRVZFTlRfRElTQ1JJTUlOQVRPUl0/LnR5cGUpKSB7XHJcbiAgICAgICAgICAvLyBFdmVudCB0eXBlcyB3aXRob3V0IGEgc3BlY2lmaWMgY29uc3QgdmFsdWUgZm9yIGB0eXBlYCBhcmUgcGVyIGRlZmluaXRpb24gYWJzdHJhY3QuXHJcbiAgICAgICAgICB0eXBlLmFic3RyYWN0ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgIXR5cGUubmFtZS5lbmRzV2l0aChQQVRDSF9FVkVOVF9QT1NURklYKSAmJlxyXG4gICAgICAgICAgIXRoaXMuX3R5cGVzLmhhcyh0eXBlLmlkICsgUEFUQ0hfRVZFTlRfUE9TVEZJWClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vIENyZWF0ZSBhIGNvcnJlc3BvbmRpbmcgcGF0Y2ggdHlwZS5cclxuICAgICAgICAgIGNvbnN0IHBhdGNoRGVmaW5pdGlvbiA9IGNyZWF0ZUV2ZW50UGF0Y2hEZWZpbml0aW9uKGV2ZW50VHlwZSwgdHlwZSk7XHJcbiAgICAgICAgICAocGF0Y2hEZWZpbml0aW9uIGFzIFNjaGVtYVN5c3RlbVR5cGVEZWZpbml0aW9uKS5zeXN0ZW0gPSBcInBhdGNoXCI7XHJcbiAgICAgICAgICBjb25zdCBwYXRjaFR5cGUgPSBwYXJzZVR5cGUoXHJcbiAgICAgICAgICAgIFt0eXBlLm5hbWUgKyBQQVRDSF9FVkVOVF9QT1NURklYLCBwYXRjaERlZmluaXRpb25dLFxyXG4gICAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcGFyc2VCYXNlVHlwZXMocGF0Y2hUeXBlLCBjb250ZXh0KTtcclxuICAgICAgICAgIHBhcnNlVHlwZVByb3BlcnRpZXMocGF0Y2hUeXBlLCBjb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvckVhY2gyKHRoaXMuX3R5cGVzLCAoWywgdHlwZV0pID0+IHtcclxuICAgICAgLy8gRmluaXNoIHRoZSB0eXBlcy5cclxuICAgICAgYWRkVHlwZVZhbGlkYXRvcnModHlwZSk7XHJcblxyXG4gICAgICBmb3JFYWNoMih0eXBlLmV4dGVuZGVkQnksIChzdWJ0eXBlKSA9PiB7XHJcbiAgICAgICAgZm9yRWFjaDIodHlwZS5yZWZlcmVuY2VkQnksIChwcm9wKSA9PiBzdWJ0eXBlLnJlZmVyZW5jZWRCeS5hZGQocHJvcCkpO1xyXG4gICAgICAgIGZvckVhY2gyKHR5cGUudmFyaWFibGVzLCAoW3Njb3BlLCBrZXlzXSkgPT5cclxuICAgICAgICAgIGZvckVhY2gyKGtleXMsIChrZXkpID0+XHJcbiAgICAgICAgICAgIGdldDIoKHN1YnR5cGUudmFyaWFibGVzID8/PSBuZXcgTWFwKCkpLCBzY29wZSwgKCkgPT4gbmV3IFNldCgpKS5hZGQoXHJcbiAgICAgICAgICAgICAga2V5XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChldmVudFR5cGUpIHtcclxuICAgICAgdGhpcy5fZXZlbnRNYXBwZXIgPSBjcmVhdGVTY2hlbWFUeXBlTWFwcGVyKFtldmVudFR5cGVdKS5tYXRjaDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IFtzY2hlbWEsIGNvbnRleHRdIG9mIHNjaGVtYUNvbnRleHRzKSB7XHJcbiAgICAgIGlmIChzY2hlbWEudHlwZXNPbmx5KSB7XHJcbiAgICAgICAgLy8gU2NoZW1hIG9ubHkgaW5jbHVkZWQgZm9yIHR5cGUgcmVmZXJlbmNlcywgZG8gbm90IGNvbnNpZGVyIGV4cG9ydGVkIHZhcmlhYmxlcy5cclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBGaW5kIHZhcmlhYmxlcy5cclxuICAgICAgZm9yRWFjaDIoc2NoZW1hLnNvdXJjZS52YXJpYWJsZXMsIChbc2NvcGUsIGtleXNdKSA9PiB7XHJcbiAgICAgICAgZm9yRWFjaDIoa2V5cywgKFtrZXksIGRlZmluaXRpb25dKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGV0IHZhcmlhYmxlVHlwZTogU2NoZW1hUHJvcGVydHlUeXBlIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgIGlmIChcInJlZmVyZW5jZVwiIGluIGRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSByZWZlcmVuY2VkIHR5cGUuXHJcbiAgICAgICAgICAgIHZhcmlhYmxlVHlwZSA9IHBhcnNlVHlwZShkZWZpbml0aW9uLCBjb250ZXh0LCBudWxsKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoXCJwcm9wZXJ0aWVzXCIgaW4gZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICAvLyBOb3QgYSByZWZlcmVuY2UsIHVwZ3JhZGUgdGhlIGFub255bW91cyBvYmplY3QgdHlwZXMgdG8gYSB0eXBlIGRlZmluaXRpb24gYnkgZ2l2aW5nIGl0IGEgbmFtZS5cclxuICAgICAgICAgICAgdmFyaWFibGVUeXBlID0gcGFyc2VUeXBlKFxyXG4gICAgICAgICAgICAgIFtzY29wZSArIFwiX1wiICsga2V5LCBkZWZpbml0aW9uXSxcclxuICAgICAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcGFyc2VCYXNlVHlwZXModmFyaWFibGVUeXBlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgcGFyc2VUeXBlUHJvcGVydGllcyh2YXJpYWJsZVR5cGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBhZGRUeXBlVmFsaWRhdG9ycyh2YXJpYWJsZVR5cGUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGR1bW15UHJvcGVydHkgPSBwYXJzZVByb3BlcnR5KFxyXG4gICAgICAgICAgICB2YXJpYWJsZVR5cGUgYXMgYW55LFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIGRlZmluaXRpb24gYXMgYW55LFxyXG4gICAgICAgICAgICBjb250ZXh0XHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIHZhcmlhYmxlVHlwZSA/Pz0gZHVtbXlQcm9wZXJ0eS50eXBlO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHZhcmlhYmxlOiBTY2hlbWFWYXJpYWJsZSA9IHtcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICBzY29wZSxcclxuICAgICAgICAgICAgdHlwZTogdmFyaWFibGVUeXBlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZHVtbXlQcm9wZXJ0eS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgdXNhZ2U6IGR1bW15UHJvcGVydHkudXNhZ2UsXHJcbiAgICAgICAgICAgIHZhbGlkYXRlOiBkdW1teVByb3BlcnR5LnZhbGlkYXRlLFxyXG4gICAgICAgICAgICBjZW5zb3I6IGR1bW15UHJvcGVydHkuY2Vuc29yLFxyXG4gICAgICAgICAgICBkeW5hbWljOiAhIWRlZmluaXRpb24uZHluYW1pYyxcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdHJ5QWRkKFxyXG4gICAgICAgICAgICBnZXQyKHRoaXMuX3ZhcmlhYmxlcywgc2NvcGUsICgpID0+IG5ldyBNYXAoKSksXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgdmFyaWFibGUsXHJcbiAgICAgICAgICAgIChjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgYFRoZSB0eXBlIFwiJHt2YXJpYWJsZVR5cGUudG9TdHJpbmcoKX1cIiBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBmb3IgdGhlIHZhcmlhYmxlIGtleSBcIiR7a2V5fVwiIGluICR7c2NvcGV9IHNjb3BlLCBzaW5jZSBpdCBpcyBhbHJlYWR5IHVzZWQgYnkgXCIke1xyXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LnR5cGUudG9TdHJpbmdcclxuICAgICAgICAgICAgICAgIH1cIi5gXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBnZXQyKHNjaGVtYS52YXJpYWJsZXMsIHNjb3BlLCAoKSA9PiBuZXcgTWFwKCkpLnNldChrZXksIHZhcmlhYmxlKTtcclxuXHJcbiAgICAgICAgICBpZiAoXCJwcm9wZXJ0aWVzXCIgaW4gdmFyaWFibGVUeXBlKSB7XHJcbiAgICAgICAgICAgIGdldDIoXHJcbiAgICAgICAgICAgICAgKHZhcmlhYmxlVHlwZS52YXJpYWJsZXMgPz89IG5ldyBNYXAoKSksXHJcbiAgICAgICAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgICAgICAgKCkgPT4gbmV3IFNldCgpXHJcbiAgICAgICAgICAgICkuYWRkKGtleSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudHlwZXMgPSBvYmoyKHRoaXMuX3R5cGVzKTtcclxuICAgIHRoaXMudmFyaWFibGVzID0gb2JqMih0aGlzLl92YXJpYWJsZXMsIChbc2NvcGUsIHZhcmlhYmxlc10pID0+IFtcclxuICAgICAgc2NvcGUsXHJcbiAgICAgIG9iajIodmFyaWFibGVzLCAoW2tleSwgdmFyaWFibGVdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNhZ2UgPSAodmFyaWFibGUudXNhZ2UgPSBvdmVycmlkZVVzYWdlKFxyXG4gICAgICAgICAgaXNTY2hlbWFPYmplY3RUeXBlKHZhcmlhYmxlLnR5cGUpID8gdmFyaWFibGUudHlwZS51c2FnZSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIHZhcmlhYmxlLnVzYWdlXHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlubmVyVmFsaWRhdG9yID0gY3JlYXRlQWNjZXNzVmFsaWRhdG9yKFxyXG4gICAgICAgICAgc2NvcGUgKyBcIi5cIiArIGtleSxcclxuICAgICAgICAgIHZhcmlhYmxlLnR5cGUsXHJcbiAgICAgICAgICB1c2FnZSxcclxuICAgICAgICAgIFwidmFyaWFibGVcIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHZhcmlhYmxlLnZhbGlkYXRlID0gdmFyaWFibGUuZHluYW1pY1xyXG4gICAgICAgICAgPyAodmFsdWUsIGN1cnJlbnQsIGNvbnRleHQsIGVycm9ycywgcG9seW1vcnBoaWMpID0+XHJcbiAgICAgICAgICAgICAgaGFuZGxlVmFsaWRhdGlvbkVycm9ycygoZXJyb3JzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5mb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJWYWxpZGF0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICAgICAgICBwb2x5bW9ycGhpY1xyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgICAgICAgICAgICAgICAgIFwiVGhlIHZhbHVlIGlzIGR5bmFtaWNhbGx5IGNhbGN1bGF0ZWQgYW5kIGNhbm5vdCBiZSBzZXRcIixcclxuICAgICAgICAgICAgICAgICAgcGF0aDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgdHlwZTogdmFyaWFibGUudHlwZSxcclxuICAgICAgICAgICAgICAgICAgc291cmNlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgZm9yYmlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVkFMSURBVElPTl9FUlJPUl9TWU1CT0wgYXMgYW55O1xyXG4gICAgICAgICAgICAgIH0sIGVycm9ycylcclxuICAgICAgICAgIDogaW5uZXJWYWxpZGF0b3I7XHJcblxyXG4gICAgICAgIHZhcmlhYmxlLmNlbnNvciA9IGNyZWF0ZUNlbnNvckFjdGlvbih1c2FnZSwgdmFyaWFibGUudHlwZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBba2V5LCB2YXJpYWJsZV07XHJcbiAgICAgIH0pLFxyXG4gICAgXSk7XHJcblxyXG4gICAgdGhpcy5zY2hlbWFzID0gWy4uLnRoaXMuX3NjaGVtYXMudmFsdWVzKCldO1xyXG5cclxuICAgIHRoaXMuZGVmaW5pdGlvbnMgPSBzZXJpYWxpemVBc0RlZmluaXRpb25zKHRoaXMuc2NoZW1hcyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0RXZlbnRUeXBlPFQ+KFxyXG4gICAgZXZlbnREYXRhOiBUXHJcbiAgKTogVCBleHRlbmRzIE51bGxpc2ggPyBUIDogU2NoZW1hT2JqZWN0VHlwZSB7XHJcbiAgICByZXR1cm4gIXRoaXMuX2V2ZW50TWFwcGVyXHJcbiAgICAgID8gdGhyb3dFcnJvcihcIlN5c3RlbSBldmVudCB0eXBlIGhhcyBub3QgYmVlbiBjb25maWd1cmVkXCIpXHJcbiAgICAgIDogZXZlbnREYXRhICYmICh0aGlzLl9ldmVudE1hcHBlcihldmVudERhdGEpIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0VHlwZTxSZXF1aXJlZCBleHRlbmRzIGJvb2xlYW4gPSB0cnVlPihcclxuICAgIHR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgICByZXF1aXJlZDogUmVxdWlyZWQgPSB0cnVlIGFzIGFueSxcclxuICAgIGRlZmF1bHROYW1lc3BhY2U/OiBzdHJpbmdcclxuICApOiBTY2hlbWFPYmplY3RUeXBlIHwgKFJlcXVpcmVkIGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogdW5kZWZpbmVkKSB7XHJcbiAgICBjb25zdCB0eXBlSWQgPSB0eXBlTmFtZS5pbmNsdWRlcyhcIiNcIilcclxuICAgICAgPyB0eXBlTmFtZVxyXG4gICAgICA6IChkZWZhdWx0TmFtZXNwYWNlID8/IENPUkVfU0NIRU1BX05TKSArIFwiI1wiICsgdHlwZU5hbWU7XHJcblxyXG4gICAgY29uc3QgdHlwZSA9IHRoaXMuX3R5cGVzLmdldCh0eXBlSWQpO1xyXG4gICAgaWYgKHJlcXVpcmVkICYmICF0eXBlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgJyR7dHlwZUlkfScgaXMgbm90IGRlZmluZWQuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHlwZSBhcyBhbnk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0VmFyaWFibGU8UmVxdWlyZWQgZXh0ZW5kcyBib29sZWFuID0gdHJ1ZT4oXHJcbiAgICBzY29wZTogc3RyaW5nLFxyXG4gICAga2V5OiBzdHJpbmcsXHJcbiAgICByZXF1aXJlZDogUmVxdWlyZWQgPSB0cnVlIGFzIGFueVxyXG4gICk6IFNjaGVtYVZhcmlhYmxlIHwgKFJlcXVpcmVkIGV4dGVuZHMgdHJ1ZSA/IG5ldmVyIDogdW5kZWZpbmVkKSB7XHJcbiAgICBjb25zdCB2YXJpYWJsZSA9IHRoaXMuX3ZhcmlhYmxlcy5nZXQoc2NvcGUpPy5nZXQoa2V5KTtcclxuICAgIGlmICghdmFyaWFibGUgJiYgcmVxdWlyZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIGBUaGUgdmFyaWFibGUgJyR7a2V5fScgaW4gJHtzY29wZX0gc2NvcGUgaXMgbm90IGRlZmluZWQuYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhcmlhYmxlIGFzIGFueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSB0eXBlczoge1xyXG4gICAgcmVhZG9ubHkgW1AgaW4gc3RyaW5nXT86IFJlYWRvbmx5PFNjaGVtYU9iamVjdFR5cGU+O1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSB2YXJpYWJsZXM6IHtcclxuICAgIHJlYWRvbmx5IFtQIGluIFZhcmlhYmxlU2VydmVyU2NvcGUgfCAoc3RyaW5nICYge30pXT86IHtcclxuICAgICAgcmVhZG9ubHkgW1AgaW4gc3RyaW5nXTogUmVhZG9ubHk8U2NoZW1hVmFyaWFibGU+O1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgc3Vic2V0KG5hbWVzcGFjZXM6IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFNjaGVtYXMgPSBuZXcgU2V0PFNjaGVtYURlZmluaXRpb25Tb3VyY2U+KCk7XHJcbiAgICBmb3IgKGNvbnN0IHNjaGVtYVNlbGVjdG9yIG9mIEFycmF5LmlzQXJyYXkobmFtZXNwYWNlcylcclxuICAgICAgPyBuYW1lc3BhY2VzXHJcbiAgICAgIDogW25hbWVzcGFjZXNdKSB7XHJcbiAgICAgIGxldCBtYXRjaGVkQW55ID0gZmFsc2U7XHJcbiAgICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHRoaXMuX3NvdXJjZURlZmluaXRpb25zKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2NoZW1hU2VsZWN0b3IgPT09IFwiKlwiIHx8XHJcbiAgICAgICAgICBzY2hlbWFTZWxlY3RvciA9PT0gc291cmNlLnNjaGVtYS5uYW1lc3BhY2UgfHxcclxuICAgICAgICAgIHNjaGVtYVNlbGVjdG9yID09PSBzb3VyY2Uuc2NoZW1hLm5hbWVcclxuICAgICAgICApIHtcclxuICAgICAgICAgIG1hdGNoZWRBbnkgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZWN0ZWRTY2hlbWFzLmFkZChzb3VyY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoIW1hdGNoZWRBbnkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICBgVGhlIHNjaGVtYSBzZWxlY3RvciAnJHtzY2hlbWFTZWxlY3Rvcn0nIGRpZCBub3QgbWF0Y2ggYW55IHNjaGVtYXMgY3VycmVudGx5IGxvYWRlZCBpbiB0aGUgZ2xvYmFsIHR5cGUgcmVzb2x2ZXIuYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFR5cGVSZXNvbHZlcihcclxuICAgICAgdGhpcy5fc291cmNlRGVmaW5pdGlvbnMubWFwKFxyXG4gICAgICAgIChzb3VyY2UpID0+XHJcbiAgICAgICAgICBzZWxlY3RlZFNjaGVtYXMuaGFzKHNvdXJjZSlcclxuICAgICAgICAgICAgPyB7IC4uLnNvdXJjZSwgdHlwZXNPbmx5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIDogeyAuLi5zb3VyY2UsIHR5cGVzT25seTogdHJ1ZSB9LFxyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRVc2FnZVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xuICBWYXJpYWJsZSxcbiAgVmFyaWFibGVHZXRSZXN1bHQsXG4gIFZhcmlhYmxlS2V5LFxuICBWYXJpYWJsZVNldFJlc3VsdCxcbn0gZnJvbSBcIi4uLy4uXCI7XG5cbmV4cG9ydCBlbnVtIFZhcmlhYmxlUmVzdWx0U3RhdHVzIHtcbiAgU3VjY2VzcyA9IDIwMCxcbiAgQ3JlYXRlZCA9IDIwMSxcbiAgTm90TW9kaWZpZWQgPSAzMDQsXG4gIEZvcmJpZGRlbiA9IDQwMyxcbiAgTm90Rm91bmQgPSA0MDQsXG4gIEJhZFJlcXVlc3QgPSA0MDUsXG4gIENvbmZsaWN0ID0gNDA5LFxuICBFcnJvciA9IDUwMCxcbn1cblxuZXhwb3J0IHR5cGUgVmFyaWFibGVTdWNjZXNzU3RhdHVzV2l0aFZhbHVlID1cbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzXG4gIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuQ3JlYXRlZDtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVTdWNjZXNzU3RhdHVzID1cbiAgfCBWYXJpYWJsZVN1Y2Nlc3NTdGF0dXNXaXRoVmFsdWVcbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RNb2RpZmllZDtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVFcnJvclN0YXR1cyA9XG4gIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuRm9yYmlkZGVuXG4gIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmRcbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5CYWRSZXF1ZXN0XG4gIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuQ29uZmxpY3RcbiAgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5FcnJvcjtcblxuZXhwb3J0IGludGVyZmFjZSBWYXJpYWJsZVJlc3VsdCBleHRlbmRzIFZhcmlhYmxlS2V5IHtcbiAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXJpYWJsZU5vdEZvdW5kUmVzdWx0IGV4dGVuZHMgVmFyaWFibGVSZXN1bHQge1xuICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kO1xuICB2YWx1ZT86IHVuZGVmaW5lZDtcbiAgdmVyc2lvbj86IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXJpYWJsZVZhbHVlRXJyb3JSZXN1bHQgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuRm9yYmlkZGVuIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuQmFkUmVxdWVzdDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHRyYW5zaWVudD86IGZhbHNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlRXJyb3JSZXN1bHQgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuRXJyb3I7XG4gIGVycm9yOiBzdHJpbmc7XG4gIHRyYW5zaWVudD86IGJvb2xlYW47XG59XG5cbi8qKiBUaGUgdmFyaWFibGUgb3BlcmF0aW9uIHN1Y2NlZWRlZCwgYW5kIHRoZSByZXN1bHQgcmVwcmVzZW50cyBhIHZhcmlhYmxlLCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFyaWFibGVSZXN1bHQ6IHtcbiAgPFQgZXh0ZW5kcyB7fSA9IGFueT4odmFsdWU6IGFueSwgcmVxdWlyZUZvdW5kPzogdHJ1ZSk6IHZhbHVlIGlzIFZhcmlhYmxlPFQ+O1xuICA8VCBleHRlbmRzIHt9ID0gYW55Pih2YWx1ZTogYW55LCByZXF1aXJlRm91bmQ6IGJvb2xlYW4pOiB2YWx1ZSBpc1xuICAgIHwgVmFyaWFibGU8VD5cbiAgICB8IHVuZGVmaW5lZFxuICAgIHwge1xuICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kO1xuICAgICAgICB2YWx1ZT86IHVuZGVmaW5lZDtcbiAgICAgIH07XG59ID0gKHZhbHVlOiBhbnksIHJlcXVpcmVGb3VuZCA9IHRydWUpOiB2YWx1ZSBpcyBhbnkgPT5cbiAgKHZhbHVlIGFzIFZhcmlhYmxlKT8udmFsdWUgIT0gbnVsbCB8fFxuICAoIXJlcXVpcmVGb3VuZCAmJlxuICAgICghdmFsdWUgfHxcbiAgICAgICh2YWx1ZSBhcyBWYXJpYWJsZUdldFJlc3VsdCkuc3RhdHVzID09PSBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZCkpO1xuXG4vKipcbiAqIFRoZSB2YXJpYWJsZSBleGlzdGVkIHNvIHRoZSByZXN1bHQgaGFzIGEgdmFsdWUsXG4gKiBvciB0aGUgdmFyaWFibGUgZGlkIG5vdCBleGlzdHMsIGluIHdoaWNoIGNhc2UgdGhlIHZhbHVlIGNhbiBiZSBpbnRlcnByZXRlZCBhcyBgbnVsbGAuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGlzU3VjY2Vzc1Jlc3VsdDoge1xuICA8VCA9IGFueT4oXG4gICAgdmFsdWU6IGFueSxcbiAgICAvKiogV2hldGhlciBcIm5vdCBmb3VuZFwiIGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzLiAqL1xuICAgIHJlcXVpcmVGb3VuZD86IHRydWVcbiAgKTogdmFsdWUgaXNcbiAgICB8IHtcbiAgICAgICAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuQ3JlYXRlZDtcbiAgICAgICAgdmFsdWU6IFQgfCBudWxsO1xuICAgICAgfVxuICAgIHwgeyBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdE1vZGlmaWVkIH07XG5cbiAgPFQgZXh0ZW5kcyB7fSA9IGFueT4oXG4gICAgdmFsdWU6IGFueSxcbiAgICAvKiogV2hldGhlciBcIm5vdCBmb3VuZFwiIGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzLiAqL1xuICAgIHJlcXVpcmVGb3VuZDogYm9vbGVhblxuICApOiB2YWx1ZSBpc1xuICAgIHwge1xuICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkO1xuICAgICAgICB2YWx1ZTogVCB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgc3RhdHVzOlxuICAgICAgICAgIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90TW9kaWZpZWRcbiAgICAgICAgICB8IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kO1xuICAgICAgfTtcbn0gPSAodmFsdWU6IGFueSwgcmVxdWlyZUZvdW5kID0gdHJ1ZSk6IHZhbHVlIGlzIGFueSA9PlxuICB2YWx1ZSAmJlxuICAoKHZhbHVlIGFzIFZhcmlhYmxlUmVzdWx0KS5zdGF0dXMgPCA0MDAgfHxcbiAgICAoIXJlcXVpcmVGb3VuZCAmJlxuICAgICAgKHZhbHVlIGFzIFZhcmlhYmxlUmVzdWx0KS5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kKSk7XG5cbmV4cG9ydCBjb25zdCBpc1RyYW5zaWVudEVycm9yID0gKFxuICB2YWx1ZTogYW55XG4pOiB2YWx1ZSBpcyB7IHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuRXJyb3I7IHRyYW5zaWVudDogdHJ1ZSB9ID0+XG4gICh2YWx1ZSBhcyBhbnkpPy50cmFuc2llbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVDb25mbGljdFJlc3VsdDxUIGV4dGVuZHMge30gPSBhbnk+XG4gIGV4dGVuZHMgVmFyaWFibGVSZXN1bHQsXG4gICAgVmFyaWFibGU8VD4ge1xuICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNvbmZsaWN0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlTm90TW9kaWZpZWRSZXN1bHQgZXh0ZW5kcyBWYXJpYWJsZVJlc3VsdCB7XG4gIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90TW9kaWZpZWQ7XG4gIHZhbHVlPzogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlU3VjY2Vzc1Jlc3VsdDxUIGV4dGVuZHMge30gPSBhbnk+XG4gIGV4dGVuZHMgVmFyaWFibGVSZXN1bHQsXG4gICAgVmFyaWFibGU8VD4ge1xuICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MgfCBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkO1xufVxuXG5leHBvcnQgdHlwZSBBbnlWYXJpYWJsZVJlc3VsdDxUIGV4dGVuZHMge30gPSBhbnk+ID1cbiAgfCBWYXJpYWJsZUdldFJlc3VsdDxUPlxuICB8IFZhcmlhYmxlU2V0UmVzdWx0PFQ+O1xuIiwiaW1wb3J0IHtcclxuICBBbGxLZXlzLFxyXG4gIEFycmF5T3JTZWxmLFxyXG4gIGRlZmVycmVkUHJvbWlzZSxcclxuICBGYWxzaXNoLFxyXG4gIElmTmV2ZXIsXHJcbiAgaXNBcnJheSxcclxuICBNYXliZVByb21pc2VMaWtlLFxyXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuaW1wb3J0IHtcclxuICBmb3JtYXRWYXJpYWJsZUtleSxcclxuICBpc1N1Y2Nlc3NSZXN1bHQsXHJcbiAgaXNWYXJpYWJsZVJlc3VsdCxcclxuICBLbm93blZhcmlhYmxlTWFwLFxyXG4gIE1hdGNoU2NvcGVzLFxyXG4gIFJlbW92ZVNjb3BlUmVzdHJpY3Rpb25zLFxyXG4gIFJlc3RyaWN0U2NvcGVzLFxyXG4gIFZhcmlhYmxlLFxyXG4gIFZhcmlhYmxlR2V0UmVzdWx0LFxyXG4gIFZhcmlhYmxlR2V0dGVyLFxyXG4gIFZhcmlhYmxlSW5pdGlhbGl6ZXIsXHJcbiAgVmFyaWFibGVJbml0aWFsaXplckNhbGxiYWNrLFxyXG4gIFZhcmlhYmxlS2V5LFxyXG4gIFZhcmlhYmxlUGF0Y2gsXHJcbiAgVmFyaWFibGVQYXRjaEZ1bmN0aW9uLFxyXG4gIFZhcmlhYmxlUmVzdWx0LFxyXG4gIFZhcmlhYmxlUmVzdWx0U3RhdHVzLFxyXG4gIFZhcmlhYmxlU2V0UmVzdWx0LFxyXG4gIFZhcmlhYmxlU2V0dGVyLFxyXG4gIFZhcmlhYmxlU3VjY2Vzc1N0YXR1cyxcclxuICBWYXJpYWJsZVZhbHVlRXJyb3JSZXN1bHQsXHJcbiAgVmFyaWFibGVWYWx1ZVNldHRlcixcclxufSBmcm9tIFwiLi4vLi5cIjtcclxuXHJcbnR5cGUgTm90U3RyaW5nPFM+ID0gc3RyaW5nIGV4dGVuZHMgUyA/IG5ldmVyIDogUztcclxudHlwZSBMb29rdXA8VCwgU291cmNlLCBLZXk+ID0gdW5rbm93biBleHRlbmRzIEtleVxyXG4gID8gbmV2ZXJcclxuICA6IFRba2V5b2YgVCAmIE5vdFN0cmluZzxTb3VyY2VbS2V5ICYga2V5b2YgU291cmNlXT5dO1xyXG5cclxuZXhwb3J0IHR5cGUgS25vd25UeXBlRm9yPFxyXG4gIE9wZXJhdGlvbixcclxuICBLbm93blR5cGVzIGV4dGVuZHMgS25vd25WYXJpYWJsZU1hcCxcclxuICBEZWZhdWx0ID0gdW5rbm93blxyXG4+ID0gSWZOZXZlcjxcclxuICBMb29rdXA8TG9va3VwPEtub3duVHlwZXMsIE9wZXJhdGlvbiwgXCJzY29wZVwiPiwgT3BlcmF0aW9uLCBcImtleVwiPixcclxuICBEZWZhdWx0XHJcbj4gJiB7fTtcclxuXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlQ2FsbGJhY2s8UmVzdWx0ID0gVmFyaWFibGVSZXN1bHQsIFJldHVybiA9IGFueT4gPSAoXHJcbiAgcmVzdWx0OiBSZXN1bHRcclxuKSA9PiBNYXliZVByb21pc2VMaWtlPFJldHVybj47XHJcblxyXG4vKipcclxuICogSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIHRoZSB2YXJpYWJsZSB3aWxsIGdldCBwb2xsZWQsIHRoYXQgaXMsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhZ2FpbiBpZiB0aGUgdmFyaWFibGUgY2hhbmdlcy5cclxuICogSWYgdGhlIHZhcmlhYmxlIGlzIGRlbGV0ZWQsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgTm90Rm91bmQgZ2V0IHJlc3VsdC5cclxuICpcclxuICogUG9sbGluZyBjdXJyZW50bHkgb25seSB3b3JrcyBjbGllbnQtc2lkZS5cclxuICovXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlR2V0dGVyQ2FsbGJhY2s8XHJcbiAgS2V5VHlwZSA9IFZhcmlhYmxlS2V5LFxyXG4gIFQgZXh0ZW5kcyB7fSA9IGFueVxyXG4+ID0gVmFyaWFibGVDYWxsYmFjazxcclxuICBNYXRjaFNjb3BlczxcclxuICAgIFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdDxcImdldFwiLCBWYXJpYWJsZUdldFJlc3VsdDxUPj4sXHJcbiAgICBLZXlUeXBlXHJcbiAgPixcclxuICBib29sZWFuIHwgdW5kZWZpbmVkIHwgdm9pZFxyXG4+O1xyXG5cclxuLyoqXHJcbiAqIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB0cnVlYCB0aGUgdmFyaWFibGUgd2lsbCBnZXQgcG9sbGVkLCB0aGF0IGlzLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYWdhaW4gaWYgdGhlIHZhcmlhYmxlIGNoYW5nZXMuXHJcbiAqIElmIHRoZSB2YXJpYWJsZSBpcyBkZWxldGVkIG9yIG5vdCBmb3VuZCwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBgdW5kZWZpbmVkYC5cclxuICpcclxuICogUG9sbGluZyBjdXJyZW50bHkgb25seSB3b3JrcyBjbGllbnQtc2lkZS5cclxuICovXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlUG9sbENhbGxiYWNrPFQgZXh0ZW5kcyB7fSA9IGFueT4gPSAoXHJcbiAgcmVzdWx0OiBUIHwgdW5kZWZpbmVkLFxyXG4gIGZyb21Tb3VyY2VPcGVyYXRpb246IGJvb2xlYW4sXHJcbiAgcHJldmlvdXM6IFQgfCB1bmRlZmluZWRcclxuKSA9PiBNYXliZVByb21pc2VMaWtlPGJvb2xlYW4gfCB1bmRlZmluZWQgfCB2b2lkPjtcclxuXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2s8XHJcbiAgS2V5VHlwZSA9IFZhcmlhYmxlS2V5LFxyXG4gIFQgZXh0ZW5kcyB7fSA9IGFueVxyXG4+ID0gVmFyaWFibGVDYWxsYmFjazxcclxuICBNYXRjaFNjb3BlczxWYXJpYWJsZVJlc3VsdFByb21pc2VSZXN1bHQ8XCJzZXRcIiwgVmFyaWFibGVTZXRSZXN1bHQ8VD4+LCBLZXlUeXBlPlxyXG4+O1xyXG5cclxudHlwZSBWYWxpZE9wZXJhdGlvbktleXMgPVxyXG4gIHwgQWxsS2V5czxWYXJpYWJsZUdldHRlciB8IFZhcmlhYmxlU2V0dGVyIHwgVmFyaWFibGU+XHJcbiAgLy8gVG8gc3VzcGVuZCBjbGllbnQtc2lkZSBwb2xsaW5nIGNhbGxiYWNrc1xyXG4gIHwgXCJwYXNzaXZlXCI7XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgdHlwZXMgZm9yIGNhbGxiYWNrcy5cclxuICovXHJcbmV4cG9ydCB0eXBlIFdpdGhDYWxsYmFja3M8XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiLFxyXG4gIE9wZXJhdGlvbixcclxuICBLbm93blZhcmlhYmxlcyBleHRlbmRzIEtub3duVmFyaWFibGVNYXBcclxuPiA9IE9wZXJhdGlvbiBleHRlbmRzIHJlYWRvbmx5IGFueVtdXHJcbiAgPyB7XHJcbiAgICAgIFtQIGluIGtleW9mIE9wZXJhdGlvbl06IFdpdGhDYWxsYmFja3M8XHJcbiAgICAgICAgT3BlcmF0aW9uVHlwZSxcclxuICAgICAgICBPcGVyYXRpb25bUF0sXHJcbiAgICAgICAgS25vd25WYXJpYWJsZXNcclxuICAgICAgPjtcclxuICAgIH1cclxuICA6IE9wZXJhdGlvbiBleHRlbmRzIHsgc2NvcGU6IGFueSB9XHJcbiAgPyB7XHJcbiAgICAgIFtQIGluIGtleW9mIE9wZXJhdGlvbl06IFAgZXh0ZW5kcyBcInBhdGNoXCJcclxuICAgICAgICA/IE9wZXJhdGlvbltQXSBleHRlbmRzIFZhcmlhYmxlUGF0Y2hGdW5jdGlvbjxcclxuICAgICAgICAgICAgaW5mZXIgQ3VycmVudCxcclxuICAgICAgICAgICAgaW5mZXIgUmVzdWx0XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICA/IFZhcmlhYmxlUGF0Y2hGdW5jdGlvbjxcclxuICAgICAgICAgICAgICBLbm93blR5cGVGb3I8XHJcbiAgICAgICAgICAgICAgICBPcGVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBLbm93blZhcmlhYmxlcyxcclxuICAgICAgICAgICAgICAgIHVua25vd24gZXh0ZW5kcyBDdXJyZW50ID8gUmVzdWx0IDogQ3VycmVudFxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgOiBuZXZlclxyXG4gICAgICAgIDogUCBleHRlbmRzIFwidmFsdWVcIlxyXG4gICAgICAgID8gS25vd25UeXBlRm9yPE9wZXJhdGlvbiwgS25vd25WYXJpYWJsZXMsIGFueT4gfCBudWxsIHwgdW5kZWZpbmVkXHJcbiAgICAgICAgOiBQIGV4dGVuZHMgXCJpbml0XCJcclxuICAgICAgICA/XHJcbiAgICAgICAgICAgIHwgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHwgVmFyaWFibGVJbml0aWFsaXplckNhbGxiYWNrPFxyXG4gICAgICAgICAgICAgICAgS25vd25UeXBlRm9yPE9wZXJhdGlvbiwgS25vd25WYXJpYWJsZXMsIGFueT5cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgOiBQIGV4dGVuZHMgXCJjYWxsYmFja1wiXHJcbiAgICAgICAgP1xyXG4gICAgICAgICAgICB8IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB8IChPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJzZXRcIlxyXG4gICAgICAgICAgICAgICAgPyBWYXJpYWJsZVNldHRlckNhbGxiYWNrPFxyXG4gICAgICAgICAgICAgICAgICAgIE9wZXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBLbm93blR5cGVGb3I8T3BlcmF0aW9uLCBLbm93blZhcmlhYmxlcywgYW55PlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA6IFZhcmlhYmxlR2V0dGVyQ2FsbGJhY2s8XHJcbiAgICAgICAgICAgICAgICAgICAgT3BlcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIEtub3duVHlwZUZvcjxPcGVyYXRpb24sIEtub3duVmFyaWFibGVzLCBhbnk+XHJcbiAgICAgICAgICAgICAgICAgID4pXHJcbiAgICAgICAgOiBbUCwgT3BlcmF0aW9uVHlwZV0gZXh0ZW5kcyBbXCJwb2xsXCIsIFwiZ2V0XCJdXHJcbiAgICAgICAgP1xyXG4gICAgICAgICAgICB8IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB8IFZhcmlhYmxlUG9sbENhbGxiYWNrPEtub3duVHlwZUZvcjxPcGVyYXRpb24sIEtub3duVmFyaWFibGVzLCBhbnk+PlxyXG4gICAgICAgIDogUCBleHRlbmRzIFZhbGlkT3BlcmF0aW9uS2V5c1xyXG4gICAgICAgID8gT3BlcmF0aW9uW1BdXHJcbiAgICAgICAgOiBuZXZlcjtcclxuICAgIH1cclxuICA6IE9wZXJhdGlvbjtcclxuXHJcbnR5cGUgVHVwbGVPclNlbGY8VD4gPSBUIHwgcmVhZG9ubHkgVFtdIHwgcmVhZG9ubHkgW1RdO1xyXG5cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVPcGVyYXRpb25QYXJhbWV0ZXI8XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiLFxyXG4gIE9wZXJhdGlvblxyXG4+ID0gVHVwbGVPclNlbGY8XHJcbiAgfCBGYWxzaXNoXHJcbiAgfCAoT3BlcmF0aW9uICZcclxuICAgICAgKE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcImdldFwiXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrPzogVmFyaWFibGVHZXR0ZXJDYWxsYmFjazxPcGVyYXRpb24+O1xyXG4gICAgICAgICAgICBwb2xsPzogVmFyaWFibGVQb2xsQ2FsbGJhY2s7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgOiB7IGNhbGxiYWNrPzogVmFyaWFibGVTZXR0ZXJDYWxsYmFjazxPcGVyYXRpb24+IH0pKVxyXG4+O1xyXG5cclxudHlwZSBWYXJpYWJsZU9wZXJhdGlvblJlc3VsdEl0ZW08T3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiPiA9XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgPyBWYXJpYWJsZUdldFJlc3VsdCA6IFZhcmlhYmxlU2V0UmVzdWx0O1xyXG5cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVPcGVyYXRpb25SZXN1bHQ8XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiLFxyXG4gIE9wZXJhdGlvbnMsXHJcbiAgU2NvcGVUZW1wbGF0ZSBleHRlbmRzIHsgc2NvcGU6IHN0cmluZzsgZW50aXR5SWQ/OiBzdHJpbmcgfSxcclxuICBLbm93blR5cGVzIGV4dGVuZHMgS25vd25WYXJpYWJsZU1hcCA9IG5ldmVyXHJcbj4gPSBWYXJpYWJsZVJlc3VsdFByb21pc2U8T3BlcmF0aW9uVHlwZSwgT3BlcmF0aW9ucywgU2NvcGVUZW1wbGF0ZSwgS25vd25UeXBlcz47XHJcblxyXG50eXBlIEdlbmVyaWNWYXJpYWJsZVZhbHVlID0gdW5rbm93bjtcclxuXHJcbnR5cGUgUmVwbGFjZUtleTxUYXJnZXQsIFNvdXJjZT4gPSBUYXJnZXQgZXh0ZW5kcyBpbmZlciBUYXJnZXRcclxuICA/IHtcclxuICAgICAgW1AgaW4ga2V5b2YgVGFyZ2V0XTogUCBleHRlbmRzIGtleW9mIFZhcmlhYmxlS2V5XHJcbiAgICAgICAgPyBTb3VyY2VbUCAmIGtleW9mIFNvdXJjZV1cclxuICAgICAgICA6IFRhcmdldFtQXTtcclxuICAgIH0gZXh0ZW5kcyBpbmZlciBUXHJcbiAgICA/IHsgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxyXG4gICAgOiBuZXZlclxyXG4gIDogbmV2ZXI7XHJcblxyXG50eXBlIE1hcFZhcmlhYmxlUmVzdWx0PFxyXG4gIE9wZXJhdGlvbixcclxuICBUeXBlIGV4dGVuZHMgXCJzdWNjZXNzXCIgfCBcImFsbFwiIHwgXCJ2YWx1ZVwiID0gXCJzdWNjZXNzXCIsXHJcbiAgUmVxdWlyZSBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZSxcclxuICBLbm93blR5cGVzIGV4dGVuZHMgS25vd25WYXJpYWJsZU1hcCA9IG5ldmVyLFxyXG4gIERlZmF1bHRUeXBlIGV4dGVuZHMge30gPSB7fVxyXG4+ID0gT3BlcmF0aW9uIGV4dGVuZHMgRmFsc2lzaFxyXG4gID8gdW5kZWZpbmVkXHJcbiAgOiBPcGVyYXRpb24gZXh0ZW5kcyByZWFkb25seSBhbnlbXVxyXG4gID8ge1xyXG4gICAgICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgT3BlcmF0aW9uXTogTWFwVmFyaWFibGVSZXN1bHQ8XHJcbiAgICAgICAgT3BlcmF0aW9uW1BdLFxyXG4gICAgICAgIFR5cGUsXHJcbiAgICAgICAgUmVxdWlyZSxcclxuICAgICAgICBLbm93blR5cGVzXHJcbiAgICAgID47XHJcbiAgICB9XHJcbiAgOiAoXHJcbiAgICAgIE9wZXJhdGlvbiBleHRlbmRzXHJcbiAgICAgICAgfCBQaWNrPFZhcmlhYmxlVmFsdWVTZXR0ZXI8aW5mZXIgUmVzdWx0PiwgXCJ2YWx1ZVwiPlxyXG4gICAgICAgIHwgUGljazxWYXJpYWJsZVBhdGNoPGluZmVyIEN1cnJlbnQsIGluZmVyIFJlc3VsdD4sIFwicGF0Y2hcIj5cclxuICAgICAgICA/IFtcclxuICAgICAgICAgICAgXCJzZXRcIixcclxuICAgICAgICAgICAgUmVwbGFjZUtleTxcclxuICAgICAgICAgICAgICBWYXJpYWJsZVNldFJlc3VsdDxcclxuICAgICAgICAgICAgICAgIHVua25vd24gZXh0ZW5kcyBDdXJyZW50XHJcbiAgICAgICAgICAgICAgICAgID8gdW5rbm93biBleHRlbmRzIFJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgID8gS25vd25UeXBlRm9yPE9wZXJhdGlvbiwgS25vd25UeXBlcywgR2VuZXJpY1ZhcmlhYmxlVmFsdWU+XHJcbiAgICAgICAgICAgICAgICAgICAgOiBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgOiBDdXJyZW50XHJcbiAgICAgICAgICAgICAgPixcclxuICAgICAgICAgICAgICBPcGVyYXRpb25cclxuICAgICAgICAgICAgPiAmIHtcclxuICAgICAgICAgICAgICAvLyBOb3RNb2RpZmllZCBpcyBvbmx5IGZvciB1bmRlcmx5aW5nIFZhcmlhYmxlU3RvcmFnZXMgYmVoaW5kIGZhw6dhZGVzIHRoYXQgcmV0dXJucyByZXN1bHQgcHJvbWlzZXMuXHJcbiAgICAgICAgICAgICAgc3RhdHVzOiBFeGNsdWRlPFxyXG4gICAgICAgICAgICAgICAgVmFyaWFibGVSZXN1bHRTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICBSZXN1bHQgZXh0ZW5kcyBudWxsID8gbmV2ZXIgOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZFxyXG4gICAgICAgICAgICAgID47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICA6IFtPcGVyYXRpb25dIGV4dGVuZHMgW25ldmVyXVxyXG4gICAgICAgID8gbmV2ZXJcclxuICAgICAgICA6IFtcclxuICAgICAgICAgICAgXCJnZXRcIixcclxuICAgICAgICAgICAgUmVwbGFjZUtleTxcclxuICAgICAgICAgICAgICBWYXJpYWJsZUdldFJlc3VsdDxcclxuICAgICAgICAgICAgICAgIERlZmF1bHRUeXBlICZcclxuICAgICAgICAgICAgICAgICAgKE9wZXJhdGlvbiBleHRlbmRzIFBpY2s8XHJcbiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGVJbml0aWFsaXplcjxpbmZlciBSZXN1bHQ+LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5pdFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA/IHVua25vd24gZXh0ZW5kcyBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgID8gS25vd25UeXBlRm9yPFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIE9wZXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBLbm93blR5cGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyaWNWYXJpYWJsZVZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDogUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgOiBLbm93blR5cGVGb3I8T3BlcmF0aW9uLCBLbm93blR5cGVzLCBHZW5lcmljVmFyaWFibGVWYWx1ZT4pXHJcbiAgICAgICAgICAgICAgPiAmIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogRXhjbHVkZTxcclxuICAgICAgICAgICAgICAgICAgVmFyaWFibGVSZXN1bHRTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgIHwgKFtPcGVyYXRpb25dIGV4dGVuZHMgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgeyBpZk1vZGlmaWVkU2luY2U6IG51bWJlciB9IHwgeyBpZk5vbmVNYXRjaDogc3RyaW5nIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IG5ldmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdE1vZGlmaWVkKVxyXG4gICAgICAgICAgICAgICAgICB8IChbT3BlcmF0aW9uXSBleHRlbmRzIFt7IGluaXQ6IGFueSB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBuZXZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgVmFyaWFibGVSZXN1bHRTdGF0dXMuQ3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgVmFyaWFibGVWYWx1ZUVycm9yUmVzdWx0W1wic3RhdHVzXCJdKVxyXG4gICAgICAgICAgICAgICAgPjtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIE9wZXJhdGlvblxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICBdXHJcbiAgICApIGV4dGVuZHMgW2luZmVyIE9wZXJhdGlvblR5cGUsIGluZmVyIFJlc3VsdF1cclxuICA/IChcclxuICAgICAgVHlwZSBleHRlbmRzIFwiYWxsXCJcclxuICAgICAgICA/IFJlc3VsdFxyXG4gICAgICAgIDogUmVzdWx0IGV4dGVuZHMgeyBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLk5vdEZvdW5kIH1cclxuICAgICAgICA/IFJlcXVpcmUgZXh0ZW5kcyB0cnVlXHJcbiAgICAgICAgICA/IG5ldmVyXHJcbiAgICAgICAgICA6IE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcImdldFwiXHJcbiAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgOiBuZXZlciAvLyBOb3QgZm91bmQgaXMgYW4gZXJyb3IgcmVzdWx0IGZvciBzZXQgb3BlcmF0aW9ucy5cclxuICAgICAgICA6IFJlc3VsdCBleHRlbmRzIHsgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RNb2RpZmllZCB9XHJcbiAgICAgICAgPyBUeXBlIGV4dGVuZHMgXCJ2YWx1ZVwiXHJcbiAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgOiBWYXJpYWJsZVJlc3VsdFByb21pc2VSZXN1bHQ8T3BlcmF0aW9uVHlwZSwgUmVzdWx0PlxyXG4gICAgICAgIDogUmVzdWx0IGV4dGVuZHMgeyBzdGF0dXM6IFZhcmlhYmxlU3VjY2Vzc1N0YXR1czsgdmFsdWU/OiBhbnkgfVxyXG4gICAgICAgID8gT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCJcclxuICAgICAgICAgID8gVHlwZSBleHRlbmRzIFwidmFsdWVcIlxyXG4gICAgICAgICAgICA/IFJlc3VsdFtcInZhbHVlXCJdXHJcbiAgICAgICAgICAgIDogUmVzdWx0XHJcbiAgICAgICAgICA6IE9wZXJhdGlvbiBleHRlbmRzIHsgdmFsdWU/OiBudWxsIHwgdW5kZWZpbmVkIH1cclxuICAgICAgICAgID8gVHlwZSBleHRlbmRzIFwidmFsdWVcIlxyXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA6IFJlc3VsdCAmIHsgdmFsdWU/OiB1bmRlZmluZWQgfVxyXG4gICAgICAgICAgOiBUeXBlIGV4dGVuZHMgXCJ2YWx1ZVwiXHJcbiAgICAgICAgICA/IFJlc3VsdFtcInZhbHVlXCJdICYgT3BlcmF0aW9uW2tleW9mIE9wZXJhdGlvbiAmIFwidmFsdWVcIl1cclxuICAgICAgICAgIDogUmVzdWx0ICYgUGljazxPcGVyYXRpb24sIGtleW9mIE9wZXJhdGlvbiAmIFwidmFsdWVcIj5cclxuICAgICAgICA6IG5ldmVyXHJcbiAgICApIGV4dGVuZHMgaW5mZXIgUmVzdWx0XHJcbiAgICA/IFR5cGUgZXh0ZW5kcyBcInZhbHVlXCJcclxuICAgICAgPyBSZXN1bHRcclxuICAgICAgOiBSZXN1bHQgZXh0ZW5kcyB1bmRlZmluZWRcclxuICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgOiBSZXN1bHQgZXh0ZW5kcyB7IFt4OiBzdHJpbmddOiBuZXZlciB9XHJcbiAgICAgID8gbmV2ZXJcclxuICAgICAgOiBWYXJpYWJsZVJlc3VsdFByb21pc2VSZXN1bHQ8T3BlcmF0aW9uVHlwZSwgUmVzdWx0PlxyXG4gICAgOiBuZXZlclxyXG4gIDogbmV2ZXI7XHJcblxyXG5leHBvcnQgdHlwZSBWYXJpYWJsZVJlc3VsdFByb21pc2U8XHJcbiAgT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgfCBcInNldFwiLFxyXG4gIE9wZXJhdGlvbnMsXHJcbiAgU2NvcGVUZW1wbGF0ZSBleHRlbmRzIHsgc2NvcGU6IHN0cmluZzsgZW50aXR5SWQ/OiBzdHJpbmcgfSxcclxuICBLbm93blR5cGVzIGV4dGVuZHMgS25vd25WYXJpYWJsZU1hcCA9IG5ldmVyXHJcbj4gPSB1bmtub3duW10gZXh0ZW5kcyBPcGVyYXRpb25zXHJcbiAgPyBWYXJpYWJsZVJlc3VsdFByb21pc2U8XHJcbiAgICAgIE9wZXJhdGlvblR5cGUsXHJcbiAgICAgIFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0SXRlbTxPcGVyYXRpb25UeXBlPltdLFxyXG4gICAgICBTY29wZVRlbXBsYXRlXHJcbiAgICA+XHJcbiAgOiB1bmtub3duIGV4dGVuZHMgT3BlcmF0aW9uc1xyXG4gID8gVmFyaWFibGVSZXN1bHRQcm9taXNlPFxyXG4gICAgICBPcGVyYXRpb25UeXBlLFxyXG4gICAgICBWYXJpYWJsZU9wZXJhdGlvblJlc3VsdEl0ZW08T3BlcmF0aW9uVHlwZT4sXHJcbiAgICAgIFNjb3BlVGVtcGxhdGVcclxuICAgID5cclxuICA6IFByb21pc2U8XHJcbiAgICAgIE1hdGNoU2NvcGVzPFxyXG4gICAgICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwic3VjY2Vzc1wiLCBmYWxzZSwgS25vd25UeXBlcz4sXHJcbiAgICAgICAgU2NvcGVUZW1wbGF0ZVxyXG4gICAgICA+XHJcbiAgICA+ICYge1xyXG4gICAgICAvKiogUmV0dXJuIGFsbCB2YXJpYWJsZSByZXN1bHRzIHdpdGggZXJyb3Igc3RhdHVzIGNvZGVzIGluc3RlYWQgb2YgdGhyb3dpbmcgZXJyb3JzLiAqL1xyXG4gICAgICBhbGw8VCBleHRlbmRzIHt9ID0ge30+KCk6IFByb21pc2U8XHJcbiAgICAgICAgTWF0Y2hTY29wZXM8XHJcbiAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcImFsbFwiLCBmYWxzZSwgS25vd25UeXBlcywgVD4sXHJcbiAgICAgICAgICBTY29wZVRlbXBsYXRlXHJcbiAgICAgICAgPlxyXG4gICAgICA+O1xyXG4gICAgICByZXF1aXJlPFQgZXh0ZW5kcyB7fSA9IHt9PigpOiBQcm9taXNlPFxyXG4gICAgICAgIE1hdGNoU2NvcGVzPFxyXG4gICAgICAgICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJzdWNjZXNzXCIsIHRydWUsIEtub3duVHlwZXMsIFQ+LFxyXG4gICAgICAgICAgU2NvcGVUZW1wbGF0ZVxyXG4gICAgICAgID5cclxuICAgICAgPjtcclxuICAgICAgYXM8VCBleHRlbmRzIHt9PigpOiBQcm9taXNlPFxyXG4gICAgICAgIE1hdGNoU2NvcGVzPFxyXG4gICAgICAgICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJzdWNjZXNzXCIsIGZhbHNlLCBLbm93blR5cGVzLCBUPixcclxuICAgICAgICAgIFNjb3BlVGVtcGxhdGVcclxuICAgICAgICA+XHJcbiAgICAgID47XHJcbiAgICB9ICYgKE9wZXJhdGlvbnMgZXh0ZW5kcyByZWFkb25seSBhbnlbXVxyXG4gICAgICAgID8ge1xyXG4gICAgICAgICAgICB2YWx1ZXM8VCBleHRlbmRzIHt9ID0ge30+KFxyXG4gICAgICAgICAgICAgIHJlcXVpcmU6IHRydWVcclxuICAgICAgICAgICAgKTogUHJvbWlzZTxcclxuICAgICAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInZhbHVlXCIsIHRydWUsIEtub3duVHlwZXMsIFQ+XHJcbiAgICAgICAgICAgID47XHJcbiAgICAgICAgICAgIHZhbHVlczxUIGV4dGVuZHMge30gPSB7fT4oXHJcbiAgICAgICAgICAgICAgcmVxdWlyZT86IGJvb2xlYW5cclxuICAgICAgICAgICAgKTogUHJvbWlzZTxcclxuICAgICAgICAgICAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInZhbHVlXCIsIGZhbHNlLCBLbm93blR5cGVzLCBUPlxyXG4gICAgICAgICAgICA+O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDoge1xyXG4gICAgICAgICAgICB2YWx1ZTxUIGV4dGVuZHMge30gPSB7fT4oXHJcbiAgICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZVxyXG4gICAgICAgICAgICApOiBQcm9taXNlPFxyXG4gICAgICAgICAgICAgIE1hcFZhcmlhYmxlUmVzdWx0PE9wZXJhdGlvbnMsIFwidmFsdWVcIiwgdHJ1ZSwgS25vd25UeXBlcywgVD5cclxuICAgICAgICAgICAgPjtcclxuICAgICAgICAgICAgdmFsdWU8VCBleHRlbmRzIHt9ID0ge30+KFxyXG4gICAgICAgICAgICAgIHJlcXVpcmU/OiBib29sZWFuXHJcbiAgICAgICAgICAgICk6IFByb21pc2U8XHJcbiAgICAgICAgICAgICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJ2YWx1ZVwiLCBmYWxzZSwgS25vd25UeXBlcywgVD5cclxuICAgICAgICAgICAgPjtcclxuICAgICAgICAgIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1hdFZhcmlhYmxlUmVzdWx0ID0gKFxyXG4gIHJlc3VsdDogUmVzdHJpY3RTY29wZXM8VmFyaWFibGVSZXN1bHQsIHN0cmluZywgYW55PlxyXG4pID0+IHtcclxuICBjb25zdCBrZXkgPSBmb3JtYXRWYXJpYWJsZUtleShyZXN1bHQpO1xyXG4gIGNvbnN0IGVycm9yID0gKHJlc3VsdCBhcyBhbnkpLmVycm9yO1xyXG4gIHJldHVybiByZXN1bHQuc3RhdHVzIDwgNDAwXHJcbiAgICA/IGAke2tleX0gc3VjY2VlZGVkIHdpdGggc3RhdHVzICR7cmVzdWx0LnN0YXR1c30gLSAke1xyXG4gICAgICAgIFZhcmlhYmxlUmVzdWx0U3RhdHVzW3Jlc3VsdC5zdGF0dXNdXHJcbiAgICAgIH0uYFxyXG4gICAgOiBgJHtrZXl9IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3VsdC5zdGF0dXN9IC0gJHtcclxuICAgICAgICBWYXJpYWJsZVJlc3VsdFN0YXR1c1tyZXN1bHQuc3RhdHVzXVxyXG4gICAgICB9JHtlcnJvciA/IGAgKCR7ZXJyb3J9KWAgOiBcIlwifS5gO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlU3RvcmFnZUVycm9yPFxyXG4gIE9wZXJhdGlvbnMgZXh0ZW5kcyB1bmRlZmluZWQgfCB7IFtTeW1ib2wuaXRlcmF0b3JdPzogbmV2ZXIgfSB8IHJlYWRvbmx5IGFueVtdXHJcbj4gZXh0ZW5kcyBFcnJvciB7XHJcbiAgcHVibGljIHJlYWRvbmx5IHN1Y2NlZWRlZDogTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJzdWNjZXNzXCI+O1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgZmFpbGVkOiBFeGNsdWRlPFxyXG4gICAgTWFwVmFyaWFibGVSZXN1bHQ8T3BlcmF0aW9ucywgXCJhbGxcIj4sXHJcbiAgICBNYXBWYXJpYWJsZVJlc3VsdDxPcGVyYXRpb25zLCBcInN1Y2Nlc3NcIj5cclxuICA+O1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zOiBPcGVyYXRpb25zLCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UgPz8gXCJPbmUgb3IgbW9yZSBvcGVyYXRpb25zIGZhaWxlZC5cIik7XHJcbiAgICB0aGlzLnN1Y2NlZWRlZCA9XHJcbiAgICAgICgob3BlcmF0aW9ucyBhcyBWYXJpYWJsZVJlc3VsdFtdKT8uZmlsdGVyKChvcGVyYXRpb24pID0+XHJcbiAgICAgICAgaXNTdWNjZXNzUmVzdWx0KG9wZXJhdGlvbiwgZmFsc2UpXHJcbiAgICAgICkgYXMgYW55KSA/PyBbXTtcclxuICAgIHRoaXMuZmFpbGVkID1cclxuICAgICAgKChvcGVyYXRpb25zIGFzIFZhcmlhYmxlUmVzdWx0W10pPy5maWx0ZXIoXHJcbiAgICAgICAgKG9wZXJhdGlvbikgPT4gIWlzU3VjY2Vzc1Jlc3VsdChvcGVyYXRpb24sIGZhbHNlKVxyXG4gICAgICApIGFzIGFueSkgPz8gW107XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBoYXNDYWxsYmFjayA9IChvcDogYW55KTogb3AgaXMgeyBjYWxsYmFjazogVmFyaWFibGVDYWxsYmFjayB9ID0+XHJcbiAgISFvcFtcImNhbGxiYWNrXCJdO1xyXG5cclxuY29uc3QgaGFzUG9sbENhbGxiYWNrID0gKG9wOiBhbnkpOiBvcCBpcyB7IHBvbGw6IFZhcmlhYmxlUG9sbENhbGxiYWNrIH0gPT5cclxuICAhIW9wW1wicG9sbFwiXTtcclxuXHJcbmNvbnN0IHNvdXJjZU9wZXJhdGlvbiA9IFN5bWJvbCgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvVmFyaWFibGVSZXN1bHRQcm9taXNlID0gPFxyXG4gIE9wZXJhdGlvblR5cGUgZXh0ZW5kcyBcImdldFwiIHwgXCJzZXRcIixcclxuICBPcGVyYXRpb25zLFxyXG4gIFNjb3BlXHJcbj4oXHJcbiAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcclxuICBvcGVyYXRpb25zOiBPcGVyYXRpb25zIHwgQXJyYXlPclNlbGY8RmFsc2lzaCB8IHsgc2NvcGU6IFNjb3BlIH0+LFxyXG4gIGhhbmRsZXI6IChcclxuICAgIG9wZXJhdGlvbnM6IFJlbW92ZVNjb3BlUmVzdHJpY3Rpb25zPFxyXG4gICAgICBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiA/IFZhcmlhYmxlR2V0dGVyIDogVmFyaWFibGVTZXR0ZXJcclxuICAgID5bXVxyXG4gICkgPT4gUHJvbWlzZTxcclxuICAgIE1hcDxcclxuICAgICAgUmVtb3ZlU2NvcGVSZXN0cmljdGlvbnM8VmFyaWFibGVLZXksIHRydWU+LFxyXG4gICAgICBSZW1vdmVTY29wZVJlc3RyaWN0aW9uczxWYXJpYWJsZVJlc3VsdCwgdHJ1ZT5cclxuICAgID5cclxuICA+LFxyXG4gIHtcclxuICAgIHBvbGwsXHJcbiAgICBsb2dDYWxsYmFja0Vycm9yLFxyXG4gIH06IHtcclxuICAgIHBvbGw/OiAoXHJcbiAgICAgIHNvdXJjZTogT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCIgPyBWYXJpYWJsZUdldHRlciA6IFZhcmlhYmxlU2V0dGVyLFxyXG4gICAgICBjYWxsYmFjazogT3BlcmF0aW9uVHlwZSBleHRlbmRzIFwiZ2V0XCJcclxuICAgICAgICA/IFZhcmlhYmxlR2V0dGVyQ2FsbGJhY2tcclxuICAgICAgICA6IFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2tcclxuICAgICkgPT4gdm9pZDtcclxuICAgIGxvZ0NhbGxiYWNrRXJyb3I/OiAoXHJcbiAgICAgIG1lc3NhZ2U6IHN0cmluZyxcclxuICAgICAgb3BlcmF0aW9uOiBPcGVyYXRpb25UeXBlIGV4dGVuZHMgXCJnZXRcIiA/IFZhcmlhYmxlR2V0dGVyIDogVmFyaWFibGVTZXR0ZXIsXHJcbiAgICAgIGVycm9yOiBhbnlcclxuICAgICkgPT4gdm9pZDtcclxuICB9ID0ge31cclxuKTogVmFyaWFibGVSZXN1bHRQcm9taXNlPE9wZXJhdGlvblR5cGUsIE9wZXJhdGlvbnMsIGFueT4gPT4ge1xyXG4gIGNvbnN0IG9wcyA9IGlzQXJyYXkob3BlcmF0aW9ucykgPyAob3BlcmF0aW9ucyBhcyBhbnkpIDogW29wZXJhdGlvbnNdO1xyXG4gIGNvbnN0IGNhbGxiYWNrRXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBjb25zdCBoYW5kbGVyUmVzdWx0UHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgaGFuZGxlcihvcHMuZmlsdGVyKChvcDogYW55KSA9PiBvcCkpO1xyXG4gICAgY29uc3QgY2FsbGJhY2tzOiBbXHJcbiAgICAgIG9wOiBhbnksXHJcbiAgICAgIGluaXRpYWxSZXN1bHQ6IGFueSxcclxuICAgICAgY2FsbGJhY2s6IChyZXN1bHQ6IFZhcmlhYmxlUmVzdWx0KSA9PiBhbnlcclxuICAgIF1bXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3Qgb3Agb2Ygb3BzKSB7XHJcbiAgICAgIGlmICghb3ApIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0OiBWYXJpYWJsZVJlc3VsdCA9IHJlc3VsdHMuZ2V0KG9wKSBhcyBhbnk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcclxuICAgICAgICAvLyBUaGlzIGVycm9yIHdpbGwgYmUgY2F1Z2h0LCBpZiB0aGUgcmVzdWx0IHByb21pc2UgaXMgYXdhaXRlZC5cclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVzdWx0W3NvdXJjZU9wZXJhdGlvbl0gPSBvcDtcclxuXHJcbiAgICAgIGlmIChoYXNDYWxsYmFjayhvcCkpIHtcclxuICAgICAgICBjYWxsYmFja3MucHVzaChbb3AsIHJlc3VsdCwgKHJlc3VsdCkgPT4gb3AuY2FsbGJhY2socmVzdWx0KSA9PT0gdHJ1ZV0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChoYXNQb2xsQ2FsbGJhY2sob3ApKSB7XHJcbiAgICAgICAgbGV0IHByZXZpb3VzOiBhbnk7XHJcbiAgICAgICAgLy8gVGhpcyBpcyBvbmx5IGRlZmluZWQgZm9yIGdldCBvcGVyYXRpb25zLlxyXG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKFtcclxuICAgICAgICAgIG9wLFxyXG4gICAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgICAgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWlzVmFyaWFibGVSZXN1bHQocmVzdWx0LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwb2xsID0gaXNWYXJpYWJsZVJlc3VsdChyZXN1bHQsIGZhbHNlKVxyXG4gICAgICAgICAgICAgID8gb3AucG9sbChyZXN1bHQudmFsdWUsIHJlc3VsdFtzb3VyY2VPcGVyYXRpb25dID09PSBvcCwgcHJldmlvdXMpXHJcbiAgICAgICAgICAgICAgOiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcHJldmlvdXMgPSByZXN1bHQudmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiBwb2xsO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBbb3AsIGluaXRpYWxSZXN1bHQsIGNhbGxiYWNrXSBvZiBjYWxsYmFja3MpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb2xsaW5nQ2FsbGJhY2sgPVxyXG4gICAgICAgICAgb3BlcmF0aW9uVHlwZSA9PT0gXCJnZXRcIlxyXG4gICAgICAgICAgICA/IGFzeW5jIChyZXN1bHQ6IGFueSkgPT5cclxuICAgICAgICAgICAgICAgIChhd2FpdCBjYWxsYmFjayhyZXN1bHQpKSA9PT0gdHJ1ZSAmJiBwb2xsPy4ob3AsIHBvbGxpbmdDYWxsYmFjaylcclxuICAgICAgICAgICAgOiBjYWxsYmFjaztcclxuICAgICAgICBhd2FpdCBwb2xsaW5nQ2FsbGJhY2soaW5pdGlhbFJlc3VsdCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke29wZXJhdGlvblR5cGV9IGNhbGxiYWNrIGZvciAke2Zvcm1hdFZhcmlhYmxlS2V5KFxyXG4gICAgICAgICAgb3BcclxuICAgICAgICApfSBmYWlsZWQ6ICR7ZXJyb3J9LmA7XHJcbiAgICAgICAgaWYgKGxvZ0NhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgICAgIGxvZ0NhbGxiYWNrRXJyb3IobWVzc2FnZSwgb3AsIGVycm9yKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FsbGJhY2tFcnJvcnMucHVzaChtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxuICB9KSgpO1xyXG5cclxuICBjb25zdCBtYXBSZXN1bHRzID0gYXN5bmMgKFxyXG4gICAgdHlwZTpcclxuICAgICAgfCAwIC8vIGFueVxyXG4gICAgICB8IDEgLy8gdGhyb3cgb24gZXJyb3JzXHJcbiAgICAgIHwgMiwgLy8gdmFsdWVzIChhbHNvIHRocm93IG9uIGVycm9ycylcclxuICAgIHJlcXVpcmU6IGJvb2xlYW5cclxuICApID0+IHtcclxuICAgIC8vIFRoZSByYXcgcmVzdWx0cyBmcm9tIHRoZSBtYXAgZnVuY3Rpb24gaW5jbHVkaW5nIGVycm9yIHJlc3VsdHMuXHJcbiAgICBjb25zdCBoYW5kbGVyUmVzdWx0cyA9IGF3YWl0IGhhbmRsZXJSZXN1bHRQcm9taXNlO1xyXG5cclxuICAgIC8vIFRoZSByZXN1bHRzIHdlIHdpbGwgcmV0dXJuIGlmIHRoZXJlIGFyZSBubyBlcnJvcnM7XHJcbiAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3Qgb3Agb2Ygb3BzKSB7XHJcbiAgICAgIGlmICghb3ApIHtcclxuICAgICAgICAvLyBGYWxzaXNoIHRvIHVuZGVmaW5lZC5cclxuICAgICAgICByZXN1bHRzLnB1c2godW5kZWZpbmVkKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCByZXN1bHQ6IFZhcmlhYmxlUmVzdWx0ID0gaGFuZGxlclJlc3VsdHMuZ2V0KG9wKSBhcyBhbnk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcclxuICAgICAgICBlcnJvcnMucHVzaChgTm8gcmVzdWx0IGZvciAke2Zvcm1hdFZhcmlhYmxlS2V5KG9wKX0uYCk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdHlwZSB8fFxyXG4gICAgICAgIGlzU3VjY2Vzc1Jlc3VsdChcclxuICAgICAgICAgIHJlc3VsdCxcclxuICAgICAgICAgIC8vIDQwNCBpcyBhbiBlcnJvciByZXN1bHQgZm9yIHNldCBvcGVyYXRpb25zLCBidXQgbm90IGZvciBnZXQuXHJcbiAgICAgICAgICByZXF1aXJlIHx8IG9wZXJhdGlvblR5cGUgPT09IFwic2V0XCJcclxuICAgICAgICApXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJlc3VsdHMucHVzaChcclxuICAgICAgICAgIHR5cGUgJiYgcmVzdWx0LnN0YXR1cyA9PT0gVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmRcclxuICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgOiB0eXBlID4gMVxyXG4gICAgICAgICAgICA/IHJlc3VsdFtcInZhbHVlXCJdID8/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA6IHJlc3VsdFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXJyb3JzLnB1c2goZm9ybWF0VmFyaWFibGVSZXN1bHQocmVzdWx0KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlcnJvcnMucHVzaCguLi5jYWxsYmFja0Vycm9ycyk7XHJcbiAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xyXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDEwKSB7XHJcbiAgICAgICAgZXJyb3JzLnB1c2goYFxcbihhbmQgJHtlcnJvcnMuc3BsaWNlKDEwKS5sZW5ndGh9IG1vcmUuLi4pYCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IFZhcmlhYmxlU3RvcmFnZUVycm9yKHJlc3VsdHMsIGVycm9ycy5qb2luKFwiXFxuXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3BzID09PSBvcGVyYXRpb25zID8gcmVzdWx0cyA6IHJlc3VsdHNbMF07IC8vIFNpbmdsZSB2YWx1ZSBpZiBzaW5nbGUgdmFsdWUuXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzdWx0UHJvbWlzZSA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICBkZWZlcnJlZFByb21pc2UoKCkgPT4gbWFwUmVzdWx0cygxLCBmYWxzZSkpLFxyXG4gICAge1xyXG4gICAgICBhczogKCkgPT4gbWFwUmVzdWx0cygxLCBmYWxzZSksXHJcbiAgICAgIGFsbDogKCkgPT4gbWFwUmVzdWx0cygwLCBmYWxzZSksXHJcbiAgICAgIHJlcXVpcmU6ICgpID0+IG1hcFJlc3VsdHMoMSwgdHJ1ZSksXHJcbiAgICAgIHZhbHVlOiAocmVxdWlyZSA9IGZhbHNlKSA9PiBtYXBSZXN1bHRzKDIsIHJlcXVpcmUpLFxyXG4gICAgICB2YWx1ZXM6IChyZXF1aXJlID0gZmFsc2UpID0+IG1hcFJlc3VsdHMoMiwgcmVxdWlyZSksXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdFByb21pc2UgYXMgYW55O1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgVmFyaWFibGVSZXN1bHRQcm9taXNlUmVzdWx0PE9wZXJhdGlvblR5cGUsIFJlc3VsdD4gPSBSZXN1bHQ7XHJcbiIsImltcG9ydCB0eXBlIHtcbiAgQ2FydFVwZGF0ZWRFdmVudCxcbiAgQ29tcG9uZW50Q2xpY2tFdmVudCxcbiAgRXZlbnRNZXRhZGF0YSxcbiAgTG9jYWxJRCxcbiAgU2Vzc2lvbixcbiAgVGFnZ2VkLFxuICBUaW1lc3RhbXAsXG4gIFV1aWQsXG4gIFZpZXdFdmVudCxcbn0gZnJvbSBcIi4uXCI7XG5cbi8qKlxuICogVGhlIGJhc2UgdHlwZSBmb3IgYWxsIGV2ZW50cyB0aGF0IGFyZSB0cmFja2VkLlxuICpcbiAqIFRoZSBuYW1pbmcgY29udmVudGlvbiBpczpcbiAqIC0gSWYgdGhlIGV2ZW50IHJlcHJlc2VudHMgc29tZXRoaW5nIHRoYXQgY2FuIGFsc28gYmUgY29uc2lkZXJlZCBhbiBlbnRpdHkgbGlrZSBhIFwicGFnZSB2aWV3XCIsIFwidXNlciBsb2NhdGlvblwiIGV0Yy4gdGhlIG5hbWUgc2hvdWxkIGJlIHRoYXQuXG4gKiAtIElmIHRoZSBldmVudCBpbmRpY2F0ZXMgc29tZXRoaW5nIHRoYXQgaGFwcGVuZWQsIGxpa2UgXCJzZXNzaW9uIHN0YXJ0ZWRcIiwgXCJ2aWV3IGVuZGVkXCIgZXRjLiB0aGUgbmFtZSBzaG91bGQgZW5kIHdpdGggYSB2ZXJiIGluIHRoZSBwYXN0IHRlbnNlLlxuICpcbiAqIEBpZCB1cm46dGFpbGpzOmNvcmU6ZXZlbnRcbiAqIEBzeXN0ZW1fdHlwZSBldmVudFxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tlZEV2ZW50IGV4dGVuZHMgVGFnZ2VkIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBBbGwgY29uY3JldGUgZXZlbnQgdHlwZXMgbXVzdCBvdmVycmlkZSB0aGlzIHByb3BlcnR5IHdpdGggYSBjb25zdGFudCB2YWx1ZSwgYW5kIGl0IGlzIGFuIGVycm9yIHRvIHRyeVxuICAgKiB0byBzdG9yZSBhbiBldmVudCB3aXRob3V0IGEgY29uc3RhbnQgdHlwZS5cbiAgICpcbiAgICogU2luY2UgdGhpcyBpcyBhIHN5c3RlbSBwcm9wZXJ0eSB0aGF0IGlzIGlnbm9yZWQgZHVyaW5nIGNlbnNvcmluZyBwZXIgZGVmYXVsdCxcbiAgICogaXQgYXV0b21hdGljYWxseSBiZWNvbWVzIGFub255bW91cyBhbmQgbmVjZXNzYXJ5IGluIGN1c3RvbSBldmVudHMgd2l0aG91dCByZXF1aXJlZCBwcm9wZXJ0aWVzIHVubGVzcyB0aGUgc3lzdGVtXG4gICAqIGFubm90YXRpb24gaXMgZXhwbGljaXRseSByZXBlYXRlZC5cbiAgICpcbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBzY2hlbWEgdGhlIGV2ZW50IGNvbWVzIGZyb20uIEl0IGlzIHN1Z2dlc3RlZCB0aGF0IHRoZSBzY2hlbWEgSUQgaW5jbHVkZXMgYSBTZW1WZXIgdmVyc2lvbiBudW1iZXIgaW4gdGhlIGVuZC4gKGUuZy4gdXJuOnRhaWxqczowLjkuMCBvciBodHRwczovL3d3dy5ibGFoLmdlL3NjaGVtYS8zLjIxLjApXG4gICAqL1xuICBzY2hlbWE/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYXNzaWduZWQgYnkgdGhlIHNlcnZlci4gT25seSB1c2Uge0BsaW5rIGNsaWVudElkfSBjbGllbnQtc2lkZS5cbiAgICpcbiAgICovXG4gIGlkPzogVXVpZDtcblxuICAvKipcbiAgICogVGhpcyBpcyBzZXQgYnkgdGhlIGNsaWVudCBhbmQgdXNlZCB0byB3aGVuIGV2ZW50cyByZWZlcmVuY2UgZWFjaCBvdGhlci5cbiAgICovXG4gIGNsaWVudElkPzogTG9jYWxJRDtcblxuICAvKiogVGhlc2UgcHJvcGVydGllcyBhcmUgdXNlZCB0byB0cmFjayB0aGUgc3RhdGUgb2YgdGhlIGV2ZW50IGFzIGl0IGdldHMgY29sbGVjdGVkLCBhbmQgaXMgbm90IHBlcnNpc3RlZC4gKi9cbiAgbWV0YWRhdGE/OiBFdmVudE1ldGFkYXRhO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQsIGl0IG1lYW5zIHRoaXMgZXZlbnQgY29udGFpbnMgdXBkYXRlcyB0byBhbiBleGlzdGluZyBldmVudCB3aXRoIHRoaXMge0BsaW5rIGNsaWVudElkfSwgYW5kIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBhIHNlcGFyYXRlIGV2ZW50LlxuICAgKiBJdCBtdXN0IGhhdmUgdGhlIHRhcmdldCBldmVudCdzIHtAbGluayBUcmFja2VkRXZlbnQudHlwZX0gcG9zdGZpeGVkIHdpdGggXCJfcGF0Y2hcIiAoZm9yIGV4YW1wbGUgXCJ2aWV3X3BhdGNoXCIpLlxuICAgKlxuICAgKiBOdW1iZXJzIGluIHBhdGNoZXMgYXJlIGNvbnNpZGVyZWQgaW5jcmVtZW50YWwgd2hpY2ggbWVhbnMgdGhlIHBhdGNoIHdpbGwgaW5jbHVkZSB0aGUgYW1vdW50IHRvIGFkZCB0byBhbiBleGlzdGluZyBudW1iZXIgKG9yIHplcm8gaWYgaXQgZG9lcyBub3QgeWV0IGhhdmUgYSB2YWx1ZSkuXG4gICAqIEFsbCBvdGhlciB2YWx1ZXMgYXJlIGp1c3Qgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgcGF0Y2ggdmFsdWVzLlxuICAgKlxuICAgKiBQbGVhc2UgcGF5IGF0dGVudGlvbiB0byB0aGlzIHByb3BlcnR5IHdoZW4gZG9pbmcgYW5hbHl0aWNzIGxlc3QgeW91IG1heSBvdmVyIGNvdW50IG90aGVyd2lzZS5cbiAgICpcbiAgICogUGF0Y2hlcyBhcmUgYWx3YXlzIGNvbnNpZGVyZWQgcGFzc2l2ZSwgY2YuIHtAbGluayBFdmVudE1ldGFkYXRhLnBhc3NpdmV9LlxuICAgKi9cbiAgcGF0Y2hUYXJnZXRJZD86IExvY2FsSUQ7XG5cbiAgLyoqXG4gICAqIFRoZSBjbGllbnQgSUQgb2YgdGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgdHJpZ2dlcmVkIG9yIGdvdCB0cmlnZ2VyZWQgaW4gdGhlIHNhbWUgY29udGV4dC5cbiAgICogRm9yIGV4YW1wbGUsIGEge0BsaW5rIE5hdmlnYXRpb25FdmVudH0gbWF5IHRyaWdnZXIgYSB7QGxpbmsgVmlld0V2ZW50fSxcbiAgICogb3IgYSB7QGxpbmsgQ2FydFVwZGF0ZWRFdmVudH0gbWF5IGJlIHRyaWdnZXJlZCB3aXRoIGEge0BsaW5rIENvbXBvbmVudENsaWNrRXZlbnR9LlxuICAgKlxuICAgKi9cbiAgcmVsYXRlZEV2ZW50SWQ/OiBMb2NhbElEO1xuXG4gIC8qKlxuICAgKiBUaGUgc2Vzc2lvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxuICAgKi9cbiAgc2Vzc2lvbj86IFNlc3Npb247XG5cbiAgLyoqXG4gICAqIFdoZW4gYXBwbGljYWJsZSwgdGhlIHZpZXcgd2hlcmUgdGhlIGV2ZW50IGhhcHBlbmVkIChyZWxhdGVkIGJ5IHtAbGluayBWaWV3RXZlbnR9KS5cbiAgICovXG4gIHZpZXc/OiBMb2NhbElEO1xuXG4gIC8qKlxuICAgKiBJZiBzcGVjaWZpZWQsIGl0IG11c3QgYmUgYSBuZWdhdGl2ZSBudW1iZXIgd2hlbiBzZW50IGZyb20gdGhlIGNsaWVudCAoZGlmZmVyZW5jZSBiZXR3ZWVuIHdoZW4gdGhlIGV2ZW50IHdhcyBnZW5lcmF0ZWQgYW5kIHdoZW4gaXMgd2FzIHBvc3RlZCBpbiBtaWxsaXNlY29uZHMpLlxuICAgKlxuICAgKiBUaGUgdGltZXN0YW1wIGlzIGFzc2lnbmVkIGJlZm9yZSBpdCByZWFjaGVzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQGRlZmF1bHQgbm93XG4gICAqL1xuICB0aW1lc3RhbXA/OiBUaW1lc3RhbXA7XG59XG5cbmV4cG9ydCBjb25zdCBpc1RyYWNrZWRFdmVudCA9IChldjogYW55KTogZXYgaXMgVHJhY2tlZEV2ZW50ID0+XG4gIGV2ICYmIHR5cGVvZiBldi50eXBlID09PSBcInN0cmluZ1wiO1xuIiwiaW1wb3J0IHR5cGUge1xuICBEb21haW4sXG4gIEludGVnZXIsXG4gIExvY2FsSUQsXG4gIFRyYWNrZWRFdmVudCxcbiAgVmlldyxcbiAgVmlld1RpbWluZ0RhdGEsXG4gIFZpZXdwb3J0LFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IHR5cGVUZXN0IH0gZnJvbSBcIi4uL3V0aWwvdHlwZS10ZXN0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpY2tJZHMge1xuICBnb29nbGU/OiBzdHJpbmc7XG4gIGdvb2dsZURvdWJsZUNsaWNrPzogc3RyaW5nO1xuICBmYWNlYm9vaz86IHN0cmluZztcbiAgbWljcm9zb2Z0Pzogc3RyaW5nO1xuICBnb29nbGVBbmFseXRpY3M/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IGEgdXNlciBuYXZpZ2F0ZXMgYmV0d2VlbiB2aWV3cy4gKHBhZ2UsIHNjcmVlbiBvciBzaW1pbGFyKS5cbiAqXG4gKiBUaGlzIGV2ZW50IGRvZXMgbm90XG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdFdmVudCBleHRlbmRzIFRyYWNrZWRFdmVudCB7XG4gIHR5cGU6IFwidmlld1wiO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdGRvY1xuICAgKi9cbiAgY2xpZW50SWQ6IExvY2FsSUQ7XG5cbiAgLyoqXG4gICAqIFRoZSBwcmltYXJ5IGNvbnRlbnQgdXNlZCB0byBnZW5lcmF0ZSB0aGUgdmlldyBpbmNsdWRpbmcgdGhlIHBlcnNvbmFsaXphdGlvbiB0aGF0IGxlZCB0byB0aGUgZGVjaXNpb24sIGlmIGFueS5cbiAgICogSWYgdmlld3MgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSBpbiBhIHdheSB3aGVyZSB0aGV5IGFyZSBub3QgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IGFmdGVyIGEgdXNlciBuYXZpZ2F0ZXMgdG8gYSBVUkxcbiAgICogb24gdGhlIHdlYnNpdGUsIHRoZSB2aWV3IGRlZmluaXRpb24gbWF5IGZvbGxvdyBmcm9tIGEgc2VwYXJhdGUgcGF0Y2ggZXZlbnQuXG4gICAqL1xuICBkZWZpbml0aW9uPzogVmlldztcblxuICAvKipcbiAgICogVGhlIHRhYiB3aGVyZSB0aGUgdmlldyB3YXMgc2hvd24uXG4gICAqL1xuICB0YWI/OiBMb2NhbElEO1xuXG4gIC8qKlxuICAgKiBUaGUgZnVsbHkgcXVhbGlmaWVkIFVSTCBhcyBzaG93biBpbiB0aGUgYWRkcmVzcyBsaW5lIG9mIHRoZSBicm93c2VyIGV4Y2x1ZGluZyB0aGUgZG9tYWluLlxuICAgKi9cbiAgaHJlZjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaGFzaCBwYXJ0IG9mIHRoZSBVUkwgKC9hYm91dC11cyNhZGRyZXNzKS5cbiAgICovXG4gIGhhc2g/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXRoIHBvcnRpb24gb2YgdGhlIFVSTC5cbiAgICovXG4gIHBhdGg/OiBzdHJpbmc7XG5cbiAgLyoqIEZvciBob3cgbG9uZyB0aGUgdmlldyB3YXMgYWN0aXZlLiBUaGlzIGlzIHNldCB2aWEgcGF0Y2hlcyAqL1xuICBkdXJhdGlvbj86IFZpZXdUaW1pbmdEYXRhO1xuXG4gIC8qKlxuICAgKiBUaGUgSFRUUCBzdGF0dXMgZm9yIHRoZSByZXNwb25zZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZpZXcuXG4gICAqXG4gICAqIEBkZWZhdWx0IDIwMFxuICAgKi9cbiAgaHR0cFN0YXR1cz86IG51bWJlcjtcblxuICAvKipcbiAgICogVXJjaGluIFRyYWNraW5nIE1vZHVsZSAoVVRNKSBwYXJhbWV0ZXJzIGFzIGRlZmluZWQgYnkgKFdpa2lwZWRpYSlbaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVVRNX3BhcmFtZXRlcnNdLlxuICAgKi9cbiAgdXRtPzoge1xuICAgIHNvdXJjZT86IHN0cmluZztcbiAgICBtZWRpdW0/OiBzdHJpbmc7XG4gICAgY2FtcGFpZ24/OiBzdHJpbmc7XG4gICAgdGVybT86IHN0cmluZztcbiAgICBjb250ZW50Pzogc3RyaW5nO1xuICB9O1xuICAvKipcbiAgICogVGhlIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzIGluIHRoZSBVUkwsIGUuZy4gdXRtX2NhbXBhaWduLlxuICAgKiBFYWNoIHBhcmFtZXRlciBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMsIGZvciBleGFtcGxlIElmIHRoZSBwYXJhbWV0ZXIgaXMgc3BlY2lmaWVkIG1vcmUgdGhhbiBvbmNlLlxuICAgKiBJZiB0aGUgcGFyYW1ldGVyIGlzIG9ubHkgc3BlY2lmaWVkIG9uY2UgcGlwZXMsIHNlbWljb2xvbnMgYW5kIGNvbW1hcyBhcmUgYXNzdW1lZCB0byBzZXBhcmF0ZSB2YWx1ZXMgKGluIHRoYXQgb3JkZXIpLlxuICAgKiBBIHBhcmFtZXRlciB3aXRob3V0IGEgdmFsdWUgd2lsbCBnZXQgcmVjb3JkZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBAZXhhbXBsZSBUaGUgVVJMIGh0dHBzOi8vd3d3LmZvby5jb20vP3V0bV9zb3VyY2U9YmFyJnV0bV9jYW1wYWlnbj1jYW1wYWlnbjEsY2FtcGFpZ24yJmZsYWcmZ2NsaWQ9MTIzeHl6JnAxPWEmcDE9YiZwMj1hO2IsYztkIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxuICAgKiAgdXRtX3NvdXJjZSA9IFtcImJhclwiXSBcXFxuICAgKiAgdXRtX2NhbXBhaWduID0gW1wiY2FtcGFpZ24xXCIsIFwiY2FtcGFpZ24yXCJdIFxcXG4gICAqICBnY2xpZCA9IFtcIjEyM3h5elwiXSBcXFxuICAgKiAgZmxhZyA9IFtcIlwiXSBcXFxuICAgKiAgZ2NsaWQ9W1wiMTIzeHl6XCJdIFxcXG4gICAqICBwMT1bXCJhXCIsIFwiYlwiXSBcXFxuICAgKiAgcDI9W1wiYVwiLCBcImIsY1wiLCBcImRcIl1cbiAgICovXG4gIHF1ZXJ5U3RyaW5nPzogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xuXG4gIC8vIHF1ZXJ5U3RyaW5nPzoge1xuICAvLyAgIHNvdXJjZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLy8gICBwYXJzZWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLy8gfTtcblxuICAvKipcbiAgICogVGhlIGRvbWFpbiBwYXJ0IG9mIHRoZSBocmVmLCBpZiBhbnkuXG4gICAqL1xuICBkb21haW4/OiBEb21haW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRoaXMgd2FzIHRoZSBmaXJzdCB2aWV3IGluIHRoZSBmaXJzdCB0YWIgdGhlIHVzZXIgb3BlbmVkLlxuICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBOT1QgdGllZCB0byB0aGUgc2Vzc2lvbi4gSWYgYSB1c2VyIGNsb3NlcyBhbGwgdGFicyBhbmQgd2luZG93cyBmb3IgdGhlIHNpdGUgYW5kIHRoZW4gbGF0ZXIgbmF2aWdhdGVzIGJhY2sgdG8gdGhlIHNpdGUgaW4gdGhlIHNhbWUgc2Vzc2lvbiB0aGlzIGZsYWcgd2lsbCBiZSBzZXQgYWdhaW4uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBsYW5kaW5nUGFnZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IG5vIG90aGVyIHRhYnMgd2VyZSBvcGVuIHdoZW4gdGhlIHZpZXcgaGFwcGVuZWQuXG4gICAqIFRoaXMgZmxhZyBhbGxvd3MgYSBiYWNrZW5kIHRvIGV4dGVuZCB0aGUgZGVmaW5pdGlvbiBvZiBhIHNlc3Npb24gdGhhdCBjYW4gbGFzdCBpbmRlZmluaXRlbHkgYnV0IHN0aWxsIHJlc3RhcnQgYWZ0ZXIgaW5hY3Rpdml0eS5cbiAgICogQnkgbWVhc3VyaW5nIHRoZSB0aW1lIGJldHdlZW4gYSB2aWV3IHdpdGggdGhpcyBmbGFnIGFuZCB0aGUgcHJldmlvdXMgZXZlbnQgZnJvbSB0aGUgc2FtZSBkZXZpY2UsIGl0IGlzIHBvc3NpYmxlIHRvIHNlZSBmb3IgaG93IGxvbmcgdGhlIGRldmljZSBoYXMgYmVlbiBhd2F5IGZyb20gdGhlIHNpdGUuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBmaXJzdFRhYj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSB0YWIgbnVtYmVyIGluIHRoZSBjdXJyZW50IHNlc3Npb24uXG4gICAqL1xuICB0YWJOdW1iZXI/OiBJbnRlZ2VyO1xuXG4gIC8qKlxuICAgKiBUaGUgdmlldyBudW1iZXIgaW4gdGhlIGN1cnJlbnQgdGFiLlxuICAgKiBUaGlzIGlzIGtlcHQgYXMgYSBjb252ZW5pZW5jZSwgeWV0IHRlY2huaWNhbGx5IHJlZHVuZGFudCBzaW5jZSBpdCBmb2xsb3dzIGZyb20gdGltZXN0YW1wcyBhbmQgY29udGV4dC5cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgdGFiVmlld051bWJlcj86IEludGVnZXI7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiByZWRpcmVjdHMgdGhhdCBoYXBwZW5lZCBkdXJpbmcgbmF2aWdhdGlvbiB0byB0aGlzIHZpZXcuKi9cbiAgcmVkaXJlY3RzPzogSW50ZWdlcjtcblxuICAvKipcbiAgICogTmF2aWdhdGlvbiB0eXBlLlxuICAgKi9cbiAgbmF2aWdhdGlvblR5cGU/OiBcIm5hdmlnYXRlXCIgfCBcImJhY2stZm9yd2FyZFwiIHwgXCJwcmVyZW5kZXJcIiB8IFwicmVsb2FkXCI7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBldmVudCB3YXMgbWFudWFsbHkgdHJpZ2dlcmVkIHRocm91Z2ggYSB0cmFja2VyIGNvbW1hbmQsIG9yIGhhcHBlbmVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIHRyYWNrZXIncyBhYmlsaXR5IHRvIGluZmVyIG5hdmlnYXRpb24uXG4gICAqXG4gICAqIEBkZWZhdWx0IFwiYXV0b21hdGljXCJcbiAgICovXG4gIG1vZGU/OiBcIm1hbnVhbFwiIHwgXCJhdXRvbWF0aWNcIjtcblxuICAvKipcbiAgICogRXh0ZXJuYWwgcmVmZXJyZXIuIEludGVybmFsIHJlZmVycmVycyBmb2xsb3dzIGZyb20gdGhlIGV2ZW50J3Mge0BsaW5rIFRyYWNrZWRFdmVudFtcInJlbGF0ZWRWaWV3XCJdfSBmaWVsZC5cbiAgICovXG4gIGV4dGVybmFsUmVmZXJyZXI/OiB7XG4gICAgaHJlZj86IHN0cmluZztcbiAgICBkb21haW4/OiBEb21haW47XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSB1c2VyJ3Mgdmlld3BvcnQgKGUuZy4gYnJvd3NlciB3aW5kb3cpIGFuZCBob3cgbXVjaCBpdCB3YXMgc2Nyb2xsZWQgd2hlbiB0aGUgcGFnZSB3YXMgb3BlbmVkLlxuICAgKi9cbiAgdmlld3BvcnQ/OiBWaWV3cG9ydDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdmlldywgZS5nLiBcInBhZ2VcIiBvciBcInNjcmVlblwiLlxuICAgKlxuICAgKiBAZGVmYXVsdCBcInBhZ2VcIlxuICAgKi9cbiAgdmlld1R5cGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBpc1ZpZXdFdmVudCA9IHR5cGVUZXN0PFZpZXdFdmVudD4oXCJ2aWV3XCIpO1xuIiwiaW1wb3J0IHR5cGUgeyBUcmFja2VkRXZlbnQgfSBmcm9tIFwiLi5cIjtcblxuZXhwb3J0IGNvbnN0IHR5cGVUZXN0ID1cbiAgPFQgZXh0ZW5kcyBUcmFja2VkRXZlbnQ+KC4uLnR5cGVzOiBzdHJpbmdbXSkgPT5cbiAgKGV2OiBhbnkpOiBldiBpcyBUID0+XG4gICAgZXY/LnR5cGUgJiYgdHlwZXMuc29tZSgodHlwZSkgPT4gdHlwZSA9PT0gZXY/LnR5cGUpO1xuIiwiaW1wb3J0IHsgVmFyaWFibGUsIFZhcmlhYmxlS2V5LCBWYXJpYWJsZVNlcnZlclNjb3BlIH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7IE1heWJlTnVsbGlzaCwgTnVsbGlzaCwgY3JlYXRlRW51bVBhcnNlciB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IENPTlNFTlRfSU5GT19LRVksIFNDT1BFX0lORk9fS0VZIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgTG9jYWxJRCxcbiAgUmVzdHJpY3RTY29wZXMsXG4gIFNlcnZlclNjb3BlZCxcbiAgU2Vzc2lvbkluZm8sXG4gIFVzZXJDb25zZW50LFxuICBWYXJpYWJsZUdldFJlcXVlc3QsXG4gIFZhcmlhYmxlR2V0UmVzcG9uc2UsXG4gIFZhcmlhYmxlR2V0UmVzdWx0LFxuICBWYXJpYWJsZUdldHRlcixcbiAgVmFyaWFibGVHZXR0ZXJDYWxsYmFjayxcbiAgVmFyaWFibGVQb2xsQ2FsbGJhY2ssXG4gIFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdCxcbiAgVmFyaWFibGVTZXRSZXN1bHQsXG4gIFZhcmlhYmxlU2V0dGVyLFxuICBWYXJpYWJsZVNldHRlckNhbGxiYWNrLFxuICBWaWV3LFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBSZWZlcnJpbmdWaWV3RGF0YSA9IFtcbiAgdmlld0lkOiBMb2NhbElELFxuICByZWxhdGVkRXZlbnRJZDogTG9jYWxJRCB8IHVuZGVmaW5lZFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBDdXJyZW50VmlldyBleHRlbmRzIFZpZXcge1xuICAvKipcbiAgICogSWYgdGhlIHZpZXcgaXMgdXBkYXRlZCwgYW5kIHRoaXMgaXMgc2V0LCBpdCBpcyBjb25zaWRlcmVkIG5hdmlnYXRpb24uXG4gICAqIFVzZSB0aGlzIGlmIHlvdSBoYXZlIGltcGxlbWVudGVkIGN1c3RvbSBuYXZpZ2F0aW9uIHRoYXQgZG9lcyBub3QgbWFrZSB1c2Ugb2ZcbiAgICogaGlzdG9yeS5wdXNoL3JlcGxhY2UuXG4gICAqL1xuICBuYXZpZ2F0aW9uPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IHR5cGUgUmVzZXJ2ZWRUcmFja2VyVmFyaWFibGVzID0ge1xuICBzZXNzaW9uOiB7XG4gICAgW1NDT1BFX0lORk9fS0VZXTogU2Vzc2lvbkluZm87XG4gICAgW0NPTlNFTlRfSU5GT19LRVldOiBVc2VyQ29uc2VudDtcbiAgfTtcbiAgdmlldzoge1xuICAgIHZpZXc6IEN1cnJlbnRWaWV3O1xuICAgIGxvYWRlZDogYm9vbGVhbjtcbiAgICByZWZlcnJlcjogc3RyaW5nO1xuICB9O1xuICBzaGFyZWQ6IHtcbiAgICB0YWJJbmRleDogbnVtYmVyO1xuICAgIHZpZXdJbmRleDogbnVtYmVyO1xuICAgIHJlZmVycmVyOiBbdmlld0lkOiBzdHJpbmcgfCB1bmRlZmluZWQsIG5hdmlnYXRpb25FdmVudElkOiBzdHJpbmddO1xuICB9O1xufTtcblxuY29uc3QgbGV2ZWxzID0ge1xuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgYXJlIG9ubHkgYXZhaWxhYmxlIGluIG1lbW9yeSBpbiB0aGUgY3VycmVudCB2aWV3LCBhbmQgbG9zdCBhcyBzb29uIGFzIHRoZSB1c2VyIG5hdmlnYXRlcyBhd2F5ICh3aXRob3V0IGJmX2NhY2hlKSBvciBjbG9zZXMgdGhlIGJyb3dzZXIuXG4gICAqXG4gICAqIERhdGEgaW4gdGhpcyBzY29wZSBtYXkgYmUgdXNlZCB3aXRob3V0IHVzZXIgY29uc2VudCAoYW5vbnltb3VzIHRyYWNraW5nKSwgaG93ZXZlciBpZiBpdCBpcyB1c2VkIGluIGxvZ2ljIGZvciBldmVudCB0cmFja2luZ1xuICAgKiBtYWtlIHN1cmUgaXQgZG9lcyBub3QgY29udGFpbiBwZXJzb25hbCBpbmZvcm1hdGlvbiB0aGF0IG1heSBpZGVudGlmeSB0aGUgdXNlciwgaGVuY2UgdmlvbGF0ZSB0aGUgcHJlbWlzZSBmb3IgdGhlIG90aGVyd2lzZSBhbm9ueW1vdXNseVxuICAgKiBjb2xsZWN0ZWQgZGF0YS5cbiAgICpcbiAgICpcbiAgICovXG4gIHZpZXc6IFwidmlld1wiLFxuXG4gIC8qKlxuICAgKiBWYXJpYWJsZXMgdGhhdCBhcmUgb25seSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgdGFiLCBpbmNsdWRpbmcgYmV0d2VlbiB2aWV3cyBpbiB0aGUgc2FtZSB0YWIgYXMgbmF2aWdhdGlvbiBvY2N1cnMsIGJ1dCBsb3N0IGFzIHNvb24gYXMgdGhlIHVzZXIgY2xvc2VzIHRoZSB0YWIuXG4gICAqXG4gICAqIERhdGEgaXMgZW5jcnlwdGVkIGF0IHJlc3QsIHlldCBvbmx5IGF2YWlsYWJsZSBpZiB0aGUgdXNlciBoYXMgY29uc2VudGVkIHRvIGRhdGEgYmVpbmcgc3RvcmVkIGZvciB0aGUgdmFyaWFibGVzJyBwdXJwb3Nlcy5cbiAgICovXG4gIHRhYjogXCJ0YWJcIixcblxuICAvKipcbiAgICogVmFyaWFibGVzIHRoYXQgYXJlIHNoYXJlZCBiZXR3ZWVuIG9wZW4gdGFicywgYW5kIGxvc3QgYXMgc29vbiBhcyB0aGUgbGFzdCB0YWIgaXMgY2xvc2VkLlxuICAgKiBUaGVzZSB2YXJpYWJsZXMgYXJlIGtlcHQgZW50aXJlbHkgaW4gbWVtb3J5IGFuZCBzaGFyZWQgdmlhIG1lc3NhZ2luZyB3aGljaCBtZWFucyB0aGV5IGFyZSBuZXZlciBwZXJzaXN0ZWQgaW4gdGhlIHVzZXInc1xuICAgKiBkZXZpY2UgYmV0d2VlbiBicm93c2VyIHJlc3RhcnRzLlxuICAgKlxuICAgKiBVc2UgdGhlIHNlcnZlci1zaWRlIHNjb3BlcyBgc2Vzc2lvbmAsIGBkZXZpY2VgIG9yIGB1c2VyYCBpZiB0aGUgZGF0YSBtdXN0IGJlIHBlcnNpc3RlZCBmb3IgYSBsb25nZXIgZHVyYXRpb24uXG4gICAqL1xuICBzaGFyZWQ6IFwic2hhcmVkXCIsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBMb2NhbFZhcmlhYmxlU2NvcGUgPSAodHlwZW9mIGxldmVscylba2V5b2YgdHlwZW9mIGxldmVsc107XG5cbmV4cG9ydCB0eXBlIEFueVZhcmlhYmxlU2NvcGUgPSBWYXJpYWJsZVNlcnZlclNjb3BlIHwgTG9jYWxWYXJpYWJsZVNjb3BlO1xuXG5leHBvcnQgY29uc3QgbG9jYWxWYXJpYWJsZVNjb3BlID0gY3JlYXRlRW51bVBhcnNlcihcbiAgXCJsb2NhbCB2YXJpYWJsZSBzY29wZVwiLFxuICBsZXZlbHNcbik7XG5cbmV4cG9ydCBjb25zdCBhbnlWYXJpYWJsZVNjb3BlID0gY3JlYXRlRW51bVBhcnNlcihcInZhcmlhYmxlIHNjb3BlXCIsIHtcbiAgLi4ubG9jYWxWYXJpYWJsZVNjb3BlLFxuICAuLi5WYXJpYWJsZVNlcnZlclNjb3BlLFxufSk7XG5cbmV4cG9ydCB0eXBlIENsaWVudFNjb3BlZDxcbiAgVGFyZ2V0LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IExvY2FsT25seSBleHRlbmRzIHRydWVcbiAgPyBSZXN0cmljdFNjb3BlczxUYXJnZXQsIExvY2FsVmFyaWFibGVTY29wZSwgbmV2ZXI+XG4gIDogU2VydmVyU2NvcGVkPFRhcmdldCwgdHJ1ZT47XG5cbmV4cG9ydCB0eXBlIENsaWVudFZhcmlhYmxlS2V5PExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuPiA9XG4gIENsaWVudFNjb3BlZDxWYXJpYWJsZUtleSwgTG9jYWxPbmx5PjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGU8XG4gIFQgZXh0ZW5kcyB7fSA9IGFueSxcbiAgTG9jYWxPbmx5IGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW5cbj4gPSBDbGllbnRTY29wZWQ8VmFyaWFibGU8VD4sIExvY2FsT25seT47XG5cbmV4cG9ydCB0eXBlIENsaWVudFZhcmlhYmxlR2V0dGVyPFxuICBUIGV4dGVuZHMge30gPSBhbnksXG4gIExvY2FsT25seSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuXG4+ID0gQ2xpZW50U2NvcGVkPFZhcmlhYmxlR2V0dGVyPFQ+LCBMb2NhbE9ubHk+ICYge1xuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXN1bHQuXG4gICAqXG4gICAqIFJldHVybiBgdHJ1ZWAgZnJvbSB0aGUgY2FsbGJhY2sgdG8gcG9sbCBmb3IgY2hhbmdlcywgdGhhdCBpcywgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBhZ2FpbiBuZXh0IHRpbWUgdGhlIHZhcmlhYmxlIGNoYW5nZXNcbiAgICogdW50aWwgaXQgcmV0dXJucyBzb21ldGhpbmcgZWxzZSB0aGFuIGB0cnVlYC5cbiAgICovXG4gIGNhbGxiYWNrPzogQ2xpZW50VmFyaWFibGVHZXR0ZXJDYWxsYmFjazxULCBMb2NhbE9ubHk+O1xuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZSB3aGVuZXZlciBhIGNoYW5nZSBpcyBkZXRlY3RlZCBpbiB0aGUgbG9jYWwgY2FjaGVcbiAgICogdW50aWwgdGhlIGNhbGxiYWNrIHJldHVybnMgc29tZXRoaW5nIGRpZmZlcmVudCB0aGFuIGB0cnVlYC5cbiAgICpcbiAgICovXG4gIHBvbGw/OiBWYXJpYWJsZVBvbGxDYWxsYmFjazxUPjtcbn0gJiBQaWNrPFZhcmlhYmxlR2V0UmVxdWVzdCwgXCJwYXNzaXZlXCI+ICZcbiAgVmFyaWFibGVDYWNoZVNldHRpbmdzO1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZVNldHRlcjxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IENsaWVudFNjb3BlZDxWYXJpYWJsZVNldHRlcjxUPiwgTG9jYWxPbmx5PiAmIHtcbiAgY2FsbGJhY2s/OiBDbGllbnRWYXJpYWJsZVNldHRlckNhbGxiYWNrPFQsIExvY2FsT25seT47XG59O1xuXG5leHBvcnQgdHlwZSBDbGllbnRWYXJpYWJsZUdldFJlc3VsdDxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IENsaWVudFNjb3BlZDxcbiAgVmFyaWFibGVSZXN1bHRQcm9taXNlUmVzdWx0PFwiZ2V0XCIsIFZhcmlhYmxlR2V0UmVzdWx0PFQ+PiAmXG4gICAgUGljazxWYXJpYWJsZUdldFJlc3BvbnNlLCBcInBhc3NpdmVcIj4sXG4gIExvY2FsT25seVxuPjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGVTZXRSZXN1bHQ8XG4gIFQgZXh0ZW5kcyB7fSA9IGFueSxcbiAgTG9jYWxPbmx5IGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW5cbj4gPSBDbGllbnRTY29wZWQ8XG4gIFZhcmlhYmxlUmVzdWx0UHJvbWlzZVJlc3VsdDxcInNldFwiLCBWYXJpYWJsZVNldFJlc3VsdDxUPj4sXG4gIExvY2FsT25seVxuPjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGVHZXR0ZXJDYWxsYmFjazxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IFZhcmlhYmxlR2V0dGVyQ2FsbGJhY2s8Q2xpZW50U2NvcGVkPFZhcmlhYmxlS2V5LCBMb2NhbE9ubHk+LCBUPjtcblxuZXhwb3J0IHR5cGUgQ2xpZW50VmFyaWFibGVTZXR0ZXJDYWxsYmFjazxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbE9ubHkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhblxuPiA9IFZhcmlhYmxlU2V0dGVyQ2FsbGJhY2s8Q2xpZW50U2NvcGVkPFZhcmlhYmxlS2V5LCBMb2NhbE9ubHk+LCBUPjtcblxuZXhwb3J0IHR5cGUgVmFyaWFibGVDYWNoZVNldHRpbmdzID0ge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGUgdmFsdWUgb2YgdGhpcyB2YXJpYWJsZSBjYW4gYmUgY2FjaGVkLlxuICAgKiBJZiBvbWl0dGVkIG9yIGB0cnVlYCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiAzIHNlY29uZHMgd2lsbCBiZSB1c2VkLlxuICAgKiBgZmFsc2VgIG9yIDAgbWVhbnMgdGhlIHZhcmlhYmxlIHdpbGwgbm90IGJlIGNhY2hlZC5cbiAgICovXG4gIGNhY2hlPzogbnVtYmVyIHwgYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXNrRW50aXR5SWQgPSA8VCBleHRlbmRzIHsgc2NvcGU6IHN0cmluZzsgZW50aXR5SWQ/OiBzdHJpbmcgfT4oXG4gIGtleTogVFxuKTogVCAmIENsaWVudFNjb3BlZDxWYXJpYWJsZUtleT4gPT4gKFxuICBrZXlbXCJzY29wZVwiXSAhPT0gXCJnbG9iYWxcIiAmJiBrZXlbXCJlbnRpdHlJZFwiXSAmJiAoa2V5W1wiZW50aXR5SWRcIl0gPSB1bmRlZmluZWQpLFxuICBrZXkgYXMgYW55XG4pO1xuXG5leHBvcnQgY29uc3QgaXNMb2NhbFNjb3BlS2V5ID0gKFxuICBrZXk6IHsgc2NvcGU6IHN0cmluZyB9IHwgTnVsbGlzaFxuKToga2V5IGlzIHtcbiAgc2NvcGU6IExvY2FsVmFyaWFibGVTY29wZTtcbn0gPT4gKGtleT8uc2NvcGUgPyBsb2NhbFZhcmlhYmxlU2NvcGUucmFua3Nba2V5LnNjb3BlXSAhPSBudWxsIDogZmFsc2UpO1xuXG5leHBvcnQgY29uc3QgdmFyaWFibGVLZXlUb1N0cmluZzogPFMgZXh0ZW5kcyBDbGllbnRWYXJpYWJsZUtleSB8IE51bGxpc2g+KFxuICBrZXk6IFNcbikgPT4gTWF5YmVOdWxsaXNoPHN0cmluZywgUz4gPSAoa2V5OiBDbGllbnRWYXJpYWJsZUtleSB8IE51bGxpc2gpOiBhbnkgPT5cbiAga2V5ID09IG51bGwgPyBrZXkgOiBba2V5LnNjb3BlLCBrZXkua2V5LCBrZXkuZW50aXR5SWRdLmpvaW4oXCJcXDBcIik7XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdUb1ZhcmlhYmxlS2V5ID0gKGtleTogc3RyaW5nKTogQ2xpZW50VmFyaWFibGVLZXkgPT4ge1xuICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdChcIlxcMFwiKTtcbiAgcmV0dXJuIHtcbiAgICBzY29wZTogcGFydHNbMF0gYXMgYW55LFxuICAgIGtleTogcGFydHNbMV0sXG4gICAgZW50aXR5SWQ6IHBhcnRzWzJdLFxuICB9IHNhdGlzZmllcyBDbGllbnRWYXJpYWJsZUtleTtcbn07XG4iLCJpbXBvcnQgeyBDTElFTlRfU1RPUkFHRV9QUkVGSVggfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBUcmFja2VkRXZlbnQgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgTnVsbGlzaCwgdGhyb3dFcnJvciB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuZXhwb3J0IGNvbnN0IERFQlVHID0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBIRUFSVEJFQVRfRlJFUVVFTkNZID0gNV8wMDA7XG5leHBvcnQgY29uc3QgUkVRVUVTVF9MT0NLX0tFWSA9IENMSUVOVF9TVE9SQUdFX1BSRUZJWCArIFwicnFcIjtcbmV4cG9ydCBjb25zdCBWQVJJQUJMRV9QT0xMX0ZSRVFVRU5DWSA9IDNfMDAwO1xuZXhwb3J0IGNvbnN0IFZBUklBQkxFX0NBQ0hFX0RVUkFUSU9OID0gM18wMDA7XG5leHBvcnQgY29uc3QgRVZFTlRfUE9TVF9GUkVRVUVOQ1kgPSA1MDAwO1xuXG5leHBvcnQgY29uc3QgTk9UX0lOSVRJQUxJWkVEID0gKCkgPT4gKCkgPT4gdGhyb3dFcnJvcihcIk5vdCBpbml0aWFsaXplZC5cIik7XG5cbmV4cG9ydCB0eXBlIFRyYWNrZXJDb250ZXh0ID0ge1xuICBkZXZpY2VTZXNzaW9uSWQ/OiBzdHJpbmc7XG5cbiAgYXBwbHlFdmVudEV4dGVuc2lvbnMoZXZlbnQ6IFRyYWNrZWRFdmVudCk6IFRyYWNrZWRFdmVudCB8IHVuZGVmaW5lZDtcblxuICB2YWxpZGF0ZUtleToge1xuICAgIChrZXk6IHN0cmluZyB8IE51bGxpc2gsIHRocm93SWZJbnZhbGlkPzogdHJ1ZSk6IHRydWU7XG4gICAgKGtleTogc3RyaW5nIHwgTnVsbGlzaCwgdGhyb3dJZkludmFsaWQ6IGZhbHNlKTogYm9vbGVhbjtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyB0b2dnbGVBbnNpLCB0eXBlIE51bGxpc2ggfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5cbmV4cG9ydCBjb25zdCBTU1IgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiO1xuXG5jb25zdCB3aW4gPSB3aW5kb3c7XG5jb25zdCBkb2MgPSBkb2N1bWVudDtcbmNvbnN0IG5hdiA9IG5hdmlnYXRvcjtcbmNvbnN0IGJvZHkgPSBkb2MuYm9keTtcbmNvbnN0IGxvYyA9IGxvY2F0aW9uO1xuY29uc3QgcGVyZiA9IHBlcmZvcm1hbmNlO1xuY29uc3QgaGlzdCA9IHdpbi5oaXN0b3J5O1xuZXhwb3J0IHtcbiAgYm9keSxcbiAgZG9jIGFzIGRvY3VtZW50LFxuICBoaXN0IGFzIGhpc3RvcnksXG4gIGxvYyBhcyBsb2NhdGlvbixcbiAgbmF2IGFzIG5hdmlnYXRvcixcbiAgcGVyZiBhcyBwZXJmb3JtYW5jZSxcbiAgd2luIGFzIHdpbmRvdyxcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50ID0gKHRhZ05hbWU6IHN0cmluZykgPT4gZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG5cbmV4cG9ydCBjb25zdCBtYXRjaFNlbGVjdG9yID0gKG5vZGU6IEVsZW1lbnQgfCBOdWxsaXNoLCBzZWxlY3Rvcjogc3RyaW5nKSA9PlxuICAhIW5vZGU/Lm1hdGNoZXMoc2VsZWN0b3IpO1xuXG50b2dnbGVBbnNpKCEhKHdpbiBhcyBhbnkpLmNocm9tZSk7XG4iLCJpbXBvcnQgeyBPbWl0VW5pb24gfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgdHlwZSB7IFRyYWNrZXJDbGllbnRDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBjb25zdCBpc1RyYWNrZXIgPSBcIl9faXNUcmFja2VyXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFja2VyQ29uZmlnOiBSZXF1aXJlZDxcbiAgT21pdFVuaW9uPFRyYWNrZXJDbGllbnRDb25maWd1cmF0aW9uLCBcInNjcmlwdEJsb2NrZXJBdHRyaWJ1dGVzXCI+XG4+ID0ge1xuICBuYW1lOiBcInRhaWxcIixcbiAgc3JjOiBcIi9fdC5qc1wiLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHBvc3RFdmVudHM6IHRydWUsXG4gIHBvc3RGcmVxdWVuY3k6IDIwMDAsXG4gIHJlcXVlc3RUaW1lb3V0OiA1MDAwLFxuICBlbmNyeXB0aW9uS2V5OiBudWxsLFxuICBrZXk6IG51bGwsXG4gIGFwaUtleTogbnVsbCxcbiAganNvbjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIExvZyBldmVudHMgdG8gdGhlIGJyb3dzZXIncyBkZXZlbG9wZXIgY29uc29sZS5cbiAgICovXG4gIGltcHJlc3Npb25UaHJlc2hvbGQ6IDEwMDAsXG4gIGNhcHR1cmVDb250ZXh0TWVudTogdHJ1ZSxcblxuICB0YWdzOiB7IGRlZmF1bHQ6IFtcImRhdGEtaWRcIiwgXCJkYXRhLW5hbWVcIl0gfSxcbn07XG4iLCJjb25zdCBjb2RlczogbnVtYmVyW10gPSBbXTtcbmNvbnN0IGNoYXJzOiBudW1iZXJbXSA9IFtdO1xuZXhwb3J0IGNvbnN0IGNoYXJDb2RlID0gKHM6IHN0cmluZywgaW5kZXggPSAwKSA9PiBzLmNoYXJDb2RlQXQoaW5kZXgpO1xuZXhwb3J0IGNvbnN0IGZyb21DaGFyQ29kZXMgPSAoY2hhcnM6IG51bWJlcltdKSA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmNoYXJzKTtcblxuWy4uLlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiXS5mb3JFYWNoKFxuICAocCwgaSkgPT4gKGNvZGVzWyhjaGFyc1tpXSA9IHAuY2hhckNvZGVBdCgwKSldID0gaSlcbik7XG5cbi8qKlxuICogRW5jb2RlcyBhbiBhcnJheSBvZiBieXRlcyB0byBCYXNlNjRVUkwgd2l0aG91dCBwYWRkaW5nIChVUkwgc2FmZSBCYXNlNjQgdXNpbmcgYC1gIGFuZCBgX2AgaW5zdGVhZCBvZiBgK2AgYW5kIGAvYCkuXG4gKlxuICogKHRoYW5rcyB0byBKb24gTGVpZ2h0b24gYXQgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9ubGVpZ2h0b24vOTU4ODQxKS5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvNjR1ID0gKGJ5dGVzOiBVaW50OEFycmF5KSA9PiB7XG4gIGxldCBpID0gMDtcbiAgbGV0IGNodW5rOiBudW1iZXI7XG4gIGNvbnN0IG4gPSBieXRlcy5sZW5ndGg7XG5cbiAgY29uc3QgYmFzZTY0OiBudW1iZXJbXSA9IFtdO1xuICB3aGlsZSAoaSA8IG4pIHtcbiAgICBjaHVuayA9IChieXRlc1tpKytdIDw8IDE2KSB8IChieXRlc1tpKytdIDw8IDgpIHwgYnl0ZXNbaSsrXTtcbiAgICBiYXNlNjQucHVzaChcbiAgICAgIGNoYXJzWyhjaHVuayAmIDE2NTE1MDcyKSA+PiAxOF0sXG4gICAgICBjaGFyc1soY2h1bmsgJiAyNTgwNDgpID4+IDEyXSxcbiAgICAgIGNoYXJzWyhjaHVuayAmIDQwMzIpID4+IDZdLFxuICAgICAgY2hhcnNbY2h1bmsgJiA2M11cbiAgICApO1xuICB9XG4gIGJhc2U2NC5sZW5ndGggKz0gbiAtIGk7XG5cbiAgcmV0dXJuIGZyb21DaGFyQ29kZXMoYmFzZTY0KTtcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIEJhc2VVUkwgZW5jb2RlZCBzdHJpbmcgKHdpdGhvdXQgcGFkZGluZykuXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tNjR1ID0gKGVuY29kZWQ6IHN0cmluZykgPT4ge1xuICBsZXQgaSA9IDA7XG4gIGxldCBqID0gMDtcbiAgbGV0IHA6IG51bWJlcjtcbiAgY29uc3QgbiA9IGVuY29kZWQubGVuZ3RoO1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDMgKiAoKG4gLyA0KSB8IDApICsgKCgobiArIDMpICYgMykgJSAzKSk7XG4gIHdoaWxlIChpIDwgbikge1xuICAgIGJ5dGVzW2orK10gPVxuICAgICAgKGNvZGVzW2NoYXJDb2RlKGVuY29kZWQsIGkrKyldIDw8IDIpIHxcbiAgICAgICgocCA9IGNvZGVzW2NoYXJDb2RlKGVuY29kZWQsIGkrKyldKSA+PiA0KTtcbiAgICBpZiAoaSA8IG4pIHtcbiAgICAgIGJ5dGVzW2orK10gPSAoKHAgJiAxNSkgPDwgNCkgfCAoKHAgPSBjb2Rlc1tjaGFyQ29kZShlbmNvZGVkLCBpKyspXSkgPj4gMik7XG4gICAgICBpZiAoaSA8IG4pIHtcbiAgICAgICAgYnl0ZXNbaisrXSA9ICgocCAmIDMpIDw8IDYpIHwgY29kZXNbY2hhckNvZGUoZW5jb2RlZCwgaSsrKV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBieXRlcztcbn07XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgc3BlY2lmaWVkIFVURjggYnl0ZXMgdG8gYSBzdHJpbmcuXG4gKlxuICogW1RoYW5rcyFdKGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1lhZmZsZS81NDU4Mjg2KVxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlVXRmOCA9IDxUIGV4dGVuZHMgVWludDhBcnJheSB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ+KFxuICBvY3RldHM6IFRcbik6IFQgZXh0ZW5kcyBudWxsIHwgdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogc3RyaW5nID0+IHtcbiAgaWYgKG9jdGV0cyA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgaWYgKHR5cGVvZiBvY3RldHMgPT09IFwic3RyaW5nXCIpIHJldHVybiBvY3RldHMgYXMgYW55O1xuXG4gIGNvbnN0IGNoYXJzOiBudW1iZXJbXSA9IFtdO1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChpIDwgb2N0ZXRzLmxlbmd0aCkge1xuICAgIGxldCBvY3RldCA9IG9jdGV0c1tpXTtcbiAgICBsZXQgYnl0ZXNOZWVkZWQgPSAwO1xuICAgIGxldCBjb2RlUG9pbnQgPSAwO1xuICAgIGlmIChvY3RldCA8PSAweDdmKSB7XG4gICAgICBieXRlc05lZWRlZCA9IDA7XG4gICAgICBjb2RlUG9pbnQgPSBvY3RldCAmIDB4ZmY7XG4gICAgfSBlbHNlIGlmIChvY3RldCA8PSAweGRmKSB7XG4gICAgICBieXRlc05lZWRlZCA9IDE7XG4gICAgICBjb2RlUG9pbnQgPSBvY3RldCAmIDB4MWY7XG4gICAgfSBlbHNlIGlmIChvY3RldCA8PSAweGVmKSB7XG4gICAgICBieXRlc05lZWRlZCA9IDI7XG4gICAgICBjb2RlUG9pbnQgPSBvY3RldCAmIDB4MGY7XG4gICAgfSBlbHNlIGlmIChvY3RldCA8PSAweGY0KSB7XG4gICAgICBieXRlc05lZWRlZCA9IDM7XG4gICAgICBjb2RlUG9pbnQgPSBvY3RldCAmIDB4MDc7XG4gICAgfVxuICAgIGlmIChvY3RldHMubGVuZ3RoIC0gaSAtIGJ5dGVzTmVlZGVkID4gMCkge1xuICAgICAgdmFyIGsgPSAwO1xuICAgICAgd2hpbGUgKGsgPCBieXRlc05lZWRlZCkge1xuICAgICAgICBvY3RldCA9IG9jdGV0c1tpICsgayArIDFdO1xuICAgICAgICBjb2RlUG9pbnQgPSAoY29kZVBvaW50IDw8IDYpIHwgKG9jdGV0ICYgMHgzZik7XG4gICAgICAgIGsgKz0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29kZVBvaW50ID0gMHhmZmZkO1xuICAgICAgYnl0ZXNOZWVkZWQgPSBvY3RldHMubGVuZ3RoIC0gaTtcbiAgICB9XG4gICAgY2hhcnMucHVzaChjb2RlUG9pbnQpO1xuICAgIGkgKz0gYnl0ZXNOZWVkZWQgKyAxO1xuICB9XG5cbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNoYXJzKSBhcyBhbnk7XG59O1xuIiwiaW1wb3J0IHsgTnVsbGlzaCwgaXNCb29sZWFuIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuXG4vKiogVGhlIG51bWJlciBvZiBsZWFkaW5nIGVudHJvcHkgYnl0ZXMuICovXG5jb25zdCBFTlRST1BZID0gNDtcbi8qKiBUaGUgcGFkZGluZyBsZW5ndGguIENpcGhlciB0ZXh0cyB3aWxsIGFsd2F5cyBiZSBhIG11bHRpcGxlIG9mIHRoaXMuICovXG5jb25zdCBNQVhfUEFERElORyA9IDE2O1xuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Gb3dsZXIlRTIlODAlOTNOb2xsJUUyJTgwJTkzVm9faGFzaF9mdW5jdGlvbiNGTlZfaGFzaF9wYXJhbWV0ZXJzXG50eXBlIEZudjFhQ29uZmlndXJhdGlvbiA9IFtvZmZzZXQ6IGJpZ2ludCwgcHJpbWU6IGJpZ2ludF07XG5jb25zdCBGTlZzOiBSZWNvcmQ8bnVtYmVyLCBGbnYxYUNvbmZpZ3VyYXRpb24+ID0ge1xuICAzMjogWzB4ODExYzlkYzVuLCAweDAxMDAwMTkzbl0sXG4gIDY0OiBbMHhjYmYyOWNlNDg0MjIyMzI1biwgMHgxMDAwMDAwMDFiM25dLFxuICAxMjg6IFsweDZjNjIyNzJlMDdiYjAxNDI2MmI4MjE3NTYyOTVjNThkbiwgMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDEzYm5dLFxufTtcblxuLyoqIEEgcmFuZG9tIGJ5dGUuICovXG5jb25zdCBlbnRyb3B5ID0gKG1heCA9IDI1NikgPT4gKG1heCAqIE1hdGgucmFuZG9tKCkpIHwgMDtcblxuZXhwb3J0IHR5cGUgSGFzaEZ1bmN0aW9uPFQ+ID0ge1xuICAodmFsdWU6IFQsIGJpdHM/OiAzMiB8IDY0IHwgMTI4KTogc3RyaW5nO1xuICA8QiBleHRlbmRzIGJvb2xlYW4+KHZhbHVlOiBULCBudW1lcmljOiBCKTogQiBleHRlbmRzIHRydWUgPyBudW1iZXIgOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDaXBoZXJGdW5jdGlvbiA9IChkYXRhOiBVaW50OEFycmF5KSA9PiBVaW50OEFycmF5O1xuZXhwb3J0IHR5cGUgQ2lwaGVyRnVuY3Rpb25zID0gW1xuICBDaXBoZXJGdW5jdGlvbixcbiAgQ2lwaGVyRnVuY3Rpb24sXG4gIEhhc2hGdW5jdGlvbjxVaW50OEFycmF5PlxuXTtcblxuLyoqXG4gKiBMaW5lYXItZmVlZGJhY2sgc2hpZnQgcmVnaXN0ZXIgZW5jcnlwdGlvbiB3aXRoIGxlYWRpbmcgZW50cm9weSBhbmQgZml4ZWQgcGFkZGluZy5cbiAqXG4gKiBVc2VkIGZvciBvbi10aGUtZmx5IGVuY3J5cHRpb24uIEl0IGlzIG5vdCB0aGUgc3Ryb25nZXN0IGVuY3J5cHRpb24sIHlldCBpdCBpcyBhbm5veWluZ2x5IGNoYWxsZW5naW5nIHRvIGJyZWFrLlxuICogRHVlIHRvIGVudHJvcHkgdGhlIHNhbWUgdGV4dCB3aXRoIHRoZSBzYW1lIGtleSB3aWxsIHJlc3VsdCBpbiBhIGRpZmZlcmVudCBjaXBoZXIgdGV4dCBldmVyeSB0aW1lLlxuICpcbiAqXG4gKiBcIkl0IGlzIGZhc3QgYW5kIHNtYWxsLlwiLCBCb2Igc2FpZCB0byBBbGljZS4gXCJJdCBpcyBhbGwgcmlnaHQuXCIsIHNoZSByZXBsaWVkLlxuICpcbiAqIChBZGFwdGVkIGZyb20gaHR0cDovL3F1aW5uZnR3LmNvbS94b3ItY2lwaGVycy8pLlxuICovXG5leHBvcnQgY29uc3QgbGZzciA9IChrZXk/OiBzdHJpbmcgfCBOdWxsaXNoKTogQ2lwaGVyRnVuY3Rpb25zID0+IHtcbiAgLyoqIE51bWJlciBvZiBzb3VyY2UgYnl0ZXMgZm9yIChlbi9kZSljcnlwdGlvbi4gKi9cbiAgbGV0IG46IG51bWJlcjtcbiAgLyoqIFNvdXJjZSBieXRlIGluZGV4LiAqL1xuICBsZXQgaTogbnVtYmVyO1xuICAvKiogVGFyZ2V0IGJ5dGUgaW5kZXguICovXG4gIGxldCBqOiBudW1iZXI7XG4gIC8qKiBQYWRkaW5nIGxlbmd0aC4gKi9cbiAgbGV0IHBhZDogbnVtYmVyO1xuXG4gIC8qKiBIb2xkcyB0aGUgKGVuL2RlKWNyeXB0ZWQgYnl0ZXMuICovXG4gIGxldCB0YXJnZXQ6IFVpbnQ4QXJyYXk7XG5cbiAgLyoqIEhhc2ggY29kZS4gKi9cbiAgbGV0IGhhc2ggPSAwbjtcblxuICAvKiogQml0cyBmb3IgRk5WLTFhIGhhc2ggY29kZS4gKi9cbiAgbGV0IGJpdHMgPSAwO1xuXG4gIC8qKiBQcmltZSBmb3IgRk5WLTFhIGhhc2ggY29kZS4gKi9cbiAgbGV0IHByaW1lID0gMG47XG5cbiAgLyoqXG4gICAqIFRoZSBzbGlkaW5nIHdpbmRvdyB3aXRoIHRoZSBwYXN0IGNpcGhlcnMgdXNlZCB0byB1cGRhdGUgZm9yIHRoZSBtaXhlci5cbiAgICogSXQgd29ya3MgYXMgYSBsaW5lYXIgZmVlZGJhY2sgc2hmaXQgcmVnaXN0ZXIgdG8gYm9sc3RlciBhZ2FpbnN0IGZyZXF1ZW5jeSBhbmFseXNpcy5cbiAgICpcbiAgICogaHR0cDovL3F1aW5uZnR3LmNvbS94b3ItY2lwaGVycy8uXG4gICAqL1xuICBsZXQgd2luZG93OiBudW1iZXJbXSA9IFtdO1xuXG4gIC8qKiBUaGUgbWl4ZXIgdXNlZCB0byBpdGVyYXRpdmVseSB1cGRhdGUgdGhlIGtleSB3aGlsZSAoZW4vZGUpY3J5cHRpbmcuICovXG4gIGxldCBtaXhlciA9IDA7XG4gIC8qKiBUaGUgbWl4ZXIgbW9kdWxvIDI1Ni4gKi9cbiAgbGV0IG1peGVyMjU1ID0gMDtcblxuICAvKiogQ3VycmVudCBzdGFydCBvZiB0aGUgbWl4ZXIgd2luZG93LiAqL1xuICBsZXQgaXcgPSAwO1xuICAvKiogSW5pdGlhbCBtaXhlci4gKi9cbiAgbGV0IG1peGVyMCA9IDA7XG4gIC8qKiBJbml0aWFsIGJ5dGVzIGZvciB0aGUgbWl4ZXIuICovXG4gIGNvbnN0IHdpbmRvdzA6IG51bWJlcltdID0gW107XG5cbiAgZm9yIChcbiAgICBpdyA9IDA7XG4gICAgaXcgPCBrZXk/Lmxlbmd0aCE7XG4gICAgbWl4ZXIwICs9IHdpbmRvdzBbaXddID0ga2V5IS5jaGFyQ29kZUF0KGl3KyspXG4gICk7XG5cbiAgLyoqIFJlc2V0cyB0aGUgbWl4ZXIgd2hlbiAoZW4vZGUpY3J5cHRpb24gc3RhcnRzLiAqL1xuICBjb25zdCByZXNldE1peGVyID0ga2V5XG4gICAgPyAoKSA9PiB7XG4gICAgICAgIHdpbmRvdyA9IFsuLi53aW5kb3cwXTtcbiAgICAgICAgbWl4ZXIyNTUgPSAobWl4ZXIgPSBtaXhlcjApICYgMjU1O1xuICAgICAgICBpdyA9IC0xO1xuICAgICAgfVxuICAgIDogKCkgPT4ge307XG5cbiAgLyoqIFVwZGF0ZXMgdGhlIG1peGVyIHdpdGggdGhlIChlbi9kZSljcnlwdGVkIGJ5dGUuICovXG4gIGNvbnN0IHVwZGF0ZU1peGVyID0gKGM6IG51bWJlcikgPT4gKFxuICAgIChtaXhlcjI1NSA9XG4gICAgICAobWl4ZXIgKz1cbiAgICAgICAgLy8gU3VidHJhY3QgdGhlIGJ5dGUgbGVhdmluZyB0aGUgd2luZG93LlxuICAgICAgICAtd2luZG93WyhpdyA9IChpdyArIDEpICUgd2luZG93Lmxlbmd0aCldICtcbiAgICAgICAgLy8gQWRkIHRoZSBieXRlIGVudGVyaW5nIHRoZSB3aW5kb3cuXG4gICAgICAgICh3aW5kb3dbaXddID0gYykpICYgMjU1KSxcbiAgICBjXG4gICk7XG5cbiAgcmV0dXJuIFtcbiAgICAvLyBFbmNyeXB0XG4gICAga2V5XG4gICAgICA/IChzb3VyY2UpID0+IHtcbiAgICAgICAgICByZXNldE1peGVyKCk7XG4gICAgICAgICAgbiA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgcGFkID0gTUFYX1BBRERJTkcgLSAoKG4gKyBFTlRST1BZKSAlIE1BWF9QQURESU5HKTtcbiAgICAgICAgICB0YXJnZXQgPSBuZXcgVWludDhBcnJheShFTlRST1BZICsgbiArIHBhZCk7XG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgRU5UUk9QWSAtIDE7IHRhcmdldFtqKytdID0gdXBkYXRlTWl4ZXIoZW50cm9weSgpKSk7XG5cbiAgICAgICAgICAvLyBBbGlnbiBsYXN0IGVudHJvcHkgYnl0ZSB0byBtYXggcGFkZGluZyBhbmQgYWRkIHBhZGRpbmcuXG4gICAgICAgICAgdGFyZ2V0W2orK10gPSB1cGRhdGVNaXhlcihcbiAgICAgICAgICAgIG1peGVyMjU1IF4gKE1BWF9QQURESU5HICogZW50cm9weSgyNTYgLyBNQVhfUEFERElORykgKyBwYWQpXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyB0YXJnZXRbaisrXSA9IHVwZGF0ZU1peGVyKG1peGVyMjU1IF4gc291cmNlW2krK10pKTtcbiAgICAgICAgICB3aGlsZSAocGFkLS0pIHRhcmdldFtqKytdID0gZW50cm9weSgpO1xuXG4gICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgOiAoc291cmNlKSA9PiBzb3VyY2UsXG5cbiAgICAvLyBEZWNyeXB0XG4gICAga2V5XG4gICAgICA/IChzb3VyY2UpID0+IHtcbiAgICAgICAgICByZXNldE1peGVyKCk7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IEVOVFJPUFkgLSAxOyB1cGRhdGVNaXhlcihzb3VyY2VbaSsrXSkpO1xuICAgICAgICAgIG4gPVxuICAgICAgICAgICAgc291cmNlLmxlbmd0aCAtXG4gICAgICAgICAgICBFTlRST1BZIC1cbiAgICAgICAgICAgIC8vIFBhZGRpbmcuIElmIHBhZGRpbmcgaXMgemVybywgYWxsIGxhc3QgUEFERElORyBjaGFyYWN0ZXJzIGFyZSBwYWRkaW5nLlxuICAgICAgICAgICAgKChtaXhlcjI1NSBeIHVwZGF0ZU1peGVyKHNvdXJjZVtpKytdKSkgJSBNQVhfUEFERElORyB8fFxuICAgICAgICAgICAgICBNQVhfUEFERElORyk7XG4gICAgICAgICAgaWYgKG4gPD0gMCkgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgICAgdGFyZ2V0ID0gbmV3IFVpbnQ4QXJyYXkobik7XG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbjsgdGFyZ2V0W2orK10gPSBtaXhlcjI1NSBeIHVwZGF0ZU1peGVyKHNvdXJjZVtpKytdKSk7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgOiAoY2lwaGVyKSA9PiBjaXBoZXIsXG5cbiAgICAvLyBGTlYxYSBoYXNoIGNvZGUuXG4gICAgKHNvdXJjZTogVWludDhBcnJheSwgbnVtZXJpY09yQml0czogYW55ID0gNjQpID0+IHtcbiAgICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICBiaXRzID0gaXNCb29sZWFuKG51bWVyaWNPckJpdHMpID8gNjQgOiBudW1lcmljT3JCaXRzO1xuXG4gICAgICByZXNldE1peGVyKCk7XG5cbiAgICAgIFtoYXNoLCBwcmltZV0gPSBGTlZzW2JpdHNdO1xuXG4gICAgICBmb3IgKFxuICAgICAgICBpID0gMDtcbiAgICAgICAgaSA8IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIGhhc2ggPSBCaWdJbnQuYXNVaW50TihcbiAgICAgICAgICBiaXRzLFxuICAgICAgICAgIChoYXNoIF4gQmlnSW50KG1peGVyMjU1IF4gdXBkYXRlTWl4ZXIoc291cmNlW2krK10pKSkgKiBwcmltZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbnVtZXJpY09yQml0cyA9PT0gdHJ1ZVxuICAgICAgICA/IE51bWJlcihcbiAgICAgICAgICAgIEJpZ0ludChOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikgK1xuICAgICAgICAgICAgICAoaGFzaCAlIEJpZ0ludChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSlcbiAgICAgICAgICApXG4gICAgICAgIDogKGhhc2gudG9TdHJpbmcoMzYpIGFzIGFueSk7XG4gICAgfSxcbiAgXTtcbn07XG4iLCLvu78oZnVuY3Rpb24gKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHQvLyBTZXJpYWxpemVzIGEgdmFsdWUgdG8gYSBNZXNzYWdlUGFjayBieXRlIGFycmF5LlxyXG5cdC8vXHJcblx0Ly8gZGF0YTogVGhlIHZhbHVlIHRvIHNlcmlhbGl6ZS4gVGhpcyBjYW4gYmUgYSBzY2FsYXIsIGFycmF5IG9yIG9iamVjdC5cclxuXHQvLyBvcHRpb25zOiBBbiBvYmplY3QgdGhhdCBkZWZpbmVzIGFkZGl0aW9uYWwgb3B0aW9ucy5cclxuXHQvLyAtIG11bHRpcGxlOiAoYm9vbGVhbikgSW5kaWNhdGVzIHdoZXRoZXIgbXVsdGlwbGUgdmFsdWVzIGluIGRhdGEgYXJlIGNvbmNhdGVuYXRlZCB0byBtdWx0aXBsZSBNZXNzYWdlUGFjayBhcnJheXMuIERlZmF1bHQ6IGZhbHNlLlxyXG5cdC8vIC0gaW52YWxpZFR5cGVSZXBsYWNlbWVudDpcclxuXHQvLyAgIChhbnkpIFRoZSB2YWx1ZSB0aGF0IGlzIHVzZWQgdG8gcmVwbGFjZSB2YWx1ZXMgb2YgdW5zdXBwb3J0ZWQgdHlwZXMuXHJcblx0Ly8gICAoZnVuY3Rpb24pIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHN1Y2ggYSB2YWx1ZSwgZ2l2ZW4gdGhlIG9yaWdpbmFsIHZhbHVlIGFzIHBhcmFtZXRlci5cclxuXHRmdW5jdGlvbiBzZXJpYWxpemUoZGF0YSwgb3B0aW9ucykge1xyXG5cdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHR5cGU6IEV4cGVjdGVkIGFuIEFycmF5IHRvIHNlcmlhbGl6ZSBtdWx0aXBsZSB2YWx1ZXMuXCIpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgcG93MzIgPSAweDEwMDAwMDAwMDsgICAvLyAyXjMyXHJcblx0XHRsZXQgZmxvYXRCdWZmZXIsIGZsb2F0VmlldztcclxuXHRcdGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KDEyOCk7XHJcblx0XHRsZXQgbGVuZ3RoID0gMDtcclxuXHRcdGlmIChvcHRpb25zICYmIG9wdGlvbnMubXVsdGlwbGUpIHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0YXBwZW5kKGRhdGFbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0YXBwZW5kKGRhdGEpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGFycmF5LnN1YmFycmF5KDAsIGxlbmd0aCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kKGRhdGEsIGlzUmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0c3dpdGNoICh0eXBlb2YgZGF0YSkge1xyXG5cdFx0XHRcdGNhc2UgXCJ1bmRlZmluZWRcIjpcclxuXHRcdFx0XHRcdGFwcGVuZE51bGwoZGF0YSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwiYm9vbGVhblwiOlxyXG5cdFx0XHRcdFx0YXBwZW5kQm9vbGVhbihkYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJudW1iZXJcIjpcclxuXHRcdFx0XHRcdGFwcGVuZE51bWJlcihkYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJzdHJpbmdcIjpcclxuXHRcdFx0XHRcdGFwcGVuZFN0cmluZyhkYXRhKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJvYmplY3RcIjpcclxuXHRcdFx0XHRcdGlmIChkYXRhID09PSBudWxsKVxyXG5cdFx0XHRcdFx0XHRhcHBlbmROdWxsKGRhdGEpO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGUpXHJcblx0XHRcdFx0XHRcdGFwcGVuZERhdGUoZGF0YSk7XHJcblx0XHRcdFx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKVxyXG5cdFx0XHRcdFx0XHRhcHBlbmRBcnJheShkYXRhKTtcclxuXHRcdFx0XHRcdGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IGRhdGEgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlcclxuXHRcdFx0XHRcdFx0YXBwZW5kQmluQXJyYXkoZGF0YSk7XHJcblx0XHRcdFx0XHRlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgSW50OEFycmF5IHx8IGRhdGEgaW5zdGFuY2VvZiBJbnQxNkFycmF5IHx8IGRhdGEgaW5zdGFuY2VvZiBVaW50MTZBcnJheSB8fFxyXG5cdFx0XHRcdFx0XHRkYXRhIGluc3RhbmNlb2YgSW50MzJBcnJheSB8fCBkYXRhIGluc3RhbmNlb2YgVWludDMyQXJyYXkgfHxcclxuXHRcdFx0XHRcdFx0ZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fCBkYXRhIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KVxyXG5cdFx0XHRcdFx0XHRhcHBlbmRBcnJheShkYXRhKTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0YXBwZW5kT2JqZWN0KGRhdGEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdGlmICghaXNSZXBsYWNlbWVudCAmJiBvcHRpb25zICYmIG9wdGlvbnMuaW52YWxpZFR5cGVSZXBsYWNlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW52YWxpZFR5cGVSZXBsYWNlbWVudCA9PT0gXCJmdW5jdGlvblwiKVxyXG5cdFx0XHRcdFx0XHRcdGFwcGVuZChvcHRpb25zLmludmFsaWRUeXBlUmVwbGFjZW1lbnQoZGF0YSksIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0YXBwZW5kKG9wdGlvbnMuaW52YWxpZFR5cGVSZXBsYWNlbWVudCwgdHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0eXBlOiBUaGUgdHlwZSAnXCIgKyAodHlwZW9mIGRhdGEpICsgXCInIGNhbm5vdCBiZSBzZXJpYWxpemVkLlwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZE51bGwoZGF0YSkge1xyXG5cdFx0XHRhcHBlbmRCeXRlKDB4YzApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEJvb2xlYW4oZGF0YSkge1xyXG5cdFx0XHRhcHBlbmRCeXRlKGRhdGEgPyAweGMzIDogMHhjMik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYXBwZW5kTnVtYmVyKGRhdGEpIHtcclxuXHRcdFx0aWYgKGlzRmluaXRlKGRhdGEpICYmIE51bWJlci5pc1NhZmVJbnRlZ2VyKGRhdGEpKSB7XHJcblx0XHRcdFx0Ly8gSW50ZWdlclxyXG5cdFx0XHRcdGlmIChkYXRhID49IDAgJiYgZGF0YSA8PSAweDdmKSB7XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhIDwgMCAmJiBkYXRhID49IC0weDIwKSB7XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID4gMCAmJiBkYXRhIDw9IDB4ZmYpIHsgICAvLyB1aW50OFxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2MsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+PSAtMHg4MCAmJiBkYXRhIDw9IDB4N2YpIHsgICAvLyBpbnQ4XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkMCwgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID4gMCAmJiBkYXRhIDw9IDB4ZmZmZikgeyAgIC8vIHVpbnQxNlxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2QsIGRhdGEgPj4+IDgsIGRhdGFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoZGF0YSA+PSAtMHg4MDAwICYmIGRhdGEgPD0gMHg3ZmZmKSB7ICAgLy8gaW50MTZcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQxLCBkYXRhID4+PiA4LCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZmZmZmZmZikgeyAgIC8vIHVpbnQzMlxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2UsIGRhdGEgPj4+IDI0LCBkYXRhID4+PiAxNiwgZGF0YSA+Pj4gOCwgZGF0YV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmIChkYXRhID49IC0weDgwMDAwMDAwICYmIGRhdGEgPD0gMHg3ZmZmZmZmZikgeyAgIC8vIGludDMyXHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkMiwgZGF0YSA+Pj4gMjQsIGRhdGEgPj4+IDE2LCBkYXRhID4+PiA4LCBkYXRhXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPiAwICYmIGRhdGEgPD0gMHhmZmZmZmZmZmZmZmZmZmZmKSB7ICAgLy8gdWludDY0XHJcblx0XHRcdFx0XHQvLyBTcGxpdCA2NCBiaXQgbnVtYmVyIGludG8gdHdvIDMyIGJpdCBudW1iZXJzIGJlY2F1c2UgSmF2YVNjcmlwdCBvbmx5IHJlZ2FyZHNcclxuXHRcdFx0XHRcdC8vIDMyIGJpdHMgZm9yIGJpdHdpc2Ugb3BlcmF0aW9ucy5cclxuXHRcdFx0XHRcdGxldCBoaSA9IGRhdGEgLyBwb3czMjtcclxuXHRcdFx0XHRcdGxldCBsbyA9IGRhdGEgJSBwb3czMjtcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQzLCBoaSA+Pj4gMjQsIGhpID4+PiAxNiwgaGkgPj4+IDgsIGhpLCBsbyA+Pj4gMjQsIGxvID4+PiAxNiwgbG8gPj4+IDgsIGxvXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPj0gLTB4ODAwMDAwMDAwMDAwMDAwMCAmJiBkYXRhIDw9IDB4N2ZmZmZmZmZmZmZmZmZmZikgeyAgIC8vIGludDY0XHJcblx0XHRcdFx0XHRhcHBlbmRCeXRlKDB4ZDMpO1xyXG5cdFx0XHRcdFx0YXBwZW5kSW50NjQoZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGRhdGEgPCAwKSB7ICAgLy8gYmVsb3cgaW50NjRcclxuXHRcdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQzLCAweDgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgeyAgIC8vIGFib3ZlIHVpbnQ2NFxyXG5cdFx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4Y2YsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmZdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gRmxvYXRcclxuXHRcdFx0XHRpZiAoIWZsb2F0Vmlldykge1xyXG5cdFx0XHRcdFx0ZmxvYXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XHJcblx0XHRcdFx0XHRmbG9hdFZpZXcgPSBuZXcgRGF0YVZpZXcoZmxvYXRCdWZmZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmbG9hdFZpZXcuc2V0RmxvYXQ2NCgwLCBkYXRhKTtcclxuXHRcdFx0XHRhcHBlbmRCeXRlKDB4Y2IpO1xyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKG5ldyBVaW50OEFycmF5KGZsb2F0QnVmZmVyKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmRTdHJpbmcoZGF0YSkge1xyXG5cdFx0XHRsZXQgYnl0ZXMgPSBlbmNvZGVVdGY4KGRhdGEpO1xyXG5cdFx0XHRsZXQgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKGxlbmd0aCA8PSAweDFmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGUoMHhhMCArIGxlbmd0aCk7XHJcblx0XHRcdGVsc2UgaWYgKGxlbmd0aCA8PSAweGZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGQ5LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkYSwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRiLCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0YXBwZW5kQnl0ZXMoYnl0ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEFycmF5KGRhdGEpIHtcclxuXHRcdFx0bGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKGxlbmd0aCA8PSAweGYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZSgweDkwICsgbGVuZ3RoKTtcclxuXHRcdFx0ZWxzZSBpZiAobGVuZ3RoIDw9IDB4ZmZmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhkYywgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRkLCBsZW5ndGggPj4+IDI0LCBsZW5ndGggPj4+IDE2LCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG5cdFx0XHRcdGFwcGVuZChkYXRhW2luZGV4XSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBlbmRCaW5BcnJheShkYXRhKSB7XHJcblx0XHRcdGxldCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuXHJcblx0XHRcdGlmIChsZW5ndGggPD0gMHhmZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNCwgbGVuZ3RoXSk7XHJcblx0XHRcdGVsc2UgaWYgKGxlbmd0aCA8PSAweGZmZmYpXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4YzUsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHBlbmRCeXRlcyhbMHhjNiwgbGVuZ3RoID4+PiAyNCwgbGVuZ3RoID4+PiAxNiwgbGVuZ3RoID4+PiA4LCBsZW5ndGhdKTtcclxuXHJcblx0XHRcdGFwcGVuZEJ5dGVzKGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZE9iamVjdChkYXRhKSB7XHJcblx0XHRcdGxldCBsZW5ndGggPSAwO1xyXG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gZGF0YSkge1xyXG5cdFx0XHRcdGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0bGVuZ3RoKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAobGVuZ3RoIDw9IDB4ZilcclxuXHRcdFx0XHRhcHBlbmRCeXRlKDB4ODAgKyBsZW5ndGgpO1xyXG5cdFx0XHRlbHNlIGlmIChsZW5ndGggPD0gMHhmZmZmKVxyXG5cdFx0XHRcdGFwcGVuZEJ5dGVzKFsweGRlLCBsZW5ndGggPj4+IDgsIGxlbmd0aF0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZGYsIGxlbmd0aCA+Pj4gMjQsIGxlbmd0aCA+Pj4gMTYsIGxlbmd0aCA+Pj4gOCwgbGVuZ3RoXSk7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gZGF0YSkge1xyXG5cdFx0XHRcdGxldCB2YWx1ZSA9IGRhdGFba2V5XTtcclxuXHRcdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0YXBwZW5kKGtleSk7XHJcblx0XHRcdFx0XHRhcHBlbmQodmFsdWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZERhdGUoZGF0YSkge1xyXG5cdFx0XHRsZXQgc2VjID0gZGF0YS5nZXRUaW1lKCkgLyAxMDAwO1xyXG5cdFx0XHRpZiAoZGF0YS5nZXRNaWxsaXNlY29uZHMoKSA9PT0gMCAmJiBzZWMgPj0gMCAmJiBzZWMgPCAweDEwMDAwMDAwMCkgeyAgIC8vIDMyIGJpdCBzZWNvbmRzXHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDYsIDB4ZmYsIHNlYyA+Pj4gMjQsIHNlYyA+Pj4gMTYsIHNlYyA+Pj4gOCwgc2VjXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoc2VjID49IDAgJiYgc2VjIDwgMHg0MDAwMDAwMDApIHsgICAvLyAzMCBiaXQgbmFub3NlY29uZHMsIDM0IGJpdCBzZWNvbmRzXHJcblx0XHRcdFx0bGV0IG5zID0gZGF0YS5nZXRNaWxsaXNlY29uZHMoKSAqIDEwMDAwMDA7XHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4ZDcsIDB4ZmYsIG5zID4+PiAyMiwgbnMgPj4+IDE0LCBucyA+Pj4gNiwgKChucyA8PCAyKSA+Pj4gMCkgfCAoc2VjIC8gcG93MzIpLCBzZWMgPj4+IDI0LCBzZWMgPj4+IDE2LCBzZWMgPj4+IDgsIHNlY10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgeyAgIC8vIDMyIGJpdCBuYW5vc2Vjb25kcywgNjQgYml0IHNlY29uZHMsIG5lZ2F0aXZlIHZhbHVlcyBhbGxvd2VkXHJcblx0XHRcdFx0bGV0IG5zID0gZGF0YS5nZXRNaWxsaXNlY29uZHMoKSAqIDEwMDAwMDA7XHJcblx0XHRcdFx0YXBwZW5kQnl0ZXMoWzB4YzcsIDEyLCAweGZmLCBucyA+Pj4gMjQsIG5zID4+PiAxNiwgbnMgPj4+IDgsIG5zXSk7XHJcblx0XHRcdFx0YXBwZW5kSW50NjQoc2VjKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEJ5dGUoYnl0ZSkge1xyXG5cdFx0XHRpZiAoYXJyYXkubGVuZ3RoIDwgbGVuZ3RoICsgMSkge1xyXG5cdFx0XHRcdGxldCBuZXdMZW5ndGggPSBhcnJheS5sZW5ndGggKiAyO1xyXG5cdFx0XHRcdHdoaWxlIChuZXdMZW5ndGggPCBsZW5ndGggKyAxKVxyXG5cdFx0XHRcdFx0bmV3TGVuZ3RoICo9IDI7XHJcblx0XHRcdFx0bGV0IG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTtcclxuXHRcdFx0XHRuZXdBcnJheS5zZXQoYXJyYXkpO1xyXG5cdFx0XHRcdGFycmF5ID0gbmV3QXJyYXk7XHJcblx0XHRcdH1cclxuXHRcdFx0YXJyYXlbbGVuZ3RoXSA9IGJ5dGU7XHJcblx0XHRcdGxlbmd0aCsrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEJ5dGVzKGJ5dGVzKSB7XHJcblx0XHRcdGlmIChhcnJheS5sZW5ndGggPCBsZW5ndGggKyBieXRlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRsZXQgbmV3TGVuZ3RoID0gYXJyYXkubGVuZ3RoICogMjtcclxuXHRcdFx0XHR3aGlsZSAobmV3TGVuZ3RoIDwgbGVuZ3RoICsgYnl0ZXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0bmV3TGVuZ3RoICo9IDI7XHJcblx0XHRcdFx0bGV0IG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTtcclxuXHRcdFx0XHRuZXdBcnJheS5zZXQoYXJyYXkpO1xyXG5cdFx0XHRcdGFycmF5ID0gbmV3QXJyYXk7XHJcblx0XHRcdH1cclxuXHRcdFx0YXJyYXkuc2V0KGJ5dGVzLCBsZW5ndGgpO1xyXG5cdFx0XHRsZW5ndGggKz0gYnl0ZXMubGVuZ3RoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFwcGVuZEludDY0KHZhbHVlKSB7XHJcblx0XHRcdC8vIFNwbGl0IDY0IGJpdCBudW1iZXIgaW50byB0d28gMzIgYml0IG51bWJlcnMgYmVjYXVzZSBKYXZhU2NyaXB0IG9ubHkgcmVnYXJkcyAzMiBiaXRzIGZvclxyXG5cdFx0XHQvLyBiaXR3aXNlIG9wZXJhdGlvbnMuXHJcblx0XHRcdGxldCBoaSwgbG87XHJcblx0XHRcdGlmICh2YWx1ZSA+PSAwKSB7XHJcblx0XHRcdFx0Ly8gU2FtZSBhcyB1aW50NjRcclxuXHRcdFx0XHRoaSA9IHZhbHVlIC8gcG93MzI7XHJcblx0XHRcdFx0bG8gPSB2YWx1ZSAlIHBvdzMyO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdC8vIFNwbGl0IGFic29sdXRlIHZhbHVlIHRvIGhpZ2ggYW5kIGxvdywgdGhlbiBOT1QgYW5kIEFERCgxKSB0byByZXN0b3JlIG5lZ2F0aXZpdHlcclxuXHRcdFx0XHR2YWx1ZSsrO1xyXG5cdFx0XHRcdGhpID0gTWF0aC5hYnModmFsdWUpIC8gcG93MzI7XHJcblx0XHRcdFx0bG8gPSBNYXRoLmFicyh2YWx1ZSkgJSBwb3czMjtcclxuXHRcdFx0XHRoaSA9IH5oaTtcclxuXHRcdFx0XHRsbyA9IH5sbztcclxuXHRcdFx0fVxyXG5cdFx0XHRhcHBlbmRCeXRlcyhbaGkgPj4+IDI0LCBoaSA+Pj4gMTYsIGhpID4+PiA4LCBoaSwgbG8gPj4+IDI0LCBsbyA+Pj4gMTYsIGxvID4+PiA4LCBsb10pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gRGVzZXJpYWxpemVzIGEgTWVzc2FnZVBhY2sgYnl0ZSBhcnJheSB0byBhIHZhbHVlLlxyXG5cdC8vXHJcblx0Ly8gYXJyYXk6IFRoZSBNZXNzYWdlUGFjayBieXRlIGFycmF5IHRvIGRlc2VyaWFsaXplLiBUaGlzIG11c3QgYmUgYW4gQXJyYXkgb3IgVWludDhBcnJheSBjb250YWluaW5nIGJ5dGVzLCBub3QgYSBzdHJpbmcuXHJcblx0Ly8gb3B0aW9uczogQW4gb2JqZWN0IHRoYXQgZGVmaW5lcyBhZGRpdGlvbmFsIG9wdGlvbnMuXHJcblx0Ly8gLSBtdWx0aXBsZTogKGJvb2xlYW4pIEluZGljYXRlcyB3aGV0aGVyIG11bHRpcGxlIGNvbmNhdGVuYXRlZCBNZXNzYWdlUGFjayBhcnJheXMgYXJlIHJldHVybmVkIGFzIGFuIGFycmF5LiBEZWZhdWx0OiBmYWxzZS5cclxuXHRmdW5jdGlvbiBkZXNlcmlhbGl6ZShhcnJheSwgb3B0aW9ucykge1xyXG5cdFx0Y29uc3QgcG93MzIgPSAweDEwMDAwMDAwMDsgICAvLyAyXjMyXHJcblx0XHRsZXQgcG9zID0gMDtcclxuXHRcdGlmIChhcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGVvZiBhcnJheSAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgYXJyYXkubGVuZ3RoID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdHlwZTogRXhwZWN0ZWQgYSBieXRlIGFycmF5IChBcnJheSBvciBVaW50OEFycmF5KSB0byBkZXNlcmlhbGl6ZS5cIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWFycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OiBUaGUgYnl0ZSBhcnJheSB0byBkZXNlcmlhbGl6ZSBpcyBlbXB0eS5cIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIShhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XHJcblx0XHRcdGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGRhdGE7XHJcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLm11bHRpcGxlKSB7XHJcblx0XHRcdC8vIFJlYWQgYXMgbWFueSBtZXNzYWdlcyBhcyBhcmUgYXZhaWxhYmxlXHJcblx0XHRcdGRhdGEgPSBbXTtcclxuXHRcdFx0d2hpbGUgKHBvcyA8IGFycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdGRhdGEucHVzaChyZWFkKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gUmVhZCBvbmx5IG9uZSBtZXNzYWdlIGFuZCBpZ25vcmUgYWRkaXRpb25hbCBkYXRhXHJcblx0XHRcdGRhdGEgPSByZWFkKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWFkKCkge1xyXG5cdFx0XHRjb25zdCBieXRlID0gYXJyYXlbcG9zKytdO1xyXG5cdFx0XHRpZiAoYnl0ZSA+PSAweDAwICYmIGJ5dGUgPD0gMHg3ZikgcmV0dXJuIGJ5dGU7ICAgLy8gcG9zaXRpdmUgZml4aW50XHJcblx0XHRcdGlmIChieXRlID49IDB4ODAgJiYgYnl0ZSA8PSAweDhmKSByZXR1cm4gcmVhZE1hcChieXRlIC0gMHg4MCk7ICAgLy8gZml4bWFwXHJcblx0XHRcdGlmIChieXRlID49IDB4OTAgJiYgYnl0ZSA8PSAweDlmKSByZXR1cm4gcmVhZEFycmF5KGJ5dGUgLSAweDkwKTsgICAvLyBmaXhhcnJheVxyXG5cdFx0XHRpZiAoYnl0ZSA+PSAweGEwICYmIGJ5dGUgPD0gMHhiZikgcmV0dXJuIHJlYWRTdHIoYnl0ZSAtIDB4YTApOyAgIC8vIGZpeHN0clxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjMCkgcmV0dXJuIG51bGw7ICAgLy8gbmlsXHJcblx0XHRcdGlmIChieXRlID09PSAweGMxKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgY29kZSAweGMxIGZvdW5kLlwiKTsgICAvLyBuZXZlciB1c2VkXHJcblx0XHRcdGlmIChieXRlID09PSAweGMyKSByZXR1cm4gZmFsc2U7ICAgLy8gZmFsc2VcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzMpIHJldHVybiB0cnVlOyAgIC8vIHRydWVcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4YzQpIHJldHVybiByZWFkQmluKC0xLCAxKTsgICAvLyBiaW4gOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNSkgcmV0dXJuIHJlYWRCaW4oLTEsIDIpOyAgIC8vIGJpbiAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNikgcmV0dXJuIHJlYWRCaW4oLTEsIDQpOyAgIC8vIGJpbiAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjNykgcmV0dXJuIHJlYWRFeHQoLTEsIDEpOyAgIC8vIGV4dCA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGM4KSByZXR1cm4gcmVhZEV4dCgtMSwgMik7ICAgLy8gZXh0IDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGM5KSByZXR1cm4gcmVhZEV4dCgtMSwgNCk7ICAgLy8gZXh0IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGNhKSByZXR1cm4gcmVhZEZsb2F0KDQpOyAgIC8vIGZsb2F0IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGNiKSByZXR1cm4gcmVhZEZsb2F0KDgpOyAgIC8vIGZsb2F0IDY0XHJcblx0XHRcdGlmIChieXRlID09PSAweGNjKSByZXR1cm4gcmVhZFVJbnQoMSk7ICAgLy8gdWludCA4XHJcblx0XHRcdGlmIChieXRlID09PSAweGNkKSByZXR1cm4gcmVhZFVJbnQoMik7ICAgLy8gdWludCAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhjZSkgcmV0dXJuIHJlYWRVSW50KDQpOyAgIC8vIHVpbnQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4Y2YpIHJldHVybiByZWFkVUludCg4KTsgICAvLyB1aW50IDY0XHJcblx0XHRcdGlmIChieXRlID09PSAweGQwKSByZXR1cm4gcmVhZEludCgxKTsgICAvLyBpbnQgOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkMSkgcmV0dXJuIHJlYWRJbnQoMik7ICAgLy8gaW50IDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGQyKSByZXR1cm4gcmVhZEludCg0KTsgICAvLyBpbnQgMzJcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDMpIHJldHVybiByZWFkSW50KDgpOyAgIC8vIGludCA2NFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkNCkgcmV0dXJuIHJlYWRFeHQoMSk7ICAgLy8gZml4ZXh0IDFcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDUpIHJldHVybiByZWFkRXh0KDIpOyAgIC8vIGZpeGV4dCAyXHJcblx0XHRcdGlmIChieXRlID09PSAweGQ2KSByZXR1cm4gcmVhZEV4dCg0KTsgICAvLyBmaXhleHQgNFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkNykgcmV0dXJuIHJlYWRFeHQoOCk7ICAgLy8gZml4ZXh0IDhcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDgpIHJldHVybiByZWFkRXh0KDE2KTsgICAvLyBmaXhleHQgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZDkpIHJldHVybiByZWFkU3RyKC0xLCAxKTsgICAvLyBzdHIgOFxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYSkgcmV0dXJuIHJlYWRTdHIoLTEsIDIpOyAgIC8vIHN0ciAxNlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYikgcmV0dXJuIHJlYWRTdHIoLTEsIDQpOyAgIC8vIHN0ciAzMlxyXG5cdFx0XHRpZiAoYnl0ZSA9PT0gMHhkYykgcmV0dXJuIHJlYWRBcnJheSgtMSwgMik7ICAgLy8gYXJyYXkgMTZcclxuXHRcdFx0aWYgKGJ5dGUgPT09IDB4ZGQpIHJldHVybiByZWFkQXJyYXkoLTEsIDQpOyAgIC8vIGFycmF5IDMyXHJcblx0XHRcdGlmIChieXRlID09PSAweGRlKSByZXR1cm4gcmVhZE1hcCgtMSwgMik7ICAgLy8gbWFwIDE2XHJcblx0XHRcdGlmIChieXRlID09PSAweGRmKSByZXR1cm4gcmVhZE1hcCgtMSwgNCk7ICAgLy8gbWFwIDMyXHJcblx0XHRcdGlmIChieXRlID49IDB4ZTAgJiYgYnl0ZSA8PSAweGZmKSByZXR1cm4gYnl0ZSAtIDI1NjsgICAvLyBuZWdhdGl2ZSBmaXhpbnRcclxuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcIm1zZ3BhY2sgYXJyYXk6XCIsIGFycmF5KTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBieXRlIHZhbHVlICdcIiArIGJ5dGUgKyBcIicgYXQgaW5kZXggXCIgKyAocG9zIC0gMSkgKyBcIiBpbiB0aGUgTWVzc2FnZVBhY2sgYmluYXJ5IGRhdGEgKGxlbmd0aCBcIiArIGFycmF5Lmxlbmd0aCArIFwiKTogRXhwZWN0aW5nIGEgcmFuZ2Ugb2YgMCB0byAyNTUuIFRoaXMgaXMgbm90IGEgYnl0ZSBhcnJheS5cIik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEludChzaXplKSB7XHJcblx0XHRcdGxldCB2YWx1ZSA9IDA7XHJcblx0XHRcdGxldCBmaXJzdCA9IHRydWU7XHJcblx0XHRcdHdoaWxlIChzaXplLS0gPiAwKSB7XHJcblx0XHRcdFx0aWYgKGZpcnN0KSB7XHJcblx0XHRcdFx0XHRsZXQgYnl0ZSA9IGFycmF5W3BvcysrXTtcclxuXHRcdFx0XHRcdHZhbHVlICs9IGJ5dGUgJiAweDdmO1xyXG5cdFx0XHRcdFx0aWYgKGJ5dGUgJiAweDgwKSB7XHJcblx0XHRcdFx0XHRcdHZhbHVlIC09IDB4ODA7ICAgLy8gVHJlYXQgbW9zdC1zaWduaWZpY2FudCBiaXQgYXMgLTJeaSBpbnN0ZWFkIG9mIDJeaVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Zmlyc3QgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZSAqPSAyNTY7XHJcblx0XHRcdFx0XHR2YWx1ZSArPSBhcnJheVtwb3MrK107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkVUludChzaXplKSB7XHJcblx0XHRcdGxldCB2YWx1ZSA9IDA7XHJcblx0XHRcdHdoaWxlIChzaXplLS0gPiAwKSB7XHJcblx0XHRcdFx0dmFsdWUgKj0gMjU2O1xyXG5cdFx0XHRcdHZhbHVlICs9IGFycmF5W3BvcysrXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEZsb2F0KHNpemUpIHtcclxuXHRcdFx0bGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXkuYnVmZmVyLCBwb3MgKyBhcnJheS5ieXRlT2Zmc2V0LCBzaXplKTtcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdGlmIChzaXplID09PSA0KVxyXG5cdFx0XHRcdHJldHVybiB2aWV3LmdldEZsb2F0MzIoMCwgZmFsc2UpO1xyXG5cdFx0XHRpZiAoc2l6ZSA9PT0gOClcclxuXHRcdFx0XHRyZXR1cm4gdmlldy5nZXRGbG9hdDY0KDAsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkQmluKHNpemUsIGxlbmd0aFNpemUpIHtcclxuXHRcdFx0aWYgKHNpemUgPCAwKSBzaXplID0gcmVhZFVJbnQobGVuZ3RoU2l6ZSk7XHJcblx0XHRcdGxldCBkYXRhID0gYXJyYXkuc3ViYXJyYXkocG9zLCBwb3MgKyBzaXplKTtcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlYWRNYXAoc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IGRhdGEgPSB7fTtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHRsZXQga2V5ID0gcmVhZCgpO1xyXG5cdFx0XHRcdGRhdGFba2V5XSA9IHJlYWQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkQXJyYXkoc2l6ZSwgbGVuZ3RoU2l6ZSkge1xyXG5cdFx0XHRpZiAoc2l6ZSA8IDApIHNpemUgPSByZWFkVUludChsZW5ndGhTaXplKTtcclxuXHRcdFx0bGV0IGRhdGEgPSBbXTtcclxuXHRcdFx0d2hpbGUgKHNpemUtLSA+IDApIHtcclxuXHRcdFx0XHRkYXRhLnB1c2gocmVhZCgpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkU3RyKHNpemUsIGxlbmd0aFNpemUpIHtcclxuXHRcdFx0aWYgKHNpemUgPCAwKSBzaXplID0gcmVhZFVJbnQobGVuZ3RoU2l6ZSk7XHJcblx0XHRcdGxldCBzdGFydCA9IHBvcztcclxuXHRcdFx0cG9zICs9IHNpemU7XHJcblx0XHRcdHJldHVybiBkZWNvZGVVdGY4KGFycmF5LCBzdGFydCwgc2l6ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVhZEV4dChzaXplLCBsZW5ndGhTaXplKSB7XHJcblx0XHRcdGlmIChzaXplIDwgMCkgc2l6ZSA9IHJlYWRVSW50KGxlbmd0aFNpemUpO1xyXG5cdFx0XHRsZXQgdHlwZSA9IHJlYWRVSW50KDEpO1xyXG5cdFx0XHRsZXQgZGF0YSA9IHJlYWRCaW4oc2l6ZSk7XHJcblx0XHRcdHN3aXRjaCAodHlwZSkge1xyXG5cdFx0XHRcdGNhc2UgMjU1OlxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlYWRFeHREYXRlKGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB7IHR5cGU6IHR5cGUsIGRhdGE6IGRhdGEgfTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkRXh0RGF0ZShkYXRhKSB7XHJcblx0XHRcdGlmIChkYXRhLmxlbmd0aCA9PT0gNCkge1xyXG5cdFx0XHRcdGxldCBzZWMgPSAoKGRhdGFbMF0gPDwgMjQpID4+PiAwKSArXHJcblx0XHRcdFx0XHQoKGRhdGFbMV0gPDwgMTYpID4+PiAwKSArXHJcblx0XHRcdFx0XHQoKGRhdGFbMl0gPDwgOCkgPj4+IDApICtcclxuXHRcdFx0XHRcdGRhdGFbM107XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKHNlYyAqIDEwMDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLmxlbmd0aCA9PT0gOCkge1xyXG5cdFx0XHRcdGxldCBucyA9ICgoZGF0YVswXSA8PCAyMikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsxXSA8PCAxNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsyXSA8PCA2KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0KGRhdGFbM10gPj4+IDIpO1xyXG5cdFx0XHRcdGxldCBzZWMgPSAoKGRhdGFbM10gJiAweDMpICogcG93MzIpICtcclxuXHRcdFx0XHRcdCgoZGF0YVs0XSA8PCAyNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVs1XSA8PCAxNikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVs2XSA8PCA4KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0ZGF0YVs3XTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCArIG5zIC8gMTAwMDAwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGVuZ3RoID09PSAxMikge1xyXG5cdFx0XHRcdGxldCBucyA9ICgoZGF0YVswXSA8PCAyNCkgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsxXSA8PCAxNikgPj4+IDApICtcclxuXHRcdFx0XHRcdCgoZGF0YVsyXSA8PCA4KSA+Pj4gMCkgK1xyXG5cdFx0XHRcdFx0ZGF0YVszXTtcclxuXHRcdFx0XHRwb3MgLT0gODtcclxuXHRcdFx0XHRsZXQgc2VjID0gcmVhZEludCg4KTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCArIG5zIC8gMTAwMDAwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIGxlbmd0aCBmb3IgYSBkYXRlIHZhbHVlLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEVuY29kZXMgYSBzdHJpbmcgdG8gVVRGLTggYnl0ZXMuXHJcblx0ZnVuY3Rpb24gZW5jb2RlVXRmOChzdHIpIHtcclxuXHRcdC8vIFByZXZlbnQgZXhjZXNzaXZlIGFycmF5IGFsbG9jYXRpb24gYW5kIHNsaWNpbmcgZm9yIGFsbCA3LWJpdCBjaGFyYWN0ZXJzXHJcblx0XHRsZXQgYXNjaWkgPSB0cnVlLCBsZW5ndGggPSBzdHIubGVuZ3RoO1xyXG5cdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBsZW5ndGg7IHgrKykge1xyXG5cdFx0XHRpZiAoc3RyLmNoYXJDb2RlQXQoeCkgPiAxMjcpIHtcclxuXHRcdFx0XHRhc2NpaSA9IGZhbHNlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3Bhc2NhbGRla2xvZS82MjU0NjEwM2ExNTc2ODAzZGFkZTkyNjljY2Y3NjMzMFxyXG5cdFx0bGV0IGkgPSAwLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGggKiAoYXNjaWkgPyAxIDogNCkpO1xyXG5cdFx0Zm9yIChsZXQgY2kgPSAwOyBjaSAhPT0gbGVuZ3RoOyBjaSsrKSB7XHJcblx0XHRcdGxldCBjID0gc3RyLmNoYXJDb2RlQXQoY2kpO1xyXG5cdFx0XHRpZiAoYyA8IDEyOCkge1xyXG5cdFx0XHRcdGJ5dGVzW2krK10gPSBjO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjIDwgMjA0OCkge1xyXG5cdFx0XHRcdGJ5dGVzW2krK10gPSBjID4+IDYgfCAxOTI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKGMgPiAweGQ3ZmYgJiYgYyA8IDB4ZGMwMCkge1xyXG5cdFx0XHRcdFx0aWYgKCsrY2kgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBlbmNvZGU6IGluY29tcGxldGUgc3Vycm9nYXRlIHBhaXJcIik7XHJcblx0XHRcdFx0XHRsZXQgYzIgPSBzdHIuY2hhckNvZGVBdChjaSk7XHJcblx0XHRcdFx0XHRpZiAoYzIgPCAweGRjMDAgfHwgYzIgPiAweGRmZmYpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGVuY29kZTogc2Vjb25kIHN1cnJvZ2F0ZSBjaGFyYWN0ZXIgMHhcIiArIGMyLnRvU3RyaW5nKDE2KSArIFwiIGF0IGluZGV4IFwiICsgY2kgKyBcIiBvdXQgb2YgcmFuZ2VcIik7XHJcblx0XHRcdFx0XHRjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKGMyICYgMHgwM2ZmKTtcclxuXHRcdFx0XHRcdGJ5dGVzW2krK10gPSBjID4+IDE4IHwgMjQwO1xyXG5cdFx0XHRcdFx0Ynl0ZXNbaSsrXSA9IGMgPj4gMTIgJiA2MyB8IDEyODtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBieXRlc1tpKytdID0gYyA+PiAxMiB8IDIyNDtcclxuXHRcdFx0XHRieXRlc1tpKytdID0gYyA+PiA2ICYgNjMgfCAxMjg7XHJcblx0XHRcdH1cclxuXHRcdFx0Ynl0ZXNbaSsrXSA9IGMgJiA2MyB8IDEyODtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhc2NpaSA/IGJ5dGVzIDogYnl0ZXMuc3ViYXJyYXkoMCwgaSk7XHJcblx0fVxyXG5cclxuXHQvLyBEZWNvZGVzIGEgc3RyaW5nIGZyb20gVVRGLTggYnl0ZXMuXHJcblx0ZnVuY3Rpb24gZGVjb2RlVXRmOChieXRlcywgc3RhcnQsIGxlbmd0aCkge1xyXG5cdFx0Ly8gQmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3Bhc2NhbGRla2xvZS82MjU0NjEwM2ExNTc2ODAzZGFkZTkyNjljY2Y3NjMzMFxyXG5cdFx0bGV0IGkgPSBzdGFydCwgc3RyID0gXCJcIjtcclxuXHRcdGxlbmd0aCArPSBzdGFydDtcclxuXHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XHJcblx0XHRcdGxldCBjID0gYnl0ZXNbaSsrXTtcclxuXHRcdFx0aWYgKGMgPiAxMjcpIHtcclxuXHRcdFx0XHRpZiAoYyA+IDE5MSAmJiBjIDwgMjI0KSB7XHJcblx0XHRcdFx0XHRpZiAoaSA+PSBsZW5ndGgpXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAyLWJ5dGUgc2VxdWVuY2VcIik7XHJcblx0XHRcdFx0XHRjID0gKGMgJiAzMSkgPDwgNiB8IGJ5dGVzW2krK10gJiA2MztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoYyA+IDIyMyAmJiBjIDwgMjQwKSB7XHJcblx0XHRcdFx0XHRpZiAoaSArIDEgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgMy1ieXRlIHNlcXVlbmNlXCIpO1xyXG5cdFx0XHRcdFx0YyA9IChjICYgMTUpIDw8IDEyIHwgKGJ5dGVzW2krK10gJiA2MykgPDwgNiB8IGJ5dGVzW2krK10gJiA2MztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoYyA+IDIzOSAmJiBjIDwgMjQ4KSB7XHJcblx0XHRcdFx0XHRpZiAoaSArIDIgPj0gbGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgNC1ieXRlIHNlcXVlbmNlXCIpO1xyXG5cdFx0XHRcdFx0YyA9IChjICYgNykgPDwgMTggfCAoYnl0ZXNbaSsrXSAmIDYzKSA8PCAxMiB8IChieXRlc1tpKytdICYgNjMpIDw8IDYgfCBieXRlc1tpKytdICYgNjM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVVRGLTggZGVjb2RlOiB1bmtub3duIG11bHRpYnl0ZSBzdGFydCAweFwiICsgYy50b1N0cmluZygxNikgKyBcIiBhdCBpbmRleCBcIiArIChpIC0gMSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjIDw9IDB4ZmZmZikgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XHJcblx0XHRcdGVsc2UgaWYgKGMgPD0gMHgxMGZmZmYpIHtcclxuXHRcdFx0XHRjIC09IDB4MTAwMDA7XHJcblx0XHRcdFx0c3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyA+PiAxMCB8IDB4ZDgwMClcclxuXHRcdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjICYgMHgzRkYgfCAweGRjMDApXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVVEYtOCBkZWNvZGU6IGNvZGUgcG9pbnQgMHhcIiArIGMudG9TdHJpbmcoMTYpICsgXCIgZXhjZWVkcyBVVEYtMTYgcmVhY2hcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyO1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIGV4cG9ydGVkIGZ1bmN0aW9uc1xyXG5cdGxldCBtc2dwYWNrID0ge1xyXG5cdFx0c2VyaWFsaXplOiBzZXJpYWxpemUsXHJcblx0XHRkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXHJcblxyXG5cdFx0Ly8gQ29tcGF0aWJpbGl0eSB3aXRoIG90aGVyIGxpYnJhcmllc1xyXG5cdFx0ZW5jb2RlOiBzZXJpYWxpemUsXHJcblx0XHRkZWNvZGU6IGRlc2VyaWFsaXplXHJcblx0fTtcclxuXHJcblx0Ly8gRW52aXJvbm1lbnQgZGV0ZWN0aW9uXHJcblx0aWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0Ly8gTm9kZS5qc1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBtc2dwYWNrO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdC8vIEdsb2JhbCBvYmplY3RcclxuXHRcdHdpbmRvd1t3aW5kb3cubXNncGFja0pzTmFtZSB8fCBcIm1zZ3BhY2tcIl0gPSBtc2dwYWNrO1xyXG5cdH1cclxuXHJcbn0pKCk7XHJcbiIsImltcG9ydCB7XG4gIENPTlRFWFRfTkFWX1FVRVJZLFxuICBFVkVOVF9IVUJfUVVFUlksXG4gIFZBUklBQkxFU19RVUVSWSxcbn0gZnJvbSBcIkBjb25zdGFudHNcIjtcblxuaW1wb3J0IHsganNvbkVuY29kZSB9IGZyb20gXCJAdGFpbGpzL3RyYW5zcG9ydFwiO1xuaW1wb3J0IHtcbiAgRixcbiAgVCxcbiAgYW5zaSxcbiAgaXNGdW5jdGlvbixcbiAgaXNPYmplY3QsXG4gIGpvaW4yLFxuICBwYXJzZVVyaSxcbiAgcmVwbGFjZSxcbiAgc3BsaXQsXG4gIHR5cGUgTnVsbGlzaCxcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgZG9jdW1lbnQgfSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgY29uc3QgRVJSX0JVRkZFUl9PVkVSRkxPVyA9IFwiYnVmZmVyLW92ZXJmbG93XCI7XG5leHBvcnQgY29uc3QgRVJSX1BPU1RfRkFJTEVEID0gXCJwb3N0LWZhaWxlZFwiO1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0NPTU1BTkQgPSBcImludmFsaWQtY29tbWFuZFwiO1xuZXhwb3J0IGNvbnN0IEVSUl9JTlRFUk5BTF9FUlJPUiA9IFwiaW50ZXJuYWwtZXJyb3JcIjtcbmV4cG9ydCBjb25zdCBFUlJfQVJHVU1FTlRfRVJST1IgPSBcImludmFsaWQtYXJndW1lbnRcIjtcbmV4cG9ydCBjb25zdCBFUlJfUkVTRVJWRUQgPSBcInJlc2VydmVkXCI7XG5leHBvcnQgY29uc3QgRVJSX0NPTkZJR19MT0NLRUQgPSBcImNvbmZpZy1sb2NrZWRcIjtcbmV4cG9ydCBjb25zdCBFUlJfRFVQTElDQVRFX0tFWSA9IFwia2V5XCI7XG5cbmNvbnN0IHNyYyA9IHNwbGl0KFwiXCIgKyBkb2N1bWVudC5jdXJyZW50U2NyaXB0IVtcInNyY1wiXSwgXCIjXCIpO1xuY29uc3QgYXJncyA9IHNwbGl0KFwiXCIgKyAoc3JjWzFdIHx8IFwiXCIpLCBcIjtcIik7XG5cbmV4cG9ydCBjb25zdCBTQ1JJUFRfU1JDID0gc3JjWzBdO1xuZXhwb3J0IGNvbnN0IFRSQUNLRVJfRE9NQUlOID1cbiAgYXJnc1sxXSB8fCBwYXJzZVVyaShTQ1JJUFRfU1JDLCB7IGRlbGltaXRlcnM6IGZhbHNlIH0pPy5ob3N0ITtcblxuZXhwb3J0IGNvbnN0IGlzSW50ZXJuYWxVcmwgPSAodXJsOiBzdHJpbmcgfCBOdWxsaXNoKSA9PlxuICAhIShcbiAgICBUUkFDS0VSX0RPTUFJTiAmJlxuICAgIHBhcnNlVXJpKHVybCwgeyBkZWxpbWl0ZXJzOiBmYWxzZSB9KT8uaG9zdD8uZW5kc1dpdGgoVFJBQ0tFUl9ET01BSU4pID09PSBUXG4gICk7XG5cbmV4cG9ydCBjb25zdCBtYXBVcmwgPSAoLi4udXJsUGFydHM6IHN0cmluZ1tdKSA9PlxuICByZXBsYWNlKGpvaW4yKHVybFBhcnRzKSwgLyheKD89XFw/KSl8KF5cXC4oPz1cXC8pKS8sIFNDUklQVF9TUkMuc3BsaXQoXCI/XCIpWzBdKTtcblxuZXhwb3J0IGNvbnN0IFZBUl9VUkwgPSBtYXBVcmwoXCI/XCIsIEVWRU5UX0hVQl9RVUVSWSk7XG5leHBvcnQgY29uc3QgTU5UX1VSTCA9IG1hcFVybChcIj9cIiwgQ09OVEVYVF9OQVZfUVVFUlkpO1xuZXhwb3J0IGNvbnN0IFVTUl9VUkwgPSBtYXBVcmwoXCI/XCIsIFZBUklBQkxFU19RVUVSWSk7XG5cbmV4cG9ydCBjb25zdCBncm91cFZhbHVlID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgY2hpbGRHcm91cHMgPSBTeW1ib2woKTtcblxuZXhwb3J0IGNvbnN0IGRlYnVnID0gKFxuICB2YWx1ZTogYW55LFxuICBncm91cD86IHN0cmluZyxcbiAgY29sbGFwc2VkID0gVCxcbiAgbmVzdGVkID0gRlxuKSA9PiB7XG4gIGdyb3VwICYmXG4gICAgKGNvbGxhcHNlZCA/IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQgOiBjb25zb2xlLmdyb3VwKShcbiAgICAgIChuZXN0ZWQgPyBcIlwiIDogYW5zaShcInRhaWwuanM6IFwiLCBcIjkwOzNcIikpICsgZ3JvdXBcbiAgICApO1xuICBjb25zdCBjaGlsZHJlbiA9IHZhbHVlPy5bY2hpbGRHcm91cHNdO1xuICBjaGlsZHJlbiAmJiAodmFsdWUgPSB2YWx1ZVtncm91cFZhbHVlXSk7XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGlzT2JqZWN0KHZhbHVlKVxuICAgICAgICA/IGFuc2koanNvbkVuY29kZSh2YWx1ZSksIFwiOTRcIilcbiAgICAgICAgOiAvLyA/IHdpbmRvd1tcImNocm9tZVwiXVxuICAgICAgICAvLyAgID8gcHJldHR5UHJpbnQodmFsdWUpLmpvaW4oXCJcIilcbiAgICAgICAgLy8gICA6IEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAyKVxuICAgICAgICBpc0Z1bmN0aW9uKHZhbHVlKVxuICAgICAgICA/IFwiXCIgKyB2YWx1ZVxuICAgICAgICA6IHZhbHVlXG4gICAgKTtcbiAgY2hpbGRyZW4gJiZcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChbdmFsdWUsIGdyb3VwLCBjb2xsYXBzZWRdKSA9PlxuICAgICAgZGVidWcodmFsdWUsIGdyb3VwLCBjb2xsYXBzZWQsIHRydWUpXG4gICAgKTtcblxuICBncm91cCAmJiBjb25zb2xlLmdyb3VwRW5kKCk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRXZlbnQsIHR5cGUgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IERlY29kZXIsIEVuY29kZXIsIGNyZWF0ZVRyYW5zcG9ydCB9IGZyb20gXCJAdGFpbGpzL3RyYW5zcG9ydFwiO1xuaW1wb3J0IHsgREVCVUcsIE5PVF9JTklUSUFMSVpFRCB9IGZyb20gXCIuXCI7XG5cbmV4cG9ydCBjb25zdCBbaHR0cEVuY29kZSwgaHR0cERlY29kZV0gPSBjcmVhdGVUcmFuc3BvcnQoKTtcblxuZXhwb3J0IGxldCBbaHR0cEVuY3J5cHQsIGh0dHBEZWNyeXB0XSA9IFtcbiAgTk9UX0lOSVRJQUxJWkVELFxuICBOT1RfSU5JVElBTElaRUQsXG5dIGFzIGFueSBhcyBbRW5jb2RlciwgRGVjb2Rlcl07XG5cbmV4cG9ydCBsZXQgVVNFX0VOQ1JZUFRJT04gPSB0cnVlO1xuXG5leHBvcnQgY29uc3QgW2FkZEVuY3J5cHRpb25OZWdvdGlhdGVkTGlzdGVuZXIsIGRpc3BhdGNoRW5jcnlwdGlvbk5lZ290aWF0ZWRdID1cbiAgY3JlYXRlRXZlbnQ8W2h0dHBFbmNyeXB0OiBFbmNvZGVyLCBodHRwRGVjcnlwdDogRGVjb2Rlcl0+KCk7XG5cbmV4cG9ydCBjb25zdCBzZXRTdG9yYWdlS2V5ID0gKGtleTogc3RyaW5nIHwgTnVsbGlzaCkgPT4ge1xuICBpZiAoaHR0cERlY3J5cHQgIT09IE5PVF9JTklUSUFMSVpFRCkgcmV0dXJuO1xuXG4gIFtodHRwRW5jcnlwdCwgaHR0cERlY3J5cHRdID0gY3JlYXRlVHJhbnNwb3J0KGtleSwge1xuICAgIGpzb246ICFrZXksXG4gICAgcHJldHRpZnk6IGZhbHNlLFxuICB9KTtcblxuICBVU0VfRU5DUllQVElPTiA9ICEha2V5O1xuXG4gIGRpc3BhdGNoRW5jcnlwdGlvbk5lZ290aWF0ZWQoaHR0cEVuY3J5cHQsIGh0dHBEZWNyeXB0KTtcbn07XG4iLCJpbXBvcnQgeyBOb25Bc3luYywgaXNTdHJpbmcgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZXJyb3JMb2dnZXIgPSAoc291cmNlOiBhbnkpID0+IChlcnJvcjogYW55KSA9PlxyXG4gIGxvZ0Vycm9yKHNvdXJjZSwgZXJyb3IpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yOiB7XHJcbiAgKHNvdXJjZTogYW55LCBtZXNzYWdlOiBFcnJvciB8IHN0cmluZyB8IHVuZGVmaW5lZCwgLi4uYXJnczogYW55W10pOiB2b2lkO1xyXG4gIChzb3VyY2U6IGFueSwgYXJnMTogRXhjbHVkZTxOb25Bc3luYywgc3RyaW5nPiwgLi4uYXJnczogYW55W10pOiB2b2lkO1xyXG59ID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgbGV0IHNvdXJjZSA9IGFyZ3Muc2hpZnQoKTtcclxuICBsZXQgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGlmIChhcmdzWzFdIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgIG1lc3NhZ2UgPSBhcmdzWzFdLm1lc3NhZ2U7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1lc3NhZ2UgPSBpc1N0cmluZyhhcmdzWzFdKVxyXG4gICAgICA/IGFyZ3Muc2hpZnQoKVxyXG4gICAgICA6IGFyZ3NbMV0/Lm1lc3NhZ2UgPz8gXCJBbiBlcnJvciBvY2N1cnJlZFwiO1xyXG4gIH1cclxuICBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIHNvdXJjZS5pZCA/PyBzb3VyY2UsIC4uLmFyZ3MpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjbG9jaywgY3JlYXRlRXZlbnQsIGNyZWF0ZVRpbWVyIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgbGlzdGVuIH0gZnJvbSBcIi5cIjtcblxudHlwZSBQYWdlTG9hZExpc3RlbmVyQXJncyA9IFtsb2FkZWQ6IGJvb2xlYW4sIHN0YXRlRHVyYXRpb246IG51bWJlcl07XG5jb25zdCBbYWRkUGFnZUxvYWRlZExpc3RlbmVyLCBkaXNwYXRjaFBhZ2VMb2FkZWRdID1cbiAgY3JlYXRlRXZlbnQ8UGFnZUxvYWRMaXN0ZW5lckFyZ3M+KCk7XG5cbmNvbnN0IFthZGRQYWdlVmlzaWJsZUxpc3RlbmVyLCBkaXNwYXRjaFBhZ2VWaXNpYmxlXSA9XG4gIGNyZWF0ZUV2ZW50PFt2aXNpYmxlOiBib29sZWFuLCB1bmxvYWRpbmc6IGJvb2xlYW4sIGRlbHRhOiBudW1iZXJdPigpO1xuXG5jb25zdCBtYXliZURpc3BhdGNoUGFnZUxvYWRlZCA9IChuZXdMb2FkZWQ6IGJvb2xlYW4pID0+XG4gIGxvYWRlZCAhPT0gKGxvYWRlZCA9IG5ld0xvYWRlZCkgJiZcbiAgZGlzcGF0Y2hQYWdlTG9hZGVkKGxvYWRlZCwgc2xlZXBUaW1lcih0cnVlLCB0cnVlKSk7XG5cbmNvbnN0IG1heWJlRGlzcGF0Y2hQYWdlVmlzaWJsZSA9IChsb2FkZWQ6IGJvb2xlYW4pID0+XG4gIHZpc2libGUgIT09XG4gICAgKHZpc2libGUgPSBsb2FkZWQgPyBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiIDogZmFsc2UpICYmXG4gIGRpc3BhdGNoUGFnZVZpc2libGUodmlzaWJsZSwgIWxvYWRlZCwgdmlzaWJsZVRpbWVyKHRydWUsIHRydWUpKTtcblxuLy8gQSB2aXNpYmlsaXR5Y2hhbmdlIGV2ZW50IG1heSBub3QgYmUgdHJpZ2dlcmVkIGlmIHRoZSBwYWdlIEJGIGNhY2hlIGxvYWRzL3VubG9hZHMuXG5hZGRQYWdlTG9hZGVkTGlzdGVuZXIobWF5YmVEaXNwYXRjaFBhZ2VWaXNpYmxlKTtcblxubGV0IGxvYWRlZCA9IHRydWU7XG5sZXQgdmlzaWJsZSA9IGZhbHNlO1xubGV0IHZpc2libGVUaW1lciA9IGNyZWF0ZVRpbWVyKGZhbHNlKTtcbmxldCBzbGVlcFRpbWVyID0gY3JlYXRlVGltZXIoZmFsc2UpO1xuXG5saXN0ZW4od2luZG93LCBbXCJwYWdlaGlkZVwiLCBcImZyZWV6ZVwiLCBcImJlZm9yZXVubG9hZFwiXSwgKCkgPT5cbiAgbWF5YmVEaXNwYXRjaFBhZ2VMb2FkZWQoZmFsc2UpXG4pO1xubGlzdGVuKHdpbmRvdywgW1wicGFnZXNob3dcIiwgXCJyZXN1bWVcIl0sICgpID0+IG1heWJlRGlzcGF0Y2hQYWdlTG9hZGVkKHRydWUpKTtcbmxpc3RlbihcbiAgZG9jdW1lbnQsXG4gIFwidmlzaWJpbGl0eWNoYW5nZVwiLFxuICAoKSA9PiAoXG4gICAgbWF5YmVEaXNwYXRjaFBhZ2VWaXNpYmxlKHRydWUpLCB2aXNpYmxlICYmIG1heWJlRGlzcGF0Y2hQYWdlTG9hZGVkKHRydWUpXG4gIClcbik7XG5cbmRpc3BhdGNoUGFnZUxvYWRlZChsb2FkZWQsIHNsZWVwVGltZXIodHJ1ZSwgdHJ1ZSkpO1xuXG50eXBlIFBhZ2VBY3RpdmF0ZWRMaXN0ZW5lckFyZ3MgPSBbYWN0aXZhdGVkOiBib29sZWFuLCB0b3RhbER1cmF0aW9uOiBudW1iZXJdO1xubGV0IGFjdGl2YXRlZCA9IGZhbHNlO1xubGV0IGFjdGl2ZVRpbWUgPSBjcmVhdGVUaW1lcihmYWxzZSk7XG5cbmNvbnN0IFthZGRQYWdlQWN0aXZhdGVkTGlzdGVuZXIsIGRpc3BhdGNoUGFnZUFjdGl2YXRlZF0gPVxuICBjcmVhdGVFdmVudDxQYWdlQWN0aXZhdGVkTGlzdGVuZXJBcmdzPigpO1xuXG5jb25zdCBhY3RpdmF0aW9uVGltZW91dCA9IGNsb2NrKHtcbiAgY2FsbGJhY2s6ICgpID0+XG4gICAgYWN0aXZhdGVkICYmIGRpc3BhdGNoUGFnZUFjdGl2YXRlZCgoYWN0aXZhdGVkID0gZmFsc2UpLCBhY3RpdmVUaW1lKGZhbHNlKSksXG4gIGZyZXF1ZW5jeTogMjAwMDAsXG4gIG9uY2U6IHRydWUsXG4gIHBhdXNlZDogdHJ1ZSxcbn0pO1xuY29uc3Qgc2V0QWN0aXZhdGVkID0gKCkgPT5cbiAgIWFjdGl2YXRlZCAmJlxuICAoZGlzcGF0Y2hQYWdlQWN0aXZhdGVkKChhY3RpdmF0ZWQgPSB0cnVlKSwgYWN0aXZlVGltZSh0cnVlKSksXG4gIGFjdGl2YXRpb25UaW1lb3V0LnJlc3RhcnQoKSk7XG5cbmxpc3Rlbih3aW5kb3csIFtcImZvY3VzXCIsIFwic2Nyb2xsXCJdLCBzZXRBY3RpdmF0ZWQpO1xubGlzdGVuKHdpbmRvdywgXCJibHVyXCIsICgpID0+IGFjdGl2YXRpb25UaW1lb3V0LnRyaWdnZXIoKSk7XG5cbmxpc3RlbihcbiAgZG9jdW1lbnQuYm9keSxcbiAgW1wia2V5ZG93blwiLCBcInBvaW50ZXJkb3duXCIsIFwicG9pbnRlcm1vdmVcIiwgXCJzY3JvbGxcIl0sXG4gIHNldEFjdGl2YXRlZFxuKTtcblxuc2V0QWN0aXZhdGVkKCk7XG5cbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVUaW1lID0gKCkgPT4gYWN0aXZlVGltZSgpO1xuZXhwb3J0IHtcbiAgYWRkUGFnZUFjdGl2YXRlZExpc3RlbmVyLFxuICBhZGRQYWdlTG9hZGVkTGlzdGVuZXIsXG4gIGFkZFBhZ2VWaXNpYmxlTGlzdGVuZXIsXG59O1xuIiwiaW1wb3J0IHsgQ0xJRU5UX1NUQVRFX0NIQU5ORUxfSUQgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBVdWlkVjQsIFZhcmlhYmxlR2V0UmVxdWVzdCwgZXh0cmFjdEtleSB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBQYXJ0aWFsUmVjb3JkLFxuICBhc3NpZ24yLFxuICBjbG9jayxcbiAgY29uY2F0MixcbiAgY3JlYXRlRXZlbnQsXG4gIGZpbHRlcjIsXG4gIGZvckVhY2gyLFxuICBpc1N0cmluZyxcbiAgbWFwMixcbiAgbm93LFxuICBvYmoyLFxuICByZXBsYWNlLFxuICBzZXQyLFxuICBza2lwMixcbn0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHtcbiAgSEVBUlRCRUFUX0ZSRVFVRU5DWSxcbiAgTk9UX0lOSVRJQUxJWkVELFxuICBWQVJJQUJMRV9DQUNIRV9EVVJBVElPTixcbiAgYWRkRW5jcnlwdGlvbk5lZ290aWF0ZWRMaXN0ZW5lcixcbiAgYWRkUGFnZUxvYWRlZExpc3RlbmVyLFxuICBsaXN0ZW4sXG59IGZyb20gXCIuXCI7XG5pbXBvcnQge1xuICBDbGllbnRWYXJpYWJsZSxcbiAgQ2xpZW50VmFyaWFibGVLZXksXG4gIGFueVZhcmlhYmxlU2NvcGUsXG4gIHN0cmluZ1RvVmFyaWFibGVLZXksXG4gIHZhcmlhYmxlS2V5VG9TdHJpbmcsXG59IGZyb20gXCIuLlwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYlN0YXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgaGVhcnRiZWF0OiBudW1iZXI7XG4gIHZpZXdJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZVZhcmlhYmxlTWV0YWRhdGEge1xuICBjYWNoZT86IFt0aW1lc3RhbXA6IG51bWJlciwgdHRsPzogbnVtYmVyXTtcbn1cblxuZXhwb3J0IHR5cGUgU3RhdGVWYXJpYWJsZTxcbiAgVCBleHRlbmRzIHt9ID0gYW55LFxuICBMb2NhbFNjb3BlIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW5cbj4gPSBDbGllbnRWYXJpYWJsZTxULCBMb2NhbFNjb3BlPiAmIFN0YXRlVmFyaWFibGVNZXRhZGF0YTtcblxuZXhwb3J0IHR5cGUgU3RhdGVWYXJpYWJsZUVudHJ5ID0gW1xuICBrZXk6IENsaWVudFZhcmlhYmxlS2V5LFxuICB2YXJpYWJsZTogU3RhdGVWYXJpYWJsZSB8IHVuZGVmaW5lZFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZSB7XG4gIGtub3duVGFiczogTWFwPHN0cmluZywgVGFiU3RhdGU+O1xuICAvKiogQWxsIHZhcmlhYmxlcyBleGNlcHQgbG9jYWwuICovXG4gIHZhcmlhYmxlczogTWFwPHN0cmluZywgU3RhdGVWYXJpYWJsZT47XG59XG5cbmxldCBsb2NhbElkID0gMDtcblxuZXhwb3J0IGxldCBUQUJfSUQ6IHN0cmluZyA9IHVuZGVmaW5lZCBhcyBhbnk7XG5leHBvcnQgY29uc3QgbmV4dElkID0gKCkgPT4gKFRBQl9JRCA/PyBOT1RfSU5JVElBTElaRUQoKSkgKyBcIl9cIiArIG5leHRMb2NhbElkKCk7XG5leHBvcnQgY29uc3QgbmV4dExvY2FsSWQgPSAoKSA9PlxuICAobm93KHRydWUpIC0gKHBhcnNlSW50KFRBQl9JRC5zbGljZSgwLCAtMiksIDM2KSB8fCAwKSkudG9TdHJpbmcoMzYpICtcbiAgXCJfXCIgK1xuICAoKytsb2NhbElkKS50b1N0cmluZygzNik7XG5cbmNvbnN0IHJhbmRvbVZhbHVlcyA9IChhcmc6IGFueSkgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcmcpO1xuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpOiBVdWlkVjQgPT5cbiAgcmVwbGFjZShcbiAgICAoWzFlN10gYXMgYW55KSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExLFxuICAgIC9bMDE4XS9nLFxuICAgIChjOiBhbnkpID0+IChcbiAgICAgIChjICo9IDEpLFxuICAgICAgKGMgXiAocmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmICgxNSA+PiAoYyAvIDQpKSkpLnRvU3RyaW5nKDE2KVxuICAgIClcbiAgKTtcblxuLyoqIEFsbCB2YXJpYWJsZXMsIGJvdGggbG9jYWwgYW5kIG90aGVycy4gKi9cbmxldCB0YWJWYXJpYWJsZXMgPSBuZXcgTWFwPHN0cmluZywgU3RhdGVWYXJpYWJsZT4oKTtcblxuY29uc3QgdGFiU3RhdGU6IFRhYlN0YXRlID0ge1xuICBpZDogVEFCX0lELFxuICBoZWFydGJlYXQ6IG5vdygpLFxufTtcblxuY29uc3Qgc3RhdGU6IFN0YXRlID0ge1xuICBrbm93blRhYnM6IG5ldyBNYXAoW1tUQUJfSUQsIHRhYlN0YXRlXV0pLFxuICB2YXJpYWJsZXM6IG5ldyBNYXAoKSxcbn07XG5cbnR5cGUgU3RhdGVNZXNzYWdlID1cbiAgfCB7IHR5cGU6IFwicXVlcnlcIjsgcGF5bG9hZD86IHVuZGVmaW5lZCB9XG4gIHwge1xuICAgICAgdHlwZTogXCJzZXRcIjtcbiAgICAgIHBheWxvYWQ6IFtcbiAgICAgICAga25vd25UYWJzOiBbc3RyaW5nLCBUYWJTdGF0ZV1bXSxcbiAgICAgICAgdmFyaWFibGVzOiBbc3RyaW5nLCBTdGF0ZVZhcmlhYmxlXVtdXG4gICAgICBdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBcInBhdGNoXCI7XG4gICAgICBwYXlsb2FkOiBQYXJ0aWFsUmVjb3JkPHN0cmluZywgU3RhdGVWYXJpYWJsZT47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IFwidGFiXCI7XG4gICAgICBwYXlsb2FkOiBUYWJTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgICB9O1xuXG5jb25zdCBbYWRkU3RhdGVMaXN0ZW5lciwgZGlzcGF0Y2hTdGF0ZV0gPSBjcmVhdGVFdmVudDxcbiAgfCBbZXZlbnQ6IFwicmVhZHlcIiwgc3RhdGU6IFN0YXRlLCBzZWxmOiBib29sZWFuXVxuICB8IFtldmVudDogXCJ0YWJcIiwgdGFiOiBUYWJTdGF0ZSwgc2VsZjogYm9vbGVhbl1cbj4oKTtcblxuZXhwb3J0IHR5cGUgU3RhdGVWYXJpYWJsZUNoYW5nZSA9IHJlYWRvbmx5IFtcbiAga2V5OiBDbGllbnRWYXJpYWJsZUtleSxcbiAgY3VycmVudDogKENsaWVudFZhcmlhYmxlICYgUGljazxWYXJpYWJsZUdldFJlcXVlc3QsIFwicGFzc2l2ZVwiPikgfCB1bmRlZmluZWQsXG4gIHByZXZpb3VzOiBDbGllbnRWYXJpYWJsZSB8IHVuZGVmaW5lZFxuXTtcbmNvbnN0IFthZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIsIGRpc3BhdGNoVmFyaWFibGVzQ2hhbmdlZF0gPVxuICBjcmVhdGVFdmVudDxcbiAgICBbXG4gICAgICBjaGFuZ2VzOiBTdGF0ZVZhcmlhYmxlQ2hhbmdlW10sXG4gICAgICBhbGw6IFJlYWRvbmx5TWFwPHN0cmluZywgU3RhdGVWYXJpYWJsZT4sXG4gICAgICBsb2NhbDogYm9vbGVhblxuICAgIF1cbiAgPigpO1xuXG5leHBvcnQgeyBhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIgfTtcblxubGV0IHBvc3Q6IChtZXNzYWdlOiBTdGF0ZU1lc3NhZ2UsIHRhcmdldD86IHN0cmluZykgPT4gdm9pZCA9IE5PVF9JTklUSUFMSVpFRDtcblxuZXhwb3J0IGNvbnN0IHRyeUdldFZhcmlhYmxlID0gKFxuICBrZXk6IENsaWVudFZhcmlhYmxlS2V5IHwgc3RyaW5nLFxuICB0aW1lc3RhbXAgPSBub3coKVxuKTogU3RhdGVWYXJpYWJsZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IHZhcmlhYmxlID0gdGFiVmFyaWFibGVzLmdldChcbiAgICBpc1N0cmluZyhrZXkpID8ga2V5IDogdmFyaWFibGVLZXlUb1N0cmluZyhrZXkpXG4gICk7XG4gIHJldHVybiB2YXJpYWJsZT8uY2FjaGUgJiYgdmFyaWFibGUuY2FjaGVbMF0hICsgdmFyaWFibGUuY2FjaGVbMV0hIDw9IHRpbWVzdGFtcFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB2YXJpYWJsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRMb2NhbFZhcmlhYmxlcyA9IChcbiAgLi4udmFyaWFibGVzOiBPbWl0PFxuICAgIENsaWVudFZhcmlhYmxlPGFueSwgdHJ1ZT4sXG4gICAgXCJjcmVhdGVkXCIgfCBcIm1vZGlmaWVkXCIgfCBcInZlcnNpb25cIlxuICA+W11cbikgPT4ge1xuICBjb25zdCB0aW1lc3RhbXAgPSBub3coKTtcbiAgcmV0dXJuIHVwZGF0ZVZhcmlhYmxlU3RhdGUoXG4gICAgbWFwMih2YXJpYWJsZXMsICh2YXJpYWJsZSkgPT4ge1xuICAgICAgKHZhcmlhYmxlIGFzIFN0YXRlVmFyaWFibGUpLmNhY2hlID0gW3RpbWVzdGFtcF07XG4gICAgICByZXR1cm4gW1xuICAgICAgICBleHRyYWN0S2V5KHZhcmlhYmxlKSxcbiAgICAgICAgeyAuLi52YXJpYWJsZSwgY3JlYXRlZDogdGltZXN0YW1wLCBtb2RpZmllZDogdGltZXN0YW1wLCB2ZXJzaW9uOiBcIjBcIiB9LFxuICAgICAgXTtcbiAgICB9KVxuICApO1xufTtcblxuY29uc3QgZ2V0VmFyaWFibGVDaGFuZ2VzID0gKFxuICB2YXJpYWJsZXM6IChTdGF0ZVZhcmlhYmxlRW50cnkgfCB1bmRlZmluZWQpW10gfCB1bmRlZmluZWRcbik6IFtcbiAga2V5OiBzdHJpbmcsXG4gIGN1cnJlbnQ6IFN0YXRlVmFyaWFibGUgfCB1bmRlZmluZWQsXG4gIHByZXZpb3VzOiBTdGF0ZVZhcmlhYmxlIHwgdW5kZWZpbmVkLFxuICBzb3VyY2VLZXk6IENsaWVudFZhcmlhYmxlS2V5XG5dW10gPT5cbiAgbWFwMih2YXJpYWJsZXMsIChjdXJyZW50KSA9PiB7XG4gICAgaWYgKCFjdXJyZW50KSByZXR1cm4gc2tpcDI7XG4gICAgY29uc3Qga2V5ID0gdmFyaWFibGVLZXlUb1N0cmluZyhjdXJyZW50WzBdKTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHRhYlZhcmlhYmxlcy5nZXQoa2V5KTtcbiAgICByZXR1cm4gcHJldmlvdXMgIT09IGN1cnJlbnRbMV1cbiAgICAgID8gW2tleSwgY3VycmVudFsxXSwgcHJldmlvdXMsIGN1cnJlbnRbMF1dXG4gICAgICA6IHNraXAyO1xuICB9KSA/PyBbXTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZhcmlhYmxlU3RhdGUgPSAoXG4gIHVwZGF0ZXM6IChTdGF0ZVZhcmlhYmxlRW50cnkgfCB1bmRlZmluZWQpW10gfCB1bmRlZmluZWRcbikgPT4ge1xuICAvLyBDb2xsZWN0IG5vdyBiZWZvcmUgdXBkYXRpbmcgdGhlIHN0YXRlLCBidXQgZGlzcGF0Y2ggYWZ0ZXIgdGhlIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICBjb25zdCBjaGFuZ2VzID0gZ2V0VmFyaWFibGVDaGFuZ2VzKHVwZGF0ZXMpO1xuICBpZiAoIWNoYW5nZXM/Lmxlbmd0aCkgcmV0dXJuO1xuXG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5vdygpO1xuICBmb3JFYWNoMihjaGFuZ2VzLCAoWywgY3VycmVudCwgcHJldmlvdXNdKSA9PiB7XG4gICAgaWYgKGN1cnJlbnQgJiYgIWN1cnJlbnQuY2FjaGUpIHtcbiAgICAgIGN1cnJlbnQuY2FjaGUgPSBwcmV2aW91cz8uY2FjaGUgPz8gW3RpbWVzdGFtcCwgVkFSSUFCTEVfQ0FDSEVfRFVSQVRJT05dO1xuICAgIH1cbiAgfSk7XG4gIGFzc2lnbjIodGFiVmFyaWFibGVzLCBjaGFuZ2VzKTtcblxuICBjb25zdCBzaGFyZWRDaGFuZ2VzID0gZmlsdGVyMihcbiAgICBjaGFuZ2VzLFxuICAgIChbLCAsICwga2V5XSkgPT4gYW55VmFyaWFibGVTY29wZS5jb21wYXJlKGtleS5zY29wZSwgXCJ0YWJcIikgPiAwXG4gICk7XG5cbiAgaWYgKHNoYXJlZENoYW5nZXMubGVuZ3RoKSB7XG4gICAgcG9zdCh7IHR5cGU6IFwicGF0Y2hcIiwgcGF5bG9hZDogb2JqMihzaGFyZWRDaGFuZ2VzKSB9KTtcbiAgfVxuXG4gIGRpc3BhdGNoVmFyaWFibGVzQ2hhbmdlZChcbiAgICBtYXAyKGNoYW5nZXMsIChbLCBjdXJyZW50LCBwcmV2aW91cywga2V5XSkgPT4gW2tleSwgY3VycmVudCwgcHJldmlvdXNdKSxcbiAgICB0YWJWYXJpYWJsZXMsXG4gICAgdHJ1ZVxuICApO1xufTtcblxuYWRkRW5jcnlwdGlvbk5lZ290aWF0ZWRMaXN0ZW5lcigoaHR0cEVuY3J5cHQsIGh0dHBEZWNyeXB0KSA9PiB7XG4gIC8vIEtlZXAgdGFiIElEIGFuZCB2YXJpYWJsZXMgYmV0d2VlbiBwYWdlcyBpbiB0aGUgc2FtZSB0YWIuXG4gIGFkZFBhZ2VMb2FkZWRMaXN0ZW5lcigobG9hZGVkKSA9PiB7XG4gICAgaWYgKGxvYWRlZCkge1xuICAgICAgY29uc3QgbG9jYWxTdGF0ZSA9IGh0dHBEZWNyeXB0KFxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENMSUVOVF9TVEFURV9DSEFOTkVMX0lEKVxuICAgICAgKSBhcyBbdGFiSWQ6IHN0cmluZywgdmFyaWFibGVzOiBTdGF0ZVZhcmlhYmxlW11dO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCk7XG5cbiAgICAgIFRBQl9JRCA9XG4gICAgICAgIGxvY2FsU3RhdGU/LlswXSA/P1xuICAgICAgICBub3codHJ1ZSkudG9TdHJpbmcoMzYpICtcbiAgICAgICAgICBNYXRoLnRydW5jKDEyOTYgKiBNYXRoLnJhbmRvbSgpKVxuICAgICAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAgICAgLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblxuICAgICAgdGFiVmFyaWFibGVzID0gbmV3IE1hcChcbiAgICAgICAgY29uY2F0MihcbiAgICAgICAgICBmaWx0ZXIyKHRhYlZhcmlhYmxlcywgKFssIHZhcmlhYmxlXSkgPT4gdmFyaWFibGU/LnNjb3BlID09PSBcInZpZXdcIiksXG4gICAgICAgICAgbWFwMihsb2NhbFN0YXRlPy5bMV0sICh2YXJpYWJsZSkgPT4gW1xuICAgICAgICAgICAgdmFyaWFibGVLZXlUb1N0cmluZyh2YXJpYWJsZSksXG4gICAgICAgICAgICB2YXJpYWJsZSxcbiAgICAgICAgICBdKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCxcbiAgICAgICAgaHR0cEVuY3J5cHQoW1xuICAgICAgICAgIFRBQl9JRCxcbiAgICAgICAgICBtYXAyKHRhYlZhcmlhYmxlcywgKFssIHZhcmlhYmxlXSkgPT5cbiAgICAgICAgICAgIHZhcmlhYmxlICYmIHZhcmlhYmxlLnNjb3BlICE9PSBcInZpZXdcIiA/IHZhcmlhYmxlIDogc2tpcDJcbiAgICAgICAgICApLFxuICAgICAgICBdKVxuICAgICAgKTtcbiAgICB9XG4gIH0sIHRydWUpO1xuXG4gIHBvc3QgPSAobWVzc2FnZTogU3RhdGVNZXNzYWdlLCB0YXJnZXQ/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWh0dHBFbmNyeXB0KSByZXR1cm47XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCxcbiAgICAgIGh0dHBFbmNyeXB0KFtUQUJfSUQsIG1lc3NhZ2UsIHRhcmdldF0pXG4gICAgKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDTElFTlRfU1RBVEVfQ0hBTk5FTF9JRCk7XG4gIH07XG5cbiAgbGlzdGVuKHdpbmRvdywgXCJzdG9yYWdlXCIsIChldikgPT4ge1xuICAgIGlmIChldi5rZXkgPT09IENMSUVOVF9TVEFURV9DSEFOTkVMX0lEKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gaHR0cERlY3J5cHQ/Lihldi5uZXdWYWx1ZSkgYXMgW1xuICAgICAgICBzZW5kZXI6IHN0cmluZyxcbiAgICAgICAgbWVzc2FnZTogU3RhdGVNZXNzYWdlLFxuICAgICAgICB0YXJnZXQ/OiBzdHJpbmdcbiAgICAgIF07XG4gICAgICBpZiAoIW1lc3NhZ2UgfHwgKG1lc3NhZ2VbMl0gJiYgbWVzc2FnZVsyXSAhPT0gVEFCX0lEKSkgcmV0dXJuO1xuICAgICAgY29uc3QgW3NlbmRlciwgeyB0eXBlLCBwYXlsb2FkIH1dID0gbWVzc2FnZTtcblxuICAgICAgaWYgKHR5cGUgPT09IFwicXVlcnlcIikge1xuICAgICAgICAhaW5pdFRpbWVvdXQuYWN0aXZlICYmXG4gICAgICAgICAgcG9zdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgcGF5bG9hZDogW21hcDIoc3RhdGUua25vd25UYWJzKSwgbWFwMihzdGF0ZS52YXJpYWJsZXMpXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZW5kZXJcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInNldFwiICYmIGluaXRUaW1lb3V0LmFjdGl2ZSkge1xuICAgICAgICBzdGF0ZS5rbm93blRhYnMgPSBuZXcgTWFwKHBheWxvYWRbMF0pO1xuICAgICAgICBzdGF0ZS52YXJpYWJsZXMgPSBuZXcgTWFwKHBheWxvYWRbMV0pO1xuICAgICAgICB0YWJWYXJpYWJsZXMgPSBuZXcgTWFwKHBheWxvYWRbMV0pO1xuICAgICAgICBpbml0VGltZW91dC50cmlnZ2VyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwicGF0Y2hcIikge1xuICAgICAgICAvLyBDb2xsZWN0IG5vdyBiZWZvcmUgdXBkYXRpbmcgdGhlIHN0YXRlLCBidXQgZGlzcGF0Y2ggYWZ0ZXIgdGhlIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICAgICAgICBjb25zdCBjaGFuZ2VkRXZlbnREYXRhID0gZ2V0VmFyaWFibGVDaGFuZ2VzKFxuICAgICAgICAgIG1hcDIocGF5bG9hZCwgKFtrZXksIHZhbHVlXSkgPT4gW3N0cmluZ1RvVmFyaWFibGVLZXkoa2V5KSwgdmFsdWVdKVxuICAgICAgICApO1xuXG4gICAgICAgIGFzc2lnbjIoc3RhdGUudmFyaWFibGVzLCBwYXlsb2FkKTtcbiAgICAgICAgYXNzaWduMih0YWJWYXJpYWJsZXMsIHBheWxvYWQpO1xuXG4gICAgICAgIGRpc3BhdGNoVmFyaWFibGVzQ2hhbmdlZChcbiAgICAgICAgICBtYXAyKGNoYW5nZWRFdmVudERhdGEsIChbLCBjdXJyZW50LCBwcmV2aW91cywga2V5XSkgPT4gW1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHByZXZpb3VzLFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIHRhYlZhcmlhYmxlcyxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInRhYlwiKSB7XG4gICAgICAgIHNldDIoc3RhdGUua25vd25UYWJzLCBzZW5kZXIsIHBheWxvYWQpO1xuICAgICAgICBwYXlsb2FkICYmIGRpc3BhdGNoU3RhdGUoXCJ0YWJcIiwgcGF5bG9hZCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gQWRkIGEgc2hvcnQgZGVsYXkgdG8gYWxsb3cgb3RoZXIgdGFicyB0byBzaGFyZSB0aGVpciBpbmZvcm1hdGlvbiAoaWYgYW55KS5cbiAgY29uc3QgaW5pdFRpbWVvdXQgPSBjbG9jaygoKSA9PiBkaXNwYXRjaFN0YXRlKFwicmVhZHlcIiwgc3RhdGUsIHRydWUpLCAtMjUpO1xuXG4gIGNvbnN0IGhlYXJ0YmVhdCA9IGNsb2NrKHtcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgY29uc3QgdGltZW91dCA9IG5vdygpIC0gSEVBUlRCRUFUX0ZSRVFVRU5DWSAqIDI7XG4gICAgICBmb3JFYWNoMihcbiAgICAgICAgc3RhdGUua25vd25UYWJzLFxuICAgICAgICAvLyBSZW1vdmUgdGFicyB0aGF0IG5vIGxvbmdlciByZXNwb25kcyAocHJlc3VtYWJseSBjbG9zZWQgYnV0IG1heSBhbHNvIGhhdmUgYmVlbiBmcm96ZW4pLlxuICAgICAgICAoW3RhYklkLCB0YWJTdGF0ZV0pID0+XG4gICAgICAgICAgdGFiU3RhdGVbMF0gPCB0aW1lb3V0ICYmIHNldDIoc3RhdGUua25vd25UYWJzLCB0YWJJZCwgdW5kZWZpbmVkKVxuICAgICAgKTtcbiAgICAgIHRhYlN0YXRlLmhlYXJ0YmVhdCA9IG5vdygpO1xuICAgICAgcG9zdCh7IHR5cGU6IFwidGFiXCIsIHBheWxvYWQ6IHRhYlN0YXRlIH0pO1xuICAgIH0sXG4gICAgZnJlcXVlbmN5OiBIRUFSVEJFQVRfRlJFUVVFTkNZLFxuICAgIHBhdXNlZDogdHJ1ZSxcbiAgfSk7XG5cbiAgY29uc3QgdG9nZ2xlVGFiID0gKGxvYWRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBwb3N0KHsgdHlwZTogXCJ0YWJcIiwgcGF5bG9hZDogbG9hZGluZyA/IHRhYlN0YXRlIDogdW5kZWZpbmVkIH0pO1xuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICBpbml0VGltZW91dC5yZXN0YXJ0KCk7XG4gICAgICBwb3N0KHsgdHlwZTogXCJxdWVyeVwiIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0VGltZW91dC50b2dnbGUoZmFsc2UpO1xuICAgIH1cbiAgICBoZWFydGJlYXQudG9nZ2xlKGxvYWRpbmcpO1xuICB9O1xuXG4gIGFkZFBhZ2VMb2FkZWRMaXN0ZW5lcigobG9hZGVkKSA9PiB0b2dnbGVUYWIobG9hZGVkKSwgdHJ1ZSk7XG59LCB0cnVlKTtcbmV4cG9ydCB7IGFkZFN0YXRlTGlzdGVuZXIgfTtcbiIsImltcG9ydCB7XG4gIFByZXR0aWZ5SW50ZXJzZWN0aW9uLFxuICBjcmVhdGVFdmVudCxcbiAgZGVsYXksXG4gIGZvckVhY2hBc3luYyxcbiAgaXNGdW5jdGlvbixcbiAgc3RvcCxcbiAgdGhyb3dFcnJvcixcbiAgdW5kZWZpbmVkLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBSRVFVRVNUX0xPQ0tfS0VZLFxuICBVU0VfRU5DUllQVElPTixcbiAgaHR0cERlY3J5cHQsXG4gIGh0dHBFbmNyeXB0LFxuICBzaGFyZWRMb2NrLFxufSBmcm9tIFwiLlwiO1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0T3B0aW9uczxCZWFjb24gZXh0ZW5kcyBib29sZWFuID0gZmFsc2U+ID1cbiAgUHJldHRpZnlJbnRlcnNlY3Rpb248XG4gICAge1xuICAgICAgZW5jcnlwdD86IGJvb2xlYW47XG4gICAgfSAmIChCZWFjb24gZXh0ZW5kcyB0cnVlID8geyBiZWFjb246IHRydWUgfSA6IHsgYmVhY29uPzogZmFsc2UgfSlcbiAgPjtcblxuY29uc3QgW2FkZFJlcXVlc3RIYW5kbGVyLCBkaXNwYXRjaFJlcXVlc3RdID1cbiAgY3JlYXRlRXZlbnQ8XG4gICAgW3VybDogc3RyaW5nLCBkYXRhOiBhbnksIHJldHJ5OiBudW1iZXIsIHVwZGF0ZTogKGRhdGE6IGFueSkgPT4gdm9pZF1cbiAgPigpO1xuY29uc3QgW2FkZFJlc3BvbnNlSGFuZGxlciwgZGlzcGF0Y2hSZXNwb25zZV0gPSBjcmVhdGVFdmVudDxbcmVzcG9uc2U6IGFueV0+KCk7XG5leHBvcnQgeyBhZGRSZXF1ZXN0SGFuZGxlciwgYWRkUmVzcG9uc2VIYW5kbGVyIH07XG5cbmNvbnN0IHJlcXVlc3RMb2NrID0gc2hhcmVkTG9jayhSRVFVRVNUX0xPQ0tfS0VZKTtcblxuLyoqXG4gKiBJZiBhIGZ1bmN0aW9uLCB0aGlzIGlzIHJ1biBiZWZvcmUgYSByZXF1ZXN0IGlzIG1hZGUgKGluY2x1ZGluZyByZXRyaWVzKS4gSXQgaXMgcnVuIHdpdGhpbiB0aGUgbG9jaywgYW5kIGFsbG93cyB0aGUgcmVxdWVzdGVkIGRhdGEgdG8gYmUgbW9kaWZpZWQuXG4gKiBJZiBpdCByZXR1cm5zIGZhbHNlLCB0aGUgcmVxdWVzdCBpcyBhYm9ydGVkIGFuZCBpZiBpdCByZXR1cm5zIGB1bmRlZmluZWRgIG9yIGB0cnVlYCB0aGUgZXhpc3RpbmcgZGF0YSBpcyB1c2VkLlxuICovXG50eXBlIFJlcXVlc3REYXRhPFQ+ID1cbiAgfCBUXG4gIHwgKChkYXRhOiBUIHwgdW5kZWZpbmVkLCByZXRyeTogbnVtYmVyKSA9PiBUIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0OiB7XG4gIDxEYXRhID0gYW55LCBSZXNwb25zZSA9IGFueT4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogUmVxdWVzdERhdGE8RGF0YT4sXG4gICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zPGZhbHNlPlxuICApOiBQcm9taXNlPFJlc3BvbnNlPjtcbiAgPERhdGEgPSBhbnk+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE6IFJlcXVlc3REYXRhPERhdGE+LFxuICAgIG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zPHRydWU+XG4gICk6IHZvaWQ7XG59ID0gYXN5bmMgKFxuICB1cmw6IHN0cmluZyxcbiAgZGF0YTogYW55LFxuICB7IGJlYWNvbiA9IGZhbHNlLCBlbmNyeXB0ID0gdHJ1ZSB9OiBSZXF1ZXN0T3B0aW9uczxib29sZWFuPiA9IHt9XG4pID0+IHtcbiAgZW5jcnlwdCA9IGVuY3J5cHQgJiYgVVNFX0VOQ1JZUFRJT047XG4gIGxldCBjYW5jZWwgPSBmYWxzZTtcbiAgbGV0IGN1cnJlbnREYXRhOiBhbnk7XG4gIGxldCBzZXJpYWxpemVkOiBhbnk7XG5cbiAgY29uc3QgcHJlcGFyZVJlcXVlc3REYXRhID0gKHJldHJ5OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gaXNGdW5jdGlvbihkYXRhKSA/IGRhdGE/LihjdXJyZW50RGF0YSwgcmV0cnkpIDogZGF0YTtcbiAgICBpZiAocHJlcGFyZVJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcmVwYXJlUmVzdWx0ICE9IG51bGwgJiZcbiAgICAgIHByZXBhcmVSZXN1bHQgIT09IHRydWUgJiZcbiAgICAgIChjdXJyZW50RGF0YSA9IHByZXBhcmVSZXN1bHQpO1xuXG4gICAgZGlzcGF0Y2hSZXF1ZXN0KFxuICAgICAgdXJsLFxuICAgICAgY3VycmVudERhdGEsXG4gICAgICByZXRyeSxcbiAgICAgIChuZXdEYXRhKSA9PiAoXG4gICAgICAgIChjYW5jZWwgPSBjdXJyZW50RGF0YSA9PT0gdW5kZWZpbmVkKSwgKGN1cnJlbnREYXRhID0gbmV3RGF0YSlcbiAgICAgIClcbiAgICApO1xuXG4gICAgcmV0dXJuIGNhbmNlbFxuICAgICAgPyBmYWxzZVxuICAgICAgOiAoc2VyaWFsaXplZCA9IGVuY3J5cHRcbiAgICAgICAgICA/IGh0dHBFbmNyeXB0KGN1cnJlbnREYXRhLCB0cnVlKVxuICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoY3VycmVudERhdGEpKTtcbiAgfTtcblxuICBpZiAoYmVhY29uKSB7XG4gICAgaWYgKCFwcmVwYXJlUmVxdWVzdERhdGEoMCkpIHJldHVybjtcbiAgICAhbmF2aWdhdG9yLnNlbmRCZWFjb24oXG4gICAgICB1cmwsXG4gICAgICBuZXcgQmxvYihjdXJyZW50RGF0YSAhPSBudWxsID8gW3NlcmlhbGl6ZWRdIDogW10sIHtcbiAgICAgICAgLy8gVGhpcyBjb250ZW50IHR5cGUgYXZvaWRzIHRoZSBvdmVyaGVhZCBvZiB0aGUgXCJwcmVmbGlnaHRcIiByZXF1ZXN0IHRoYXQgaXMgb3RoZXJ3aXNlIG1hZGUgYnkgYnJvd3NlcnMgaW4gY3Jvc3MtZG9tYWluIHNjZW5hcmlvcy5cbiAgICAgICAgLy8gKGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBjb3VsZCBhbHNvIHdvcmspLlxuICAgICAgICB0eXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9aXNvLTg4NTktMVwiLFxuICAgICAgfSlcbiAgICApICYmIHRocm93RXJyb3IoXCJCZWFjb24gc2VuZCBmYWlsZWQuXCIpO1xuICB9IGVsc2Uge1xuICAgIGxldCByZXRyaWVzID0gMTtcbiAgICByZXR1cm4gYXdhaXQgcmVxdWVzdExvY2soKCkgPT5cbiAgICAgIGZvckVhY2hBc3luYygxLCBhc3luYyAocmV0cnkpID0+IHtcbiAgICAgICAgaWYgKCFwcmVwYXJlUmVxdWVzdERhdGEocmV0cnkpKSByZXR1cm4gc3RvcCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiBjdXJyZW50RGF0YSAhPSBudWxsID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgICAgICAgIGNhY2hlOiBcIm5vLWNhY2hlXCIsXG4gICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxuICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9wbGFpbjsgY2hhcnNldD1pc28tODg1OS0xXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBzZXJpYWxpemVkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCkge1xuICAgICAgICAgIHJldHVybiByZXRyeSA9PT0gcmV0cmllcyAtIDFcbiAgICAgICAgICAgID8gc3RvcCh0aHJvd0Vycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke2F3YWl0IHJlc3BvbnNlLnRleHQoKX1gKSlcbiAgICAgICAgICAgIDogKGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBgUmVxdWVzdCB0byAke3VybH0gZmFpbGVkIG9uIGF0dGVtcHQgJHtyZXRyeSArIDF9LyR7M30uYFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhd2FpdCBkZWxheSgoMSArIHJldHJ5KSAqIDIwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9keSA9IGVuY3J5cHRcbiAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgOiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cbiAgICAgICAgY29uc3QgcGFyc2VkID0gYm9keT8ubGVuZ3RoXG4gICAgICAgICAgPyAoZW5jcnlwdCA/IGh0dHBEZWNyeXB0IDogSlNPTi5wYXJzZSk/Lihib2R5IGFzIGFueSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAocGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgICBkaXNwYXRjaFJlc3BvbnNlKHBhcnNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0b3AocGFyc2VkKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIGRlbGF5LFxuICBub3csXG4gIHByb21pc2UsXG4gIHJhY2UsXG4gIHRocm93RXJyb3IsXG4gIHRyeUNhdGNoQXN5bmMsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFRBQl9JRCxcbiAgaHR0cERlY29kZSxcbiAgaHR0cERlY3J5cHQsXG4gIGh0dHBFbmNvZGUsXG4gIGh0dHBFbmNyeXB0LFxuICBsaXN0ZW4sXG59IGZyb20gXCIuXCI7XG5cbi8qKlxuICogIEEgbG9jayB0aGF0IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0YWJzLlxuICogSXQgd291bGQgc2VlbSB0ZW1wdGluZyB0byB1c2UgdGhlIGJyb3dzZXIncyBuYXRpdmUgTG9ja01hbmFnZXIsIHlldCB0aGF0IGRpc2FibGVzIGJmX2NhY2hlLCBzbyB3ZSBkb24ndC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNoYXJlZExvY2sgPSAoXG4gIGxvY2tJZDogc3RyaW5nLFxuICB7IHRpbWVvdXQgPSAxMDAwLCBlbmNyeXB0ID0gdHJ1ZSwgcmV0cmllczogZGVmYXVsdFJldHJpZXMgPSAxMCB9ID0ge31cbik6ICg8UiwgVE8gZXh0ZW5kcyBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ+KFxuICBhY3Rpb246ICgpID0+IFByb21pc2VMaWtlPFI+LFxuICB0aW1lb3V0PzogVE8sXG4gIHJldHJpZXM/OiBudW1iZXJcbikgPT4gUHJvbWlzZTxUTyBleHRlbmRzIG51bWJlciA/IHVuZGVmaW5lZCB8IFIgOiBSPikgPT4ge1xuICB0eXBlIExvY2tTdGF0ZSA9IFtvd25lcjogc3RyaW5nLCBleHBpcmVzOiBudW1iZXJdO1xuICBjb25zdCBnZXQgPSAoKSA9PlxuICAgIChlbmNyeXB0ID8gaHR0cERlY3J5cHQ8TG9ja1N0YXRlPiA6IGh0dHBEZWNvZGU8TG9ja1N0YXRlPikoXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NrSWQpXG4gICAgKTtcblxuICBsZXQgaW50ZXJ2YWxJZDogYW55ID0gMDtcbiAgY29uc3QgcmVuZXcgPSAoKSA9PlxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgbG9ja0lkLFxuICAgICAgKGVuY3J5cHQgPyBodHRwRW5jcnlwdCA6IGh0dHBFbmNvZGUpKFtUQUJfSUQsIG5vdygpICsgdGltZW91dF0pXG4gICAgKTtcblxuICByZXR1cm4gKGFzeW5jIChcbiAgICBhY3Rpb246IGFueSxcbiAgICBsb2NhbFRpbWVvdXQ/OiBudW1iZXIsXG4gICAgcmV0cmllcyA9IGxvY2FsVGltZW91dCAhPSBudWxsID8gMSA6IGRlZmF1bHRSZXRyaWVzXG4gICkgPT4ge1xuICAgIHdoaWxlIChyZXRyaWVzLS0pIHtcbiAgICAgIGxldCBjdXJyZW50ID0gZ2V0KCk7XG4gICAgICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudFsxXSA8IG5vdygpKSB7XG4gICAgICAgIHJlbmV3KCk7XG4gICAgICAgIGlmIChnZXQoKT8uWzBdID09PSBUQUJfSUQpIHtcbiAgICAgICAgICAvLyBLZWVwIGxvY2sgYWxpdmUgd2hpbGUgdGhlIGFjdGlvbiBleGVjdXRlcy5cbiAgICAgICAgICB0aW1lb3V0ID4gMCAmJiAoaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHJlbmV3KCksIHRpbWVvdXQgLyAyKSk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRyeUNhdGNoQXN5bmMoYWN0aW9uLCB0cnVlLCAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9ja0lkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHdhaXRIYW5kbGUgPSBwcm9taXNlKCk7XG4gICAgICBjb25zdCBbdW5iaW5kXSA9IGxpc3Rlbih3aW5kb3csIFwic3RvcmFnZVwiLCAoZXYpID0+IHtcbiAgICAgICAgaWYgKGV2LmtleSA9PT0gbG9ja0lkICYmICFldi5uZXdWYWx1ZSkge1xuICAgICAgICAgIHdhaXRIYW5kbGUucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHJhY2UoZGVsYXkobG9jYWxUaW1lb3V0ID8/IHRpbWVvdXQpLCB3YWl0SGFuZGxlKTtcbiAgICAgIHVuYmluZCgpO1xuICAgIH1cbiAgICBsb2NhbFRpbWVvdXQgPT0gbnVsbCAmJiB0aHJvd0Vycm9yKGxvY2tJZCArIFwiIGNvdWxkIG5vdCBiZSBhY3F1aXJlZC5cIik7XG4gIH0pIGFzIGFueTtcbn07XG4iLCJpbXBvcnQge1xuICBleHRyYWN0S2V5LFxuICBpc1N1Y2Nlc3NSZXN1bHQsXG4gIGlzVmFyaWFibGVSZXN1bHQsXG4gIFBvc3RSZXF1ZXN0LFxuICBQb3N0UmVzcG9uc2UsXG4gIHRvVmFyaWFibGVSZXN1bHRQcm9taXNlLFxuICBWYXJpYWJsZUdldFJlcXVlc3QsXG4gIFZhcmlhYmxlR2V0dGVyLFxuICBWYXJpYWJsZUtleSxcbiAgVmFyaWFibGVPcGVyYXRpb25QYXJhbWV0ZXIsXG4gIFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0LFxuICBWYXJpYWJsZVJlc3VsdFN0YXR1cyxcbiAgVmFyaWFibGVTZXR0ZXIsXG4gIFZhcmlhYmxlVmFsdWVTZXR0ZXIsXG4gIFdpdGhDYWxsYmFja3MsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBjbG9jayxcbiAgY29uY2F0MixcbiAgZm9yRWFjaDIsXG4gIGdldDIsXG4gIGlzU3RyaW5nLFxuICBtYXAyLFxuICBub3csXG4gIE51bGxpc2gsXG4gIHBpY2syLFxuICBwdXNoMixcbiAgcmVtb3ZlLFxuICByZXF1aXJlZCxcbiAgc2tpcDIsXG4gIHNvbWUyLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBhZGRQYWdlTG9hZGVkTGlzdGVuZXIsXG4gIGFkZFJlc3BvbnNlSGFuZGxlcixcbiAgYWRkVmFyaWFibGVzQ2hhbmdlZExpc3RlbmVyLFxuICBsb2dFcnJvcixcbiAgcmVxdWVzdCxcbiAgU3RhdGVWYXJpYWJsZSxcbiAgU3RhdGVWYXJpYWJsZUVudHJ5LFxuICBUcmFja2VyQ29udGV4dCxcbiAgdHJ5R2V0VmFyaWFibGUsXG4gIHVwZGF0ZVZhcmlhYmxlU3RhdGUsXG4gIFZBUklBQkxFX0NBQ0hFX0RVUkFUSU9OLFxuICBWQVJJQUJMRV9QT0xMX0ZSRVFVRU5DWSxcbn0gZnJvbSBcIi5cIjtcbmltcG9ydCB7XG4gIENsaWVudFZhcmlhYmxlR2V0UmVzdWx0LFxuICBDbGllbnRWYXJpYWJsZUdldHRlcixcbiAgQ2xpZW50VmFyaWFibGVHZXR0ZXJDYWxsYmFjayxcbiAgQ2xpZW50VmFyaWFibGVLZXksXG4gIENsaWVudFZhcmlhYmxlU2V0UmVzdWx0LFxuICBDbGllbnRWYXJpYWJsZVNldHRlcixcbiAgaXNMb2NhbFNjb3BlS2V5LFxuICBtYXNrRW50aXR5SWQsXG4gIFJlc2VydmVkVHJhY2tlclZhcmlhYmxlcyxcbiAgc3RyaW5nVG9WYXJpYWJsZUtleSxcbiAgdmFyaWFibGVLZXlUb1N0cmluZyxcbn0gZnJvbSBcIi4uXCI7XG5cbmNvbnN0IEtFWV9QUk9QUzogKGtleW9mIFZhcmlhYmxlS2V5KVtdID0gW1wic2NvcGVcIiwgXCJrZXlcIiwgXCJlbnRpdHlJZFwiLCBcInNvdXJjZVwiXTtcbmNvbnN0IEdFVFRFUl9SRVFVRVNUX1BST1BTOiAoa2V5b2YgQ2xpZW50VmFyaWFibGVHZXR0ZXIpW10gPSBbXG4gIC4uLktFWV9QUk9QUyxcbiAgXCJwdXJwb3NlXCIsXG4gIFwiaWZNb2RpZmllZFNpbmNlXCIsXG4gIFwiaWZOb25lTWF0Y2hcIixcbiAgXCJwYXNzaXZlXCIsXG5dO1xuY29uc3QgU0VUVEVSX1JFUVVFU1RfUFJPUFM6IChrZXlvZiBWYXJpYWJsZVZhbHVlU2V0dGVyKVtdID0gW1xuICAuLi5LRVlfUFJPUFMsXG4gIFwidmFsdWVcIixcbiAgXCJmb3JjZVwiLFxuICBcInR0bFwiLFxuICBcInZlcnNpb25cIixcbl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tlclZhcmlhYmxlU3RvcmFnZSB7XG4gIGdldDxcbiAgICBHZXR0ZXJzIGV4dGVuZHMgVmFyaWFibGVPcGVyYXRpb25QYXJhbWV0ZXI8XG4gICAgICBcImdldFwiLFxuICAgICAgQ2xpZW50VmFyaWFibGVHZXR0ZXIgJiB7IGtleTogS2V5czsgc2NvcGU6IFNjb3BlcyB9XG4gICAgPixcbiAgICBLZXlzIGV4dGVuZHMgc3RyaW5nLFxuICAgIFNjb3BlcyBleHRlbmRzIHN0cmluZ1xuICA+KFxuICAgIGdldHRlcnM6IFdpdGhDYWxsYmFja3M8XCJnZXRcIiwgR2V0dGVycywgUmVzZXJ2ZWRUcmFja2VyVmFyaWFibGVzPlxuICApOiBWYXJpYWJsZU9wZXJhdGlvblJlc3VsdDxcbiAgICBcImdldFwiLFxuICAgIEdldHRlcnMsXG4gICAgQ2xpZW50VmFyaWFibGVLZXksXG4gICAgUmVzZXJ2ZWRUcmFja2VyVmFyaWFibGVzXG4gID47XG5cbiAgc2V0PFxuICAgIFNldHRlcnMgZXh0ZW5kcyBWYXJpYWJsZU9wZXJhdGlvblBhcmFtZXRlcjxcbiAgICAgIFwic2V0XCIsXG4gICAgICBDbGllbnRWYXJpYWJsZVNldHRlciAmIHsga2V5OiBLZXlzOyBzY29wZTogU2NvcGVzIH1cbiAgICA+LFxuICAgIEtleXMgZXh0ZW5kcyBzdHJpbmcsXG4gICAgU2NvcGVzIGV4dGVuZHMgc3RyaW5nXG4gID4oXG4gICAgc2V0dGVyczogV2l0aENhbGxiYWNrczxcInNldFwiLCBTZXR0ZXJzLCBSZXNlcnZlZFRyYWNrZXJWYXJpYWJsZXM+XG4gICk6IFZhcmlhYmxlT3BlcmF0aW9uUmVzdWx0PFxuICAgIFwic2V0XCIsXG4gICAgU2V0dGVycyxcbiAgICBDbGllbnRWYXJpYWJsZUtleSxcbiAgICBSZXNlcnZlZFRyYWNrZXJWYXJpYWJsZXNcbiAgPjtcbn1cbmNvbnN0IGNhbGxiYWNrU291cmNlU3ltYm9sID0gU3ltYm9sKCk7XG50eXBlIFJlZ2lzdGVyZWRDYWxsYmFjayA9IENsaWVudFZhcmlhYmxlR2V0dGVyQ2FsbGJhY2sgJiB7XG4gIFtjYWxsYmFja1NvdXJjZVN5bWJvbF06IENsaWVudFZhcmlhYmxlR2V0dGVyO1xufTtcbmNvbnN0IGFjdGl2ZUNhbGxiYWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8UmVnaXN0ZXJlZENhbGxiYWNrPj4oKTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZhcmlhYmxlU3RvcmFnZSA9IChcbiAgZW5kcG9pbnQ6IHN0cmluZyxcbiAgY29udGV4dD86IFRyYWNrZXJDb250ZXh0XG4pOiBUcmFja2VyVmFyaWFibGVTdG9yYWdlID0+IHtcbiAgY29uc3QgcG9sbFZhcmlhYmxlcyA9IGNsb2NrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBnZXR0ZXJzOiBDbGllbnRWYXJpYWJsZUdldHRlcltdID0gbWFwMihcbiAgICAgIGFjdGl2ZUNhbGxiYWNrcyxcbiAgICAgIChba2V5LCBjYWxsYmFja3NdKSA9PlxuICAgICAgICAvLyBPbmx5IHJlcXVlc3QgdGhlIHZhcmlhYmxlIGlmIG9uZSBvciBtb3JlIGNhbGxiYWNrcyBvcmlnaW5hbGx5IHJlcXVlc3RlZCB0aGUgdmFyaWFibGUgdG8gYmUgcmVmcmVzaGVkLlxuICAgICAgICBzb21lMihjYWxsYmFja3MsIChjYWxsYmFjaykgPT4gY2FsbGJhY2tbY2FsbGJhY2tTb3VyY2VTeW1ib2xdPy5yZWZyZXNoKVxuICAgICAgICAgID8gKHtcbiAgICAgICAgICAgICAgLi4uc3RyaW5nVG9WYXJpYWJsZUtleShrZXkpLFxuICAgICAgICAgICAgICByZWZyZXNoOiB0cnVlLFxuICAgICAgICAgICAgfSBzYXRpc2ZpZXMgQ2xpZW50VmFyaWFibGVHZXR0ZXIpXG4gICAgICAgICAgOiBza2lwMlxuICAgICk7XG5cbiAgICBnZXR0ZXJzLmxlbmd0aCAmJiAoYXdhaXQgdmFycy5nZXQoZ2V0dGVycykpO1xuICB9LCBWQVJJQUJMRV9QT0xMX0ZSRVFVRU5DWSk7XG5cbiAgY29uc3QgcmVnaXN0ZXJDYWxsYmFjayA9IChcbiAgICBtYXBwZWRLZXk6IHN0cmluZyxcbiAgICBjYWxsYmFjazogUmVnaXN0ZXJlZENhbGxiYWNrIHwgdW5kZWZpbmVkXG4gICkgPT5cbiAgICBjYWxsYmFjayAmJlxuICAgICEhZ2V0MihhY3RpdmVDYWxsYmFja3MsIG1hcHBlZEtleSwgKCkgPT4gbmV3IFNldCgpKS5hZGQoY2FsbGJhY2spO1xuXG4gIGNvbnN0IGludm9rZUNhbGxiYWNrcyA9IChyZXN1bHQ6IENsaWVudFZhcmlhYmxlR2V0UmVzdWx0KSA9PiB7XG4gICAgaWYgKCFyZXN1bHQpIHJldHVybjtcblxuICAgIGNvbnN0IGtleSA9IHZhcmlhYmxlS2V5VG9TdHJpbmcocmVzdWx0KTtcbiAgICBjb25zdCBjYWxsYmFja3MgPSByZW1vdmUoYWN0aXZlQ2FsbGJhY2tzLCBrZXkpO1xuICAgIGlmICghY2FsbGJhY2tzPy5zaXplKSByZXR1cm47XG5cbiAgICBmb3JFYWNoMihcbiAgICAgIGNhbGxiYWNrcyxcbiAgICAgIChjYWxsYmFjaykgPT4gY2FsbGJhY2socmVzdWx0KSA9PT0gdHJ1ZSAmJiByZWdpc3RlckNhbGxiYWNrKGtleSwgY2FsbGJhY2spXG4gICAgKTtcbiAgfTtcblxuICBhZGRQYWdlTG9hZGVkTGlzdGVuZXIoXG4gICAgKGxvYWRlZCwgc3RhdGVEdXJhdGlvbikgPT5cbiAgICAgIHBvbGxWYXJpYWJsZXMudG9nZ2xlKFxuICAgICAgICBsb2FkZWQsXG4gICAgICAgIGxvYWRlZCAmJiBzdGF0ZUR1cmF0aW9uID49IFZBUklBQkxFX1BPTExfRlJFUVVFTkNZXG4gICAgICApLFxuICAgIHRydWVcbiAgKTtcblxuICBhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIoKGNoYW5nZXMpID0+XG4gICAgZm9yRWFjaDIoY2hhbmdlcywgKFtrZXksIGN1cnJlbnRdKSA9PiB7XG4gICAgICBpZiAoY3VycmVudD8ucGFzc2l2ZSkge1xuICAgICAgICBkZWxldGUgY3VycmVudC5wYXNzaXZlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFja3MoXG4gICAgICAgIGN1cnJlbnRcbiAgICAgICAgICA/IHsgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5TdWNjZXNzLCAuLi5jdXJyZW50IH1cbiAgICAgICAgICA6IHsgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZCwgLi4ua2V5IH1cbiAgICAgICk7XG4gICAgfSlcbiAgKTtcblxuICBjb25zdCB2YXJzOiBUcmFja2VyVmFyaWFibGVTdG9yYWdlID0ge1xuICAgIGdldDogKChnZXR0ZXJzOiBDbGllbnRWYXJpYWJsZUdldHRlcltdKSA9PlxuICAgICAgdG9WYXJpYWJsZVJlc3VsdFByb21pc2UoXG4gICAgICAgIFwiZ2V0XCIsXG4gICAgICAgIGdldHRlcnMsXG4gICAgICAgIGFzeW5jIChnZXR0ZXJzOiBDbGllbnRWYXJpYWJsZUdldHRlcltdKSA9PiB7XG4gICAgICAgICAgbGV0IGtleTogc3RyaW5nIHwgTnVsbGlzaDtcbiAgICAgICAgICBpZiAoIWdldHRlcnNbMF0gfHwgaXNTdHJpbmcoZ2V0dGVyc1swXSkpIHtcbiAgICAgICAgICAgIGtleSA9IGdldHRlcnNbMF07XG4gICAgICAgICAgICBnZXR0ZXJzID0gZ2V0dGVycy5zbGljZSgxKSBhcyBhbnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHQ/LnZhbGlkYXRlS2V5KGtleSk7XG5cbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gbmV3IE1hcDxcbiAgICAgICAgICAgIENsaWVudFZhcmlhYmxlR2V0dGVyLFxuICAgICAgICAgICAgQ2xpZW50VmFyaWFibGVHZXRSZXN1bHRcbiAgICAgICAgICA+KCk7XG5cbiAgICAgICAgICBjb25zdCBuZXdMb2NhbDogU3RhdGVWYXJpYWJsZUVudHJ5W10gPSBbXTtcblxuICAgICAgICAgIGNvbnN0IHJlcXVlc3RHZXR0ZXJzOiBbXG4gICAgICAgICAgICByZXF1ZXN0OiBWYXJpYWJsZUdldFJlcXVlc3QsXG4gICAgICAgICAgICBzb3VyY2U6IENsaWVudFZhcmlhYmxlR2V0dGVyXG4gICAgICAgICAgXVtdID0gbWFwMihnZXR0ZXJzLCAoZ2V0dGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2YXJpYWJsZUtleVRvU3RyaW5nKGdldHRlcik7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdHJ5R2V0VmFyaWFibGUoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHB1cnBvc2UgPSBnZXR0ZXIucHVycG9zZTtcbiAgICAgICAgICAgIGlmIChwdXJwb3NlICYmIGN1cnJlbnQ/LnNjaGVtYT8udXNhZ2UucHVycG9zZXNbcHVycG9zZV0gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5zZXQoZ2V0dGVyLCB7XG4gICAgICAgICAgICAgICAgLi4uZ2V0dGVyLFxuICAgICAgICAgICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuRm9yYmlkZGVuLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgTm8gY29uc2VudCBmb3IgJyR7cHVycG9zZX0nLmAsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZ2V0dGVyLnJlZnJlc2ggJiYgY3VycmVudCkge1xuICAgICAgICAgICAgICByZXN1bHRzLnNldChnZXR0ZXIsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgLi4uY3VycmVudCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTG9jYWxTY29wZUtleShnZXR0ZXIpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyLmluaXQ/LigpO1xuXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsOiBTdGF0ZVZhcmlhYmxlID0ge1xuICAgICAgICAgICAgICAgICAgLi4uZXh0cmFjdEtleShnZXR0ZXIpLFxuICAgICAgICAgICAgICAgICAgdmVyc2lvbjogXCIxXCIsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBtb2RpZmllZDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgY2FjaGU6IFt0aW1lc3RhbXAsIGdldHRlci50dGwgPz8gY3VycmVudD8udHRsXSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHVzaDIobmV3TG9jYWwsIFtleHRyYWN0S2V5KGxvY2FsKSwgbG9jYWxdKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnNldChnZXR0ZXIsIHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgIC4uLmxvY2FsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMuc2V0KGdldHRlciwge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZCxcbiAgICAgICAgICAgICAgICAgIC4uLmV4dHJhY3RLZXkoZ2V0dGVyKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBwaWNrMihnZXR0ZXIsIEdFVFRFUl9SRVFVRVNUX1BST1BTKSBhcyBWYXJpYWJsZUdldFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgZ2V0dGVyLFxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNraXAyO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbm93KCk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPVxuICAgICAgICAgICAgKHJlcXVlc3RHZXR0ZXJzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVxdWVzdDxQb3N0UmVxdWVzdCwgUG9zdFJlc3BvbnNlPihlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogbWFwMihyZXF1ZXN0R2V0dGVycywgKFtnZXR0ZXJdKSA9PiBnZXR0ZXIpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZDogY29udGV4dD8uZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk/LnZhcmlhYmxlcz8uZ2V0KSB8fFxuICAgICAgICAgICAgW107XG5cbiAgICAgICAgICBjb25zdCBpbml0U2V0dGVyczogW1xuICAgICAgICAgICAgc291cmNlOiBDbGllbnRWYXJpYWJsZUdldHRlcixcbiAgICAgICAgICAgIHNldHRlcjogQ2xpZW50VmFyaWFibGVTZXR0ZXJcbiAgICAgICAgICBdW10gPSBbXTtcbiAgICAgICAgICBmb3JFYWNoMihyZXNwb25zZSwgKHJlc3VsdCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdD8uc3RhdHVzID09PSBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZCkge1xuICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSByZXF1ZXN0R2V0dGVyc1tpXVsxXTtcbiAgICAgICAgICAgICAgY29uc3QgaW5pdFZhbHVlID0gZ2V0dGVyLmluaXQ/LigpO1xuICAgICAgICAgICAgICBpZiAoaW5pdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbml0U2V0dGVycy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgIGdldHRlcixcbiAgICAgICAgICAgICAgICAgIHsgLi4uZXh0cmFjdEtleShnZXR0ZXIpLCB2YWx1ZTogaW5pdFZhbHVlIH0sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMuc2V0KHJlcXVlc3RHZXR0ZXJzW2ldWzFdLCBtYXNrRW50aXR5SWQocmVzdWx0ISkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGluaXRTZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yRWFjaDIoXG4gICAgICAgICAgICAgIGF3YWl0IHZhcnMuc2V0KG1hcDIoaW5pdFNldHRlcnMsIChbLCBzZXR0ZXJdKSA9PiBzZXR0ZXIpKS5hbGwoKSxcbiAgICAgICAgICAgICAgKHJlc3VsdCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzLnNldChcbiAgICAgICAgICAgICAgICAgIGluaXRTZXR0ZXJzW2ldWzBdLFxuICAgICAgICAgICAgICAgICAgbWFza0VudGl0eUlkKFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzID09PSBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Db25mbGljdFxuICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdC5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IC4uLnJlc3VsdCwgc3RhdHVzOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5Ob3RGb3VuZCB9XG4gICAgICAgICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZXdMb2NhbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBmaXJzdCBiZWZvcmUgaW52b2tpbmcgZ2V0dGVyIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIC8vIHNpbmNlIHBvbGxpbmcgY2FsbGJhY2tzIG9ubHkgZ2V0IHN1Y2Nlc3Mgb3Igbm90IGZvdW5kIHJlc3VsdHMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGFjdHVhbCByZXN1bHQgbXVzdCBiZSB1c2VkIGZvciB0aGUgY2FsbGJhY2sgZmlyc3QgdGltZSBpdCBpcyBjYWxsZWQuXG4gICAgICAgICAgICB1cGRhdGVWYXJpYWJsZVN0YXRlKG5ld0xvY2FsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGw6IChzb3VyY2U6IFZhcmlhYmxlR2V0dGVyLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2tbY2FsbGJhY2tTb3VyY2VTeW1ib2xdID0gc291cmNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyQ2FsbGJhY2soXG4gICAgICAgICAgICAgIHZhcmlhYmxlS2V5VG9TdHJpbmcoc291cmNlIGFzIGFueSksXG4gICAgICAgICAgICAgIGNhbGxiYWNrIGFzIGFueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvZ0NhbGxiYWNrRXJyb3I6IChtZXNzYWdlLCBvcGVyYXRpb24sIGVycm9yKSA9PlxuICAgICAgICAgICAgbG9nRXJyb3IoXCJWYXJpYWJsZXMuZ2V0XCIsIG1lc3NhZ2UsIHsgb3BlcmF0aW9uLCBlcnJvciB9KSxcbiAgICAgICAgfVxuICAgICAgKSkgYXMgYW55LFxuXG4gICAgc2V0OiAoKHNldHRlcnM6IENsaWVudFZhcmlhYmxlU2V0dGVyW10pID0+XG4gICAgICB0b1ZhcmlhYmxlUmVzdWx0UHJvbWlzZShcbiAgICAgICAgXCJzZXRcIixcbiAgICAgICAgc2V0dGVycyxcbiAgICAgICAgYXN5bmMgKHNldHRlcnM6IENsaWVudFZhcmlhYmxlU2V0dGVyW10pID0+IHtcbiAgICAgICAgICBsZXQga2V5OiBzdHJpbmcgfCBOdWxsaXNoO1xuICAgICAgICAgIGlmICghc2V0dGVyc1swXSB8fCBpc1N0cmluZyhzZXR0ZXJzWzBdKSkge1xuICAgICAgICAgICAga2V5ID0gc2V0dGVyc1swXTtcbiAgICAgICAgICAgIHNldHRlcnMgPSBzZXR0ZXJzLnNsaWNlKDEpIGFzIGFueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGV4dD8udmFsaWRhdGVLZXkoa2V5KTtcblxuICAgICAgICAgIGNvbnN0IGxvY2FsUmVzdWx0czogU3RhdGVWYXJpYWJsZUVudHJ5W10gPSBbXTtcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gbmV3IE1hcDxcbiAgICAgICAgICAgIENsaWVudFZhcmlhYmxlU2V0dGVyLFxuICAgICAgICAgICAgQ2xpZW50VmFyaWFibGVTZXRSZXN1bHRcbiAgICAgICAgICA+KCk7XG5cbiAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBub3coKTtcblxuICAgICAgICAgIGxldCBwZW5kaW5nUGF0Y2hlczogQ2xpZW50VmFyaWFibGVTZXR0ZXJbXSA9IFtdO1xuXG4gICAgICAgICAgLy8gT25seSByZXF1ZXN0IG5vbi1udWxsIHNldHRlcnMsIGFuZCB1c2UgdGhlIG1vc3QgcmVjZW50IHZlcnNpb24gd2UgaGF2ZSBhbHJlYWR5IHJlYWQsIGlmIGFueS5cbiAgICAgICAgICBjb25zdCByZXF1ZXN0VmFyaWFibGVzID0gbWFwMihzZXR0ZXJzLCAoc2V0dGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2YXJpYWJsZUtleVRvU3RyaW5nKHNldHRlcik7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdHJ5R2V0VmFyaWFibGUoa2V5KTtcblxuICAgICAgICAgICAgaWYgKGlzTG9jYWxTY29wZUtleShzZXR0ZXIpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2V0dGVyLnBhdGNoXG4gICAgICAgICAgICAgICAgPyBzZXR0ZXIucGF0Y2goY3VycmVudD8udmFsdWUpXG4gICAgICAgICAgICAgICAgOiBzZXR0ZXIudmFsdWU7XG5cbiAgICAgICAgICAgICAgbGV0IGxvY2FsOiBTdGF0ZVZhcmlhYmxlIHwgdW5kZWZpbmVkID1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uZXh0cmFjdEtleShzZXR0ZXIpLFxuICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGN1cnJlbnQ/LmNyZWF0ZWQgPz8gdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogY3VycmVudD8udmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiICsgKHBhcnNlSW50KGN1cnJlbnQudmVyc2lvbikgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZTogc2V0dGVyLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgIGtleTogc2V0dGVyLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogW3RpbWVzdGFtcCwgc2V0dGVyLnR0bF0sXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWwuY2FjaGUgPSBbXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBzZXR0ZXIudHRsID8/IFZBUklBQkxFX0NBQ0hFX0RVUkFUSU9OLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXN1bHRzLnNldChcbiAgICAgICAgICAgICAgICBzZXR0ZXIsXG4gICAgICAgICAgICAgICAgIWxvY2FsXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFZhcmlhYmxlUmVzdWx0U3RhdHVzLlN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgLi4uZXh0cmFjdEtleShzZXR0ZXIpLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gVmFyaWFibGVSZXN1bHRTdGF0dXMuU3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBWYXJpYWJsZVJlc3VsdFN0YXR1cy5DcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICAgIC4uLmxvY2FsLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgcHVzaDIobG9jYWxSZXN1bHRzLCBbZXh0cmFjdEtleShzZXR0ZXIpLCBsb2NhbF0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBza2lwMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRlci5wYXRjaCkge1xuICAgICAgICAgICAgICBwZW5kaW5nUGF0Y2hlcy5wdXNoKHNldHRlcik7XG4gICAgICAgICAgICAgIHJldHVybiBza2lwMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRlcj8udmVyc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHNldHRlci52ZXJzaW9uID0gY3VycmVudD8udmVyc2lvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFtwaWNrMihzZXR0ZXIsIFNFVFRFUl9SRVFVRVNUX1BST1BTIGFzIGFueSksIHNldHRlcl07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICAgIHdoaWxlICghYXR0ZW1wdHMrKyB8fCBwZW5kaW5nUGF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCB2YXJzXG4gICAgICAgICAgICAgIC5nZXQobWFwMihwZW5kaW5nUGF0Y2hlcywgKHBhdGNoKSA9PiBleHRyYWN0S2V5KHBhdGNoKSkpXG4gICAgICAgICAgICAgIC5hbGwoKTtcbiAgICAgICAgICAgIGZvckVhY2gyKGN1cnJlbnQsIChyZXN1bHQsIGkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2V0dGVyID0gcGVuZGluZ1BhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzc1Jlc3VsdChyZXN1bHQsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIHB1c2gyKHJlcXVlc3RWYXJpYWJsZXMsIFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2V0dGVyLFxuICAgICAgICAgICAgICAgICAgICBwYXRjaDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGVuZGluZ1BhdGNoZXNbaV0ucGF0Y2ghKHJlc3VsdD8udmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiByZXN1bHQudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzZXR0ZXIsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5zZXQoc2V0dGVyLCByZXN1bHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBlbmRpbmdQYXRjaGVzID0gW107XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gIXJlcXVlc3RWYXJpYWJsZXMubGVuZ3RoXG4gICAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgICAgOiByZXF1aXJlZChcbiAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVxdWVzdDxQb3N0UmVxdWVzdCwgUG9zdFJlc3BvbnNlPihlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBtYXAyKHJlcXVlc3RWYXJpYWJsZXMsIChbc2V0dGVyXSkgPT4gc2V0dGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZDogY29udGV4dD8uZGV2aWNlU2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKS52YXJpYWJsZXM/LnNldCxcbiAgICAgICAgICAgICAgICAgIFwiTm8gcmVzdWx0LlwiXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yRWFjaDIocmVzcG9uc2UsIChyZXN1bHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IFssIHNldHRlcl0gPSByZXF1ZXN0VmFyaWFibGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGF0dGVtcHRzIDw9IDMgJiZcbiAgICAgICAgICAgICAgICBzZXR0ZXIucGF0Y2ggJiZcbiAgICAgICAgICAgICAgICAocmVzdWx0Py5zdGF0dXMgPT09IFZhcmlhYmxlUmVzdWx0U3RhdHVzLkNvbmZsaWN0IHx8XG4gICAgICAgICAgICAgICAgICByZXN1bHQ/LnN0YXR1cyA9PT0gVmFyaWFibGVSZXN1bHRTdGF0dXMuTm90Rm91bmQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHB1c2gyKHBlbmRpbmdQYXRjaGVzLCBzZXR0ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHRzLnNldChzZXR0ZXIsIG1hc2tFbnRpdHlJZChyZXN1bHQhKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobG9jYWxSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdXBkYXRlVmFyaWFibGVTdGF0ZShsb2NhbFJlc3VsdHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbG9nQ2FsbGJhY2tFcnJvcjogKG1lc3NhZ2UsIG9wZXJhdGlvbiwgZXJyb3IpID0+XG4gICAgICAgICAgICBsb2dFcnJvcihcIlZhcmlhYmxlcy5zZXRcIiwgbWVzc2FnZSwgeyBvcGVyYXRpb24sIGVycm9yIH0pLFxuICAgICAgICB9XG4gICAgICApKSBhcyBhbnksXG4gIH07XG5cbiAgYWRkUmVzcG9uc2VIYW5kbGVyKCh7IHZhcmlhYmxlcyB9OiBQb3N0UmVzcG9uc2UpID0+IHtcbiAgICBpZiAoIXZhcmlhYmxlcykgcmV0dXJuO1xuXG4gICAgY29uc3QgY2hhbmdlZCA9IGNvbmNhdDIoXG4gICAgICBtYXAyKHZhcmlhYmxlcy5nZXQsIChyZXN1bHQpID0+XG4gICAgICAgIGlzVmFyaWFibGVSZXN1bHQocmVzdWx0KSA/IHJlc3VsdCA6IHNraXAyXG4gICAgICApLFxuICAgICAgbWFwMih2YXJpYWJsZXMuc2V0LCAocmVzdWx0KSA9PlxuICAgICAgICBpc1N1Y2Nlc3NSZXN1bHQocmVzdWx0KSA/IHJlc3VsdCA6IHNraXAyXG4gICAgICApXG4gICAgKTtcblxuICAgIGNoYW5nZWQ/Lmxlbmd0aCAmJlxuICAgICAgdXBkYXRlVmFyaWFibGVTdGF0ZShcbiAgICAgICAgbWFwMihcbiAgICAgICAgICBjaGFuZ2VkLFxuICAgICAgICAgIChyZXN1bHQpID0+XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIGV4dHJhY3RLZXkocmVzdWx0KSxcbiAgICAgICAgICAgICAgaXNTdWNjZXNzUmVzdWx0KHJlc3VsdCkgPyByZXN1bHQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBdIGFzIGFueVxuICAgICAgICApXG4gICAgICApO1xuICB9KTtcblxuICByZXR1cm4gdmFycyBhcyBhbnk7XG59O1xuIiwiaW1wb3J0IHtcbiAgQ29uZmlndXJlZENvbXBvbmVudCxcbiAgSW1wcmVzc2lvbkV2ZW50LFxuICBJbXByZXNzaW9uUmVnaW9uU3RhdHMsXG4gIEltcHJlc3Npb25UZXh0U3RhdHMsXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGLFxuICBJbnRlcnZhbHMsXG4gIE5vT3BGdW5jdGlvbixcbiAgVCxcbiAgVGV4dFN0YXRzLFxuICBUaW1lcixcbiAgYXNzaWduLFxuICBjbG9jayxcbiAgY291bnQsXG4gIGNyZWF0ZUludGVydmFscyxcbiAgY3JlYXRlVGltZXIsXG4gIGZpbHRlcixcbiAgZm9yRWFjaDIsXG4gIGdldFRleHRTdGF0cyxcbiAgbWFwMixcbiAgcmVzdHJpY3QsXG4gIHNraXAyLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQge1xuICBkb2N1bWVudCxcbiAgZ2V0QWN0aXZlVGltZSxcbiAgZ2V0U2NyZWVuUG9zLFxuICBnZXRWaWV3cG9ydCxcbiAgdHJhY2tlckNvbmZpZyxcbiAgdHJhY2tlckZsYWcsXG59IGZyb20gXCIuXCI7XG5pbXBvcnQge1xuICBCb3VuZGFyeURhdGEsXG4gIFRyYWNrZXIsXG4gIGNyZWF0ZVZpZXdEdXJhdGlvblRpbWVyLFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbn0gZnJvbSBcIi4uXCI7XG5cbmNvbnN0IGludGVyc2VjdGlvbkhhbmRsZXIgPSBTeW1ib2woKTtcblxuY29uc3QgSU5URVJTRUNUSU9OX1BPTExfSU5URVJWQUwgPSAyNTA7XG5cbnR5cGUgSW1wcmVzc2lvblRocmVzaG9sZCA9IFtvd25SYXRpbzogbnVtYmVyLCB2aWV3cG9ydFJhdGlvOiBudW1iZXJdO1xuXG4vKiogVGhlIGFtb3VudCBvZiB0aGUgY29tcG9uZW50IHRoYXQgbXVzdCBiZSB2aXNpYmxlIGZvciB0aGUgaW1wcmVzc2lvbiB0byBjb3VudC4gKi9cbmNvbnN0IElNUFJFU1NJT05fU1RBUlQgPSBbMC43NSwgMC4zM107XG5cbi8qKiBUaGUgaW1wcmVzc2lvbiBzdG9wcyB3aGVuIG9ubHkgdGhpcyBhbW91bnQgb2YgdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlLiAqL1xuY29uc3QgSU1QUkVTU0lPTl9TVE9QID0gWzAuMjUsIDAuMzNdO1xuXG4vKiogVGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHRvdGFsIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvbnRhaW5lZCBpbiB0aGUgdG9wIHJlZ2lvbi4gKi9cbmNvbnN0IFRFWFRfUkVHSU9OX1RPUCA9IDAuMjU7XG5cbi8qIFRoZSBwZXJjZW50YWdlIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBiZWZvcmUgdGhlIGJvdHRvbSByZWdpb24uICovXG5jb25zdCBURVhUX1JFR0lPTl9CT1RUT00gPSAwLjc1O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSW1wcmVzc2lvbk9ic2VydmVyID0gKHRyYWNrZXI6IFRyYWNrZXIpID0+IHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgKGVscykgPT4gZm9yRWFjaDIoZWxzLCAoYXJncykgPT4gYXJncy50YXJnZXRbaW50ZXJzZWN0aW9uSGFuZGxlcl0/LihhcmdzKSlcbiAgICAvLyBMb3cgdGhyZXNob2xkcyB1c2VkIHRvIGJlIGFibGUgdG8gaGFuZGxlIGNvbXBvbmVudHMgbGFyZ2VyIHRoYW4gdmlldyBwb3J0cy5cbiAgKTtcblxuICBjb25zdCBjdXJyZW50SW50ZXJzZWN0aW9ucyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuICBjb25zdCBtb25pdG9yID0gY2xvY2soe1xuICAgIGNhbGxiYWNrOiAoKSA9PiBmb3JFYWNoMihjdXJyZW50SW50ZXJzZWN0aW9ucywgKGhhbmRsZXIpID0+IGhhbmRsZXIoKSksXG4gICAgZnJlcXVlbmN5OiBJTlRFUlNFQ1RJT05fUE9MTF9JTlRFUlZBTCxcbiAgICByYWY6IHRydWUsXG4gIH0pO1xuXG4gIGNvbnN0IGNvbnN0cmFpbiA9IChwb2ludDogbnVtYmVyLCBtYXg6IG51bWJlciwgbWluID0gMCkgPT5cbiAgICBwb2ludCA8IG1pbiA/IG1pbiA6IHBvaW50ID4gbWF4ID8gbWF4IDogcG9pbnQ7XG5cbiAgY29uc3QgcHJvYmVSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgcmV0dXJuIChlbDogRWxlbWVudCwgYm91bmRhcnlEYXRhOiBCb3VuZGFyeURhdGE8dHJ1ZT4gfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIWJvdW5kYXJ5RGF0YSkgcmV0dXJuO1xuXG4gICAgbGV0IGNvbXBvbmVudHM6IENvbmZpZ3VyZWRDb21wb25lbnRbXSB8IHVuZGVmaW5lZDtcbiAgICBpZiAoXG4gICAgICAoY29tcG9uZW50cyA9IGZpbHRlcihcbiAgICAgICAgYm91bmRhcnlEYXRhPy5jb21wb25lbnQsXG4gICAgICAgIChjbXApID0+XG4gICAgICAgICAgLy8gSW1wcmVzc2lvbiBzZXR0aW5ncyBmcm9tIHRoZSBET00vQ1NTIGFyZSBpZ25vcmVkIGZvciBzZWNvbmRhcnkgYW5kIGluZmVycmVkIGNvbXBvbmVudHMgKHBlcmZvcm1hbmNlIHRoaW5nKVxuICAgICAgICAgIGNtcCEudHJhY2s/LmltcHJlc3Npb25zIHx8XG4gICAgICAgICAgKGNtcC50cmFjaz8uc2Vjb25kYXJ5ID8/IGNtcC5pbmZlcnJlZCkgIT09IFRcbiAgICAgICkpXG4gICAgKSB7XG4gICAgICBpZiAoIWNvdW50KGNvbXBvbmVudHMpKSByZXR1cm47XG5cbiAgICAgIGxldCBhY3RpdmUgPSBGO1xuICAgICAgbGV0IHBlbmRpbmdBY3RpdmUgPSBGO1xuICAgICAgbGV0IGltcHJlc3Npb25zID0gMDtcbiAgICAgIGxldCB2aXNpYmxlUGVyY2VudGFnZSA9IDA7XG4gICAgICBsZXQgcmVnaW9uczpcbiAgICAgICAgfCBbXG4gICAgICAgICAgICBkYXRhOiBJbXByZXNzaW9uUmVnaW9uU3RhdHMsXG4gICAgICAgICAgICB0aW1lcjogVGltZXIsXG4gICAgICAgICAgICBwZW5kaW5nOiBib29sZWFuLFxuICAgICAgICAgICAgYWN0aXZlOiBib29sZWFuLFxuICAgICAgICAgICAgdG9wOiBudW1iZXIsXG4gICAgICAgICAgICBib3R0b206IG51bWJlcixcbiAgICAgICAgICAgIHJlYWRUaW1lOiBudW1iZXIsXG4gICAgICAgICAgICBpbnRlcnZhbHM6IEludGVydmFsc1xuICAgICAgICAgIF1bXVxuICAgICAgICB8IHVuZGVmaW5lZDtcblxuICAgICAgY29uc3QgdXBkYXRlUmVnaW9uID0gKFxuICAgICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgICB0b3A6IG51bWJlcixcbiAgICAgICAgYm90dG9tOiBudW1iZXIsXG4gICAgICAgIHJlYWRUaW1lOiBudW1iZXJcbiAgICAgICkgPT4ge1xuICAgICAgICBjb25zdCByZWdpb24gPSAoKHJlZ2lvbnMgPz89IFtdKVtpbmRleF0gPz89IFtcbiAgICAgICAgICB7IGR1cmF0aW9uOiAwLCBpbXByZXNzaW9uczogMCB9LFxuICAgICAgICAgIGNyZWF0ZVRpbWVyKGZhbHNlLCBnZXRBY3RpdmVUaW1lKSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBjcmVhdGVJbnRlcnZhbHMoKSxcbiAgICAgICAgXSk7XG4gICAgICAgIHJlZ2lvbls0XSA9IHRvcDtcbiAgICAgICAgcmVnaW9uWzVdID0gYm90dG9tO1xuICAgICAgICByZWdpb25bNl0gPSByZWFkVGltZTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHZpc2libGUgPSBbY3JlYXRlSW50ZXJ2YWxzKCksIGNyZWF0ZUludGVydmFscygpXTtcblxuICAgICAgY29uc3Qgdmlld0R1cmF0aW9uID0gY3JlYXRlVmlld0R1cmF0aW9uVGltZXIoZmFsc2UpO1xuICAgICAgY29uc3QgYWN0aXZlVGltZSA9IGNyZWF0ZVRpbWVyKGZhbHNlLCBnZXRBY3RpdmVUaW1lKTtcblxuICAgICAgbGV0IGltcHJlc3Npb25FdmVudHM6IEltcHJlc3Npb25FdmVudFtdIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IHVuYmluZFBhc3NpdmVFdmVudFNvdXJjZXM6IE5vT3BGdW5jdGlvbltdIHwgdW5kZWZpbmVkO1xuICAgICAgLy8gbGV0IG92ZXJsYXlzID0gbWFwKDIsIChpKSA9PiB7XG4gICAgICAvLyAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgLy8gICBvdmVybGF5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246YWJzb2x1dGU7JHtpID8gXCJib3R0b21cIiA6IFwidG9wXCJ9OjA7JHtcbiAgICAgIC8vICAgICBpID8gXCJyaWdodFwiIDogXCJsZWZ0XCJcbiAgICAgIC8vICAgfTowO2JhY2tncm91bmQtY29sb3I6Ymx1ZWA7XG4gICAgICAvLyAgIGVsLmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgLy8gICByZXR1cm4gb3ZlcmxheTtcbiAgICAgIC8vIH0pO1xuXG4gICAgICAvLyAoZWwgYXMgYW55KS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibHVlXCI7XG4gICAgICAvLyAoZWwgYXMgYW55KS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblxuICAgICAgbGV0IHByZXZIZWlnaHQgPSAtMTtcbiAgICAgIGxldCBib3VuZGFyaWVzOiBUZXh0U3RhdHNbXCJib3VuZGFyaWVzXCJdIHwgdW5kZWZpbmVkO1xuICAgICAgbGV0IHN0YXRzOiBJbXByZXNzaW9uVGV4dFN0YXRzIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCBwb2xsID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBjb25zdCB2aWV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IFtcbiAgICAgICAgICBjb25zdHJhaW4ocmVjdC50b3AsIHZpZXdIZWlnaHQpLFxuICAgICAgICAgIGNvbnN0cmFpbihyZWN0LnJpZ2h0LCB2aWV3V2lkdGgpLFxuICAgICAgICAgIGNvbnN0cmFpbihyZWN0LmJvdHRvbSwgdmlld0hlaWdodCksXG4gICAgICAgICAgY29uc3RyYWluKHJlY3QubGVmdCwgdmlld1dpZHRoKSxcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25IZWlnaHQgPSBpbnRlcnNlY3Rpb25bMl0gLSBpbnRlcnNlY3Rpb25bMF07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbldpZHRoID0gaW50ZXJzZWN0aW9uWzFdIC0gaW50ZXJzZWN0aW9uWzNdO1xuXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uSGVpZ2h0IC8gcmVjdC5oZWlnaHQgfHwgMDtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbEludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbldpZHRoIC8gcmVjdC53aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGhyZXNob2xkIGZvciB3aGVuIGFuIGltcHJlc3Npb24gYmVjb21lcyBhY3RpdmUvaW5hY3RpdmUuXG4gICAgICAgICAqIFRoZXkgZGVwZW5kIG9uIHdoZXRoZXIgdGhlIGltcHJlc3Npb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZHMgPSBhY3RpdmUgPyBJTVBSRVNTSU9OX1NUT1AgOiBJTVBSRVNTSU9OX1NUQVJUO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc21hbGxlc3Qgb2YgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludGVyc2VjdGlvbiBwZXJjZW50YWdlLiBJZiB0aGlzIGlzIHNtYWxsZXIgdGhhbiB0aGUgdGhyZXNob2xkLFxuICAgICAgICAgKiB0aGUgY29tcG9uZW50IGlzIGludHVpdGl2ZWx5IG5vdCB2aXNpYmxlIChvciBcImltcHJlc3NlZFwiLCBsb2wpLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcXVhbGlmaWVkID1cbiAgICAgICAgICAoaW50ZXJzZWN0aW9uSGVpZ2h0ID4gdGhyZXNob2xkc1swXSAqIHZpZXdIZWlnaHQgfHxcbiAgICAgICAgICAgIHZlcnRpY2FsSW50ZXJzZWN0aW9uID4gdGhyZXNob2xkc1swXSkgJiZcbiAgICAgICAgICAoaW50ZXJzZWN0aW9uV2lkdGggPiB0aHJlc2hvbGRzWzBdICogdmlld1dpZHRoIHx8XG4gICAgICAgICAgICBob3Jpem9udGFsSW50ZXJzZWN0aW9uID4gdGhyZXNob2xkc1swXSk7XG5cbiAgICAgICAgaWYgKHBlbmRpbmdBY3RpdmUgIT09IHF1YWxpZmllZCkge1xuICAgICAgICAgIGFjdGl2ZVRpbWUoKHBlbmRpbmdBY3RpdmUgPSBxdWFsaWZpZWQpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWN0aXZlICE9PVxuICAgICAgICAgIChhY3RpdmUgPVxuICAgICAgICAgICAgcGVuZGluZ0FjdGl2ZSAmJlxuICAgICAgICAgICAgYWN0aXZlVGltZSgpID49XG4gICAgICAgICAgICAgIHRyYWNrZXJDb25maWcuaW1wcmVzc2lvblRocmVzaG9sZCAtIElOVEVSU0VDVElPTl9QT0xMX0lOVEVSVkFMKVxuICAgICAgICApIHtcbiAgICAgICAgICArK2ltcHJlc3Npb25zO1xuICAgICAgICAgIHZpZXdEdXJhdGlvbihhY3RpdmUpO1xuICAgICAgICAgIGlmICghaW1wcmVzc2lvbkV2ZW50cykge1xuICAgICAgICAgICAgaW1wcmVzc2lvbkV2ZW50cyA9IG1hcDIoXG4gICAgICAgICAgICAgIGNvbXBvbmVudHMsXG4gICAgICAgICAgICAgIChjbXApID0+XG4gICAgICAgICAgICAgICAgKChjbXAhLnRyYWNrPy5pbXByZXNzaW9ucyB8fFxuICAgICAgICAgICAgICAgICAgdHJhY2tlckZsYWcoXG4gICAgICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgICAgICBcImltcHJlc3Npb25zXCIsXG4gICAgICAgICAgICAgICAgICAgIFQsXG4gICAgICAgICAgICAgICAgICAgIChkYXRhKSA9PiBkYXRhLnRyYWNrPy5pbXByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgKSkgJiZcbiAgICAgICAgICAgICAgICAgIHJlc3RyaWN0PEltcHJlc3Npb25FdmVudD4oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImltcHJlc3Npb25cIixcbiAgICAgICAgICAgICAgICAgICAgcG9zOiBnZXRTY3JlZW5Qb3MoZWwpLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogZ2V0Vmlld3BvcnQoKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZU9mZnNldDogZ2V0Vmlld1RpbWVPZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgaW1wcmVzc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmdldENvbXBvbmVudENvbnRleHQoZWwsIFQpLFxuICAgICAgICAgICAgICAgICAgfSkpIHx8XG4gICAgICAgICAgICAgICAgc2tpcDJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0cmFja2VyKGltcHJlc3Npb25FdmVudHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbXByZXNzaW9uRXZlbnRzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdmlld0R1cmF0aW9uKCk7XG4gICAgICAgICAgICB1bmJpbmRQYXNzaXZlRXZlbnRTb3VyY2VzID0gbWFwMihpbXByZXNzaW9uRXZlbnRzLCAoZXZlbnQpID0+XG4gICAgICAgICAgICAgIHRyYWNrZXIuZXZlbnRzLnJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZShldmVudCwgKCkgPT4gKHtcbiAgICAgICAgICAgICAgICByZWxhdGVkRXZlbnRJZDogZXZlbnQuY2xpZW50SWQhLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGltcHJlc3Npb25zOiBpbXByZXNzaW9ucyxcbiAgICAgICAgICAgICAgICByZWdpb25zOiByZWdpb25zICYmIHtcbiAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uc1swXVswXSxcbiAgICAgICAgICAgICAgICAgIG1pZGRsZTogcmVnaW9uc1sxXVswXSxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uc1syXVswXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlZW46IHZpc2libGVQZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgIHRleHQ6IHN0YXRzLFxuICAgICAgICAgICAgICAgIHJlYWQ6XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbi5hY3RpdmVUaW1lICYmXG4gICAgICAgICAgICAgICAgICBzdGF0cyAmJlxuICAgICAgICAgICAgICAgICAgY29uc3RyYWluKFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbi5hY3RpdmVUaW1lIC8gc3RhdHMucmVhZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVQZXJjZW50YWdlXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3QuaGVpZ2h0ICE9PSBwcmV2SGVpZ2h0KSB7XG4gICAgICAgICAgcHJldkhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgICAgICAgIGNvbnN0IHRleHQgPSAoZWwgYXMgSFRNTEVsZW1lbnQpLnRleHRDb250ZW50O1xuICAgICAgICAgICh7IGJvdW5kYXJpZXMsIC4uLnN0YXRzIH0gPSBnZXRUZXh0U3RhdHMoXG4gICAgICAgICAgICB0ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICBbMCwgMC4yNSwgMC43NSwgMV1cbiAgICAgICAgICApKTtcblxuICAgICAgICAgIGlmIChyZWdpb25zIHx8IHJlY3QuaGVpZ2h0ID49IDEuMjUgKiB2aWV3SGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcbiAgICAgICAgICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbDtcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBsZXQgYm91bmRhcnlJbmRleCA9IDA7XG4gICAgICAgICAgICByZWdpb25zID8/PSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgYm91bmRhcnlJbmRleCA8IGJvdW5kYXJpZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAgIChub2RlID0gbm9kZXMubmV4dE5vZGUoKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBsZXQgbm9kZUxlbmd0aCA9IG5vZGUudGV4dENvbnRlbnQ/Lmxlbmd0aCA/PyAwO1xuICAgICAgICAgICAgICBsZW5ndGggKz0gbm9kZUxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aCA+PSBib3VuZGFyaWVzW2JvdW5kYXJ5SW5kZXhdPy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBsb29wIGJlY2F1c2UgdHdvIGJvdW5kYXJpZXMgbWF5IGhhdmUgdGhlIHNhbWUgb2Zmc2V0LlxuICAgICAgICAgICAgICAgIHByb2JlUmFuZ2VbYm91bmRhcnlJbmRleCAlIDIgPyBcInNldEVuZFwiIDogXCJzZXRTdGFydFwiXShcbiAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICBib3VuZGFyaWVzW2JvdW5kYXJ5SW5kZXhdLm9mZnNldCAtIGxlbmd0aCArIG5vZGVMZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kYXJ5SW5kZXgrKyAlIDIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IHByb2JlUmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSByZWN0LnRvcDtcblxuICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kYXJ5SW5kZXggPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlZ2lvbihcbiAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcCAtIG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICBib3R0b20gLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc1sxXS5yZWFkVGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVnaW9uKFxuICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgcmVnaW9uc1swXVs0XSxcbiAgICAgICAgICAgICAgICAgICAgICB0b3AgLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc1syXS5yZWFkVGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWdpb24oXG4gICAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgICAgICB0b3AgLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0gb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJpZXNbM10ucmVhZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaG9yaXpvbnRhbE9mZnNldCA9IHJlY3QubGVmdCA8IDAgPyAtcmVjdC5sZWZ0IDogMDtcbiAgICAgICAgbGV0IHZlcnRpY2FsT2Zmc2V0ID0gcmVjdC50b3AgPCAwID8gLXJlY3QudG9wIDogMDtcbiAgICAgICAgY29uc3QgYXJlYSA9IHJlY3Qud2lkdGggKiByZWN0LmhlaWdodDtcblxuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgdmlzaWJsZVBlcmNlbnRhZ2UgPVxuICAgICAgICAgICAgKHZpc2libGVbMF0ucHVzaChcbiAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQsXG4gICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ICsgaW50ZXJzZWN0aW9uSGVpZ2h0XG4gICAgICAgICAgICApICpcbiAgICAgICAgICAgICAgdmlzaWJsZVsxXS5wdXNoKFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldCArIGludGVyc2VjdGlvbldpZHRoXG4gICAgICAgICAgICAgICkpIC9cbiAgICAgICAgICAgIGFyZWE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVnaW9ucykge1xuICAgICAgICAgIGZvckVhY2gyKHJlZ2lvbnMsIChyZWdpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvblRvcCA9IGNvbnN0cmFpbihcbiAgICAgICAgICAgICAgcmVjdC50b3AgPCAwID8gLXJlY3QudG9wIDogMCxcbiAgICAgICAgICAgICAgcmVnaW9uWzVdLFxuICAgICAgICAgICAgICByZWdpb25bNF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25Cb3R0b20gPSBjb25zdHJhaW4oXG4gICAgICAgICAgICAgIHJlY3QuYm90dG9tID4gdmlld0hlaWdodCA/IHZpZXdIZWlnaHQgOiByZWN0LmJvdHRvbSxcbiAgICAgICAgICAgICAgcmVnaW9uWzVdLFxuICAgICAgICAgICAgICByZWdpb25bNF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFplcm8gaGVpZ2h0LCBub3RoaW5nIHRvIGRvLlxuICAgICAgICAgICAgbGV0IHF1YWxpZmllZCA9IGFjdGl2ZSAmJiBpbnRlcnNlY3Rpb25Cb3R0b20gLSBpbnRlcnNlY3Rpb25Ub3AgPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVnaW9uWzBdO1xuICAgICAgICAgICAgZGF0YS5kdXJhdGlvbiA9IHJlZ2lvblsxXShxdWFsaWZpZWQpO1xuXG4gICAgICAgICAgICBpZiAocXVhbGlmaWVkKSB7XG4gICAgICAgICAgICAgIHJlZ2lvblszXSAhPT0gKHJlZ2lvblszXSA9IHF1YWxpZmllZCkgJiYgKytyZWdpb25bMF0uaW1wcmVzc2lvbnMhO1xuXG4gICAgICAgICAgICAgIGRhdGEuc2VlbiA9XG4gICAgICAgICAgICAgICAgcmVnaW9uWzddLnB1c2goaW50ZXJzZWN0aW9uVG9wLCBpbnRlcnNlY3Rpb25Cb3R0b20pIC9cbiAgICAgICAgICAgICAgICAocmVnaW9uWzVdIC0gcmVnaW9uWzRdKTtcbiAgICAgICAgICAgICAgZGF0YS5yZWFkID0gY29uc3RyYWluKGRhdGEuZHVyYXRpb24gLyByZWdpb25bNl0sIGRhdGEuc2Vlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsW2ludGVyc2VjdGlvbkhhbmRsZXJdID0gKHtcbiAgICAgICAgaXNJbnRlcnNlY3RpbmcsXG4gICAgICB9OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB7XG4gICAgICAgIGFzc2lnbihjdXJyZW50SW50ZXJzZWN0aW9ucywgcG9sbCwgaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICAhaXNJbnRlcnNlY3RpbmcgJiZcbiAgICAgICAgICAoZm9yRWFjaDIodW5iaW5kUGFzc2l2ZUV2ZW50U291cmNlcywgKHVuYmluZCkgPT4gdW5iaW5kKCkpLCBwb2xsKCkpO1xuICAgICAgfTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBfX0RFQlVHX18gfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBmb3JtYXREYXRhVXNhZ2UsIGZvcm1hdFZhcmlhYmxlS2V5IH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcclxuaW1wb3J0IHsgYW5zaSwgY29uY2F0LCBjb3VudCwgRiwgbWFwMiwgc2tpcDIsIHNvcnQyLCBUIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5pbXBvcnQgeyBhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIsIGNoaWxkR3JvdXBzLCBkZWJ1ZyB9IGZyb20gXCIuXCI7XHJcbmltcG9ydCB7IENsaWVudFZhcmlhYmxlLCBpc0xvY2FsU2NvcGVLZXkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xyXG5cclxuY29uc3QgZm9ybWF0VmFyaWFibGVzID0gKHZhcmlhYmxlczogQ2xpZW50VmFyaWFibGVbXSkgPT4ge1xyXG4gIHJldHVybiBtYXAyKFxyXG4gICAgc29ydDIodmFyaWFibGVzLCBbXHJcbiAgICAgICh2YXJpYWJsZSkgPT4gdmFyaWFibGUuc2NvcGUsXHJcbiAgICAgICh2YXJpYWJsZSkgPT4gdmFyaWFibGUua2V5LFxyXG4gICAgXSksXHJcbiAgICAodmFyaWFibGUpID0+XHJcbiAgICAgIHZhcmlhYmxlXHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgIHZhcmlhYmxlLFxyXG4gICAgICAgICAgICBgJHtmb3JtYXRWYXJpYWJsZUtleSh2YXJpYWJsZSl9LCAke1xyXG4gICAgICAgICAgICAgIGlzTG9jYWxTY29wZUtleSh2YXJpYWJsZSlcclxuICAgICAgICAgICAgICAgID8gXCJjbGllbnQtc2lkZSBtZW1vcnkgb25seVwiXHJcbiAgICAgICAgICAgICAgICA6IGZvcm1hdERhdGFVc2FnZSh2YXJpYWJsZS5zY2hlbWE/LnVzYWdlKVxyXG4gICAgICAgICAgICB9KWAsXHJcbiAgICAgICAgICAgIEYsXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgOiBza2lwMlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkRGVidWdMaXN0ZW5lcnMgPSBfX0RFQlVHX19cclxuICA/ICgpID0+IHtcclxuICAgICAgYWRkVmFyaWFibGVzQ2hhbmdlZExpc3RlbmVyKChjaGFuZ2VzLCBhbGwsIGxvY2FsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gY29uY2F0KFxyXG4gICAgICAgICAgZm9ybWF0VmFyaWFibGVzKFxyXG4gICAgICAgICAgICBtYXAyKGNoYW5nZXMsIChbLCBjdXJyZW50XSkgPT4gKGN1cnJlbnQgPyBjdXJyZW50IDogc2tpcDIpKVxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFtjaGlsZEdyb3Vwc106IGZvcm1hdFZhcmlhYmxlcyhcclxuICAgICAgICAgICAgICAgICAgbWFwMihhbGwsIChbLCBjdXJyZW50XSkgPT4gKGN1cnJlbnQgPyBjdXJyZW50IDogc2tpcDIpKVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIFwiQWxsIHZhcmlhYmxlc1wiLFxyXG4gICAgICAgICAgICAgIFQsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgKSE7XHJcblxyXG4gICAgICAgIGRlYnVnKFxyXG4gICAgICAgICAgeyBbY2hpbGRHcm91cHNdOiB2YXJpYWJsZXMgfSxcclxuICAgICAgICAgIGFuc2koXHJcbiAgICAgICAgICAgIGBWYXJpYWJsZXMgY2hhbmdlZCR7XHJcbiAgICAgICAgICAgICAgIWxvY2FsID8gXCIgLSBtZXJnaW5nIGNoYW5nZXMgZnJvbSBhbm90aGVyIHRhYlwiIDogXCJcIlxyXG4gICAgICAgICAgICB9ICgke2NoYW5nZXMubGVuZ3RofSBjaGFuZ2VkLCAke2NvdW50KGFsbCl9IGluIHRvdGFsKS5gLFxyXG4gICAgICAgICAgICBcIjI7M1wiXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgOiAoKSA9PiB7fTtcclxuIiwiaW1wb3J0IHsgQ0xJRU5UX0NBTExCQUNLX0NIQU5ORUxfSUQgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xuXG5pbXBvcnQge1xuICBBbmNob3JOYXZpZ2F0aW9uRXZlbnQsXG4gIENhcnRVcGRhdGVkRXZlbnQsXG4gIENvbXBvbmVudENsaWNrRXZlbnQsXG4gIENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQsXG4gIENvbXBvbmVudEVsZW1lbnRJbmZvLFxuICBOYXZpZ2F0aW9uRXZlbnQsXG4gIFNjcmVlblBvc2l0aW9uLFxuICBVc2VySW50ZXJhY3Rpb25FdmVudCxcbn0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEYsXG4gIFQsXG4gIGNyZWF0ZVRpbWVvdXQsXG4gIGVsbGlwc2lzLFxuICBlcXVhbHNBbnksXG4gIGZvckVhY2gyLFxuICBpc09iamVjdCxcbiAgbWFwMixcbiAgbmlsLFxuICBwYXJzZVVyaSxcbiAgcHVzaCxcbiAgcmVtb3ZlLFxuICByZXN0cmljdCxcbiAgc29tZSxcbiAgc3RvcCxcbiAgdXBkYXRlLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbiAgb25GcmFtZSxcbiAgcGFyc2VBY3RpdmF0aW9uVGFncyxcbiAgcHVzaE5hdmlnYXRpb25Tb3VyY2UsXG4gIHRyeUdldENhcnRFdmVudERhdGEsXG59IGZyb20gXCIuLlwiO1xuaW1wb3J0IHtcbiAgTU5UX1VSTCxcbiAgYXR0cixcbiAgZm9yQW5jZXN0b3JzT3JTZWxmLFxuICBnZXRCb3VuZGFyeURhdGEsXG4gIGdldFBvcyxcbiAgZ2V0UmVjdCxcbiAgZ2V0U2NyZWVuUG9zLFxuICBnZXRWaWV3cG9ydCxcbiAgaXNJbnRlcm5hbFVybCxcbiAgbGlzdGVuLFxuICBtYXRjaEV4SGFzaCxcbiAgbmV4dElkLFxuICBub3JtYWxpemVkQXR0cmlidXRlLFxuICB0YWdOYW1lLFxuICB0cmFja2VyQ29uZmlnLFxuICB0cmFja2VyRmxhZyxcbn0gZnJvbSBcIi4uL2xpYlwiO1xuXG5jb25zdCBpc0xpbmtFbGVtZW50ID0gKFxuICBlbDogRWxlbWVudCxcbiAgaHJlZjogYW55ID0gdGFnTmFtZShlbCkgPT09IFwiQVwiICYmIGF0dHIoZWwsIFwiaHJlZlwiKVxuKTogZWwgaXMgSFRNTEFuY2hvckVsZW1lbnQgPT5cbiAgaHJlZiAmJiBocmVmICE9IFwiI1wiICYmICFocmVmLnN0YXJ0c1dpdGgoXCJqYXZhc2NyaXB0OlwiKTtcblxuY29uc3QgaXNDbGlja2FibGUgPSAoXG4gIGVsOiBFbGVtZW50LFxuICB0ID0gdGFnTmFtZShlbCksXG4gIGF0dHIgPSB0cmFja2VyRmxhZyhlbCwgXCJidXR0b25cIilcbik6IGVsIGlzIEhUTUxFbGVtZW50ID0+XG4gIGF0dHIgIT09IEYgJiZcbiAgKGVxdWFsc0FueSh0LCBcIkFcIiwgXCJCVVRUT05cIikgfHxcbiAgICAodCA9PT0gXCJJTlBVVFwiICYmXG4gICAgICBlcXVhbHNBbnkobm9ybWFsaXplZEF0dHJpYnV0ZShlbCwgXCJ0eXBlXCIpLCBcImJ1dHRvblwiLCBcInN1Ym1pdFwiKSkgfHxcbiAgICBhdHRyID09PSBUKTtcblxuY29uc3QgZ2V0RWxlbWVudEluZm8gPSAoZWw6IEVsZW1lbnQsIGluY2x1ZGVSZWN0ID0gZmFsc2UpID0+ICh7XG4gIHRhZ05hbWU6IGVsLnRhZ05hbWUsXG4gIHRleHQ6IGVsbGlwc2lzKFxuICAgIGF0dHIoZWwsIFwidGl0bGVcIik/LnRyaW0oKSB8fFxuICAgICAgYXR0cihlbCwgXCJhbHRcIik/LnRyaW0oKSB8fFxuICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5pbm5lclRleHQ/LnRyaW0oKSxcbiAgICAxMDBcbiAgKSxcbiAgaHJlZjogKGVsIGFzIGFueSkuaHJlZj8udG9TdHJpbmcoKSxcbiAgcmVjdDogaW5jbHVkZVJlY3QgPyBnZXRSZWN0KGVsKSA6IHVuZGVmaW5lZCxcbn0pO1xuY29uc3QgZ2V0RWxlbWVudExhYmVsID0gKFxuICBlbDogRWxlbWVudCB8IEV2ZW50VGFyZ2V0IHwgbnVsbCxcbiAgY29udGFpbmVyOiBFbGVtZW50LFxuICBpbmNsdWRlUmVjdCA9IGZhbHNlXG4pID0+IHtcbiAgbGV0IGluZm86IFBpY2s8VXNlckludGVyYWN0aW9uRXZlbnQsIFwiZWxlbWVudFwiPiB8IHVuZGVmaW5lZDtcbiAgZm9yQW5jZXN0b3JzT3JTZWxmKGVsID8/IGNvbnRhaW5lciwgKGVsKSA9PlxuICAgIHRhZ05hbWUoZWwpID09PSBcIklNR1wiIHx8IGVsID09PSBjb250YWluZXJcbiAgICAgID8gKChpbmZvID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IGdldEVsZW1lbnRJbmZvKGVsLCBpbmNsdWRlUmVjdCksXG4gICAgICAgIH0pLFxuICAgICAgICBGKVxuICAgICAgOiBUXG4gICk7XG4gIHJldHVybiBpbmZvO1xufTtcbmV4cG9ydCBjb25zdCB1c2VySW50ZXJhY3Rpb246IFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5ID0ge1xuICBpZDogXCJuYXZpZ2F0aW9uXCIsXG5cbiAgc2V0dXAodHJhY2tlcikge1xuICAgIC8vIFRoZSB0cmFja2VkIGNsaWNrIHBvc2l0aW9ucyBmb3IgY2xpY2sgZXZlbnRzIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwb3N0ZWQgb25jZS5cbiAgICBjb25zdCBhY3RpdmVFdmVudENsaWNrcyA9IG5ldyBXZWFrTWFwPE5vZGUsIFNjcmVlblBvc2l0aW9uW10+KCk7XG5cbiAgICBjb25zdCBzdHJpcFBvc2l0aW9ucyA9IDxUID0gYW55PihlbDogYW55LCBoaXRUZXN0OiBib29sZWFuKTogVCA9PlxuICAgICAgaGl0VGVzdFxuICAgICAgICA/IGVsXG4gICAgICAgIDogKG1hcDIoZWwsIChba2V5XSkgPT5cbiAgICAgICAgICAgIGtleSA9PT0gXCJyZWN0XCIgfHxcbiAgICAgICAgICAgIC8va2V5ID09PSBcInBvc1wiICBDaGFuZ2VkIHNvIHBvcyBpcyBhbHdheXMgaW5jbHVkZWQuXG4gICAgICAgICAgICBrZXkgPT09IFwidmlld3BvcnRcIlxuICAgICAgICAgICAgICA/IHJlbW92ZShlbCwga2V5KVxuICAgICAgICAgICAgICA6IGlzT2JqZWN0KGVsW2tleV0pICYmXG4gICAgICAgICAgICAgICAgbWFwMihlbFtrZXldLCAoaXRlbSkgPT4gc3RyaXBQb3NpdGlvbnMoaXRlbSwgaGl0VGVzdCkpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBlbCk7XG4gICAgY29uc3QgdHJhY2tEb2N1bWVudCA9IChkb2N1bWVudDogRG9jdW1lbnQpID0+IHtcbiAgICAgIGxpc3RlbihcbiAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgIFtcImNsaWNrXCIsIFwiY29udGV4dG1lbnVcIiwgXCJhdXhjbGlja1wiXSxcbiAgICAgICAgKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgbGV0IHRyYWNrQ2xpY2tzOiBib29sZWFuIHwgTnVsbGlzaDtcbiAgICAgICAgICBsZXQgdHJhY2tSZWdpb246IGJvb2xlYW4gfCBOdWxsaXNoO1xuICAgICAgICAgIGxldCBjbGlja2FibGVFbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgY29udGFpbmVyRWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGxldCBuYXYgPSBGO1xuXG4gICAgICAgICAgbGV0IGNsaWNrYWJsZXM6IENvbXBvbmVudEVsZW1lbnRJbmZvW10gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBmb3JBbmNlc3RvcnNPclNlbGY8Ym9vbGVhbj4oZXYudGFyZ2V0LCAoZWwpID0+IHtcbiAgICAgICAgICAgIGlzQ2xpY2thYmxlKGVsKSAmJiAoY2xpY2thYmxlRWxlbWVudCA/Pz0gZWwpO1xuICAgICAgICAgICAgbmF2ID0gbmF2IHx8IHRhZ05hbWUoZWwpID09PSBcIk5BVlwiO1xuXG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeSA9IGdldEJvdW5kYXJ5RGF0YShlbCk7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRzID0gYm91bmRhcnk/LmNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICghZXYuYnV0dG9uICYmIGNvbXBvbmVudHM/Lmxlbmd0aCAmJiAhY2xpY2thYmxlcykge1xuICAgICAgICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICAgICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiYSxidXR0b25cIiksXG4gICAgICAgICAgICAgICAgKGNsaWNrYWJsZSkgPT5cbiAgICAgICAgICAgICAgICAgIGlzQ2xpY2thYmxlKGNsaWNrYWJsZSkgJiZcbiAgICAgICAgICAgICAgICAgICgoY2xpY2thYmxlcyA/Pz0gW10pLmxlbmd0aCA+IDNcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9wKCkgLy8gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBjbGlja2FibGVzLCB0aGVyZSBpcyBwcmVzdW1hYmx5IG5vdCBhbnkgbWlzc2VkIGNsaWNrIGludGVudC5cbiAgICAgICAgICAgICAgICAgICAgOiBjbGlja2FibGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0RWxlbWVudEluZm8oY2xpY2thYmxlLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZm9yQW5jZXN0b3JzT3JTZWxmKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2FibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRDb21wb25lbnRzID0gZ2V0Qm91bmRhcnlEYXRhKGNoaWxkKT8uY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgPT4gY2hpbGRDb21wb25lbnRzICYmIHIoY2hpbGRDb21wb25lbnRzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoaWxkKSA9PiBjaGlsZCA9PT0gZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKGNsaWNrYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50ID8/PSBlbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFja0NsaWNrcyA/Pz1cbiAgICAgICAgICAgICAgdHJhY2tlckZsYWcoZWwsIFwiY2xpY2tzXCIsIFQsIChkYXRhKSA9PiBkYXRhLnRyYWNrPy5jbGlja3MpID8/XG4gICAgICAgICAgICAgIChjb21wb25lbnRzICYmXG4gICAgICAgICAgICAgICAgc29tZShjb21wb25lbnRzLCAoY21wKSA9PiBjbXAudHJhY2s/LmNsaWNrcyAhPT0gRikpO1xuICAgICAgICAgICAgdHJhY2tSZWdpb24gPz89XG4gICAgICAgICAgICAgIHRyYWNrZXJGbGFnKGVsLCBcInJlZ2lvblwiLCBULCAoZGF0YSkgPT4gZGF0YS50cmFjaz8ucmVnaW9uKSA/P1xuICAgICAgICAgICAgICAoY29tcG9uZW50cyAmJiBzb21lKGNvbXBvbmVudHMsIChjbXApID0+IGNtcC50cmFjaz8ucmVnaW9uKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIShjb250YWluZXJFbGVtZW50ID8/PSBjbGlja2FibGVFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjbGlja0ludGVudCA9IGNsaWNrYWJsZXMgJiYgIWNsaWNrYWJsZUVsZW1lbnQgJiYgdHJhY2tDbGlja3M7XG5cbiAgICAgICAgICBjb25zdCBjb21wb25lbnRDb250ZXh0ID0gZ2V0Q29tcG9uZW50Q29udGV4dChcbiAgICAgICAgICAgIGNsaWNrYWJsZUVsZW1lbnQgPz8gY29udGFpbmVyRWxlbWVudCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgY2xpY2tJbnRlbnRcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHRhZ3MgPSBwYXJzZUFjdGl2YXRpb25UYWdzKFxuICAgICAgICAgICAgY2xpY2thYmxlRWxlbWVudCA/PyBjb250YWluZXJFbGVtZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFja0NsaWNrcyA/Pz0gIW5hdjtcbiAgICAgICAgICB0cmFja1JlZ2lvbiA/Pz0gVDtcblxuICAgICAgICAgIGNvbnN0IHNoYXJlZEV2ZW50UHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIC4uLih0cmFja1JlZ2lvblxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHBvczogZ2V0U2NyZWVuUG9zKGNsaWNrYWJsZUVsZW1lbnQsIGV2KSxcbiAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiBnZXRWaWV3cG9ydCgpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBuaWwpLFxuICAgICAgICAgICAgLi4uZ2V0RWxlbWVudExhYmVsKGV2LnRhcmdldCwgY2xpY2thYmxlRWxlbWVudCA/PyBjb250YWluZXJFbGVtZW50KSxcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudENvbnRleHQsXG4gICAgICAgICAgICB0aW1lT2Zmc2V0OiBnZXRWaWV3VGltZU9mZnNldCgpLFxuICAgICAgICAgICAgLi4udGFncyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICghY2xpY2thYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgY2xpY2tJbnRlbnQgJiZcbiAgICAgICAgICAgICAgdXBkYXRlKGFjdGl2ZUV2ZW50Q2xpY2tzLCBjb250YWluZXJFbGVtZW50LCAoY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IGdldFBvcyhjb250YWluZXJFbGVtZW50ISwgZXYpO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmV1c2UgdGhlIHNhbWUgZXZlbnQgYW5kIG9ubHkgYWRkIHRoZSBuZXcgY2xpY2sgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIGNsaWNrZWQgYWdhaW4gdG8gcmVkdWNlIGRhdGEuXG4gICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRFdmVudCA9IHJlc3RyaWN0PENvbXBvbmVudENsaWNrSW50ZW50RXZlbnQ+KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb21wb25lbnRfY2xpY2tfaW50ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzOiAoY3VycmVudCA9IFtwb3NdKSxcblxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGVzLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIHRyYWNrZXIuZXZlbnRzLnJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZShcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50RXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2tzOiBhY3RpdmVFdmVudENsaWNrcy5nZXQoY29udGFpbmVyRWxlbWVudCEpLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcHVzaChjdXJyZW50LCBwb3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAsICAgICAgICAgICAgICBvdmVybGF5KGNvbnRhaW5lckVsZW1lbnQsIFwiQ2xpY2sgaW50ZW50XCIsIHRydWUpXG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNMaW5rRWxlbWVudChjbGlja2FibGVFbGVtZW50ISkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBjbGlja2FibGVFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSBsaW5rLmhvc3RuYW1lICE9PSBsb2NhdGlvbi5ob3N0bmFtZTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICBzY2hlbWUsXG4gICAgICAgICAgICAgIHNvdXJjZTogaHJlZixcbiAgICAgICAgICAgIH0gPSBwYXJzZVVyaShsaW5rLmhyZWYsIHtcbiAgICAgICAgICAgICAgZGVsaW1pdGVyczogZmFsc2UsXG4gICAgICAgICAgICAgIHJlcXVpcmVBdXRob3JpdHk6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbGluay5ob3N0ID09PSBsb2NhdGlvbi5ob3N0ICYmXG4gICAgICAgICAgICAgIGxpbmsucGF0aG5hbWUgPT09IGxvY2F0aW9uLnBhdGhuYW1lICYmXG4gICAgICAgICAgICAgIGxpbmsuc2VhcmNoID09PSBsb2NhdGlvbi5zZWFyY2hcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAobGluay5oYXNoID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgYWJvdXQgdGhhdCBvbmUuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsaW5rLmhhc2ggIT09IGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXYuYnV0dG9uID09PSAwKVxuICAgICAgICAgICAgICAgICAgdHJhY2tlcihcbiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q8QW5jaG9yTmF2aWdhdGlvbkV2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbmNob3JfbmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbGluay5oYXNoLFxuICAgICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRXZlbnQ6IE5hdmlnYXRpb25FdmVudCA9IHJlc3RyaWN0PE5hdmlnYXRpb25FdmVudD4oe1xuICAgICAgICAgICAgICBjbGllbnRJZDogbmV4dElkKCksXG4gICAgICAgICAgICAgIHR5cGU6IFwibmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgICBocmVmOiBleHRlcm5hbCA/IGxpbmsuaHJlZiA6IGhyZWYsXG4gICAgICAgICAgICAgIGV4dGVybmFsLFxuICAgICAgICAgICAgICBkb21haW46IHsgaG9zdCwgc2NoZW1lIH0sXG4gICAgICAgICAgICAgIHNlbGY6IFQsXG4gICAgICAgICAgICAgIGFuY2hvcjogbGluay5oYXNoLFxuICAgICAgICAgICAgICAuLi5zaGFyZWRFdmVudFByb3BlcnRpZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVGhlcmUgZG9lcyBub3Qgc2VlbSB0byBiZSBhbnkgd2F5IHRvIGRldGVjdCB3aGVuIHRoZSB1c2VyIGNsaWNrc1xuICAgICAgICAgICAgLy8gXCJPcGVuIGxpbmsgaW4gbmV3IHRhYi93aW5kb3dcIiwgc28gd2UgbmVlZCB0byBkbyBhIGxpdHRsZSBleHRyYSBneW1uYXN0aWNzIHRvIGNhcHR1cmUgaXQuXG4gICAgICAgICAgICBpZiAoZXYudHlwZSA9PT0gXCJjb250ZXh0bWVudVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVXJsID0gbGluay5ocmVmO1xuICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbFVybCA9IGlzSW50ZXJuYWxVcmwob3JpZ2luYWxVcmwpO1xuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGFnZSBsb2FkcyBpbiBhIG5ldyB0YWIsIGl0IHdpbGwgcGljayB1cCB0aGlzIHZhbHVlIGFzIHRoZSByZWZlcnJlcixcbiAgICAgICAgICAgICAgICAvLyAgIGFuZCB3ZSB3aWxsIGtub3cgbmF2aWdhdGlvbiBoYXBwZW5lZC5cbiAgICAgICAgICAgICAgICBwdXNoTmF2aWdhdGlvblNvdXJjZShuYXZpZ2F0aW9uRXZlbnQuY2xpZW50SWQsICgpID0+XG4gICAgICAgICAgICAgICAgICB0cmFja2VyKG5hdmlnYXRpb25FdmVudClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERldGVjdGluZyBleHRlcm5hbCBuYXZpZ2F0aW9uIGlzIF9tdWNoXyBoYXJkZXIuXG4gICAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgd2UgbmVlZCB0byByZXdyaXRlIHRoZSBVUkwgdG8gcmVkaXJlY3QgdmlhIHRoZSByZXF1ZXN0IGhhbmRsZXIsIGFuZCBwb2xsIGZvciBhIGxvY2FsIHN0b3JhZ2Uga2V5LlxuICAgICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgYSBwcm9ibGVtIGlmIHRoZSB1c2VyIGRlY2lkZXMgdG8gY29weSB0aGUgbGluayBmcm9tIHRoZSBjb250ZXh0IG1lbnUgYW5kIHNoYXJlIGl0LFxuICAgICAgICAgICAgICAvLyBzaW5jZSBzb21lIG1heSBhcmd1ZSB0aGUgbGluayBsb29rcyBcIm9ic2N1cmVcIi5cbiAgICAgICAgICAgICAgdmFyIHJlcXVlc3RJZCA9IChcIlwiICsgTWF0aC5yYW5kb20oKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIi5cIiwgXCJcIilcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDEsIDgpO1xuICAgICAgICAgICAgICBpZiAoIWludGVybmFsVXJsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFja2VyQ29uZmlnLmNhcHR1cmVDb250ZXh0TWVudSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9XG4gICAgICAgICAgICAgICAgICBNTlRfVVJMICsgXCI9XCIgKyByZXF1ZXN0SWQgKyBlbmNvZGVVUklDb21wb25lbnQob3JpZ2luYWxVcmwpO1xuXG4gICAgICAgICAgICAgICAgLy8gUG9sbCBmb3IgdGhlIHN0b3JhZ2Uga2V5IHdoZXJlIHRoZSByZXF1ZXN0IGhhbmRsZXIgd2lsbCB3cml0ZSB0aGUgcmVxdWVzdCBJRCBiZWZvcmUgaXQgcmVkaXJlY3RzXG4gICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgaWYgdGhlIGxpbmsgaXMgb3BlbmVkLlxuICAgICAgICAgICAgICAgIGxpc3RlbihcbiAgICAgICAgICAgICAgICAgIHdpbmRvdyxcbiAgICAgICAgICAgICAgICAgIFwic3RvcmFnZVwiLFxuICAgICAgICAgICAgICAgICAgKGV2LCB1bmJpbmQpID0+XG4gICAgICAgICAgICAgICAgICAgIGV2LmtleSA9PT0gQ0xJRU5UX0NBTExCQUNLX0NIQU5ORUxfSUQgJiZcbiAgICAgICAgICAgICAgICAgICAgKGV2Lm5ld1ZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShldi5uZXdWYWx1ZSk/LnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgdHJhY2tlcihuYXZpZ2F0aW9uRXZlbnQpLFxuICAgICAgICAgICAgICAgICAgICB1bmJpbmQoKSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZW91dDtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdGhlIGxpbmsgYmFjayB3aGVuIHRoZSBjb250ZXh0IG1lbnUgY2xvc2VzLlxuICAgICAgICAgICAgICAgIGxpc3RlbihcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgW1wia2V5ZG93blwiLCBcImtleXVwXCIsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCBcInBvaW50ZXJtb3ZlXCJdLFxuICAgICAgICAgICAgICAgICAgKF8sIHVuYmluZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1bmJpbmQoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBvcmlnaW5hbFVybDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2LmJ1dHRvbiA8PSAxKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBldi5idXR0b24gPT09IDEgfHwgLy9NaWRkbGUtY2xpY2s6IG5ldyB0YWIuXG4gICAgICAgICAgICAgICAgZXYuY3RybEtleSB8fCAvLyBOZXcgdGFiXG4gICAgICAgICAgICAgICAgZXYuc2hpZnRLZXkgfHwgLy8gTmV3IHdpbmRvd1xuICAgICAgICAgICAgICAgIGV2LmFsdEtleSB8fCAvLyBEb3dubG9hZFxuICAgICAgICAgICAgICAgIGF0dHIobGluaywgXCJ0YXJnZXRcIikgIT09IHdpbmRvdy5uYW1lXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHB1c2hOYXZpZ2F0aW9uU291cmNlKG5hdmlnYXRpb25FdmVudC5jbGllbnRJZCk7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkV2ZW50LnNlbGYgPSBGO1xuICAgICAgICAgICAgICAgIC8vIEZpcmUgaW1tZWRpYXRlbHksIHdlIGFyZSBzdGF5aW5nIG9uIHRoZSBwYWdlLlxuICAgICAgICAgICAgICAgIHRyYWNrZXIobmF2aWdhdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoRXhIYXNoKGxvY2F0aW9uLmhyZWYsIGxpbmsuaHJlZikpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uRXZlbnQuZXhpdCA9IG5hdmlnYXRpb25FdmVudC5leHRlcm5hbDtcbiAgICAgICAgICAgICAgICAvLyBObyBcInJlYWxcIiBuYXZpZ2F0aW9uIHdpbGwgaGFwcGVuIGlmIGl0IGlzIG9ubHkgdGhlIGhhc2ggY2hhbmdpbmcuXG4gICAgICAgICAgICAgICAgcHVzaE5hdmlnYXRpb25Tb3VyY2UobmF2aWdhdGlvbkV2ZW50LmNsaWVudElkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIC8vIElmIGl0IHNvIGhhcHBlbmVkIHRoYXQgbmF2aWdhdGlvbiBoYXBwZW5lZCB3ZSB3aWxsIHNlbmQgaXQgb24gVklFV19FTkQuXG4gICAgICAgICAgICAgIC8vIHBlbmRpbmdOYXZpZ2F0aW9uRXZlbnQgPSByZWdpc3RlclZpZXdFbmRBY3Rpb24oKCkgPT5cbiAgICAgICAgICAgICAgLy8gICB0cmFja2VyKG5hdmlnYXRpb25FdmVudClcbiAgICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjYXJ0ID0gdHJ5R2V0Q2FydEV2ZW50RGF0YShldi50YXJnZXQgYXMgRWxlbWVudCk7XG4gICAgICAgICAgKGNhcnQgfHwgdHJhY2tDbGlja3MpICYmXG4gICAgICAgICAgICB0cmFja2VyKFxuICAgICAgICAgICAgICBjYXJ0XG4gICAgICAgICAgICAgICAgPyByZXN0cmljdDxDYXJ0VXBkYXRlZEV2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FydF91cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgLi4uY2FydCxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiByZXN0cmljdDxDb21wb25lbnRDbGlja0V2ZW50Pih7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcG9uZW50X2NsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnNoYXJlZEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdHJhY2tEb2N1bWVudChkb2N1bWVudCk7XG4gICAgb25GcmFtZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWUuY29udGVudERvY3VtZW50ICYmIHRyYWNrRG9jdW1lbnQoZnJhbWUuY29udGVudERvY3VtZW50KVxuICAgICk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHtcbiAgdHlwZSBDYXJ0QWN0aW9uLFxuICB0eXBlIENhcnRFdmVudERhdGEsXG4gIHR5cGUgQ2FydFVwZGF0ZWRFdmVudCxcbiAgdHlwZSBPcmRlckV2ZW50LFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRixcbiAgVCxcbiAgZXF1YWxzQW55LFxuICBpc09iamVjdCxcbiAgaXNTdHJpbmcsXG4gIGxhc3QsXG4gIG5pbCxcbiAgdHlwZSBOdWxsaXNoLFxufSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSwgaXNDYXJ0Q29tbWFuZCwgaXNPcmRlckNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGZvckFuY2VzdG9yc09yU2VsZiwgZ2V0Qm91bmRhcnlEYXRhLCB0cmFja2VyUHJvcGVydHkgfSBmcm9tIFwiLi4vbGliXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUNhcnRFdmVudERhdGEgPSAoXG4gIGRhdGE6IGJvb2xlYW4gfCBzdHJpbmcgfCBDYXJ0RXZlbnREYXRhIHwgTnVsbGlzaFxuKTogQ2FydEV2ZW50RGF0YSB8IHVuZGVmaW5lZCA9PiAoXG4gIGRhdGEgPT0gbmlsID8gdW5kZWZpbmVkIDogKGRhdGEgPT09IFQgfHwgZGF0YSA9PT0gXCJcIikgJiYgKGRhdGEgPSBcImFkZFwiKSxcbiAgaXNTdHJpbmcoZGF0YSkgJiYgZXF1YWxzQW55KGRhdGEsIFwiYWRkXCIsIFwicmVtb3ZlXCIsIFwidXBkYXRlXCIsIFwiY2xlYXJcIilcbiAgICA/IHsgYWN0aW9uOiBkYXRhIGFzIENhcnRBY3Rpb24gfVxuICAgIDogaXNPYmplY3QoZGF0YSlcbiAgICA/IGRhdGFcbiAgICA6IHVuZGVmaW5lZFxuKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplQ2FydEV2ZW50RGF0YShkYXRhOiBDYXJ0RXZlbnREYXRhIHwgTnVsbGlzaCkge1xuICBpZiAoIWRhdGEpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGRhdGEudW5pdHMgIT0gbmlsICYmIGVxdWFsc0FueShkYXRhLmFjdGlvbiwgbmlsLCBcImFkZFwiLCBcInJlbW92ZVwiKSkge1xuICAgIGlmIChkYXRhLnVuaXRzID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGRhdGEuYWN0aW9uID0gZGF0YS51bml0cyA+IDAgPyBcImFkZFwiIDogXCJyZW1vdmVcIjtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldENhcnRFdmVudERhdGEoc291cmNlRWxlbWVudDogRWxlbWVudCkge1xuICAvLyBGaW5kIGNhcnQuIExvb2sgZm9yIGNhcnQgYXR0cmlidXRlcyBhbmQvb3IgZGF0YSB1bnRpbCB0aGUgZmlyc3QgY29udGVudCBpcyBtZXQuXG4gIGxldCBjb250ZXh0Q2FydDogQ2FydEV2ZW50RGF0YSB8IE51bGxpc2g7XG4gIGZvckFuY2VzdG9yc09yU2VsZihcbiAgICBzb3VyY2VFbGVtZW50LFxuICAgIChlbCwgcikgPT5cbiAgICAgICEhKGNvbnRleHRDYXJ0ID8/PSBwYXJzZUNhcnRFdmVudERhdGEoXG4gICAgICAgIGdldEJvdW5kYXJ5RGF0YShlbCk/LmNhcnQgPz8gdHJhY2tlclByb3BlcnR5KGVsLCBcImNhcnRcIilcbiAgICAgICkpICYmXG4gICAgICAhY29udGV4dENhcnQuaXRlbSAmJlxuICAgICAgKGNvbnRleHRDYXJ0Lml0ZW0gPSBsYXN0KGdldEJvdW5kYXJ5RGF0YShlbCk/LmNvbnRlbnQpKSAmJlxuICAgICAgcihjb250ZXh0Q2FydClcbiAgKTtcblxuICByZXR1cm4gbm9ybWFsaXplQ2FydEV2ZW50RGF0YShjb250ZXh0Q2FydCk7XG59XG5cbmV4cG9ydCBjb25zdCBjb21tZXJjZTogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImNhcnRcIixcbiAgc2V0dXAodHJhY2tlcikge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9jZXNzQ29tbWFuZChjb21tYW5kKSB7XG4gICAgICAgIGlmIChpc0NhcnRDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgbGV0IGNhcnQgPSBjb21tYW5kLmNhcnQ7XG4gICAgICAgICAgY2FydCA9PT0gXCJjbGVhclwiXG4gICAgICAgICAgICA/IHRyYWNrZXIoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FydF91cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImNsZWFyXCIsXG4gICAgICAgICAgICAgIH0gYXMgQ2FydFVwZGF0ZWRFdmVudClcbiAgICAgICAgICAgIDogKGNhcnQgPSBub3JtYWxpemVDYXJ0RXZlbnREYXRhKGNhcnQpISkgJiZcbiAgICAgICAgICAgICAgdHJhY2tlcih7XG4gICAgICAgICAgICAgICAgLi4uY2FydCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNhcnRfdXBkYXRlZFwiLFxuICAgICAgICAgICAgICB9IGFzIENhcnRVcGRhdGVkRXZlbnQpO1xuXG4gICAgICAgICAgcmV0dXJuIFQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT3JkZXJDb21tYW5kKGNvbW1hbmQpKSB7XG4gICAgICAgICAgdHJhY2tlcih7XG4gICAgICAgICAgICB0eXBlOiBcIm9yZGVyXCIsXG4gICAgICAgICAgICAuLi5jb21tYW5kLm9yZGVyLFxuICAgICAgICAgIH0gYXMgT3JkZXJFdmVudCk7XG5cbiAgICAgICAgICByZXR1cm4gVDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRjtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBGb3JtRXZlbnQsIEZvcm1GaWVsZCwgVGltZXN0YW1wIH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIFQsXG4gIGFuc2ksXG4gIGNyZWF0ZVRpbWVvdXQsXG4gIGVsbGlwc2lzLFxuICBmb3JFYWNoMixcbiAgZ2V0MixcbiAgbmlsLFxuICBub3csXG4gIHBhcnNlQm9vbGVhbixcbiAgcmVwbGFjZSxcbiAgc29tZTIsXG4gIHRyeUNhdGNoLFxuICB0eXBlIE51bGxpc2gsXG59IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7XG4gIFRyYWNrZXJFeHRlbnNpb25GYWN0b3J5LFxuICBnZXRDb21wb25lbnRDb250ZXh0LFxuICBnZXRWaWV3VGltZU9mZnNldCxcbiAgZ2V0VmlzaWJsZUR1cmF0aW9uLFxuICBvbkZyYW1lLFxufSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7XG4gIE5vZGVXaXRoUGFyZW50RWxlbWVudCxcbiAgYWRkUGFnZUxvYWRlZExpc3RlbmVyLFxuICBhdHRyLFxuICBkZWJ1ZyxcbiAgZ2V0UmVjdCxcbiAgaXNWaXNpYmxlLFxuICBsaXN0ZW4sXG4gIHNjb3BlQXR0cmlidXRlLFxuICB0cmFja2VyRmxhZyxcbiAgdHJhY2tlclByb3BlcnR5TmFtZSxcbiAgdXVpZHY0LFxufSBmcm9tIFwiLi4vbGliXCI7XG5cbnR5cGUgRm9ybUVsZW1lbnQgPSBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXG5jb25zdCBlbnVtIEZvcm1GaWxsU3RhdGUge1xuICBOb25lID0gMCxcbiAgU3VibWl0dGVkID0gMSxcbiAgUGVuZGluZyA9IDIsXG4gIFN1Ym1pdHRpbmcgPSAzLFxufVxuXG50eXBlIEZvcm1TdGF0ZSA9IFtcbiAgZXZlbnQ6IEZvcm1FdmVudCxcbiAgZmllbGRzOiBXZWFrTWFwPEVsZW1lbnQsIEZvcm1GaWVsZFN0YXRlPixcbiAgZWxlbWVudDogSFRNTEZvcm1FbGVtZW50LFxuICBmaWxsU3RhdGU6IEZvcm1GaWxsU3RhdGUsXG4gIHN0YXJ0ZWQ6IFRpbWVzdGFtcCxcbiAgbmV4dEZpbGxPcmRlcjogbnVtYmVyXG5dO1xuXG5jb25zdCBjdXJyZW50VmFsdWUgPSBTeW1ib2woKTtcbnR5cGUgRm9ybUZpZWxkU3RhdGUgPSBGb3JtRmllbGQgJiB7XG4gIFtjdXJyZW50VmFsdWVdOiBzdHJpbmc7XG59O1xuXG4vKiogVGhlIHRpbWUgd2FpdGVkIGFmdGVyIGEgZm9ybSBzdWJtaXQgZXZlbnQgdG8gdGVzdCBpZiBpdCBzdGlsbCB0aGVyZSwgd2hpY2ggaXMgYXNzdW1lZCB0byBpbmRpY2F0ZSB0aGF0IHRoZXJlIGFyZSB2YWxpZGF0aW9uIGVycm9ycy4gKi9cbmNvbnN0IFZBTElEQVRJT05fRVJST1JfVElNRU9VVCA9IDE3NTA7XG5cbmV4cG9ydCBjb25zdCBmb3JtczogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcImZvcm1zXCIsXG4gIHNldHVwKHRyYWNrZXIpIHtcbiAgICBjb25zdCBmb3JtRXZlbnRzID0gbmV3IE1hcDxIVE1MRm9ybUVsZW1lbnQsIEZvcm1TdGF0ZT4oKTtcblxuICAgIGNvbnN0IGdldEZvcm1GaWVsZFZhbHVlID0gKGVsZW1lbnQ6IGFueSwgdHJhY2tlZCA9IGZhbHNlKTogc3RyaW5nID0+IHtcbiAgICAgIGxldCBpbmNsdWRlID1cbiAgICAgICAgIXRyYWNrZWQgfHwgc2NvcGVBdHRyaWJ1dGUoZWxlbWVudCwgdHJhY2tlclByb3BlcnR5TmFtZShcImZvcm0tdmFsdWVcIikpO1xuXG4gICAgICB0cmFja2VkICYmXG4gICAgICAgIChpbmNsdWRlID0gaW5jbHVkZVxuICAgICAgICAgID8gcGFyc2VCb29sZWFuKGluY2x1ZGUpXG4gICAgICAgICAgOiBlbGVtZW50LnR5cGUgPT09IFwiY2hlY2tib3hcIik7XG5cbiAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zXG4gICAgICAgID8gWy4uLmVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zXS5tYXAoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlKS5qb2luKFwiLFwiKVxuICAgICAgICA6IGVsZW1lbnQudHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgID8gZWxlbWVudC5jaGVja2VkXG4gICAgICAgICAgPyBcInRydWVcIlxuICAgICAgICAgIDogXCJmYWxzZVwiXG4gICAgICAgIDogZWxlbWVudC52YWx1ZTtcblxuICAgICAgaWYgKHRyYWNrZWQgJiYgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBlbGxpcHNpcyh2YWx1ZSwgMjAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmNsdWRlID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldEZvcm1TdGF0ZSA9IChcbiAgICAgIGVsOiBGb3JtRWxlbWVudFxuICAgICk6IFtpbnB1dDogRm9ybUVsZW1lbnQsIHN0YXRlOiBGb3JtU3RhdGVdIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgIGNvbnN0IGZvcm1FbGVtZW50ID0gZWwuZm9ybTtcbiAgICAgIGlmICghZm9ybUVsZW1lbnQpIHJldHVybjsgLy8gRG9uJ3QgY2FyZSBpZiB3ZSBzdGFydGVkIHdpdGggYW4gZWxlbWVudCB0aGF0IGRpZG4ndCBtYXAgdG8gYSBmaWVsZC5cblxuICAgICAgY29uc3QgcmVmTmFtZSA9XG4gICAgICAgIHNjb3BlQXR0cmlidXRlKGZvcm1FbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKFwicmVmXCIpKSB8fCBcInRyYWNrX3JlZlwiO1xuXG4gICAgICBjb25zdCBwYXJzZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgXCJJTlBVVCxTRUxFQ1QsVEVYVEFSRUEsQlVUVE9OXCJcbiAgICAgICAgICApIGFzIGFueSBhcyBJdGVyYWJsZTxGb3JtRWxlbWVudD4sXG4gICAgICAgICAgKGVsLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PT0gXCJCVVRUT05cIiAmJiBlbC50eXBlICE9PSBcInN1Ym1pdFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWwubmFtZSB8fCBlbC50eXBlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBlbC50eXBlID09PSBcImhpZGRlblwiICYmXG4gICAgICAgICAgICAgICAgKGVsLm5hbWUgPT09IHJlZk5hbWUgfHwgdHJhY2tlckZsYWcoZWwsIFwicmVmXCIpKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAhZWwudmFsdWUgJiYgKGVsLnZhbHVlID0gdXVpZHY0KCkpO1xuICAgICAgICAgICAgICAgIHN0YXRlWzBdLnJlZiA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbC5uYW1lO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSAoc3RhdGVbMF0uZmllbGRzIVtuYW1lXSA/Pz0ge1xuICAgICAgICAgICAgICBpZDogZWwuaWQgfHwgbmFtZSxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgbGFiZWw6IHJlcGxhY2UoXG4gICAgICAgICAgICAgICAgZWwubGFiZWxzPy5bMF0/LmlubmVyVGV4dCA/PyBlbC5uYW1lLFxuICAgICAgICAgICAgICAgIC9eXFxzKiguKj8pXFxzKlxcKj9cXHMqJC9nLFxuICAgICAgICAgICAgICAgIFwiJDFcIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhY3RpdmVUaW1lOiAwLFxuICAgICAgICAgICAgICB0b3RhbFRpbWU6IDAsXG4gICAgICAgICAgICAgIHR5cGU6IGVsLnR5cGUgPz8gXCJ1bmtub3duXCIsXG4gICAgICAgICAgICAgIFtjdXJyZW50VmFsdWUgYXMgYW55XTogZ2V0Rm9ybUZpZWxkVmFsdWUoZWwpLFxuICAgICAgICAgICAgICB2YWx1ZTogZ2V0Rm9ybUZpZWxkVmFsdWUoZWwsIHRydWUpLFxuICAgICAgICAgICAgfSkgYXMgRm9ybUZpZWxkU3RhdGU7XG5cbiAgICAgICAgICAgIHN0YXRlWzBdLmZpZWxkcyFbZmllbGQubmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgIHN0YXRlWzFdLnNldChlbCwgZmllbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIGxldCBjYXB0dXJlZENvbnRleHQ6IFJldHVyblR5cGU8dHlwZW9mIGdldENvbXBvbmVudENvbnRleHQ+O1xuXG4gICAgICBjb25zdCBpc0Zvcm1WaXNpYmxlID0gKCkgPT5cbiAgICAgICAgZm9ybUVsZW1lbnQuaXNDb25uZWN0ZWQgJiYgZ2V0UmVjdChmb3JtRWxlbWVudCkud2lkdGg7XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Mihmb3JtRXZlbnRzLCBmb3JtRWxlbWVudCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IG5ldyBNYXA8RWxlbWVudCwgRm9ybUZpZWxkU3RhdGU+KCk7XG4gICAgICAgIGNvbnN0IGV2OiBGb3JtRXZlbnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJmb3JtXCIsXG4gICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgIHNjb3BlQXR0cmlidXRlKGZvcm1FbGVtZW50LCB0cmFja2VyUHJvcGVydHlOYW1lKFwiZm9ybS1uYW1lXCIpKSB8fFxuICAgICAgICAgICAgYXR0cihmb3JtRWxlbWVudCwgXCJuYW1lXCIpIHx8XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5pZCB8fFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIGFjdGl2ZVRpbWU6IDAsXG4gICAgICAgICAgdG90YWxUaW1lOiAwLFxuICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJhY2tlci5ldmVudHMucG9zdChldik7XG5cbiAgICAgICAgdHJhY2tlci5ldmVudHMucmVnaXN0ZXJFdmVudFBhdGNoU291cmNlKFxuICAgICAgICAgIGV2LFxuICAgICAgICAgICgpID0+ICh7IC4uLmV2LCB0aW1lT2Zmc2V0OiBnZXRWaWV3VGltZU9mZnNldCgpIH0gYXMgYW55KVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBzdGF0ZTogRm9ybVN0YXRlO1xuICAgICAgICBjb25zdCBjb21taXRFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGVbM10gPT09IEZvcm1GaWxsU3RhdGUuU3VibWl0dGVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmluYWwgZm9ybSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIHN1Ym1pdHRlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlTG9zdEZvY3VzKCk7IC8vIGZvY3Vzb3V0IG9yIGNoYW5nZSBldmVudHMgbWF5IG5vdCBiZSBjYWxsZWQgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIHBhZ2Ugd2hpbGUgYSBmaWVsZCBoYXMgZm9jdXMuXG5cbiAgICAgICAgICAvLyBJZiB0aGUgZm9ybSBoYXMgZGlzYXBwZWFyZWQgaXQgaXMgaGV1cmlzdGljYWxseSBhc3N1bWVkIGl0IHdhcyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgIGlmIChzdGF0ZVszXSA+PSBGb3JtRmlsbFN0YXRlLlBlbmRpbmcpIHtcbiAgICAgICAgICAgIGV2LmNvbXBsZXRlZCA9XG4gICAgICAgICAgICAgIHN0YXRlWzNdID09PSBGb3JtRmlsbFN0YXRlLlN1Ym1pdHRpbmcgfHwgIWlzRm9ybVZpc2libGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmFja2VyLmV2ZW50cy5wb3N0UGF0Y2goZXYsIHtcbiAgICAgICAgICAgIC4uLmNhcHR1cmVkQ29udGV4dCxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogZXYuY29tcGxldGVkLFxuICAgICAgICAgICAgdG90YWxUaW1lOiBub3coVCkgLSBzdGF0ZVs0XSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0ZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29tbWl0VGltZW91dCA9IGNyZWF0ZVRpbWVvdXQoKTtcblxuICAgICAgICBjb25zdCBpc1JlQ2FwdGNoYUFjdGl2ZSA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgcHJvYmVEb2M6IERvY3VtZW50IHwgdW5kZWZpbmVkID0gZm9ybUVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgICB3aGlsZSAocHJvYmVEb2MpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc29tZTIoXG4gICAgICAgICAgICAgICAgcHJvYmVEb2MucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKSxcbiAgICAgICAgICAgICAgICAoZnJhbWUpID0+XG4gICAgICAgICAgICAgICAgICBmcmFtZS5zcmMubWF0Y2goXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlQ0FQVENIQSBjaGFsbGVuZ2UgVVJMcyBhcmUgbGlrZSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvKHNvbWV0aGluZykvYmZyYW1lPyhzb21ldGhpbmcpYFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBtYXkgYmUgb3RoZXIgaWZyYW1lcyB3aXRoIGByZWNhcHRjaGFgIGluIHRoZSBVUkwsIGJ1dCB0aGF0IGlzIHR5cGljYWxseSB0aGUgXCJiYWRnZVwiIHNob3duIGluIHNvbWUgZm9ybXMuXG4gICAgICAgICAgICAgICAgICAgIC9odHRwczpcXC9cXC93d3cuZ29vZ2xlLmNvbVxcLy4qKD88PVxcLylyZWNhcHRjaGFcXC8uKig/PD1cXC8pYmZyYW1lL2dpXG4gICAgICAgICAgICAgICAgICApICYmIGlzVmlzaWJsZShmcmFtZSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXYWxrIHVwIHRoZSBmcmFtZXMuIFRoZSBkaWFsb2cgbWF5IGhhdmUgYmVlbiBpbmplY3RlZCBpbnRvIHRoZSBtYWluIHdpbmRvdy5cbiAgICAgICAgICAgIHByb2JlRG9jID0gdHJ5Q2F0Y2goXG4gICAgICAgICAgICAgICgpID0+IHByb2JlRG9jIS5kZWZhdWx0Vmlldz8uZnJhbWVFbGVtZW50Py5vd25lckRvY3VtZW50LFxuICAgICAgICAgICAgICAoKSA9PiB1bmRlZmluZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgZm9ybUVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5LFxuICAgICAgICAgIFwic3VibWl0XCIsXG4gICAgICAgICAgKHN1Ym1pdEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjYXB0dXJlZENvbnRleHQgPSBnZXRDb21wb25lbnRDb250ZXh0KGZvcm1FbGVtZW50KTtcbiAgICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0aW5nO1xuXG4gICAgICAgICAgICBpZiAoc3VibWl0RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAvLyBNaWdodCBiZSBYSFIuIElmIHNvLCB0aGUgZGVmYXVsdCB3b3VsZCBoYXZlIGJlZW4gcHJldmVudGVkLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBtdXN0IHdhaXQgYW5kIHNlZSBpZiB0aGUgZm9ybSBkaXNhcHBlYXJzLCBvdGhlcndpc2UsIGl0IGNvdWxkIGFsc28gYmUgdmFsaWRhdGlvbiBlcnJvcnMuXG4gICAgICAgICAgICAgIGNvbnN0IFt1bmJpbmROYXZpZ2F0aW9uTGlzdGVuZXJdID0gYWRkUGFnZUxvYWRlZExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIChsb2FkZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgbmF2aWdhdGVzIHdoaWxlIHdhaXRpbmcsIHRoaXMgaXMgYWxzbyBjb25zaWRlcmVkIGEgc3VibWl0LlxuICAgICAgICAgICAgICAgICAgaWYgKHJlY2FwdGNoYSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgICBgVGhlIGJyb3dzZXIgaXMgbmF2aWdhdGluZyB0byBhbm90aGVyIHBhZ2UgYWZ0ZXIgc3VibWl0IGxlYXZpbmcgYSByZUNBUFRDSEEgY2hhbGxlbmdlLiAke2Fuc2koXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkZvcm0gbm90IHN1Ym1pdHRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZVszXSA9PT0gRm9ybUZpbGxTdGF0ZS5TdWJtaXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgIGBUaGUgYnJvd3NlciBpcyBuYXZpZ2F0aW5nIHRvIGFub3RoZXIgcGFnZSBhZnRlciBzdWJtaXQuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29tbWl0RXZlbnQoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgIGBUaGUgYnJvd3NlciBpcyBuYXZpZ2F0aW5nIHRvIGFub3RoZXIgcGFnZSBhZnRlciBzdWJtaXQsIGJ1dCBzdWJtaXQgd2FzIGVhcmxpZXIgY2FuY2VsbGVkIGJlY2F1c2Ugb2YgdmFsaWRhdGlvbiBlcnJvcnMuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBub3Qgc3VibWl0dGVkLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdW5iaW5kTmF2aWdhdGlvbkxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsZXQgcmVjYXB0Y2hhID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbW1pdFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1JlQ2FwdGNoYUFjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVszXSA9IEZvcm1GaWxsU3RhdGUuUGVuZGluZztcbiAgICAgICAgICAgICAgICAgIGRlYnVnKFwicmVDQVBUQ0hBIGNoYWxsZW5nZSBpcyBhY3RpdmUuXCIpO1xuICAgICAgICAgICAgICAgICAgcmVjYXB0Y2hhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVjYXB0Y2hhKSB7XG4gICAgICAgICAgICAgICAgICByZWNhcHRjaGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGRlYnVnKFwicmVDQVBUQ0hBIGNoYWxsZW5nZSBlbmRlZCAoZm9yIGJldHRlciBvciB3b3JzZSkuXCIpO1xuICAgICAgICAgICAgICAgICAgc3RhdGVbM10gPSBGb3JtRmlsbFN0YXRlLlN1Ym1pdHRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3JtRWxlbWVudC5pc0Nvbm5lY3RlZCAmJiBnZXRSZWN0KGZvcm1FbGVtZW50KS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5QZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIGBGb3JtIGlzIHN0aWxsIHZpc2libGUgYWZ0ZXIgJHtWQUxJREFUSU9OX0VSUk9SX1RJTUVPVVR9IG1zLCB2YWxpZGF0aW9uIGVycm9ycyBhc3N1bWVkLiAke2Fuc2koXG4gICAgICAgICAgICAgICAgICAgICAgXCJGb3JtIG5vdCBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHVuYmluZE5hdmlnYXRpb25MaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgYEZvcm0gaXMgbm8gbG9uZ2VyIHZpc2libGUgJHtWQUxJREFUSU9OX0VSUk9SX1RJTUVPVVR9IG1zIGFmdGVyIHN1Ym1pdC4gJHthbnNpKFxuICAgICAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbW1pdEV2ZW50KCk7XG4gICAgICAgICAgICAgICAgICB1bmJpbmROYXZpZ2F0aW9uTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIFZBTElEQVRJT05fRVJST1JfVElNRU9VVCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgIGBTdWJtaXQgZXZlbnQgdHJpZ2dlcmVkIGFuZCBkZWZhdWx0IG5vdCBwcmV2ZW50ZWQuICR7YW5zaShcbiAgICAgICAgICAgICAgICAgIFwiRm9ybSBzdWJtaXR0ZWRcIixcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29tbWl0RXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgY2FwdHVyZTogZmFsc2UgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiAoc3RhdGUgPSBbXG4gICAgICAgICAgZXYsXG4gICAgICAgICAgZmllbGRNYXAsXG4gICAgICAgICAgZm9ybUVsZW1lbnQsXG4gICAgICAgICAgRm9ybUZpbGxTdGF0ZS5Ob25lLFxuICAgICAgICAgIG5vdyhUKSxcbiAgICAgICAgICAxLFxuICAgICAgICBdKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzdGF0ZVsxXS5nZXQoZWwpKSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbHNvIGJlIHRoZSBjYXNlIGlmIGEgbmV3IGZpZWxkIHdhcyBhZGRlZCB0byB0aGUgRE9NLlxuICAgICAgICBwYXJzZUVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2VsISwgc3RhdGVdO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRGaWVsZEluZm8gPSAoXG4gICAgICBlbDogTm9kZVdpdGhQYXJlbnRFbGVtZW50LFxuICAgICAgW2Zvcm1FbGVtZW50LCBzdGF0ZV0gPSBnZXRGb3JtU3RhdGUoZWwgYXMgYW55KSA/PyBbXSxcbiAgICAgIGZpZWxkID0gc3RhdGU/LlsxXS5nZXQoZm9ybUVsZW1lbnQgYXMgRWxlbWVudClcbiAgICApID0+IGZpZWxkICYmIChbc3RhdGUhWzBdLCBmaWVsZCwgZm9ybUVsZW1lbnQhLCBzdGF0ZSFdIGFzIGNvbnN0KTtcblxuICAgIGxldCBjdXJyZW50RmllbGQ6IFJldHVyblR5cGU8dHlwZW9mIGdldEZpZWxkSW5mbz4gfCBudWxsID0gbmlsO1xuICAgIGNvbnN0IGhhbmRsZUxvc3RGb2N1cyA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudEZpZWxkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IFtmb3JtLCBmaWVsZCwgZWwsIHN0YXRlXSA9IGN1cnJlbnRGaWVsZDtcbiAgICAgIGNvbnN0IGFjdGl2ZSA9IC0odHYwIC0gKHR2MCA9IGdldFZpc2libGVEdXJhdGlvbigpKSk7XG4gICAgICBjb25zdCB0b3RhbCA9IC0odDAgLSAodDAgPSBub3coVCkpKTtcblxuICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGZpZWxkW2N1cnJlbnRWYWx1ZV07XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IChmaWVsZFtjdXJyZW50VmFsdWVdID0gZ2V0Rm9ybUZpZWxkVmFsdWUoZWwpKTtcblxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgIGZpZWxkLmZpbGxPcmRlciA/Pz0gc3RhdGVbNV0rKztcbiAgICAgICAgaWYgKGZpZWxkLmZpbGxlZCkge1xuICAgICAgICAgIGZpZWxkLmNvcnJlY3Rpb25zID0gKGZpZWxkLmNvcnJlY3Rpb25zID8/IDApICsgMTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZC5maWxsZWQgPSBUO1xuXG4gICAgICAgIHN0YXRlWzNdID0gRm9ybUZpbGxTdGF0ZS5QZW5kaW5nO1xuICAgICAgICBmb3JFYWNoMihcbiAgICAgICAgICBmb3JtLmZpZWxkcyEsXG4gICAgICAgICAgKFtuYW1lLCB2YWx1ZV0pID0+ICh2YWx1ZS5sYXN0RmllbGQgPSBuYW1lID09PSBmaWVsZC5uYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZmllbGQudmFsdWUgPSBnZXRGb3JtRmllbGRWYWx1ZShlbCwgdHJ1ZSk7XG5cbiAgICAgIGZpZWxkLmFjdGl2ZVRpbWUhICs9IGFjdGl2ZTtcbiAgICAgIGZpZWxkLnRvdGFsVGltZSEgKz0gdG90YWw7XG4gICAgICBmb3JtLmFjdGl2ZVRpbWUhICs9IGFjdGl2ZTtcbiAgICAgIGZvcm0udG90YWxUaW1lISArPSB0b3RhbDtcbiAgICAgIGN1cnJlbnRGaWVsZCA9IG5pbDtcbiAgICB9O1xuXG4gICAgbGV0IHR2MCA9IDA7XG4gICAgbGV0IHQwID0gMDtcbiAgICBjb25zdCB3aXJlRm9ybUZpZWxkcyA9IChkb2N1bWVudDogRG9jdW1lbnQgfCBOdWxsaXNoKSA9PlxuICAgICAgZG9jdW1lbnQgJiZcbiAgICAgIGxpc3RlbihcbiAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgIFtcImZvY3VzaW5cIiwgXCJmb2N1c291dFwiLCBcImNoYW5nZVwiXSxcbiAgICAgICAgKGV2LCBfLCBjdXJyZW50ID0gZXYudGFyZ2V0ICYmIGdldEZpZWxkSW5mbyhldi50YXJnZXQpKSA9PlxuICAgICAgICAgIGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnRGaWVsZCA9IGN1cnJlbnQpLFxuICAgICAgICAgIGV2LnR5cGUgPT09IFwiZm9jdXNpblwiXG4gICAgICAgICAgICA/ICgodDAgPSBub3coVCkpLCAodHYwID0gZ2V0VmlzaWJsZUR1cmF0aW9uKCkpKVxuICAgICAgICAgICAgOiBoYW5kbGVMb3N0Rm9jdXMoKSlcbiAgICAgICk7XG5cbiAgICB3aXJlRm9ybUZpZWxkcyhkb2N1bWVudCk7XG4gICAgb25GcmFtZShcbiAgICAgIChmcmFtZSkgPT4gZnJhbWUuY29udGVudERvY3VtZW50ICYmIHdpcmVGb3JtRmllbGRzKGZyYW1lLmNvbnRlbnREb2N1bWVudCksXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcbn07XG4iLCJpbXBvcnQge1xuICBUcmFja2VyRXh0ZW5zaW9uRmFjdG9yeSxcbiAgY29tbWVyY2UsXG4gIGNvbXBvbmVudHMsXG4gIGNvbnRleHQsXG4gIGZvcm1zLFxuICBzY3JvbGwsXG4gIHVzZXJJbnRlcmFjdGlvbixcbiAgY29uc2VudCxcbn0gZnJvbSBcIi4uXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RXh0ZW5zaW9uczogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnlbXSA9IFtcbiAgY29udGV4dCxcbiAgY29tcG9uZW50cyxcbiAgdXNlckludGVyYWN0aW9uLFxuICBzY3JvbGwsXG4gIGNvbW1lcmNlLFxuICBmb3JtcyxcbiAgY29uc2VudCxcbl07XG4iLCJpbXBvcnQgdHlwZSB7IENvbXBvbmVudCwgRXh0ZXJuYWxSZWZlcmVuY2UgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgVCwgYWRkLCBtYXAyLCBuaWwsIHB1c2gsIHNwbGl0LCB0b1N0cmluZyB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGF0dHIgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHR5cGUgeyBCb3VuZGFyeUNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcblxudHlwZSBNYXBwZWRDb21wb25lbnQgPSBbXG4gIGNvbW1hbmQ6IHtcbiAgICBjb21wb25lbnQ/OiBDb21wb25lbnQ7XG4gICAgY29udGVudD86IEV4dGVybmFsUmVmZXJlbmNlO1xuICAgIGFyZWE/OiBzdHJpbmc7XG4gIH0sXG4gIGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbkF0dHJpYnV0ZXMoXG4gIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyxcbiAgcmVmZXJlbmNlczogTWFwcGVkQ29tcG9uZW50WzBdW11cbik6IEJvdW5kYXJ5Q29tbWFuZFtdIHtcbiAgaWYgKCFyZWZlcmVuY2VzKSByZXR1cm4gW107XG4gIGNvbnN0IGNvbW1hbmRzOiBCb3VuZGFyeUNvbW1hbmRbXSA9IFtdO1xuXG4gIGNvbnN0IHNlZW4gPSBuZXcgU2V0PGFueT4oKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7YXR0cmlidXRlTmFtZX1dYCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoc2Vlbi5oYXMoZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhY2s6IGFueVtdID0gW107XG5cbiAgICB3aGlsZSAoYXR0cihlbCwgYXR0cmlidXRlTmFtZSkgIT0gbmlsKSB7XG4gICAgICBhZGQoc2VlbiwgZWwpO1xuICAgICAgY29uc3QgZGVsdGEgPSBzcGxpdChhdHRyKGVsLCBhdHRyaWJ1dGVOYW1lKSEsIFwifFwiKTtcbiAgICAgIGF0dHIoZWwsIGF0dHJpYnV0ZU5hbWUsIG5pbCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtOiBhbnkgPSBkZWx0YVtpXTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IFwiXCIpIHtcbiAgICAgICAgICBjb250aW51ZTsgLy8gSWYgdGhlIGF0dHJpYnV0ZSBzdGFydHMgd2l0aCBcInxcIiBpdCBtZWFucyBcImtlZXAgc3RhY2tcIi4gU3BsaXR0aW5nIHRoZSBhcnJheSBvbiBcInxcIiB3aWxsIGdpdmUgYW4gZW1wdHkgaXRlbS5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1iZXIgPSBpdGVtID09PSBcIi1cIiA/IC0xIDogcGFyc2VJbnQodG9TdHJpbmcoaXRlbSkgPz8gXCJcIiwgMzYpO1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCArPSBudW1iZXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCA9IDA7IC8vIFRoZSBmaXJzdCBpdGVtIGhhcyBhIHZhbHVlIHRvIHJlcGxhY2UgdGhlIHN0YWNrIHNpbmNlIG5vdCBwcmVjZWRlZCBieSBuZWl0aGVyIFwifFwiIG5vciBhIG5lZ2F0aXZlIG51bWJlciAocG9wKS5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc05hTihudW1iZXIpICYmIC9eW1wiXFxbe10vLnRlc3QoaXRlbSkpIHtcbiAgICAgICAgICAvLyBQb29yIG1hbidzIHBhcnNlci4gSWYgdGhlIEpTT04gY29udGFpbnMgJ3wncyBrZWVwIGdvaW5nIHVudGlsIGl0IHdvcmtzLlxuICAgICAgICAgIGxldCBqc29uID0gXCJcIjtcbiAgICAgICAgICBmb3IgKDsgaSA8IGRlbHRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpdGVtID0gSlNPTi5wYXJzZSgoanNvbiArPSBkZWx0YVtpXSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bWJlciA+PSAwICYmIHJlZmVyZW5jZXNbbnVtYmVyXSkge1xuICAgICAgICAgIGl0ZW0gPSByZWZlcmVuY2VzW251bWJlcl07XG4gICAgICAgIH1cbiAgICAgICAgcHVzaChzdGFjaywgaXRlbSk7XG4gICAgICB9XG4gICAgICBwdXNoKFxuICAgICAgICBjb21tYW5kcyxcbiAgICAgICAgLi4ubWFwMihzdGFjaywgKGRhdGEpID0+ICh7IGFkZDogVCwgLi4uZGF0YSwgYm91bmRhcnk6IGVsIH0pKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmchOyAvLyBJZ25vcmUgVFMgbnVsbCBlcnJvci5cbiAgICAgIGlmIChlbC50YWdOYW1lID09PSBcIldCUlwiKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgIH1cbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb21tYW5kcztcbn1cbiIsImltcG9ydCB7IFNjcm9sbEV2ZW50IH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7IFQsIGRlZmVyLCBtYXAyLCBwdXNoLCByZXN0cmljdCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGFkZFZpZXdDaGFuZ2VkTGlzdGVuZXIsIHR5cGUgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGxpc3RlbiwgcmVsYXRpdmVTY3JvbGxQb3MsIHNjcm9sbFBvcyB9IGZyb20gXCIuLi9saWJcIjtcblxuZXhwb3J0IGNvbnN0IHNjcm9sbDogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XG4gIGlkOiBcInNjcm9sbFwiLFxuICBzZXR1cCh0cmFja2VyKSB7XG4gICAgbGV0IGVtaXR0ZWQ6IFBhcnRpYWw8UmVjb3JkPFJlcXVpcmVkPFNjcm9sbEV2ZW50PltcInNjcm9sbFR5cGVcIl0sIGJvb2xlYW4+PiA9XG4gICAgICB7fTtcbiAgICBsZXQgaW5pdGlhbFNjcm9sbCA9IHNjcm9sbFBvcyhUKTtcblxuICAgIGFkZFZpZXdDaGFuZ2VkTGlzdGVuZXIoKCkgPT5cbiAgICAgIGRlZmVyKCgpID0+ICgoZW1pdHRlZCA9IHt9KSwgKGluaXRpYWxTY3JvbGwgPSBzY3JvbGxQb3MoVCkpKSwgMjUwKVxuICAgICk7XG5cbiAgICBsaXN0ZW4od2luZG93LCBcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY3JvbGwgPSBzY3JvbGxQb3MoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHJlbGF0aXZlU2Nyb2xsUG9zKCk7XG5cbiAgICAgIGlmIChzY3JvbGwueSA+PSBpbml0aWFsU2Nyb2xsLnkpIHtcbiAgICAgICAgY29uc3QgdHlwZXM6IChrZXlvZiB0eXBlb2YgZW1pdHRlZClbXSA9IFtdO1xuXG4gICAgICAgICFlbWl0dGVkW1wiZm9sZFwiXSAmJlxuICAgICAgICAgIHNjcm9sbC55ID49IGluaXRpYWxTY3JvbGwueSArIDIwMCAmJlxuICAgICAgICAgICgoZW1pdHRlZFtcImZvbGRcIl0gPSBUKSwgcHVzaCh0eXBlcywgXCJmb2xkXCIpKTtcblxuICAgICAgICAhZW1pdHRlZFtcInBhZ2UtbWlkZGxlXCJdICYmXG4gICAgICAgICAgb2Zmc2V0LnkgPj0gMC41ICYmXG4gICAgICAgICAgKChlbWl0dGVkW1wicGFnZS1taWRkbGVcIl0gPSBUKSwgcHVzaCh0eXBlcywgXCJwYWdlLW1pZGRsZVwiKSk7XG5cbiAgICAgICAgIWVtaXR0ZWRbXCJwYWdlLWVuZFwiXSAmJlxuICAgICAgICAgIG9mZnNldC55ID49IDAuOTkgJiZcbiAgICAgICAgICAoKGVtaXR0ZWRbXCJwYWdlLWVuZFwiXSA9IFQpLCBwdXNoKHR5cGVzLCBcInBhZ2UtZW5kXCIpKTtcblxuICAgICAgICBjb25zdCBtYXBwZWQgPSBtYXAyKHR5cGVzLCAoc2Nyb2xsVHlwZSkgPT5cbiAgICAgICAgICByZXN0cmljdDxTY3JvbGxFdmVudD4oe1xuICAgICAgICAgICAgdHlwZTogXCJzY3JvbGxcIixcbiAgICAgICAgICAgIHNjcm9sbFR5cGUsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBtYXBwZWQubGVuZ3RoICYmIHRyYWNrZXIobWFwcGVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBDT05TRU5UX0lORk9fS0VZIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgQ29uc2VudEV2ZW50LFxyXG4gIERhdGFQdXJwb3NlTmFtZSxcclxuICBEYXRhUHVycG9zZXMsXHJcbiAgRGF0YVVzYWdlLFxyXG4gIFVzZXJDb25zZW50LFxyXG4gIFZhcmlhYmxlUG9sbENhbGxiYWNrLFxyXG59IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XHJcbmltcG9ydCB7IENsb2NrLCBGLCBOdWxsaXNoLCBULCBjbG9jaywgbWFwMiwgcmVzdHJpY3QgfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XHJcbmltcG9ydCB7XHJcbiAgQ29uc2VudENvbW1hbmQsXHJcbiAgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnksXHJcbiAgaXNVcGRhdGVDb25zZW50Q29tbWFuZCxcclxufSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHsgZGVidWcsIGRvY3VtZW50LCB3aW5kb3cgfSBmcm9tIFwiLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29uc2VudDogVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgPSB7XHJcbiAgaWQ6IFwiY29uc2VudFwiLFxyXG4gIHNldHVwKHRyYWNrZXIpIHtcclxuICAgIGNvbnN0IGdldEN1cnJlbnRDb25zZW50ID0gYXN5bmMgKFxyXG4gICAgICBjYWxsYmFjaz86IFZhcmlhYmxlUG9sbENhbGxiYWNrPFVzZXJDb25zZW50PlxyXG4gICAgKSA9PiB7XHJcbiAgICAgIHJldHVybiAoYXdhaXQgdHJhY2tlci52YXJpYWJsZXNcclxuICAgICAgICAuZ2V0KHtcclxuICAgICAgICAgIHNjb3BlOiBcInNlc3Npb25cIixcclxuICAgICAgICAgIGtleTogQ09OU0VOVF9JTkZPX0tFWSxcclxuICAgICAgICAgIHBvbGw6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgcmVmcmVzaDogIWNhbGxiYWNrLFxyXG4gICAgICAgICAgcGFzc2l2ZTogIWNhbGxiYWNrLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnZhbHVlKCkpIGFzIFVzZXJDb25zZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVDb25zZW50ID0gYXN5bmMgPEMgZXh0ZW5kcyBVc2VyQ29uc2VudCB8IE51bGxpc2g+KFxyXG4gICAgICBjb25zZW50OiBDXHJcbiAgICApOiBQcm9taXNlPFxyXG4gICAgICBDIGV4dGVuZHMgTnVsbGlzaFxyXG4gICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgOiBbdXBkYXRlZDogYm9vbGVhbiwgY3VycmVudDogVXNlckNvbnNlbnQgfCB1bmRlZmluZWRdXHJcbiAgICA+ID0+IHtcclxuICAgICAgaWYgKCFjb25zZW50KSByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcclxuXHJcbiAgICAgIGxldCBjdXJyZW50ID0gYXdhaXQgZ2V0Q3VycmVudENvbnNlbnQoKTtcclxuXHJcbiAgICAgIGlmICghY3VycmVudCB8fCBEYXRhVXNhZ2UuZXF1YWxzKGN1cnJlbnQsIGNvbnNlbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtmYWxzZSwgY3VycmVudF0gYXMgYW55O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0cmFja2VyLmV2ZW50cy5wb3N0KFxyXG4gICAgICAgIHJlc3RyaWN0PENvbnNlbnRFdmVudD4oe1xyXG4gICAgICAgICAgdHlwZTogXCJjb25zZW50XCIsXHJcbiAgICAgICAgICBjb25zZW50LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgIHZhcmlhYmxlczoge1xyXG4gICAgICAgICAgICBnZXQ6IFt7IHNjb3BlOiBcInNlc3Npb25cIiwga2V5OiBDT05TRU5UX0lORk9fS0VZIH1dLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBbdHJ1ZSwgY29uc2VudF0gYXMgYW55O1xyXG4gICAgfTtcclxuXHJcbiAgICAoKCkgPT4ge1xyXG4gICAgICAvLyBUT0RPOiBNYWtlIGluamVjdGFibGUgdG8gc3VwcG9ydCBvdGhlciB0aGFuIEdDTXYyIGNvbXBhdGlibGUgY29va2llIGRpc2NsYWltZXJzLlxyXG4gICAgICAvLyBJZGVhbGx5LCBpdCBjb3VsZCBiZSBpbmplY3RlZCBpbiB0aGUgaW5pdCBzY3JpcHQgZnJvbSB0aGUgcmVxdWVzdCBoYW5kbGVyLlxyXG4gICAgICAvLyBIb3dldmVyLCBob29raW5nIGludG8gdGhlIG1haW4gY2F0ZWdvcmllcyBvZiBHb29nbGUncyBjb25zZW50IG1vZGUgdjIgc2hvdWxkIGNvdmVyIG1vc3QgY2FzZXMuXHJcblxyXG4gICAgICAvLyBTaW5jZSB0aGUgZGF0YSBsYXllciBpcyBhIGNhcHBlZCBidWZmZXIgdGhhdCBtYXkgZ2V0IHJvdGF0ZWRcclxuICAgICAgLy8gd2UgZGV0ZWN0IGNoYW5nZXMgYnkga2VlcGluZyB0cmFjayBvZiB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBhcnJheS5cclxuICAgICAgLy8gVGhpcyBhbHNvIGhhbmRsZXMgdGhlIHNpdHVhdGlvbiB3aGVyZSBzb21lb25lIHJlcGxhY2VzIHRoZSBkYXRhIGxheWVyLlxyXG5cclxuICAgICAgY29uc3QgR0NNdjJNYXBwaW5nczogUmVjb3JkPHN0cmluZywgRGF0YVB1cnBvc2VOYW1lPiA9IHtcclxuICAgICAgICAvLyBQZXJmb3JtYW5jZVxyXG4gICAgICAgIGFuYWx5dGljc19zdG9yYWdlOiBcInBlcmZvcm1hbmNlXCIsXHJcblxyXG4gICAgICAgIC8vIEZ1bmN0aW9uYWxpdHlcclxuICAgICAgICBmdW5jdGlvbmFsaXR5X3N0b3JhZ2U6IFwiZnVuY3Rpb25hbGl0eVwiLFxyXG5cclxuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBjb3ZlcmVkIHdpdGggbm9ybWFsIFwiZnVuY3Rpb25hbGl0eVwiLlxyXG4gICAgICAgIC8vIE5vIGRpc3RpbmN0aW9uIGJldHdlZW4gZnVuY3Rpb25hbGl0eSBhbmQgcGVyc29uYWxpemF0aW9uIGluIGNvbW1vbiBjb29raWUgQ01QLCBlLmcuIENvb2tpZUJvdC5cclxuICAgICAgICAvLyBOb3Qgc3VyZSB3aHkgR29vZ2xlIHRoaW5rcyB0aGlzIGlzIGEgZGlmZmVyZW50LCBidXQgdGFpbC5qcyBjYW4gYmUgY29uZmlndXJlZCB0byB0cmVhdCB0aGlzIHB1cnBvc2Ugc2VwYXJhdGVseS5cclxuICAgICAgICAvL1xyXG4gICAgICAgIHBlcnNvbmFsaXphdGlvbl9zdG9yYWdlOiBcInBlcnNvbmFsaXphdGlvblwiLFxyXG5cclxuICAgICAgICBhZF9zdG9yYWdlOiBcIm1hcmtldGluZ1wiLCAvLyBUYXJnZXRpbmdcclxuXHJcbiAgICAgICAgc2VjdXJpdHlfc3RvcmFnZTogXCJzZWN1cml0eVwiLCAvLyBTZWN1cml0eVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbGV0IGRhdGFMYXllckhlYWQ6IGFueTtcclxuICAgICAgdHJhY2tlcih7XHJcbiAgICAgICAgY29uc2VudDoge1xyXG4gICAgICAgICAgZXh0ZXJuYWxTb3VyY2U6IHtcclxuICAgICAgICAgICAga2V5OiBcIkdvb2dsZSBDb25zZW50IE1vZGUgdjJcIixcclxuICAgICAgICAgICAgZnJlcXVlbmN5OiAyNTAsXHJcbiAgICAgICAgICAgIHBvbGw6ICgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHdpbmRvd1tcImRhdGFMYXllclwiXTtcclxuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0hlYWQgPSBkYXRhTGF5ZXJIZWFkO1xyXG4gICAgICAgICAgICAgIGxldCBuOiBudW1iZXIgPSBsYXllcj8ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICFuIHx8XHJcbiAgICAgICAgICAgICAgICAoZGF0YUxheWVySGVhZCA9PT0gKGRhdGFMYXllckhlYWQgPSBsYXllcltuIC0gMV0pICYmXHJcbiAgICAgICAgICAgICAgICAgIGRhdGFMYXllckhlYWQpIC8vIEFsc28gY2hlY2sgdGhhdCB0aGUgbGFzdCBpdGVtIGhhcyBhIHZhbHVlLCBvdGhlcndpc2UgYW4gZW1wdHkgZWxlbWVudCBjb3VsZCB0cmljayB1cy5cclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGxldCBpdGVtOiBhbnk7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKFxyXG4gICAgICAgICAgICAgICAgbi0tICYmXHJcbiAgICAgICAgICAgICAgICAoKGl0ZW0gPSBsYXllcltuXSkgIT09IHByZXZpb3VzSGVhZCB8fCAhcHJldmlvdXNIZWFkKSAvLyBDaGVjayBhbGwgaXRlbXMgaWYgd2UgaGF2ZSBub3QgY2FwdHVyZWQgdGhlIHByZXZpb3VzIGhlYWQuXHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwdXJwb3NlczogRGF0YVB1cnBvc2VzID0ge307XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5vbnltb3VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIFJlYWQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXIgdG8gc2VlIGlmIHRoZXJlIGlzIGFueSBbXCJjb25zZW50XCIsIFwidXBkYXRlXCIsIC4uLl0gZW50cnlcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGxhc3QgdGltZSB3ZSBjaGVja2VkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0/LlswXSA9PT0gXCJjb25zZW50XCIgJiYgaXRlbVsxXSA9PT0gXCJ1cGRhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICBtYXAyKFxyXG4gICAgICAgICAgICAgICAgICAgIEdDTXYyTWFwcGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgKFtrZXksIGNvZGVdKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgaXRlbVsyXVtrZXldID09PSBcImdyYW50ZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgKChwdXJwb3Nlc1tjb2RlXSA9IHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgKGFub255bW91cyAmJj1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VjdXJpdHkgaXMgY29uc2lkZXJlZCBcIm5lY2Vzc2FyeVwiIGZvciBzb21lIGV4dGVybmFsIHB1cnBvc2UgYnkgdGFpbC5qc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZG9lcyBub3QgZGVhY3RpdmF0ZSBhbm9ueW1vdXMgdHJhY2tpbmcgYnkgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID09PSBcInNlY3VyaXR5XCIgfHwgY29kZSA9PT0gXCJuZWNlc3NhcnlcIikpXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uOiBhbm9ueW1vdXMgPyBcImFub255bW91c1wiIDogXCJkaXJlY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwdXJwb3NlcyxcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0gYXMgQ29uc2VudENvbW1hbmQpO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBjb25zdCBleHRlcm5hbENvbnNlbnRTb3VyY2VzOiBSZWNvcmQ8c3RyaW5nLCBDbG9jaz4gPSB7fTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcm9jZXNzQ29tbWFuZChjb21tYW5kKSB7XHJcbiAgICAgICAgaWYgKGlzVXBkYXRlQ29uc2VudENvbW1hbmQoY29tbWFuZCkpIHtcclxuICAgICAgICAgIGNvbnN0IGdldHRlciA9IGNvbW1hbmQuY29uc2VudC5nZXQ7XHJcbiAgICAgICAgICBpZiAoZ2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb25zZW50KChjdXJyZW50LCBfLCBwcmV2aW91cykgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50ID8gZ2V0dGVyKGN1cnJlbnQsIHByZXZpb3VzKSA6IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHNldHRlciA9IGNvbW1hbmQuY29uc2VudC5zZXQ7XHJcbiAgICAgICAgICBzZXR0ZXIgJiZcclxuICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoXCJjb25zZW50XCIgaW4gc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbdXBkYXRlZCwgY29uc2VudF0gPSBhd2FpdCB1cGRhdGVDb25zZW50KHNldHRlci5jb25zZW50KTtcclxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsYmFjaz8uKHVwZGF0ZWQsIGNvbnNlbnQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb25zZW50KHNldHRlcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGV4dGVybmFsU291cmNlID0gY29tbWFuZC5jb25zZW50LmV4dGVybmFsU291cmNlO1xyXG5cclxuICAgICAgICAgIGlmIChleHRlcm5hbFNvdXJjZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBleHRlcm5hbFNvdXJjZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGxlciA9IChleHRlcm5hbENvbnNlbnRTb3VyY2VzW2tleV0gPz89IGNsb2NrKHtcclxuICAgICAgICAgICAgICBmcmVxdWVuY3k6IGV4dGVybmFsU291cmNlLmZyZXF1ZW5jeSA/PyAxMDAwLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c0NvbnNlbnQ6IERhdGFVc2FnZSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBvbGxDb25zZW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGFzRm9jdXMoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBuZXdDb25zZW50ID0gZXh0ZXJuYWxTb3VyY2UucG9sbChwcmV2aW91c0NvbnNlbnQpO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIW5ld0NvbnNlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbmV3Q29uc2VudCAmJlxyXG4gICAgICAgICAgICAgICAgIURhdGFVc2FnZS5lcXVhbHMocHJldmlvdXNDb25zZW50LCBuZXdDb25zZW50KVxyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW3VwZGF0ZWQsIGN1cnJlbnRdID0gYXdhaXQgdXBkYXRlQ29uc2VudChuZXdDb25zZW50KTtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRlYnVnKGN1cnJlbnQsIFwiQ29uc2VudCB3YXMgdXBkYXRlZCBmcm9tIFwiICsga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29uc2VudCA9IG5ld0NvbnNlbnQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBwb2xsZXIucmVzdGFydChleHRlcm5hbFNvdXJjZS5mcmVxdWVuY3ksIHBvbGxDb25zZW50KS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9LFxyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY29tbWFuZFRlc3QgPVxuICA8VCA9IGFueT4oLi4ubmFtZTogYW55W10pID0+XG4gIChjb21tYW5kOiBhbnkpOiBjb21tYW5kIGlzIFQgPT5cbiAgICBjb21tYW5kID09PSBuYW1lWzBdIHx8XG4gICAgbmFtZS5zb21lKFxuICAgICAgKG5hbWUpID0+IHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIGNvbW1hbmQ/LltuYW1lXSAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiIsImltcG9ydCB7IENhcnRFdmVudERhdGEgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuaW1wb3J0IHsgY29tbWFuZFRlc3QgfSBmcm9tIFwiLi9zaGFyZWRcIjtcblxuLyoqXG4gKiBUcmlnZ2VycyBldmVudHMgcmVsYXRlZCB0byBhIHNob3BwaW5nIGNhcnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FydENvbW1hbmQge1xuICBjYXJ0OiBcImNsZWFyXCIgfCBDYXJ0RXZlbnREYXRhO1xufVxuXG5leHBvcnQgY29uc3QgaXNDYXJ0Q29tbWFuZCA9IGNvbW1hbmRUZXN0PENhcnRDb21tYW5kPihcImNhcnRcIik7XG4iLCJpbXBvcnQgdHlwZSB7IE51bGxpc2ggfSBmcm9tIFwiQHRhaWxqcy91dGlsXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVVzZXJDb21tYW5kIHtcbiAgdXNlcm5hbWU6IHN0cmluZyB8IE51bGxpc2g7XG59XG5cbmV4cG9ydCBjb25zdCBpc0NoYW5nZVVzZXJDb21tYW5kID0gY29tbWFuZFRlc3Q8Q2hhbmdlVXNlckNvbW1hbmQ+KFwidXNlcm5hbWVcIik7XG4iLCJpbXBvcnQgdHlwZSB7IFRhZ01hcHBpbmdzIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG5leHBvcnQgdHlwZSBUYWdBdHRyaWJ1dGVzQ29tbWFuZCA9IHtcbiAgdGFnQXR0cmlidXRlczogVGFnTWFwcGluZ3M7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGFnQXR0cmlidXRlc0NvbW1hbmQgPVxuICBjb21tYW5kVGVzdDxUYWdBdHRyaWJ1dGVzQ29tbWFuZD4oXCJ0YWdBdHRyaWJ1dGVzXCIpO1xuIiwiaW1wb3J0IHsgY29tbWFuZFRlc3QgfSBmcm9tIFwiLi9zaGFyZWRcIjtcblxuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIHRyYWNraW5nLlxuICovXG5leHBvcnQgdHlwZSBUb2dnbGVDb21tYW5kID0ge1xuICBkaXNhYmxlOiBib29sZWFuO1xufTtcbmV4cG9ydCBjb25zdCBpc1RvZ2dsZUNvbW1hbmQgPSBjb21tYW5kVGVzdDxUb2dnbGVDb21tYW5kPihcImRpc2FibGVcIik7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIENhcnRBY3Rpb24sXG4gIENhcnRFdmVudERhdGEsXG4gIENvbmZpZ3VyZWRDb21wb25lbnQsXG4gIENvbnRlbnQsXG4gIFBhcnNhYmxlVGFncyxcbiAgVGFnLFxuICBUcmFja2luZ1NldHRpbmdzLFxufSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xuXG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuaW1wb3J0IHsgTWF5YmVBcnJheSwgTnVsbGlzaCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBCb3VuZGFyeURhdGE8UmVxdWlyZUFycmF5cyA9IGZhbHNlPiB7XG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IGRlZmluaXRpb24ocykgYXNzb2NpYXRlZCB3aXRoIHRoZSBib3VuZGFyeSBlbGVtZW50LlxuICAgKi9cbiAgY29tcG9uZW50PzogTWF5YmVBcnJheTxDb25maWd1cmVkQ29tcG9uZW50LCB0cnVlLCBSZXF1aXJlQXJyYXlzPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IGRlZmluaXRpb24ocykgYXNzb2NpYXRlZCB3aXRoIHRoZSBib3VuZGFyeSBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudD86IE1heWJlQXJyYXk8Q29udGVudCwgdHJ1ZSwgUmVxdWlyZUFycmF5cz4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgY29udGVudCBhcmVhIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbiAgICpcbiAgICogQSBjb250ZW50IGFyZWEgaXMgdXNlZCB0byBpbmRpY2F0ZSB3aGVyZSBhY3RpdmF0ZWQgY29tcG9uZW50cyBhcmUgdXNlZC5cbiAgICovXG4gIGFyZWE/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAgVGhlc2UgdGFncyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnRzIGFuZCBjb250ZW50IGluIHVzZXIgYWN0aXZhdGlvbnMgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudCBvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzLlxuICAgKi9cbiAgdGFncz86IFJlcXVpcmVBcnJheXMgZXh0ZW5kcyB0cnVlID8gVGFnW10gOiBQYXJzYWJsZVRhZ3M7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IHdpbGwgaW5jbHVkZSBjYXJ0IGRhdGEgd2hlbiBhY3RpdmF0ZWQuXG4gICAqL1xuICBjYXJ0PzogQ2FydEFjdGlvbiB8IENhcnRFdmVudERhdGE7XG5cbiAgLyoqXG4gICAqIFNldHRpbmdzIHRoYXQgd2lsbCBhcHBseSB0byBjb21wb25lbnRzIGNvbnRhaW5lZCBieSB0aGUgYm91bmRhcnkgZWxlbWVudCBpbmNsdWRpbmcgaXRzZWxmLCBzaW1pbGFyIHRvIHNwZWNpZnlpbmcgXCJ0cmFjay0qXCIgSE1UTCBhdHRyaWJ1dGVzIG9uIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgdHJhY2s/OiBUcmFja2luZ1NldHRpbmdzO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBlbGVtZW50IGFzIHRoZSBib3VuZGFyeSBmb3IgYSBjb21wb25lbnQgb3Igc2ltaWxhciB0cmFja2luZyBkYXRhLiBBbGwgZXZlbnRzIHRyaWdnZXJlZCBmcm9tIHRoZSBlbGVtZW50IG9yIGl0cyBkZXNjZW5kYW50cyB3aWxsIGhhdmUgdGhpcyBpbmZvcm1hdGlvbiBhdHRhY2hlZC5cbiAqIEluIGNhc2Ugb2YgbmVzdGVkIGJvdW5kYXJpZXMgdGhlIGNsb3Nlc3Qgb25lIGlzIHVzZWQuXG4gKi9cbmV4cG9ydCB0eXBlIEJvdW5kYXJ5Q29tbWFuZCA9IHtcbiAgYm91bmRhcnk6IEVsZW1lbnQ7XG59ICYgKFxuICB8IChCb3VuZGFyeURhdGEgJiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb250ZW50LCB0YWdzIGFuZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGV4aXN0aW5nLCBpZiBhbnkuXG4gICAgICAgKi9cbiAgICAgIGFkZD86IGJvb2xlYW47XG4gICAgfSlcbiAgfCB7IHVwZGF0ZTogKGN1cnJlbnQ/OiBCb3VuZGFyeURhdGE8dHJ1ZT4pID0+IEJvdW5kYXJ5RGF0YSB8IE51bGxpc2ggfVxuKTtcblxuLy8ge1xuLy8gICAvKipcbi8vICAgICogVGhlIGNvbXBvbmVudCBkZWZpbml0aW9uKHMpIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbi8vICAgICovXG4vLyAgIGNvbXBvbmVudD86IENvbmZpZ3VyZWRDb21wb25lbnQgfCBDb25maWd1cmVkQ29tcG9uZW50W10gfCBudWxsO1xuXG4vLyAgIC8qKlxuLy8gICAgKiBUaGUgY29udGVudCBkZWZpbml0aW9uKHMpIGFzc29jaWF0ZWQgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudC5cbi8vICAgICovXG4vLyAgIGNvbnRlbnQ/OiBDb250ZW50IHwgQ29udGVudFtdIHwgbnVsbDtcblxuLy8gICAvKipcbi8vICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbnRlbnQgYXJlYSBhc3NvY2lhdGVkIHdpdGggdGhlIGJvdW5kYXJ5IGVsZW1lbnQuXG4vLyAgICAqXG4vLyAgICAqIEEgY29udGVudCBhcmVhIGlzIHVzZWQgdG8gaW5kaWNhdGUgd2hlcmUgYWN0aXZhdGVkIGNvbXBvbmVudHMgYXJlIHVzZWQuXG4vLyAgICAqL1xuLy8gICBhcmVhPzogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsO1xuXG4vLyAgIC8qKlxuLy8gICAgKiAgVGhlc2UgdGFncyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnRzIGFuZCBjb250ZW50IGluIHVzZXIgYWN0aXZhdGlvbnMgd2l0aCB0aGUgYm91bmRhcnkgZWxlbWVudCBvciBhbnkgb2YgaXRzIGRlc2NlbmRhbnRzLlxuLy8gICAgKi9cbi8vICAgdGFncz86IFRhZyB8IFRhZ1tdIHwgbnVsbDtcblxuLy8gICAvKipcbi8vICAgICogVGhlIGVsZW1lbnQgd2lsbCBpbmNsdWRlIGNhcnQgZGF0YSB3aGVuIGFjdGl2YXRlZC5cbi8vICAgICovXG4vLyAgIGNhcnQ/OiBDYXJ0QWN0aW9uIHwgQ2FydEV2ZW50RGF0YTtcblxuLy8gICAvKipcbi8vICAgICogVGhlIGVsZW1lbnQncyBjb21wb25lbnQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgc3RhY2sgZXZlbiB3aGVuIHRoZSBhY3RpdmF0aW9uIHRyYWNraW5nIGxldmVsIGlzIGBkaXJlY3RgLlxuLy8gICAgKi9cbi8vICAgcHJvbW90ZT86IGJvb2xlYW47XG5cbi8vICAgLyoqXG4vLyAgICAqIFNwZWNpZmllcyBob3cgdGhlIHRoaXMgY29tbWFuZCBtb2RpZmllcyB0aGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIGJvdW5kYXJ5IGVsZW1lbnQuXG4vLyAgICAqXG4vLyAgICAqIE9ubHkgcHJvcGVydGllcyBwcmVzZW50IGluIHRoaXMgY29tbWFuZCBhcmUgYWZmZWN0ZWQgKGUuZy4gYGNvbXBvbmVudGAgb3IgYGNvbnRlbnRgKSB1bmxlc3MgdGhlIGFjdGlvbiBpcyBgY2xlYXJgLlxuLy8gICAgKlxuLy8gICAgKiBAZGVmYXVsdCBcImFkZFwiXG4vLyAgICAqL1xuLy8gICBhY3Rpb24/OiBcImFkZFwiIHwgXCJyZW1vdmVcIiB8IFwiY2xlYXJcIjtcblxuLy8gICAvKipcbi8vICAgICogVGhlIERPTSBlbGVtZW50IHRoYXQgZ2V0cyB0aGlzIGNvbW1hbmQncyBkYXRhIGFzc29jaWF0ZWQuXG4vLyAgICAqL1xuLy8gICBib3VuZGFyeTogRWxlbWVudDtcbi8vIH1cblxuZXhwb3J0IGNvbnN0IGlzRGF0YUJvdW5kYXJ5Q29tbWFuZCA9IGNvbW1hbmRUZXN0PEJvdW5kYXJ5Q29tbWFuZD4oXCJib3VuZGFyeVwiKTtcbiIsImltcG9ydCB0eXBlIHsgVHJhY2tlckV4dGVuc2lvbkZhY3RvcnkgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5zaW9uQ29tbWFuZCB7XG4gIGV4dGVuc2lvbjogVHJhY2tlckV4dGVuc2lvbkZhY3Rvcnk7XG4gIHByaW9yaXR5PzogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IGlzRXh0ZW5zaW9uQ29tbWFuZCA9IGNvbW1hbmRUZXN0PEV4dGVuc2lvbkNvbW1hbmQ+KFwiZXh0ZW5zaW9uXCIpO1xuIiwiaW1wb3J0IHsgVCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogQ2F1c2VzIGFsbCBxdWV1ZWQgZXZlbnRzIHRvIGJlIHBvc3RlZCB0byB0aGUgc2VydmVyIGltbWVkaWF0ZWx5LlxuICovXG5leHBvcnQgdHlwZSBGbHVzaENvbW1hbmQgPSB7IGZsdXNoOiBib29sZWFuOyBmb3JjZT86IGJvb2xlYW47IGRlZmVyPzogYm9vbGVhbiB9O1xuZXhwb3J0IGNvbnN0IGlzRmx1c2hDb21tYW5kID0gY29tbWFuZFRlc3Q8Rmx1c2hDb21tYW5kPihULCBcImZsdXNoXCIpO1xuIiwiaW1wb3J0IHsgTWF5YmVBcnJheSwgUGlja1JlcXVpcmVkIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xuaW1wb3J0IHsgQ2xpZW50VmFyaWFibGVHZXR0ZXIgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogVXNlZCB0byBnZXQgdmFyaWFibGVzIChkYXRhKSBmcm9tIHRoZSBiYWNrZW5kLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENvbW1hbmQge1xuICBnZXQ6IE1heWJlQXJyYXk8UGlja1JlcXVpcmVkPENsaWVudFZhcmlhYmxlR2V0dGVyLCBcImNhbGxiYWNrXCI+PjtcblxuICAvL01heWJlQXJyYXk8UGlja1JlcXVpcmVkPENsaWVudFZhcmlhYmxlR2V0dGVyLCBcInJlc3VsdFwiPiwgdHJ1ZT47XG59XG5cbmV4cG9ydCBjb25zdCBpc0dldENvbW1hbmQgPSBjb21tYW5kVGVzdDxHZXRDb21tYW5kPihcImdldFwiKTtcbiIsImltcG9ydCB0eXBlIHsgTGlzdGVuZXIgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYmVmb3JlIGFuZCBhZnRlciBldmVudHMgYXJlIGZsdXNoZWQuXG4gKiBVc2VmdWwgZm9yIGRlYnVnZ2luZyBvciBjbGllbnQtc2lkZSBpbnRlZ3JhdGlvbiB3aXRoIG90aGVyIHRyYWNrZXIgbGlicmFyaWVzIChpZiBvbmUgYWJzb2x1dGVseSBtdXN0KS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lckNvbW1hbmQge1xuICBsaXN0ZW5lcjogTGlzdGVuZXI7XG59XG5leHBvcnQgY29uc3QgaXNMaXN0ZW5lckNvbW1hbmQgPSBjb21tYW5kVGVzdDxMaXN0ZW5lckNvbW1hbmQ+KFwibGlzdGVuZXJcIik7XG4iLCJpbXBvcnQgeyBPcmRlciwgT3JkZXJFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG4vKipcbiAqIFNob3J0aGFuZCBjb21tYW5kIHRvIHRyaWdnZXIgYW4ge0BsaW5rIE9yZGVyRXZlbnR9IGV2ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyQ29tbWFuZCB7XG4gIC8qKlxuICAgKiBUaGUgb3JkZXIgdGhhdCB3YXMgY29tcGxldGVkIG9yIGNhbmNlbGxlZC5cbiAgICovXG4gIG9yZGVyOiBPcmRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGlzT3JkZXJDb21tYW5kID0gY29tbWFuZFRlc3Q8T3JkZXJDb21tYW5kPihcIm9yZGVyXCIpO1xuIiwiaW1wb3J0IHR5cGUgeyBDb21wb25lbnQsIEV4dGVybmFsUmVmZXJlbmNlIH0gZnJvbSBcIkB0YWlsanMvdHlwZXNcIjtcbmltcG9ydCB7IGNvbW1hbmRUZXN0IH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBvbmVudE9yQ29udGVudCA9XG4gIHwgeyBjb21wb25lbnQ6IENvbXBvbmVudCB9XG4gIHwgeyBjb250ZW50OiBFeHRlcm5hbFJlZmVyZW5jZSB9O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBlbGVtZW50IGFzIHRoZSBib3VuZGFyeSBmb3IgYSBjb21wb25lbnQuIEFsbCBldmVudHMgdHJpZ2dlcmVkIGZyb20gdGhlIGVsZW1lbnQgb3IgaXRzIGRlc2NlbmRhbnRzIHdpbGwgaGF2ZSB0aGlzIGluZm9ybWF0aW9uIGF0dGFjaGVkLlxuICogSW4gY2FzZSBvZiBuZXN0ZWQgYm91bmRhcmllcyB0aGUgY2xvc2VzdCBvbmUgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY2FuQ29tcG9uZW50c0NvbW1hbmQge1xuICBzY2FuOiB7XG4gICAgYXR0cmlidXRlOiBzdHJpbmc7XG4gICAgY29tcG9uZW50czogQ29tcG9uZW50T3JDb250ZW50W107XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBpc1NjYW5Db21wb25lbnRzQ29tbWFuZCA9XG4gIGNvbW1hbmRUZXN0PFNjYW5Db21wb25lbnRzQ29tbWFuZD4oXCJzY2FuXCIpO1xuIiwiaW1wb3J0IHsgTWF5YmVBcnJheSB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcbmltcG9ydCB7IENsaWVudFZhcmlhYmxlU2V0dGVyIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xuXG4vKipcbiAqIFVzZWQgdG8gc2V0IHZhcmlhYmxlcyAoZGF0YSkgaW4gdGhlIGJhY2tlbmQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0Q29tbWFuZCB7XG4gIC8qKiBBbiBvYmplY3Qgd2hlcmUgdGhlIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIGNvcnJlc3BvbmQgdG8gdGhlIHZhcmlhYmxlcyBzZXQgaW4gdGhlIHRyYWNrZXIuICovXG4gIHNldDogTWF5YmVBcnJheTxDbGllbnRWYXJpYWJsZVNldHRlcj47XG59XG5cbmV4cG9ydCBjb25zdCBpc1NldENvbW1hbmQgPSBjb21tYW5kVGVzdDxTZXRDb21tYW5kPihcInNldFwiKTtcbiIsImltcG9ydCB0eXBlIHsgVHJhY2tlciwgVHJhY2tlckNvbW1hbmQgfSBmcm9tIFwiLi5cIjtcblxuZXhwb3J0IHR5cGUgVXNlVHJhY2tlckNvbW1hbmQgPSAodHJhY2tlcjogVHJhY2tlcikgPT4gdm9pZDtcbmV4cG9ydCBjb25zdCBpc1RyYWNrZXJBdmFpbGFibGVDb21tYW5kID0gKFxuICBjb21tYW5kOiBUcmFja2VyQ29tbWFuZFxuKTogY29tbWFuZCBpcyAodHJhY2tlcjogVHJhY2tlcikgPT4gdm9pZCA9PiB0eXBlb2YgY29tbWFuZCA9PT0gXCJmdW5jdGlvblwiO1xuIiwiaW1wb3J0IHsgRGF0YVVzYWdlLCBVc2VyQ29uc2VudCwgVmFyaWFibGVQb2xsQ2FsbGJhY2sgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xyXG5pbXBvcnQgeyBjb21tYW5kVGVzdCB9IGZyb20gXCIuL3NoYXJlZFwiO1xyXG5pbXBvcnQgeyBNYXliZVByb21pc2VMaWtlIH0gZnJvbSBcIkB0YWlsanMvdXRpbFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXh0ZXJuYWxDb25zZW50UG9sbGVyID0gKFxyXG4gIGN1cnJlbnQ6IERhdGFVc2FnZSB8IHVuZGVmaW5lZFxyXG4pID0+IERhdGFVc2FnZSB8IHVuZGVmaW5lZDtcclxuXHJcbi8qKiBSZXR1cm4gYHRydWVgIGlmIHlvdSB3YW50IHRoaXMgY2FsbGJhY2sgaW52b2tlZCBldmVyeSB0aW1lIHRoZSBjb25zZW50IGNoYW5nZXMsIGFuZCBub3QganVzdCBvbmNlLiAqL1xyXG5leHBvcnQgdHlwZSBDb25zZW50Q2FsbGJhY2sgPSAoXHJcbiAgY29uc2VudDogVXNlckNvbnNlbnQsXHJcbiAgcHJldmlvdXM6IFVzZXJDb25zZW50IHwgdW5kZWZpbmVkXHJcbikgPT4gTWF5YmVQcm9taXNlTGlrZTxib29sZWFuIHwgdW5kZWZpbmVkIHwgdm9pZD47XHJcblxyXG4vKiogR2V0cyBvciB1cGRhdGVzIHRoZSB1c2VyJ3MgY29uc2VudC4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb25zZW50Q29tbWFuZCB7XHJcbiAgY29uc2VudDoge1xyXG4gICAgZ2V0PzogQ29uc2VudENhbGxiYWNrO1xyXG4gICAgc2V0PzpcclxuICAgICAgfCBEYXRhVXNhZ2VcclxuICAgICAgfCB7XHJcbiAgICAgICAgICBjb25zZW50OiBEYXRhVXNhZ2U7XHJcbiAgICAgICAgICBjYWxsYmFjaz86IChcclxuICAgICAgICAgICAgdXBkYXRlZDogYm9vbGVhbixcclxuICAgICAgICAgICAgY3VycmVudDogVXNlckNvbnNlbnQgfCB1bmRlZmluZWRcclxuICAgICAgICAgICkgPT4gdm9pZDtcclxuICAgICAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHBvbGwgdGhlIGNsaWVudCdzIGJyb3dzZXIgZW52aXJvbm1lbnQgZm9yIHNvbWV0aGluZyB0aGF0IHRyYW5zbGF0ZXMgaW50byBhIHRhaWwuanMgY29uc2VudC5cclxuICAgICAqIFRoZSBwcmltYXJ5IHVzZSBjYXNlIGlzIHRvIGludGVncmF0ZSB3aXRoIGEgQ01QIChlLmcuIENvb2tpZWJvdCkuXHJcbiAgICAgKlxyXG4gICAgICogUGxlYXNlIHByb3ZpZGUgYSB1bmlxdWUga2V5IGZvciB0aGUgcG9sbCBmdW5jdGlvbiB0byBhdm9pZCB1bmludGVuZGVkIGRvdWJsZSBwb2xsaW5nIGlmIGZvciBzb21lIHJlYXNvblxyXG4gICAgICogdGhlIGNvbW1hbmQgaXMgdW5pbnRlbnRpb25hbGx5IHN1Ym1pdHRlZCBtb3JlIHRoYW4gb25jZS5cclxuICAgICAqL1xyXG4gICAgZXh0ZXJuYWxTb3VyY2U/OiB7XHJcbiAgICAgIGtleTogc3RyaW5nO1xyXG4gICAgICBwb2xsOiBFeHRlcm5hbENvbnNlbnRQb2xsZXI7XHJcbiAgICAgIC8qKiBAZGVmYXVsdCAxMDAwICovXHJcbiAgICAgIGZyZXF1ZW5jeT86IG51bWJlcjtcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzVXBkYXRlQ29uc2VudENvbW1hbmQgPSBjb21tYW5kVGVzdDxDb25zZW50Q29tbWFuZD4oXCJjb25zZW50XCIpO1xyXG4iLCJpbXBvcnQgeyBUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUiB9IGZyb20gXCJAY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBpbml0aWFsaXplVHJhY2tlciB9IGZyb20gXCIuXCI7XG5pbml0aWFsaXplVHJhY2tlcihUUkFDS0VSX0NPTkZJR19QTEFDRUhPTERFUik7XG4iLCJpbXBvcnQgeyBVc2VyQWdlbnRFdmVudCwgVXNlckFnZW50TGFuZ3VhZ2UgfSBmcm9tIFwiQHRhaWxqcy90eXBlc1wiO1xyXG5pbXBvcnQgeyBtYXAyLCByZXN0cmljdCB9IGZyb20gXCJAdGFpbGpzL3V0aWxcIjtcclxuaW1wb3J0IHsgVHJhY2tlciwgY3VycmVudFZpZXdFdmVudCwgZGV0ZWN0RGV2aWNlVHlwZSB9IGZyb20gXCIuLlwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvc3RVc2VyQWdlbnRFdmVudCA9ICh0cmFja2VyOiBUcmFja2VyKSA9PlxyXG4gIHRyYWNrZXIoXHJcbiAgICByZXN0cmljdDxVc2VyQWdlbnRFdmVudD4oe1xyXG4gICAgICB0eXBlOiBcInVzZXJfYWdlbnRcIixcclxuICAgICAgaGFzVG91Y2g6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAsXHJcbiAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuICAgICAgdmlldzogY3VycmVudFZpZXdFdmVudD8uY2xpZW50SWQsXHJcbiAgICAgIGxhbmd1YWdlczogbWFwMihuYXZpZ2F0b3IubGFuZ3VhZ2VzLCAoaWQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCBbbGFuZ3VhZ2UsIHJlZ2lvbl0gPSBpZC5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgcmV0dXJuIHJlc3RyaWN0PFVzZXJBZ2VudExhbmd1YWdlPih7XHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGxhbmd1YWdlLFxyXG4gICAgICAgICAgcmVnaW9uLFxyXG4gICAgICAgICAgcHJpbWFyeTogaSA9PT0gMCxcclxuICAgICAgICAgIHByZWZlcmVuY2U6IGkgKyAxLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KSxcclxuICAgICAgdGltZXpvbmU6IHtcclxuICAgICAgICBpYW5hOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUsXHJcbiAgICAgICAgb2Zmc2V0OiBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCksXHJcbiAgICAgIH0sXHJcbiAgICAgIC4uLmRldGVjdERldmljZVR5cGUoKSxcclxuICAgIH0pXHJcbiAgKTtcclxuIiwiaW1wb3J0IHR5cGUgeyBVc2VyQWdlbnRFdmVudCB9IGZyb20gXCJAdGFpbGpzL3R5cGVzXCI7XG5pbXBvcnQgeyB3aW5kb3cgfSBmcm9tIFwiLi4vbGliXCI7XG5cbmV4cG9ydCBjb25zdCBkZXRlY3REZXZpY2VUeXBlID0gKCk6IFBpY2s8XG4gIFVzZXJBZ2VudEV2ZW50LFxuICBcImRldmljZVR5cGVcIiB8IFwic2NyZWVuXCJcbj4gPT4ge1xuICAvLyBDb21tb24gdGhyZXNob2xkcyBiYXNlZCBvbiBodHRwczovL3llc3Zpei5jb20vdmlld3BvcnQvXG4gIGNvbnN0IHNjcmVlbiA9IHdpbmRvdz8uc2NyZWVuO1xuICBpZiAoIXNjcmVlbikgcmV0dXJuIHt9O1xuXG4gIGxldCB7IHdpZHRoOiB3LCBoZWlnaHQ6IGgsIG9yaWVudGF0aW9uOiBvIH0gPSBzY3JlZW47IC8vIEdldCdzIHRoZSByZXNvbHV0aW9uIGluIGxvZ2ljYWwgKENTUykgcGl4ZWxzLlxuICBjb25zdCBsYW5kc2NhcGUgPSB3IDwgaDtcbiAgY29uc3QgYW5nbGUgPSBvPy5hbmdsZSA/PyB3aW5kb3dbXCJvcmllbnRhdGlvblwiXSA/PyAwO1xuICAoYW5nbGUgPT09IC05MCB8fCBhbmdsZSA9PT0gOTApICYmIChbdywgaF0gPSBbaCwgd10pO1xuXG4gIHJldHVybiB7XG4gICAgZGV2aWNlVHlwZTogdyA8IDQ4MCA/IFwibW9iaWxlXCIgOiB3IDw9IDEwMjQgPyBcInRhYmxldFwiIDogXCJkZXNrdG9wXCIsXG4gICAgc2NyZWVuOiB7IGRwcjogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIGxhbmRzY2FwZSB9LFxuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJzdHJpbmdSdWxlQ2FjaGUiLCJpbnB1dCIsIm1hdGNoUHJvamVjdGlvbiIsImNvbGxlY3RlZCIsIm1ldGFkYXRhIiwia2V5IiwiY3VycmVudCIsInBvcyIsInNjcmVlblBvcyIsIngiLCJ5IiwicmVjdCIsImNhY2hlZCIsIm5hbWUiLCJjYWNoZWRNYXBwaW5ncyIsImN1cnJlbnRCb3VuZGFyeURhdGEiLCJwcm9wZXJ0eVZhbHVlIiwiX2RlZmF1bHRUcmFuc3BvcnRzIiwiZXYiLCJwb3N0Q2FsbGJhY2tzIiwidHJhY2tlciIsImN1cnJlbnRWaWV3RXZlbnQiLCJwdXNoUG9wTmF2aWdhdGlvbiIsImVudHJ5IiwiY29udGVudCIsInRocm93RXJyb3IiLCJlcnJvciIsInRyYW5zZm9ybSIsIm1lc3NhZ2UiLCJFcnJvciIsImlzU3RyaW5nIiwidW53cmFwIiwic3RydWN0dXJhbEVxdWFscyIsInZhbHVlMSIsInZhbHVlMiIsImRlcHRoIiwiaXNBcnJheSIsImlzUGxhaW5PYmplY3QiLCJsZW5ndGgiLCJuIiwiT2JqZWN0Iiwia2V5cyIsImVxdWFsc0FueSIsInRhcmdldCIsInNpbmdsZVZhbHVlIiwib3RoZXJWYWx1ZXMiLCJzb21lIiwidCIsInZhbHVlIiwidHJ5Q2F0Y2giLCJleHByZXNzaW9uIiwiZXJyb3JIYW5kbGVyIiwiYWx3YXlzIiwiZSIsImlzRnVuY3Rpb24iLCJpc0Vycm9yIiwiaXNCb29sZWFuIiwiY29uc29sZSIsIkRlZmVycmVkUHJvbWlzZSIsIlByb21pc2UiLCJpbml0aWFsaXplZCIsInRoaXMiLCJfcmVzdWx0IiwidGhlbiIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsIl90aGlzX19yZXN1bHQiLCJfYWN0aW9uIiwiY2F0Y2giLCJmaW5hbGx5Iiwib25maW5hbGx5IiwiY29uc3RydWN0b3IiLCJhY3Rpb24iLCJzdXBlciIsIl9kZWZpbmVfcHJvcGVydHkiLCJkZWZlcnJlZFByb21pc2UiLCJhc3luYyIsInRyeUNhdGNoQXN5bmMiLCJhd2FpdCIsInJlc3RyaWN0IiwiaXRlbSIsImlzVHJ1aXNoIiwiaXNUcnVlIiwiVCIsInVuZGVmaW5lZCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJOdW1iZXIiLCJGIiwiTk9PUCIsIklERU5USVRZIiwiRklMVEVSX05VTExJU0giLCJzeW1ib2xJdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwic3ltYm9sQXN5bmNJdGVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJjcmVhdGVUeXBlQ29udmVydGVyIiwidHlwZVRlc3RlciIsInBhcnNlciIsInBhcnNlIiwiaWZEZWZpbmVkIiwicmVzdWx0T3JQcm9wZXJ0eSIsInBhcnNlQm9vbGVhbiIsImlzTm90RmFsc2UiLCJpc051bWJlciIsInRvU3RyaW5nIiwiQXJyYXkiLCJhcnJheSIsImNsb25lIiwiaXNJdGVyYWJsZSIsImlzT2JqZWN0IiwiaGFzTWV0aG9kIiwiaXNTeW1ib2wiLCJhY2NlcHRTdHJpbmdzIiwiaXNNYXAiLCJNYXAiLCJpc1NldCIsIlNldCIsInJvdW5kIiwibnVtYmVyIiwiZGVjaW1hbHMiLCJNYXRoIiwicG93IiwidGVzdEZpcnN0TGFzdCIsInMiLCJmaXJzdCIsImxhc3QiLCJpc0pzb25TdHJpbmciLCJzdG9wSW52b2tlZCIsInN0b3AiLCJ5aWVsZFZhbHVlIiwid3JhcFByb2plY3Rpb24iLCJwcm9qZWN0aW9uIiwic2xpY2VBY3Rpb24iLCJzdGFydCIsImVuZCIsImluZGV4IiwiZmlsdGVyQXJyYXkiLCJmaWx0ZXIiLCJjcmVhdGVJdGVyYXRvciIsInNvdXJjZSIsImNyZWF0ZUZpbHRlcmluZ0l0ZXJhdG9yIiwiaSIsImNyZWF0ZU9iamVjdEl0ZXJhdG9yIiwiY3JlYXRlTmF2aWdhdGluZ0l0ZXJhdG9yIiwic3RlcCIsIm1heEl0ZXJhdGlvbnMiLCJ5aWVsZCIsImNyZWF0ZVJhbmdlSXRlcmF0b3IiLCJvZmZzZXQiLCJwcm9qZWN0IiwiZmxhdHRlbiIsImV4cGFuZE9iamVjdHMiLCJmbGF0dGVuSW50ZXJuYWwiLCJuZXN0ZWQiLCJtYXAiLCJtYXBwZWQiLCJwdXNoIiwiYXJyYXkyIiwiZGlzdGluY3QiLCJmbGF0TWFwIiwiY29uY2F0IiwiaXRlbXMiLCJtZXJnZWQiLCJmb3JFYWNoIiwiZm9yRWFjaEFycmF5IiwicmV0dXJuVmFsdWUiLCJmb3JFYWNoSXRlcmFibGUiLCJmb3JFYWNoT2JqZWN0IiwiZm9yRWFjaEludGVybmFsIiwiZm9yRWFjaEFzeW5jIiwiZnJvbUVudHJpZXMiLCJyZXN1bHQiLCJvYmoiLCJzZWxlY3RvciIsIm1lcmdlIiwiXyIsInJlZHVjZSIsInJlZHVjZXIiLCJzZWVkIiwic2VlZEZhY3RvcnkiLCJfcmVkdWNlciIsInByZWRpY2F0ZSIsImNvdW50Iiwic2l6ZSIsIm1heCIsImFyZ3MiLCJwcm9qZWN0ZWQiLCJfcmVmIiwiX3NvdXJjZV9zb21lMSIsIl9zb3VyY2Vfc29tZSIsImNhbGwiLCJzb3J0IiwicmFuayIsImxocyIsInJocyIsInNldCIsImRlbGV0ZSIsImFkZCIsImdldCIsImluaXQiLCJoYXMiLCJ2YWx1ZXMiLCJhc3NpZ24iLCJzZXR0ZXIiLCJ1cGRhdGUiLCJyZW1vdmUiLCJldSIsInNwbGljZSIsImsiLCJ2IiwidW5zaGlmdCIsImRpZmYiLCJ1cGRhdGVkIiwicHJldmlvdXMiLCJwYXRjaGVkVmFsdWUiLCJwYXRjaGVkIiwiZGVsdGEiLCJwcmV2aW91c1ZhbHVlIiwibm93IiwicGVyZm9ybWFuY2UiLCJ0cnVuYyIsInRpbWVPcmlnaW4iLCJEYXRlIiwiY3JlYXRlVGltZXIiLCJzdGFydGVkIiwidGltZVJlZmVyZW5jZSIsImNhcHR1cmVkRWxhcHNlZCIsInQwIiwiZWxhcHNlZCIsInRvZ2dsZSIsInJlc2V0IiwiY2xvY2siLCJjYWxsYmFja09yU2V0dGluZ3MiLCJmcmVxdWVuY3kiLCJzZXR0aW5ncyIsImNhbGxiYWNrIiwicXVldWUiLCJwYXVzZWQiLCJ0cmlnZ2VyIiwib25jZSIsInJhZiIsInRpbWVvdXRJZCIsIm11dGV4IiwicHJvbWlzZSIsInJlc29sdmUiLCJ0aW1lciIsIm91dGVyQ2FsbGJhY2siLCJza2lwUXVldWUiLCJwZW5kaW5nIiwiaW5zdGFuY2UiLCJidXN5IiwidXBkYXRlVGltZW91dCIsInNldFRpbWVvdXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lb3V0Q2FsbGJhY2siLCJhY3RpdmUiLCJyZXNldFRpbWVyIiwiY2xlYXJUaW1lb3V0IiwicmVzdGFydCIsIm5ld0ZyZXF1ZW5jeSIsIm5ld0NhbGxiYWNrIiwiUmVzZXR0YWJsZVByb21pc2UiLCJfcHJvbWlzZSIsImlmUGVuZGluZyIsInJlamVjdCIsIk9wZW5Qcm9taXNlIiwic2lnbmFsIiwiY2FwdHVyZWQiLCJpbm5lciIsIlR5cGVFcnJvciIsImRlbGF5IiwibXMiLCJpc0Zpbml0ZSIsInIiLCJyZXNldHRhYmxlIiwiY3JlYXRlRXZlbnRCaW5kZXJzIiwibGlzdGVuZXIiLCJhdHRhY2giLCJkZXRhY2giLCJib3VuZCIsIm91dGVyTGlzdGVuZXIiLCJ1bmJpbmQiLCJyZWJpbmQiLCJjcmVhdGVFdmVudCIsImRpc3BhdGNoZWRBcmdzIiwibGlzdGVuZXJzIiwiaGFuZGxlciIsImJpbmRlcnMiLCJwYXlsb2FkIiwicGx1cmFsaXplIiwic2luZ3VsYXIiLCJwbHVyYWwiLCJhbnNpU3VwcG9ydGVkIiwiYW5zaSIsInBzIiwiYnVmZmVyIiwiam9pbiIsImVsbGlwc2lzIiwidGV4dCIsIm1heExlbmd0aCIsImRlYnVnIiwic2xpY2UiLCJjcmVhdGVFbnVtUGFyc2VyIiwibGV2ZWxzIiwicmFua3MiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInZhbGlkYXRlIiwicHJvcGVydHlTZXR0aW5ncyIsImRlZmluZVByb3BlcnRpZXMiLCJjb21wYXJlIiwicmFuazEiLCJyYW5rMiIsInBhcmFtZXRlckxpc3RTeW1ib2wiLCJwYXJzZUtleVZhbHVlIiwiZGVsaW1pdGVycyIsImRlY29kZSIsImxvd2VyQ2FzZSIsInNwbGl0IiwicGFydHMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0cmltIiwicmVwbGFjZUFsbCIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaDIiLCJkZWxpbSIsInN0b3AyIiwicGFyc2VVcmkiLCJ1cmkiLCJyZXF1aXJlQXV0aG9yaXR5Iiwib3B0aW9ucyIsIm1hdGNoIiwic2NoZW1lIiwic2xhc2hlcyIsImF1dGhvcml0eSIsInVzZXIiLCJwYXNzd29yZCIsImJyYWNrZXRIb3N0IiwiaG9zdCIsInBvcnQiLCJwYXRoIiwicXVlcnlTdHJpbmciLCJmcmFnbWVudCIsInBhcnNlZCIsInVybiIsInBhcnNlSW50IiwicXVlcnkiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwicGFyc2VQYXJhbWV0ZXJzIiwic2VwYXJhdG9yIiwicGFyYW1ldGVycyIsIm1hcDIiLCJwYXJ0IiwicmVwbGFjZSIsInNraXAyIiwicmVzdWx0cyIsIm9iajIiLCJncm91cDIiLCJjb25jYXQyIiwidGVzdFJlZ2V4IiwidGVzdCIsIm1hdGNoZXMiLCJyZWdleCIsImNvbGxlY3QiLCJlc2NhcGVSZWdFeCIsIlJFR0VYX05FVkVSIiwidW5pb25Pck5ldmVyIiwiam9pbmVkIiwiam9pbjIiLCJSZWdFeHAiLCJpc1JlZ0V4IiwicGFyc2VSZWdleCIsInNlcGFyYXRvcnMiLCJyZXBsYWNlVmFsdWUiLCJjcmVhdGVJbnRlcnZhbHMiLCJjbXAiLCJ3aWR0aCIsImludGVydmFsIiwicmFuZ2VzIiwiZmluYWxpemUiLCJzdW0iLCJjaGFuZ2VkIiwiZ2V0Um9vdFByb3RvdHlwZSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJmaW5kUHJvdG90eXBlRnJhbWUiLCJmcmFtZVdpbmRvdyIsIm1hdGNoUHJvdG90eXBlIiwiZnJhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY29udGVudFdpbmRvdyIsImZpbmREZWNsYXJpbmdTY29wZSIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJmb3JFYWNoU3ltYm9sIiwiYXN5bmNJdGVyYXRvckZhY3RvcnlTeW1ib2wiLCJlbnN1cmVGb3JFYWNoSW1wbGVtZW50YXRpb25zIiwicmV0cnkiLCJzY29wZSIsImNvbnRleHQiLCJnZW5lcmljRm9yRWFjaEl0ZXJhYmxlIiwicHJvdG90eXBlIiwiX3RoaXNfc3ltYm9sQXN5bmNJdGVyYXRvciIsIldlYWtNYXAiLCJXZWFrU2V0IiwicmFuZ2UyIiwiRnVuY3Rpb24iLCJ0cmF2ZXJzZTIiLCJuZXh0IiwiZmlsdGVyMiIsImludmVydCIsInByZXYiLCJmbGF0TWFwMiIsImdyb3VwcyIsImt2IiwiZ2V0MiIsInNvbWUyIiwiYXJnMCIsIm90aGVyIiwiYXJnIiwic29ydENvbXBhcmUiLCJkZXNjZW5kaW5nIiwibG9jYWxlQ29tcGFyZSIsInNldFN5bWJvbCIsImdldFN5bWJvbCIsInB1c2hTeW1ib2wiLCJlbnN1cmVBc3NpZ25JbXBsZW1lbnRhdGlvbnMiLCJpbml0aWFsaXplIiwiYWRkMiIsInNldDIiLCJwdXNoMiIsImFzc2lnbjIiLCJzb3VyY2VzIiwibWVyZ2UyIiwiZGVlcCIsIm92ZXJ3cml0ZSIsIm51bGxzIiwicGljazIiLCJpc0VtcHR5U3RyaW5nIiwiYXJnMSIsImFyZzIiLCJpdGVtaXplMiIsInJlc3QiLCJjb25qdW5jdGlvbiIsImVudW1lcmF0ZWQiLCJEYXRhQ2xhc3NpZmljYXRpb24iLCJuZXZlciIsImFub255bW91cyIsImluZGlyZWN0IiwiZGlyZWN0Iiwic2Vuc2l0aXZlIiwiREFUQV9QVVJQT1NFUyIsIlZBTElEX1BVUlBPU0VfTkFNRVMiLCJwdXJwb3NlIiwibWFwT3B0aW9uYWxQdXJwb3NlIiwiZnJlZXplIiwib3B0aW9uYWxQdXJwb3NlcyIsInBlcnNvbmFsaXphdGlvbiIsInNlY3VyaXR5IiwibWFwT3B0aW9uYWxQdXJwb3NlcyIsInB1cnBvc2VzIiwibWFwcGVkUHVycG9zZXMiLCJmdW5jdGlvbmFsaXR5IiwiRGF0YVB1cnBvc2VzIiwibmFtZXMiLCJzcGVjaWZpY05hbWVzIiwiaW5jbHVkZURlZmF1bHQiLCJTQ0hFTUFfVFlQRV9QUk9QRVJUWSIsImFsbCIsIm1hcmtldGluZyIsImludGVyc2VjdCIsInRhcmdldFB1cnBvc2UiLCJoYXNBbnkiLCJEYXRhVXNhZ2UiLCJwdWJsaWMiLCJ0cnVzdGVkLXdyaXRlIiwidHJ1c3RlZC1vbmx5IiwiY2xhc3NpZmljYXRpb24iLCJ1c2FnZSIsImVxdWFscyIsInVzYWdlMSIsInVzYWdlMiIsInNlcmlhbGl6ZSIsImRlc2VyaWFsaXplIiwidXNhZ2VTdHJpbmciLCJkZWZhdWx0VXNhZ2UiLCJjbGVhck1ldGFkYXRhIiwiZXZlbnQiLCJjbGllbnQiLCJwb3N0ZWQiLCJxdWV1ZWQiLCJlbnRyaWVzIiwiaXNFdmVudFBhdGNoIiwicGF0Y2hUYXJnZXRJZCIsIlZBTElEQVRJT05fRVJST1JfU1lNQk9MIiwiZm9ybWF0RXJyb3JTb3VyY2UiLCJKU09OIiwic3RyaW5naWZ5IiwiUkVHRVhfREFURSIsIlJFR0VYX0RBVEVUSU1FIiwiUkVHRVhfVVVJRCIsIlJFR0VYX1VSSSIsIlJFR0VYX0VNQUlMIiwiYWRkRXJyb3IiLCJlcnJvcnMiLCJ0eXBlIiwiaW50ZWdlciIsImFsbG93U3RyaW5ncyIsImlzTmFOIiwiaXNJbnRlZ2VyIiwicGFyc2VGbG9hdCIsInByaW1pdGl2ZVZhbGlkYXRvcnMiLCJWYXJpYWJsZVNlcnZlclNjb3BlIiwicHJpbWl0aXZlIiwiZW51bSIsImVudW1WYWx1ZXMiLCJ2YWxpZGF0b3IiLCJmb3JtYXQiLCJpc28iLCJhbGxvd051bWVyaWNTdHJpbmdzIiwidG9JU09TdHJpbmciLCJleGVjIiwibWluIiwiZXJyb3JNZXNzYWdlIiwiZ2xvYmFsIiwic2Vzc2lvbiIsImRldmljZSIsImZvcm1hdFZhcmlhYmxlS2V5IiwiZW50aXR5SWQiLCJleHRyYWN0S2V5IiwiVmFyaWFibGVSZXN1bHRTdGF0dXMiLCJpc1ZhcmlhYmxlUmVzdWx0IiwicmVxdWlyZUZvdW5kIiwic3RhdHVzIiwiaXNTdWNjZXNzUmVzdWx0IiwiZm9ybWF0VmFyaWFibGVSZXN1bHQiLCJWYXJpYWJsZVN0b3JhZ2VFcnJvciIsIm9wZXJhdGlvbnMiLCJzdWNjZWVkZWQiLCJmYWlsZWQiLCJfb3BlcmF0aW9uc19maWx0ZXIiLCJvcGVyYXRpb24iLCJfb3BlcmF0aW9uc19maWx0ZXIxIiwiaGFzQ2FsbGJhY2siLCJvcCIsImhhc1BvbGxDYWxsYmFjayIsInBvbGwiLCJzb3VyY2VPcGVyYXRpb24iLCJ0b1ZhcmlhYmxlUmVzdWx0UHJvbWlzZSIsIm9wZXJhdGlvblR5cGUiLCJsb2dDYWxsYmFja0Vycm9yIiwib3BzIiwiY2FsbGJhY2tFcnJvcnMiLCJoYW5kbGVyUmVzdWx0UHJvbWlzZSIsImluaXRpYWxSZXN1bHQiLCJjYWxsYmFja3MiLCJwb2xsaW5nQ2FsbGJhY2siLCJtYXBSZXN1bHRzIiwicmVxdWlyZSIsImhhbmRsZXJSZXN1bHRzIiwiTm90Rm91bmQiLCJhcyIsImlzVHJhY2tlZEV2ZW50IiwiaXNWaWV3RXZlbnQiLCJ0eXBlcyIsInR5cGVUZXN0IiwibWF5YmVEZWNvZGUiLCJ0YWciLCJzY29yZSIsImNvbGxlY3RUYWdzIiwidGFnU3RyaW5nIiwicHJlZml4IiwibnMiLCJsb2NhbE5hbWUiLCJxdW90ZWQxIiwicXVvdGVkMiIsInVucXVvdGVkIiwibG9jYWxWYXJpYWJsZVNjb3BlIiwidmlldyIsInRhYiIsInNoYXJlZCIsImFueVZhcmlhYmxlU2NvcGUiLCJtYXNrRW50aXR5SWQiLCJpc0xvY2FsU2NvcGVLZXkiLCJ2YXJpYWJsZUtleVRvU3RyaW5nIiwic3RyaW5nVG9WYXJpYWJsZUtleSIsIk5PVF9JTklUSUFMSVpFRCIsIndpbiIsImRvYyIsImJvZHkiLCJtYXRjaFNlbGVjdG9yIiwibm9kZSIsIk1BWF9BTkNFU1RPUl9ESVNUQU5DRSIsImNocm9tZSIsImZvckFuY2VzdG9yc09yU2VsZiIsImVsIiwic3RvcHBpbmdDcml0ZXJpb24iLCJkaXN0YW5jZSIsIm5vZGVUeXBlIiwicGFyZW50RWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJfcHJldl9vd25lckRvY3VtZW50X2RlZmF1bHRWaWV3IiwiZGVmYXVsdFZpZXciLCJmcmFtZUVsZW1lbnQiLCJwYXJzZUF0dHJpYnV0ZVZhbHVlIiwiX3RyaW0iLCJodHRwRGVjb2RlIiwiaHR0cERlY3J5cHQiLCJhdHRyIiwiZ2V0QXR0cmlidXRlIiwic2NvcGVBdHRyaWJ1dGUiLCJub3JtYWxpemVkQXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZXMiLCJnZXRBdHRyaWJ1dGVOYW1lcyIsImNzc1Byb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0YWdOYW1lIiwic2Nyb2xsUG9zIiwic2Nyb2xsWCIsImludCIsInNjcm9sbFkiLCJtYXRjaEV4SGFzaCIsImhyZWYxIiwiaHJlZjIiLCJnZXRTY3JlZW5Qb3MiLCJtb3VzZUV2ZW50IiwiaW5jbHVkZUZvbGQiLCJnZXRQb3MiLCJ4cHgiLCJ5cHgiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInBhZ2VGb2xkcyIsImlubmVySGVpZ2h0IiwicG9pbnRlclR5cGUiLCJwYWdlWSIsInBhZ2VYIiwiZ2V0UmVjdCIsImluY2x1ZGVTY3JvbGwiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwiaGVpZ2h0IiwibGlzdGVuIiwiY2FwdHVyZSIsInBhc3NpdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcnNlRG9tYWluIiwiZ2V0Vmlld3BvcnQiLCJpbm5lcldpZHRoIiwidG90YWxXaWR0aCIsInRvdGFsSGVpZ2h0IiwiYm91bmRhcnlEYXRhIiwiZ2V0Qm91bmRhcnlEYXRhIiwidHJhY2tlclByb3BlcnR5TmFtZSIsImNzcyIsIm1hdGNoQXR0cmlidXRlTmFtZXMiLCJ0YWdzIiwiZWxpZ2libGUiLCJsIiwiY2FjaGVkVGFnTWFwcGVyIiwicGFyc2VUYWdBdHRyaWJ1dGVzIiwidHJhY2tlckNvbmZpZyIsInJ1bGUiLCJjYWNoZSIsImNzc1Byb3BlcnR5V2l0aEJhc2UiLCJwYXJzZWRDc3NSdWxlcyIsInBhcnNlQ3NzTWFwcGluZ1J1bGVzIiwicnVsZXNTdHJpbmciLCJydWxlMSIsInJ1bGUyIiwidHJhY2tlclByb3BlcnR5IiwiaW5oZXJpdCIsIl9yZWYxIiwidHJhY2tlckZsYWciLCJwYXJzZVRhZ3MiLCJzb3VyY2VFbCIsImVsZW1lbnRUYWdEYXRhIiwic3JjIiwiZGlzYWJsZWQiLCJwb3N0RXZlbnRzIiwicG9zdEZyZXF1ZW5jeSIsInJlcXVlc3RUaW1lb3V0IiwiZW5jcnlwdGlvbktleSIsImFwaUtleSIsImpzb24iLCJpbXByZXNzaW9uVGhyZXNob2xkIiwiY2FwdHVyZUNvbnRleHRNZW51IiwiZGVmYXVsdCIsImNvZGVzIiwiY2hhcnMiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJ0bzY0dSIsInAiLCJieXRlcyIsImNodW5rIiwiYmFzZTY0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiRk5WcyIsIjMyIiwiNjQiLCIxMjgiLCJlbnRyb3B5IiwicmFuZG9tIiwibXNnRGVzZXJpYWxpemUiLCJtc2dTZXJpYWxpemUiLCJkYXRhIiwibXVsdGlwbGUiLCJmbG9hdEJ1ZmZlciIsImZsb2F0VmlldyIsIlVpbnQ4QXJyYXkiLCJhcHBlbmQiLCJzdWJhcnJheSIsImlzUmVwbGFjZW1lbnQiLCJhcHBlbmRCeXRlIiwibG8iLCJpc1NhZmVJbnRlZ2VyIiwiYXBwZW5kQnl0ZXMiLCJoaSIsImFwcGVuZEludDY0IiwiRGF0YVZpZXciLCJBcnJheUJ1ZmZlciIsInNldEZsb2F0NjQiLCJhc2NpaSIsInN0ciIsImNpIiwiYyIsImMyIiwic2VjIiwiZ2V0VGltZSIsImdldE1pbGxpc2Vjb25kcyIsImFwcGVuZEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJJbnQ4QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJhcHBlbmRPYmplY3QiLCJpbnZhbGlkVHlwZVJlcGxhY2VtZW50IiwiYnl0ZSIsIm5ld0xlbmd0aCIsIm5ld0FycmF5IiwiYWJzIiwicmVhZCIsInJlYWRNYXAiLCJyZWFkQXJyYXkiLCJyZWFkU3RyIiwicmVhZEJpbiIsInJlYWRFeHQiLCJyZWFkRmxvYXQiLCJyZWFkVUludCIsInJlYWRJbnQiLCJieXRlT2Zmc2V0IiwiZ2V0RmxvYXQzMiIsImdldEZsb2F0NjQiLCJsZW5ndGhTaXplIiwibXNncGFjayIsImVuY29kZSIsImV4cG9ydHMiLCJSRUZfUFJPUCIsImluY2x1ZGVWYWx1ZSIsImluY2x1ZGVEZWZhdWx0VmFsdWVzIiwiZGVmYXVsdFZhbHVlcyIsInByZXR0aWZ5IiwiY2xlYW5lcnMiLCJyZWZzIiwicmVmSW5kZXgiLCJwYXRjaFByb3BlcnR5IiwiYWRkQ2xlYW5lciIsImNsZWFuZXIiLCJ0b0pTT04iLCJtYXRjaGVkUmVmIiwic3RhY2siLCJjcmVhdGVUcmFuc3BvcnQiLCJmYWN0b3J5IiwiZGVjb2RlSnNvbiIsInNlcmlhbGl6ZU9wdGlvbnMiLCJlbmNyeXB0IiwiZGVjcnlwdCIsImhhc2giLCJmYXN0U3RyaW5nSGFzaCIsImJpdHNPck51bWVyaWMiLCJqc29uRGVjb2RlIiwiZW5jb2RlZCIsIm51bWVyaWNPckJpdHMiLCJqIiwicGFkIiwiYml0cyIsInByaW1lIiwibWl4ZXIiLCJtaXhlcjI1NSIsIml3IiwibWl4ZXIwIiwid2luZG93MCIsInJlc2V0TWl4ZXIiLCJ1cGRhdGVNaXhlciIsIk1BWF9QQURESU5HIiwiRU5UUk9QWSIsImNpcGhlciIsIkJpZ0ludCIsImFzVWludE4iLCJNSU5fU0FGRV9JTlRFR0VSIiwiYmluYXJ5IiwianNvbkVuY29kZSIsImN1cnJlbnRTY3JpcHQiLCJTQ1JJUFRfU1JDIiwiVFJBQ0tFUl9ET01BSU4iLCJpc0ludGVybmFsVXJsIiwidXJsIiwiZW5kc1dpdGgiLCJtYXBVcmwiLCJ1cmxQYXJ0cyIsIlZBUl9VUkwiLCJNTlRfVVJMIiwiZ3JvdXBWYWx1ZSIsImNoaWxkR3JvdXBzIiwiZ3JvdXAiLCJjb2xsYXBzZWQiLCJncm91cENvbGxhcHNlZCIsImNoaWxkcmVuIiwibG9nIiwiZ3JvdXBFbmQiLCJodHRwRW5jb2RlIiwiaHR0cEVuY3J5cHQiLCJVU0VfRU5DUllQVElPTiIsImFkZEVuY3J5cHRpb25OZWdvdGlhdGVkTGlzdGVuZXIiLCJkaXNwYXRjaEVuY3J5cHRpb25OZWdvdGlhdGVkIiwic2V0U3RvcmFnZUtleSIsImxvZ0Vycm9yIiwic2hpZnQiLCJpZCIsImFkZFBhZ2VMb2FkZWRMaXN0ZW5lciIsImRpc3BhdGNoUGFnZUxvYWRlZCIsImFkZFBhZ2VWaXNpYmxlTGlzdGVuZXIiLCJkaXNwYXRjaFBhZ2VWaXNpYmxlIiwibWF5YmVEaXNwYXRjaFBhZ2VMb2FkZWQiLCJsb2FkZWQiLCJuZXdMb2FkZWQiLCJzbGVlcFRpbWVyIiwibWF5YmVEaXNwYXRjaFBhZ2VWaXNpYmxlIiwidmlzaWJsZSIsInZpc2liaWxpdHlTdGF0ZSIsInZpc2libGVUaW1lciIsImFjdGl2YXRlZCIsImFjdGl2ZVRpbWUiLCJkaXNwYXRjaFBhZ2VBY3RpdmF0ZWQiLCJhY3RpdmF0aW9uVGltZW91dCIsInNldEFjdGl2YXRlZCIsImdldEFjdGl2ZVRpbWUiLCJsb2NhbElkIiwiVEFCX0lEIiwibmV4dElkIiwibmV4dExvY2FsSWQiLCJ0YWJWYXJpYWJsZXMiLCJ0YWJTdGF0ZSIsImhlYXJ0YmVhdCIsInN0YXRlIiwia25vd25UYWJzIiwidmFyaWFibGVzIiwiYWRkU3RhdGVMaXN0ZW5lciIsImRpc3BhdGNoU3RhdGUiLCJhZGRWYXJpYWJsZXNDaGFuZ2VkTGlzdGVuZXIiLCJkaXNwYXRjaFZhcmlhYmxlc0NoYW5nZWQiLCJwb3N0IiwidHJ5R2V0VmFyaWFibGUiLCJ0aW1lc3RhbXAiLCJ2YXJpYWJsZSIsInNldExvY2FsVmFyaWFibGVzIiwidXBkYXRlVmFyaWFibGVTdGF0ZSIsImNyZWF0ZWQiLCJtb2RpZmllZCIsInZlcnNpb24iLCJnZXRWYXJpYWJsZUNoYW5nZXMiLCJ1cGRhdGVzIiwic2hhcmVkQ2hhbmdlcyIsImNoYW5nZXMiLCJkaXNwYXRjaFJlcXVlc3QiLCJsb2NhbFN0YXRlIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiQ0xJRU5UX1NUT1JBR0VfUFJFRklYIiwicmVtb3ZlSXRlbSIsInBhZFN0YXJ0Iiwic2V0SXRlbSIsImxvY2FsU3RvcmFnZSIsImNoYW5nZWRFdmVudERhdGEiLCJuZXdWYWx1ZSIsInNlbmRlciIsImluaXRUaW1lb3V0IiwidGltZW91dCIsIkhFQVJUQkVBVF9GUkVRVUVOQ1kiLCJ0YWJJZCIsImxvYWRpbmciLCJhZGRSZXNwb25zZUhhbmRsZXIiLCJkaXNwYXRjaFJlc3BvbnNlIiwicmVxdWVzdExvY2siLCJyZXRyaWVzIiwiZGVmYXVsdFJldHJpZXMiLCJsb2NrSWQiLCJpbnRlcnZhbElkIiwicmVuZXciLCJsb2NhbFRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ3YWl0SGFuZGxlIiwicmFjZSIsInJlcXVlc3QiLCJiZWFjb24iLCJjdXJyZW50RGF0YSIsInNlcmlhbGl6ZWQiLCJjYW5jZWwiLCJwcmVwYXJlUmVxdWVzdERhdGEiLCJwcmVwYXJlUmVzdWx0IiwibmV3RGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJjcmVkZW50aWFscyIsIm1vZGUiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwid2FybiIsImFycmF5QnVmZmVyIiwibmF2aWdhdG9yIiwic2VuZEJlYWNvbiIsIkJsb2IiLCJLRVlfUFJPUFMiLCJHRVRURVJfUkVRVUVTVF9QUk9QUyIsIlNFVFRFUl9SRVFVRVNUX1BST1BTIiwiY2FsbGJhY2tTb3VyY2VTeW1ib2wiLCJhY3RpdmVDYWxsYmFja3MiLCJpbnRlcnNlY3Rpb25IYW5kbGVyIiwiSU1QUkVTU0lPTl9TVEFSVCIsIklNUFJFU1NJT05fU1RPUCIsImZvcm1hdFZhcmlhYmxlcyIsInNjaGVtYSIsImlzTGlua0VsZW1lbnQiLCJocmVmIiwic3RhcnRzV2l0aCIsImlzQ2xpY2thYmxlIiwiZ2V0RWxlbWVudEluZm8iLCJpbmNsdWRlUmVjdCIsIl9lbF9ocmVmIiwiX2VsX2lubmVyVGV4dCIsImlubmVyVGV4dCIsImdldEN1cnJlbnRWaWV3SWQiLCJjbGllbnRJZCIsInJlZmVycmVyS2V5IiwicHVzaE5hdmlnYXRpb25Tb3VyY2UiLCJuYXZpZ2F0aW9uRXZlbnRJZCIsImNvbnN1bWVkIiwidG90YWxEdXJhdGlvbiIsInZpc2libGVEdXJhdGlvbiIsImFjdGl2YXRpb25zIiwiYWRkVmlld0NoYW5nZWRMaXN0ZW5lciIsImRpc3BhdGNoVmlld0NoYW5nZWQiLCJjcmVhdGVWaWV3RHVyYXRpb25UaW1lciIsInRvdGFsVGltZSIsInZpc2libGVUaW1lIiwiYWN0aXZhdGlvbnNDb3VudGVyIiwiYWRkRnJhbWVMaXN0ZW5lckludGVybmFsIiwiY2FsbE9uRnJhbWUiLCJvbkZyYW1lIiwidHJpZ2dlckN1cnJlbnQiLCJmcmFtZXMiLCJrbm93bkZyYW1lcyIsIm5vcm1hbGl6ZUNhcnRFdmVudERhdGEiLCJ1bml0cyIsImhhc0NvbXBvbmVudE9yQ29udGVudCIsImJvdW5kYXJ5IiwiY29tcG9uZW50IiwicGFyc2VCb3VuZGFyeVRhZ3MiLCJhbmNlc3RvciIsInN0cmlwUmVjdHMiLCJrZWVwIiwiZ2V0Q29tcG9uZW50Q29udGV4dCIsImRpcmVjdE9ubHkiLCJpbmNsdWRlUmVnaW9uIiwiYXJlYVBhdGgiLCJjb21wb25lbnRzIiwiY29sbGVjdGVkQ29udGVudCIsImluY2x1ZGVTdGF0ZSIsImFyZWEiLCJ0cmFjayIsInNlY29uZGFyeSIsInByb21vdGUiLCJyZWdpb24iLCJjdXJyZW50VmFsdWUiLCJkZWZhdWx0RXh0ZW5zaW9ucyIsInNldHVwIiwiZGVmaW5pdGlvbiIsInBlbmRpbmdWaWV3RGVmaW5pdGlvbiIsIm5hdmlnYXRpb24iLCJwb3N0VmlldyIsImV2ZW50cyIsInBvc3RQYXRjaCIsInZpZXdJbmRleCIsInRhYkluZGV4IiwiY3VycmVudExvY2F0aW9uIiwidGFicyIsImZvcmNlIiwicXMiLCJyZWZlcnJlciIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJkb21haW4iLCJ0YWJOdW1iZXIiLCJ0YWJWaWV3TnVtYmVyIiwidmlld3BvcnQiLCJkdXJhdGlvbiIsImZpcnN0VGFiIiwibGFuZGluZ1BhZ2UiLCJfdXRtIiwidXRtIiwibmF2aWdhdGlvblR5cGUiLCJnZXRFbnRyaWVzQnlUeXBlIiwicmVkaXJlY3RzIiwicmVkaXJlY3RDb3VudCIsInJlbGF0ZWRFdmVudElkIiwiZXh0ZXJuYWxSZWZlcnJlciIsInJlZ2lzdGVyRXZlbnRQYXRjaFNvdXJjZSIsImhpc3RvcnkiLCJhcHBseSIsInByb2Nlc3NDb21tYW5kIiwiY29tbWFuZCIsImlzQ2hhbmdlVXNlckNvbW1hbmQiLCJ1c2VybmFtZSIsImRlY29yYXRlIiwiaW1wcmVzc2lvbnMiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZWxzIiwiY3VycmVudEludGVyc2VjdGlvbnMiLCJjb25zdHJhaW4iLCJwb2ludCIsInByb2JlUmFuZ2UiLCJjcmVhdGVSYW5nZSIsInJlZ2lvbnMiLCJpbXByZXNzaW9uRXZlbnRzIiwidW5iaW5kUGFzc2l2ZUV2ZW50U291cmNlcyIsImJvdW5kYXJpZXMiLCJzdGF0cyIsInBlbmRpbmdBY3RpdmUiLCJ2aXNpYmxlUGVyY2VudGFnZSIsInVwZGF0ZVJlZ2lvbiIsInZpZXdEdXJhdGlvbiIsInByZXZIZWlnaHQiLCJpbmZlcnJlZCIsImJvdHRvbSIsInJlYWRUaW1lIiwidmlld1dpZHRoIiwidmlld0hlaWdodCIsImludGVyc2VjdGlvbiIsInJpZ2h0IiwiaW50ZXJzZWN0aW9uSGVpZ2h0IiwiaW50ZXJzZWN0aW9uV2lkdGgiLCJ0aHJlc2hvbGRzIiwicXVhbGlmaWVkIiwidGltZU9mZnNldCIsIm1pZGRsZSIsInNlZW4iLCJ0ZXh0Q29udGVudCIsInByZXZJbmRleCIsImNoYXJNYXRjaGVyIiwid29yZHMiLCJsb25nV29yZHMiLCJzZW50ZW5jZXMiLCJoYXNXb3JkIiwibGltaXRzIiwid29yZHNCZWZvcmUiLCJpblNlbnRlbmNlIiwid2FzQm91bmRhcnkiLCJNSU5VVEUiLCJTRUNPTkQiLCJjaGFyYWN0ZXJzIiwibGl4Iiwibm9kZXMiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiTm9kZUZpbHRlciIsIlNIT1dfVEVYVCIsImJvdW5kYXJ5SW5kZXgiLCJuZXh0Tm9kZSIsIm5vZGVMZW5ndGgiLCJob3Jpem9udGFsT2Zmc2V0IiwidmVydGljYWxPZmZzZXQiLCJpbnRlcnNlY3Rpb25Ub3AiLCJpbnRlcnNlY3Rpb25Cb3R0b20iLCJpc0ludGVyc2VjdGluZyIsIm9ic2VydmUiLCJub3JtYWxpemVCb3VuZGFyeURhdGEiLCJyZWdpc3RlckNvbXBvbmVudCIsImNhcnQiLCJldmVudERhdGEiLCJjbGlja2FibGVzIiwiY2xpY2thYmxlIiwiaXNEYXRhQm91bmRhcnlDb21tYW5kIiwiY21kIiwiaXNTY2FuQ29tcG9uZW50c0NvbW1hbmQiLCJzY2FuQXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWUiLCJyZWZlcmVuY2VzIiwiY29tbWFuZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2NhbiIsImF0dHJpYnV0ZSIsImFjdGl2ZUV2ZW50Q2xpY2tzIiwidHJhY2tEb2N1bWVudCIsInRyYWNrQ2xpY2tzIiwidHJhY2tSZWdpb24iLCJjbGlja2FibGVFbGVtZW50IiwiY29udGFpbmVyRWxlbWVudCIsIm5hdiIsImJ1dHRvbiIsImNoaWxkIiwiY2hpbGRDb21wb25lbnRzIiwiY2xpY2tzIiwiY29udGV4dENhcnQiLCJjbGlja0ludGVudCIsImNvbXBvbmVudENvbnRleHQiLCJzaGFyZWRFdmVudFByb3BlcnRpZXMiLCJjb250YWluZXIiLCJpbmZvIiwiZWxlbWVudCIsImxpbmsiLCJleHRlcm5hbCIsImhvc3RuYW1lIiwic2VhcmNoIiwiYW5jaG9yIiwib3JpZ2luYWxVcmwiLCJyZXF1ZXN0SWQiLCJuYXZpZ2F0aW9uRXZlbnQiLCJzZWxmIiwiY3RybEtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiZXhpdCIsImludGVybmFsVXJsIiwic3Vic3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaW50ZW50RXZlbnQiLCJjb250ZW50RG9jdW1lbnQiLCJlbWl0dGVkIiwiaW5pdGlhbFNjcm9sbCIsImRlZmVyIiwiZiIsInNjcm9sbCIsImZvbGQiLCJzY3JvbGxUeXBlIiwiaXNDYXJ0Q29tbWFuZCIsImFQIiwib3JkZXIiLCJnZXRGb3JtU3RhdGUiLCJmb3JtRXZlbnRzIiwiZ2V0Rm9ybUZpZWxkVmFsdWUiLCJ0cmFja2VkIiwiaW5jbHVkZSIsInNlbGVjdGVkT3B0aW9ucyIsIm9wdGlvbiIsImNoZWNrZWQiLCJjYXB0dXJlZENvbnRleHQiLCJyZWZOYW1lIiwiZm9ybUVsZW1lbnQiLCJmb3JtIiwiZmllbGRNYXAiLCJmaWVsZHMiLCJjb21taXRFdmVudCIsImhhbmRsZUxvc3RGb2N1cyIsImNvbXBsZXRlZCIsImlzQ29ubmVjdGVkIiwiY29tbWl0VGltZW91dCIsImRlZmF1bHRUaW1lb3V0IiwiaGFuZGxlIiwiY3VycmVudENhbGxiYWNrIiwic3RpY2t5VGltZW91dCIsImlzUmVDYXB0Y2hhQWN0aXZlIiwidW5iaW5kTmF2aWdhdGlvbkxpc3RlbmVyIiwicmVjYXB0Y2hhIiwic3VibWl0RXZlbnQiLCJkZWZhdWx0UHJldmVudGVkIiwicHJvYmVEb2MiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJvcGFjaXR5IiwiVkFMSURBVElPTl9FUlJPUl9USU1FT1VUIiwiZmllbGQiLCJsYWJlbCIsImxhYmVscyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsInV1aWR2NCIsInJlZiIsImdldEZpZWxkSW5mbyIsImN1cnJlbnRGaWVsZCIsInRvdGFsIiwidHYwIiwiZmlsbE9yZGVyIiwiZmlsbGVkIiwiY29ycmVjdGlvbnMiLCJsYXN0RmllbGQiLCJ3aXJlRm9ybUZpZWxkcyIsImRhdGFMYXllckhlYWQiLCJnZXRDdXJyZW50Q29uc2VudCIsInJlZnJlc2giLCJ1cGRhdGVDb25zZW50IiwiY29uc2VudCIsIkdDTXYyTWFwcGluZ3MiLCJhbmFseXRpY3Nfc3RvcmFnZSIsImZ1bmN0aW9uYWxpdHlfc3RvcmFnZSIsInBlcnNvbmFsaXphdGlvbl9zdG9yYWdlIiwiYWRfc3RvcmFnZSIsInNlY3VyaXR5X3N0b3JhZ2UiLCJleHRlcm5hbENvbnNlbnRTb3VyY2VzIiwiZXh0ZXJuYWxTb3VyY2UiLCJsYXllciIsImRhdGFMYXllciIsInByZXZpb3VzSGVhZCIsImEiLCJjb2RlIiwiZ2V0dGVyIiwicHJldmlvdXNDb25zZW50IiwiaXNVcGRhdGVDb25zZW50Q29tbWFuZCIsInBvbGxDb25zZW50IiwibmV3Q29uc2VudCIsImhhc0ZvY3VzIiwiY29tbWFuZFRlc3QiLCJpc1RhZ0F0dHJpYnV0ZXNDb21tYW5kIiwiaXNUb2dnbGVDb21tYW5kIiwiaXNFeHRlbnNpb25Db21tYW5kIiwiaXNGbHVzaENvbW1hbmQiLCJpc0dldENvbW1hbmQiLCJpc0xpc3RlbmVyQ29tbWFuZCIsImlzT3JkZXJDb21tYW5kIiwiaXNTZXRDb21tYW5kIiwiaXNUcmFja2VyQXZhaWxhYmxlQ29tbWFuZCIsImluaXRpYWxpemVUcmFja2VyIiwiY29uZmlnIiwiY2xpZW50RW5jcnlwdGlvbktleSIsImV4dGVuc2lvbnMiLCJjYWxsTGlzdGVuZXJzIiwicGVuZGluZ1N0YXRlQ29tbWFuZHMiLCJ0cmFja2VyQ29udGV4dCIsIm1haW5BcmdzIiwiY3VycmVudEFyZyIsImluc2VydEFyZ3MiLCJnbG9iYWxTdGF0ZVJlc29sdmVkIiwicmVhZHkiLCJhcGlQcm90ZWN0aW9uS2V5IiwicXVldWVkQ29tbWFuZHMiLCJ1bnN1YnNjcmliZSIsImVuZHBvaW50IiwicG9sbFZhcmlhYmxlcyIsImdldHRlcnMiLCJ2YXJzIiwiVkFSSUFCTEVfUE9MTF9GUkVRVUVOQ1kiLCJyZWdpc3RlckNhbGxiYWNrIiwibWFwcGVkS2V5Iiwic3RhdGVEdXJhdGlvbiIsIlN1Y2Nlc3MiLCJ2YWxpZGF0ZUtleSIsIm5ld0xvY2FsIiwicmVxdWVzdEdldHRlcnMiLCJGb3JiaWRkZW4iLCJsb2NhbCIsInR0bCIsIl90aGlzIiwiZGV2aWNlU2Vzc2lvbklkIiwiX3ZhcmlhYmxlcyIsImluaXRTZXR0ZXJzIiwiaW5pdFZhbHVlIiwiQ29uZmxpY3QiLCJzZXR0ZXJzIiwibG9jYWxSZXN1bHRzIiwicGVuZGluZ1BhdGNoZXMiLCJyZXF1ZXN0VmFyaWFibGVzIiwicGF0Y2giLCJDcmVhdGVkIiwiYXR0ZW1wdHMiLCJkIiwiYXBwbHlFdmVudEV4dGVuc2lvbnMiLCJza2lwIiwiZXh0ZW5zaW9uIiwidGhyb3dJZkludmFsaWQiLCJzbmFwc2hvdHMiLCJtYXBQYXRjaFRhcmdldCIsInNvdXJjZUV2ZW50IiwidXBkYXRlU25hcHNob3QiLCJhYm9ydCIsImZsdXNoIiwibmV3RXZlbnRzIiwidW5sb2FkaW5nIiwidXBkYXRlZEV2ZW50cyIsInVuYmluZGluZyIsImluaXRpYWxQb3N0IiwicmVsYXRlZE5vZGUiLCJyZWdpc3RlclBvc3RDYWxsYmFjayIsInNuYXBzaG90IiwidGFnQXR0cmlidXRlcyIsImRpc2FibGUiLCJleHBhbmRlZCIsInByaW9yaXR5Iiwic3VjY2VzcyIsIl9faXNUcmFja2VyIiwiXzEiLCJfMiIsImhhc1VzZXJBZ2VudCIsImhhc1RvdWNoIiwibWF4VG91Y2hQb2ludHMiLCJ1c2VyQWdlbnQiLCJsYW5ndWFnZXMiLCJsYW5ndWFnZSIsInByaW1hcnkiLCJwcmVmZXJlbmNlIiwidGltZXpvbmUiLCJpYW5hIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwidGltZVpvbmUiLCJnZXRUaW1lem9uZU9mZnNldCIsInNjcmVlbiIsInciLCJoIiwib3JpZW50YXRpb24iLCJvIiwibGFuZHNjYXBlIiwiYW5nbGUiLCJkZXZpY2VUeXBlIiwiZHByIiwiZGV2aWNlUGl4ZWxSYXRpbyJdLCJtYXBwaW5ncyI6Ik1BYU8sSUNpSEFBLEVBQWdCQyxFQTVFbkJDLEVBQ0FDLEVDcENBQyxFQ21CQUMsRUFDQUMsRUNtTkFDLEVBaUJBQyxFQWVBQyxFQUNBQyxFQTRCQUMsRUNoT0dDLEVBQVVDLEVBd0JiQyxFQW1FQUMsRUEyQkFDLEVDNkdBQyxFQzlQR0MsRUFBR0MsRUNTQ0MsRUNyQkFDLEVBSVBDLEVDUUFDLEVBZ0JBQyxpSEMvQ0csSUFBTUMsRUFBYSxDQUN4QkMsRUFDQUMsRUFBd0NDLEdBQVlDLE1BQVVELENBQVEsS0FFdEUsTUFBTUUsR0FBVUosRUFBUUssR0FBT0wsQ0FBQUEsQ0FBQUEsRUFBV0MsRUFBVUQsQ0FBQUEsRUFBU0EsQ0FDL0QsRUE0RGFNLEVBQW1CLENBQzlCQyxFQUNBQyxFQUNBQyxFQUFRLE1BRVIsR0FBSUYsSUFBV0MsR0FFVyxPQUFyQkQsTUFBQUEsRUFBQUEsRUFBVUMsR0FGUSxNQUFPLENBQUEsRUFJOUIsR0FDR0UsQ0FBQUEsR0FBUUgsQ0FBV0ksR0FBQUEsQ0FBQUEsR0FBY0osQ0FBQUEsR0FDakNHLENBQUFBLEdBQVFGLENBQUFBLEdBQVdHLENBQUFBLEdBQWNILENBQUFBLEdBQ2xDRCxFQUFPSyxTQUFXSixFQUFPSSxPQWMzQixNQUFPLENBQUEsRUFaTCxJQUNXakMsRUFEUGtDLEVBQUksRUFDUixJQUFXbEMsS0FBTzRCLEVBQVEsQ0FDeEIsR0FDRUEsRUFBTzVCLEtBQVM2QixFQUFPN0IsSUFDdkIsQ0FBQzJCLEVBQWlCQyxFQUFPNUIsR0FBTTZCLEVBQU83QixHQUFNOEIsRUFBUSxDQUVwRCxFQUFBLE1BQU8sQ0FBQSxFQUVQSSxF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
