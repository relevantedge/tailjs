import{cast}from"@tailjs/types";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(n){if(n.__esModule)return n;var f=n.default;if("function"==typeof f){var a=function a(){return this instanceof a?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};a.prototype=f.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach((function(k){var d=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,d.get?d:{enumerable:!0,get:function(){return n[k]}})})),a}for(var buffer$1={},base64Js={byteLength:function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},toByteArray:function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp),arr},fromByteArray:function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")),parts.join("")}},lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},write:function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(exports){var base64=base64Js,ieee754$1=ieee754,customInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer,exports.SlowBuffer=function(length){return+length!=length&&(length=0),Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError('The value "'+length+'" is invalid for option "size"');var buf=new Uint8Array(length);return Object.setPrototypeOf(buf,Buffer.prototype),buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return function(arrayView){if(isInstance(arrayView,Uint8Array)){var copy=new Uint8Array(arrayView);return fromArrayBuffer(copy.buffer,copy.byteOffset,copy.byteLength)}return fromArrayLike(arrayView)}(value);if(null==value)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return fromArrayBuffer(value,encodingOrOffset,length);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(value,SharedArrayBuffer)||value&&isInstance(value.buffer,SharedArrayBuffer)))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=function(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length||obj.copy(buf,0,0,len),buf}return void 0!==obj.length?"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj):"Buffer"===obj.type&&Array.isArray(obj.data)?fromArrayLike(obj.data):void 0}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('"length" is outside of buffer bounds');var buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Object.setPrototypeOf(buf,Buffer.prototype),buf}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),numberIsNaN(byteOffset=+byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var i,strLen=string.length;for(length>strLen/2&&(length=strLen/2),i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)hi=(c=str.charCodeAt(i))>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1),proto={foo:function(){return 42}};return Object.setPrototypeOf(proto,Uint8Array.prototype),Object.setPrototypeOf(arr,proto),42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(size,fill,encoding){return function(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array))pos+buf.length>buffer.length?(Buffer.isBuffer(buf)||(buf=Buffer.from(buf)),buf.copy(buffer,pos)):Uint8Array.prototype.set.call(buffer,buf,pos);else{if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos)}pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},customInspectSymbol&&(Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect),Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":case"latin1":case"binary":return asciiWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=hexSliceLookupTable[buf[i]];return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length-1;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);var lo=Number(value&BigInt(4294967295));buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo;var hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,offset}function wrtBigUInt64BE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);var lo=Number(value&BigInt(4294967295));buf[offset+7]=lo,lo>>=8,buf[offset+6]=lo,lo>>=8,buf[offset+5]=lo,lo>>=8,buf[offset+4]=lo;var hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset+3]=hi,hi>>=8,buf[offset+2]=hi,hi>>=8,buf[offset+1]=hi,hi>>=8,buf[offset]=hi,offset+8}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754$1.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754$1.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return Object.setPrototypeOf(newBuf,Buffer.prototype),newBuf},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");var first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);var lo=first+256*this[++offset]+65536*this[++offset]+this[++offset]*2**24,hi=this[++offset]+256*this[++offset]+65536*this[++offset]+last*2**24;return BigInt(lo)+(BigInt(hi)<<BigInt(32))})),Buffer.prototype.readBigUInt64BE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");var first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);var hi=first*2**24+65536*this[++offset]+256*this[++offset]+this[++offset],lo=this[++offset]*2**24+65536*this[++offset]+256*this[++offset]+last;return(BigInt(hi)<<BigInt(32))+BigInt(lo)})),Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");var first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);var val=this[offset+4]+256*this[offset+5]+65536*this[offset+6]+(last<<24);return(BigInt(val)<<BigInt(32))+BigInt(first+256*this[++offset]+65536*this[++offset]+this[++offset]*2**24)})),Buffer.prototype.readBigInt64BE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");var first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);var val=(first<<24)+65536*this[++offset]+256*this[++offset]+this[++offset];return(BigInt(val)<<BigInt(32))+BigInt(this[++offset]*2**24+65536*this[++offset]+256*this[++offset]+last)})),Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754$1.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754$1.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754$1.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754$1.read(this,offset,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64LE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64BE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64LE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeBigInt64BE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64BE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;return this===target&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(targetStart,start,end):Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart),len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val?val&=255:"boolean"==typeof val&&(val=Number(val));if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var errors={};function E(sym,getMessage,Base){errors[sym]=class extends Base{constructor(){super(),Object.defineProperty(this,"message",{value:getMessage.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${sym}]`,this.stack,delete this.name}get code(){return sym}set code(value){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:value,writable:!0})}toString(){return`${this.name} [${sym}]: ${this.message}`}}}function addNumericalSeparator(val){for(var res="",i=val.length,start="-"===val[0]?1:0;i>=start+4;i-=3)res=`_${val.slice(i-3,i)}${res}`;return`${val.slice(0,i)}${res}`}function checkIntBI(value,min,max,buf,offset,byteLength){if(value>max||value<min){var range,n="bigint"==typeof min?"n":"";throw range=byteLength>3?0===min||min===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(byteLength+1)}${n}`:`>= -(2${n} ** ${8*(byteLength+1)-1}${n}) and < 2 ** ${8*(byteLength+1)-1}${n}`:`>= ${min}${n} and <= ${max}${n}`,new errors.ERR_OUT_OF_RANGE("value",range,value)}!function(buf,offset,byteLength){validateNumber(offset,"offset"),void 0!==buf[offset]&&void 0!==buf[offset+byteLength]||boundsError(offset,buf.length-(byteLength+1))}(buf,offset,byteLength)}function validateNumber(value,name){if("number"!=typeof value)throw new errors.ERR_INVALID_ARG_TYPE(name,"number",value)}function boundsError(value,length,type){if(Math.floor(value)!==value)throw validateNumber(value,type),new errors.ERR_OUT_OF_RANGE(type||"offset","an integer",value);if(length<0)throw new errors.ERR_BUFFER_OUT_OF_BOUNDS;throw new errors.ERR_OUT_OF_RANGE(type||"offset",`>= ${type?1:0} and <= ${length}`,value)}E("ERR_BUFFER_OUT_OF_BOUNDS",(function(name){return name?`${name} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),E("ERR_INVALID_ARG_TYPE",(function(name,actual){return`The "${name}" argument must be of type number. Received type ${typeof actual}`}),TypeError),E("ERR_OUT_OF_RANGE",(function(str,range,input){var msg=`The value of "${str}" is out of range.`,received=input;return Number.isInteger(input)&&Math.abs(input)>2**32?received=addNumericalSeparator(String(input)):"bigint"==typeof input&&(received=String(input),(input>BigInt(2)**BigInt(32)||input<-(BigInt(2)**BigInt(32)))&&(received=addNumericalSeparator(received)),received+="n"),msg+` It must be ${range}. Received ${received}`}),RangeError);var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){var i;for(i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}var hexSliceLookupTable=function(){for(var table=new Array(256),i=0;i<16;++i)for(var i16=16*i,j=0;j<16;++j)table[i16+j]="0123456789abcdef"[i]+"0123456789abcdef"[j];return table}();function defineBigIntMethod(fn){return"undefined"==typeof BigInt?BufferBigIntNotDefined:fn}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}}(buffer$1);var lib$3={},global$1=globalThis;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function nextTick(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(fun,array){this.fun=fun,this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};var env={},argv=[],versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once$1=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(name){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(dir){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(previousTimestamp){var clocktime=.001*performanceNow.call(performance),seconds=Math.floor(clocktime),nanoseconds=Math.floor(clocktime%1*1e9);return previousTimestamp&&(seconds-=previousTimestamp[0],(nanoseconds-=previousTimestamp[1])<0&&(seconds--,nanoseconds+=1e9)),[seconds,nanoseconds]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process$1={nextTick:nextTick,title:"browser",browser:!0,env:env,argv:argv,version:"",versions:versions,on:on,addListener:addListener,once:once$1,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:"browser",release:release,config:config,uptime:uptime},browser$2=Object.freeze({__proto__:null,addListener:addListener,argv:argv,binding:binding,browser:!0,chdir:chdir,config:config,cwd:cwd,default:process$1,emit:emit,env:env,hrtime:hrtime,nextTick:nextTick,off:off,on:on,once:once$1,platform:"browser",release:release,removeAllListeners:removeAllListeners,removeListener:removeListener,title:"browser",umask:umask,uptime:uptime,version:"",versions:versions}),assert={exports:{}},errors$2={},util$2={},types={},shams$1=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=shams$1,test={foo:{}},$Object=Object,slice=Array.prototype.slice,toStr$3=Object.prototype.toString,functionBind=Function.prototype.bind||function(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr$3.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))})),target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound},src=functionBind.call(Function.call,Object.prototype.hasOwnProperty),$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD$1(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols="function"==typeof origSymbol&&"function"==typeof Symbol&&"symbol"==typeof origSymbol("foo")&&"symbol"==typeof Symbol("bar")&&hasSymbolSham(),hasProto={__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object),getProto$1=Object.getPrototypeOf||(hasProto?function(x){return x.__proto__}:null),needsEval={},TypedArray="undefined"!=typeof Uint8Array&&getProto$1?getProto$1(Uint8Array):void 0,INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols&&getProto$1?getProto$1((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols&&getProto$1?getProto$1((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):void 0,"%Symbol%":hasSymbols?Symbol:void 0,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(getProto$1)try{null.error}catch(e){var errorProto=getProto$1(getProto$1(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function doEval(name){var value;if("%AsyncFunction%"===name)value=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===name)value=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===name)value=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===name){var fn=doEval("%AsyncGeneratorFunction%");fn&&(value=fn.prototype)}else if("%AsyncIteratorPrototype%"===name){var gen=doEval("%AsyncGenerator%");gen&&getProto$1&&(value=getProto$1(gen.prototype))}return INTRINSICS[name]=value,value},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=src,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,getBaseIntrinsic=function(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval&&(value=doEval(intrinsicName)),void 0===value&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")},getIntrinsic=function(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');if(null===$exec(/^%?[^%]*%?$/,name))throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var parts=function(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,(function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match})),result}(name),intrinsicBaseName=parts.length>0?parts[0]:"",intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing),intrinsicRealName=intrinsic.name,value=intrinsic.value,skipFurtherCaching=!1,alias=intrinsic.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),last=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===last||"'"===last||"`"===last)&&first!==last)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}if($gOPD$1&&i+1>=parts.length){var desc=$gOPD$1(value,part);value=(isOwn=!!desc)&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]}else isOwn=hasOwn(value,part),value=value[part];isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value},callBind$2={exports:{}};!function(module){var bind=functionBind,GetIntrinsic=getIntrinsic,$apply=GetIntrinsic("%Function.prototype.apply%"),$call=GetIntrinsic("%Function.prototype.call%"),$reflectApply=GetIntrinsic("%Reflect.apply%",!0)||bind.call($call,$apply),$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0),$defineProperty=GetIntrinsic("%Object.defineProperty%",!0),$max=GetIntrinsic("%Math.max%");if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}module.exports=function(originalFunction){var func=$reflectApply(bind,$call,arguments);return $gOPD&&$defineProperty&&$gOPD(func,"length").configurable&&$defineProperty(func,"length",{value:1+$max(0,originalFunction.length-(arguments.length-1))}),func};var applyBind=function(){return $reflectApply(bind,$apply,arguments)};$defineProperty?$defineProperty(module.exports,"apply",{value:applyBind}):module.exports.apply=applyBind}(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic$1=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic$1("String.prototype.indexOf")),callBound$2=function(name,allowMissing){var intrinsic=GetIntrinsic$1(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf$1(name,".prototype.")>-1?callBind$1(intrinsic):intrinsic},hasToStringTag$3=shams(),$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function(value){return!(hasToStringTag$3&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===$toString$1(value)},isLegacyArguments=function(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==$toString$1(value)&&"[object Function]"===$toString$1(value.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var GeneratorFunction,badArrayLike,isCallableMarker,isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,isGeneratorFunction=function(fn){if("function"!=typeof fn)return!1;if(isFnRegex.test(fnToStr$1.call(fn)))return!0;if(!hasToStringTag$2)return"[object GeneratorFunction]"===toStr$2.call(fn);if(!getProto)return!1;if(void 0===GeneratorFunction){var generatorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch(e){}}();GeneratorFunction=!!generatorFunc&&getProto(generatorFunc)}return getProto(fn)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof reflectApply&&"function"==typeof Object.defineProperty)try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply((function(){throw 42}),null,badArrayLike)}catch(_){_!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},tryFunctionObject=function(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}},toStr$1=Object.prototype.toString,hasToStringTag$1="function"==typeof Symbol&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if("object"==typeof document){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(value){if((isIE68||!value)&&(void 0===value||"object"==typeof value))try{var str=toStr$1.call(value);return("[object HTMLAllCollection]"===str||"[object HTML document.all class]"===str||"[object HTMLCollection]"===str||"[object Object]"===str)&&null==value("")}catch(e){}return!1})}var isCallable=reflectApply?function(value){if(isDDA(value))return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;try{reflectApply(value,null,badArrayLike)}catch(e){if(e!==isCallableMarker)return!1}return!isES6ClassFn(value)&&tryFunctionObject(value)}:function(value){if(isDDA(value))return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag$1)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=toStr$1.call(value);return!("[object Function]"!==strClass&&"[object GeneratorFunction]"!==strClass&&!/^\[object HTML/.test(strClass))&&tryFunctionObject(value)},toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$1="undefined"==typeof globalThis?commonjsGlobal:globalThis,$gOPD=getIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var forEach=function(list,iterator,thisArg){if(!isCallable(iterator))throw new TypeError("iterator must be a function");var receiver;arguments.length>=3&&(receiver=thisArg),"[object Array]"===toStr.call(list)?function(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&(null==receiver?iterator(array[i],i,array):iterator.call(receiver,array[i],i,array))}(list,iterator,receiver):"string"==typeof list?function(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++)null==receiver?iterator(string.charAt(i),i,string):iterator.call(receiver,string.charAt(i),i,string)}(list,iterator,receiver):function(object,iterator,receiver){for(var k in object)hasOwnProperty.call(object,k)&&(null==receiver?iterator(object[k],k,object):iterator.call(receiver,object[k],k,object))}(list,iterator,receiver)},callBind=callBindExports,callBound=callBound$2,gOPD=$gOPD,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g="undefined"==typeof globalThis?commonjsGlobal:globalThis,typedArrays=function(){for(var out=[],i=0;i<possibleNames.length;i++)"function"==typeof g$1[possibleNames[i]]&&(out[out.length]=possibleNames[i]);return out}(),$slice=callBound("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function(array,value){for(var i=0;i<array.length;i+=1)if(array[i]===value)return i;return-1},cache={__proto__:null};forEach(typedArrays,hasToStringTag&&gOPD&&getPrototypeOf?function(typedArray){var arr=new g[typedArray];if(Symbol.toStringTag in arr){var proto=getPrototypeOf(arr),descriptor=gOPD(proto,Symbol.toStringTag);if(!descriptor){var superProto=getPrototypeOf(proto);descriptor=gOPD(superProto,Symbol.toStringTag)}cache["$"+typedArray]=callBind(descriptor.get)}}:function(typedArray){var arr=new g[typedArray];cache["$"+typedArray]=callBind(arr.slice)});var whichTypedArray$1=function(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag){var tag=$slice($toString(value),8,-1);return $indexOf(typedArrays,tag)>-1?tag:"Object"===tag&&function(value){var found=!1;return forEach(cache,(function(getter,name){if(!found)try{getter(value),found=$slice(name,1)}catch(e){}})),found}(value)}return gOPD?function(value){var found=!1;return forEach(cache,(function(getter,typedArray){if(!found)try{"$"+getter(value)===typedArray&&(found=$slice(typedArray,1))}catch(e){}})),found}(value):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(value){return!!whichTypedArray(value)};!function(exports){var isArgumentsObject=isArguments$1,isGeneratorFunction$1=isGeneratorFunction,whichTypedArray=whichTypedArray$1,isTypedArray$1=isTypedArray;function uncurryThis(f){return f.call.bind(f)}var BigIntSupported="undefined"!=typeof BigInt,SymbolSupported="undefined"!=typeof Symbol,ObjectToString=uncurryThis(Object.prototype.toString),numberValue=uncurryThis(Number.prototype.valueOf),stringValue=uncurryThis(String.prototype.valueOf),booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported)var bigIntValue=uncurryThis(BigInt.prototype.valueOf);if(SymbolSupported)var symbolValue=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(value,prototypeValueOf){if("object"!=typeof value)return!1;try{return prototypeValueOf(value),!0}catch(e){return!1}}function isMapToString(value){return"[object Map]"===ObjectToString(value)}function isSetToString(value){return"[object Set]"===ObjectToString(value)}function isWeakMapToString(value){return"[object WeakMap]"===ObjectToString(value)}function isWeakSetToString(value){return"[object WeakSet]"===ObjectToString(value)}function isArrayBufferToString(value){return"[object ArrayBuffer]"===ObjectToString(value)}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer)}function isDataViewToString(value){return"[object DataView]"===ObjectToString(value)}function isDataView(value){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(value):value instanceof DataView)}exports.isArgumentsObject=isArgumentsObject,exports.isGeneratorFunction=isGeneratorFunction$1,exports.isTypedArray=isTypedArray$1,exports.isPromise=function(input){return"undefined"!=typeof Promise&&input instanceof Promise||null!==input&&"object"==typeof input&&"function"==typeof input.then&&"function"==typeof input.catch},exports.isArrayBufferView=function(value){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(value):isTypedArray$1(value)||isDataView(value)},exports.isUint8Array=function(value){return"Uint8Array"===whichTypedArray(value)},exports.isUint8ClampedArray=function(value){return"Uint8ClampedArray"===whichTypedArray(value)},exports.isUint16Array=function(value){return"Uint16Array"===whichTypedArray(value)},exports.isUint32Array=function(value){return"Uint32Array"===whichTypedArray(value)},exports.isInt8Array=function(value){return"Int8Array"===whichTypedArray(value)},exports.isInt16Array=function(value){return"Int16Array"===whichTypedArray(value)},exports.isInt32Array=function(value){return"Int32Array"===whichTypedArray(value)},exports.isFloat32Array=function(value){return"Float32Array"===whichTypedArray(value)},exports.isFloat64Array=function(value){return"Float64Array"===whichTypedArray(value)},exports.isBigInt64Array=function(value){return"BigInt64Array"===whichTypedArray(value)},exports.isBigUint64Array=function(value){return"BigUint64Array"===whichTypedArray(value)},isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),exports.isMap=function(value){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(value):value instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),exports.isSet=function(value){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(value):value instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),exports.isWeakMap=function(value){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),exports.isWeakSet=function(value){return isWeakSetToString(value)},isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),exports.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),exports.isDataView=isDataView;var SharedArrayBufferCopy="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(value){return"[object SharedArrayBuffer]"===ObjectToString(value)}function isSharedArrayBuffer(value){return void 0!==SharedArrayBufferCopy&&(void 0===isSharedArrayBufferToString.working&&(isSharedArrayBufferToString.working=isSharedArrayBufferToString(new SharedArrayBufferCopy)),isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBufferCopy)}function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSharedArrayBuffer=isSharedArrayBuffer,exports.isAsyncFunction=function(value){return"[object AsyncFunction]"===ObjectToString(value)},exports.isMapIterator=function(value){return"[object Map Iterator]"===ObjectToString(value)},exports.isSetIterator=function(value){return"[object Set Iterator]"===ObjectToString(value)},exports.isGeneratorObject=function(value){return"[object Generator]"===ObjectToString(value)},exports.isWebAssemblyCompiledModule=function(value){return"[object WebAssembly.Module]"===ObjectToString(value)},exports.isNumberObject=isNumberObject,exports.isStringObject=isStringObject,exports.isBooleanObject=isBooleanObject,exports.isBigIntObject=isBigIntObject,exports.isSymbolObject=isSymbolObject,exports.isBoxedPrimitive=function(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)},exports.isAnyArrayBuffer=function(value){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(value)||isSharedArrayBuffer(value))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(method){Object.defineProperty(exports,method,{enumerable:!1,value:function(){throw new Error(method+" is not supported in userland")}})}))}(types);var isBuffer$1=function(arg){return arg instanceof buffer$1.Buffer},inherits_browser$1={exports:{}};"function"==typeof Object.create?inherits_browser$1.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}};var hasRequiredErrors$1,assertion_error,hasRequiredAssertion_error,es6ObjectAssign,hasRequiredEs6ObjectAssign,isArguments,hasRequiredIsArguments,implementation$2,hasRequiredImplementation$2,objectKeys,hasRequiredObjectKeys,hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors,defineProperties_1,hasRequiredDefineProperties,implementation$1,hasRequiredImplementation$1,polyfill$1,hasRequiredPolyfill$1,shim$1,hasRequiredShim$1,objectIs,hasRequiredObjectIs,implementation,hasRequiredImplementation,polyfill,hasRequiredPolyfill,shim,hasRequiredShim,isNan,hasRequiredIsNan,comparisons,hasRequiredComparisons,hasRequiredAssert,inherits_browserExports$1=inherits_browser$1.exports;function requireErrors$1(){if(hasRequiredErrors$1)return errors$2;function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}hasRequiredErrors$1=1;var assert,util,codes={};function createErrorType(code,message,Base){Base||(Base=Error);var NodeError=function(_Base){function NodeError(arg1,arg2,arg3){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeError),_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(NodeError).call(this,function(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))),_this.code=code,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeError,_Base),NodeError}(Base);codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map((function(i){return String(i)})),len>2?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(String(expected))}return createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(name,expected,actual){var determiner,msg,str,this_len;if(void 0===assert&&(assert=requireAssert()),assert("string"==typeof name,"'name' must be a string"),"string"==typeof expected&&("not ","not "===expected.substr(0,4))?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be",str=name,(void 0===this_len||this_len>str.length)&&(this_len=str.length)," argument"===str.substring(this_len-9,this_len))msg="The ".concat(name," ").concat(determiner," ").concat(oneOf(expected,"type"));else{var type=function(str,search,start){return"number"!=typeof start&&(start=0),!(start+1>str.length)&&-1!==str.indexOf(".",start)}(name)?"property":"argument";msg='The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(expected,"type"))}return msg+". Received type ".concat(_typeof(actual))}),TypeError),createErrorType("ERR_INVALID_ARG_VALUE",(function(name,value){var reason=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===util&&(util=util$2);var inspected=util.inspect(value);return inspected.length>128&&(inspected="".concat(inspected.slice(0,128),"...")),"The argument '".concat(name,"' ").concat(reason,". Received ").concat(inspected)}),TypeError),createErrorType("ERR_INVALID_RETURN_VALUE",(function(input,name,value){var type;return type=value&&value.constructor&&value.constructor.name?"instance of ".concat(value.constructor.name):"type ".concat(_typeof(value)),"Expected ".concat(input,' to be returned from the "').concat(name,'"')+" function but got ".concat(type,".")}),TypeError),createErrorType("ERR_MISSING_ARGS",(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];void 0===assert&&(assert=requireAssert()),assert(args.length>0,"At least one arg needs to be specified");var msg="The ",len=args.length;switch(args=args.map((function(a){return'"'.concat(a,'"')})),len){case 1:msg+="".concat(args[0]," argument");break;case 2:msg+="".concat(args[0]," and ").concat(args[1]," arguments");break;default:msg+=args.slice(0,len-1).join(", "),msg+=", and ".concat(args[len-1]," arguments")}return"".concat(msg," must be specified")}),TypeError),errors$2.codes=codes,errors$2}function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}hasRequiredAssertion_error=1;var inspect=util$2.inspect,ERR_INVALID_ARG_TYPE=requireErrors$1().codes.ERR_INVALID_ARG_TYPE;function endsWith(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function copyError(source){var keys=Object.keys(source),target=Object.create(Object.getPrototypeOf(source));return keys.forEach((function(key){target[key]=source[key]})),Object.defineProperty(target,"message",{value:source.message}),target}function inspectValue(val){return inspect(val,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var AssertionError=function(_Error){function AssertionError(options){var _this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AssertionError),"object"!==_typeof(options)||null===options)throw new ERR_INVALID_ARG_TYPE("options","Object",options);var message=options.message,operator=options.operator,stackStartFn=options.stackStartFn,actual=options.actual,expected=options.expected,limit=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=message)_this=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,String(message)));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&1!==process$1.stderr.getColorDepth()?(blue="[34m",green="[32m",white="[39m",red="[31m"):(blue="",green="",white="",red="")),"object"===_typeof(actual)&&null!==actual&&"object"===_typeof(expected)&&null!==expected&&"stack"in actual&&actual instanceof Error&&"stack"in expected&&expected instanceof Error&&(actual=copyError(actual),expected=copyError(expected)),"deepStrictEqual"===operator||"strictEqual"===operator)_this=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,function(actual,expected,operator){var other="",res="",lastPos=0,end="",skipped=!1,actualInspected=inspectValue(actual),actualLines=actualInspected.split("\n"),expectedLines=inspectValue(expected).split("\n"),i=0,indicator="";if("strictEqual"===operator&&"object"===_typeof(actual)&&"object"===_typeof(expected)&&null!==actual&&null!==expected&&(operator="strictEqualObject"),1===actualLines.length&&1===expectedLines.length&&actualLines[0]!==expectedLines[0]){var inputLength=actualLines[0].length+expectedLines[0].length;if(inputLength<=10){if(!("object"===_typeof(actual)&&null!==actual||"object"===_typeof(expected)&&null!==expected||0===actual&&0===expected))return"".concat(kReadableOperator[operator],"\n\n")+"".concat(actualLines[0]," !== ").concat(expectedLines[0],"\n")}else if("strictEqualObject"!==operator&&inputLength<(process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80)){for(;actualLines[0][i]===expectedLines[0][i];)i++;i>2&&(indicator="\n  ".concat(function(str,count){if(count=Math.floor(count),0==str.length||0==count)return"";var maxCount=str.length*count;for(count=Math.floor(Math.log(count)/Math.log(2));count;)str+=str,count--;return str+str.substring(0,maxCount-str.length)}(" ",i),"^"),i=0)}}for(var a=actualLines[actualLines.length-1],b=expectedLines[expectedLines.length-1];a===b&&(i++<2?end="\n  ".concat(a).concat(end):other=a,actualLines.pop(),expectedLines.pop(),0!==actualLines.length&&0!==expectedLines.length);)a=actualLines[actualLines.length-1],b=expectedLines[expectedLines.length-1];var maxLines=Math.max(actualLines.length,expectedLines.length);if(0===maxLines){var _actualLines=actualInspected.split("\n");if(_actualLines.length>30)for(_actualLines[26]="".concat(blue,"...").concat(white);_actualLines.length>27;)_actualLines.pop();return"".concat(kReadableOperator.notIdentical,"\n\n").concat(_actualLines.join("\n"),"\n")}i>3&&(end="\n".concat(blue,"...").concat(white).concat(end),skipped=!0),""!==other&&(end="\n  ".concat(other).concat(end),other="");var printedLines=0,msg=kReadableOperator[operator]+"\n".concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),skippedMsg=" ".concat(blue,"...").concat(white," Lines skipped");for(i=0;i<maxLines;i++){var cur=i-lastPos;if(actualLines.length<i+1)cur>1&&i>2&&(cur>4?(res+="\n".concat(blue,"...").concat(white),skipped=!0):cur>3&&(res+="\n  ".concat(expectedLines[i-2]),printedLines++),res+="\n  ".concat(expectedLines[i-1]),printedLines++),lastPos=i,other+="\n".concat(red,"-").concat(white," ").concat(expectedLines[i]),printedLines++;else if(expectedLines.length<i+1)cur>1&&i>2&&(cur>4?(res+="\n".concat(blue,"...").concat(white),skipped=!0):cur>3&&(res+="\n  ".concat(actualLines[i-2]),printedLines++),res+="\n  ".concat(actualLines[i-1]),printedLines++),lastPos=i,res+="\n".concat(green,"+").concat(white," ").concat(actualLines[i]),printedLines++;else{var expectedLine=expectedLines[i],actualLine=actualLines[i],divergingLines=actualLine!==expectedLine&&(!endsWith(actualLine,",")||actualLine.slice(0,-1)!==expectedLine);divergingLines&&endsWith(expectedLine,",")&&expectedLine.slice(0,-1)===actualLine&&(divergingLines=!1,actualLine+=","),divergingLines?(cur>1&&i>2&&(cur>4?(res+="\n".concat(blue,"...").concat(white),skipped=!0):cur>3&&(res+="\n  ".concat(actualLines[i-2]),printedLines++),res+="\n  ".concat(actualLines[i-1]),printedLines++),lastPos=i,res+="\n".concat(green,"+").concat(white," ").concat(actualLine),other+="\n".concat(red,"-").concat(white," ").concat(expectedLine),printedLines+=2):(res+=other,other="",1!==cur&&0!==i||(res+="\n  ".concat(actualLine),printedLines++))}if(printedLines>20&&i<maxLines-2)return"".concat(msg).concat(skippedMsg,"\n").concat(res,"\n").concat(blue,"...").concat(white).concat(other,"\n")+"".concat(blue,"...").concat(white)}return"".concat(msg).concat(skipped?skippedMsg:"","\n").concat(res).concat(other).concat(end).concat(indicator)}(actual,expected,operator)));else if("notDeepStrictEqual"===operator||"notStrictEqual"===operator){var base=kReadableOperator[operator],res=inspectValue(actual).split("\n");if("notStrictEqual"===operator&&"object"===_typeof(actual)&&null!==actual&&(base=kReadableOperator.notStrictEqualObject),res.length>30)for(res[26]="".concat(blue,"...").concat(white);res.length>27;)res.pop();_this=1===res.length?_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(base," ").concat(res[0]))):_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(base,"\n\n").concat(res.join("\n"),"\n")))}else{var _res=inspectValue(actual),other="",knownOperators=kReadableOperator[operator];"notDeepEqual"===operator||"notEqual"===operator?(_res="".concat(kReadableOperator[operator],"\n\n").concat(_res)).length>1024&&(_res="".concat(_res.slice(0,1021),"...")):(other="".concat(inspectValue(expected)),_res.length>512&&(_res="".concat(_res.slice(0,509),"...")),other.length>512&&(other="".concat(other.slice(0,509),"...")),"deepEqual"===operator||"equal"===operator?_res="".concat(knownOperators,"\n\n").concat(_res,"\n\nshould equal\n\n"):other=" ".concat(operator," ").concat(other)),_this=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(_res).concat(other)))}return Error.stackTraceLimit=limit,_this.generatedMessage=!message,Object.defineProperty(_assertThisInitialized(_this),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),_this.code="ERR_ASSERTION",_this.actual=actual,_this.expected=expected,_this.operator=operator,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(_this),stackStartFn),_this.stack,_this.name="AssertionError",_possibleConstructorReturn(_this)}var Constructor,protoProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AssertionError,_Error),Constructor=AssertionError,protoProps=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:inspect.custom,value:function(recurseTimes,ctx){return inspect(this,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},ctx,{customInspect:!1,depth:0}))}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),AssertionError}(_wrapNativeSuper(Error));return assertion_error=AssertionError}function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var toStr=Object.prototype.toString;return isArguments=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}}function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var keys=function(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var slice=Array.prototype.slice,isArgs=requireIsArguments(),origKeys=Object.keys,keysShim=origKeys?function(o){return origKeys(o)}:function(){if(hasRequiredImplementation$2)return implementation$2;var keysShim;if(hasRequiredImplementation$2=1,!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=requireIsArguments(),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call((function(){}),"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}();keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys}}return implementation$2=keysShim}(),originalKeys=Object.keys;return keysShim.shim=function(){if(Object.keys){var keysWorksWithArguments=function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2);keysWorksWithArguments||(Object.keys=function(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)})}else Object.keys=keysShim;return Object.keys||keysShim},objectKeys=keysShim}(),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,hasPropertyDescriptors=function(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var $defineProperty=getIntrinsic("%Object.defineProperty%",!0),hasPropertyDescriptors=function(){if($defineProperty)try{return $defineProperty({},"a",{value:1}),!0}catch(e){return!1}return!1};return hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!hasPropertyDescriptors())return null;try{return 1!==$defineProperty([],"length",{value:1}).length}catch(e){return!0}},hasPropertyDescriptors_1=hasPropertyDescriptors}()(),supportsDescriptors=origDefineProperty&&hasPropertyDescriptors,defineProperty=function(object,name,value,predicate){if(name in object)if(!0===predicate){if(object[name]===value)return}else if("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())return;var fn;supportsDescriptors?origDefineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};return defineProperties.supportsDescriptors=!!supportsDescriptors,defineProperties_1=defineProperties}function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var numberIsNaN=function(value){return value!=value};return implementation$1=function(a,b){return 0===a&&0===b?1/a==1/b:a===b||!(!numberIsNaN(a)||!numberIsNaN(b))}}function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var implementation=requireImplementation$1();return polyfill$1=function(){return"function"==typeof Object.is?Object.is:implementation}}function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var define=requireDefineProperties(),callBind=callBindExports,implementation=requireImplementation$1(),getPolyfill=requirePolyfill$1(),shim=function(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var getPolyfill=requirePolyfill$1(),define=requireDefineProperties();return shim$1=function(){var polyfill=getPolyfill();return define(Object,{is:polyfill},{is:function(){return Object.is!==polyfill}}),polyfill},shim$1}(),polyfill=callBind(getPolyfill(),Object);return define(polyfill,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),objectIs=polyfill}function requireImplementation(){return hasRequiredImplementation?implementation:(hasRequiredImplementation=1,implementation=function(value){return value!=value})}function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var implementation=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation}}function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var define=requireDefineProperties(),getPolyfill=requirePolyfill();return shim=function(){var polyfill=getPolyfill();return define(Number,{isNaN:polyfill},{isNaN:function(){return Number.isNaN!==polyfill}}),polyfill},shim}function requireAssert(){if(hasRequiredAssert)return assert.exports;function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}hasRequiredAssert=1;var isDeepEqual,isDeepStrictEqual,_require$codes=requireErrors$1().codes,ERR_AMBIGUOUS_ARGUMENT=_require$codes.ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE=_require$codes.ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE=_require$codes.ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,AssertionError=requireAssertion_error(),inspect=util$2.inspect,_require$types=util$2.types,isPromise=_require$types.isPromise,isRegExp=_require$types.isRegExp,objectAssign=Object.assign?Object.assign:function(){if(hasRequiredEs6ObjectAssign)return es6ObjectAssign;function assign(target,firstSource){if(null==target)throw new TypeError("Cannot convert first argument to object");for(var to=Object(target),i=1;i<arguments.length;i++){var nextSource=arguments[i];if(null!=nextSource)for(var keysArray=Object.keys(Object(nextSource)),nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex++){var nextKey=keysArray[nextIndex],desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);void 0!==desc&&desc.enumerable&&(to[nextKey]=nextSource[nextKey])}}return to}return hasRequiredEs6ObjectAssign=1,es6ObjectAssign={assign:assign,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}}}().assign,objectIs=Object.is?Object.is:requireObjectIs();function lazyLoadComparison(){var comparison=function(){if(hasRequiredComparisons)return comparisons;function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}hasRequiredComparisons=1;var regexFlagsSupported=void 0!==/a/g.flags,arrayFromSet=function(set){var array=[];return set.forEach((function(value){return array.push(value)})),array},arrayFromMap=function(map){var array=[];return map.forEach((function(value,key){return array.push([key,value])})),array},objectIs=Object.is?Object.is:requireObjectIs(),objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:function(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var callBind=callBindExports,define=requireDefineProperties(),implementation=requireImplementation(),getPolyfill=requirePolyfill(),shim=requireShim(),polyfill=callBind(getPolyfill(),Number);return define(polyfill,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),isNan=polyfill}();function uncurryThis(f){return f.call.bind(f)}var hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString=uncurryThis(Object.prototype.toString),_require$types=util$2.types,isAnyArrayBuffer=_require$types.isAnyArrayBuffer,isArrayBufferView=_require$types.isArrayBufferView,isDate=_require$types.isDate,isMap=_require$types.isMap,isRegExp=_require$types.isRegExp,isSet=_require$types.isSet,isNativeError=_require$types.isNativeError,isBoxedPrimitive=_require$types.isBoxedPrimitive,isNumberObject=_require$types.isNumberObject,isStringObject=_require$types.isStringObject,isBooleanObject=_require$types.isBooleanObject,isBigIntObject=_require$types.isBigIntObject,isSymbolObject=_require$types.isSymbolObject,isFloat32Array=_require$types.isFloat32Array,isFloat64Array=_require$types.isFloat64Array;function isNonIndex(key){if(0===key.length||key.length>10)return!0;for(var i=0;i<key.length;i++){var code=key.charCodeAt(i);if(code<48||code>57)return!0}return 10===key.length&&key>=Math.pow(2,32)}function getOwnNonIndexProperties(value){return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)))}
/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}var kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function innerDeepEqual(val1,val2,strict,memos){if(val1===val2)return 0!==val1||!strict||objectIs(val1,val2);if(strict){if("object"!==_typeof(val1))return"number"==typeof val1&&numberIsNaN(val1)&&numberIsNaN(val2);if("object"!==_typeof(val2)||null===val1||null===val2)return!1;if(Object.getPrototypeOf(val1)!==Object.getPrototypeOf(val2))return!1}else{if(null===val1||"object"!==_typeof(val1))return(null===val2||"object"!==_typeof(val2))&&val1==val2;if(null===val2||"object"!==_typeof(val2))return!1}var buf1,buf2,a,b,val1Tag=objectToString(val1);if(val1Tag!==objectToString(val2))return!1;if(Array.isArray(val1)){if(val1.length!==val2.length)return!1;var keys1=getOwnNonIndexProperties(val1),keys2=getOwnNonIndexProperties(val2);return keys1.length===keys2.length&&keyCheck(val1,val2,strict,memos,kIsArray,keys1)}if("[object Object]"===val1Tag&&(!isMap(val1)&&isMap(val2)||!isSet(val1)&&isSet(val2)))return!1;if(isDate(val1)){if(!isDate(val2)||Date.prototype.getTime.call(val1)!==Date.prototype.getTime.call(val2))return!1}else if(isRegExp(val1)){if(!isRegExp(val2)||(a=val1,b=val2,!(regexFlagsSupported?a.source===b.source&&a.flags===b.flags:RegExp.prototype.toString.call(a)===RegExp.prototype.toString.call(b))))return!1}else if(isNativeError(val1)||val1 instanceof Error){if(val1.message!==val2.message||val1.name!==val2.name)return!1}else{if(isArrayBufferView(val1)){if(strict||!isFloat32Array(val1)&&!isFloat64Array(val1)){if(!function(a,b){return a.byteLength===b.byteLength&&0===compare(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),new Uint8Array(b.buffer,b.byteOffset,b.byteLength))}(val1,val2))return!1}else if(!function(a,b){if(a.byteLength!==b.byteLength)return!1;for(var offset=0;offset<a.byteLength;offset++)if(a[offset]!==b[offset])return!1;return!0}(val1,val2))return!1;var _keys=getOwnNonIndexProperties(val1),_keys2=getOwnNonIndexProperties(val2);return _keys.length===_keys2.length&&keyCheck(val1,val2,strict,memos,kNoIterator,_keys)}if(isSet(val1))return!(!isSet(val2)||val1.size!==val2.size)&&keyCheck(val1,val2,strict,memos,kIsSet);if(isMap(val1))return!(!isMap(val2)||val1.size!==val2.size)&&keyCheck(val1,val2,strict,memos,kIsMap);if(isAnyArrayBuffer(val1)){if(buf2=val2,(buf1=val1).byteLength!==buf2.byteLength||0!==compare(new Uint8Array(buf1),new Uint8Array(buf2)))return!1}else if(isBoxedPrimitive(val1)&&!function(val1,val2){return isNumberObject(val1)?isNumberObject(val2)&&objectIs(Number.prototype.valueOf.call(val1),Number.prototype.valueOf.call(val2)):isStringObject(val1)?isStringObject(val2)&&String.prototype.valueOf.call(val1)===String.prototype.valueOf.call(val2):isBooleanObject(val1)?isBooleanObject(val2)&&Boolean.prototype.valueOf.call(val1)===Boolean.prototype.valueOf.call(val2):isBigIntObject(val1)?isBigIntObject(val2)&&BigInt.prototype.valueOf.call(val1)===BigInt.prototype.valueOf.call(val2):isSymbolObject(val2)&&Symbol.prototype.valueOf.call(val1)===Symbol.prototype.valueOf.call(val2)}(val1,val2))return!1}return keyCheck(val1,val2,strict,memos,kNoIterator)}function getEnumerables(val,keys){return keys.filter((function(k){return propertyIsEnumerable(val,k)}))}function keyCheck(val1,val2,strict,memos,iterationType,aKeys){if(5===arguments.length){aKeys=Object.keys(val1);var bKeys=Object.keys(val2);if(aKeys.length!==bKeys.length)return!1}for(var i=0;i<aKeys.length;i++)if(!hasOwnProperty(val2,aKeys[i]))return!1;if(strict&&5===arguments.length){var symbolKeysA=objectGetOwnPropertySymbols(val1);if(0!==symbolKeysA.length){var count=0;for(i=0;i<symbolKeysA.length;i++){var key=symbolKeysA[i];if(propertyIsEnumerable(val1,key)){if(!propertyIsEnumerable(val2,key))return!1;aKeys.push(key),count++}else if(propertyIsEnumerable(val2,key))return!1}var symbolKeysB=objectGetOwnPropertySymbols(val2);if(symbolKeysA.length!==symbolKeysB.length&&getEnumerables(val2,symbolKeysB).length!==count)return!1}else{var _symbolKeysB=objectGetOwnPropertySymbols(val2);if(0!==_symbolKeysB.length&&0!==getEnumerables(val2,_symbolKeysB).length)return!1}}if(0===aKeys.length&&(iterationType===kNoIterator||iterationType===kIsArray&&0===val1.length||0===val1.size))return!0;if(void 0===memos)memos={val1:new Map,val2:new Map,position:0};else{var val2MemoA=memos.val1.get(val1);if(void 0!==val2MemoA){var val2MemoB=memos.val2.get(val2);if(void 0!==val2MemoB)return val2MemoA===val2MemoB}memos.position++}memos.val1.set(val1,memos.position),memos.val2.set(val2,memos.position);var areEq=function(a,b,strict,keys,memos,iterationType){var i=0;if(iterationType===kIsSet){if(!function(a,b,strict,memo){for(var set=null,aValues=arrayFromSet(a),i=0;i<aValues.length;i++){var val=aValues[i];if("object"===_typeof(val)&&null!==val)null===set&&(set=new Set),set.add(val);else if(!b.has(val)){if(strict)return!1;if(!setMightHaveLoosePrim(a,b,val))return!1;null===set&&(set=new Set),set.add(val)}}if(null!==set){for(var bValues=arrayFromSet(b),_i=0;_i<bValues.length;_i++){var _val=bValues[_i];if("object"===_typeof(_val)&&null!==_val){if(!setHasEqualElement(set,_val,strict,memo))return!1}else if(!strict&&!a.has(_val)&&!setHasEqualElement(set,_val,strict,memo))return!1}return 0===set.size}return!0}(a,b,strict,memos))return!1}else if(iterationType===kIsMap){if(!function(a,b,strict,memo){for(var set=null,aEntries=arrayFromMap(a),i=0;i<aEntries.length;i++){var _aEntries$i=_slicedToArray(aEntries[i],2),key=_aEntries$i[0],item1=_aEntries$i[1];if("object"===_typeof(key)&&null!==key)null===set&&(set=new Set),set.add(key);else{var item2=b.get(key);if(void 0===item2&&!b.has(key)||!innerDeepEqual(item1,item2,strict,memo)){if(strict)return!1;if(!mapMightHaveLoosePrim(a,b,key,item1,memo))return!1;null===set&&(set=new Set),set.add(key)}}}if(null!==set){for(var bEntries=arrayFromMap(b),_i2=0;_i2<bEntries.length;_i2++){var _bEntries$_i=_slicedToArray(bEntries[_i2],2),item=(key=_bEntries$_i[0],_bEntries$_i[1]);if("object"===_typeof(key)&&null!==key){if(!mapHasEqualEntry(set,a,key,item,strict,memo))return!1}else if(!(strict||a.has(key)&&innerDeepEqual(a.get(key),item,!1,memo)||mapHasEqualEntry(set,a,key,item,!1,memo)))return!1}return 0===set.size}return!0}(a,b,strict,memos))return!1}else if(iterationType===kIsArray)for(;i<a.length;i++){if(!hasOwnProperty(a,i)){if(hasOwnProperty(b,i))return!1;for(var keysA=Object.keys(a);i<keysA.length;i++){var key=keysA[i];if(!hasOwnProperty(b,key)||!innerDeepEqual(a[key],b[key],strict,memos))return!1}return keysA.length===Object.keys(b).length}if(!hasOwnProperty(b,i)||!innerDeepEqual(a[i],b[i],strict,memos))return!1}for(i=0;i<keys.length;i++){var _key=keys[i];if(!innerDeepEqual(a[_key],b[_key],strict,memos))return!1}return!0}(val1,val2,strict,aKeys,memos,iterationType);return memos.val1.delete(val1),memos.val2.delete(val2),areEq}function setHasEqualElement(set,val1,strict,memo){for(var setValues=arrayFromSet(set),i=0;i<setValues.length;i++){var val2=setValues[i];if(innerDeepEqual(val1,val2,strict,memo))return set.delete(val2),!0}return!1}function findLooseMatchingPrimitives(prim){switch(_typeof(prim)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":prim=+prim;case"number":if(numberIsNaN(prim))return!1}return!0}function setMightHaveLoosePrim(a,b,prim){var altValue=findLooseMatchingPrimitives(prim);return null!=altValue?altValue:b.has(altValue)&&!a.has(altValue)}function mapMightHaveLoosePrim(a,b,prim,item,memo){var altValue=findLooseMatchingPrimitives(prim);if(null!=altValue)return altValue;var curB=b.get(altValue);return!(void 0===curB&&!b.has(altValue)||!innerDeepEqual(item,curB,!1,memo))&&!a.has(altValue)&&innerDeepEqual(item,curB,!1,memo)}function mapHasEqualEntry(set,map,key1,item1,strict,memo){for(var setValues=arrayFromSet(set),i=0;i<setValues.length;i++){var key2=setValues[i];if(innerDeepEqual(key1,key2,strict,memo)&&innerDeepEqual(item1,map.get(key2),strict,memo))return set.delete(key2),!0}return!1}return comparisons={isDeepEqual:function(val1,val2){return innerDeepEqual(val1,val2,!1)},isDeepStrictEqual:function(val1,val2){return innerDeepEqual(val1,val2,!0)}}}();isDeepEqual=comparison.isDeepEqual,isDeepStrictEqual=comparison.isDeepStrictEqual}var warned=!1,assert$1=assert.exports=ok,NO_EXCEPTION_SENTINEL={};function innerFail(obj){if(obj.message instanceof Error)throw obj.message;throw new AssertionError(obj)}function innerOk(fn,argLen,value,message){if(!value){var generatedMessage=!1;if(0===argLen)generatedMessage=!0,message="No value argument passed to `assert.ok()`";else if(message instanceof Error)throw message;var err=new AssertionError({actual:value,expected:!0,message:message,operator:"==",stackStartFn:fn});throw err.generatedMessage=generatedMessage,err}}function ok(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];innerOk.apply(void 0,[ok,args.length].concat(args))}assert$1.fail=function fail(actual,expected,message,operator,stackStartFn){var internalMessage,argsLen=arguments.length;if(0===argsLen?internalMessage="Failed":1===argsLen?(message=actual,actual=void 0):(!1===warned&&(warned=!0,(process$1.emitWarning?process$1.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===argsLen&&(operator="!=")),message instanceof Error)throw message;var errArgs={actual:actual,expected:expected,operator:void 0===operator?"fail":operator,stackStartFn:stackStartFn||fail};void 0!==message&&(errArgs.message=message);var err=new AssertionError(errArgs);throw internalMessage&&(err.message=internalMessage,err.generatedMessage=!0),err},assert$1.AssertionError=AssertionError,assert$1.ok=ok,assert$1.equal=function equal(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");actual!=expected&&innerFail({actual:actual,expected:expected,message:message,operator:"==",stackStartFn:equal})},assert$1.notEqual=function notEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");actual==expected&&innerFail({actual:actual,expected:expected,message:message,operator:"!=",stackStartFn:notEqual})},assert$1.deepEqual=function deepEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");void 0===isDeepEqual&&lazyLoadComparison(),isDeepEqual(actual,expected)||innerFail({actual:actual,expected:expected,message:message,operator:"deepEqual",stackStartFn:deepEqual})},assert$1.notDeepEqual=function notDeepEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");void 0===isDeepEqual&&lazyLoadComparison(),isDeepEqual(actual,expected)&&innerFail({actual:actual,expected:expected,message:message,operator:"notDeepEqual",stackStartFn:notDeepEqual})},assert$1.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");void 0===isDeepEqual&&lazyLoadComparison(),isDeepStrictEqual(actual,expected)||innerFail({actual:actual,expected:expected,message:message,operator:"deepStrictEqual",stackStartFn:deepStrictEqual})},assert$1.notDeepStrictEqual=function notDeepStrictEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");void 0===isDeepEqual&&lazyLoadComparison(),isDeepStrictEqual(actual,expected)&&innerFail({actual:actual,expected:expected,message:message,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual})},assert$1.strictEqual=function strictEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(actual,expected)||innerFail({actual:actual,expected:expected,message:message,operator:"strictEqual",stackStartFn:strictEqual})},assert$1.notStrictEqual=function notStrictEqual(actual,expected,message){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(actual,expected)&&innerFail({actual:actual,expected:expected,message:message,operator:"notStrictEqual",stackStartFn:notStrictEqual})};var Comparison=function Comparison(obj,keys,actual){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Comparison),keys.forEach((function(key){key in obj&&(void 0!==actual&&"string"==typeof actual[key]&&isRegExp(obj[key])&&obj[key].test(actual[key])?_this[key]=actual[key]:_this[key]=obj[key])}))};function expectedException(actual,expected,msg,fn){if("function"!=typeof expected){if(isRegExp(expected))return expected.test(actual);if(2===arguments.length)throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],expected);if("object"!==_typeof(actual)||null===actual){var err=new AssertionError({actual:actual,expected:expected,message:msg,operator:"deepStrictEqual",stackStartFn:fn});throw err.operator=fn.name,err}var keys=Object.keys(expected);if(expected instanceof Error)keys.push("name","message");else if(0===keys.length)throw new ERR_INVALID_ARG_VALUE("error",expected,"may not be an empty object");return void 0===isDeepEqual&&lazyLoadComparison(),keys.forEach((function(key){"string"==typeof actual[key]&&isRegExp(expected[key])&&expected[key].test(actual[key])||function(actual,expected,key,message,keys,fn){if(!(key in actual)||!isDeepStrictEqual(actual[key],expected[key])){if(!message){var a=new Comparison(actual,keys),b=new Comparison(expected,keys,actual),err=new AssertionError({actual:a,expected:b,operator:"deepStrictEqual",stackStartFn:fn});throw err.actual=actual,err.expected=expected,err.operator=fn.name,err}innerFail({actual:actual,expected:expected,message:message,operator:fn.name,stackStartFn:fn})}}(actual,expected,key,msg,keys,fn)})),!0}return void 0!==expected.prototype&&actual instanceof expected||!Error.isPrototypeOf(expected)&&!0===expected.call({},actual)}function getActual(fn){if("function"!=typeof fn)throw new ERR_INVALID_ARG_TYPE("fn","Function",fn);try{fn()}catch(e){return e}return NO_EXCEPTION_SENTINEL}function checkIsPromise(obj){return isPromise(obj)||null!==obj&&"object"===_typeof(obj)&&"function"==typeof obj.then&&"function"==typeof obj.catch}function waitForActual(promiseFn){return Promise.resolve().then((function(){var resultPromise;if("function"==typeof promiseFn){if(!checkIsPromise(resultPromise=promiseFn()))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",resultPromise)}else{if(!checkIsPromise(promiseFn))throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],promiseFn);resultPromise=promiseFn}return Promise.resolve().then((function(){return resultPromise})).then((function(){return NO_EXCEPTION_SENTINEL})).catch((function(e){return e}))}))}function expectsError(stackStartFn,actual,error,message){if("string"==typeof error){if(4===arguments.length)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],error);if("object"===_typeof(actual)&&null!==actual){if(actual.message===error)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error message "'.concat(actual.message,'" is identical to the message.'))}else if(actual===error)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error "'.concat(actual,'" is identical to the message.'));message=error,error=void 0}else if(null!=error&&"object"!==_typeof(error)&&"function"!=typeof error)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],error);if(actual===NO_EXCEPTION_SENTINEL){var details="";error&&error.name&&(details+=" (".concat(error.name,")")),details+=message?": ".concat(message):".";var fnType="rejects"===stackStartFn.name?"rejection":"exception";innerFail({actual:void 0,expected:error,operator:stackStartFn.name,message:"Missing expected ".concat(fnType).concat(details),stackStartFn:stackStartFn})}if(error&&!expectedException(actual,error,message,stackStartFn))throw actual}function expectsNoError(stackStartFn,actual,error,message){if(actual!==NO_EXCEPTION_SENTINEL){if("string"==typeof error&&(message=error,error=void 0),!error||expectedException(actual,error)){var details=message?": ".concat(message):".",fnType="doesNotReject"===stackStartFn.name?"rejection":"exception";innerFail({actual:actual,expected:error,operator:stackStartFn.name,message:"Got unwanted ".concat(fnType).concat(details,"\n")+'Actual message: "'.concat(actual&&actual.message,'"'),stackStartFn:stackStartFn})}throw actual}}function strict(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];innerOk.apply(void 0,[strict,args.length].concat(args))}return assert$1.throws=function throws(promiseFn){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];expectsError.apply(void 0,[throws,getActual(promiseFn)].concat(args))},assert$1.rejects=function rejects(promiseFn){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];return waitForActual(promiseFn).then((function(result){return expectsError.apply(void 0,[rejects,result].concat(args))}))},assert$1.doesNotThrow=function doesNotThrow(fn){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)args[_key4-1]=arguments[_key4];expectsNoError.apply(void 0,[doesNotThrow,getActual(fn)].concat(args))},assert$1.doesNotReject=function doesNotReject(fn){for(var _len5=arguments.length,args=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)args[_key5-1]=arguments[_key5];return waitForActual(fn).then((function(result){return expectsNoError.apply(void 0,[doesNotReject,result].concat(args))}))},assert$1.ifError=function ifError(err){if(null!=err){var message="ifError got unwanted exception: ";"object"===_typeof(err)&&"string"==typeof err.message?0===err.message.length&&err.constructor?message+=err.constructor.name:message+=err.message:message+=inspect(err);var newErr=new AssertionError({actual:err,expected:null,operator:"ifError",message:message,stackStartFn:ifError}),origStack=err.stack;if("string"==typeof origStack){var tmp2=origStack.split("\n");tmp2.shift();for(var tmp1=newErr.stack.split("\n"),i=0;i<tmp2.length;i++){var pos=tmp1.indexOf(tmp2[i]);if(-1!==pos){tmp1=tmp1.slice(0,pos);break}}newErr.stack="".concat(tmp1.join("\n"),"\n").concat(tmp2.join("\n"))}throw newErr}},assert$1.strict=objectAssign(strict,assert$1,{equal:assert$1.strictEqual,deepEqual:assert$1.deepStrictEqual,notEqual:assert$1.notStrictEqual,notDeepEqual:assert$1.notDeepStrictEqual}),assert$1.strict.strict=assert$1.strict,assert.exports}!function(exports){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,(function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}})),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(void 0!==process$1&&!0===process$1.noDeprecation)return fn;if(void 0===process$1)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process$1.throwDeprecation)throw new Error(msg);process$1.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugs={},debugEnvRegex=/^$/;if(process$1.env.NODE_DEBUG){var debugEnv=process$1.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach((function(val,idx){hash[val]=!0})),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];return isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach((function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))})),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})),ctx.seen.pop(),function(output,base,braces){return output.reduce((function(prev,cur){return cur.indexOf("\n"),prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map((function(line){return"  "+line})).join("\n").slice(2):"\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.slice(1,-1),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(set=set.toUpperCase(),!debugs[set])if(debugEnvRegex.test(set)){var pid=process$1.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.types=types,exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.types.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.types.isDate=isDate,exports.isError=isError,exports.types.isNativeError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=isBuffer$1;var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(time=[pad((d=new Date).getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=inherits_browserExports$1,exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason,reason=newReason}return cb(reason)}exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn;if("function"!=typeof(fn=original[kCustomPromisifiedSymbol]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var promiseResolve,promiseReject,promise=new Promise((function(resolve,reject){promiseResolve=resolve,promiseReject=reject})),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push((function(err,value){err?promiseReject(err):promiseResolve(value)}));try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");var self=this,cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then((function(ret){process$1.nextTick(cb.bind(null,null,ret))}),(function(rej){process$1.nextTick(callbackifyOnRejected.bind(null,rej,cb))}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}}(util$2);var lib$2={},decoder={},utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0}),utils$2.default={concat2:(a,b)=>a<<8|b,concat3:(a,b,c)=>a<<16|b<<8|c,concat4:(a,b,c,d)=>a<<24|b<<16|c<<8|d,legacyErrorMessage:"Maxmind v2 module has changed API.\nUpgrade instructions can be found here: https://github.com/runk/node-maxmind/wiki/Migration-guide\nIf you want to use legacy library then explicitly install maxmind@1"};var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(decoder,"__esModule",{value:!0});var DataType,assert_1=__importDefault$4(requireAssert()),utils_1$1=__importDefault$4(utils$2);(0,assert_1.default)("undefined"!=typeof BigInt,"Apparently you are using old version of node. Please upgrade to node 10.4.x or above."),function(DataType){DataType[DataType.Extended=0]="Extended",DataType[DataType.Pointer=1]="Pointer",DataType[DataType.Utf8String=2]="Utf8String",DataType[DataType.Double=3]="Double",DataType[DataType.Bytes=4]="Bytes",DataType[DataType.Uint16=5]="Uint16",DataType[DataType.Uint32=6]="Uint32",DataType[DataType.Map=7]="Map",DataType[DataType.Int32=8]="Int32",DataType[DataType.Uint64=9]="Uint64",DataType[DataType.Uint128=10]="Uint128",DataType[DataType.Array=11]="Array",DataType[DataType.Container=12]="Container",DataType[DataType.EndMarker=13]="EndMarker",DataType[DataType.Boolean=14]="Boolean",DataType[DataType.Float=15]="Float"}(DataType||(DataType={}));var pointerValueOffset=[0,2048,526336,0],noCache={get:()=>{},set:()=>{}},cursor=(value,offset)=>({value:value,offset:offset});decoder.default=class{constructor(db,baseOffset=0,cache=noCache){this.telemetry={},(0,assert_1.default)(this.db=db,"Database buffer is required"),this.baseOffset=baseOffset,this.cache=cache}decode(offset){var tmp,ctrlByte=this.db[offset++],type=ctrlByte>>5;if(type===DataType.Pointer)return tmp=this.decodePointer(ctrlByte,offset),cursor(this.decodeFast(tmp.value).value,tmp.offset);if(type===DataType.Extended){if((tmp=this.db[offset]+7)<8)throw new Error("Invalid Extended Type at offset "+offset+" val "+tmp);type=tmp,offset++}var size=this.sizeFromCtrlByte(ctrlByte,offset);return this.decodeByType(type,size.offset,size.value)}decodeFast(offset){var cached=this.cache.get(offset);if(cached)return cached;var result=this.decode(offset);return this.cache.set(offset,result),result}decodeByType(type,offset,size){var newOffset=offset+size;switch(type){case DataType.Utf8String:return cursor(this.decodeString(offset,size),newOffset);case DataType.Map:return this.decodeMap(size,offset);case DataType.Uint32:return cursor(this.decodeUint(offset,size),newOffset);case DataType.Double:return cursor(this.decodeDouble(offset),newOffset);case DataType.Array:return this.decodeArray(size,offset);case DataType.Boolean:return cursor(this.decodeBoolean(size),offset);case DataType.Float:return cursor(this.decodeFloat(offset),newOffset);case DataType.Bytes:return cursor(this.decodeBytes(offset,size),newOffset);case DataType.Uint16:return cursor(this.decodeUint(offset,size),newOffset);case DataType.Int32:return cursor(this.decodeInt32(offset,size),newOffset);case DataType.Uint64:case DataType.Uint128:return cursor(this.decodeUint(offset,size),newOffset)}throw new Error("Unknown type "+type+" at offset "+offset)}sizeFromCtrlByte(ctrlByte,offset){var size=31&ctrlByte;return size<29?cursor(size,offset):29===size?cursor(29+this.db[offset],offset+1):30===size?cursor(285+this.db.readUInt16BE(offset),offset+2):cursor(65821+utils_1$1.default.concat3(this.db[offset],this.db[offset+1],this.db[offset+2]),offset+3)}decodeBytes(offset,size){return this.db.slice(offset,offset+size)}decodePointer(ctrlByte,offset){var packed,pointerSize=ctrlByte>>3&3,pointer=this.baseOffset+pointerValueOffset[pointerSize];return packed=0===pointerSize?utils_1$1.default.concat2(7&ctrlByte,this.db[offset]):1===pointerSize?utils_1$1.default.concat3(7&ctrlByte,this.db[offset],this.db[offset+1]):2===pointerSize?utils_1$1.default.concat4(7&ctrlByte,this.db[offset],this.db[offset+1],this.db[offset+2]):this.db.readUInt32BE(offset),cursor(pointer+packed,offset+=pointerSize+1)}decodeArray(size,offset){for(var tmp,array=[],i=0;i<size;i++)offset=(tmp=this.decode(offset)).offset,array.push(tmp.value);return cursor(array,offset)}decodeBoolean(size){return 0!==size}decodeDouble(offset){return this.db.readDoubleBE(offset)}decodeFloat(offset){return this.db.readFloatBE(offset)}decodeMap(size,offset){for(var tmp,key,map={},i=0;i<size;i++)key=(tmp=this.decode(offset)).value,offset=(tmp=this.decode(tmp.offset)).offset,map[key]=tmp.value;return cursor(map,offset)}decodeInt32(offset,size){return 0===size?0:this.db.readInt32BE(offset)}decodeUint(offset,size){switch(size){case 0:return 0;case 1:return this.db[offset];case 2:return utils_1$1.default.concat2(this.db[offset+0],this.db[offset+1]);case 3:return utils_1$1.default.concat3(this.db[offset+0],this.db[offset+1],this.db[offset+2]);case 4:return utils_1$1.default.concat4(this.db[offset+0],this.db[offset+1],this.db[offset+2],this.db[offset+3]);case 8:case 16:return this.decodeBigUint(offset,size)}return 0}decodeString(offset,size){return this.db.slice(offset,offset+size).toString()}decodeBigUint(offset,size){var buffer=buffer$1.Buffer.alloc(size);this.db.copy(buffer,0,offset,offset+size);for(var integer=BigInt(0),numberOfLongs=size/4,i=0;i<numberOfLongs;i++)integer=integer*BigInt(4294967296)+BigInt(buffer.readUInt32BE(i<<2));return integer.toString()}};var ip$1={},require$$0$1=getAugmentedNamespace(Object.freeze({__proto__:null,isIP:function(input){return exports.isIPv4(input)?4:exports.isIPv6(input)?6:0},isIPv4:function(input){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(input)},isIPv6:function(input){return/^(([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))$/.test(input)}})),__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(ip$1,"__esModule",{value:!0});var net_1$1=__importDefault$3(require$$0$1),hex$1=v=>{var h=parseInt(v,10).toString(16);return 2===h.length?h:"0"+h};ip$1.default={bitAt:(rawAddress,idx)=>{var bitIdx=7^7&idx;return rawAddress[idx>>3]>>>bitIdx&1},parse:ip=>-1===ip.indexOf(":")?(input=>{var ip=input.split(".",4);return[parseInt(ip[0]),parseInt(ip[1]),parseInt(ip[2]),parseInt(ip[3])]})(ip):(input=>{var i,parsed,chunk,addr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ip=input.indexOf(".")>-1?input.replace(/(\d+)\.(\d+)\.(\d+)\.(\d+)/,((match,a,b,c,d)=>hex$1(a)+hex$1(b)+":"+hex$1(c)+hex$1(d))):input,[left,right]=ip.split("::",2);if(left)for(parsed=left.split(":"),i=0;i<parsed.length;i++)chunk=parseInt(parsed[i],16),addr[2*i]=chunk>>8,addr[2*i+1]=255&chunk;if(right){var offset=16-2*(parsed=right.split(":")).length;for(i=0;i<parsed.length;i++)chunk=parseInt(parsed[i],16),addr[offset+2*i]=chunk>>8,addr[offset+(2*i+1)]=255&chunk}return addr})(ip),validate:ip=>{var version=net_1$1.default.isIP(ip);return 4===version||6===version}};var metadata={};!function(exports){var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isLegacyFormat=exports.parseMetadata=void 0;var assert_1=__importDefault(requireAssert()),decoder_1=__importDefault(decoder),utils_1=__importDefault(utils$2),METADATA_START_MARKER=buffer$1.Buffer.from("ABCDEF4D61784D696E642E636F6D","hex");exports.parseMetadata=db=>{var offset=findStart(db),metadata=new decoder_1.default(db,offset).decode(offset).value;if(!metadata)throw new Error((0,exports.isLegacyFormat)(db)?utils_1.default.legacyErrorMessage:"Cannot parse binary database");return(0,assert_1.default)([24,28,32].indexOf(metadata.record_size)>-1,"Unsupported record size"),{binaryFormatMajorVersion:metadata.binary_format_major_version,binaryFormatMinorVersion:metadata.binary_format_minor_version,buildEpoch:new Date(1e3*metadata.build_epoch),databaseType:metadata.database_type,description:metadata.description,ipVersion:metadata.ip_version,languages:metadata.languages,nodeByteSize:metadata.record_size/4,nodeCount:metadata.node_count,recordSize:metadata.record_size,searchTreeSize:metadata.node_count*metadata.record_size/4,treeDepth:Math.pow(2,metadata.ip_version+1)}};var findStart=db=>{for(var found=0,fsize=db.length-1,mlen=METADATA_START_MARKER.length-1;found<=mlen&&fsize-- >0;)found+=db[fsize]===METADATA_START_MARKER[mlen-found]?1:-found;return fsize+found};exports.isLegacyFormat=db=>{for(var i=0;i<20;i++){var delim=db.slice(db.length-3-i,db.length-i);if(255===delim[0]&&255===delim[1]&&255===delim[2])return!0}return!1}}(metadata);var walker={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(walker,"__esModule",{value:!0});var utils_1=__importDefault$2(utils$2),readNodeRight24=db=>offset=>utils_1.default.concat3(db[offset+3],db[offset+4],db[offset+5]),readNodeLeft24=db=>offset=>utils_1.default.concat3(db[offset],db[offset+1],db[offset+2]),readNodeLeft28=db=>offset=>utils_1.default.concat4(db[offset+3]>>4,db[offset],db[offset+1],db[offset+2]),readNodeRight28=db=>offset=>utils_1.default.concat4(15&db[offset+3],db[offset+4],db[offset+5],db[offset+6]),readNodeLeft32=db=>offset=>db.readUInt32BE(offset),readNodeRight32=db=>offset=>db.readUInt32BE(offset+4);walker.default=(db,recordSize)=>{switch(recordSize){case 24:return{left:readNodeLeft24(db),right:readNodeRight24(db)};case 28:return{left:readNodeLeft28(db),right:readNodeRight28(db)};case 32:return{left:readNodeLeft32(db),right:readNodeRight32(db)}}throw new Error("Unsupported record size")};var response={};Object.defineProperty(response,"__esModule",{value:!0}),function(exports){var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Reader=void 0;var decoder_1=__importDefault(decoder),ip_1=__importDefault(ip$1),metadata_1=metadata,walker_1=__importDefault(walker);exports.Reader=class{constructor(db,opts={}){this.opts=opts,this.load(db)}load(db){if(!buffer$1.Buffer.isBuffer(db))throw new Error("mmdb-lib expects an instance of Buffer, got: "+typeof db);this.db=db,this.metadata=(0,metadata_1.parseMetadata)(this.db),this.decoder=new decoder_1.default(this.db,this.metadata.searchTreeSize+16,this.opts.cache),this.walker=(0,walker_1.default)(this.db,this.metadata.recordSize),this.ipv4StartNodeNumber=this.ipv4Start()}get(ipAddress){var[data]=this.getWithPrefixLength(ipAddress);return data}getWithPrefixLength(ipAddress){var[pointer,prefixLength]=this.findAddressInTree(ipAddress);return[pointer?this.resolveDataPointer(pointer):null,prefixLength]}findAddressInTree(ipAddress){var bit,offset,rawAddress=ip_1.default.parse(ipAddress),nodeCount=this.metadata.nodeCount,bitLength=8*rawAddress.length,nodeNumber=0,depth=0;for(4===rawAddress.length&&(nodeNumber=this.ipv4StartNodeNumber);depth<bitLength&&nodeNumber<nodeCount;depth++)bit=ip_1.default.bitAt(rawAddress,depth),offset=nodeNumber*this.metadata.nodeByteSize,nodeNumber=bit?this.walker.right(offset):this.walker.left(offset);return nodeNumber>nodeCount?[nodeNumber,depth]:[null,depth]}resolveDataPointer(pointer){var resolved=pointer-this.metadata.nodeCount+this.metadata.searchTreeSize;return this.decoder.decodeFast(resolved).value}ipv4Start(){if(4===this.metadata.ipVersion)return 0;for(var nodeCount=this.metadata.nodeCount,pointer=0,i=0;i<96&&pointer<nodeCount;i++){var offset=pointer*this.metadata.nodeByteSize;pointer=this.walker.left(offset)}return pointer}},__exportStar(response,exports)}(lib$2);var tinyLru={};
/**
 * tiny-lru
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.0.0
 */function has(items,key){return key in items}class LRU{constructor(max=0,ttl=0,resetTtl=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=max,this.resetTtl=resetTtl,this.size=0,this.ttl=ttl}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(key){if(has(this.items,key)){var item=this.items[key];delete this.items[key],this.size--,null!==item.prev&&(item.prev.next=item.next),null!==item.next&&(item.next.prev=item.prev),this.first===item&&(this.first=item.next),this.last===item&&(this.last=item.prev)}return this}evict(bypass=!1){if(bypass||this.size>0){var item=this.first;delete this.items[item.key],0==--this.size?(this.first=null,this.last=null):(this.first=item.next,this.first.prev=null)}return this}expiresAt(key){var result;return has(this.items,key)&&(result=this.items[key].expiry),result}get(key){var result;if(has(this.items,key)){var item=this.items[key];this.ttl>0&&item.expiry<=Date.now()?this.delete(key):(result=item.value,this.set(key,result,!0))}return result}keys(){return Object.keys(this.items)}set(key,value,bypass=!1,resetTtl=this.resetTtl){var item;if(bypass||has(this.items,key)){if((item=this.items[key]).value=value,resetTtl&&(item.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==item){var last=this.last,next=item.next,prev=item.prev;this.first===item&&(this.first=item.next),item.next=null,item.prev=this.last,last.next=item,null!==prev&&(prev.next=next),null!==next&&(next.prev=prev)}}else this.max>0&&this.size===this.max&&this.evict(!0),item=this.items[key]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:key,prev:this.last,next:null,value:value},1==++this.size?this.first=item:this.last.next=item;return this.last=item,this}}tinyLru.lru=function(max=1e3,ttl=0,resetTtl=!1){if(isNaN(max)||max<0)throw new TypeError("Invalid max value");if(isNaN(ttl)||ttl<0)throw new TypeError("Invalid ttl value");if("boolean"!=typeof resetTtl)throw new TypeError("Invalid resetTtl value");return new LRU(max,ttl,resetTtl)};var fs={},lib$1={exports:{}},Stats$1={},constants={};Object.defineProperty(constants,"__esModule",{value:!0}),constants.constants=void 0,constants.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4};var getBigInt={};"function"==typeof BigInt?getBigInt.default=BigInt:getBigInt.default=function(){throw new Error("BigInt is not supported in this environment.")},Object.defineProperty(Stats$1,"__esModule",{value:!0}),Stats$1.Stats=void 0;var constants_1$1=constants,getBigInt_1=getBigInt,S_IFMT$1=constants_1$1.constants.S_IFMT,S_IFDIR$1=constants_1$1.constants.S_IFDIR,S_IFREG$1=constants_1$1.constants.S_IFREG,S_IFBLK$1=constants_1$1.constants.S_IFBLK,S_IFCHR$1=constants_1$1.constants.S_IFCHR,S_IFLNK$1=constants_1$1.constants.S_IFLNK,S_IFIFO$1=constants_1$1.constants.S_IFIFO,S_IFSOCK$1=constants_1$1.constants.S_IFSOCK,Stats=function(){function Stats(){}return Stats.build=function(node,bigint){void 0===bigint&&(bigint=!1);var stats=new Stats,uid=node.uid,gid=node.gid,atime=node.atime,mtime=node.mtime,ctime=node.ctime,getStatNumber=bigint?getBigInt_1.default:function(number){return number};stats.uid=getStatNumber(uid),stats.gid=getStatNumber(gid),stats.rdev=getStatNumber(0),stats.blksize=getStatNumber(4096),stats.ino=getStatNumber(node.ino),stats.size=getStatNumber(node.getSize()),stats.blocks=getStatNumber(1),stats.atime=atime,stats.mtime=mtime,stats.ctime=ctime,stats.birthtime=ctime,stats.atimeMs=getStatNumber(atime.getTime()),stats.mtimeMs=getStatNumber(mtime.getTime());var ctimeMs=getStatNumber(ctime.getTime());return stats.ctimeMs=ctimeMs,stats.birthtimeMs=ctimeMs,stats.dev=getStatNumber(0),stats.mode=getStatNumber(node.mode),stats.nlink=getStatNumber(node.nlink),stats},Stats.prototype._checkModeProperty=function(property){return(Number(this.mode)&S_IFMT$1)===property},Stats.prototype.isDirectory=function(){return this._checkModeProperty(S_IFDIR$1)},Stats.prototype.isFile=function(){return this._checkModeProperty(S_IFREG$1)},Stats.prototype.isBlockDevice=function(){return this._checkModeProperty(S_IFBLK$1)},Stats.prototype.isCharacterDevice=function(){return this._checkModeProperty(S_IFCHR$1)},Stats.prototype.isSymbolicLink=function(){return this._checkModeProperty(S_IFLNK$1)},Stats.prototype.isFIFO=function(){return this._checkModeProperty(S_IFIFO$1)},Stats.prototype.isSocket=function(){return this._checkModeProperty(S_IFSOCK$1)},Stats}();Stats$1.Stats=Stats,Stats$1.default=Stats;var Dirent$1={},encoding={},buffer={};!function(exports){var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferFrom=exports.bufferAllocUnsafe=exports.Buffer=void 0;var buffer_1=buffer$1;function bufferV0P12Ponyfill(arg0){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return new(buffer_1.Buffer.bind.apply(buffer_1.Buffer,__spreadArray([void 0,arg0],args,!1)))}Object.defineProperty(exports,"Buffer",{enumerable:!0,get:function(){return buffer_1.Buffer}});var bufferAllocUnsafe=buffer_1.Buffer.allocUnsafe||bufferV0P12Ponyfill;exports.bufferAllocUnsafe=bufferAllocUnsafe;var bufferFrom=buffer_1.Buffer.from||bufferV0P12Ponyfill;exports.bufferFrom=bufferFrom}(buffer);var errors$1={};!function(exports){var extendStatics,__extends=commonjsGlobal&&commonjsGlobal.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.E=exports.AssertionError=exports.message=exports.RangeError=exports.TypeError=exports.Error=void 0;var assert=requireAssert(),util=util$2,kCode="undefined"==typeof Symbol?"_kCode":Symbol("code"),messages={};function makeNodeError(Base){return function(_super){function NodeError(key){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _this=_super.call(this,message(key,args))||this;return _this.code=key,_this[kCode]=key,_this.name="".concat(_super.prototype.name," [").concat(_this[kCode],"]"),_this}return __extends(NodeError,_super),NodeError}(Base)}var g="undefined"!=typeof globalThis?globalThis:commonjsGlobal,AssertionError=function(_super){function AssertionError(options){var _this=this;if("object"!=typeof options||null===options)throw new exports.TypeError("ERR_INVALID_ARG_TYPE","options","object");return(_this=options.message?_super.call(this,options.message)||this:_super.call(this,"".concat(util.inspect(options.actual).slice(0,128)," ")+"".concat(options.operator," ").concat(util.inspect(options.expected).slice(0,128)))||this).generatedMessage=!options.message,_this.name="AssertionError [ERR_ASSERTION]",_this.code="ERR_ASSERTION",_this.actual=options.actual,_this.expected=options.expected,_this.operator=options.operator,exports.Error.captureStackTrace(_this,options.stackStartFunction),_this}return __extends(AssertionError,_super),AssertionError}(g.Error);function message(key,args){assert.strictEqual(typeof key,"string");var fmt,msg=messages[key];if(assert(msg,"An invalid error message key was used: ".concat(key,".")),"function"==typeof msg)fmt=msg;else{if(fmt=util.format,void 0===args||0===args.length)return msg;args.unshift(msg)}return String(fmt.apply(null,args))}function E(sym,val){messages[sym]="function"==typeof val?val:String(val)}function oneOf(expected,thing){if(assert(expected,"expected is required"),assert("string"==typeof thing,"thing is required"),Array.isArray(expected)){var len=expected.length;return assert(len>0,"At least one expected value needs to be specified"),expected=expected.map((function(i){return String(i)})),len>2?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(String(expected))}exports.AssertionError=AssertionError,exports.message=message,exports.E=E,exports.Error=makeNodeError(g.Error),exports.TypeError=makeNodeError(g.TypeError),exports.RangeError=makeNodeError(g.RangeError),E("ERR_ARG_NOT_ITERABLE","%s must be iterable"),E("ERR_ASSERTION","%s"),E("ERR_BUFFER_OUT_OF_BOUNDS",(function(name,isWriting){return isWriting?"Attempt to write outside buffer bounds":'"'.concat(name,'" is outside of buffer bounds')})),E("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),E("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),E("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),E("ERR_DNS_SET_SERVERS_FAILED",(function(err,servers){return'c-ares failed to set servers: "'.concat(err,'" [').concat(servers,"]")})),E("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),E("ERR_ENCODING_NOT_SUPPORTED",(function(enc){return'The "'.concat(enc,'" encoding is not supported')})),E("ERR_ENCODING_INVALID_ENCODED_DATA",(function(enc){return"The encoded data was not valid for encoding ".concat(enc)})),E("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),E("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),E("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),E("ERR_INDEX_OUT_OF_RANGE","Index out of range"),E("ERR_INVALID_ARG_TYPE",(function(name,expected,actual){var determiner,msg;if(assert(name,"name is required"),expected.includes("not ")?(determiner="must not be",expected=expected.split("not ")[1]):determiner="must be",Array.isArray(name)){var names=name.map((function(val){return'"'.concat(val,'"')})).join(", ");msg="The ".concat(names," arguments ").concat(determiner," ").concat(oneOf(expected,"type"))}else if(name.includes(" argument"))msg="The ".concat(name," ").concat(determiner," ").concat(oneOf(expected,"type"));else{var type=name.includes(".")?"property":"argument";msg='The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(expected,"type"))}return arguments.length>=3&&(msg+=". Received type ".concat(null!==actual?typeof actual:"null")),msg})),E("ERR_INVALID_ARRAY_LENGTH",(function(name,len,actual){return assert.strictEqual(typeof actual,"number"),'The array "'.concat(name,'" (length ').concat(actual,") must be of length ").concat(len,".")})),E("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),E("ERR_INVALID_CALLBACK","Callback must be a function"),E("ERR_INVALID_CHAR","Invalid character in %s"),E("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),E("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),E("ERR_INVALID_FILE_URL_PATH","File URL path %s"),E("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),E("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),E("ERR_INVALID_OPT_VALUE",(function(name,value){return'The value "'.concat(String(value),'" is invalid for option "').concat(name,'"')})),E("ERR_INVALID_OPT_VALUE_ENCODING",(function(value){return'The value "'.concat(String(value),'" is invalid for option "encoding"')})),E("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),E("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),E("ERR_INVALID_THIS",'Value of "this" must be of type %s'),E("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),E("ERR_INVALID_URL","Invalid URL: %s"),E("ERR_INVALID_URL_SCHEME",(function(expected){return"The URL must be ".concat(oneOf(expected,"scheme"))})),E("ERR_IPC_CHANNEL_CLOSED","Channel closed"),E("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),E("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),E("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),E("ERR_MISSING_ARGS",(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];assert(args.length>0,"At least one arg needs to be specified");var msg="The ",len=args.length;switch(args=args.map((function(a){return'"'.concat(a,'"')})),len){case 1:msg+="".concat(args[0]," argument");break;case 2:msg+="".concat(args[0]," and ").concat(args[1]," arguments");break;default:msg+=args.slice(0,len-1).join(", "),msg+=", and ".concat(args[len-1]," arguments")}return"".concat(msg," must be specified")})),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),E("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),E("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),E("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),E("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),E("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),E("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),E("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),E("ERR_SOCKET_CANNOT_SEND","Unable to send data"),E("ERR_SOCKET_CLOSED","Socket is closed"),E("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),E("ERR_STDERR_CLOSE","process.stderr cannot be closed"),E("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),E("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),E("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),E("ERR_TLS_DH_PARAM_SIZE",(function(size){return"DH parameter size ".concat(size," is less than 2048")})),E("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),E("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),E("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),E("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),E("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),E("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),E("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),E("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),E("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),E("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")}(errors$1),function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.strToEncoding=exports.assertEncoding=exports.ENCODING_UTF8=void 0;var buffer_1=buffer,errors=errors$1;exports.ENCODING_UTF8="utf8",exports.assertEncoding=function(encoding){if(encoding&&!buffer_1.Buffer.isEncoding(encoding))throw new errors.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",encoding)},exports.strToEncoding=function(str,encoding){return encoding&&encoding!==exports.ENCODING_UTF8?"buffer"===encoding?new buffer_1.Buffer(str):new buffer_1.Buffer(str).toString(encoding):str}}(encoding),Object.defineProperty(Dirent$1,"__esModule",{value:!0}),Dirent$1.Dirent=void 0;var constants_1=constants,encoding_1=encoding,S_IFMT=constants_1.constants.S_IFMT,S_IFDIR=constants_1.constants.S_IFDIR,S_IFREG=constants_1.constants.S_IFREG,S_IFBLK=constants_1.constants.S_IFBLK,S_IFCHR=constants_1.constants.S_IFCHR,S_IFLNK=constants_1.constants.S_IFLNK,S_IFIFO=constants_1.constants.S_IFIFO,S_IFSOCK=constants_1.constants.S_IFSOCK,Dirent=function(){function Dirent(){this.name="",this.mode=0}return Dirent.build=function(link,encoding){var dirent=new Dirent,mode=link.getNode().mode;return dirent.name=(0,encoding_1.strToEncoding)(link.getName(),encoding),dirent.mode=mode,dirent},Dirent.prototype._checkModeProperty=function(property){return(this.mode&S_IFMT)===property},Dirent.prototype.isDirectory=function(){return this._checkModeProperty(S_IFDIR)},Dirent.prototype.isFile=function(){return this._checkModeProperty(S_IFREG)},Dirent.prototype.isBlockDevice=function(){return this._checkModeProperty(S_IFBLK)},Dirent.prototype.isCharacterDevice=function(){return this._checkModeProperty(S_IFCHR)},Dirent.prototype.isSymbolicLink=function(){return this._checkModeProperty(S_IFLNK)},Dirent.prototype.isFIFO=function(){return this._checkModeProperty(S_IFIFO)},Dirent.prototype.isSocket=function(){return this._checkModeProperty(S_IFSOCK)},Dirent}();Dirent$1.Dirent=Dirent,Dirent$1.default=Dirent;var volume={},path={exports:{}},util$1={},isBuffer=function(arg){return arg instanceof buffer$1.Buffer},inherits_browser={exports:{}};"function"==typeof Object.create?inherits_browser.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor};var inherits_browserExports=inherits_browser.exports;!function(exports){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,(function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}})),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(isUndefined(commonjsGlobal.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process$1.noDeprecation)return fn;var warned=!1;return function(){if(!warned){if(process$1.throwDeprecation)throw new Error(msg);process$1.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach((function(val,idx){hash[val]=!0})),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];return isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach((function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))})),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})),ctx.seen.pop(),function(output,base,braces){return output.reduce((function(prev,cur){return cur.indexOf("\n"),prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2):"\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process$1.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process$1.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=isBuffer;var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(time=[pad((d=new Date).getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=inherits_browserExports,exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}(util$1);var isWindows="win32"===process$1.platform,util=util$1;function normalizeArray(parts,allowAboveRoot){for(var res=[],i=0;i<parts.length;i++){var p=parts[i];p&&"."!==p&&(".."===p?res.length&&".."!==res[res.length-1]?res.pop():allowAboveRoot&&res.push(".."):res.push(p))}return res}function trimArray(arr){for(var lastIndex=arr.length-1,start=0;start<=lastIndex&&!arr[start];start++);for(var end=lastIndex;end>=0&&!arr[end];end--);return 0===start&&end===lastIndex?arr:start>end?[]:arr.slice(start,end+1)}var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,win32={};function win32SplitPath(filename){var result=splitDeviceRe.exec(filename),device=(result[1]||"")+(result[2]||""),tail=result[3]||"",result2=splitTailRe.exec(tail);return[device,result2[1],result2[2],result2[3]]}function win32StatPath(path){var result=splitDeviceRe.exec(path),device=result[1]||"",isUnc=!!device&&":"!==device[1];return{device:device,isUnc:isUnc,isAbsolute:isUnc||!!result[2],tail:result[3]}}function normalizeUNCRoot(device){return"\\\\"+device.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}win32.resolve=function(){for(var resolvedDevice="",resolvedTail="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1;i--){var path;if(i>=0?path=arguments[i]:resolvedDevice?(path=process$1.env["="+resolvedDevice])&&path.substr(0,3).toLowerCase()===resolvedDevice.toLowerCase()+"\\"||(path=resolvedDevice+"\\"):path=process$1.cwd(),!util.isString(path))throw new TypeError("Arguments to path.resolve must be strings");if(path){var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail;if((!device||!resolvedDevice||device.toLowerCase()===resolvedDevice.toLowerCase())&&(resolvedDevice||(resolvedDevice=device),resolvedAbsolute||(resolvedTail=tail+"\\"+resolvedTail,resolvedAbsolute=isAbsolute),resolvedDevice&&resolvedAbsolute))break}}return isUnc&&(resolvedDevice=normalizeUNCRoot(resolvedDevice)),resolvedDevice+(resolvedAbsolute?"\\":"")+(resolvedTail=normalizeArray(resolvedTail.split(/[\\\/]+/),!resolvedAbsolute).join("\\"))||"."},win32.normalize=function(path){var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail,trailingSlash=/[\\\/]$/.test(tail);return(tail=normalizeArray(tail.split(/[\\\/]+/),!isAbsolute).join("\\"))||isAbsolute||(tail="."),tail&&trailingSlash&&(tail+="\\"),isUnc&&(device=normalizeUNCRoot(device)),device+(isAbsolute?"\\":"")+tail},win32.isAbsolute=function(path){return win32StatPath(path).isAbsolute},win32.join=function(){for(var paths=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(!util.isString(arg))throw new TypeError("Arguments to path.join must be strings");arg&&paths.push(arg)}var joined=paths.join("\\");return/^[\\\/]{2}[^\\\/]/.test(paths[0])||(joined=joined.replace(/^[\\\/]{2,}/,"\\")),win32.normalize(joined)},win32.relative=function(from,to){from=win32.resolve(from),to=win32.resolve(to);for(var lowerFrom=from.toLowerCase(),lowerTo=to.toLowerCase(),toParts=trimArray(to.split("\\")),lowerFromParts=trimArray(lowerFrom.split("\\")),lowerToParts=trimArray(lowerTo.split("\\")),length=Math.min(lowerFromParts.length,lowerToParts.length),samePartsLength=length,i=0;i<length;i++)if(lowerFromParts[i]!==lowerToParts[i]){samePartsLength=i;break}if(0==samePartsLength)return to;var outputParts=[];for(i=samePartsLength;i<lowerFromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("\\")},win32._makeLong=function(path){if(!util.isString(path))return path;if(!path)return"";var resolvedPath=win32.resolve(path);return/^[a-zA-Z]\:\\/.test(resolvedPath)?"\\\\?\\"+resolvedPath:/^\\\\[^?.]/.test(resolvedPath)?"\\\\?\\UNC\\"+resolvedPath.substring(2):path},win32.dirname=function(path){var result=win32SplitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},win32.basename=function(path,ext){var f=win32SplitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},win32.extname=function(path){return win32SplitPath(path)[3]},win32.format=function(pathObject){if(!util.isObject(pathObject))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject);var root=pathObject.root||"";if(!util.isString(root))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root);var dir=pathObject.dir,base=pathObject.base||"";return dir?dir[dir.length-1]===win32.sep?dir+base:dir+win32.sep+base:base},win32.parse=function(pathString){if(!util.isString(pathString))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);var allParts=win32SplitPath(pathString);if(!allParts||4!==allParts.length)throw new TypeError("Invalid path '"+pathString+"'");return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}},win32.sep="\\",win32.delimiter=";";var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,posix={};function posixSplitPath(filename){return splitPathRe.exec(filename).slice(1)}posix.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process$1.cwd();if(!util.isString(path))throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path[0])}return(resolvedAbsolute?"/":"")+(resolvedPath=normalizeArray(resolvedPath.split("/"),!resolvedAbsolute).join("/"))||"."},posix.normalize=function(path){var isAbsolute=posix.isAbsolute(path),trailingSlash=path&&"/"===path[path.length-1];return(path=normalizeArray(path.split("/"),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},posix.isAbsolute=function(path){return"/"===path.charAt(0)},posix.join=function(){for(var path="",i=0;i<arguments.length;i++){var segment=arguments[i];if(!util.isString(segment))throw new TypeError("Arguments to path.join must be strings");segment&&(path+=path?"/"+segment:segment)}return posix.normalize(path)},posix.relative=function(from,to){from=posix.resolve(from).substr(1),to=posix.resolve(to).substr(1);for(var fromParts=trimArray(from.split("/")),toParts=trimArray(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}var outputParts=[];for(i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")},posix._makeLong=function(path){return path},posix.dirname=function(path){var result=posixSplitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},posix.basename=function(path,ext){var f=posixSplitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},posix.extname=function(path){return posixSplitPath(path)[3]},posix.format=function(pathObject){if(!util.isObject(pathObject))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject);var root=pathObject.root||"";if(!util.isString(root))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root);return(pathObject.dir?pathObject.dir+posix.sep:"")+(pathObject.base||"")},posix.parse=function(pathString){if(!util.isString(pathString))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);var allParts=posixSplitPath(pathString);if(!allParts||4!==allParts.length)throw new TypeError("Invalid path '"+pathString+"'");return allParts[1]=allParts[1]||"",allParts[2]=allParts[2]||"",allParts[3]=allParts[3]||"",{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}},posix.sep="/",posix.delimiter=":",path.exports=isWindows?win32:posix,path.exports.posix=posix,path.exports.win32=win32;var _setImmediate,pathExports=path.exports,node={},process={},require$$0=getAugmentedNamespace(browser$2),setImmediate$1={};function createProcess(){var p=function(){if(void 0!==process$1)return process$1;try{return require$$0}catch(_a){return}}()||{};return p.cwd||(p.cwd=function(){return"/"}),p.nextTick||(p.nextTick=setImmediate$1.default),p.emitWarning||(p.emitWarning=function(message,type){console.warn("".concat(type).concat(type?": ":"").concat(message))}),p.env||(p.env={}),p}Object.defineProperty(setImmediate$1,"__esModule",{value:!0}),_setImmediate="function"==typeof setImmediate?setImmediate.bind("undefined"!=typeof globalThis?globalThis:commonjsGlobal):setTimeout.bind("undefined"!=typeof globalThis?globalThis:commonjsGlobal),setImmediate$1.default=_setImmediate,Object.defineProperty(process,"__esModule",{value:!0}),process.createProcess=void 0,process.createProcess=createProcess,process.default=createProcess();var ReflectOwnKeys,events={exports:{}},R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=function(emitter,name){return new Promise((function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&function(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,{once:!0})}(emitter,errorListener)}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing,warning;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,warning=w,console&&console.warn&&console.warn(warning)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if("function"!=typeof emitter.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,(function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events.exports;!function(exports){var extendStatics,__extends=commonjsGlobal&&commonjsGlobal.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.File=exports.Link=exports.Node=exports.SEP=void 0;var process_1=process,buffer_1=buffer,constants_1=constants,events_1=eventsExports,Stats_1=Stats$1,S_IFMT=constants_1.constants.S_IFMT,S_IFDIR=constants_1.constants.S_IFDIR,S_IFREG=constants_1.constants.S_IFREG,S_IFLNK=constants_1.constants.S_IFLNK,O_APPEND=constants_1.constants.O_APPEND,getuid=function(){var _a,_b;return null!==(_b=null===(_a=process_1.default.getuid)||void 0===_a?void 0:_a.call(process_1.default))&&void 0!==_b?_b:0},getgid=function(){var _a,_b;return null!==(_b=null===(_a=process_1.default.getgid)||void 0===_a?void 0:_a.call(process_1.default))&&void 0!==_b?_b:0};exports.SEP="/";var Node=function(_super){function Node(ino,perm){void 0===perm&&(perm=438);var _this=_super.call(this)||this;return _this._uid=getuid(),_this._gid=getgid(),_this._atime=new Date,_this._mtime=new Date,_this._ctime=new Date,_this._perm=438,_this.mode=S_IFREG,_this._nlink=1,_this._perm=perm,_this.mode|=perm,_this.ino=ino,_this}return __extends(Node,_super),Object.defineProperty(Node.prototype,"ctime",{get:function(){return this._ctime},set:function(ctime){this._ctime=ctime},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"uid",{get:function(){return this._uid},set:function(uid){this._uid=uid,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"gid",{get:function(){return this._gid},set:function(gid){this._gid=gid,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"atime",{get:function(){return this._atime},set:function(atime){this._atime=atime,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"mtime",{get:function(){return this._mtime},set:function(mtime){this._mtime=mtime,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"perm",{get:function(){return this._perm},set:function(perm){this._perm=perm,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"nlink",{get:function(){return this._nlink},set:function(nlink){this._nlink=nlink,this.ctime=new Date},enumerable:!1,configurable:!0}),Node.prototype.getString=function(encoding){return void 0===encoding&&(encoding="utf8"),this.atime=new Date,this.getBuffer().toString(encoding)},Node.prototype.setString=function(str){this.buf=(0,buffer_1.bufferFrom)(str,"utf8"),this.touch()},Node.prototype.getBuffer=function(){return this.atime=new Date,this.buf||this.setBuffer((0,buffer_1.bufferAllocUnsafe)(0)),(0,buffer_1.bufferFrom)(this.buf)},Node.prototype.setBuffer=function(buf){this.buf=(0,buffer_1.bufferFrom)(buf),this.touch()},Node.prototype.getSize=function(){return this.buf?this.buf.length:0},Node.prototype.setModeProperty=function(property){this.mode=this.mode&~S_IFMT|property},Node.prototype.setIsFile=function(){this.setModeProperty(S_IFREG)},Node.prototype.setIsDirectory=function(){this.setModeProperty(S_IFDIR)},Node.prototype.setIsSymlink=function(){this.setModeProperty(S_IFLNK)},Node.prototype.isFile=function(){return(this.mode&S_IFMT)===S_IFREG},Node.prototype.isDirectory=function(){return(this.mode&S_IFMT)===S_IFDIR},Node.prototype.isSymlink=function(){return(this.mode&S_IFMT)===S_IFLNK},Node.prototype.makeSymlink=function(steps){this.symlink=steps,this.setIsSymlink()},Node.prototype.write=function(buf,off,len,pos){if(void 0===off&&(off=0),void 0===len&&(len=buf.length),void 0===pos&&(pos=0),this.buf||(this.buf=(0,buffer_1.bufferAllocUnsafe)(0)),pos+len>this.buf.length){var newBuf=(0,buffer_1.bufferAllocUnsafe)(pos+len);this.buf.copy(newBuf,0,0,this.buf.length),this.buf=newBuf}return buf.copy(this.buf,pos,off,off+len),this.touch(),len},Node.prototype.read=function(buf,off,len,pos){void 0===off&&(off=0),void 0===len&&(len=buf.byteLength),void 0===pos&&(pos=0),this.atime=new Date,this.buf||(this.buf=(0,buffer_1.bufferAllocUnsafe)(0));var actualLen=len;return actualLen>buf.byteLength&&(actualLen=buf.byteLength),actualLen+pos>this.buf.length&&(actualLen=this.buf.length-pos),this.buf.copy(buf,off,pos,pos+actualLen),actualLen},Node.prototype.truncate=function(len){if(void 0===len&&(len=0),len)if(this.buf||(this.buf=(0,buffer_1.bufferAllocUnsafe)(0)),len<=this.buf.length)this.buf=this.buf.slice(0,len);else{var buf=(0,buffer_1.bufferAllocUnsafe)(len);this.buf.copy(buf),buf.fill(0,this.buf.length),this.buf=buf}else this.buf=(0,buffer_1.bufferAllocUnsafe)(0);this.touch()},Node.prototype.chmod=function(perm){this.perm=perm,this.mode=-512&this.mode|perm,this.touch()},Node.prototype.chown=function(uid,gid){this.uid=uid,this.gid=gid,this.touch()},Node.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},Node.prototype.canRead=function(uid,gid){return void 0===uid&&(uid=getuid()),void 0===gid&&(gid=getgid()),!!(4&this.perm)||!!(gid===this.gid&&32&this.perm)||!!(uid===this.uid&&256&this.perm)},Node.prototype.canWrite=function(uid,gid){return void 0===uid&&(uid=getuid()),void 0===gid&&(gid=getgid()),!!(2&this.perm)||!!(gid===this.gid&&16&this.perm)||!!(uid===this.uid&&128&this.perm)},Node.prototype.del=function(){this.emit("delete",this)},Node.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},Node}(events_1.EventEmitter);exports.Node=Node;var Link=function(_super){function Link(vol,parent,name){var _this=_super.call(this)||this;return _this.children={},_this._steps=[],_this.ino=0,_this.length=0,_this.vol=vol,_this.parent=parent,_this.name=name,_this.syncSteps(),_this}return __extends(Link,_super),Object.defineProperty(Link.prototype,"steps",{get:function(){return this._steps},set:function(val){this._steps=val;for(var _i=0,_a=Object.entries(this.children);_i<_a.length;_i++){var _b=_a[_i],child=_b[0],link=_b[1];"."!==child&&".."!==child&&(null==link||link.syncSteps())}},enumerable:!1,configurable:!0}),Link.prototype.setNode=function(node){this.node=node,this.ino=node.ino},Link.prototype.getNode=function(){return this.node},Link.prototype.createChild=function(name,node){void 0===node&&(node=this.vol.createNode());var link=new Link(this.vol,this,name);return link.setNode(node),node.isDirectory()&&(link.children["."]=link,link.getNode().nlink++),this.setChild(name,link),link},Link.prototype.setChild=function(name,link){return void 0===link&&(link=new Link(this.vol,this,name)),this.children[name]=link,link.parent=this,this.length++,link.getNode().isDirectory()&&(link.children[".."]=this,this.getNode().nlink++),this.getNode().mtime=new Date,this.emit("child:add",link,this),link},Link.prototype.deleteChild=function(link){link.getNode().isDirectory()&&(delete link.children[".."],this.getNode().nlink--),delete this.children[link.getName()],this.length--,this.getNode().mtime=new Date,this.emit("child:delete",link,this)},Link.prototype.getChild=function(name){if(this.getNode().mtime=new Date,Object.hasOwnProperty.call(this.children,name))return this.children[name]},Link.prototype.getPath=function(){return this.steps.join(exports.SEP)},Link.prototype.getName=function(){return this.steps[this.steps.length-1]},Link.prototype.walk=function(steps,stop,i){if(void 0===stop&&(stop=steps.length),void 0===i&&(i=0),i>=steps.length)return this;if(i>=stop)return this;var step=steps[i],link=this.getChild(step);return link?link.walk(steps,stop,i+1):null},Link.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},Link.prototype.syncSteps=function(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]},Link}(events_1.EventEmitter);exports.Link=Link;var File=function(){function File(link,node,flags,fd){this.position=0,this.link=link,this.node=node,this.flags=flags,this.fd=fd}return File.prototype.getString=function(encoding){return this.node.getString()},File.prototype.setString=function(str){this.node.setString(str)},File.prototype.getBuffer=function(){return this.node.getBuffer()},File.prototype.setBuffer=function(buf){this.node.setBuffer(buf)},File.prototype.getSize=function(){return this.node.getSize()},File.prototype.truncate=function(len){this.node.truncate(len)},File.prototype.seekTo=function(position){this.position=position},File.prototype.stats=function(){return Stats_1.default.build(this.node)},File.prototype.write=function(buf,offset,length,position){void 0===offset&&(offset=0),void 0===length&&(length=buf.length),"number"!=typeof position&&(position=this.position),this.flags&O_APPEND&&(position=this.getSize());var bytes=this.node.write(buf,offset,length,position);return this.position=position+bytes,bytes},File.prototype.read=function(buf,offset,length,position){void 0===offset&&(offset=0),void 0===length&&(length=buf.byteLength),"number"!=typeof position&&(position=this.position);var bytes=this.node.read(buf,offset,length,position);return this.position=position+bytes,bytes},File.prototype.chmod=function(perm){this.node.chmod(perm)},File.prototype.chown=function(uid,gid){this.node.chown(uid,gid)},File}();exports.File=File}(node);var stream,hasRequiredStream,setTimeoutUnref$1={};function requireStream(){return hasRequiredStream?stream:(hasRequiredStream=1,stream=requireStreamBrowserify())}Object.defineProperty(setTimeoutUnref$1,"__esModule",{value:!0}),setTimeoutUnref$1.default=function(callback,time,args){var ref=setTimeout.apply("undefined"!=typeof globalThis?globalThis:commonjsGlobal,arguments);return ref&&"object"==typeof ref&&"function"==typeof ref.unref&&ref.unref(),ref};var buffer_list,hasRequiredBuffer_list,destroy_1,hasRequiredDestroy,require$$3=getAugmentedNamespace(Object.freeze({__proto__:null,default:{}}));function requireDestroy(){if(hasRequiredDestroy)return destroy_1;function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function emitErrorNT(self,err){self.emit("error",err)}return hasRequiredDestroy=1,destroy_1={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):err&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorNT,this,err)):process$1.nextTick(emitErrorNT,this,err)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,(function(err){!cb&&err?_this._writableState?_this._writableState.errorEmitted?process$1.nextTick(emitCloseNT,_this):(_this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorAndCloseNT,_this,err)):process$1.nextTick(emitErrorAndCloseNT,_this,err):cb?(process$1.nextTick(emitCloseNT,_this),cb(err)):process$1.nextTick(emitCloseNT,_this)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(stream,err){var rState=stream._readableState,wState=stream._writableState;rState&&rState.autoDestroy||wState&&wState.autoDestroy?stream.destroy(err):stream.emit("error",err)}},destroy_1}var hasRequiredErrors,state,hasRequiredState,browser,hasRequiredBrowser,_stream_writable,hasRequired_stream_writable,_stream_duplex,hasRequired_stream_duplex,errors={};function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;var codes={};function createErrorType(code,message,Base){Base||(Base=Error);class NodeError extends Base{constructor(arg1,arg2,arg3){super(function(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))}}NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map((i=>String(i))),len>2?`one of ${thing} ${expected.slice(0,len-1).join(", ")}, or `+expected[len-1]:2===len?`one of ${thing} ${expected[0]} or ${expected[1]}`:`of ${thing} ${expected[0]}`}return`of ${thing} ${String(expected)}`}return createErrorType("ERR_INVALID_OPT_VALUE",(function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(name,expected,actual){var determiner,msg,str,this_len;if("string"==typeof expected&&("not ","not "===expected.substr(0,4))?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be",str=name,(void 0===this_len||this_len>str.length)&&(this_len=str.length)," argument"===str.substring(this_len-9,this_len))msg=`The ${name} ${determiner} ${oneOf(expected,"type")}`;else{var type=function(str,search,start){return"number"!=typeof start&&(start=0),!(start+1>str.length)&&-1!==str.indexOf(".",start)}(name)?"property":"argument";msg=`The "${name}" ${type} ${determiner} ${oneOf(expected,"type")}`}return msg+". Received type "+typeof actual}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(name){return"The "+name+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(name){return"Cannot call "+name+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(arg){return"Unknown encoding: "+arg}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errors.codes=codes,errors}function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var ERR_INVALID_OPT_VALUE=requireErrors().codes.ERR_INVALID_OPT_VALUE;return state={getHighWaterMark:function(state,options,duplexKey,isDuplex){var hwm=function(options,isDuplex,duplexKey){return null!=options.highWaterMark?options.highWaterMark:isDuplex?options[duplexKey]:null}(options,isDuplex,duplexKey);if(null!=hwm){if(!isFinite(hwm)||Math.floor(hwm)!==hwm||hwm<0)throw new ERR_INVALID_OPT_VALUE(isDuplex?duplexKey:"highWaterMark",hwm);return Math.floor(hwm)}return state.objectMode?16:16384}}}function requireBrowser(){if(hasRequiredBrowser)return browser;function config(name){try{if(!commonjsGlobal.localStorage)return!1}catch(_){return!1}var val=commonjsGlobal.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}return hasRequiredBrowser=1,browser=function(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}},browser}function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;for(corkReq.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(undefined),entry=entry.next}state.corkedRequestsFree.next=corkReq}(_this,state)}}var Duplex;hasRequired_stream_writable=1,_stream_writable=Writable,Writable.WritableState=WritableState;var realHasInstance,internalUtil={deprecate:requireBrowser()},Stream=requireStream(),Buffer=buffer$1.Buffer,OurUint8Array=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},destroyImpl=requireDestroy(),getHighWaterMark=requireState().getHighWaterMark,_require$codes=requireErrors().codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||require_stream_duplex(),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(process$1.nextTick(cb,er),process$1.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er)):(cb(er),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process$1.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){var isDuplex=this instanceof(Duplex=Duplex||require_stream_duplex());if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final((function(err){state.pendingcb--,err&&errorOrDestroy(stream,err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)}))}function finishMaybe(stream,state){var need=needFinish(state);if(need&&(function(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process$1.nextTick(callFinal,stream,state)))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"),state.autoDestroy))){var rState=stream._readableState;(!rState||rState.autoDestroy&&rState.endEmitted)&&stream.destroy()}return need}return inherits_browserExports$1(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var obj,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ending?function(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er),process$1.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"==typeof chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(errorOrDestroy(stream,er),process$1.nextTick(cb,er),!1)}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding)),chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process$1.nextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)},_stream_writable}function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};_stream_duplex=Duplex;var Readable=require_stream_readable(),Writable=require_stream_writable();inherits_browserExports$1(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process$1.nextTick(onEndNT,this)}function onEndNT(self){self.end()}return Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),_stream_duplex}var hasRequiredSafeBuffer,hasRequiredString_decoder,endOfStream,hasRequiredEndOfStream,async_iterator,hasRequiredAsync_iterator,from_1,hasRequiredFrom,_stream_readable,hasRequired_stream_readable,_stream_transform,hasRequired_stream_transform,_stream_passthrough,hasRequired_stream_passthrough,pipeline_1,hasRequiredPipeline,streamBrowserify,hasRequiredStreamBrowserify,string_decoder={},safeBuffer={exports:{}};function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var Buffer=(hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(module,exports){var buffer=buffer$1,Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}return string_decoder.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self.lastNeed=nb-1),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(self.lastNeed=nb-2),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length},string_decoder}function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var ERR_STREAM_PREMATURE_CLOSE=requireErrors().codes.ERR_STREAM_PREMATURE_CLOSE;function noop(){}return endOfStream=function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=function(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}(callback||noop);var readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},writableEnded=stream._writableState&&stream._writableState.finished,onfinish=function(){writable=!1,writableEnded=!0,readable||callback.call(stream)},readableEnded=stream._readableState&&stream._readableState.endEmitted,onend=function(){readable=!1,readableEnded=!0,writable||callback.call(stream)},onerror=function(err){callback.call(stream,err)},onclose=function(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0},onrequest=function(){stream.req.on("finish",onfinish)};return function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}},endOfStream}function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;var _Object$setPrototypeO;function _defineProperty(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,"string");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(input)}(arg);return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}hasRequiredAsync_iterator=1;var finished=requireEndOfStream(),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(value,done){return{value:value,done:done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(null!==resolve){var data=iter[kStream].read();null!==data&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve(createIterResult(data,!1)))}}function onReadable(iter){process$1.nextTick(readAndResolve,iter)}var AsyncIteratorPrototype=Object.getPrototypeOf((function(){})),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,error=this[kError];if(null!==error)return Promise.reject(error);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise((function(resolve,reject){process$1.nextTick((function(){_this[kError]?reject(_this[kError]):resolve(createIterResult(void 0,!0))}))}));var promise,lastPromise=this[kLastPromise];if(lastPromise)promise=new Promise(function(lastPromise,iter){return function(resolve,reject){lastPromise.then((function(){iter[kEnded]?resolve(createIterResult(void 0,!0)):iter[kHandlePromise](resolve,reject)}),reject)}}(lastPromise,this));else{var data=this[kStream].read();if(null!==data)return Promise.resolve(createIterResult(data,!1));promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise,promise}},Symbol.asyncIterator,(function(){return this})),_defineProperty(_Object$setPrototypeO,"return",(function(){var _this2=this;return new Promise((function(resolve,reject){_this2[kStream].destroy(null,(function(err){err?reject(err):resolve(createIterResult(void 0,!0))}))}))})),_Object$setPrototypeO),AsyncIteratorPrototype);return async_iterator=function(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(_Object$create={},kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(data,!1))):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create));return iterator[kLastPromise]=null,finished(stream,(function(err){if(err&&"ERR_STREAM_PREMATURE_CLOSE"!==err.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(err)),void(iterator[kError]=err)}var resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(void 0,!0))),iterator[kEnded]=!0})),stream.on("readable",onReadable.bind(null,iterator)),iterator},async_iterator}function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;var Duplex;hasRequired_stream_readable=1,_stream_readable=Readable,Readable.ReadableState=ReadableState,eventsExports.EventEmitter;var debug,EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=requireStream(),Buffer=buffer$1.Buffer,OurUint8Array=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},debugUtil=require$$3;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,createReadableStreamAsyncIterator,from,BufferList=function(){if(hasRequiredBuffer_list)return buffer_list;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){var key=function(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,"string");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(input)}(arg);return"symbol"==typeof key?key:String(key)}hasRequiredBuffer_list=1;var Buffer=buffer$1.Buffer,inspect=util$2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(src,target,offset){Buffer.prototype.copy.call(src,target,offset)}return buffer_list=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}var Constructor,protoProps;return Constructor=BufferList,protoProps=[{key:"push",value:function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}},{key:"unshift",value:function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function(n){if(0===this.length)return Buffer.alloc(0);for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret}},{key:"consume",value:function(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):ret=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n),ret}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0==(n-=nb)){nb===str.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=str.slice(nb));break}++c}return this.length-=c,ret}},{key:"_getBuffer",value:function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0==(n-=nb)){nb===buf.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=buf.slice(nb));break}++c}return this.length-=c,ret}},{key:custom,value:function(_,options){return inspect(this,_objectSpread(_objectSpread({},options),{},{depth:0,customInspect:!1}))}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),BufferList}(),buffer_list}(),destroyImpl=requireDestroy(),getHighWaterMark=requireState().getHighWaterMark,_require$codes=requireErrors().codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;inherits_browserExports$1(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream,isDuplex){Duplex=Duplex||require_stream_duplex(),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=requireString_decoder().StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require_stream_duplex(),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var er,state=stream._readableState;if(null===chunk)state.reading=!1,function(stream,state){if(debug("onEofChunk"),!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable||(state.emittedReadable=!0,emitReadable_(stream)))}}(stream,state);else if(skipChunkCheck||(er=function(state,chunk){var er,obj;return obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk)),er}(state,chunk)),er)errorOrDestroy(stream,er);else if(state.objectMode||chunk&&chunk.length>0)if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront)state.endEmitted?errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.reading=!1,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){StringDecoder||(StringDecoder=requireString_decoder().StringDecoder);var decoder=new StringDecoder(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=decoder.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=1073741824?n=1073741824:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process$1.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),state.destroyed||!state.length&&!state.ended||(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process$1.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function updateReadableListening(self){var state=self._readableState;state.readableListening=self.listenerCount("readable")>0,state.resumeScheduled&&!state.paused?state.flowing=!0:self.listenerCount("data")>0&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process$1.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){if(debug("endReadableNT",state.endEmitted,state.length),!state.endEmitted&&0===state.length&&(state.endEmitted=!0,stream.readable=!1,stream.emit("end"),state.autoDestroy)){var wState=stream._writableState;(!wState||wState.autoDestroy&&wState.finished)&&stream.destroy()}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}return Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0!==state.highWaterMark?state.length>=state.highWaterMark:state.length>0)||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=pipeOpts&&!1===pipeOpts.end||dest===process$1.stdout||dest===process$1.stderr?unpipe:onend;function onend(){debug("onend"),dest.end()}state.endEmitted?process$1.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",(function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}));var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&errorOrDestroy(dest,er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener("error",fn);emitter._events&&emitter._events.error?Array.isArray(emitter._events.error)?emitter._events.error.unshift(fn):emitter._events.error=[fn,emitter._events.error]:emitter.on("error",fn)}(dest,0,onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn),state=this._readableState;return"data"===ev?(state.readableListening=this.listenerCount("readable")>0,!1!==state.flowing&&this.resume()):"readable"===ev&&(state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process$1.nextTick(nReadingNextTick,this))),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);return"readable"===ev&&process$1.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ev&&void 0!==ev||process$1.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process$1.nextTick(resume_,stream,state))}(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",(function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)})),stream.on("data",(function(chunk){debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))})),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=requireAsync_iterator()),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(iterable,opts){return void 0===from&&(from=function(){if(hasRequiredFrom)return from_1;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,"string");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(input)}(arg);return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}hasRequiredFrom=1;var ERR_INVALID_ARG_TYPE=requireErrors().codes.ERR_INVALID_ARG_TYPE;return from_1=function(Readable,iterable,opts){var iterator;if(iterable&&"function"==typeof iterable.next)iterator=iterable;else if(iterable&&iterable[Symbol.asyncIterator])iterator=iterable[Symbol.asyncIterator]();else{if(!iterable||!iterable[Symbol.iterator])throw new ERR_INVALID_ARG_TYPE("iterable",["Iterable"],iterable);iterator=iterable[Symbol.iterator]()}var readable=new Readable(function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({objectMode:!0},opts)),reading=!1;function next(){return _next2.apply(this,arguments)}function _next2(){var fn;return fn=function*(){try{var _yield$iterator$next=yield iterator.next(),value=_yield$iterator$next.value;_yield$iterator$next.done?readable.push(null):readable.push(yield value)?next():reading=!1}catch(err){readable.destroy(err)}},_next2=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},_next2.apply(this,arguments)}return readable._read=function(){reading||(reading=!0,next())},readable},from_1}()),from(Readable,iterable,opts)}),_stream_readable}function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=Transform;var _require$codes=requireErrors().codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(er,data){done(_this,er,data)}))}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}return inherits_browserExports$1(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,(function(err2){cb(err2)}))},_stream_transform}function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=Stream;var EE=eventsExports.EventEmitter;function Stream(){EE.call(this)}return inherits_browserExports$1(Stream,EE),Stream.Readable=require_stream_readable(),Stream.Writable=require_stream_writable(),Stream.Duplex=require_stream_duplex(),Stream.Transform=require_stream_transform(),Stream.PassThrough=function(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=PassThrough;var Transform=require_stream_transform();function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}return inherits_browserExports$1(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)},_stream_passthrough}(),Stream.finished=requireEndOfStream(),Stream.pipeline=function(){if(hasRequiredPipeline)return pipeline_1;var eos;hasRequiredPipeline=1;var _require$codes=requireErrors().codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}return pipeline_1=function(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var error,callback=function(streams){return streams.length?"function"!=typeof streams[streams.length-1]?noop:streams.pop():noop}(streams);if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map((function(stream,i){var reading=i<streams.length-1;return function(stream,reading,writing,callback){callback=function(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}(callback);var closed=!1;stream.on("close",(function(){closed=!0})),void 0===eos&&(eos=requireEndOfStream()),eos(stream,{readable:reading,writable:writing},(function(err){if(err)return callback(err);closed=!0,callback()}));var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe"))}}(stream,reading,i>0,(function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))}))}));return streams.reduce(pipe)},pipeline_1}(),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest},streamBrowserify}var promises={},__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};function promisify(vol,fn,getResult){return void 0===getResult&&(getResult=function(input){return input}),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new Promise((function(resolve,reject){vol[fn].bind(vol).apply(void 0,__spreadArray(__spreadArray([],args,!1),[function(error,result){return error?reject(error):resolve(getResult(result))}],!1))}))}}Object.defineProperty(promises,"__esModule",{value:!0}),promises.FileHandle=void 0;var FileHandle=function(){function FileHandle(vol,fd){this.vol=vol,this.fd=fd}return FileHandle.prototype.appendFile=function(data,options){return promisify(this.vol,"appendFile")(this.fd,data,options)},FileHandle.prototype.chmod=function(mode){return promisify(this.vol,"fchmod")(this.fd,mode)},FileHandle.prototype.chown=function(uid,gid){return promisify(this.vol,"fchown")(this.fd,uid,gid)},FileHandle.prototype.close=function(){return promisify(this.vol,"close")(this.fd)},FileHandle.prototype.datasync=function(){return promisify(this.vol,"fdatasync")(this.fd)},FileHandle.prototype.read=function(buffer,offset,length,position){return promisify(this.vol,"read",(function(bytesRead){return{bytesRead:bytesRead,buffer:buffer}}))(this.fd,buffer,offset,length,position)},FileHandle.prototype.readFile=function(options){return promisify(this.vol,"readFile")(this.fd,options)},FileHandle.prototype.stat=function(options){return promisify(this.vol,"fstat")(this.fd,options)},FileHandle.prototype.sync=function(){return promisify(this.vol,"fsync")(this.fd)},FileHandle.prototype.truncate=function(len){return promisify(this.vol,"ftruncate")(this.fd,len)},FileHandle.prototype.utimes=function(atime,mtime){return promisify(this.vol,"futimes")(this.fd,atime,mtime)},FileHandle.prototype.write=function(buffer,offset,length,position){return promisify(this.vol,"write",(function(bytesWritten){return{bytesWritten:bytesWritten,buffer:buffer}}))(this.fd,buffer,offset,length,position)},FileHandle.prototype.writeFile=function(data,options){return promisify(this.vol,"writeFile")(this.fd,data,options)},FileHandle}();promises.FileHandle=FileHandle,promises.default=function(vol){return"undefined"==typeof Promise?null:{FileHandle:FileHandle,access:function(path,mode){return promisify(vol,"access")(path,mode)},appendFile:function(path,data,options){return promisify(vol,"appendFile")(path instanceof FileHandle?path.fd:path,data,options)},chmod:function(path,mode){return promisify(vol,"chmod")(path,mode)},chown:function(path,uid,gid){return promisify(vol,"chown")(path,uid,gid)},copyFile:function(src,dest,flags){return promisify(vol,"copyFile")(src,dest,flags)},lchmod:function(path,mode){return promisify(vol,"lchmod")(path,mode)},lchown:function(path,uid,gid){return promisify(vol,"lchown")(path,uid,gid)},link:function(existingPath,newPath){return promisify(vol,"link")(existingPath,newPath)},lstat:function(path,options){return promisify(vol,"lstat")(path,options)},mkdir:function(path,options){return promisify(vol,"mkdir")(path,options)},mkdtemp:function(prefix,options){return promisify(vol,"mkdtemp")(prefix,options)},open:function(path,flags,mode){return promisify(vol,"open",(function(fd){return new FileHandle(vol,fd)}))(path,flags,mode)},readdir:function(path,options){return promisify(vol,"readdir")(path,options)},readFile:function(id,options){return promisify(vol,"readFile")(id instanceof FileHandle?id.fd:id,options)},readlink:function(path,options){return promisify(vol,"readlink")(path,options)},realpath:function(path,options){return promisify(vol,"realpath")(path,options)},rename:function(oldPath,newPath){return promisify(vol,"rename")(oldPath,newPath)},rmdir:function(path){return promisify(vol,"rmdir")(path)},rm:function(path,options){return promisify(vol,"rm")(path,options)},stat:function(path,options){return promisify(vol,"stat")(path,options)},symlink:function(target,path,type){return promisify(vol,"symlink")(target,path,type)},truncate:function(path,len){return promisify(vol,"truncate")(path,len)},unlink:function(path){return promisify(vol,"unlink")(path)},utimes:function(path,atime,mtime){return promisify(vol,"utimes")(path,atime,mtime)},writeFile:function(id,data,options){return promisify(vol,"writeFile")(id instanceof FileHandle?id.fd:id,data,options)}}};var hasRequiredPunycode,util_inspect,hasRequiredUtil_inspect,objectInspect,hasRequiredObjectInspect,sideChannel,hasRequiredSideChannel,formats,hasRequiredFormats,utils$1,hasRequiredUtils,stringify_1,hasRequiredStringify,parse$1,hasRequiredParse,lib,hasRequiredLib,hasRequiredUrl,url={},punycode={exports:{}};function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(module,exports){!function(root){var freeExports=exports&&!exports.nodeType&&exports,freeModule=module&&!module.nodeType&&module,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMax=26,skew=38,damp=700,regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-1,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,(function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+stringFromCharCode(value)})).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=128,bias=72;for((basic=input.lastIndexOf("-"))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base)>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?1:k>=bias+tMax?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=128,delta=0,bias=72,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push("-");handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?1:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))},toUnicode:function(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}},freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(commonjsGlobal)}(punycode,punycode.exports)),punycode.exports}function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,weakRefDeref="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"==typeof Symbol.iterator,toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(O){return O.__proto__}:null);function addNumericSeparator(num,str){if(num===1/0||num===-1/0||num!=num||num&&num>-1e3&&num<1e3||$test.call(/e/,str))return str;var sepRegex=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof num){var int=num<0?-$floor(-num):$floor(num);if(int!==num){var intStr=String(int),dec=$slice.call(str,intStr.length+1);return $replace.call(intStr,sepRegex,"$&_")+"."+$replace.call($replace.call(dec,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(str,sepRegex,"$&_")}var utilInspect=hasRequiredUtil_inspect?util_inspect:(hasRequiredUtil_inspect=1,util_inspect=util$2.inspect),inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return $replace.call(String(s),/"/g,"&quot;")}function isArray(obj){return!("[object Array]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}function isRegExp(obj){return!("[object RegExp]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}function isSymbol(obj){if(hasShammedSymbols)return obj&&"object"==typeof obj&&obj instanceof Symbol;if("symbol"==typeof obj)return!0;if(!obj||"object"!=typeof obj||!symToString)return!1;try{return symToString.call(obj),!0}catch(e){}return!1}objectInspect=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(opts,"maxStringLength")&&("number"==typeof opts.maxStringLength?opts.maxStringLength<0&&opts.maxStringLength!==1/0:null!==opts.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var customInspect=!has(opts,"customInspect")||opts.customInspect;if("boolean"!=typeof customInspect&&"symbol"!==customInspect)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(opts,"indent")&&null!==opts.indent&&"\t"!==opts.indent&&!(parseInt(opts.indent,10)===opts.indent&&opts.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(opts,"numericSeparator")&&"boolean"!=typeof opts.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var numericSeparator=opts.numericSeparator;if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return inspectString(obj,opts);if("number"==typeof obj){if(0===obj)return 1/0/obj>0?"0":"-0";var str=String(obj);return numericSeparator?addNumericSeparator(obj,str):str}if("bigint"==typeof obj){var bigIntStr=String(obj)+"n";return numericSeparator?addNumericSeparator(obj,bigIntStr):bigIntStr}var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return isArray(obj)?"[Array]":"[Object]";var x,indent=function(opts,depth){var baseIndent;if("\t"===opts.indent)baseIndent="\t";else{if(!("number"==typeof opts.indent&&opts.indent>0))return null;baseIndent=$join.call(Array(opts.indent+1)," ")}return{base:baseIndent,prev:$join.call(Array(depth+1),baseIndent)}}(opts,depth);if(void 0===seen)seen=[];else if(indexOf(seen,obj)>=0)return"[Circular]";function inspect(value,from,noIndent){if(from&&(seen=$arrSlice.call(seen)).push(from),noIndent){var newOpts={depth:opts.depth};return has(opts,"quoteStyle")&&(newOpts.quoteStyle=opts.quoteStyle),inspect_(value,newOpts,depth+1,seen)}return inspect_(value,opts,depth+1,seen)}if("function"==typeof obj&&!isRegExp(obj)){var name=function(f){if(f.name)return f.name;var m=$match.call(functionToString.call(f),/^function\s*([\w$]+)/);return m?m[1]:null}(obj),keys=arrObjKeys(obj,inspect);return"[Function"+(name?": "+name:" (anonymous)")+"]"+(keys.length>0?" { "+$join.call(keys,", ")+" }":"")}if(isSymbol(obj)){var symString=hasShammedSymbols?$replace.call(String(obj),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(obj);return"object"!=typeof obj||hasShammedSymbols?symString:markBoxed(symString)}if((x=obj)&&"object"==typeof x&&("undefined"!=typeof HTMLElement&&x instanceof HTMLElement||"string"==typeof x.nodeName&&"function"==typeof x.getAttribute)){for(var s="<"+$toLowerCase.call(String(obj.nodeName)),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+"</"+$toLowerCase.call(String(obj.nodeName))+">"}if(isArray(obj)){if(0===obj.length)return"[]";var xs=arrObjKeys(obj,inspect);return indent&&!function(xs){for(var i=0;i<xs.length;i++)if(indexOf(xs[i],"\n")>=0)return!1;return!0}(xs)?"["+indentedJoin(xs,indent)+"]":"[ "+$join.call(xs,", ")+" ]"}if(function(obj){return!("[object Error]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)){var parts=arrObjKeys(obj,inspect);return"cause"in Error.prototype||!("cause"in obj)||isEnumerable.call(obj,"cause")?0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+$join.call(parts,", ")+" }":"{ ["+String(obj)+"] "+$join.call($concat.call("[cause]: "+inspect(obj.cause),parts),", ")+" }"}if("object"==typeof obj&&customInspect){if(inspectSymbol&&"function"==typeof obj[inspectSymbol]&&utilInspect)return utilInspect(obj,{depth:maxDepth-depth});if("symbol"!==customInspect&&"function"==typeof obj.inspect)return obj.inspect()}if(function(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach&&mapForEach.call(obj,(function(value,key){mapParts.push(inspect(key,obj,!0)+" => "+inspect(value,obj))})),collectionOf("Map",mapSize.call(obj),mapParts,indent)}if(function(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach&&setForEach.call(obj,(function(value){setParts.push(inspect(value,obj))})),collectionOf("Set",setSize.call(obj),setParts,indent)}if(function(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function(x){if(!weakRefDeref||!x||"object"!=typeof x)return!1;try{return weakRefDeref.call(x),!0}catch(e){}return!1}(obj))return weakCollectionOf("WeakRef");if(function(obj){return!("[object Number]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(Number(obj)));if(function(obj){if(!obj||"object"!=typeof obj||!bigIntValueOf)return!1;try{return bigIntValueOf.call(obj),!0}catch(e){}return!1}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function(obj){return!("[object Boolean]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function(obj){return!("[object String]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(String(obj)));if(!function(obj){return!("[object Date]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)&&!isRegExp(obj)){var ys=arrObjKeys(obj,inspect),isPlainObject=gPO?gPO(obj)===Object.prototype:obj instanceof Object||obj.constructor===Object,protoTag=obj instanceof Object?"":"null prototype",stringTag=!isPlainObject&&toStringTag&&Object(obj)===obj&&toStringTag in obj?$slice.call(toStr(obj),8,-1):protoTag?"Object":"",tag=(isPlainObject||"function"!=typeof obj.constructor?"":obj.constructor.name?obj.constructor.name+" ":"")+(stringTag||protoTag?"["+$join.call($concat.call([],stringTag||[],protoTag||[]),": ")+"] ":"");return 0===ys.length?tag+"{}":indent?tag+"{"+indentedJoin(ys,indent)+"}":tag+"{ "+$join.call(ys,", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}function inspectString(str,opts){if(str.length>opts.maxStringLength){var remaining=str.length-opts.maxStringLength,trailer="... "+remaining+" more character"+(remaining>1?"s":"");return inspectString($slice.call(str,0,opts.maxStringLength),opts)+trailer}return wrapQuotes($replace.call($replace.call(str,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",opts)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+$toUpperCase.call(n.toString(16))}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries,indent){return type+" ("+size+") {"+(indent?indentedJoin(entries,indent):$join.call(entries,", "))+"}"}function indentedJoin(xs,indent){if(0===xs.length)return"";var lineJoiner="\n"+indent.prev+indent.base;return lineJoiner+$join.call(xs,","+lineJoiner)+"\n"+indent.prev}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}var symMap,syms="function"==typeof gOPS?gOPS(obj):[];if(hasShammedSymbols){symMap={};for(var k=0;k<syms.length;k++)symMap["$"+syms[k]]=syms[k]}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||hasShammedSymbols&&symMap["$"+key]instanceof Symbol||($test.call(/[^\w$]/,key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));if("function"==typeof gOPS)for(var j=0;j<syms.length;j++)isEnumerable.call(obj,syms[j])&&xs.push("["+inspect(syms[j])+"]: "+inspect(obj[syms[j]],obj));return xs}return objectInspect}function requireFormats(){if(hasRequiredFormats)return formats;hasRequiredFormats=1;var replace=String.prototype.replace,percentTwenties=/%20/g;return formats={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}function requireUtils(){if(hasRequiredUtils)return utils$1;hasRequiredUtils=1;var formats=requireFormats(),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};return utils$1={arrayToObject:arrayToObject,assign:function(target,source){return Object.keys(source).reduce((function(acc,key){return acc[key]=source[key],acc}),target)},combine:function(a,b){return[].concat(a,b)},compact:function(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function(str,defaultEncoder,charset,kind,format){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,(function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"}));for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||format===formats.RFC1738&&(40===c||41===c)?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function(obj){return!(!obj||"object"!=typeof obj||!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)))},isRegExp:function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},maybeMap:function(val,fn){if(isArray(val)){for(var mapped=[],i=0;i<val.length;i+=1)mapped.push(fn(val[i]));return mapped}return fn(val)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach((function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item})),target):Object.keys(source).reduce((function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc}),mergeTarget)}},utils$1}function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;var getSideChannel=function(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var GetIntrinsic=getIntrinsic,callBound=callBound$2,inspect=requireObjectInspect(),$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(list,key){for(var curr,prev=list;null!==(curr=prev.next);prev=curr)if(curr.key===key)return prev.next=curr.next,curr.next=list.next,list.next=curr,curr};return sideChannel=function(){var $wm,$m,$o,channel={assert:function(key){if(!channel.has(key))throw new $TypeError("Side channel does not contain "+inspect(key))},get:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapGet($wm,key)}else if($Map){if($m)return $mapGet($m,key)}else if($o)return function(objects,key){var node=listGetNode(objects,key);return node&&node.value}($o,key)},has:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapHas($wm,key)}else if($Map){if($m)return $mapHas($m,key)}else if($o)return function(objects,key){return!!listGetNode(objects,key)}($o,key);return!1},set:function(key,value){$WeakMap&&key&&("object"==typeof key||"function"==typeof key)?($wm||($wm=new $WeakMap),$weakMapSet($wm,key,value)):$Map?($m||($m=new $Map),$mapSet($m,key,value)):($o||($o={key:{},next:null}),function(objects,key,value){var node=listGetNode(objects,key);node?node.value=value:objects.next={key:key,next:objects.next,value:value}}($o,key,value))}};return channel},sideChannel}(),utils=requireUtils(),formats=requireFormats(),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(prefix){return prefix+"[]"},comma:"comma",indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},sentinel={},stringify=function stringify(object,prefix,generateArrayPrefix,commaRoundTrip,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,sideChannel){for(var v,obj=object,tmpSc=sideChannel,step=0,findFlag=!1;void 0!==(tmpSc=tmpSc.get(sentinel))&&!findFlag;){var pos=tmpSc.get(object);if(step+=1,void 0!==pos){if(pos===step)throw new RangeError("Cyclic object value");findFlag=!0}void 0===tmpSc.get(sentinel)&&(step=0)}if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=utils.maybeMap(obj,(function(value){return value instanceof Date?serializeDate(value):value}))),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key",format):prefix;obj=""}if("string"==typeof(v=obj)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key",format))+"="+formatter(encoder(obj,defaults.encoder,charset,"value",format))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if("comma"===generateArrayPrefix&&isArray(obj))encodeValuesOnly&&encoder&&(obj=utils.maybeMap(obj,encoder)),objKeys=[{value:obj.length>0?obj.join(",")||null:void 0}];else if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var adjustedPrefix=commaRoundTrip&&isArray(obj)&&1===obj.length?prefix+"[]":prefix,j=0;j<objKeys.length;++j){var key=objKeys[j],value="object"==typeof key&&void 0!==key.value?key.value:obj[key];if(!skipNulls||null!==value){var keyPrefix=isArray(obj)?"function"==typeof generateArrayPrefix?generateArrayPrefix(adjustedPrefix,key):adjustedPrefix:adjustedPrefix+(allowDots?"."+key:"["+key+"]");sideChannel.set(object,step);var valueSideChannel=getSideChannel();valueSideChannel.set(sentinel,sideChannel),pushToArray(values,stringify(value,keyPrefix,generateArrayPrefix,commaRoundTrip,strictNullHandling,skipNulls,"comma"===generateArrayPrefix&&encodeValuesOnly&&isArray(obj)?null:encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,valueSideChannel))}}return values};return stringify_1=function(object,opts){var objKeys,obj=object,options=function(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,format:format,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];if(opts&&"commaRoundTrip"in opts&&"boolean"!=typeof opts.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var commaRoundTrip="comma"===generateArrayPrefix&&opts&&opts.commaRoundTrip;objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var sideChannel=getSideChannel(),i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,commaRoundTrip,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.format,options.formatter,options.encodeValuesOnly,options.charset,sideChannel))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""},stringify_1}function requireUrl(){if(hasRequiredUrl)return url;hasRequiredUrl=1;var punycode=requirePunycode();function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=function(){if(hasRequiredLib)return lib;hasRequiredLib=1;var stringify=requireStringify(),parse=function(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;var utils=requireUtils(),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,(function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))}))},parseArrayValue=function(val,options){return val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1?val.split(","):val},parseKeys=function(givenKey,val,options,valuesParsed){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options,valuesParsed){for(var leaf=valuesParsed?val:parseArrayValue(val,options),i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:"__proto__"!==cleanRoot&&(obj[cleanRoot]=leaf):obj={0:leaf}}leaf=obj}return leaf}(keys,val,options,valuesParsed)}};return parse$1=function(str,opts){var options=function(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,allowSparse:"boolean"==typeof opts.allowSparse?opts.allowSparse:defaults.allowSparse,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function(str,options){var i,obj={__proto__:null},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=utils.maybeMap(parseArrayValue(part.slice(pos+1),options),(function(encodedVal){return options.decoder(encodedVal,defaults.decoder,charset,"value")}))),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options,"string"==typeof str);obj=utils.merge(obj,newObj,options)}return!0===options.allowSparse?obj:utils.compact(obj)},parse$1}(),formats=requireFormats();return lib={formats:formats,parse:parse,stringify:stringify}}();function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&"object"==typeof url&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}return Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if("string"!=typeof url)throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@/]+@[^@/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var auth,atSign,hostEnd=-1,i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);for(-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1,i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),l=(i=0,hostparts.length);i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)})))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if("string"==typeof relative){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.pathname="/",result.path=result.pathname),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],result.protocol&&!slashedProtocol[result.protocol]);if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(null!=relative.search)return psychotic&&(result.host=srcPath.shift(),result.hostname=result.host,(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.hostname=authInHost.shift(),result.host=result.hostname)),result.search=relative.search,result.query=relative.query,null===result.pathname&&null===result.search||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result;if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(result.hostname=isAbsolute?"":srcPath.length?srcPath.shift():"",result.host=result.hostname,(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.hostname=authInHost.shift(),result.host=result.hostname)),(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length>0?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),null===result.pathname&&null===result.search||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)},url.parse=urlParse,url.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},url.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},url.format=function(obj){return"string"==typeof obj&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)},url.Url=Url,url}
/*! https://mths.be/punycode v1.4.1 by @mathias */
punycode.exports;var hasRequiredCorrectPath,correctPath={};function requireCorrectPath(){if(hasRequiredCorrectPath)return correctPath;hasRequiredCorrectPath=1,Object.defineProperty(correctPath,"__esModule",{value:!0}),correctPath.unixify=unixify,correctPath.correctPath=function(filepath){return unixify(filepath.replace(/^\\\\\?\\.:\\/,"\\"))};var isWin="win32"===process$1.platform;function isSeparator(str,i){var _char=str[i];return i>0&&("/"===_char||isWin&&"\\"===_char)}function unixify(filepath){return isWin?(filepath=function(str,stripTrailing){if("string"!=typeof str)throw new TypeError("expected a string");return str=str.replace(/[\\\/]+/g,"/"),!1!==stripTrailing&&(str=function(str){var i=str.length-1;if(i<2)return str;for(;isSeparator(str,i);)i--;return str.substr(0,i+1)}(str)),str}(filepath,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])).replace(/^([a-zA-Z]+:|\.\/)/,""):filepath}return correctPath}!function(exports){var extendStatics,__extends=commonjsGlobal&&commonjsGlobal.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FSWatcher=exports.StatWatcher=exports.Volume=exports.toUnixTimestamp=exports.bufferToEncoding=exports.dataToBuffer=exports.dataToStr=exports.pathToSteps=exports.filenameToSteps=exports.pathToFilename=exports.flagsToNumber=exports.FLAGS=void 0;var FLAGS,pathModule=pathExports,node_1=node,Stats_1=Stats$1,Dirent_1=Dirent$1,buffer_1=buffer,setImmediate_1=setImmediate$1,process_1=process,setTimeoutUnref_1=setTimeoutUnref$1,stream_1=requireStreamBrowserify(),constants_1=constants,events_1=eventsExports,encoding_1=encoding,errors=errors$1,util=util$2,promises_1=promises,resolveCrossPlatform=pathModule.resolve,O_RDONLY=constants_1.constants.O_RDONLY,O_WRONLY=constants_1.constants.O_WRONLY,O_RDWR=constants_1.constants.O_RDWR,O_CREAT=constants_1.constants.O_CREAT,O_EXCL=constants_1.constants.O_EXCL,O_TRUNC=constants_1.constants.O_TRUNC,O_APPEND=constants_1.constants.O_APPEND,O_SYNC=constants_1.constants.O_SYNC,O_DIRECTORY=constants_1.constants.O_DIRECTORY,F_OK=constants_1.constants.F_OK,COPYFILE_EXCL=constants_1.constants.COPYFILE_EXCL,COPYFILE_FICLONE_FORCE=constants_1.constants.COPYFILE_FICLONE_FORCE,_a=pathModule.posix?pathModule.posix:pathModule,sep=_a.sep,relative=_a.relative,join=_a.join,dirname=_a.dirname,isWin="win32"===process_1.default.platform,ERRSTR={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},ERRSTR_OPTS=function(tipeof){return"Expected options to be either an object or a string, but got ".concat(tipeof," instead")},ENOENT="ENOENT";function createError(errorCode,func,path,path2,Constructor){void 0===func&&(func=""),void 0===path&&(path=""),void 0===path2&&(path2=""),void 0===Constructor&&(Constructor=Error);var error=new Constructor(function(errorCode,func,path,path2){void 0===func&&(func=""),void 0===path&&(path=""),void 0===path2&&(path2="");var pathFormatted="";switch(path&&(pathFormatted=" '".concat(path,"'")),path2&&(pathFormatted+=" -> '".concat(path2,"'")),errorCode){case ENOENT:return"ENOENT: no such file or directory, ".concat(func).concat(pathFormatted);case"EBADF":return"EBADF: bad file descriptor, ".concat(func).concat(pathFormatted);case"EINVAL":return"EINVAL: invalid argument, ".concat(func).concat(pathFormatted);case"EPERM":return"EPERM: operation not permitted, ".concat(func).concat(pathFormatted);case"EPROTO":return"EPROTO: protocol error, ".concat(func).concat(pathFormatted);case"EEXIST":return"EEXIST: file already exists, ".concat(func).concat(pathFormatted);case"ENOTDIR":return"ENOTDIR: not a directory, ".concat(func).concat(pathFormatted);case"EISDIR":return"EISDIR: illegal operation on a directory, ".concat(func).concat(pathFormatted);case"EACCES":return"EACCES: permission denied, ".concat(func).concat(pathFormatted);case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, ".concat(func).concat(pathFormatted);case"EMFILE":return"EMFILE: too many open files, ".concat(func).concat(pathFormatted);case"ENOSYS":return"ENOSYS: function not implemented, ".concat(func).concat(pathFormatted);case"ERR_FS_EISDIR":return"[ERR_FS_EISDIR]: Path is a directory: ".concat(func," returned EISDIR (is a directory) ").concat(path);default:return"".concat(errorCode,": error occurred, ").concat(func).concat(pathFormatted)}}(errorCode,func,path,path2));return error.code=errorCode,path&&(error.path=path),error}function flagsToNumber(flags){if("number"==typeof flags)return flags;if("string"==typeof flags){var flagsNum=FLAGS[flags];if(void 0!==flagsNum)return flagsNum}throw new errors.TypeError("ERR_INVALID_OPT_VALUE","flags",flags)}function getOptions(defaults,options){var opts;if(!options)return defaults;var tipeof=typeof options;switch(tipeof){case"string":opts=Object.assign({},defaults,{encoding:options});break;case"object":opts=Object.assign({},defaults,options);break;default:throw TypeError(ERRSTR_OPTS(tipeof))}return"buffer"!==opts.encoding&&(0,encoding_1.assertEncoding)(opts.encoding),opts}function optsGenerator(defaults){return function(options){return getOptions(defaults,options)}}function validateCallback(callback){if("function"!=typeof callback)throw TypeError(ERRSTR.CB);return callback}function optsAndCbGenerator(getOpts){return function(options,callback){return"function"==typeof options?[getOpts(),options]:[getOpts(options),validateCallback(callback)]}}!function(FLAGS){FLAGS[FLAGS.r=O_RDONLY]="r",FLAGS[FLAGS["r+"]=O_RDWR]="r+",FLAGS[FLAGS.rs=O_RDONLY|O_SYNC]="rs",FLAGS[FLAGS.sr=FLAGS.rs]="sr",FLAGS[FLAGS["rs+"]=O_RDWR|O_SYNC]="rs+",FLAGS[FLAGS["sr+"]=FLAGS["rs+"]]="sr+",FLAGS[FLAGS.w=O_WRONLY|O_CREAT|O_TRUNC]="w",FLAGS[FLAGS.wx=O_WRONLY|O_CREAT|O_TRUNC|O_EXCL]="wx",FLAGS[FLAGS.xw=FLAGS.wx]="xw",FLAGS[FLAGS["w+"]=O_RDWR|O_CREAT|O_TRUNC]="w+",FLAGS[FLAGS["wx+"]=O_RDWR|O_CREAT|O_TRUNC|O_EXCL]="wx+",FLAGS[FLAGS["xw+"]=FLAGS["wx+"]]="xw+",FLAGS[FLAGS.a=O_WRONLY|O_APPEND|O_CREAT]="a",FLAGS[FLAGS.ax=O_WRONLY|O_APPEND|O_CREAT|O_EXCL]="ax",FLAGS[FLAGS.xa=FLAGS.ax]="xa",FLAGS[FLAGS["a+"]=O_RDWR|O_APPEND|O_CREAT]="a+",FLAGS[FLAGS["ax+"]=O_RDWR|O_APPEND|O_CREAT|O_EXCL]="ax+",FLAGS[FLAGS["xa+"]=FLAGS["ax+"]]="xa+"}(FLAGS=exports.FLAGS||(exports.FLAGS={})),exports.flagsToNumber=flagsToNumber;var optsDefaults={encoding:"utf8"},getDefaultOpts=optsGenerator(optsDefaults),getDefaultOptsAndCb=optsAndCbGenerator(getDefaultOpts),getReadFileOptions=optsGenerator({flag:"r"}),writeFileDefaults={encoding:"utf8",mode:438,flag:FLAGS[FLAGS.w]},getWriteFileOptions=optsGenerator(writeFileDefaults),appendFileDefaults={encoding:"utf8",mode:438,flag:FLAGS[FLAGS.a]},getAppendFileOpts=optsGenerator(appendFileDefaults),getAppendFileOptsAndCb=optsAndCbGenerator(getAppendFileOpts),getRealpathOptions=optsGenerator(optsDefaults),getRealpathOptsAndCb=optsAndCbGenerator(getRealpathOptions),mkdirDefaults={mode:511,recursive:!1},getMkdirOptions=function(options){return"number"==typeof options?Object.assign({},mkdirDefaults,{mode:options}):Object.assign({},mkdirDefaults,options)},rmdirDefaults={recursive:!1},getRmdirOptions=function(options){return Object.assign({},rmdirDefaults,options)},getRmOptsAndCb=optsAndCbGenerator(optsGenerator(optsDefaults)),getReaddirOptions=optsGenerator({encoding:"utf8",withFileTypes:!1}),getReaddirOptsAndCb=optsAndCbGenerator(getReaddirOptions),statDefaults={bigint:!1},getStatOptions=function(options){return void 0===options&&(options={}),Object.assign({},statDefaults,options)},getStatOptsAndCb=function(options,callback){return"function"==typeof options?[getStatOptions(),options]:[getStatOptions(options),validateCallback(callback)]};function pathToFilename(path){if("string"!=typeof path&&!buffer_1.Buffer.isBuffer(path)){try{if(!(path instanceof requireUrl().URL))throw new TypeError(ERRSTR.PATH_STR)}catch(err){throw new TypeError(ERRSTR.PATH_STR)}path=function(url){if(""!==url.hostname)throw new errors.TypeError("ERR_INVALID_FILE_URL_HOST",process_1.default.platform);for(var pathname=url.pathname,n=0;n<pathname.length;n++)if("%"===pathname[n]){var third=32|pathname.codePointAt(n+2);if("2"===pathname[n+1]&&102===third)throw new errors.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(pathname)}(path)}var pathString=String(path);return nullCheck(pathString),pathString}exports.pathToFilename=pathToFilename;var resolve=function(filename,base){return void 0===base&&(base=process_1.default.cwd()),resolveCrossPlatform(base,filename)};if(isWin){var _resolve_1=resolve,unixify_1=requireCorrectPath().unixify;resolve=function(filename,base){return unixify_1(_resolve_1(filename,base))}}function filenameToSteps(filename,base){var fullPathSansSlash=resolve(filename,base).substring(1);return fullPathSansSlash?fullPathSansSlash.split(sep):[]}function dataToBuffer(data,encoding){return void 0===encoding&&(encoding=encoding_1.ENCODING_UTF8),buffer_1.Buffer.isBuffer(data)?data:data instanceof Uint8Array?(0,buffer_1.bufferFrom)(data):(0,buffer_1.bufferFrom)(String(data),encoding)}function bufferToEncoding(buffer,encoding){return encoding&&"buffer"!==encoding?buffer.toString(encoding):buffer}function nullCheck(path,callback){if(-1!==(""+path).indexOf("\0")){var er=new Error("Path must be a string without null bytes");if(er.code=ENOENT,"function"!=typeof callback)throw er;return process_1.default.nextTick(callback,er),!1}return!0}function modeToNumber(mode,def){var result=function(mode,def){return"number"==typeof mode?mode:"string"==typeof mode?parseInt(mode,8):def?modeToNumber(def):void 0}(mode,def);if("number"!=typeof result||isNaN(result))throw new TypeError(ERRSTR.MODE_INT);return result}function isFd(path){return path>>>0===path}function validateFd(fd){if(!isFd(fd))throw TypeError(ERRSTR.FD)}function toUnixTimestamp(time){if("string"==typeof time&&+time==time)return+time;if(time instanceof Date)return time.getTime()/1e3;if(isFinite(time))return time<0?Date.now()/1e3:time;throw new Error("Cannot parse time: "+time)}function validateUid(uid){if("number"!=typeof uid)throw TypeError(ERRSTR.UID)}function validateGid(gid){if("number"!=typeof gid)throw TypeError(ERRSTR.GID)}exports.filenameToSteps=filenameToSteps,exports.pathToSteps=function(path){return filenameToSteps(pathToFilename(path))},exports.dataToStr=function(data,encoding){return void 0===encoding&&(encoding=encoding_1.ENCODING_UTF8),buffer_1.Buffer.isBuffer(data)?data.toString(encoding):data instanceof Uint8Array?(0,buffer_1.bufferFrom)(data).toString(encoding):String(data)},exports.dataToBuffer=dataToBuffer,exports.bufferToEncoding=bufferToEncoding,exports.toUnixTimestamp=toUnixTimestamp;var Volume=function(){function Volume(props){void 0===props&&(props={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0,promises_1.default)(this),this.statWatchers={},this.props=Object.assign({Node:node_1.Node,Link:node_1.Link,File:node_1.File},props);var root=this.createLink();root.setNode(this.createNode(!0));var self=this;this.StatWatcher=function(_super){function StatWatcher(){return _super.call(this,self)||this}return __extends(StatWatcher,_super),StatWatcher}(StatWatcher);var _ReadStream=FsReadStream;this.ReadStream=function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _super.apply(this,__spreadArray([self],args,!1))||this}return __extends(class_1,_super),class_1}(_ReadStream);var _WriteStream=FsWriteStream;this.WriteStream=function(_super){function class_2(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _super.apply(this,__spreadArray([self],args,!1))||this}return __extends(class_2,_super),class_2}(_WriteStream),this.FSWatcher=function(_super){function FSWatcher(){return _super.call(this,self)||this}return __extends(FSWatcher,_super),FSWatcher}(FSWatcher),root.setChild(".",root),root.getNode().nlink++,root.setChild("..",root),root.getNode().nlink++,this.root=root}return Volume.fromJSON=function(json,cwd){var vol=new Volume;return vol.fromJSON(json,cwd),vol},Volume.fromNestedJSON=function(json,cwd){var vol=new Volume;return vol.fromNestedJSON(json,cwd),vol},Object.defineProperty(Volume.prototype,"promises",{get:function(){if(null===this.promisesApi)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),Volume.prototype.createLink=function(parent,name,isDirectory,perm){if(void 0===isDirectory&&(isDirectory=!1),!parent)return new this.props.Link(this,null,"");if(!name)throw new Error("createLink: name cannot be empty");return parent.createChild(name,this.createNode(isDirectory,perm))},Volume.prototype.deleteLink=function(link){var parent=link.parent;return!!parent&&(parent.deleteChild(link),!0)},Volume.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295,this.ino)},Volume.prototype.newFdNumber=function(){var releasedFd=this.releasedFds.pop();return"number"==typeof releasedFd?releasedFd:Volume.fd--},Volume.prototype.createNode=function(isDirectory,perm){void 0===isDirectory&&(isDirectory=!1);var node=new this.props.Node(this.newInoNumber(),perm);return isDirectory&&node.setIsDirectory(),this.inodes[node.ino]=node,node},Volume.prototype.getNode=function(ino){return this.inodes[ino]},Volume.prototype.deleteNode=function(node){node.del(),delete this.inodes[node.ino],this.releasedInos.push(node.ino)},Volume.prototype.genRndStr=function(){var str=(Math.random()+1).toString(36).substring(2,8);return 6===str.length?str:this.genRndStr()},Volume.prototype.getLink=function(steps){return this.root.walk(steps)},Volume.prototype.getLinkOrThrow=function(filename,funcName){var steps=filenameToSteps(filename),link=this.getLink(steps);if(!link)throw createError(ENOENT,funcName,filename);return link},Volume.prototype.getResolvedLink=function(filenameOrSteps){for(var steps="string"==typeof filenameOrSteps?filenameToSteps(filenameOrSteps):filenameOrSteps,link=this.root,i=0;i<steps.length;){var step=steps[i];if(!(link=link.getChild(step)))return null;var node=link.getNode();node.isSymlink()?(steps=node.symlink.concat(steps.slice(i+1)),link=this.root,i=0):i++}return link},Volume.prototype.getResolvedLinkOrThrow=function(filename,funcName){var link=this.getResolvedLink(filename);if(!link)throw createError(ENOENT,funcName,filename);return link},Volume.prototype.resolveSymlinks=function(link){return this.getResolvedLink(link.steps.slice(1))},Volume.prototype.getLinkAsDirOrThrow=function(filename,funcName){var link=this.getLinkOrThrow(filename,funcName);if(!link.getNode().isDirectory())throw createError("ENOTDIR",funcName,filename);return link},Volume.prototype.getLinkParent=function(steps){return this.root.walk(steps,steps.length-1)},Volume.prototype.getLinkParentAsDirOrThrow=function(filenameOrSteps,funcName){var steps=filenameOrSteps instanceof Array?filenameOrSteps:filenameToSteps(filenameOrSteps),link=this.getLinkParent(steps);if(!link)throw createError(ENOENT,funcName,sep+steps.join(sep));if(!link.getNode().isDirectory())throw createError("ENOTDIR",funcName,sep+steps.join(sep));return link},Volume.prototype.getFileByFd=function(fd){return this.fds[String(fd)]},Volume.prototype.getFileByFdOrThrow=function(fd,funcName){if(!isFd(fd))throw TypeError(ERRSTR.FD);var file=this.getFileByFd(fd);if(!file)throw createError("EBADF",funcName);return file},Volume.prototype.wrapAsync=function(method,args,callback){var _this=this;validateCallback(callback),(0,setImmediate_1.default)((function(){var result;try{result=method.apply(_this,args)}catch(err){return void callback(err)}callback(null,result)}))},Volume.prototype._toJSON=function(link,json,path){var _a;void 0===link&&(link=this.root),void 0===json&&(json={});var isEmpty=!0,children=link.children;for(var name_1 in link.getNode().isFile()&&((_a={})[link.getName()]=link.parent.getChild(link.getName()),children=_a,link=link.parent),children)if("."!==name_1&&".."!==name_1){isEmpty=!1;var child=link.getChild(name_1);if(!child)throw new Error("_toJSON: unexpected undefined");var node=child.getNode();if(node.isFile()){var filename=child.getPath();path&&(filename=relative(path,filename)),json[filename]=node.getString()}else node.isDirectory()&&this._toJSON(child,json,path)}var dirPath=link.getPath();return path&&(dirPath=relative(path,dirPath)),dirPath&&isEmpty&&(json[dirPath]=null),json},Volume.prototype.toJSON=function(paths,json,isRelative){void 0===json&&(json={}),void 0===isRelative&&(isRelative=!1);var links=[];if(paths){paths instanceof Array||(paths=[paths]);for(var _i=0,paths_1=paths;_i<paths_1.length;_i++){var filename=pathToFilename(paths_1[_i]);(link=this.getResolvedLink(filename))&&links.push(link)}}else links.push(this.root);if(!links.length)return json;for(var _a=0,links_1=links;_a<links_1.length;_a++){var link=links_1[_a];this._toJSON(link,json,isRelative?link.getPath():"")}return json},Volume.prototype.fromJSON=function(json,cwd){for(var filename in void 0===cwd&&(cwd=process_1.default.cwd()),json){var data=json[filename];if(filename=resolve(filename,cwd),"string"==typeof data){var dir=dirname(filename);this.mkdirpBase(dir,511),this.writeFileSync(filename,data)}else this.mkdirpBase(filename,511)}},Volume.prototype.fromNestedJSON=function(json,cwd){var flatJSON;this.fromJSON((flatJSON={},function flatten(pathPrefix,node){for(var path in node){var contentOrNode=node[path],joinedPath=join(pathPrefix,path);"string"==typeof contentOrNode?flatJSON[joinedPath]=contentOrNode:"object"==typeof contentOrNode&&null!==contentOrNode&&Object.keys(contentOrNode).length>0?flatten(joinedPath,contentOrNode):flatJSON[joinedPath]=null}}("",json),flatJSON),cwd)},Volume.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},Volume.prototype.mountSync=function(mountpoint,json){this.fromJSON(json,mountpoint)},Volume.prototype.openLink=function(link,flagsNum,resolveSymlinks){if(void 0===resolveSymlinks&&(resolveSymlinks=!0),this.openFiles>=this.maxFiles)throw createError("EMFILE","open",link.getPath());var realLink=link;if(resolveSymlinks&&(realLink=this.resolveSymlinks(link)),!realLink)throw createError(ENOENT,"open",link.getPath());var node=realLink.getNode();if(node.isDirectory()){if((flagsNum&(O_RDONLY|O_RDWR|O_WRONLY))!==O_RDONLY)throw createError("EISDIR","open",link.getPath())}else if(flagsNum&O_DIRECTORY)throw createError("ENOTDIR","open",link.getPath());if(!(flagsNum&O_WRONLY||node.canRead()))throw createError("EACCES","open",link.getPath());var file=new this.props.File(link,node,flagsNum,this.newFdNumber());return this.fds[file.fd]=file,this.openFiles++,flagsNum&O_TRUNC&&file.truncate(),file},Volume.prototype.openFile=function(filename,flagsNum,modeNum,resolveSymlinks){void 0===resolveSymlinks&&(resolveSymlinks=!0);var steps=filenameToSteps(filename),link=resolveSymlinks?this.getResolvedLink(steps):this.getLink(steps);if(link&&flagsNum&O_EXCL)throw createError("EEXIST","open",filename);if(!link&&flagsNum&O_CREAT){var dirLink=this.getResolvedLink(steps.slice(0,steps.length-1));if(!dirLink)throw createError(ENOENT,"open",sep+steps.join(sep));flagsNum&O_CREAT&&"number"==typeof modeNum&&(link=this.createLink(dirLink,steps[steps.length-1],!1,modeNum))}if(link)return this.openLink(link,flagsNum,resolveSymlinks);throw createError(ENOENT,"open",filename)},Volume.prototype.openBase=function(filename,flagsNum,modeNum,resolveSymlinks){void 0===resolveSymlinks&&(resolveSymlinks=!0);var file=this.openFile(filename,flagsNum,modeNum,resolveSymlinks);if(!file)throw createError(ENOENT,"open",filename);return file.fd},Volume.prototype.openSync=function(path,flags,mode){void 0===mode&&(mode=438);var modeNum=modeToNumber(mode),fileName=pathToFilename(path),flagsNum=flagsToNumber(flags);return this.openBase(fileName,flagsNum,modeNum)},Volume.prototype.open=function(path,flags,a,b){var mode=a,callback=b;"function"==typeof a&&(mode=438,callback=a);var modeNum=modeToNumber(mode=mode||438),fileName=pathToFilename(path),flagsNum=flagsToNumber(flags);this.wrapAsync(this.openBase,[fileName,flagsNum,modeNum],callback)},Volume.prototype.closeFile=function(file){this.fds[file.fd]&&(this.openFiles--,delete this.fds[file.fd],this.releasedFds.push(file.fd))},Volume.prototype.closeSync=function(fd){validateFd(fd);var file=this.getFileByFdOrThrow(fd,"close");this.closeFile(file)},Volume.prototype.close=function(fd,callback){validateFd(fd),this.wrapAsync(this.closeSync,[fd],callback)},Volume.prototype.openFileOrGetById=function(id,flagsNum,modeNum){if("number"==typeof id){var file=this.fds[id];if(!file)throw createError(ENOENT);return file}return this.openFile(pathToFilename(id),flagsNum,modeNum)},Volume.prototype.readBase=function(fd,buffer,offset,length,position){return this.getFileByFdOrThrow(fd).read(buffer,Number(offset),Number(length),position)},Volume.prototype.readSync=function(fd,buffer,offset,length,position){return validateFd(fd),this.readBase(fd,buffer,offset,length,position)},Volume.prototype.read=function(fd,buffer,offset,length,position,callback){var _this=this;if(validateCallback(callback),0===length)return process_1.default.nextTick((function(){callback&&callback(null,0,buffer)}));(0,setImmediate_1.default)((function(){try{var bytes=_this.readBase(fd,buffer,offset,length,position);callback(null,bytes,buffer)}catch(err){callback(err)}}))},Volume.prototype.readFileBase=function(id,flagsNum,encoding){var result,fd,userOwnsFd="number"==typeof id&&isFd(id);if(userOwnsFd)fd=id;else{var steps=filenameToSteps(pathToFilename(id)),link=this.getResolvedLink(steps);if(link&&link.getNode().isDirectory())throw createError("EISDIR","open",link.getPath());fd=this.openSync(id,flagsNum)}try{result=bufferToEncoding(this.getFileByFdOrThrow(fd).getBuffer(),encoding)}finally{userOwnsFd||this.closeSync(fd)}return result},Volume.prototype.readFileSync=function(file,options){var opts=getReadFileOptions(options),flagsNum=flagsToNumber(opts.flag);return this.readFileBase(file,flagsNum,opts.encoding)},Volume.prototype.readFile=function(id,a,b){var _a=optsAndCbGenerator(getReadFileOptions)(a,b),opts=_a[0],callback=_a[1],flagsNum=flagsToNumber(opts.flag);this.wrapAsync(this.readFileBase,[id,flagsNum,opts.encoding],callback)},Volume.prototype.writeBase=function(fd,buf,offset,length,position){return this.getFileByFdOrThrow(fd,"write").write(buf,offset,length,position)},Volume.prototype.writeSync=function(fd,a,b,c,d){var encoding,offset,length,position;validateFd(fd);var isBuffer="string"!=typeof a;isBuffer?(offset=0|(b||0),length=c,position=d):(position=b,encoding=c);var buf=dataToBuffer(a,encoding);return isBuffer?void 0===length&&(length=buf.length):(offset=0,length=buf.length),this.writeBase(fd,buf,offset,length,position)},Volume.prototype.write=function(fd,a,b,c,d,e){var offset,length,position,encoding,callback,_this=this;validateFd(fd);var tipa=typeof a,tipb=typeof b,tipc=typeof c,tipd=typeof d;"string"!==tipa?"function"===tipb?callback=b:"function"===tipc?(offset=0|b,callback=c):"function"===tipd?(offset=0|b,length=c,callback=d):(offset=0|b,length=c,position=d,callback=e):"function"===tipb?callback=b:"function"===tipc?(position=b,callback=c):"function"===tipd&&(position=b,encoding=c,callback=d);var buf=dataToBuffer(a,encoding);"string"!==tipa?void 0===length&&(length=buf.length):(offset=0,length=buf.length);var cb=validateCallback(callback);(0,setImmediate_1.default)((function(){try{var bytes=_this.writeBase(fd,buf,offset,length,position);cb(null,bytes,"string"!==tipa?buf:a)}catch(err){cb(err)}}))},Volume.prototype.writeFileBase=function(id,buf,flagsNum,modeNum){var fd,isUserFd="number"==typeof id;fd=isUserFd?id:this.openBase(pathToFilename(id),flagsNum,modeNum);var offset=0,length=buf.length,position=flagsNum&O_APPEND?void 0:0;try{for(;length>0;){var written=this.writeSync(fd,buf,offset,length,position);offset+=written,length-=written,void 0!==position&&(position+=written)}}finally{isUserFd||this.closeSync(fd)}},Volume.prototype.writeFileSync=function(id,data,options){var opts=getWriteFileOptions(options),flagsNum=flagsToNumber(opts.flag),modeNum=modeToNumber(opts.mode),buf=dataToBuffer(data,opts.encoding);this.writeFileBase(id,buf,flagsNum,modeNum)},Volume.prototype.writeFile=function(id,data,a,b){var options=a,callback=b;"function"==typeof a&&(options=writeFileDefaults,callback=a);var cb=validateCallback(callback),opts=getWriteFileOptions(options),flagsNum=flagsToNumber(opts.flag),modeNum=modeToNumber(opts.mode),buf=dataToBuffer(data,opts.encoding);this.wrapAsync(this.writeFileBase,[id,buf,flagsNum,modeNum],cb)},Volume.prototype.linkBase=function(filename1,filename2){var steps1=filenameToSteps(filename1),link1=this.getLink(steps1);if(!link1)throw createError(ENOENT,"link",filename1,filename2);var steps2=filenameToSteps(filename2),dir2=this.getLinkParent(steps2);if(!dir2)throw createError(ENOENT,"link",filename1,filename2);var name=steps2[steps2.length-1];if(dir2.getChild(name))throw createError("EEXIST","link",filename1,filename2);var node=link1.getNode();node.nlink++,dir2.createChild(name,node)},Volume.prototype.copyFileBase=function(src,dest,flags){var buf=this.readFileSync(src);if(flags&COPYFILE_EXCL&&this.existsSync(dest))throw createError("EEXIST","copyFile",src,dest);if(flags&COPYFILE_FICLONE_FORCE)throw createError("ENOSYS","copyFile",src,dest);this.writeFileBase(dest,buf,FLAGS.w,438)},Volume.prototype.copyFileSync=function(src,dest,flags){var srcFilename=pathToFilename(src),destFilename=pathToFilename(dest);return this.copyFileBase(srcFilename,destFilename,0|(flags||0))},Volume.prototype.copyFile=function(src,dest,a,b){var flags,callback,srcFilename=pathToFilename(src),destFilename=pathToFilename(dest);"function"==typeof a?(flags=0,callback=a):(flags=a,callback=b),validateCallback(callback),this.wrapAsync(this.copyFileBase,[srcFilename,destFilename,flags],callback)},Volume.prototype.linkSync=function(existingPath,newPath){var existingPathFilename=pathToFilename(existingPath),newPathFilename=pathToFilename(newPath);this.linkBase(existingPathFilename,newPathFilename)},Volume.prototype.link=function(existingPath,newPath,callback){var existingPathFilename=pathToFilename(existingPath),newPathFilename=pathToFilename(newPath);this.wrapAsync(this.linkBase,[existingPathFilename,newPathFilename],callback)},Volume.prototype.unlinkBase=function(filename){var steps=filenameToSteps(filename),link=this.getLink(steps);if(!link)throw createError(ENOENT,"unlink",filename);if(link.length)throw Error("Dir not empty...");this.deleteLink(link);var node=link.getNode();node.nlink--,node.nlink<=0&&this.deleteNode(node)},Volume.prototype.unlinkSync=function(path){var filename=pathToFilename(path);this.unlinkBase(filename)},Volume.prototype.unlink=function(path,callback){var filename=pathToFilename(path);this.wrapAsync(this.unlinkBase,[filename],callback)},Volume.prototype.symlinkBase=function(targetFilename,pathFilename){var pathSteps=filenameToSteps(pathFilename),dirLink=this.getLinkParent(pathSteps);if(!dirLink)throw createError(ENOENT,"symlink",targetFilename,pathFilename);var name=pathSteps[pathSteps.length-1];if(dirLink.getChild(name))throw createError("EEXIST","symlink",targetFilename,pathFilename);var symlink=dirLink.createChild(name);return symlink.getNode().makeSymlink(filenameToSteps(targetFilename)),symlink},Volume.prototype.symlinkSync=function(target,path,type){var targetFilename=pathToFilename(target),pathFilename=pathToFilename(path);this.symlinkBase(targetFilename,pathFilename)},Volume.prototype.symlink=function(target,path,a,b){var callback=validateCallback("function"==typeof a?a:b),targetFilename=pathToFilename(target),pathFilename=pathToFilename(path);this.wrapAsync(this.symlinkBase,[targetFilename,pathFilename],callback)},Volume.prototype.realpathBase=function(filename,encoding){var steps=filenameToSteps(filename),realLink=this.getResolvedLink(steps);if(!realLink)throw createError(ENOENT,"realpath",filename);return(0,encoding_1.strToEncoding)(realLink.getPath()||"/",encoding)},Volume.prototype.realpathSync=function(path,options){return this.realpathBase(pathToFilename(path),getRealpathOptions(options).encoding)},Volume.prototype.realpath=function(path,a,b){var _a=getRealpathOptsAndCb(a,b),opts=_a[0],callback=_a[1],pathFilename=pathToFilename(path);this.wrapAsync(this.realpathBase,[pathFilename,opts.encoding],callback)},Volume.prototype.lstatBase=function(filename,bigint,throwIfNoEntry){void 0===bigint&&(bigint=!1),void 0===throwIfNoEntry&&(throwIfNoEntry=!1);var link=this.getLink(filenameToSteps(filename));if(link)return Stats_1.default.build(link.getNode(),bigint);if(throwIfNoEntry)throw createError(ENOENT,"lstat",filename)},Volume.prototype.lstatSync=function(path,options){var _a=getStatOptions(options),_b=_a.throwIfNoEntry,throwIfNoEntry=void 0===_b||_b,_c=_a.bigint,bigint=void 0!==_c&&_c;return this.lstatBase(pathToFilename(path),bigint,throwIfNoEntry)},Volume.prototype.lstat=function(path,a,b){var _a=getStatOptsAndCb(a,b),_b=_a[0],_c=_b.throwIfNoEntry,throwIfNoEntry=void 0===_c||_c,_d=_b.bigint,bigint=void 0!==_d&&_d,callback=_a[1];this.wrapAsync(this.lstatBase,[pathToFilename(path),bigint,throwIfNoEntry],callback)},Volume.prototype.statBase=function(filename,bigint,throwIfNoEntry){void 0===bigint&&(bigint=!1),void 0===throwIfNoEntry&&(throwIfNoEntry=!0);var link=this.getResolvedLink(filenameToSteps(filename));if(link)return Stats_1.default.build(link.getNode(),bigint);if(throwIfNoEntry)throw createError(ENOENT,"stat",filename)},Volume.prototype.statSync=function(path,options){var _a=getStatOptions(options),_b=_a.bigint,bigint=void 0===_b||_b,_c=_a.throwIfNoEntry,throwIfNoEntry=void 0===_c||_c;return this.statBase(pathToFilename(path),bigint,throwIfNoEntry)},Volume.prototype.stat=function(path,a,b){var _a=getStatOptsAndCb(a,b),_b=_a[0],_c=_b.bigint,bigint=void 0!==_c&&_c,_d=_b.throwIfNoEntry,throwIfNoEntry=void 0===_d||_d,callback=_a[1];this.wrapAsync(this.statBase,[pathToFilename(path),bigint,throwIfNoEntry],callback)},Volume.prototype.fstatBase=function(fd,bigint){void 0===bigint&&(bigint=!1);var file=this.getFileByFd(fd);if(!file)throw createError("EBADF","fstat");return Stats_1.default.build(file.node,bigint)},Volume.prototype.fstatSync=function(fd,options){return this.fstatBase(fd,getStatOptions(options).bigint)},Volume.prototype.fstat=function(fd,a,b){var _a=getStatOptsAndCb(a,b),opts=_a[0],callback=_a[1];this.wrapAsync(this.fstatBase,[fd,opts.bigint],callback)},Volume.prototype.renameBase=function(oldPathFilename,newPathFilename){var link=this.getLink(filenameToSteps(oldPathFilename));if(!link)throw createError(ENOENT,"rename",oldPathFilename,newPathFilename);var newPathSteps=filenameToSteps(newPathFilename),newPathDirLink=this.getLinkParent(newPathSteps);if(!newPathDirLink)throw createError(ENOENT,"rename",oldPathFilename,newPathFilename);var oldLinkParent=link.parent;oldLinkParent&&oldLinkParent.deleteChild(link);var name=newPathSteps[newPathSteps.length-1];link.name=name,link.steps=__spreadArray(__spreadArray([],newPathDirLink.steps,!0),[name],!1),newPathDirLink.setChild(link.getName(),link)},Volume.prototype.renameSync=function(oldPath,newPath){var oldPathFilename=pathToFilename(oldPath),newPathFilename=pathToFilename(newPath);this.renameBase(oldPathFilename,newPathFilename)},Volume.prototype.rename=function(oldPath,newPath,callback){var oldPathFilename=pathToFilename(oldPath),newPathFilename=pathToFilename(newPath);this.wrapAsync(this.renameBase,[oldPathFilename,newPathFilename],callback)},Volume.prototype.existsBase=function(filename){return!!this.statBase(filename)},Volume.prototype.existsSync=function(path){try{return this.existsBase(pathToFilename(path))}catch(err){return!1}},Volume.prototype.exists=function(path,callback){var _this=this,filename=pathToFilename(path);if("function"!=typeof callback)throw Error(ERRSTR.CB);(0,setImmediate_1.default)((function(){try{callback(_this.existsBase(filename))}catch(err){callback(!1)}}))},Volume.prototype.accessBase=function(filename,mode){this.getLinkOrThrow(filename,"access")},Volume.prototype.accessSync=function(path,mode){void 0===mode&&(mode=F_OK);var filename=pathToFilename(path);mode|=0,this.accessBase(filename,mode)},Volume.prototype.access=function(path,a,b){var callback,mode=F_OK;"function"!=typeof a?(mode=0|a,callback=validateCallback(b)):callback=a;var filename=pathToFilename(path);this.wrapAsync(this.accessBase,[filename,mode],callback)},Volume.prototype.appendFileSync=function(id,data,options){void 0===options&&(options=appendFileDefaults);var opts=getAppendFileOpts(options);opts.flag&&!isFd(id)||(opts.flag="a"),this.writeFileSync(id,data,opts)},Volume.prototype.appendFile=function(id,data,a,b){var _a=getAppendFileOptsAndCb(a,b),opts=_a[0],callback=_a[1];opts.flag&&!isFd(id)||(opts.flag="a"),this.writeFile(id,data,opts,callback)},Volume.prototype.readdirBase=function(filename,options){var steps=filenameToSteps(filename),link=this.getResolvedLink(steps);if(!link)throw createError(ENOENT,"readdir",filename);if(!link.getNode().isDirectory())throw createError("ENOTDIR","scandir",filename);if(options.withFileTypes){var list_1=[];for(var name_2 in link.children){var child=link.getChild(name_2);child&&"."!==name_2&&".."!==name_2&&list_1.push(Dirent_1.default.build(child,options.encoding))}return isWin||"buffer"===options.encoding||list_1.sort((function(a,b){return a.name<b.name?-1:a.name>b.name?1:0})),list_1}var list=[];for(var name_3 in link.children)"."!==name_3&&".."!==name_3&&list.push((0,encoding_1.strToEncoding)(name_3,options.encoding));return isWin||"buffer"===options.encoding||list.sort(),list},Volume.prototype.readdirSync=function(path,options){var opts=getReaddirOptions(options),filename=pathToFilename(path);return this.readdirBase(filename,opts)},Volume.prototype.readdir=function(path,a,b){var _a=getReaddirOptsAndCb(a,b),options=_a[0],callback=_a[1],filename=pathToFilename(path);this.wrapAsync(this.readdirBase,[filename,options],callback)},Volume.prototype.readlinkBase=function(filename,encoding){var node=this.getLinkOrThrow(filename,"readlink").getNode();if(!node.isSymlink())throw createError("EINVAL","readlink",filename);var str=sep+node.symlink.join(sep);return(0,encoding_1.strToEncoding)(str,encoding)},Volume.prototype.readlinkSync=function(path,options){var opts=getDefaultOpts(options),filename=pathToFilename(path);return this.readlinkBase(filename,opts.encoding)},Volume.prototype.readlink=function(path,a,b){var _a=getDefaultOptsAndCb(a,b),opts=_a[0],callback=_a[1],filename=pathToFilename(path);this.wrapAsync(this.readlinkBase,[filename,opts.encoding],callback)},Volume.prototype.fsyncBase=function(fd){this.getFileByFdOrThrow(fd,"fsync")},Volume.prototype.fsyncSync=function(fd){this.fsyncBase(fd)},Volume.prototype.fsync=function(fd,callback){this.wrapAsync(this.fsyncBase,[fd],callback)},Volume.prototype.fdatasyncBase=function(fd){this.getFileByFdOrThrow(fd,"fdatasync")},Volume.prototype.fdatasyncSync=function(fd){this.fdatasyncBase(fd)},Volume.prototype.fdatasync=function(fd,callback){this.wrapAsync(this.fdatasyncBase,[fd],callback)},Volume.prototype.ftruncateBase=function(fd,len){this.getFileByFdOrThrow(fd,"ftruncate").truncate(len)},Volume.prototype.ftruncateSync=function(fd,len){this.ftruncateBase(fd,len)},Volume.prototype.ftruncate=function(fd,a,b){var len="number"==typeof a?a:0,callback=validateCallback("number"==typeof a?b:a);this.wrapAsync(this.ftruncateBase,[fd,len],callback)},Volume.prototype.truncateBase=function(path,len){var fd=this.openSync(path,"r+");try{this.ftruncateSync(fd,len)}finally{this.closeSync(fd)}},Volume.prototype.truncateSync=function(id,len){if(isFd(id))return this.ftruncateSync(id,len);this.truncateBase(id,len)},Volume.prototype.truncate=function(id,a,b){var len="number"==typeof a?a:0,callback=validateCallback("number"==typeof a?b:a);if(isFd(id))return this.ftruncate(id,len,callback);this.wrapAsync(this.truncateBase,[id,len],callback)},Volume.prototype.futimesBase=function(fd,atime,mtime){var node=this.getFileByFdOrThrow(fd,"futimes").node;node.atime=new Date(1e3*atime),node.mtime=new Date(1e3*mtime)},Volume.prototype.futimesSync=function(fd,atime,mtime){this.futimesBase(fd,toUnixTimestamp(atime),toUnixTimestamp(mtime))},Volume.prototype.futimes=function(fd,atime,mtime,callback){this.wrapAsync(this.futimesBase,[fd,toUnixTimestamp(atime),toUnixTimestamp(mtime)],callback)},Volume.prototype.utimesBase=function(filename,atime,mtime){var fd=this.openSync(filename,"r");try{this.futimesBase(fd,atime,mtime)}finally{this.closeSync(fd)}},Volume.prototype.utimesSync=function(path,atime,mtime){this.utimesBase(pathToFilename(path),toUnixTimestamp(atime),toUnixTimestamp(mtime))},Volume.prototype.utimes=function(path,atime,mtime,callback){this.wrapAsync(this.utimesBase,[pathToFilename(path),toUnixTimestamp(atime),toUnixTimestamp(mtime)],callback)},Volume.prototype.mkdirBase=function(filename,modeNum){var steps=filenameToSteps(filename);if(!steps.length)throw createError("EEXIST","mkdir",filename);var dir=this.getLinkParentAsDirOrThrow(filename,"mkdir"),name=steps[steps.length-1];if(dir.getChild(name))throw createError("EEXIST","mkdir",filename);dir.createChild(name,this.createNode(!0,modeNum))},Volume.prototype.mkdirpBase=function(filename,modeNum){for(var fullPath=resolve(filename),fullPathSansSlash=fullPath.substring(1),steps=fullPathSansSlash?fullPathSansSlash.split(sep):[],link=this.root,created=!1,i=0;i<steps.length;i++){var step=steps[i];if(!link.getNode().isDirectory())throw createError("ENOTDIR","mkdir",link.getPath());var child=link.getChild(step);if(child){if(!child.getNode().isDirectory())throw createError("ENOTDIR","mkdir",child.getPath());link=child}else link=link.createChild(step,this.createNode(!0,modeNum)),created=!0}return created?fullPath:void 0},Volume.prototype.mkdirSync=function(path,options){var opts=getMkdirOptions(options),modeNum=modeToNumber(opts.mode,511),filename=pathToFilename(path);if(opts.recursive)return this.mkdirpBase(filename,modeNum);this.mkdirBase(filename,modeNum)},Volume.prototype.mkdir=function(path,a,b){var opts=getMkdirOptions(a),callback=validateCallback("function"==typeof a?a:b),modeNum=modeToNumber(opts.mode,511),filename=pathToFilename(path);opts.recursive?this.wrapAsync(this.mkdirpBase,[filename,modeNum],callback):this.wrapAsync(this.mkdirBase,[filename,modeNum],callback)},Volume.prototype.mkdirpSync=function(path,mode){return this.mkdirSync(path,{mode:mode,recursive:!0})},Volume.prototype.mkdirp=function(path,a,b){var mode="function"==typeof a?void 0:a,callback=validateCallback("function"==typeof a?a:b);this.mkdir(path,{mode:mode,recursive:!0},callback)},Volume.prototype.mkdtempBase=function(prefix,encoding,retry){void 0===retry&&(retry=5);var filename=prefix+this.genRndStr();try{return this.mkdirBase(filename,511),(0,encoding_1.strToEncoding)(filename,encoding)}catch(err){if("EEXIST"===err.code){if(retry>1)return this.mkdtempBase(prefix,encoding,retry-1);throw Error("Could not create temp dir.")}throw err}},Volume.prototype.mkdtempSync=function(prefix,options){var encoding=getDefaultOpts(options).encoding;if(!prefix||"string"!=typeof prefix)throw new TypeError("filename prefix is required");return nullCheck(prefix),this.mkdtempBase(prefix,encoding)},Volume.prototype.mkdtemp=function(prefix,a,b){var _a=getDefaultOptsAndCb(a,b),encoding=_a[0].encoding,callback=_a[1];if(!prefix||"string"!=typeof prefix)throw new TypeError("filename prefix is required");nullCheck(prefix)&&this.wrapAsync(this.mkdtempBase,[prefix,encoding],callback)},Volume.prototype.rmdirBase=function(filename,options){var opts=getRmdirOptions(options),link=this.getLinkAsDirOrThrow(filename,"rmdir");if(link.length&&!opts.recursive)throw createError("ENOTEMPTY","rmdir",filename);this.deleteLink(link)},Volume.prototype.rmdirSync=function(path,options){this.rmdirBase(pathToFilename(path),options)},Volume.prototype.rmdir=function(path,a,b){var opts=getRmdirOptions(a),callback=validateCallback("function"==typeof a?a:b);this.wrapAsync(this.rmdirBase,[pathToFilename(path),opts],callback)},Volume.prototype.rmBase=function(filename,options){void 0===options&&(options={});var link=this.getResolvedLink(filename);if(link){if(link.getNode().isDirectory()&&!options.recursive)throw createError("ERR_FS_EISDIR","rm",filename);this.deleteLink(link)}else if(!options.force)throw createError(ENOENT,"stat",filename)},Volume.prototype.rmSync=function(path,options){this.rmBase(pathToFilename(path),options)},Volume.prototype.rm=function(path,a,b){var _a=getRmOptsAndCb(a,b),opts=_a[0],callback=_a[1];this.wrapAsync(this.rmBase,[pathToFilename(path),opts],callback)},Volume.prototype.fchmodBase=function(fd,modeNum){this.getFileByFdOrThrow(fd,"fchmod").chmod(modeNum)},Volume.prototype.fchmodSync=function(fd,mode){this.fchmodBase(fd,modeToNumber(mode))},Volume.prototype.fchmod=function(fd,mode,callback){this.wrapAsync(this.fchmodBase,[fd,modeToNumber(mode)],callback)},Volume.prototype.chmodBase=function(filename,modeNum){var fd=this.openSync(filename,"r");try{this.fchmodBase(fd,modeNum)}finally{this.closeSync(fd)}},Volume.prototype.chmodSync=function(path,mode){var modeNum=modeToNumber(mode),filename=pathToFilename(path);this.chmodBase(filename,modeNum)},Volume.prototype.chmod=function(path,mode,callback){var modeNum=modeToNumber(mode),filename=pathToFilename(path);this.wrapAsync(this.chmodBase,[filename,modeNum],callback)},Volume.prototype.lchmodBase=function(filename,modeNum){var fd=this.openBase(filename,O_RDWR,0,!1);try{this.fchmodBase(fd,modeNum)}finally{this.closeSync(fd)}},Volume.prototype.lchmodSync=function(path,mode){var modeNum=modeToNumber(mode),filename=pathToFilename(path);this.lchmodBase(filename,modeNum)},Volume.prototype.lchmod=function(path,mode,callback){var modeNum=modeToNumber(mode),filename=pathToFilename(path);this.wrapAsync(this.lchmodBase,[filename,modeNum],callback)},Volume.prototype.fchownBase=function(fd,uid,gid){this.getFileByFdOrThrow(fd,"fchown").chown(uid,gid)},Volume.prototype.fchownSync=function(fd,uid,gid){validateUid(uid),validateGid(gid),this.fchownBase(fd,uid,gid)},Volume.prototype.fchown=function(fd,uid,gid,callback){validateUid(uid),validateGid(gid),this.wrapAsync(this.fchownBase,[fd,uid,gid],callback)},Volume.prototype.chownBase=function(filename,uid,gid){this.getResolvedLinkOrThrow(filename,"chown").getNode().chown(uid,gid)},Volume.prototype.chownSync=function(path,uid,gid){validateUid(uid),validateGid(gid),this.chownBase(pathToFilename(path),uid,gid)},Volume.prototype.chown=function(path,uid,gid,callback){validateUid(uid),validateGid(gid),this.wrapAsync(this.chownBase,[pathToFilename(path),uid,gid],callback)},Volume.prototype.lchownBase=function(filename,uid,gid){this.getLinkOrThrow(filename,"lchown").getNode().chown(uid,gid)},Volume.prototype.lchownSync=function(path,uid,gid){validateUid(uid),validateGid(gid),this.lchownBase(pathToFilename(path),uid,gid)},Volume.prototype.lchown=function(path,uid,gid,callback){validateUid(uid),validateGid(gid),this.wrapAsync(this.lchownBase,[pathToFilename(path),uid,gid],callback)},Volume.prototype.watchFile=function(path,a,b){var filename=pathToFilename(path),options=a,listener=b;if("function"==typeof options&&(listener=a,options=null),"function"!=typeof listener)throw Error('"watchFile()" requires a listener function');var interval=5007,persistent=!0;options&&"object"==typeof options&&("number"==typeof options.interval&&(interval=options.interval),"boolean"==typeof options.persistent&&(persistent=options.persistent));var watcher=this.statWatchers[filename];return watcher||((watcher=new this.StatWatcher).start(filename,persistent,interval),this.statWatchers[filename]=watcher),watcher.addListener("change",listener),watcher},Volume.prototype.unwatchFile=function(path,listener){var filename=pathToFilename(path),watcher=this.statWatchers[filename];watcher&&("function"==typeof listener?watcher.removeListener("change",listener):watcher.removeAllListeners("change"),0===watcher.listenerCount("change")&&(watcher.stop(),delete this.statWatchers[filename]))},Volume.prototype.createReadStream=function(path,options){return new this.ReadStream(path,options)},Volume.prototype.createWriteStream=function(path,options){return new this.WriteStream(path,options)},Volume.prototype.watch=function(path,options,listener){var filename=pathToFilename(path),givenOptions=options;"function"==typeof options&&(listener=options,givenOptions=null);var _a=getDefaultOpts(givenOptions),persistent=_a.persistent,recursive=_a.recursive,encoding=_a.encoding;void 0===persistent&&(persistent=!0),void 0===recursive&&(recursive=!1);var watcher=new this.FSWatcher;return watcher.start(filename,persistent,recursive,encoding),listener&&watcher.addListener("change",listener),watcher},Volume.fd=2147483647,Volume}();function emitStop(self){self.emit("stop")}exports.Volume=Volume;var pool,StatWatcher=function(_super){function StatWatcher(vol){var _this=_super.call(this)||this;return _this.onInterval=function(){try{var stats=_this.vol.statSync(_this.filename);_this.hasChanged(stats)&&(_this.emit("change",stats,_this.prev),_this.prev=stats)}finally{_this.loop()}},_this.vol=vol,_this}return __extends(StatWatcher,_super),StatWatcher.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},StatWatcher.prototype.hasChanged=function(stats){return stats.mtimeMs>this.prev.mtimeMs||stats.nlink!==this.prev.nlink},StatWatcher.prototype.start=function(path,persistent,interval){void 0===persistent&&(persistent=!0),void 0===interval&&(interval=5007),this.filename=pathToFilename(path),this.setTimeout=persistent?setTimeout.bind("undefined"!=typeof globalThis?globalThis:commonjsGlobal):setTimeoutUnref_1.default,this.interval=interval,this.prev=this.vol.statSync(this.filename),this.loop()},StatWatcher.prototype.stop=function(){clearTimeout(this.timeoutRef),process_1.default.nextTick(emitStop,this)},StatWatcher}(events_1.EventEmitter);function FsReadStream(vol,path,options){if(!(this instanceof FsReadStream))return new FsReadStream(vol,path,options);if(this._vol=vol,void 0===(options=Object.assign({},getOptions(options,{}))).highWaterMark&&(options.highWaterMark=65536),stream_1.Readable.call(this,options),this.path=pathToFilename(path),this.fd=void 0===options.fd?null:options.fd,this.flags=void 0===options.flags?"r":options.flags,this.mode=void 0===options.mode?438:options.mode,this.start=options.start,this.end=options.end,this.autoClose=void 0===options.autoClose||options.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function closeOnOpen(fd){this.close()}function FsWriteStream(vol,path,options){if(!(this instanceof FsWriteStream))return new FsWriteStream(vol,path,options);if(this._vol=vol,options=Object.assign({},getOptions(options,{})),stream_1.Writable.call(this,options),this.path=pathToFilename(path),this.fd=void 0===options.fd?null:options.fd,this.flags=void 0===options.flags?"w":options.flags,this.mode=void 0===options.mode?438:options.mode,this.start=options.start,this.autoClose=void 0===options.autoClose||!!options.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}options.encoding&&this.setDefaultEncoding(options.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}exports.StatWatcher=StatWatcher,util.inherits(FsReadStream,stream_1.Readable),exports.ReadStream=FsReadStream,FsReadStream.prototype.open=function(){var self=this;this._vol.open(this.path,this.flags,this.mode,(function(er,fd){if(er)return self.autoClose&&self.destroy&&self.destroy(),void self.emit("error",er);self.fd=fd,self.emit("open",fd),self.read()}))},FsReadStream.prototype._read=function(n){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(n)}));if(!this.destroyed){var poolSize;(!pool||pool.length-pool.used<128)&&(poolSize=this._readableState.highWaterMark,(pool=(0,buffer_1.bufferAllocUnsafe)(poolSize)).used=0);var thisPool=pool,toRead=Math.min(pool.length-pool.used,n),start=pool.used;if(void 0!==this.pos&&(toRead=Math.min(this.end-this.pos+1,toRead)),toRead<=0)return this.push(null);var self=this;this._vol.read(this.fd,pool,pool.used,toRead,this.pos,(function(er,bytesRead){if(er)self.autoClose&&self.destroy&&self.destroy(),self.emit("error",er);else{var b=null;bytesRead>0&&(self.bytesRead+=bytesRead,b=thisPool.slice(start,start+bytesRead)),self.push(b)}})),void 0!==this.pos&&(this.pos+=toRead),pool.used+=toRead}},FsReadStream.prototype._destroy=function(err,cb){this.close((function(err2){cb(err||err2)}))},FsReadStream.prototype.close=function(cb){var _a,_this=this;if(cb&&this.once("close",cb),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",closeOnOpen):process_1.default.nextTick((function(){return _this.emit("close")}));"boolean"==typeof(null===(_a=this._readableState)||void 0===_a?void 0:_a.closed)?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,(function(er){er?_this.emit("error",er):_this.emit("close")})),this.fd=null},util.inherits(FsWriteStream,stream_1.Writable),exports.WriteStream=FsWriteStream,FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(er,fd){if(er)return this.autoClose&&this.destroy&&this.destroy(),void this.emit("error",er);this.fd=fd,this.emit("open",fd)}.bind(this))},FsWriteStream.prototype._write=function(data,encoding,cb){if(!(data instanceof buffer_1.Buffer||data instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(data,encoding,cb)}));var self=this;this._vol.write(this.fd,data,0,data.length,this.pos,(function(er,bytes){if(er)return self.autoClose&&self.destroy&&self.destroy(),cb(er);self.bytesWritten+=bytes,cb()})),void 0!==this.pos&&(this.pos+=data.length)},FsWriteStream.prototype._writev=function(data,cb){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(data,cb)}));for(var self=this,len=data.length,chunks=new Array(len),size=0,i=0;i<len;i++){var chunk=data[i].chunk;chunks[i]=chunk,size+=chunk.length}var buf=buffer_1.Buffer.concat(chunks);this._vol.write(this.fd,buf,0,buf.length,this.pos,(function(er,bytes){if(er)return self.destroy&&self.destroy(),cb(er);self.bytesWritten+=bytes,cb()})),void 0!==this.pos&&(this.pos+=size)},FsWriteStream.prototype.close=function(cb){var _a,_this=this;if(cb&&this.once("close",cb),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",closeOnOpen):process_1.default.nextTick((function(){return _this.emit("close")}));"boolean"==typeof(null===(_a=this._writableState)||void 0===_a?void 0:_a.closed)?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,(function(er){er?_this.emit("error",er):_this.emit("close")})),this.fd=null},FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy,FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;var FSWatcher=function(_super){function FSWatcher(vol){var _this=_super.call(this)||this;return _this._filename="",_this._filenameEncoded="",_this._recursive=!1,_this._encoding=encoding_1.ENCODING_UTF8,_this._listenerRemovers=new Map,_this._onParentChild=function(link){link.getName()===_this._getName()&&_this._emit("rename")},_this._emit=function(type){_this.emit("change",type,_this._filenameEncoded)},_this._persist=function(){_this._timer=setTimeout(_this._persist,1e6)},_this._vol=vol,_this}return __extends(FSWatcher,_super),FSWatcher.prototype._getName=function(){return this._steps[this._steps.length-1]},FSWatcher.prototype.start=function(path,persistent,recursive,encoding){var _this=this;void 0===persistent&&(persistent=!0),void 0===recursive&&(recursive=!1),void 0===encoding&&(encoding=encoding_1.ENCODING_UTF8),this._filename=pathToFilename(path),this._steps=filenameToSteps(this._filename),this._filenameEncoded=(0,encoding_1.strToEncoding)(this._filename),this._recursive=recursive,this._encoding=encoding;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(err){var error=new Error("watch ".concat(this._filename," ").concat(err.code));throw error.code=err.code,error.errno=err.code,error}var watchLinkNodeChanged=function(link){var _a,filepath=link.getPath(),node=link.getNode(),onNodeChange=function(){return _this.emit("change","change",relative(_this._filename,filepath))};node.on("change",onNodeChange);var removers=null!==(_a=_this._listenerRemovers.get(node.ino))&&void 0!==_a?_a:[];removers.push((function(){return node.removeListener("change",onNodeChange)})),_this._listenerRemovers.set(node.ino,removers)},watchLinkChildrenChanged=function(link){var _a,node=link.getNode(),onLinkChildAdd=function(l){_this.emit("change","rename",relative(_this._filename,l.getPath())),setTimeout((function(){watchLinkNodeChanged(l),watchLinkChildrenChanged(l)}))},onLinkChildDelete=function(l){var removeLinkNodeListeners=function(curLink){var ino=curLink.getNode().ino,removers=_this._listenerRemovers.get(ino);removers&&(removers.forEach((function(r){return r()})),_this._listenerRemovers.delete(ino)),Object.values(curLink.children).forEach((function(childLink){childLink&&removeLinkNodeListeners(childLink)}))};removeLinkNodeListeners(l),_this.emit("change","rename",relative(_this._filename,l.getPath()))};Object.entries(link.children).forEach((function(_a){var name=_a[0],childLink=_a[1];childLink&&"."!==name&&".."!==name&&watchLinkNodeChanged(childLink)})),link.on("child:add",onLinkChildAdd),link.on("child:delete",onLinkChildDelete),(null!==(_a=_this._listenerRemovers.get(node.ino))&&void 0!==_a?_a:[]).push((function(){link.removeListener("child:add",onLinkChildAdd),link.removeListener("child:delete",onLinkChildDelete)})),recursive&&Object.entries(link.children).forEach((function(_a){var name=_a[0],childLink=_a[1];childLink&&"."!==name&&".."!==name&&watchLinkChildrenChanged(childLink)}))};watchLinkNodeChanged(this._link),watchLinkChildrenChanged(this._link);var parent=this._link.parent;parent&&(parent.setMaxListeners(parent.getMaxListeners()+1),parent.on("child:delete",this._onParentChild)),persistent&&this._persist()},FSWatcher.prototype.close=function(){clearTimeout(this._timer),this._listenerRemovers.forEach((function(removers){removers.forEach((function(r){return r()}))})),this._listenerRemovers.clear();var parent=this._link.parent;parent&&parent.removeListener("child:delete",this._onParentChild)},FSWatcher}(events_1.EventEmitter);exports.FSWatcher=FSWatcher}(volume);var lists={};Object.defineProperty(lists,"__esModule",{value:!0}),lists.fsAsyncMethods=lists.fsSyncMethods=lists.fsProps=void 0,lists.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],lists.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"],lists.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"],function(module,exports){var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fs=exports.createFsFromVolume=exports.vol=exports.Volume=void 0;var Stats_1=Stats$1,Dirent_1=Dirent$1,volume_1=volume,_a=lists,fsSyncMethods=_a.fsSyncMethods,fsAsyncMethods=_a.fsAsyncMethods,constants_1=constants,F_OK=constants_1.constants.F_OK,R_OK=constants_1.constants.R_OK,W_OK=constants_1.constants.W_OK,X_OK=constants_1.constants.X_OK;function createFsFromVolume(vol){for(var fs={F_OK:F_OK,R_OK:R_OK,W_OK:W_OK,X_OK:X_OK,constants:constants_1.constants,Stats:Stats_1.default,Dirent:Dirent_1.default},_i=0,fsSyncMethods_1=fsSyncMethods;_i<fsSyncMethods_1.length;_i++)"function"==typeof vol[method=fsSyncMethods_1[_i]]&&(fs[method]=vol[method].bind(vol));for(var _a=0,fsAsyncMethods_1=fsAsyncMethods;_a<fsAsyncMethods_1.length;_a++){var method;"function"==typeof vol[method=fsAsyncMethods_1[_a]]&&(fs[method]=vol[method].bind(vol))}return fs.StatWatcher=vol.StatWatcher,fs.FSWatcher=vol.FSWatcher,fs.WriteStream=vol.WriteStream,fs.ReadStream=vol.ReadStream,fs.promises=vol.promises,fs._toUnixTimestamp=volume_1.toUnixTimestamp,fs}exports.Volume=volume_1.Volume,exports.vol=new volume_1.Volume,exports.createFsFromVolume=createFsFromVolume,exports.fs=createFsFromVolume(exports.vol),module.exports=__assign(__assign({},module.exports),exports.fs),module.exports.semantic=!0}(lib$1,lib$1.exports);var libExports=lib$1.exports,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(fs,"__esModule",{value:!0});var fs_1=__importDefault$1(libExports),util_1=__importDefault$1(util$2);fs.default={existsSync:fs_1.default.existsSync,readFile:util_1.default.promisify(fs_1.default.readFile),watchFile:fs_1.default.watchFile};var ip={},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(ip,"__esModule",{value:!0});var net_1=__importDefault(require$$0$1),hex=v=>2===(v=parseInt(v,10).toString(16)).length?v:"0"+v;ip.default={bitAt:(rawAddress,idx)=>{var bitIdx=7^7&idx;return rawAddress[idx>>3]>>>bitIdx&1},parse:ip=>-1===ip.indexOf(":")?(input=>{var ip=input.split(".",4);return[parseInt(ip[0]),parseInt(ip[1]),parseInt(ip[2]),parseInt(ip[3])]})(ip):(ip=>{var i,parsed,chunk,addr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];ip.indexOf(".")>-1&&(ip=ip.replace(/(\d+)\.(\d+)\.(\d+)\.(\d+)/,((match,a,b,c,d)=>hex(a)+hex(b)+":"+hex(c)+hex(d))));var[left,right]=ip.split("::",2);if(left)for(parsed=left.split(":"),i=0;i<parsed.length;i++)chunk=parseInt(parsed[i],16),addr[2*i]=chunk>>8,addr[2*i+1]=255&chunk;if(right){var offset=16-2*(parsed=right.split(":")).length;for(i=0;i<parsed.length;i++)chunk=parseInt(parsed[i],16),addr[offset+2*i]=chunk>>8,addr[offset+(2*i+1)]=255&chunk}return addr})(ip),validate:ip=>{var version=net_1.default.isIP(ip);return 4===version||6===version}};var isGzip={};Object.defineProperty(isGzip,"__esModule",{value:!0}),isGzip.default=buf=>!(!buf||buf.length<3)&&31===buf[0]&&139===buf[1]&&8===buf[2];var utils={};Object.defineProperty(utils,"__esModule",{value:!0}),utils.default={concat2:(a,b)=>a<<8|b,concat3:(a,b,c)=>a<<16|b<<8|c,concat4:(a,b,c,d)=>a<<24|b<<16|c<<8|d,legacyErrorMessage:"Maxmind v2 module has changed API.\nUpgrade instructions can be found here: https://github.com/runk/node-maxmind/wiki/Migration-guide\nIf you want to use legacy libary then explicitly install maxmind@1"},function(exports){var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Reader=exports.validate=exports.init=exports.openSync=exports.open=void 0;var assert_1=__importDefault(requireAssert()),mmdb_lib_1=lib$2;Object.defineProperty(exports,"Reader",{enumerable:!0,get:function(){return mmdb_lib_1.Reader}});var tiny_lru_1=tinyLru,fs_1=__importDefault(fs),ip_1=__importDefault(ip),is_gzip_1=__importDefault(isGzip),utils_1=__importDefault(utils);exports.open=async(filepath,opts,cb)=>{var _a;(0,assert_1.default)(!cb,utils_1.default.legacyErrorMessage);var database=await fs_1.default.readFile(filepath);if((0,is_gzip_1.default)(database))throw new Error("Looks like you are passing in a file in gzip format, please use mmdb database instead.");var cache=(0,tiny_lru_1.lru)((null===(_a=null==opts?void 0:opts.cache)||void 0===_a?void 0:_a.max)||6e4),reader=new mmdb_lib_1.Reader(database,{cache:cache});if(opts&&opts.watchForUpdates){if(opts.watchForUpdatesHook&&"function"!=typeof opts.watchForUpdatesHook)throw new Error("opts.watchForUpdatesHook should be a function");var watcherOptions={persistent:!0!==opts.watchForUpdatesNonPersistent};fs_1.default.watchFile(filepath,watcherOptions,(async()=>{if(await(async()=>{for(var i=0;i<3;i++){if(fs_1.default.existsSync(filepath))return!0;await new Promise((a=>setTimeout(a,500)))}return!1})()){var updatedDatabase=await fs_1.default.readFile(filepath);cache.clear(),reader.load(updatedDatabase),opts.watchForUpdatesHook&&opts.watchForUpdatesHook()}}))}return reader},exports.openSync=()=>{throw new Error(utils_1.default.legacyErrorMessage)},exports.init=()=>{throw new Error(utils_1.default.legacyErrorMessage)},exports.validate=ip_1.default.validate,__exportStar(lib$2,exports),exports.default={init:exports.init,open:exports.open,openSync:exports.openSync,validate:ip_1.default.validate}}(lib$3);class ClientLocation{constructor({language:language="en",mmdb:mmdb="maxmind/GeoLite2-City.mmdb"}={}){this._initialized=!1,this.name="ClientLocation",this._language=language,this._mmdb=mmdb}async patch(next,events,tracker){var _a,_b,_c,_d,_e,_f,_g,_h,_i,_j;if(!this._initialized)throw new Error("Not initialized");if(!(null==(_a=tracker.consent)?void 0:_a.active))return events;var env=tracker.env,country="NA",ip=tracker.clientIp;if(ip){var clientHash=env.hash(tracker.clientIp);if((null==(_b=tracker.vars.mx)?void 0:_b.value)!==clientHash){var location=this.filterNames(null==(_c=this._reader)?void 0:_c.get(ip));tracker.requestItems.set(ClientLocation.name,this.filterNames(location,this._language)),location&&(events=[...events,cast({type:"SESSION_LOCATION",accuracy:null==(_d=location.location)?void 0:_d.accuracy_radius,session:{sessionId:tracker.session.id,timestamp:tracker.session.started,deviceId:tracker.device.id,username:tracker._clientState.username},city:location.city?{name:location.city.names[this._language],geonames:location.city.geoname_id,confidence:location.city.confidence}:void 0,zip:null==(_e=location.postal)?void 0:_e.code,subdivision:location.subdivisions?location.subdivisions.map((sub=>({name:sub.names[this._language],geonames:sub.geoname_id,iso:sub.iso_code,confidence:sub.confidence})))[0]:void 0,country:location.country?{name:location.country.names[this._language],geonames:location.country.geoname_id,iso:location.country.iso_code}:void 0,continent:location.continent?{name:location.continent.names[this._language],geonames:location.continent.geoname_id,iso:location.continent.code}:void 0,lat:null==(_f=location.location)?void 0:_f.latitude,lng:null==(_g=location.location)?void 0:_g.longitude,tags:[`maxmind:build-epoch=${null==(_h=this._reader)?void 0:_h.metadata.buildEpoch}`]})]),country=null!=(_j=null==(_i=null==location?void 0:location.country)?void 0:_i.names[this._language])?_j:"NA",tracker.vars.mx={scope:"session",essential:!1,critical:!0,value:clientHash}}}return tracker.vars.country={scope:"session",essential:!1,client:!0,value:country},await next(events)}filterNames(parent,language="en"){var _a;if("object"==typeof parent){for(var p in parent){var value=parent[p];"object"==typeof value&&("names"!==p?this.filterNames(value):(null!=(_a=value[language])?_a:value.en)&&(parent[p]={[language]:value[language]}))}return parent}}async initialize(host){if(this._initialized!=(this._initialized=!0)){var createReader=async watch=>{var data=await host.read(this._mmdb,watch?async()=>await createReader(!1):void 0);this._reader=data?new lib$3.Reader(buffer$1.Buffer.from(data)):null,null==this._reader&&host.log({level:"error",group:"maxmind",data:`'${this._mmdb}' could not be loaded from the environment host.`})};await createReader(!0)}}}export{ClientLocation};
