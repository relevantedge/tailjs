(()=>{"use strict";var n,i,o=".tail.rs",e=(...e)=>t=>t?.type&&e.some(e=>e===t?.type),V=e=>e&&"string"==typeof e.type,W=e("VIEW"),l=e("VIEW_ENDED"),B=e("CONSENT"),u=e=>e?.toLowerCase().replace(/[^a-zA-Z0-9:.-]/g,"_").split(":").filter(e=>e)??[],f=(e,t,i)=>{if(!e)return[];if(Array.isArray(e)&&(e=e.join(",")),/(?<!(?<!\\)\\)%[A-Z0-9]{2}/.test(e))try{e=decodeURIComponent(e.replace(/([^=&]+)(?:\=([^&]+))?(&|$)/g,(e,t,r,n)=>[t,r&&`="${r.replace(/(?<!(?<!\\)\\)("|%22)/g,'\\"')}"`,n&&","].join("")))}catch{}var o,s=[],l=u(t);return e.replace(/\s*(\s*(?=\=)|(?:\\.|[^,=\r\n])+)\s*(?:\=\s*(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)'|((?:\\.|[^,])*)))?\s*(?:[,\s]+|$)/g,(e,t,r,n,a)=>{r=r||n||a,n=u(t);return l.length&&(1===n.length&&(r=r||n.pop()),n=l.concat(n)),n.length&&(s.push(o={ranks:n,value:r||void 0}),i?.add(null==(a=o)?a:""+a.ranks.join(":")+(a.value?"="+a.value.replace(/,/g,"\\,"):""))),""}),s},w=void 0,A=null,T=!0,E=!1,d=Object.fromEntries,L=Object.assign,H=setTimeout,G=parseInt,K=Number.MAX_SAFE_INTEGER,X="undefined"==typeof window,x=window,m=document,Z=navigator,J=m.body,k=location,Y=performance,b=(e,t,r)=>console.error(...R([e??r?.message??r??"error",t,r])),a=(e,t=0)=>(se(t)?--t:t)<0?e:(t=Math.pow(10,t),Math.round(e*t)/t),Q=e=>e==A?A:decodeURIComponent(e),ee=e=>e==A?A:encodeURIComponent(e),te={},re=(t,...e)=>e.some(t==A?e=>e==A:e=>t===e),ne=e=>e?.toLowerCase()??e,ae=(e,t,r=null)=>e&&t?e+" "+t:(e||t)??r,ie=["s","b","n","f","o"],oe=(e,t)=>5===e?Array.isArray(t):t!=A&&ie[e]===(typeof t)[0]||6===e&&t.exec,e=(n,a)=>(e,t,...r)=>void 0===t?oe(n,e):oe(n,e)?e:t?a?.(e,t,...r):void 0,se=e(1,e=>"0"!==e&&"false"!==e&&"no"!==e&&!!e),I=e(0,e=>e?.toString()),S=e(3,e=>{}),le=e(4),N=e(5,e=>ce(e)?[...e]:void 0),ce=e=>e&&!I(e)&&!!e[Symbol.iterator],ue=(e,r=e=>e)=>(e?.sort((e,t)=>r(e)-r(t)),e),fe=(e,t,r,...n)=>e&&(r!=A?e.splice(t,r,...n):e.splice(t)),de=(e,...t)=>(e?.unshift(...t),e),he=e=>e?.shift(),C=(e,...t)=>(e?.push(...t),e),me=(...e)=>U(e=R(e))<2?M(e[0]):[].concat(...M(e,M)),U=e=>e==A?0:e.length??e.size??(le(e)?ge(e).length:0),O=(e,r)=>e?N(e)?M(e,(e,t)=>r?r(t,e):[t,e]):M(e.entries?.()??Object.entries(e),r):[],ge=(e,t)=>e?M(e.keys?.()??Object.keys(e),t):[],pe=(e,t)=>e?M(e.values?.()??Object.values(e),t):[],h=(e,t,r)=>{if(ye!=A&&U(ce(e)?e:e=[e])){var n,a=(...e)=>(i=0,U(e)?e[0]:r),i=0;for(n of e)if(r=t(n,i++,a,r),!i)break}return r},M=(e,r)=>e==A?[]:S(r)?M(e,E).map((e,t)=>r(e,t)):N(e)&&!r?e:ce(e)?[...e]:[e],ve=(e,r=e=>e)=>e==A?[]:R(M(e,E)).flatMap((e,t)=>r(e,t)),ye=(e,t=0)=>e==A?void 0:((e=null==e.length?M(e):e).item,e[t<0?e.length+t:t]),R=(e,r,t=se(r)||E)=>(e=M(e).filter((e,t)=>(S(r,!0)??(e=>e!=A))(e,t)),t&&!U(e)?A:e),we=(e,n=e=>e!=A&&e!==E)=>e!=A&&(ce(e)||(e=[e]))&&(n?h(e,(e,t,r)=>n(e,t)&&r(T),E):!!U(e)),F=e=>new Set(e),be=(t,...e)=>(t!=A&&(t.clear?t.clear(...e):N(t)?t.length=0:ge(t,e=>$(t,e))),t),g=(e,t)=>e.get?.(t)??e?.has(t)??e?.[t],$=(t,e)=>t?N(e)?(h(e,e=>t.delete?.(e)??delete t[e]),t):null!=(n=t.has?.(e))?n?(n=t.get?.(e),t.delete(e),n??T):void 0:(n=t[e],delete t[e],n):void 0,Ae=(e,t,r=void 0)=>e.add?(n=e.has(t))===(r??=T)?E:(r?e.add(t):$(e,t),T):(n=e.get?.(t)??e[t],(r=S(r)?r(n):r)===n?E:(void 0===r?$(e,t):e.set?.(t,r)??(e[t]=r),T)),Te=(e,t,r)=>e.has?.(t)?e.get?.(t):(n=r(t),e.set?.(t,n)?n:e[t]??=r(t)),Ee=(e,t,r)=>r?L(Ee(e,t),r):t?d(R(O(e,t))):e,xe=(...e)=>e.length?new Promise(e[0]):Promise.resolve(),ke=Symbol(),Ie=Symbol(),Se=e=>{var n=A,t=A,a=w,r=()=>{a=w;var r=A;t=xe(t=>{n=r=e=>r&&(r=A,t(a=e))}),e&&lt(e).then(()=>r?.(Ie))},i=(r(),L((...e)=>U(e)?(e[0]===ke?e[1]===T&&a===w||r():n(e[0]),i):a,{then:(...e)=>t.then(...e)}));return i},Ne=(e,t,r,n)=>e&&t&&(r?(N(n)?Ne(e,t,(...e)=>(i=r(...e))!=A&&C(n,i)):e.replace(t,(...e)=>(n=r(...e),"")),n):e.match(t)),Ce=e=>e.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),Ue=/\z./g,Oe=(e,t)=>{return(t=Fe((e=[R(e,U)],M(F(R(me(...e))))),"|"))?new RegExp(t,"gu"):Ue},Me={},Re=e(6,(e,n=[","," "])=>Re(e)?e:N(e)?Oe(M(e,e=>Re(e,!1,n)?.source)):se(e)?e?/./g:Ue:I(e)?Me[e]??=Ne(e||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,r)=>t?new RegExp(t,"gu"):Oe(M(p(r,new RegExp(`?<!(?<!\\)\\)[${Fe(M(n,Ce))}]/`)),e=>e&&`^${Fe(M(p(e,/(?<!(?<!\\)\\)\*/),e=>Ce(v(e,/\\(.)/g,"$1"))),".*")}$`))):w),p=(e,t)=>e?.split(t)??e,v=(e,t,r)=>e?.replace(t,r)??e,Fe=(e,t="")=>e?.join(t)??e,$e=e=>void 0===e,De=Array.isArray,_e=e=>e&&"object"==typeof e,qe=e=>"symbol"==typeof e,je=e=>e?.[Symbol.iterator]&&!("string"==typeof e),ze=[],Pe=[],Ve=(e,t=0)=>e.charCodeAt(t);[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,t)=>ze[Pe[t]=e.charCodeAt(0)]=t);var We={32:[0x811c9dc5n,0x01000193n],64:[0xcbf29ce484222325n,0x100000001b3n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},Be=(e=256)=>e*Math.random()|0,e={exports:{}};function Le(e,i){if(i&&i.multiple&&!Array.isArray(e))throw new Error("Invalid argument type: Expected an Array to serialize multiple values.");var o,s,l=4294967296,n=new Uint8Array(128),a=0;if(i&&i.multiple)for(var t=0;t<e.length;t++)c(e[t]);else c(e);return n.subarray(0,a);function c(e,t){switch(typeof e){case"undefined":u();break;case"boolean":d(e?195:194);break;case"number":n=e,isFinite(n)&&Math.floor(n)===n?!(n<0||127<n)||n<0&&-32<=n?d(n):0<n&&n<=255?h([204,n]):n<-128||127<n?0<n&&n<=65535?h([205,n>>>8,n]):n<-32768||32767<n?0<n&&n<=4294967295?h([206,n>>>24,n>>>16,n>>>8,n]):n<-2147483648||2147483647<n?0<n&&n<=0x10000000000000000?h([211,(a=n/l)>>>24,a>>>16,a>>>8,a,(a=n%l)>>>24,a>>>16,a>>>8,a]):n<-0x8000000000000000||0x8000000000000000<n?h(n<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):(d(211),m(n)):h([210,n>>>24,n>>>16,n>>>8,n]):h([209,n>>>8,n]):h([208,n]):(s||(o=new ArrayBuffer(8),s=new DataView(o)),s.setFloat64(0,n),d(203),h(new Uint8Array(o)));break;case"string":31<(n=(a=(e=>{for(var t=!0,r=e.length,n=0;n<r;n++)if(127<e.charCodeAt(n)){t=!1;break}for(var a=0,i=new Uint8Array(e.length*(t?1:4)),o=0;o!==r;o++){var s=e.charCodeAt(o);if(s<128)i[a++]=s;else{if(s<2048)i[a++]=s>>6|192;else{if(55295<s&&s<56320){if(++o>=r)throw new Error("UTF-8 encode: incomplete surrogate pair");var l=e.charCodeAt(o);if(l<56320||57343<l)throw new Error("UTF-8 encode: second surrogate character 0x"+l.toString(16)+" at index "+o+" out of range");i[a++]=(s=65536+((1023&s)<<10)+(1023&l))>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}}return t?i:i.subarray(0,a)})(e)).length)?h(255<n?65535<n?[219,n>>>24,n>>>16,n>>>8,n]:[218,n>>>8,n]:[217,n]):d(160+n),h(a);break;case"object":null===e?u():e instanceof Date?(a=(n=e).getTime()/1e3,0===n.getMilliseconds()&&0<=a&&a<4294967296?h([214,255,a>>>24,a>>>16,a>>>8,a]):0<=a&&a<17179869184?h([215,255,(r=1e6*n.getMilliseconds())>>>22,r>>>14,r>>>6,r<<2>>>0|a/l,a>>>24,a>>>16,a>>>8,a]):(h([199,12,255,(r=1e6*n.getMilliseconds())>>>24,r>>>16,r>>>8,r]),m(a))):Array.isArray(e)?f(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?(h(15<(r=(n=e).length)?65535<r?[198,r>>>24,r>>>16,r>>>8,r]:[197,r>>>8,r]:[196,r]),h(n)):(e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?f:e=>{var t,r=0;for(t in e)void 0!==e[t]&&r++;for(t in 15<r?h(65535<r?[223,r>>>24,r>>>16,r>>>8,r]:[222,r>>>8,r]):d(128+r),e){var n=e[t];void 0!==n&&(c(t),c(n))}})(e);break;default:if(t||!i||!i.invalidTypeReplacement)throw new Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.");"function"==typeof i.invalidTypeReplacement?c(i.invalidTypeReplacement(e),!0):c(i.invalidTypeReplacement,!0)}var r,n,a}function u(){d(192)}function f(e){var t=e.length;15<t?h(65535<t?[221,t>>>24,t>>>16,t>>>8,t]:[220,t>>>8,t]):d(144+t);for(var r=0;r<t;r++)c(e[r])}function d(e){if(n.length<a+1){for(var t=2*n.length;t<a+1;)t*=2;var r=new Uint8Array(t);r.set(n),n=r}n[a]=e,a++}function h(e){if(n.length<a+e.length){for(var t=2*n.length;t<a+e.length;)t*=2;var r=new Uint8Array(t);r.set(n),n=r}n.set(e,a),a+=e.length}function m(e){var t,e=e<0?(e++,t=~(Math.abs(e)/l),~(Math.abs(e)%l)):(t=e/l,e%l);h([t>>>24,t>>>16,t>>>8,t,e>>>24,e>>>16,e>>>8,e])}}function He(s,e){var t,a=4294967296,l=0;if("object"!=typeof(s=s instanceof ArrayBuffer?new Uint8Array(s):s)||void 0===s.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!s.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");if(s instanceof Uint8Array||(s=new Uint8Array(s)),e&&e.multiple)for(t=[];l<s.length;)t.push(n());else t=n();return t;function n(){var e=s[l++];if(0<=e&&e<=127)return e;if(128<=e&&e<=143)return u(e-128);if(144<=e&&e<=159)return f(e-144);if(160<=e&&e<=191)return d(e-160);if(192===e)return null;if(193===e)throw new Error("Invalid byte code 0xc1 found.");if(194===e)return!1;if(195===e)return!0;if(196===e)return o(-1,1);if(197===e)return o(-1,2);if(198===e)return o(-1,4);if(199===e)return h(-1,1);if(200===e)return h(-1,2);if(201===e)return h(-1,4);if(202===e)return r(4);if(203===e)return r(8);if(204===e)return c(1);if(205===e)return c(2);if(206===e)return c(4);if(207===e)return c(8);if(208===e)return i(1);if(209===e)return i(2);if(210===e)return i(4);if(211===e)return i(8);if(212===e)return h(1);if(213===e)return h(2);if(214===e)return h(4);if(215===e)return h(8);if(216===e)return h(16);if(217===e)return d(-1,1);if(218===e)return d(-1,2);if(219===e)return d(-1,4);if(220===e)return f(-1,2);if(221===e)return f(-1,4);if(222===e)return u(-1,2);if(223===e)return u(-1,4);if(224<=e&&e<=255)return e-256;throw console.debug("msgpack array:",s),new Error("Invalid byte value '"+e+"' at index "+(l-1)+" in the MessagePack binary data (length "+s.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function i(e){for(var t,r=0,n=!0;0<e--;)n?(r+=127&(t=s[l++]),128&t&&(r-=128),n=!1):r=(r*=256)+s[l++];return r}function c(e){for(var t=0;0<e--;)t=256*t+s[l++];return t}function r(e){var t=new DataView(s.buffer,l+s.byteOffset,e);return l+=e,4===e?t.getFloat32(0,!1):8===e?t.getFloat64(0,!1):void 0}function o(e,t){e<0&&(e=c(t));t=s.subarray(l,l+e);return l+=e,t}function u(e,t){e<0&&(e=c(t));for(var r={};0<e--;)r[n()]=n();return r}function f(e,t){e<0&&(e=c(t));for(var r=[];0<e--;)r.push(n());return r}function d(e,t){e<0&&(e=c(t));var t=l,r=(l+=e,s),n=e,a=t,i="";for(n+=t;a<n;){var o=r[a++];if(127<o)if(191<o&&o<224){if(n<=a)throw new Error("UTF-8 decode: incomplete 2-byte sequence");o=(31&o)<<6|63&r[a++]}else if(223<o&&o<240){if(n<=a+1)throw new Error("UTF-8 decode: incomplete 3-byte sequence");o=(15&o)<<12|(63&r[a++])<<6|63&r[a++]}else{if(o<=239||248<=o)throw new Error("UTF-8 decode: unknown multibyte start 0x"+o.toString(16)+" at index "+(a-1));if(n<=a+2)throw new Error("UTF-8 decode: incomplete 4-byte sequence");o=(7&o)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++]}if(65535<o){if(1114111<o)throw new Error("UTF-8 decode: code point 0x"+o.toString(16)+" exceeds UTF-16 reach");o-=65536,i=(i+=String.fromCharCode(o>>10|55296))+String.fromCharCode(1023&o|56320)}else i+=String.fromCharCode(o)}return i}function h(e,t){e<0&&(e=c(t));var r,n,t=c(1),e=o(e);if(255!==t)return{type:t,data:e};t=e;if(4===t.length)return n=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3],new Date(1e3*n);if(8===t.length)return r=(t[0]<<22>>>0)+(t[1]<<14>>>0)+(t[2]<<6>>>0)+(t[3]>>>2),n=(3&t[3])*a+(t[4]<<24>>>0)+(t[5]<<16>>>0)+(t[6]<<8>>>0)+t[7],new Date(1e3*n+r/1e6);if(12===t.length)return r=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3],l-=8,n=i(8),new Date(1e3*n+r/1e6);throw new Error("Invalid data length for a date value.")}}e.exports={serialize:Le,deserialize:He,encode:Le,decode:He};var Ge,Ke,Xe,Ze,Je,Ye,Qe=e.exports,et=new ArrayBuffer(8),tt=new DataView(et),rt=e=>{var[d,r,n]=(e=>{for(var t,n,r,a,i,o=0n,s=0n,l=[],c=0,u=0,f=0,d=0,h=[],f=0;f<e.length;d+=h[f]=Ve(e,f++));var m=e?()=>{l=[...h],u=255&(c=d),f=-1}:()=>{},g=e=>(u=255&(c+=-l[f=(f+1)%l.length]+(l[f]=e)),e);return[e?e=>{for(m(),t=e.length,a=16-(t+4)%16,i=new Uint8Array(4+t+a),r=0;r<3;i[r++]=g(Be()));for(i[r++]=g(u^16*Be(16)+a),n=0;n<t;i[r++]=g(u^e[n++]));for(;a--;)i[r++]=Be();return i}:e=>e,e?e=>{for(m(),n=0;n<3;g(e[n++]));if((t=e.length-4-((u^g(e[n++]))%16||16))<=0)return new Uint8Array(0);for(i=new Uint8Array(t),r=0;r<t;i[r++]=u^g(e[n++]));return i}:e=>e,(e,t=64)=>{if(null==e)return null;var r="boolean"==typeof t?64:t;for(m(),[o,s]=We[r],n=0;n<e.length;o=BigInt.asUintN(r,(o^BigInt(u^g(e[n++])))*s));return!0===t?Number(BigInt(Number.MIN_SAFE_INTEGER)+o%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):o.toString(36)}]})(e??"");return[e=>{for(var t,r,n,a,i,o,s,l=(d((i=(e,t,r=e[t],n=s(r))=>(r===n&&!qe(t)||(e[t]=n,o(()=>e[t]=r)),r),o=e=>(r??=[]).push(e),s=r=>null===r||$e(r)||"function"==typeof r||qe(r)?null:Number.isFinite(r)&&!Number.isSafeInteger(r)?(tt.setFloat64(0,r,!0),{"":[...new Uint32Array(et)]}):_e(r)?r.toJSON&&r!==(r=r.toJSON())?s(r):(a=(n??=new Map).get(r),$e(a)?(_e(r)&&!je(r)?(n.set(r,n.size+1),Object.keys(r).forEach(e=>($e(i(r,e))||qe(e))&&delete r[e])):je(r)&&(!De(r)||Object.keys(r).length<r.length?[...r]:r).forEach((e,t)=>t in r?i(r,t):(r[t]=null,o(()=>delete r[t]))),r):(r.$ref||(r.$ref=a,o(()=>delete r.$ref)),{$ref:a})):r,e=Qe.serialize(s(e)),r?.forEach(e=>e()),e))),c=0,u=l.length,f=[];c<u;)t=l[c++]<<16|l[c++]<<8|l[c++],f.push(Pe[(16515072&t)>>18],Pe[(258048&t)>>12],Pe[(4032&t)>>6],Pe[63&t]);return f.length+=u-c,String.fromCharCode(...f)},e=>{if(null==e)return null;if(e=r((e=>{for(var t,r=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);r<a;)i[n++]=ze[Ve(e,r++)]<<2|(t=ze[Ve(e,r++)])>>4,r<a&&(i[n++]=(15&t)<<4|(t=ze[Ve(e,r++)])>>2,r<a)&&(i[n++]=(3&t)<<6|ze[Ve(e,r++)]);return i})(e)),a=r=>_e(r)?De(r[""])&&2===(r=r[""]).length?new DataView(new Uint32Array(r).buffer).getFloat64(0,!0):r.$ref&&(n=(t??=[])[r.$ref])?n:(r.$ref&&delete(t[r.$ref]=r).$ref,Object.entries(r).forEach(([e,t])=>t!==(t=a(t))&&(r[e]=t)),r):r,null==e)return e;try{return a(Qe.deserialize(e))}catch(e){}var t,n,a},(e,t)=>n(Qe.serialize(e),t)]},[nt,,,]=rt(),[at,it]=rt(),[ot,st]=[null,null],D=(e=T,t)=>(t=X?Date.now():Y.timeOrigin+Y.now(),e?Math.trunc(t):t),lt=t=>xe(e=>H(e,t)),ct=e=>250<e?(e/1e3).toFixed(2)+"s":Math.round(e)+"ms",_=(e,t)=>{var n=0,r=e,a=null,i=()=>(r=w,n<0?clearInterval(-n):clearTimeout(n),n=0),o=(e,t)=>{i(),e&&(r=e,n=t<0?-setInterval(e,-t):H(()=>(r=w,e()),t))};return o.clear=(e,t,r=n)=>n&&(e?H(()=>n===r&&(i(),t?.()),e):(i(),t?.())),o.wait=t=>xe(e=>o(e,t)),o.pulse=()=>(r?.(),o),o.isActive=()=>r!=A,o.finish=()=>(a=r)&&(i(),a()),e&&o(e,t),o},ut=(t=()=>D(),e=T)=>{var r=0,n=e?t():0,e=e=>(n?r+=-n+(n=t()):e===T&&(n=t()),e===E&&(n=0),r);return e.reset=()=>(n=n&&t(),r=0),e},ft=(e,t=0)=>t?H(e,t):window.queueMicrotask(e),dt=e=>crypto.getRandomValues(e),ht=e=>(dt(e=new Uint32Array(2)),1048576*e[0]+(e[1]>>>12)),mt=new Uint32Array(2),gt=()=>ht(mt).toString(36),pt=(e,t)=>e.localeCompare(t,"en")<0?e:t,c=D().toString(36)+"-"+ht().toString(36),q={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,heartbeatFrequency:0,clientKey:null,apiKey:null,debug:!1,impressionThreshold:1e3,captureContextMenu:!0,defaultActivationTracking:"auto",tags:{default:["data-id","data-name"]}},vt=K,yt=(e,t,r=(e,t)=>vt<=t)=>{for(var n,a=0,i=E;1===e?.nodeType&&!r(e,a++)&&t(e,(e,t)=>(e!=A&&(n=e,i=t!==T&&n!=A),T),a-1)!==E&&!i;){var o=e;(e=e.parentElement)===A&&o?.ownerDocument!==m&&(e=o?.ownerDocument.defaultView?.frameElement)}return n},wt=(e,r)=>yt(e,(e,t)=>t(j(e,r))),j=(e,t,r)=>e?.getAttribute?r===w?e.getAttribute(t):(r===A?e.removeAttribute(t):e.setAttribute(t,r),r):A,bt=(e,t)=>getComputedStyle(e).getPropertyValue(t)||A,At=(e,t)=>(Ge={},M(R(O(t),([,e])=>e!=A),([e,[t,r=E]=[]])=>Ge[e]={writable:r,configurable:r,value:t}),Object.defineProperties(e,Ge)),Tt=e=>e!=A?e.tagName:A,Et=e=>({x:a(scrollX,e),y:a(scrollY,e)}),xt=(e,t)=>v(e,/#.*$/,"")===v(t,/#.*$/,""),kt=(e,t,r=T)=>(Xe=It(e,t))&&{xpx:Xe.x,ypx:Xe.y,x:a(Xe.x/J.offsetWidth,4),y:a(Xe.y/J.offsetHeight,4),pageFolds:r?Xe.y/x.innerHeight:w},It=(e,t)=>t?.pointerType&&t?.pageY!=A?{x:t.pageX,y:t.pageY}:e?({x:Ze,y:Je}=St(e),{x:Ze,y:Je}):w,St=e=>e?(Ye=e.getBoundingClientRect(),Ke=Et(E),{x:a(Ye.left+Ke.x),y:a(Ye.top+Ke.y),width:a(Ye.width),height:a(Ye.height)}):w,z=(n,e,a,i=T,o=T)=>{var s=[];return M(e,(e,t)=>{var r=e=>{a(e,s[t])};return C(s,()=>n.removeEventListener(e,r,i)),n.addEventListener(e,r,{capture:i,passive:o})}),()=>0<s.length&&M(s,e=>e())?(s=[],T):E},Nt=n=>n==A?w:Ne(n,/^(?:([a-zA-Z0-9]+):)?(?:\/\/)?([^\s\/]*)/,(e,t,r)=>r?{href:n.substring(e.length),domain:{protocol:t,domainName:r}}:{href:n}),Ct=()=>({...Ke=Et(T),width:x.innerWidth,height:x.innerHeight,totalWidth:J.offsetWidth,totalHeight:J.offsetHeight}),Ut=(e,t=e=>b(A,A,e),r)=>{var n=z(x,"error",e=>e.stopImmediatePropagation());try{return e()}catch(e){return t===E?w:S(t)?t(e):(C(t,e)??b(A,A,e),w)}finally{n(),r?.()}},e=p(""+m.currentScript.src,"#"),t=p(""+(e[1]||""),";"),Ot=e[0],Mt=t[1]||Nt(Ot)?.domain?.domainName,Rt=e=>!(!Mt||Nt(e)?.domain?.domainName.endsWith(Mt)!==T),Ft=(...e)=>v(Fe(e),/(^(?=\?))|(^\.(?=\/))/,Ot.split("?")[0]),$t=Ft("?","var"),Dt=Ft("?","mnt"),e=(Ft("?","usr"),(t=!1)=>{var r=F(),n=e=>()=>$(r,e),a=null;return[e=>(t&&a?e(...a,()=>{}):Ae(r,e),n(e)),(...t)=>h(r,e=>{e(...a=t,n(e))})]}),_t=Se(),[t,qt]=e(!0);t(()=>_t(!0));var jt,zt,Pt,Vt,Wt,Bt,Lt,Ht,Gt=new WeakMap(void 0),Kt=e=>g(Gt,e),Xt=(e,t=E)=>(t?"--track-":"track-")+e,Zt=(o,e,t,r,n,s)=>e?.[1]&&h(o?.getAttributeNames(),i=>e[0][i]??=(s=E,!I(r=h(e[1],([e,t,r],n,a)=>!(!i||!e)&&e.test(i)&&(s=void 0,!t||!!o?.matches(t))&&a(r??i)))||(n=o.getAttribute(i))&&!se(n,!1)||f(n,v(r,/\-/g,":"),t),s)),Jt=()=>{},Yt=(e,t)=>ae(bt(e,Xt(t,T)),bt(e,Xt("base-"+t,T)),""),Qt={},er=(e,r,t=E,n)=>(t?yt(e,(e,t)=>t(er(e,r,E)),S(t,E)):ae(j(e,Xt(r)),bt(e,Xt(r,T))))??(n&&(zt=Kt(e))&&n(zt))??A,tr=(e,t,r=E,n)=>""===(Pt=er(e,t,r,n))||(Pt==A?Pt:se(Pt,T)),rr=(e,t,i,o)=>e&&(((e,t,r=Yt(e,"attributes"))=>{Zt(e,Qt[r]??=[{},R(Ne(r,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,t,r,n)=>[Re(r||n,!1),,t],[]),T)],t),f(Yt(e,"tags"),void 0,t)})(e,o??=F()),yt(e,e=>{var t,r,n=e,a=o;(jt===(jt=q.tags)?Jt:(r=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...(t=e=>e?Re(e)?[[e]]:ce(e)?ve(e,t):[le(e)?[Re(e.match,!1),e.selector,e.prefix]:[Re(e,!1)]]:[])(pe(jt))]],Jt=(e,t)=>Zt(e,r,t)))(n,a),f(M(i?.(e)),void 0,o)},t),U(o))?{tags:[...o]}:{},nr=(e,t,r=!1)=>e?(Vt=(r?st:it)(e)).$?0<(Wt=+((Vt=Vt.$)[1]??0))&&Wt<D(E)?(t?.(),A):[Vt[0],Wt,Vt[2]]:[Vt]:A,r=(u,f,d)=>{var h=f?c:w,m=e=>()=>e&&u.removeItem(e),g=new Set,p=Object.assign((e,t,r)=>{var n,a,i,o,s,l,c;return S(e)?f?([n,l=E]=[e,t],a=(...e)=>n(...e)===E&&o?.(),o=()=>(o=A,f(i,T),g.delete(a)),f(i=({key:e,newValue:t,oldValue:r})=>(Bt=nr(t,m(e),d),Lt=nr(r,w,d),e&&a(e,Bt?.[0]??A,Lt?.[0]??A,Bt?.[2]??A))),l&&g.add(a),o):void 0:([s,l,e=0]=[e,t,r],l===w?nr(u.getItem(s),m(s),d)?.[0]??A:S(l)?p(s,l(p(s)),e):((c=l==A||e<0||([t,r,c=!1]=[l,e&&!u.supportsExpiry?D(T)+e:w,d],t==A)?A:(c?ot:at)(h||r?{$:[t,r,h]}:t))==A?u?.removeItem(s):u?.setItem(s,c,0<e?e:w),g.size&&(Bt=nr(c,w,d),Lt=nr(u.getItem(s),w,d),g.forEach(e=>e(s,Bt?.[0]??A,Lt?.[0]??A,Bt?.[2]??A))),l))});return p},ar={getItem:t=>(t=ee(t),Q(document.cookie.split(";").map(e=>e.split("=")).find(e=>e[0].trim()===t)?.[1]||A)),setItem:(e,t,r)=>document.cookie=`${ee(e)}=${ee(t??"")}; Path=/; SameSite=Lax`+(t&&r==A?"":"; Max-Age="+Math.round((r??0)/1e3)),removeItem:e=>ar.setItem(e,"",0),supportsExpiry:!0};r((Ht={},{getItem:e=>Ht[e],setItem:(e,t)=>Ht[e]=t,removeItem:e=>delete Ht[e]}));var ir,or=r(ar),sr=r(ar,w,!0),lr=r(sessionStorage),cr=r(localStorage,(e,t)=>t?window.removeEventListener("storage",e):window.addEventListener("storage",e),!0),r=(r,n,i)=>{var o=r="(t~c_"+r,s=e=>r+"!"+e,l=s(c),e=(a,...e)=>{var t=T;if(S(a))return cr((e,t,r,n)=>{if(t!=A&&n&&(e===o||e===l))return a(t,n,e===l)!==E},(e[0]??i)===T);e=R(e),M(U(e)?M(e,s):[r],e=>{t=E,cr(e,a),ft(()=>t!==(t=T)&&cr(e,A))})};return n&&e((e,t,r)=>n[he(e)]?.([t,r,t===c],...e)),e},ur=Symbol(),fr=F(),dr=new Map(void 0),hr=e=>!we(e[ur],e=>!g(fr,e)),mr=r("ss"),gr={},[pr,vr]=e(!0),yr=E,wr=_(),br=(t,e,r)=>(gr[t]?b("key",t):gr[t]=[e,r],e=>mr({[t]:e})),Ar=(t(()=>{wr(()=>(yr=T,vr()),75);var t=E;mr((r,e)=>1===r?mr(2,e):2===r?(t!==(t=T)&&mr(3,e),T):3===r?mr(d(O(gr,([e,[t]])=>[e,t()])),e):(O(gr,([e,[,t]])=>t(r[e])),wr.finish())),mr(1),z(window,"pageshow",()=>!t&&mr(1)),z(window,"pagehide",()=>t=E)}),{}),Tr={},Er={},xr=()=>{var e=Er;return Er={},e},kr={},Ir=e=>kr[e]??=[[],Se(2*q.requestTimeout)([T,0])],Sr=r=>O(Ar,([e,t])=>t&&Date.now()-t>r&&$(Ar,e)),Nr=()=>{return[t,...e]=[c,...ge(Ar)],0===e.length?t:1===e.length?pt(t,e[0]):(r=(e,t)=>pt(t,e),t=t,M(e).reduce((e,t)=>r(e,t),t));var e,r,t},s=r("cs",{1([e,t]){Ar[e]??=A,t||e===c||Ur||s([1],e)},2([e],t,r){Ar[e]=Date.now(),O(r,([e,t])=>Cr(e,t)),t||ge(Tr,e=>!we(pe(Ar),e=>!e)&&Nr()===c&&s([5,e,c,T]))},3(e,t){O(t,([e,t])=>Cr(e,t))},4(e,t){Fr(t)},5(e,r,t,n){var[a,i]=Ir(r),o=fe(a,0);c===t&&(async()=>{var e=U(o),t=!e||(await(async e=>{try{return await(S(e)?e():e)}catch(e){return console.error(e),await(S(void 0)?(void 0)(e):e)}finally{await 0}})(Tr[r]?.[0](o,n))??T);t||s([3,{[r]:o}]),i([t,e])})()},6:([e])=>(Sr(0),_r(e)),7:()=>_r(A)},T),Cr=(e,t)=>C(Ir(e)[0],...t),Ur=T,Or=A,Mr=async()=>{if(await Or,Ur!==(Ur=E)){Or=Se();try{be(Ar),s([1]),await lt(50)}finally{Or(T)}}},Rr=async e=>{Ur!==(Ur=T)&&(pe(Tr,e=>e[1]?.(T)),s([2,e,xr()]),zr(E))},Fr=async e=>{var t,r;return await Or,Ur?0:(t=Nr())!==c?(s([4,e],t),0):(t=Ir(e)[1],r=D(E),await t,t(ke),s([5,e,c,E]),(e=await t)!==Ie&&e[0]&&e[1]&&(e[0],e[1],ct(D(E)-r)),e[1])},$r=K,Dr=A,_r=e=>$r=(Dr=e??=Nr())===c?Math.min($r,D()+25):K,qr=()=>Or?.()===T&&(Sr(500),D()>$r),jr=E,zr=e=>jr!==(jr=e)&&e?s([6]):!e&&c===Dr&&s([7]),Pr=(t(()=>{z(x,"pageshow",()=>Mr()),z(document,"resume",()=>Mr()),Mr(),z(x,["beforeunload","pagehide"],()=>Rr(E)),z(document,"freeze",()=>Rr(T)),_(()=>qr()&&ge(Tr,e=>Fr(e)),-q.postFrequency),z(document,"visibilitychange",()=>zr("visible"===document.visibilityState)),z(x,"focus",()=>zr(T)),z(x,"blur",()=>zr(E)),zr("visible"===document.visibilityState)}),sr),[Vr,Wr]=e(),Br=r("req"),Lr=()=>Ut(()=>{return t=(e,t,r,n)=>(Pr(o,A),t?.[0],t?.[1]&&ct(D()-t[1]),Wr(e,n),Br(r?{error:r}:T),T),(e=Pr(o))&&t(...e);var e,t})||E,Hr=_(),Gr=()=>(qr()&&Lr(),Hr(Gr,Pr(".tail.rq")?25:500));t(()=>Gr());var Kr,[Xr,Zr]=e(),[Jr,Yr]=e(),[Qr,en]=(Tr.events=[async(e,t)=>{return U(e)?(await _t,t&&!Kr&&(t=E),Zr(e),t=t,r=`(${c??"(unknown)"})`,Lr(),a=!!Pr(".tail.rq"),await(!t&&a?E:(t=D(),Pr(".tail.rq",[r,t],q.requestTimeout),Pr(o,A),r=a,n=D(),t=nt([M(e,(e,t,r={...e,timestamp:Math.min(0,(e.timestamp??=n)-n)})=>{return(a=n=>h(O(n),([e,t],r)=>t==A||le(t)&&!a(t)?($(n,e),r):T))(r),r.type,r;var a}),[Kr,r]]),void(Z.sendBeacon($t,new Blob([t],{type:"text/plain"}))||b("post-failed",e))===E?(Pr(".tail.rq",A),T):await xe(t=>Br(e=>(t(e===T),E),T))))):E;var n,r,a},e=>{e&&Yr()}],[(...e)=>U(e)&&(C(Er.events??=[],...e),!Ur)&&ft(()=>U(Er)&&s([3,xr()])),()=>Fr("events")]),tn=br("affinity",()=>Kr,e=>Kr=e),rn=(Vr(e=>tn(Kr=e)),F()),nn=E,an=()=>{},on=t=>{var r=(e=T)=>$(rn,r)&&e&&t(nn);return rn.add(r),r};Jr(()=>{nn=T,M(rn,e=>e(T))});var y,sn,ln,cn,un,sr={id:"navigation",setup(y){var w=_(),b=an,t=v=>{z(v,["click","contextmenu","auxclick"],e=>{b?.(E);var r,n,a=A,i=E;if(yt(e.target,e=>{var t;a??=((e,t=Tt(e),r=tr(e,"button"))=>r!==E&&(re(t,"A","BUTTON")||"INPUT"===t&&re(ne(j(e,"type")),"button","submit")||r===T))(e)?e:A,i=i||"NAV"===Tt(e),r??=tr(e,"clicks",T,e=>e.track?.clicks)??((t=Kt(e)?.component)&&we(t,e=>e.track?.clicks!==E)),n??=tr(e,"region",T,e=>e.track?.region)??((t=Kt(e)?.component)&&we(t,e=>e.track?.region))}),a){var t=Un(a),o=In(a);r??=!i;var s,l,c={...(n??=T)?{pos:kt(a,e),viewport:Ct()}:A,...(c=e.target,s=a,yt(c??s,e=>re(Tt(e),"IMG")||e===s?(l={element:{tagName:e.tagName,text:j(e,"title")||j(e,"alt")||e.innerText?.trim().substring(0,100)||void 0}},E):T),l),...t,...o,timing:{}};if(((e,t="A"===Tt(e)&&j(e,"href"))=>t&&"#"!=t&&!t.startsWith("javascript:"))(a)){var t=a.hostname!==k.hostname,{domain:o,href:u}=Nt(a.href);if(a.host===k.host&&a.pathname===k.pathname&&a.search===k.search)return"#"===a.hash?void 0:void(a.hash!==k.hash&&C(y,{type:"ANCHOR_NAVIGATION",anchor:a.hash,...c}));var f={id:gt(),type:"NAVIGATION",href:t?a.href:u,external:t,domain:o,self:T,anchor:a.hash,...c};if("contextmenu"===e.type){var d=mn(f.id),h=a.href;if(!Rt(h)){if(!q.captureContextMenu)return;a.href=Ft(Dt,"=",ee(h)),Ut(()=>Z.userActivation?.isActive&&Z.clipboard.writeText(h))}var m=Date.now(),g=(or(".tail.cm",m,11e3),w(()=>{a.href=h,d()&&+or(".tail.cm")!==m+1||(or(".tail.cm",A),f.self=E,C(y,f),be(w))},-100),z(v,["keydown","keyup","visibilitychange","pointermove"],()=>g()&&be(w,1e4,()=>or(".tail.cm",""))))}else e.button<=1&&(1===e.button||e.ctrlKey||e.shiftKey||e.altKey||j(a,"target")!==x.name?(mn(f.id),f.self=E,C(y,f)):(xt(k.href,a.href)||(f.exit=f.external,mn(f.id)),b=on(()=>C(y,f))))}else{u=e.target,yt(u,(e,t)=>!!(p??=Tn(Kt(e)?.cart??er(e,"cart")))&&!p.item&&(p.item=ye(Kt(e)?.content,-1))&&t(p));var p,t=En(p);(t||r)&&C(y,t?{type:"CART_UPDATED",...c,...t}:{type:"COMPONENT_CLICK",...c})}}})};return t(m),yn(e=>e.contentDocument&&t(e.contentDocument)),{decorate(e){l(e)&&b(T)}}}},[fn,dn]=e(),hn=([ln,cn,r=T]=[cr,"ref",T],r&&(cn="(t~"+cn),un=(...e)=>ln(cn,...e),(r,e=E)=>{var t,n,a,i;return r===w?(t=A,un(e=>(e=R(e,e=>e[1]>D()),t=he(e)?.[0]??A,e)),t):(n=T,(a=t=>un(e=>t?M(e,e=>e[0]===r?(n=T,[r,D()+1e4]):e):C(e??[],[r,D()+1e4])))(e),(i=_())(()=>(a(T),n||i(),n),-5e3),()=>n)}),mn=e=>hn([y.id,e]),gn=ut(),pn=ut(),vn=ut(),[yn,wn]=e(),bn=new WeakSet,An=m.getElementsByTagName("iframe"),t={id:"context",setup(a){_(()=>h(An,e=>{return((t=bn).has(r=e)?E:(t.add(r),T))&&wn(e);var t,r}),-1e3).pulse();var i=T,r=1,o=E,s=lr("t",e=>(i=!e)?[gt(),D(),D(),0]:(e[2]=D(),e)),l=T,c=(br("first",()=>E,e=>{e||(l=E,y&&$(y,["firstTab","landingPage"]))}),an),u=an,f=A,n=(e=E)=>{var r,n,t;xt(""+f,f=k.href)&&!e||(c(),u(),gn.reset(),pn.reset(),vn.reset(),lr("t",()=>(s[2]=D(),++s[3],s)),{href:e,domain:t}=Nt(k.href)??{},y={type:"VIEW",timestamp:D(),id:gt(),tab:s[0],href:e,path:k.pathname,hash:k.hash||w,domain:t,tabIndex:s[3],viewport:{width:x.innerWidth,height:x.innerHeight}},dn(y.id),(y.firstTab=l)&&1===s[3]&&(y.landingPage=T),r=(e,t,r=p(e,t))=>1<r.length?r:A,(t=(e=v(k.href,/^[^?]*\??/,""))==A?e:(te={},Ne(e,/([^&=]+)(?:=([^&]+))?/g,(e,t,r)=>C(te[ne(Q(t))]??=[],Q(I(r,E)))),te))&&(n=y.queryString=Ee(t,([e,t])=>[e.toLowerCase(),!(1<t.length)&&(r(t[0],"|")||r(t[0],";")||r(t[0],","))||t]),M(["source","medium","campaign","term","content"],(e,t)=>(y.utm??={})[e]=n["utm_"+e]?.[0])),!(y.navigationType=sn)&&performance&&M(performance.getEntriesByType("navigation"),e=>{y.redirects=e.redirectCount,y.navigationType=v(e.type,/\_/g,"-")}),sn=w,"navigate"===(y.navigationType??="navigate")&&i&&Rt(m.referrer)&&(e=hn(),y.view=e?.[0],y.related=e?.[1]),(t=m.referrer||A)&&!Rt(t)&&(y.externalReferrer={href:t,domain:Nt(t)?.domain}),o=E,c=on(()=>(o=T,C(a,y),y?.firstTab&&C(a,{flush:T}))),u=on(()=>{C(a,{type:"VIEW_ENDED",timing:{}},{set:{view:w}}),i=E}),C(a,{get:{view:e=>y.definition=e,rendered(){_(c,100)}}}),a.push({get:{qd(e){var t,r,n;e&&qr()&&C(a,{type:"USER_AGENT",hasTouch:0<Z.maxTouchPoints,userAgent:Z.userAgent,view:y?.id,languages:M(Z.languages,(e,t,r=p(e,"-"))=>({id:e,language:r[0],region:r[1],primary:0===t,preference:t+1})),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:(new Date).getTimezoneOffset()},...(e=x?.screen,e?({width:e,height:t,orientation:n}=e,r=e<t,-90!==(n=n?.angle??x.orientation??0)&&90!==n||([e,t]=[t,e]),{deviceType:e<480?"mobile":1024<e?"desktop":"tablet",screen:{dpr:x.devicePixelRatio,width:e,height:t,landscape:r}}):{})})}}}))},e=_(),t=(z(m,["pointermove","scroll","pointerdown","keydown"],()=>{vn(T),e(()=>vn(E),1e4)}),z(m,"visibilitychange",()=>{"hidden"===m.visibilityState?(pn(E),vn(E)):(pn(T),++r)}),z(x,"popstate",()=>(sn="back-forward",n())),M(["push","replace"],e=>{var t=history[e+="State"];history[e]=(...e)=>{t.apply(history,e),sn="navigate",n()}}),n(),_()),d=()=>o&&0<q.heartbeatFrequency&&t(()=>qr()&&a.push({type:"HEARTBEAT",timing:{}}),-q.heartbeatFrequency);return d(),{processCommand(e){return Dn(e)?(a.push(e.username?{type:"LOGIN",username:e.username}:{type:"LOGOUT"}),T):E},decorate(e){var t;d(),y&&!W(e)&&(t={view:y?.id,timing:e?.timing&&{activations:r,totalTime:gn(),visibleTime:pn(),interactiveTime:vn()}},L(e,t),e!==(t=y))&&(e[ur]??=[]).push(t)}}}},Tn=e=>I(e=e==A||e!==T&&""!==e?e:"add")&&re(e,"add","remove","update","clear")?{action:e}:le(e)?e:w;function En(e){if(!e)return w;if(e.units!=A&&re(e.action,A,"add","remove")){if(0===e.units)return w;e.action=0<e.units?"add":"remove"}return e}var xn,kn,P,r={id:"cart",setup(r){return{processCommand(e){var t;return $n(e)?("clear"===(t=e.cart)?C(r,{type:"CART_UPDATED",action:"clear"}):(t=En(t))&&C(r,{...t,type:"CART_UPDATED"}),T):Bn(e)?(C(r,{type:"ORDER",...e.order}),T):E}}}},In=e=>rr(e,w,e=>M(g(Gt,e)?.tags)),Sn=e=>e?.component||e?.content,Nn=(e,t)=>t?e:{...e,rect:w,content:(kn=e.content)&&M(kn,e=>({...e,rect:w}))},Cn=_(),Un=(e,i=E)=>{be(Cn);var o,t,r,s=[],l=[],c=0;return yt(e,e=>{var r,t,n,a=g(Gt,e);a&&(Sn(a)&&(t=R(a.component,e=>0===c||!i&&(1===c&&e.track?.secondary!==T||e.track?.promote)),o=we(t,e=>e.track?.region)&&St(e)||w,r=rr(n=e,e=>e!==n&&!!Sn(g(Gt,e)),e=>(xn=g(Gt,e))&&me(ve([xn.component,xn.content],e=>ve(e,e=>M(e.tags,E))),xn.tags)),a.content&&de(s,...M(a.content,e=>({...e,rect:o,...r}))),t.length)&&(de(l,...M(t,e=>{return t=[c,e.track?.secondary?1:2],c=Math.max(...t),Nn({...e,content:s,rect:o,...r},!!o);var t})),s=[]),t=a.area||er(e,"area"))&&de(l,...M(t))}),s.length&&C(l,Nn({id:"",rect:o,content:s})),h(l,e=>{I(e)?C(t??=[],e):(e.area??=Fe(t,"/"),de(r??=[],e))}),r||t?{components:r,area:Fe(t,"/")}:w},On=Symbol(),e={id:"components",setup(f){var r=new IntersectionObserver(e=>h(e,({target:e,isIntersecting:t,boundingClientRect:r,intersectionRatio:n})=>e[On]?.(t,r,n)),{threshold:[.05,.1,.15,.2,.3,.4,.5,.6,.75]});function t({boundary:n,...t}){var a,i,o,s,l,c,u,e="add"in t?e=>({...e,component:me(e?.component,t.component),content:me(e?.content,t.content),area:t?.area??e?.area,tags:me(e?.tags,t.tags),cart:t.cart??e?.cart,track:t.track??e?.track}):t.update;Ae(Gt,n,e??t),(a=R(g(Gt,n)?.component,e=>e.track?.impressions||(e.track?.secondary??e.inferred)!==T))&&U(a)&&(o=E,s=0,l=A,c=_(),u=ut(()=>pn(),E),n[On]=(e,t,r)=>{e=.75<=r||t.top<(i=window.innerHeight/2)&&t.bottom>i,u(e),o!==(o=e)&&(o?c(()=>{var e;++s,l||(e=R(M(a,e=>e.track?.impressions||tr(n,"impressions",T,e=>e.track?.impressions)?{type:"IMPRESSION",pos:kt(n),viewport:Ct(),...Un(n,T)}:A)),l=on(()=>C(f,...M(e,e=>(e.duration=u(),e.impressions=s,e)))))},-q.impressionThreshold):be(c)),n.isConnected||(l?.(),l=A)},r.observe(n))}return{decorate(e){h(e.components,e=>$(e,"track"))},processCommand(e){return jn(e)?(t(e),T):Ln(e)?(M((l=e.scan.attribute,(c=e.scan.components)?(u=[],f=F(),m.querySelectorAll(`[${l}]`).forEach(t=>{if(!g(f,t))for(var e=[];j(t,l)!=A;){Ae(f,t);var r=p(j(t,l),"|");j(t,l,A);for(var n=0;n<r.length;n++){var a=r[n];if(""!==a){var i="-"===a?-1:G(I(a,E)??"",36);if(i<0)e.length+=i;else{if(0===n&&(e.length=0),isNaN(i)&&/^["\[{]/.test(a))for(var o="";n<r.length;n++)try{a=JSON.parse(o+=r[n]);break}catch(e){}0<=i&&c[i]&&(a=c[i]),e.push(a)}}}C(u,...M(e,e=>({add:T,...e,boundary:t})));var s=t.nextElementSibling;"WBR"===t.tagName&&t.parentNode?.removeChild(t),t=s}}),u):[]),t),T):E;var l,c,u,f}}}},Mn={id:"scroll",setup(n){var a={},i=Et(T);fn(()=>ft(()=>(a={},i=Et(T)),250)),z(x,"scroll",()=>{var e,t=Et(),r={x:(Ke=Et(E)).x/(J.offsetWidth-x.innerWidth)||0,y:Ke.y/(J.offsetHeight-x.innerHeight)||0};t.y>=i.y&&(e=[],!a.fold&&t.y>=i.y+200&&(a.fold=T,e.push("fold")),!a["page-middle"]&&.5<=r.y&&(a["page-middle"]=T,e.push("page-middle")),!a["page-end"]&&.99<=r.y&&(a["page-end"]=T,e.push("page-end")),(t=M(e,e=>({type:"SCROLL",scrollType:e,offset:r}))).length)&&C(n,t)})}},Rn=Symbol(),Fn=[t,e,sr,Mn,r,{id:"forms",setup(s){var l=new Map,c=e=>e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"yes":"no":e.value,u=A,f=()=>{var e,r,t,n,a,i,o;u&&([e,r,t,n]=u,a=-(d-(d=pn())),i=-(h-(h=D(T))),o=r[Rn],(r[Rn]=c(t))!==o&&(r.fillOrder??=n[5]++,r.filled&&(r.corrections=(r.corrections??0)+1),r.filled=T,n[3]=2,O(e.fields,([e,t])=>t.lastField=e===r.name||w)),r.activeTime+=a,r.totalTime+=i,e.activeTime+=a,u=A)},d=0,h=0,t=e=>{e&&z(e,["focusin","focusout","change"],(e,t,r=((e,[t,r]=(e=>{var i,n,a,o=e.form;if(o)return n=wt(o,Xt("ref"))||"track_ref",a=Te(l,o,()=>{var e,t=new Map,r={type:"FORM",name:wt(o,Xt("form-name"))||j(o,"name")||o.id||w,activeTime:0,totalTime:0,fields:{}},n=()=>{f(),2<=e[3]&&(r.completed=3===e[3]||!(o.isConnected&&St(o).width)),C(s,{...i,...r,totalTime:D(T)-e[4]}),e[3]=1},a=(fn(n),Jr(n),_());return z(o,"submit",()=>{i=Un(o),e[3]=3,a(()=>{(o.isConnected&&0<St(o).width?(e[3]=2,a):n)()},750)}),e=[r,t,o,0,D(T),1]}),g(a[1],e)||M(o.querySelectorAll("INPUT,SELECT,TEXTAREA"),(e,t)=>{var r;e.name&&"hidden"!==e.type?(r=e.name,r=a[0].fields[r]??={id:e.id||r,name:r,label:v(ye(e.labels,0)?.innerText??e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,type:e.type??"unknown",[Rn]:c(e)},a[0].fields[r.name]=r,a[1].set(e,r)):"hidden"!==e.type||e.name!==n&&!tr(e,"ref")||(e.value||(e.value=v([1e7]+-1e3+-4e3+-8e3+-1e11,/[018]/g,e=>((e*=1)^dt(new Uint8Array(1))[0]&15>>e/4).toString(16))),a[0].ref=e.value)}),[e,a]})(e)??[],n=r?.[1].get(t))=>n&&[r[0],n,t,r])(e.target))=>{r&&(u=r,"focusin"===e.type?(h=D(T),d=pn()):f())})};t(m),yn(e=>e.contentDocument&&t)}}],t=(...e)=>t=>t===e[0]||e.some(e=>"string"==typeof e&&void 0!==t?.[e]),$n=t("cart"),Dn=t("username"),_n=t("tagAttributes"),qn=t("disable"),jn=t("boundary"),zn=t("extension"),Pn=t(T,"flush"),Vn=t("get"),Wn=t("listener"),Bn=t("order"),Ln=t("scan"),Hn=t("set"),Gn=e=>"function"==typeof e,Kn=t=>{var r,e,l,c,u,n,a,i,f,d,o,h,m,g,s,p,v,y;return P||(I(t)&&(t=it(t)),M(["vars","hub"],e=>!S(t[e])&&(t[e]=Ft(t[e]))),L(q,t),e=$(q,"clientKey"),[ot,st]=rt(e),r=$(q,"apiKey"),e=x[q.name]??[],N(e)?(l=[],c=[],u=(t,...r)=>{var n=T;c=R(c,e=>Ut(()=>(e[t]?.(...r,{tracker:P,unsubscribe:()=>n=E}),n)))},Xr(e=>u("post",e)),n=[],pr(()=>n.length&&C(P,...n)),i=Object.fromEntries(M(["view","tags","rendered","loaded","scripts","qd"],e=>[e,T])),[f,d]=(s=P,p={},v={},y=(e,t)=>[v[e]??=[],t?v[e]=[]:v[e]],[(e,i)=>{if(!e)return p;M(O(e),([e,t])=>{if(!t)return b("invalid-argument",e);var n=t,[r]=y(e,E),a=E;t=(e,t,r)=>(a=T,Ut(()=>n(e,t,r,s))),p[e]===w&&0!==i?(C(r,t),i&&0<i&&setTimeout(()=>!a&&t(w,e,T,s)!==T&&(n=()=>{}),i)):t(p[e],e,T,s)===T&&C(r,t)})},(...e)=>{var t=ye(e,-1)===T,e=N(e[0])?e[0]:le(e[0])?O(e[0]):[[e[0],e[1]]];M(e,([t,r])=>{p[t=""+t]=r;var[e,n]=y(t,T);M(e,e=>e(r,t,E,s)===T&&C(n,e))}),t||U(a=R(e,([e])=>!i[e]))&&o(a)}]),Vr((e,t)=>d(t)),o=br("vars",()=>M(R(O(f()),([e])=>!i[e]),([e,t])=>[e,t]),e=>e&&d(e,T)),h=A,m=0,g=E,At(x,{[q.name]:[P=At({},{id:[gt()],push:[(...e)=>{if(!h&&r){if(e[0]!==r)throw new Error("Invalid API key.");e.splice(0,1)}if(e.length){e=e.flatMap(e=>(e&&"string"==typeof e&&(e=it(e)),N(e)?e:[e]));var t=E;if((e=R(e,e=>{if(!e)return E;if(_n(e))q.tags=L({},q.tags,e.tagAttributes);else{if(qn(e))return q.disabled=e.disable,E;if(Pn(e))return t=T,E;if(Gn(e))return e(P),E}return yr||Wn(e)||zn(e)?T:(n.push(e),E)})).length||t){e=ue(e,e=>zn(e)?-100:Wn(e)?-50:Hn(e)?-10:V(e)?90:0);if(!h||!fe(h,g?m+1:h.length,0,...e)){for(h=e,m=0;m<h.length;m++)h[m]&&Ut(()=>{var r=h[m];if(u("command",r),g=E,V(r)){r.timestamp??=D(),B(r)&&fe(h,m+1,0,{set:{consent:r.nonEssentialTracking}}),g=T;var n=E;if(M(l,([,e],t)=>{!n&&e.decorate?.(r)!==E||(n=T)}),!n){for(var e,t=[r],a=[];t.length;){var i=he(t);(t=>!hr(t)&&(M(t[ur],e=>Ae(Te(dr,e,()=>F()),t)),T))(i)||(Ae(fr,e=i),(e=(ir=dr.get(e))&&(ir.size||$(dr,e),R(ir,e=>hr(e)&&($(ir,e),T))))&&fe(t,1,0,...e),C(a,i))}Qr(...a)}}else if(Vn(r))f(r.get,r.timeout);else if(Hn(r))d(r.set),M(O(r.set),([e,t])=>u("set",e,t));else if(Wn(r))C(c,r.listener);else if(zn(r))(o=Ut(()=>r.extension.setup(P),e=>b(A,r.extension,e)))&&(C(l,[r.priority??100,o]),ue(l,([e])=>e));else if(Gn(r))r(P);else{var o,s=E;for([,o]of l)if(s=o.processCommand?.(r)??E)break;s||b("invalid-command",r)}},e=>b("internal-error",A,e));h=A,t&&en()}}}}],__isTracker:[T]})]}),qt(),C(P,{set:{loaded:T}},...M(Fn,e=>({extension:e})),...e),P):void b(`The global variable for the tracker "${q.name}" is used for something else than an array of queued commands.`))},Xn=E;At(x,{".tail.js.init":[e=>{Xn!==(Xn=T)&&e(Kn)}]})})();
//# sourceMappingURL=tail.debug.js.map
