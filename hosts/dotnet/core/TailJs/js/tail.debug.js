(()=>{"use strict";var e,r,t,n,a,i,o,s,l,u,c,f,d,v,p,h,g,y,m,b,w,k,S,I,A,E,T,x,N,O,$,j,C,M="@info",U="@consent",_="_tail:",F=_+"state",P=_+"push",q=(e,r=e=>Error(e))=>{throw ef(e=rs(e))?r(e):e},z=(e,r,t=-1)=>{if(e===r||(e??r)==null)return!0;if(eg(e)&&eg(r)&&e.length===r.length){var n=0;for(var a in e){if(e[a]!==r[a]&&!z(e[a],r[a],t-1))return!1;++n}return n===Object.keys(r).length}return!1},R=(e,r,...t)=>e===r||t.length>0&&t.some(r=>R(e,r)),D=(e,r)=>null!=e?e:q(r??"A required value is missing",e=>TypeError(e.replace("..."," is required."))),V=(e,r=!0,t)=>{try{return e()}catch(e){return eS(r)?ep(e=r(e))?q(e):e:ea(r)?console.error(r?q(e):e):r}finally{t?.()}},B=e=>{var r,t=()=>t.initialized||r?r:(r=rs(e)).then?r=r.then(e=>(t.initialized=!0,t.resolved=r=e)):(t.initialized=!0,t.resolved=r);return t},J=e=>{var r={initialized:!0,then:W(()=>(r.initialized=!0,rs(e)))};return r},W=e=>{var r=B(e);return(e,t)=>K(r,[e,t])},K=async(e,r=!0,t)=>{try{var n=await rs(e);return ev(r)?r[0]?.(n):n}catch(e){if(ea(r)){if(r)throw e;console.error(e)}else{if(ev(r)){if(!r[1])throw e;return r[1](e)}var a=await r?.(e);if(a instanceof Error)throw a;return a}}finally{await t?.()}},G=e=>e,L=void 0,H=Number.MAX_SAFE_INTEGER,X=!1,Y=!0,Z=()=>{},Q=e=>e,ee=e=>null!=e,er=Symbol.iterator,et=(e,r)=>(t,n=!0)=>e(t)?t:r&&n&&null!=t&&null!=(t=r(t))?t:L,en=(e,r)=>eS(r)?e!==L?r(e):L:e?.[r]!==L?e:L,ea=e=>"boolean"==typeof e,ei=et(ea,e=>0!=e&&(1==e||"false"!==e&&("true"===e||L))),eo=e=>!!e,es=e=>e===Y,el=e=>e!==X,eu=Number.isSafeInteger,ec=e=>"number"==typeof e,ef=e=>"string"==typeof e,ed=et(ef,e=>e?.toString()),ev=Array.isArray,ep=e=>e instanceof Error,eh=(e,r=!1)=>null==e?L:!r&&ev(e)?e:eI(e)?[...e]:[e],eg=e=>null!==e&&"object"==typeof e,ey=Object.prototype,em=Object.getPrototypeOf,eb=e=>null!=e&&em(e)===ey,ew=(e,r)=>"function"==typeof e?.[r],ek=e=>"symbol"==typeof e,eS=e=>"function"==typeof e,eI=(e,r=!1)=>!!(e?.[er]&&("object"==typeof e||r)),eA=e=>e instanceof Map,eE=e=>e instanceof Set,eT=(e,r)=>null==e?L:!1===r?e:Math.round(e*(r=Math.pow(10,r&&!0!==r?r:0)))/r,ex=!1,eN=e=>(ex=!0,e),eO=e=>null==e?L:eS(e)?e:r=>r[e],e$=(e,r,t)=>(r??t)!==L?(e=eO(e),r??=0,t??=H,(n,a)=>r--?L:t--?e?e(n,a):n:t):e,ej=e=>e?.filter(ee),eC=(e,r,t,n)=>null==e?[]:!r&&ev(e)?ej(e):e[er]?function*(e,r){if(null!=e){if(r){r=eO(r);var t=0;for(var n of e)if(null!=(n=r(n,t++))&&(yield n),ex){ex=!1;break}}else for(var n of e)null!=n&&(yield n)}}(e,t===L?r:e$(r,t,n)):eg(e)?function*(e,r){r=eO(r);var t=0;for(var n in e){var a=[n,e[n]];if(r&&(a=r(a,t++)),null!=a&&(yield a),ex){ex=!1;break}}}(e,e$(r,t,n)):eC(eS(e)?function*(e,r,t=Number.MAX_SAFE_INTEGER){for(null!=r&&(yield r);t--&&null!=(r=e(r));)yield r}(e,t,n):function*(e=0,r){if(e<0)for(r??=-e-1;e++;)yield r--;else for(r??=0;e--;)yield r++}(e,t),r),eM=(e,r)=>r&&!ev(e)?[...e]:e,eU=(e,r,t,n)=>eC(e,r,t,n),e_=(e,r,t=1,n=!1,a,i)=>(function* e(r,t,n,a){if(null!=r){if(r[er]||n&&eg(r))for(var i of a?eC(r):r)1!==t?yield*e(i,t-1,n,!0):yield i;else yield r}})(eC(e,r,a,i),t+1,n,!1),eF=(e,r,t,n)=>{if(r=eO(r),ev(e)){var a=0,i=[];for(t=t<0?e.length+t:t??0,n=n<0?e.length+n:n??e.length;t<n&&!ex;t++){var o=e[t];(r?o=r(o,a++):o)!=null&&i.push(o)}return ex=!1,i}return null!=e?eh(eU(e,r,t,n)):L},eP=(e,r,t,n)=>null!=e?new Set([...eU(e,r,t,n)]):L,eq=(e,r,t=1,n=!1,a,i)=>eh(e_(e,r,t,n,a,i)),ez=(...e)=>{var r;return eW(1===e.length?e[0]:e,e=>null!=e&&(r??=[]).push(...eh(e))),r},eR=(e,r,t,n)=>{var a,i=0;for(t=t<0?e.length+t:t??0,n=n<0?e.length+n:n??e.length;t<n;t++)if(null!=e[t]&&(a=r(e[t],i++)??a,ex)){ex=!1;break}return a},eD=(e,r)=>{var t,n=0;for(var a of e)if(null!=a&&(t=r(a,n++)??t,ex)){ex=!1;break}return t},eV=(e,r)=>{var t,n=0;for(var a in e)if(t=r([a,e[a]],n++)??t,ex){ex=!1;break}return t},eB=(e,r,...t)=>null==e?L:eI(e)?eF(e,e=>r(e,...t)):r(e,...t),eJ=(e,r,t,n)=>{var a;if(null!=e){if(ev(e))return eR(e,r,t,n);if(t===L){if(e[er])return eD(e,r);if("object"==typeof e)return eV(e,r)}for(var i of eC(e,r,t,n))null!=i&&(a=i);return a}},eW=eJ,eK=async(e,r,t,n)=>{var a;if(null==e)return L;for(var i of eU(e,r,t,n))if(null!=(i=await i)&&(a=i),ex){ex=!1;break}return a},eG=Object.fromEntries,eL=(e,r,t)=>{if(null==e)return L;if(ea(r)||t){var n={};return eW(e,t?(e,a)=>null!=(e=r(e,a))&&null!=(e[1]=t(n[e[0]],e[1]))&&(n[e[0]]=e[1]):e=>eW(e,r?e=>e?.[1]!=null&&((n[e[0]]??=[]).push(e[1]),n):e=>e?.[1]!=null&&(n[e[0]]=e[1],n))),n}return eG(eF(e,r?(e,t)=>en(r(e,t),1):e=>en(e,1)))},eH=(e,r,t,n,a)=>{var i=()=>eS(t)?t():t;return eJ(e,(e,n)=>t=r(t,e,n)??i(),n,a)??i()},eX=(e,r=e=>null!=e,t=ev(e),n,a)=>eM(eC(e,(e,t)=>r(e,t)?e:L,n,a),t),eY=(e,r,t,n)=>{var a;if(null==e)return L;if(r)e=eX(e,r,!1,t,n);else{if(null!=(a=e.length??e.size))return a;if(!e[er])return Object.keys(e).length}return a=0,eJ(e,()=>++a)??0},eZ=(e,...r)=>null==e?L:ec(e)?Math.max(e,...r):eH(e,(e,t,n,a=r[1]?r[1](t,n):t)=>null==e||ec(a)&&a>e?a:e,L,r[2],r[3]),eQ=(e,r,t)=>eF(e,eb(e)?e=>e[1]:e=>e,r,t),e0=e=>!ev(e)&&eI(e)?eF(e,eA(e)?e=>e:eE(e)?e=>[e,!0]:(e,r)=>[r,e]):eg(e)?Object.entries(e):L,e1=(e,r,t,n)=>null==e?L:(r=eO(r),eJ(e,(e,t)=>!r||(e=r(e,t))?eN(e):L,t,n)),e2=(e,r,t,n)=>null==e?L:ev(e)||ef(e)?e[e.length-1]:eJ(e,(e,t)=>!r||r(e,t)?e:L,t,n),e4=(e,r,t,n)=>null==e?L:eb(e)&&!r?Object.keys(e).length>0:e.some?.(r??eo)??eJ(e,r?(e,t)=>!!r(e,t)&&eN(!0):()=>eN(!0),t,n)??!1,e6=(e,r=e=>e)=>(e?.sort((e,t)=>r(e)-r(t)),e),e5=(e,r,t)=>(e.constructor===Object?void 0===t?delete e[r]:e[r]=t:void 0===t?e.delete?e.delete(r):delete e[r]:e.set?e.set(r,t):e.add?t?e.add(r):e.delete(r):e[r]=t,t),e3=(e,r,t)=>{if(e){if(e.constructor===Object&&null==t)return e[r];var n=e.get?e.get(r):e.has?e.has(r):e[r];return void 0===n&&null!=t&&null!=(n=eS(t)?t():t)&&e5(e,r,n),n}},e8=(e,...r)=>(eW(r,r=>eW(r,([r,t])=>{null!=t&&(eb(e[r])&&eb(t)?e8(e[r],t):e[r]=t)})),e),e9=e=>(r,t,n,a)=>{if(r)return void 0!=n?e(r,t,n,a):(eW(t,t=>ev(t)?e(r,t[0],t[1]):eW(t,([t,n])=>e(r,t,n))),r)},e7=e9(e5),re=e9((e,r,t)=>e5(e,r,eS(t)?t(e3(e,r)):t)),rr=(e,r)=>e instanceof Set?!e.has(r)&&(e.add(r),!0):e3(e,r)!==e7(e,r,!0),rt=(e,r)=>{if((e??r)!=null){var t=e3(e,r);return ew(e,"delete")?e.delete(r):delete e[r],t}},rn=(e,...r)=>{var t=[],n=!1,a=(e,i,o,s)=>{if(e){var l=r[i];i===r.length-1?ev(l)?(n=!0,l.forEach(r=>t.push(rt(e,r)))):t.push(rt(e,l)):(ev(l)?(n=!0,l.forEach(r=>a(e3(e,r),i+1,e,r))):a(e3(e,l),i+1,e,l),!eY(e)&&o&&ra(o,s))}};return a(e,0),n?t:t[0]},ra=(e,r)=>{if(e)return ev(r)?(ev(e)&&e.length>1?r.sort((e,r)=>r-e):r).map(r=>ra(e,r)):ev(e)?r<e.length?e.splice(r,1)[0]:void 0:rt(e,r)},ri=(e,...r)=>{var t=(r,n)=>{var a;if(r){if(ev(r)){if(eb(r[0])){r.splice(1).forEach(e=>t(e,r[0]));return}a=r}else a=eF(r);a.forEach(([r,t])=>Object.defineProperty(e,r,{configurable:!1,enumerable:!0,writable:!1,...n,...eb(t)&&("get"in t||"value"in t)?t:eS(t)&&!t.length?{get:t}:{value:t}}))}};return r.forEach(e=>t(e)),e},ro=(e,...r)=>{if(void 0!==e)return Object.fromEntries(r.flatMap(t=>eg(t)?ev(t)?t.map(r=>ev(r)?1===r.length?[r[0],e[r[0]]]:ro(e[r[0]],...r[1]):[r,e[r]]):Object.entries(r).map(([r,t])=>[r,!0===t?e[r]:ro(e[r],t)]):[[t,e[t]]]).filter(e=>null!=e[1]))},rs=e=>eS(e)?e():e,rl=(e,r=-1)=>ev(e)?r?e.map(e=>rl(e,r-1)):[...e]:eb(e)?r?eL(e,([e,t])=>[e,rl(t,r-1)]):{...e}:eE(e)?new Set(r?eF(e,e=>rl(e,r-1)):e):eA(e)?new Map(r?eF(e,e=>[e[0],rl(e[1],r-1)]):e):e,ru=(e,...r)=>e?.push(...r),rc=(e,...r)=>e?.unshift(...r),rf=(e,r)=>{if(!eb(r))return[e,e];var t,n,a,i={};if(eb(e))return eW(e,([e,o])=>{if(o!==r[e]){if(eb(t=o)){if(!(o=rf(o,r[e])))return;[o,t]=o}else ec(o)&&ec(n)&&(o=(t=o)-n);i[e]=o,(a??=rl(r))[e]=t}}),a?[i,a]:void 0},rd="undefined"!=typeof performance?(e=Y)=>e?Math.trunc(rd(X)):performance.timeOrigin+performance.now():Date.now,rv=(e=!0,r=()=>rd())=>{var t,n=+e*r(),a=0;return(i=e,o)=>(t=e?a+=-n+(n=r()):a,o&&(a=0),(e=i)&&(n=r()),t)},rp=(e=0)=>{var r,t,n=(a,i=e)=>{if(void 0===a)return!!t;clearTimeout(r),ea(a)?a&&(i<0?el:es)(t?.())?n(t):t=void 0:(t=a,r=setTimeout(()=>n(!0,i),i<0?-i:i))};return n},rh=(e,r=0)=>{var t=eS(e)?{frequency:r,callback:e}:e,{queue:n=!0,paused:a=!1,trigger:i=!1,once:o=!1,callback:s=()=>{}}=t;r=t.frequency??0;var l=0,u=rw(!0).resolve(),c=rv(!a),f=c(),d=async e=>{if(!l||!n&&u.pending&&!0!==e)return!1;if(p.busy=!0,!0!==e)for(;u.pending;)await u;return e||u.reset(),(await K(()=>s(c(),-f+(f=c())),!1,()=>!e&&u.resolve())===!1||r<=0||o)&&v(!1),p.busy=!1,!0},v=(e,t=!e)=>(c(e,t),clearInterval(l),p.active=!!(l=e?setInterval(d,r<0?-r:r):0),p),p={active:!1,busy:!1,restart:(e,t)=>(r=e??r,s=t??s,v(!0,!0)),toggle:(e,r)=>e!==p.active?e?r?(v(!0),p.trigger(),p):v(!0):v(!1):p,trigger:async e=>await d(e)&&(v(p.active),!0)};return p.toggle(!a,i)};class rg{_promise;constructor(){this.reset()}get value(){return this._promise.value}get error(){return this._promise.error}get pending(){return this._promise.pending}resolve(e,r=!1){return this._promise.resolve(e,r),this}reject(e,r=!1){return this._promise.reject(e,r),this}reset(){return this._promise=new ry,this}signal(e){return this.resolve(e),this.reset(),this}then(e,r){return this._promise.then(e,r)}}class ry{_promise;resolve;reject;value;error;pending=!0;constructor(){var e;this._promise=new Promise((...r)=>{e=r.map((e,r)=>(t,n)=>{if(!this.pending){if(n)return this;throw TypeError("Promise already resolved/rejected.")}return this.pending=!1,this[r?"error":"value"]=t===L||t,e(t),this})}),[this.resolve,this.reject]=e}then(e,r){return this._promise.then(e,r)}}var rm=(e,r=0)=>r>0?setTimeout(e,r):window.queueMicrotask(e),rb=(e,r)=>null==e||isFinite(e)?!e||e<=0?rs(r):new Promise(t=>setTimeout(async()=>t(await rs(r)),e)):q(`Invalid delay ${e}.`),rw=e=>e?new rg:new ry,rk=(...e)=>Promise.race(e.map(e=>eS(e)?e():e)),rS=(e,r,t)=>{var n=!1,a=(...r)=>e(...r,i),i=()=>n!==(n=!1)&&(t(a),!0),o=()=>n!==(n=!0)&&(r(a),!0);return o(),[i,o]},rI=()=>{var e,r=new Set;return[(t,n)=>{var a=rS(t,e=>r.add(e),e=>r.delete(e));return n&&e&&t(...e,a[0]),a},(...t)=>(e=t,r.forEach(e=>e(...t)))]},rA=(e,r=["and",", "])=>e?1===(e=eF(e)).length?e[0]:ev(r)?[e.slice(0,-1).join(r[1]??", ")," ",r[0]," ",e[e.length-1]].join(""):e.join(r??", "):L,rE=(e,r,t)=>null==e?L:ev(r)?null==(r=r[0])?L:r+" "+rE(e,r,t):null==r?L:1===r?e:t??e+"s",rT=(e,r,t)=>t?(ru(t,"\x1b[",r,"m"),ev(e)?ru(t,...e):ru(t,e),ru(t,"\x1b[m"),t):rT(e,r,[]).join(""),rx=(e,r="'")=>null==e?L:r+e+r,rN=(e,r,t)=>null==e?L:eS(r)?rA(eF(ef(e)?[e]:e,r),t??""):ef(e)?e:rA(eF(e,e=>!1===e?L:e),r??""),rO=e=>(e=Math.log2(e))===(0|e),r$=(e,r,t,n)=>{var a,i,o,s=Object.fromEntries(Object.entries(e).filter(([e,r])=>ef(e)&&ec(r)).map(([e,r])=>[e.toLowerCase(),r])),l=Object.entries(s),u=Object.values(s),c=s.any??u.reduce((e,r)=>e|r,0),f=r?{...s,any:c,none:0}:s,d=Object.fromEntries(Object.entries(f).map(([e,r])=>[r,e])),v=(e,t)=>eu(e)?!r&&t?null!=d[e]?e:L:Number.isSafeInteger(e)?e:L:ef(e)?f[e]??f[e.toLowerCase()]??v(parseInt(e),t):L,p=!1,[h,g]=r?[(e,r)=>Array.isArray(e)?e.reduce((e,t)=>null==t||p?e:null==(t=v(t,r))?(p=!0,L):(e??0)|t,(p=!1,L)):v(e),(e,r)=>null==(e=h(e,!1))?L:r&&(i=d[e&c])?(a=g(e&~(e&c),!1)).length?[i,...a]:i:(e=l.filter(([,r])=>r&&e&r&&rO(r)).map(([e])=>e),r?e.length?1===e.length?e[0]:e:"none":e)]:[v,e=>null!=(e=v(e))?d[e]:L],y=(e,r)=>null==e?L:null==(e=h(o=e,r))?q(TypeError(`${JSON.stringify(o)} is not a valid ${t} value.`)):e,m=l.filter(([,e])=>!n||(n&e)===e&&rO(e));return ri(e=>y(e),[{configurable:!1,enumerable:!1},{parse:y,tryParse:h,entries:l,values:u,lookup:g,length:l.length,format:e=>g(e,!0),logFormat:(e,r="or")=>"any"===(e=g(e,!0))?"any "+t:`the ${t} ${rA(eF(eh(e),e=>rx(e)),[r])}`},r&&{pure:m,map:(e,r)=>(e=y(e),m.filter(([,r])=>r&e).map(r??(([,e])=>e)))}])},rj=(...e)=>{var r=e0(eL(e,!0)),t=e=>(eg(e)&&(ev(e)?e.forEach((r,n)=>e[n]=t(r)):r.forEach(([r,t])=>{var n,a=L;null!=(n=e[r])&&(1===t.length?e[r]=t[0].parse(n):t.forEach((i,o)=>!a&&null!=(a=o===t.length-1?i.parse(n):i.tryParse(n))&&(e[r]=a)))})),e);return t},rC=Symbol(),rM=(e,r=["|",";",","],t=!0)=>{if(!e)return L;var n=e.split("=").map(e=>t?decodeURIComponent(e.trim()).replaceAll("+"," "):e.trim());return n[1]??="",n[2]=n[1]&&r?.length&&e1(r,(e,r,t=n[1].split(e))=>t.length>1?t:L)||(n[1]?[n[1]]:[]),n},rU=(e,r=!0,t)=>null==e?L:rz(e,/^(?:(?:([\w+.-]+):)?(\/\/)?)?((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))?(?::(\d*))?)?(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/g,(e,t,n,a,i,o,s,l,u,c,f,d)=>{var v={source:e,scheme:t,urn:t?!n:!n&&L,authority:a,user:i,password:o,host:s??l,port:null!=u?parseInt(u):L,path:c,query:!1===r?f:r_(f,r),fragment:d};return v.path=v.path||(v.authority?v.urn?"":"/":L),v}),r_=(e,r,t=!0)=>rF(e,"&",r,t),rF=(e,r,t,n=!0)=>{var a=[],i=null==e?L:eL(e?.match(/(?:^.*?\?|^)([^#]*)/)?.[1]?.split(r),(e,r,[i,o,s]=rM(e,!1===t?[]:!0===t?L:t,n)??[],l)=>(l=null!=(i=i?.replace(/\[\]$/,""))?!1!==t?[i,s.length>1?s:o]:[i,o]:L,a.push(l),l),(e,r)=>e?!1!==t?ez(e,r):(e?e+",":"")+r:r);return i&&(i[rC]=a),i},rP=(e,r)=>r&&null!=e?r.test(e):L,rq=(e,r,t)=>rz(e,r,t,!0),rz=(t,n,a,i=!1)=>(t??n)==null?L:a?(e=L,i?(r=[],rz(t,n,(...t)=>null!=(e=a(...t))&&r.push(e))):t.replace(n,(...r)=>e=a(...r)),e):t.match(n),rR=e=>e?.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),rD=/\z./g,rV=(e,r)=>(r=rN(eP(eX(e,e=>e?.length)),"|"))?RegExp(r,"gu"):rD,rB={},rJ=e=>e instanceof RegExp,rW=(e,r=[","," "])=>rJ(e)?e:ev(e)?rV(eF(e,e=>rW(e,r)?.source)):ea(e)?e?/./g:rD:ef(e)?rB[e]??=rz(e||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,n)=>t?RegExp(t,"gu"):rV(eF(rK(n,RegExp(`(?<!(?<!\\\\)\\\\)[${rN(r,rR)}]`)),e=>e&&`^${rN(rK(e,/(?<!(?<!\\)\\)\*/),e=>rR(rG(e,/\\(.)/g,"$1")),".*")}$`))):L,rK=(e,r)=>e?.split(r)??e,rG=(e,r,t)=>e?.replace(r,t)??e,rL=5e3,rH=()=>()=>q("Not initialized."),rX=window,rY=document,rZ=rY.body,rQ=(e,r)=>!!e?.matches(r),r0=H,r1=(e,r,t=(e,r)=>r>=r0)=>{for(var n,a=0,i=X;e?.nodeType===1&&!t(e,a++)&&r(e,(e,r)=>(null!=e&&(n=e,i=r!==Y&&null!=n),Y),a-1)!==X&&!i;){var o=e;null===(e=e.parentElement)&&o?.ownerDocument!==document&&(e=o?.ownerDocument.defaultView?.frameElement)}return n},r2=(e,r="z")=>{if(null!=e&&"null"!==e&&(""!==e||"b"===r))switch(r){case!0:case"z":return(""+e).trim()?.toLowerCase();case!1:case"r":case"b":return""===e||ei(e);case"n":return parseFloat(e);case"j":return V(()=>JSON.parse(e),Z);case"h":return V(()=>nc(e),Z);case"e":return V(()=>nd?.(e),Z);default:return ev(r)?""===e?void 0:(""+e).split(",").map(e=>e=""===e.trim()?void 0:r2(e,r[0])):void 0}},r4=(e,r,t)=>r2(e?.getAttribute(r),t),r6=(e,r,t)=>r1(e,(e,n)=>n(r4(e,r,t))),r5=(e,r)=>r4(e,r)?.trim()?.toLowerCase(),r3=e=>e?.getAttributeNames(),r8=(e,r)=>getComputedStyle(e).getPropertyValue(r)||null,r9=e=>null!=e?e.tagName:null,r7=()=>({x:(t=te(X)).x/(rZ.offsetWidth-window.innerWidth)||0,y:t.y/(rZ.offsetHeight-window.innerHeight)||0}),te=e=>({x:eT(scrollX,e),y:eT(scrollY,e)}),tr=(e,r)=>rG(e,/#.*$/,"")===rG(r,/#.*$/,""),tt=(e,r,t=Y)=>(n=tn(e,r))&&G({xpx:n.x,ypx:n.y,x:eT(n.x/rZ.offsetWidth,4),y:eT(n.y/rZ.offsetHeight,4),pageFolds:t?n.y/window.innerHeight:void 0}),tn=(e,r)=>r?.pointerType&&r?.pageY!=null?{x:r.pageX,y:r.pageY}:e?({x:a,y:i}=ta(e),{x:a,y:i}):void 0,ta=e=>e?(o=e.getBoundingClientRect(),t=te(X),{x:eT(o.left+t.x),y:eT(o.top+t.y),width:eT(o.width),height:eT(o.height)}):void 0,ti=(e,r,t,n={capture:!0,passive:!0})=>(r=eh(r),rS(t,t=>eW(r,r=>e.addEventListener(r,t,n)),t=>eW(r,r=>e.removeEventListener(r,t,n)))),to=e=>{var{host:r,scheme:t,port:n}=rU(e,!1);return{host:r+(n?":"+n:""),scheme:t}},ts=()=>({...t=te(Y),width:window.innerWidth,height:window.innerHeight,totalWidth:rZ.offsetWidth,totalHeight:rZ.offsetHeight});(E=s||(s={}))[E.Anonymous=0]="Anonymous",E[E.Indirect=1]="Indirect",E[E.Direct=2]="Direct",E[E.Sensitive=3]="Sensitive";var tl=r$(s,!1,"data classification"),tu=(e,r)=>tl.parse(e?.classification??e?.level)===tl.parse(r?.classification??r?.level)&&tf.parse(e?.purposes??e?.purposes)===tf.parse(r?.purposes??r?.purposes),tc=(e,r)=>null==e?void 0:ec(e.classification)&&ec(e.purposes)?e:{...e,level:void 0,purpose:void 0,classification:tl.parse(e.classification??e.level??r?.classification??0),purposes:tf.parse(e.purposes??e.purpose??r?.purposes??l.Necessary)};(T=l||(l={}))[T.None=0]="None",T[T.Necessary=1]="Necessary",T[T.Functionality=2]="Functionality",T[T.Performance=4]="Performance",T[T.Targeting=8]="Targeting",T[T.Security=16]="Security",T[T.Infrastructure=32]="Infrastructure",T[T.Any_Anonymous=49]="Any_Anonymous",T[T.Any=63]="Any",T[T.Server=2048]="Server",T[T.Server_Write=4096]="Server_Write";var tf=r$(l,!0,"data purpose",2111),td=r$(l,!1,"data purpose",0),tv=(e,r)=>((u=e?.metadata)&&(r?(delete u.posted,delete u.queued,Object.entries(u).length||delete e.metadata):delete e.metadata),e),tp=e=>!!e?.patchTargetId;(x=c||(c={}))[x.Global=0]="Global",x[x.Entity=1]="Entity",x[x.Session=2]="Session",x[x.Device=3]="Device",x[x.User=4]="User";var th=r$(c,!1,"variable scope");s.Anonymous,l.Necessary;var tg=e=>`'${e.key}' in ${th.format(e.scope)} scope`,ty={scope:th,purpose:td,purposes:tf,classification:tl};rj(ty);var tm=e=>e?.filter(ee).sort((e,r)=>e.scope===r.scope?e.key.localeCompare(r.key,"en"):e.scope-r.scope);(N=f||(f={}))[N.Add=0]="Add",N[N.Min=1]="Min",N[N.Max=2]="Max",N[N.IfMatch=3]="IfMatch",N[N.IfNoneMatch=4]="IfNoneMatch",r$(f,!1,"variable patch type"),(O=d||(d={}))[O.Success=200]="Success",O[O.Created=201]="Created",O[O.Unchanged=304]="Unchanged",O[O.Denied=403]="Denied",O[O.NotFound=404]="NotFound",O[O.ReadOnly=405]="ReadOnly",O[O.Conflict=409]="Conflict",O[O.Unsupported=501]="Unsupported",O[O.Invalid=400]="Invalid",O[O.Error=500]="Error",r$(d,!1,"variable set status");var tb=(e,r,t)=>{var n,a=e(),i=e=>e,o=(e,t=tI)=>J(async()=>(n=i(t(await a,r)))&&e(n)),s={then:o(e=>e).then,all:o(e=>e,e=>e),changed:o(e=>eX(e,e=>e.status<300)),variables:o(e=>eF(e,tk)),values:o(e=>eF(e,e=>tk(e)?.value)),push:()=>(i=e=>(t?.(eF(tw(e))),e),s),value:o(e=>tk(e[0])?.value),variable:o(e=>tk(e[0])),result:o(e=>e[0])};return s},tw=e=>e?.map(e=>e?.status<400?e:L),tk=e=>tS(e)?e.current??e:L,tS=(e,r=!1)=>r?e?.status<300:e?.status<400||e?.status===404,tI=(e,r,t)=>{var n,a,i=[],o=eF(eh(e),(e,o)=>e&&(e.status<400||!t&&404===e.status?e:(a=`${tg(e.source??e)} could not be ${404===e.status?"found.":`${e.source||500!==e.status?"set":"read"} because ${409===e.status?`of a conflict. The expected version '${e.source?.version}' did not match the current version '${e.current?.version}'.`:403===e.status?e.error??"the operation was denied.":400===e.status?e.error??"the value does not conform to the schema":405===e.status?"it is read only.":500===e.status?`of an unexpected error: ${e.error}`:"of an unknown reason."}`}`,(null==(n=r?.[o])||!1!==n(e,a))&&i.push(a),L)));return i.length?q(i.join("\n")):ev(e)?o:o?.[0]},tA=e=>tI(e,L,!0),tE=e=>e&&"string"==typeof e.type,tT=((...e)=>r=>r?.type&&e.some(e=>e===r?.type))("view"),tx=e=>e&&/^(%[A-F0-9]{2}|[^%])*$/gi.test(e)&&/[A-F0-9]{2}/gi.test(e)?decodeURIComponent(e):e,tN=(e,r)=>r&&(!(p=e.get(v=r.tag+(r.value??"")))||(p.score??1)<(r.score??1))&&e.set(v,r),tO=(e,r="",t=new Map)=>{if(e)return eI(e)?eW(e,e=>tO(e,r,t)):ef(e)?rz(e,/(?:([^\s:~]+)::(?![ :=]))?([^\s~]+?)(?:\s*[:=]\s*(?:"((?:"[^"]*|.)*?)(?:"|$)|'((?:'[^'~]*|.)*?)(?:'|$)|((?: *(?:(?:[^,&;#\s~])))*))\s*)?(?: *~ *(\d*(?:\.\d*)?))?(?:[\s,&;#~]+|$)/g,(e,n,a,i,o,s,l)=>{var u={tag:(n?tx(n)+"::":"")+r+tx(a),value:tx(i??o??s)};l&&10!==parseFloat(l)&&(u.score=parseFloat(l)/10),tN(t,u)}):tN(t,e),t},t$=new WeakMap,tj=e=>t$.get(e),tC=(e,r=X)=>(r?"--track-":"track-")+e,tM=(e,r,t,n,a,i)=>r?.[1]&&eW(r3(e),o=>r[0][o]??=(i=X,ef(n=eW(r[1],([r,t,n],a)=>rP(o,r)&&(i=void 0,!t||rQ(e,t))&&eN(n??o)))&&(!(a=e.getAttribute(o))||ei(a))&&tO(a,rG(n,/\-/g,":"),t),i)),tU=()=>{},t_=(e,r)=>{if(h===(h=tV.tags))return tU(e,r);var t=e=>e?rJ(e)?[[e]]:eI(e)?eq(e,t):[eb(e)?[rW(e.match),e.selector,e.prefix]:[rW(e)]]:[],n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...t(eQ(h))]];(tU=(e,r)=>tM(e,n,r))(e,r)},tF=(e,r)=>rN(ez(r8(e,tC(r,Y)),r8(e,tC("base-"+r,Y)))," "),tP={},tq=(e,r,t=tF(e,"attributes"))=>{t&&tM(e,tP[t]??=[{},rq(t,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,r,t,n)=>[rW(t||n),,r])],r),tO(tF(e,"tags"),void 0,r)},tz=(e,r,t=X,n)=>(t?r1(e,(e,t)=>t(tz(e,r,X)),eS(t)?t:void 0):rN(ez(r4(e,tC(r)),r8(e,tC(r,Y)))," "))??(n&&(g=tj(e))&&n(g))??null,tR=(e,r,t=X,n)=>""===(y=tz(e,r,t,n))||(null==y?y:ei(y)),tD=(e,r,t,n)=>e?(tq(e,n??=new Map),r1(e,e=>{t_(e,n),tO(t?.(e),void 0,n)},r),n.size?{tags:[...n.values()]}:{}):{},tV={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,encryptionKey:null,key:null,apiKey:null,debug:!1,impressionThreshold:1e3,captureContextMenu:!0,defaultActivationTracking:"auto",tags:{default:["data-id","data-name"]}},tB=[],tJ=[],tW=(e,r=0)=>e.charCodeAt(r),tK=e=>String.fromCharCode(...e);[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,r)=>tB[tJ[r]=e.charCodeAt(0)]=r);var tG=e=>{for(var r,t=0,n=e.length,a=[];n>t;)r=e[t++]<<16|e[t++]<<8|e[t++],a.push(tJ[(16515072&r)>>18],tJ[(258048&r)>>12],tJ[(4032&r)>>6],tJ[63&r]);return a.length+=n-t,tK(a)},tL=e=>{for(var r,t=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);a>t;)i[n++]=tB[tW(e,t++)]<<2|(r=tB[tW(e,t++)])>>4,a>t&&(i[n++]=(15&r)<<4|(r=tB[tW(e,t++)])>>2,a>t&&(i[n++]=(3&r)<<6|tB[tW(e,t++)]));return i},tH={32:[2166136261n,16777619n],64:[0xcbf29ce484222325n,1099511628211n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},tX=(e=256)=>e*Math.random()|0,tY=e=>{var r,t,n,a,i,o=0n,s=0,l=0n,u=[],c=0,f=0,d=0,v=0,p=[];for(d=0;d<e?.length;v+=p[d]=e.charCodeAt(d++));var h=e?()=>{u=[...p],f=255&(c=v),d=-1}:()=>{},g=e=>(f=255&(c+=-u[d=(d+1)%u.length]+(u[d]=e)),e);return[e?e=>{for(h(),a=16-((r=e.length)+4)%16,i=new Uint8Array(4+r+a),n=0;n<3;i[n++]=g(tX()));for(t=0,i[n++]=g(f^16*tX(16)+a);r>t;i[n++]=g(f^e[t++]));for(;a--;)i[n++]=tX();return i}:e=>e,e?e=>{for(h(),t=0;t<3;g(e[t++]));if((r=e.length-4-((f^g(e[t++]))%16||16))<=0)return new Uint8Array(0);for(n=0,i=new Uint8Array(r);r>n;i[n++]=f^g(e[t++]));return i}:e=>e,(e,r=64)=>{if(null==e)return null;for(s=ea(r)?64:r,h(),[o,l]=tH[s],t=0;t<e.length;o=BigInt.asUintN(s,(o^BigInt(f^g(e[t++])))*l));return!0===r?Number(BigInt(Number.MIN_SAFE_INTEGER)+o%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):o.toString(36)}]},tZ={exports:{}};(e=>{(()=>{function r(e,r){if(r&&r.multiple&&!Array.isArray(e))throw Error("Invalid argument type: Expected an Array to serialize multiple values.");var t,n,a=new Uint8Array(128),i=0;if(r&&r.multiple)for(var o=0;o<e.length;o++)s(e[o]);else s(e);return a.subarray(0,i);function s(e,a){var i,o,d,v,p,h;switch(typeof e){case"undefined":u(192);break;case"boolean":u(e?195:194);break;case"number":(e=>{if(isFinite(e)&&Number.isSafeInteger(e)){if(e>=0&&e<=127)u(e);else if(e<0&&e>=-32)u(e);else if(e>0&&e<=255)c([204,e]);else if(e>=-128&&e<=127)c([208,e]);else if(e>0&&e<=65535)c([205,e>>>8,e]);else if(e>=-32768&&e<=32767)c([209,e>>>8,e]);else if(e>0&&e<=4294967295)c([206,e>>>24,e>>>16,e>>>8,e]);else if(e>=-2147483648&&e<=2147483647)c([210,e>>>24,e>>>16,e>>>8,e]);else if(e>0&&e<=18446744073709552e3){var r=e/4294967296,a=e%4294967296;c([211,r>>>24,r>>>16,r>>>8,r,a>>>24,a>>>16,a>>>8,a])}else e>=-0x8000000000000000&&e<=0x7fffffffffffffff?(u(211),f(e)):e<0?c([211,128,0,0,0,0,0,0,0]):c([207,255,255,255,255,255,255,255,255])}else n||(n=new DataView(t=new ArrayBuffer(8))),n.setFloat64(0,e),u(203),c(new Uint8Array(t))})(e);break;case"string":(d=(o=(e=>{for(var r=!0,t=e.length,n=0;n<t;n++)if(e.charCodeAt(n)>127){r=!1;break}for(var a=0,i=new Uint8Array(e.length*(r?1:4)),o=0;o!==t;o++){var s=e.charCodeAt(o);if(s<128){i[a++]=s;continue}if(s<2048)i[a++]=s>>6|192;else{if(s>55295&&s<56320){if(++o>=t)throw Error("UTF-8 encode: incomplete surrogate pair");var l=e.charCodeAt(o);if(l<56320||l>57343)throw Error("UTF-8 encode: second surrogate character 0x"+l.toString(16)+" at index "+o+" out of range");s=65536+((1023&s)<<10)+(1023&l),i[a++]=s>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}return r?i:i.subarray(0,a)})(e)).length)<=31?u(160+d):d<=255?c([217,d]):d<=65535?c([218,d>>>8,d]):c([219,d>>>24,d>>>16,d>>>8,d]),c(o);break;case"object":null===e?u(192):e instanceof Date?(e=>{var r=e.getTime()/1e3;if(0===e.getMilliseconds()&&r>=0&&r<4294967296)c([214,255,r>>>24,r>>>16,r>>>8,r]);else if(r>=0&&r<17179869184){var t=1e6*e.getMilliseconds();c([215,255,t>>>22,t>>>14,t>>>6,t<<2>>>0|r/4294967296,r>>>24,r>>>16,r>>>8,r])}else{var t=1e6*e.getMilliseconds();c([199,12,255,t>>>24,t>>>16,t>>>8,t]),f(r)}})(e):Array.isArray(e)?l(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?((h=(p=e).length)<=255?c([196,h]):h<=65535?c([197,h>>>8,h]):c([198,h>>>24,h>>>16,h>>>8,h]),c(p)):e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?l(e):(e=>{var r=0;for(var t in e)void 0!==e[t]&&r++;for(var t in r<=15?u(128+r):r<=65535?c([222,r>>>8,r]):c([223,r>>>24,r>>>16,r>>>8,r]),e){var n=e[t];void 0!==n&&(s(t),s(n))}})(e);break;default:if(!a&&r&&r.invalidTypeReplacement)"function"==typeof r.invalidTypeReplacement?s(r.invalidTypeReplacement(e),!0):s(r.invalidTypeReplacement,!0);else throw Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.")}}function l(e){var r=e.length;r<=15?u(144+r):r<=65535?c([220,r>>>8,r]):c([221,r>>>24,r>>>16,r>>>8,r]);for(var t=0;r>t;t++)s(e[t])}function u(e){if(a.length<i+1){for(var r=2*a.length;r<i+1;)r*=2;var t=new Uint8Array(r);t.set(a),a=t}a[i]=e,i++}function c(e){if(a.length<i+e.length){for(var r=2*a.length;r<i+e.length;)r*=2;var t=new Uint8Array(r);t.set(a),a=t}a.set(e,i),i+=e.length}function f(e){var r,t;e>=0?(r=e/4294967296,t=e%4294967296):(r=~(r=Math.abs(++e)/4294967296),t=~(t=Math.abs(e)%4294967296)),c([r>>>24,r>>>16,r>>>8,r,t>>>24,t>>>16,t>>>8,t])}}function t(e,r){var t,n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),"object"!=typeof e||void 0===e.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),r&&r.multiple)for(t=[];n<e.length;)t.push(a());else t=a();return t;function a(){var r=e[n++];if(r>=0&&r<=127)return r;if(r>=128&&r<=143)return u(r-128);if(r>=144&&r<=159)return c(r-144);if(r>=160&&r<=191)return f(r-160);if(192===r)return null;if(193===r)throw Error("Invalid byte code 0xc1 found.");if(194===r)return!1;if(195===r)return!0;if(196===r)return l(-1,1);if(197===r)return l(-1,2);if(198===r)return l(-1,4);if(199===r)return d(-1,1);if(200===r)return d(-1,2);if(201===r)return d(-1,4);if(202===r)return s(4);if(203===r)return s(8);if(204===r)return o(1);if(205===r)return o(2);if(206===r)return o(4);if(207===r)return o(8);if(208===r)return i(1);if(209===r)return i(2);if(210===r)return i(4);if(211===r)return i(8);if(212===r)return d(1);if(213===r)return d(2);if(214===r)return d(4);if(215===r)return d(8);if(216===r)return d(16);if(217===r)return f(-1,1);if(218===r)return f(-1,2);if(219===r)return f(-1,4);if(220===r)return c(-1,2);if(221===r)return c(-1,4);if(222===r)return u(-1,2);if(223===r)return u(-1,4);if(r>=224&&r<=255)return r-256;throw console.debug("msgpack array:",e),Error("Invalid byte value '"+r+"' at index "+(n-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function i(r){for(var t=0,a=!0;r-- >0;)if(a){var i=e[n++];t+=127&i,128&i&&(t-=128),a=!1}else t*=256,t+=e[n++];return t}function o(r){for(var t=0;r-- >0;)t*=256,t+=e[n++];return t}function s(r){var t=new DataView(e.buffer,n+e.byteOffset,r);return(n+=r,4===r)?t.getFloat32(0,!1):8===r?t.getFloat64(0,!1):void 0}function l(r,t){r<0&&(r=o(t));var a=e.subarray(n,n+r);return n+=r,a}function u(e,r){e<0&&(e=o(r));for(var t={};e-- >0;)t[a()]=a();return t}function c(e,r){e<0&&(e=o(r));for(var t=[];e-- >0;)t.push(a());return t}function f(r,t){r<0&&(r=o(t));var a=n;return n+=r,((e,r,t)=>{var n=r,a="";for(t+=r;t>n;){var i=e[n++];if(i>127){if(i>191&&i<224){if(n>=t)throw Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&e[n++]}else if(i>223&&i<240){if(n+1>=t)throw Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&e[n++])<<6|63&e[n++]}else if(i>239&&i<248){if(n+2>=t)throw Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}else throw Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1))}if(i<=65535)a+=String.fromCharCode(i);else if(i<=1114111)i-=65536,a+=String.fromCharCode(i>>10|55296)+String.fromCharCode(1023&i|56320);else throw Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach")}return a})(e,a,r)}function d(e,r){e<0&&(e=o(r));var t=o(1),a=l(e);return 255===t?(e=>{if(4===e.length){var r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];return new Date(1e3*r)}if(8===e.length){var t=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),r=(3&e[3])*4294967296+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7];return new Date(1e3*r+t/1e6)}if(12===e.length){var t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];n-=8;var r=i(8);return new Date(1e3*r+t/1e6)}throw Error("Invalid data length for a date value.")})(a):{type:t,data:a}}}var n={serialize:r,deserialize:t,encode:r,decode:t};e?e.exports=n:window[window.msgpackJsName||"msgpack"]=n})()})(tZ);var{deserialize:tQ,serialize:t0}=($=tZ.exports)&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$,t1="$ref",t2=(e,r,t)=>ek(e)?L:t?r!==L:null===r||r,t4=(e,r,{defaultValues:t=!0,prettify:n=!1})=>{var a,i,o,s=(e,r,n=e[r],a=t2(r,n,t)?u(n):L)=>(n!==a&&(a!==L||ev(e)?e[r]=a:delete e[r],l(()=>e[r]=n)),a),l=e=>(a??=[]).push(e),u=e=>{if(null==e||eS(e)||ek(e))return L;if(!eg(e))return e;if(e.toJSON&&e!==(e=e.toJSON()))return u(e);if(null!=(o=i?.get(e)))return e[t1]||(e[t1]=o,l(()=>delete e[t1])),{[t1]:o};if(eb(e))for(var r in(i??=new Map).set(e,i.size+1),e)s(e,r);else!eI(e)||e instanceof Uint8Array||(!ev(e)||Object.keys(e).length<e.length?[...e]:e).forEach((r,t)=>t in e?s(e,t):(e[t]=null,l(()=>delete e[t])));return e};return V(()=>r?t0(u(e)??null):V(()=>JSON.stringify(e,L,n?2:0),()=>JSON.stringify(u(e),L,n?2:0)),!0,()=>a?.forEach(e=>e()))},t6=e=>{var r,t,n=e=>eg(e)?e[t1]&&(t=(r??=[])[e[t1]])?t:(e[t1]&&(r[e[t1]]=e,delete e[t1]),Object.entries(e).forEach(([r,t])=>t!==(t=n(t))&&(e[r]=t)),e):e;return n(ef(e)?JSON.parse(e):null!=e?V(()=>tQ(e),()=>(console.error("Invalid message received.",e),L)):e)},t5=(e,r={})=>{var t=(e,{json:r=!1,...t})=>{var n=(e,n)=>ec(e)&&!0===n?e:o(e=ef(e)?new Uint8Array(eF(e.length,r=>255&e.charCodeAt(r))):r?V(()=>JSON.stringify(e),()=>JSON.stringify(t4(e,!1,t))):t4(e,!0,t),n);if(r)return[e=>t4(e,!1,t),e=>null==e?L:V(()=>t6(e),L),(e,r)=>n(e,r)];var[a,i,o]=tY(e);return[(e,r)=>(r?Q:tG)(a(t4(e,!0,t))),e=>null!=e?t6(i(e instanceof Uint8Array?e:tL(e))):null,(e,r)=>n(e,r)]};if(!e){var n=+(r.json??0);if(n&&!1!==r.prettify)return(m??=[t(null,{json:!1}),t(null,{json:!0,prettify:!0})])[+n]}return t(e,r)};t5();var[t3,t8]=t5(null,{json:!0,prettify:!0}),t9=rK(""+rY.currentScript.src,"#"),t7=rK(""+(t9[1]||""),";"),ne=t9[0],nr=t7[1]||rU(ne,!1)?.host,nt=e=>!!(nr&&rU(e,!1)?.host?.endsWith(nr)===Y),nn=(...e)=>rG(rN(e),/(^(?=\?))|(^\.(?=\/))/,ne.split("?")[0]),na=nn("?","var"),ni=nn("?","mnt");nn("?","usr");var no=Symbol(),ns=Symbol(),nl=(e,r,t=Y,n=X)=>{r&&(t?console.groupCollapsed:console.group)((n?"":rT("tail.js: ","90;3"))+r);var a=e?.[ns];a&&(e=e[no]),null!=e&&console.log(eg(e)?rT(t3(e),"94"):eS(e)?""+e:e),a&&a.forEach(([e,r,t])=>nl(e,r,t,!0)),r&&console.groupEnd()},[nu,nc]=t5(),[nf,nd]=[rH,rH],[nv,np]=rI(),nh=e=>{nd===rH&&([nf,nd]=t5(e),np(nf,nd))},ng=e=>r=>ny(e,r),ny=(...e)=>{var r=e.shift();console.error(ef(e[1])?e.shift():e[1]?.message??"An error occurred",r.id??r,...e)},[nm,nb]=rI(),[nw,nk]=rI(),nS=e=>nA!==(nA=e)&&nb(nA=!1,nx(!0,!0)),nI=e=>nE!==(nE=!!e&&"visible"===document.visibilityState)&&nk(nE,!e,nT(!0,!0));nm(nI);var nA=!0,nE=!1,nT=rv(!1),nx=rv(!1);ti(window,["pagehide","freeze"],()=>nS(!1)),ti(window,["pageshow","resume"],()=>nS(!0)),ti(document,"visibilitychange",()=>(nI(!0),nE&&nS(!0))),nb(nA,nx(!0,!0));var nN=!1,nO=rv(!1),[n$,nj]=rI(),nC=rh({callback:()=>nN&&nj(nN=!1,nO(!1)),frequency:2e4,once:!0,paused:!0}),nM=()=>!nN&&(nj(nN=!0,nO(!0)),nC.restart());ti(window,"focus",nM),ti(window,"blur",()=>nC.trigger()),ti(document.body,["keydown","pointerdown","pointermove","scroll"],nM),nM(),(j=b||(b={}))[j.View=-3]="View",j[j.Tab=-2]="Tab",j[j.Shared=-1]="Shared";var nU=r$(b,!1,"local variable scope"),n_=e=>nU.tryParse(e)??th(e),nF=e=>nU.format(e)??th.format(e),nP=e=>!!nU.tryParse(e?.scope),nq=rj({scope:nU},ty),nz=e=>null==e?void 0:ef(e)?e:e.source?nz(e.source):`${n_(e.scope)}\0${e.key}\0${e.targetId??""}`,nR=e=>{var r=e.split("\0");return{scope:+r[0],key:r[1],targetId:r[2]}},nD=0,nV=void 0,nB=()=>(nV??rH())+"_"+nJ(),nJ=()=>(rd(!0)-(parseInt(nV.slice(0,-2),36)||0)).toString(36)+"_"+(++nD).toString(36),nW=e=>crypto.getRandomValues(e),nK=()=>rG("10000000-1000-4000-8000-100000000000",/[018]/g,e=>((e*=1)^nW(new Uint8Array(1))[0]&15>>e/4).toString(16)),nG={},nL={id:nV,heartbeat:rd()},nH={knownTabs:{[nV]:nL},variables:{}},[nX,nY]=rI(),[nZ,nQ]=rI(),n0=rH,n1=e=>nG[nz(e)],n2=(...e)=>n6(e.map(e=>(e.cache=[rd(),3e3],nq(e)))),n4=e=>eF(e,e=>e&&[e,nG[nz(e)]]),n6=e=>{var r=eF(e,e=>e&&[nz(e),e]);if(r?.length){var t=n4(e);e7(nG,r);var n=eX(r,e=>e[1].scope>b.Tab);n.length&&(e7(nH.variables,n),n0({type:"patch",payload:eL(n)})),nQ(t,nG,!0)}};nv((e,r)=>{nm(t=>{if(t){var n=r(sessionStorage.getItem(F));sessionStorage.removeItem(F),nV=n?.[0]??rd(!0).toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),nG=eL(ez(eX(nG,([,e])=>e.scope===b.View),eF(n?.[1],e=>[nz(e),e])))}else sessionStorage.setItem(F,e([nV,eF(nG,([,e])=>e.scope!==b.View?e:void 0)]))},!0),n0=(r,t)=>{e&&(localStorage.setItem(F,e([nV,r,t])),localStorage.removeItem(F))},ti(window,"storage",e=>{if(e.key===F){var n=r?.(e.newValue);if(n&&(!n[2]||n[2]===nV)){var[a,{type:i,payload:o}]=n;if("query"===i)t.active||n0({type:"set",payload:nH},a);else if("set"===i&&t.active)e7(nH,o),e7(nG,o.variables),t.trigger();else if("patch"===i){var s=n4(eF(o,1));e7(nH.variables,o),e7(nG,o),nQ(s,nG,!1)}else"tab"===i&&(e7(nH.knownTabs,a,o),o&&nY("tab",o,!1))}}});var t=rh(()=>nY("ready",nH,!0),-25),n=rh({callback(){var e=rd()-1e4;eW(nH?.knownTabs,([r,t])=>t[0]<e&&rn(nH.knownTabs,r)),nL.heartbeat=rd(),n0({type:"tab",payload:nL})},frequency:5e3,paused:!0}),a=e=>{n0({type:"tab",payload:e?nL:void 0}),e?(t.restart(),n0({type:"query"})):t.toggle(!1),n.toggle(e)};nm(e=>a(e),!0)},!0);var[n5,n3]=rI(),[n8,n9]=rI(),n7=((e,{timeout:r=1e3,encrypt:t=!0,retries:n=10}={})=>{var a=()=>(t?nd:nc)(localStorage.getItem(e)),i=0,o=()=>localStorage.setItem(e,(t?nf:nu)([nV,rd()+r]));return async(t,s,l=null!=s?1:n)=>{for(;l--;){var u=a();if((!u||u[1]<rd())&&(o(),a()?.[0]===nV))return r>0&&(i=setInterval(()=>o(),r/2)),await K(t,!0,()=>{clearInterval(i),localStorage.removeItem(e)});var c=rw(),[f]=ti(window,"storage",r=>{r.key!==e||r.newValue||c.resolve()});await rk(rb(s??r),c),f()}null==s&&q(e+" could not be acquired.")}})(_+"rq"),ae=async(e,r,{beacon:t=!1,encrypt:n=!0}={})=>{var a,i,o=!1,s=t=>{var s=eS(r)?r?.(a,t):r;return!1!==s&&(null!=s&&!0!==s&&(a=s),n3(e,a,t,e=>(o=a===L,a=e)),!o&&(i=n?nf(a,!0):JSON.stringify(a)))};if(!t)return await n7(()=>eK(1,async r=>{if(!s(r))return eN();var t=await fetch(e,{method:null!=a?"POST":"GET",cache:"no-cache",credentials:"include",mode:"cors",headers:{"Content-Type":"text/plain"},body:i});if(t.status>=400)return 0===r?eN(q(`Invalid response: ${await t.text()}`)):(console.warn(`Request to ${e} failed on attempt ${r+1}/3.`),await rb((1+r)*200));var o=n?new Uint8Array(await t.arrayBuffer()):await t.text(),l=o?.length?(n?nd:JSON.parse)?.(o):L;return null!=l&&n9(l),eN(l)}));s(0)&&(navigator.sendBeacon(e,new Blob(null!=a?[i]:[],{type:"text/plain"}))||q("Beacon send failed."))},ar=["scope","key","targetId","version"],at=[...ar,"created","modified","classification","purposes","tags","readonly","value"],an=[...ar,"init","purpose","refresh"],aa=[...at,"value","force","patch"],ai=new Map,ao=(e,r)=>{var t=rh(async()=>{var e=eF(ai,([e,r])=>({...nR(e),result:[...r]}));e.length&&await u.get(...e)},3e3),n=(e,r)=>r&&eB(r,r=>e3(ai,e,()=>new Set).add(r)),a=(e,r)=>{if(e){var t,a=nz(e),i=ra(ai,a);if(i?.size){if(e?.purposes===r?.purposes&&e?.classification==r?.classification&&z(e?.value,r?.value))return;eW(i,i=>{t=!1,i?.(e,r,(e=!0)=>t=e),t&&n(a,i)})}}};nm((e,r)=>t.toggle(e,e&&r>=3e3),!0),nZ(e=>eW(e,([e,r])=>a(e,r)));var i=new Map,o=(e,r)=>e7(i,e,ea(r)?r?void 0:0:r),u={get:(...t)=>tb(async()=>{(!t[0]||ef(t[0]))&&(a=t[0],t=t.slice(1)),r?.validateKey(a);var a,i=[],s=eF(t,(e,r)=>[e,r]),l=[],u=(await ae(e,()=>!!(s=eF(s,([e,r])=>{if(e){var t=nz(e);n(t,e.result);var a=n1(t);e.init&&o(t,e.cache);var s=e.purposes;if((s??~0)&(a?.purposes??~0)){if(!e.refresh&&a?.[1]<rd())ru(i,[{...a,status:d.Success},r]);else if(!nP(e))return[ro(e,an),r];else if(eb(e.init)){var u={...nq(e),status:d.Created,...e.init};null!=u.value&&(ru(l,c(u)),ru(i,[u,r]))}}else ru(i,[{...e,status:d.Denied,error:"No consent for "+tf.logFormat(s)},r])}})).length&&{variables:{get:eF(s,0)},deviceSessionId:r?.deviceSessionId}))?.variables?.get??[];return ru(i,...eF(u,(e,r)=>e&&[e,s[r][1]])),l.length&&n6(l),i.map(([e])=>e)},eF(t,e=>e?.error)),set:(...t)=>tb(async()=>{(!t[0]||ef(t[0]))&&(n=t[0],t=t.slice(1)),r?.validateKey(n);var n,a=[],i=[],u=eF(t,(e,r)=>{if(e){var t=nz(e),n=n1(t);if(o(t,e.cache),nP(e)){if(null!=e.patch)return q("Local patching is not supported.");var u={value:e.value,classification:s.Anonymous,purposes:l.Necessary,scope:nU(e.scope),key:e.key};return i[r]={status:n?d.Success:d.Created,source:e,current:u},void ru(a,c(u))}return null==e.patch&&e?.version===void 0&&(e.version=n?.version,e.force??=!!e.version),[ro(e,aa),r]}}),f=u.length?D((await ae(e,{variables:{set:u.map(e=>e[0])},deviceSessionId:r?.deviceSessionId})).variables?.set,"No result."):[];return a.length&&n6(a),eW(f,(e,r)=>{var[t,n]=u[r];e.source=t,t.result?.(e),i[n]=e}),i},eF(t,e=>e?.error))},c=(e,r=rd())=>({...ro(e,at),cache:[r,r+(ra(i,nz(e))??3e3)]});return n8(({variables:e})=>{if(e){var r=rd(),t=ez(eF(e.get,e=>tk(e)),eF(e.set,e=>tk(e)));t?.length&&n6(eB(t,c,r))}}),u},as=(e,r,t=rL)=>{var n=[],a=new WeakMap,i=new Map,o=(e,r)=>e.metadata?.queued?e8(r,{type:e.type+"_patch",patchTargetId:e.clientId}):q("Source event not queued."),s=async(t,n=!0,a)=>{var i;return(!t[0]||ef(t[0]))&&(i=t[0],t=t.slice(1)),nl({[ns]:eF(t=t.map(e=>(r?.validateKey(i??e.key),e8(e,{metadata:{posted:!0}}),e8(tv(rl(e),!0),{timestamp:e.timestamp-rd()}))),e=>[e,e.type,X])},"Posting "+rA([rE("new event",[eY(t,e=>!tp(e))||void 0]),rE("event patch",[eY(t,e=>tp(e))||void 0])])+(n?" asynchronously":" synchronously")+"."),ae(e,{events:t,variables:a,deviceSessionId:r?.deviceSessionId},{beacon:n})},l=async(e,{flush:t=!1,async:a=!0,variables:i}={})=>{if((e=eF(eh(e),e=>e8(r.applyEventExtensions(e),{metadata:{queued:!0}}))).length&&eW(e,e=>nl(e,e.type)),!a)return s(e,!1,i);if(!t){e.length&&ru(n,...e);return}n.length&&rc(e,...n.splice(0)),e.length&&await s(e,!0,i)};return t>0&&rh(()=>l([],{flush:!0}),t),nw((e,r,t)=>{if(!e&&(n.length||r||t>1500)){var a=eF(i,([e,r])=>{var[t,n]=r();return n&&i.delete(e),t});(n.length||a.length)&&l(ez(n.splice(0),a),{flush:!0})}}),{post:l,postPatch:(e,r,t)=>l(o(e,r),{flush:!0}),registerEventPatchSource(e,r,t=!0){var n=!1,s=()=>n=!0;return a.set(e,rl(e)),i.set(e,()=>{var i=a.get(e),[l,u]=(t?rf(r(i,s),i):r(i,s))??[];return l&&!z(u,i)?(a.set(e,rl(u)),[o(e,l),n]):[void 0,n]}),s}}},al=Symbol(),au=e=>{var r=new IntersectionObserver(e=>eW(e,({target:e,isIntersecting:r,boundingClientRect:t,intersectionRatio:n})=>e[al]?.(r,t,n)),{threshold:[.05,.1,.15,.2,.3,.4,.5,.6,.75]});return(t,n)=>{if(n&&(a=eX(n?.component,e=>e.track?.impressions||(e.track?.secondary??e.inferred)!==Y))&&eY(a)){var a,i,o,s,l=X,u=0,c=rp(tV.impressionThreshold),f=aT();t[al]=(r,n,d)=>{f(r=d>=.75||n.top<(i=window.innerHeight/2)&&n.bottom>i),l!==(l=r)&&(l?c(()=>{if(++u,!o){var r,n=t.innerText;n?.trim()?.length&&(r={characters:n.match(/\S/gu)?.length,words:n.match(/\b\w+\b/gu)?.length,sentences:n.match(/\w.*?[.!?]+(\s|$)/gu)?.length}).words&&(r.readingTime=6e4*(r.words/238)),ru(e,o=eX(eF(a,e=>(e.track?.impressions||tR(t,"impressions",Y,e=>e.track?.impressions))&&G({type:"impression",pos:tt(t),viewport:ts(),timeOffset:aN(),impressions:u,text:r,...aR(t,Y)})||null)))}o?.length&&(s=eF(o,r=>e.events.registerEventPatchSource(r,()=>({relatedEventId:r.clientId,duration:f(),impressions:u}))))}):(eW(s,e=>e()),c(!1)))},r.observe(t)}}},ac=()=>{nZ((e,r,t)=>{var n=ez(tm(eF(e,1))?.map(e=>[e,`${e.key} (${nF(e.scope)}, ${e.scope<0?"client-side memory only":tf.format(e.purposes)})`,X]),[[{[ns]:tm(eF(r,1))?.map(e=>[e,`${e.key} (${nF(e.scope)}, ${e.scope<0?"client-side memory only":tf.format(e.purposes)})`,X])},"All variables",Y]]);nl({[ns]:n},rT(`Variables changed${t?"":" - merging changes from another tab"} (${e.length} changed, ${eY(r)} in total).`,"2;3"))})},af=()=>{var e=rX?.screen;if(!e)return{};var{width:r,height:t,orientation:n}=e,a=r<t,i=n?.angle??rX.orientation??0;return(-90===i||90===i)&&([r,t]=[t,r]),{deviceType:r<480?"mobile":r<=1024?"tablet":"desktop",screen:{dpr:rX.devicePixelRatio,width:r,height:t,landscape:a}}},ad=e=>ru(e,G({type:"user_agent",hasTouch:navigator.maxTouchPoints>0,userAgent:navigator.userAgent,view:k?.clientId,languages:eF(navigator.languages,(e,r,t=e.split("-"))=>G({id:e,language:t[0],region:t[1],primary:0===r,preference:r+1})),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:new Date().getTimezoneOffset()},...af()})),av=(e,r="A"===r9(e)&&r4(e,"href"))=>r&&"#"!=r&&!r.startsWith("javascript:"),ap=(e,r=r9(e),t=tR(e,"button"))=>t!==X&&(R(r,"A","BUTTON")||"INPUT"===r&&R(r5(e,"type"),"button","submit")||t===Y),ah=e=>{if(w)return w;ef(e)&&([r,e]=nc(e),e=t5(r)[1](e)),e7(tV,e),nh(ra(tV,"encryptionKey"));var r,t=ra(tV,"key"),n=rX[tV.name]??[];if(!ev(n)){q(`The global variable for the tracker "${tV.name}" is used for something else than an array of queued commands.`);return}var a=[],i=[],o=(e,...r)=>{var t=Y;i=eX(i,n=>V(()=>(n[e]?.(...r,{tracker:w,unsubscribe:()=>t=X}),t),ng(n)))},s=[],l={applyEventExtensions(e){e.clientId??=nB(),e.timestamp??=rd(),v=Y;var r=X;return eF(a,([,t])=>{(r||t.decorate?.(e)===X)&&(r=Y)}),r?void 0:e},validateKey:(e,r=!0)=>!t&&!e||e===t||!!r&&q(`'${e}' is not a valid key.`)},u=ao(na,l),c=as(na,l),f=null,d=0,v=X,p=X;return Object.defineProperty(rX,tV.name,{value:w=Object.freeze({id:"tracker_"+nB(),events:c,variables:u,push(...e){if(e.length){if(e.length>1&&(!e[0]||ef(e[0]))&&(r=e[0],e=e.slice(1)),ef(e[0])){var r,t=e[0];e=t.match(/^[{[]/)?JSON.parse(t):nc(t)}var n=X;if((e=eX(eq(e,e=>ef(e)?nc(e):e),e=>{if(!e)return X;if(aK(e))tV.tags=e7({},tV.tags,e.tagAttributes);else if(aG(e))return tV.disabled=e.disable,X;else if(aX(e))return n=Y,X;else if(a2(e))return e(w),X;return p||aZ(e)||aH(e)?Y:(s.push(e),X)})).length||n){var h=e6(e,e=>aH(e)?-100:aZ(e)?-50:a1(e)?-10:tE(e)?90:0);if(!(f&&f.splice(v?d+1:f.length,0,...h))){for(d=0,f=h;d<f.length;d++){var g=f[d];g&&(l.validateKey(r??g.key),V(()=>{var e,r=f[d];if(o("command",r),v=X,tE(r))c.post(r);else if(aY(r))u.get(...eh(r.get));else if(a1(r))u.set(...eh(r.set));else if(aZ(r))ru(i,r.listener);else if(aH(r))(e=V(()=>r.extension.setup(w),e=>ny(r.extension.id,e)))&&(ru(a,[r.priority??100,e,r.extension]),e6(a,([e])=>e));else if(a2(r))r(w);else{var t=X;for(var[,e]of a)if(t=e.processCommand?.(r)??X)break;t||ny("invalid-command",r,"Loaded extensions:",a.map(e=>e[2].id))}},e=>ny(w,"internal-error",e)))}f=null,n&&c.post([],{flush:n})}}}},__isTracker:Y}),configurable:!1,writable:!1}),ac(),nX(async(e,r,t,a)=>{if("ready"===e){var i=tA((await u.get({scope:"session",key:M,refresh:!0},{scope:"session",key:U,refresh:!0,cache:H}))[0]).value;l.deviceSessionId=i.deviceSessionId,i.hasUserAgent||(ad(w),i.hasUserAgent=!0),p=!0,s.length&&ru(w,s),a(),ru(w,...eF(aV,e=>({extension:e})),...n,{set:{scope:"view",key:"loaded",value:!0}})}},!0),w},ag=()=>k?.clientId,ay={scope:"shared",key:"referrer"},am=(e,r)=>{w.variables.set({...ay,value:[ag(),e]}),r&&w.variables.get({scope:ay.scope,key:ay.key,result:(t,n,a)=>t?.value?a():n?.value?.[1]===e&&r()})},ab=rv(),aw=rv(),ak=rv(),aS=1,aI=()=>aw(),[aA,aE]=rI(),aT=e=>{var r=rv(e,ab),t=rv(e,aw),n=rv(e,ak),a=rv(e,()=>aS);return(e,i)=>({totalTime:r(e,i),visibleTime:t(e,i),interactiveTime:n(e,i),activations:a(e,i)})},ax=aT(),aN=()=>ax(),[aO,a$]=rI(),aj=(e,r)=>(r&&eW(aM,r=>e(r,()=>!1)),aO(e)),aC=new WeakSet,aM=document.getElementsByTagName("iframe"),aU=e=>(null==e||(e===Y||""===e)&&(e="add"),ef(e)&&R(e,"add","remove","update","clear")?{action:e}:eg(e)?e:void 0);function a_(e){if(e){if(null!=e.units&&R(e.action,null,"add","remove")){if(0===e.units)return;e.action=e.units>0?"add":"remove"}return e}}var aF=e=>tD(e,void 0,e=>eF(eh(e3(t$,e)?.tags))),aP=e=>e?.component||e?.content,aq=e=>tD(e,r=>r!==e&&!!aP(e3(t$,r)),e=>(I=e3(t$,e),(I=e3(t$,e))&&eq(ez(I.component,I.content,I),"tags"))),az=(e,r)=>r?e:{...e,rect:void 0,content:(A=e.content)&&eF(A,e=>({...e,rect:void 0}))},aR=(e,r=X)=>{var t,n,a,i=[],o=[],s=0;return r1(e,e=>{var n=e3(t$,e);if(n){if(aP(n)){var a=eX(eh(n.component),e=>0===s||!r&&(1===s&&e.track?.secondary!==Y||e.track?.promote));t=e4(a,e=>e.track?.region)&&ta(e)||void 0;var l=aq(e);n.content&&rc(i,...eF(n.content,e=>({...e,rect:t,...l}))),a?.length&&(rc(o,...eF(a,e=>(s=eZ(s,e.track?.secondary?1:2),az({...e,content:i,rect:t,...l},!!t)))),i=[])}var u=n.area||tz(e,"area");u&&rc(o,...eF(u))}}),i.length&&ru(o,az({id:"",rect:t,content:i})),eW(o,e=>{ef(e)?ru(n??=[],e):(e.area??=rN(n,"/"),rc(a??=[],e))}),a||n?{components:a,area:rN(n,"/")}:void 0},aD=Symbol();C={necessary:1,preferences:2,statistics:4,marketing:8},window.tail.push({consent:{externalSource:{key:"Cookiebot",poll(){var e=rY.cookie.match(/CookieConsent=([^;]*)/)?.[1],r=1;return e?.replace(/([a-z]+):(true|false)/g,(e,t,n)=>("true"===n&&(r|=C[t]??0),"")),{level:r>1?1:0,purposes:r}}}}});var aV=[{id:"context",setup(e){rh(()=>eW(aM,e=>rr(aC,e)&&a$(e)),1e3).trigger(),e.variables.get({scope:"view",key:"view",result:(t,n,a)=>(null==k||!t?.value||k?.definition?r=t?.value:(k.definition=t.value,k.metadata?.posted&&e.events.postPatch(k,{definition:r})),a())});var r,t=n1({scope:"tab",key:"viewIndex"})?.value??0,n=n1({scope:"tab",key:"tabIndex"})?.value;null==n&&n2({scope:"tab",key:"tabIndex",value:n=n1({scope:"shared",key:"tabIndex"})?.value??n1({scope:"session",key:M})?.value?.tabs??0},{scope:"shared",key:"tabIndex",value:n+1});var a=null,i=(i=X)=>{if(!tr(""+a,a=location.href)||i){var{source:o,scheme:s,host:l}=rU(location.href+"",!0);k={type:"view",timestamp:rd(),clientId:nB(),tab:nV,href:o,path:location.pathname,hash:location.hash||void 0,domain:{scheme:s,host:l},tabNumber:n+1,tabViewNumber:t+1,viewport:ts(),duration:ax(void 0,!0)},0===n&&(k.firstTab=Y),0===n&&0===t&&(k.landingPage=Y),n2({scope:"tab",key:"viewIndex",value:++t});var u=r_(location.href);if(eF(["source","medium","campaign","term","content"],(e,r)=>(k.utm??={})[e]=u[`utm_${e}`]?.[0]),!(k.navigationType=S)&&performance&&eF(performance.getEntriesByType("navigation"),e=>{k.redirects=e.redirectCount,k.navigationType=rG(e.type,/\_/g,"-")}),S=void 0,"navigate"===(k.navigationType??="navigate")){var c=n1(ay)?.value;c&&nt(document.referrer)&&(k.view=c?.[0],k.relatedEventId=c?.[1],e.variables.set({...ay,value:void 0}))}var c=document.referrer||null;c&&!nt(c)&&(k.externalReferrer={href:c,domain:to(c)}),k.definition=r,r=void 0,e.events.post(k),e.events.registerEventPatchSource(k,()=>({duration:aN()})),aE(k)}};return n$(e=>ak(e)),nw(e=>{e?(aw(Y),++aS):(aw(X),ak(X))}),ti(window,"popstate",()=>(S="back-forward",i())),eF(["push","replace"],e=>{var r=history[e+="State"];history[e]=(...e)=>{r.apply(history,e),S="navigate",i()}}),i(),{processCommand:r=>aW(r)&&(ru(e,r.username?{type:"login",username:r.username}:{type:"logout"}),Y),decorate(e){!k||tT(e)||tp(e)||(e.view=k.clientId)}}}},{id:"components",setup(e){var r=au(e),t=e=>null==e?void 0:{...e,component:eh(e.component),content:eh(e.content),tags:eh(e.tags)},n=({boundary:e,...n})=>{re(t$,e,e=>t("add"in n?{...e,component:ez(e?.component,n.component),content:ez(e?.content,n.content),area:n?.area??e?.area,tags:ez(e?.tags,n.tags),cart:n.cart??e?.cart,track:n.track??e?.track}:"update"in n?n.update(e):n)),r(e,e3(t$,e))};return{decorate(e){eW(e.components,e=>ra(e,"track"))},processCommand:e=>aL(e)?(n(e),Y):a0(e)?(eF(((e,r)=>{if(!r)return[];var t=[],n=new Set;return document.querySelectorAll(`[${e}]`).forEach(a=>{if(!e3(n,a))for(var i=[];null!=r4(a,e);){rr(n,a);var o=rK(r4(a,e),"|");r4(a,e,null);for(var s=0;s<o.length;s++){var l=o[s];if(""!==l){var u="-"===l?-1:parseInt(ed(l)??"",36);if(u<0){i.length+=u;continue}if(0===s&&(i.length=0),isNaN(u)&&/^["\[{]/.test(l))for(var c="";s<o.length;s++)try{l=JSON.parse(c+=o[s]);break}catch(e){}u>=0&&r[u]&&(l=r[u]),ru(i,l)}}ru(t,...eF(i,e=>({add:Y,...e,boundary:a})));var f=a.nextElementSibling;"WBR"===a.tagName&&a.parentNode?.removeChild(a),a=f}}),t})(e.scan.attribute,e.scan.components),n),Y):X}}},{id:"navigation",setup(e){var r=r=>{ti(r,["click","contextmenu","auxclick"],t=>{var n,a,i,o,s=X;if(r1(t.target,e=>{var r;ap(e)&&(o??=e),s=s||"NAV"===r9(e),a??=tR(e,"clicks",Y,e=>e.track?.clicks)??((r=eh(tj(e)?.component))&&e4(r,e=>e.track?.clicks!==X)),i??=tR(e,"region",Y,e=>e.track?.region)??((r=tj(e)?.component)&&e4(r,e=>e.track?.region))}),o){var l,u=aR(o),c=aF(o);a??=!s;var f={...(i??=Y)?{pos:tt(o,t),viewport:ts()}:null,...(r1(t.target??o,e=>"IMG"===r9(e)||e===o?(n={element:{tagName:e.tagName,text:r4(e,"title")||r4(e,"alt")||e.innerText?.trim().substring(0,100)||void 0}},X):Y),n),...u,timeOffset:aN(),...c};if(av(o)){var d=o.hostname!==location.hostname,{host:v,scheme:p,source:h}=rU(o.href,!1);if(o.host===location.host&&o.pathname===location.pathname&&o.search===location.search){if("#"===o.hash)return;o.hash!==location.hash&&0===t.button&&ru(e,G({type:"anchor_navigation",anchor:o.hash,...f}));return}var g=G({clientId:nB(),type:"navigation",href:d?o.href:h,external:d,domain:{host:v,scheme:p},self:Y,anchor:o.hash,...f});if("contextmenu"===t.type){var y=o.href,m=nt(y);if(m){am(g.clientId,()=>ru(e,g));return}var b=(""+Math.random()).replace(".","").substring(1,8);if(!m){if(!tV.captureContextMenu)return;o.href=ni+"="+b+encodeURIComponent(y),ti(window,"storage",(r,t)=>r.key===P&&(r.newValue&&JSON.parse(r.newValue)?.requestId===b&&ru(e,g),t())),ti(r,["keydown","keyup","visibilitychange","pointermove"],(e,r)=>{r(),o.href=y})}return}t.button<=1&&(1===t.button||t.ctrlKey||t.shiftKey||t.altKey||r4(o,"target")!==window.name?(am(g.clientId),g.self=X,ru(e,g)):tr(location.href,o.href)||(g.exit=g.external,am(g.clientId)));return}var w=(r1(t.target,(e,r)=>!!(l??=aU(tj(e)?.cart??tz(e,"cart")))&&!l.item&&(l.item=e2(tj(e)?.content))&&r(l)),a_(l));(w||a)&&ru(e,w?G({type:"cart_updated",...f,...w}):G({type:"component_click",...f}))}})};r(document),aj(e=>e.contentDocument&&r(e.contentDocument))}},{id:"scroll",setup(e){var r={},t=te(Y);aA(()=>rm(()=>(r={},t=te(Y)),250)),ti(window,"scroll",()=>{var n=te(),a=r7();if(n.y>=t.y){var i=[];!r.fold&&n.y>=t.y+200&&(r.fold=Y,ru(i,"fold")),!r["page-middle"]&&a.y>=.5&&(r["page-middle"]=Y,ru(i,"page-middle")),!r["page-end"]&&a.y>=.99&&(r["page-end"]=Y,ru(i,"page-end"));var o=eF(i,e=>G({type:"scroll",scrollType:e,offset:a}));o.length&&ru(e,o)}})}},{id:"cart",setup:e=>({processCommand(r){if(aJ(r)){var t=r.cart;return"clear"===t?ru(e,{type:"cart_updated",action:"clear"}):(t=a_(t))&&ru(e,{...t,type:"cart_updated"}),Y}return aQ(r)?(ru(e,{type:"order",...r.order}),Y):X}})},{id:"forms",setup(e){var r=new Map,t=e=>e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"yes":"no":e.value,n=n=>{var a,i=n.form;if(i){var s=r6(i,tC("ref"))||"track_ref",l=()=>i.isConnected&&ta(i).width,u=e3(r,i,()=>{var r,t=new Map,n={type:"form",name:r6(i,tC("form-name"))||r4(i,"name")||i.id||void 0,activeTime:0,totalTime:0,fields:{}};e.events.post(n),e.events.registerEventPatchSource(n,()=>({...n,timeOffset:aN()}));var s=()=>{o(),r[3]>=2&&(n.completed=3===r[3]||!l()),e.events.postPatch(n,{...a,totalTime:rd(Y)-r[4]}),r[3]=1},u=rp();return ti(i,"submit",()=>{a=aR(i),r[3]=3,u(()=>{i.isConnected&&ta(i).width>0?(r[3]=2,u()):s()},750)}),r=[n,t,i,0,rd(Y),1]});return e3(u[1],n)||eF(i.querySelectorAll("INPUT,SELECT,TEXTAREA"),(e,r)=>{if(!e.name||"hidden"===e.type){"hidden"===e.type&&(e.name===s||tR(e,"ref"))&&(e.value||(e.value=nK()),u[0].ref=e.value);return}var n=e.name,a=u[0].fields[n]??={id:e.id||n,name:n,label:rG(e.labels?.[0]?.innerText??e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,totalTime:0,type:e.type??"unknown",[aD]:t(e)};u[0].fields[a.name]=a,u[1].set(e,a)}),[n,u]}},a=(e,[r,t]=n(e)??[],a=t?.[1].get(r))=>a&&[t[0],a,r,t],i=null,o=()=>{if(i){var[e,r,n,a]=i,o=-(s-(s=aI())),u=-(l-(l=rd(Y))),c=r[aD];(r[aD]=t(n))!==c&&(r.fillOrder??=a[5]++,r.filled&&(r.corrections=(r.corrections??0)+1),r.filled=Y,a[3]=2,eW(e.fields,([e,t])=>t.lastField=e===r.name)),r.activeTime+=o,r.totalTime+=u,e.activeTime+=o,e.totalTime+=u,i=null}},s=0,l=0,u=e=>e&&ti(e,["focusin","focusout","change"],(e,r,t=e.target&&a(e.target))=>t&&(i=t,"focusin"===e.type?(l=rd(Y),s=aI()):o()));u(document),aj(e=>e.contentDocument&&u(e.contentDocument),!0)}},{id:"consent",setup(e){var r=async r=>await e.variables.get({scope:"session",key:U,result:r}).value,t=async t=>{if(t){var n=await r();if(!n||tu(n,t=tc(t)))return[!1,n];var a={level:tl.lookup(t.classification),purposes:tf.lookup(t.purposes)};return await e.events.post(G({type:"consent",consent:a}),{async:!1,variables:{get:[{scope:"session",key:U}]}}),[!0,a]}},n={};return{processCommand(e){if(a4(e)){var a=e.consent.get;a&&r(a);var i=tc(e.consent.set);i&&(async()=>i.callback?.(...await t(i)))();var o=e.consent.externalSource;if(o){var s,l=o.key,u=n[l]??=rh({frequency:o.pollFrequency??1e3}),c=async()=>{if(rY.hasFocus()){var e=tc(o.poll());if(e&&!tu(s,e)){var[r,n]=await t(e);r&&nl(n,"Consent was updated from "+l),s=e}}};u.restart(o.pollFrequency,c).trigger()}return Y}return X}}}}],aB=(...e)=>r=>r===e[0]||e.some(e=>"string"==typeof e&&r?.[e]!==void 0),aJ=aB("cart"),aW=aB("username"),aK=aB("tagAttributes"),aG=aB("disable"),aL=aB("boundary"),aH=aB("extension"),aX=aB(Y,"flush"),aY=aB("get"),aZ=aB("listener"),aQ=aB("order"),a0=aB("scan"),a1=aB("set"),a2=e=>"function"==typeof e,a4=aB("consent");Object.defineProperty(rX,".tail.js.init",{writable:!1,configurable:!1,value(e){e(ah)}})})();
//# sourceMappingURL=tail.debug.js.map
