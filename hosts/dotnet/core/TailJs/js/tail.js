(()=>{"use strict";var e,r,t,n,a,i,o,s,l,u,c,f,d,v,p,h,g,m,y,b,w,k,S,E,I,A,T,x,N,O,$,j,C="info",_=(e,r=e=>TypeError(e))=>{throw ea(e=rr(e))?r(e):e},M=(e,r,t=-1)=>{if(e===r||(e??r)==null)return!0;if(eu(e)&&eu(r)&&e.length===r.length){var n=0;for(var a in e){if(e[a]!==r[a]&&!M(e[a],r[a],t-1))return!1;++n}return n===Object.keys(r).length}return!1},U=(e,r,...t)=>e===r||t.length>0&&t.some(r=>U(e,r)),F=(e,r)=>null!=e?e:_(r??"A required value is missing",e=>TypeError(e.replace("..."," is required."))),P=(e,r=!0,t)=>{try{return e()}catch(e){return eh(r)?es(e=r(e))?_(e):e:Z(r)?console.error(r?_(e):e):r}finally{t?.()}},R=e=>{var r=void 0;return()=>r??=rr(e)},q=e=>{var r={initialized:!0,then:D(()=>(r.initialized=!0,rr(e)))};return r},D=e=>{var r=R(e);return(e,t)=>z(r,[e,t])},z=async(e,r=!0,t)=>{try{var n=await rr(e);return eo(r)?r[0]?.(n):n}catch(e){if(Z(r)){if(r)throw e;console.error(e)}else{if(eo(r)){if(!r[1])throw e;return r[1](e)}var a=await r?.(e);if(a instanceof Error)throw a;return a}}finally{await t?.()}},B=e=>e,W=void 0,J=Number.MAX_SAFE_INTEGER,V=!1,G=!0,L=()=>{},H=e=>null!=e,K=Symbol.iterator,X=(e,r)=>(t,n=!0)=>e(t)?t:r&&n&&null!=t&&null!=(t=r(t))?t:W,Y=(e,r)=>eh(r)?e!==W?r(e):W:e?.[r]!==W?e:W,Z=e=>"boolean"==typeof e,Q=X(Z,e=>0!=e&&(1==e||"false"!==e&&("true"===e||W))),ee=e=>!!e,er=e=>e===G,et=e=>e!==V,en=e=>"number"==typeof e,ea=e=>"string"==typeof e,ei=X(ea,e=>e?.toString()),eo=Array.isArray,es=e=>e instanceof Error,el=(e,r=!1)=>null==e?W:!r&&eo(e)?e:eg(e)?[...e]:[e],eu=e=>null!==e&&"object"==typeof e,ec=Object.prototype,ef=Object.getPrototypeOf,ed=e=>null!=e&&ef(e)===ec,ev=(e,r)=>"function"==typeof e?.[r],ep=e=>"symbol"==typeof e,eh=e=>"function"==typeof e,eg=(e,r=!1)=>!!(e?.[K]&&("object"==typeof e||r)),em=e=>e instanceof Map,ey=e=>e instanceof Set,eb=(e,r)=>null==e?W:!1===r?e:Math.round(e*(r=Math.pow(10,r&&!0!==r?r:0)))/r,ew=!1,ek=e=>(ew=!0,e),eS=e=>null==e?W:eh(e)?e:r=>r[e],eE=(e,r,t)=>(r??t)!==W?(e=eS(e),r??=0,t??=J,(n,a)=>r--?W:t--?e?e(n,a):n:t):e,eI=e=>e?.filter(H),eA=(e,r,t,n)=>null==e?[]:!r&&eo(e)?eI(e):e[K]?function*(e,r){if(null!=e){if(r){r=eS(r);var t=0;for(var n of e)if(null!=(n=r(n,t++))&&(yield n),ew){ew=!1;break}}else for(var n of e)null!=n&&(yield n)}}(e,t===W?r:eE(r,t,n)):eu(e)?function*(e,r){r=eS(r);var t=0;for(var n in e){var a=[n,e[n]];if(r&&(a=r(a,t++)),null!=a&&(yield a),ew){ew=!1;break}}}(e,eE(r,t,n)):eA(eh(e)?function*(e,r,t=Number.MAX_SAFE_INTEGER){for(null!=r&&(yield r);t--&&null!=(r=e(r));)yield r}(e,t,n):function*(e=0,r){if(e<0)for(r??=-e-1;e++;)yield r--;else for(r??=0;e--;)yield r++}(e,t),r),eT=(e,r)=>r&&!eo(e)?[...e]:e,ex=(e,r,t,n)=>eA(e,r,t,n),eN=(e,r,t=1,n=!1,a,i)=>(function* e(r,t,n,a){if(null!=r){if(r[K]||n&&eu(r))for(var i of a?eA(r):r)1!==t?yield*e(i,t-1,n,!0):yield i;else yield r}})(eA(e,r,a,i),t+1,n,!1),eO=(e,r,t,n)=>{if(r=eS(r),eo(e)){var a=0,i=[];for(t=t<0?e.length+t:t??0,n=n<0?e.length+n:n??e.length;t<n&&!ew;t++){var o=e[t];(r?o=r(o,a++):o)!=null&&i.push(o)}return ew=!1,i}return null!=e?el(ex(e,r,t,n)):W},e$=(e,r,t,n)=>null!=e?new Set([...ex(e,r,t,n)]):W,ej=(e,r,t=1,n=!1,a,i)=>el(eN(e,r,t,n,a,i)),eC=(e,r,t)=>null==e?W:eh(r)?rb(eO(ea(e)?[e]:e,r),t??""):ea(e)?e:rb(eO(e,e=>!1===e?W:e),r??""),e_=(...e)=>{var r;return eq(1===e.length?e[0]:e,e=>null!=e&&(r??=[]).push(...el(e))),r},eM=(e,r,t,n)=>{var a,i=0;for(t=t<0?e.length+t:t??0,n=n<0?e.length+n:n??e.length;t<n;t++)if(null!=e[t]&&(a=r(e[t],i++)??a,ew)){ew=!1;break}return a},eU=(e,r)=>{var t,n=0;for(var a of e)if(null!=a&&(t=r(a,n++)??t,ew)){ew=!1;break}return t},eF=(e,r)=>{var t,n=0;for(var a in e)if(t=r([a,e[a]],n++)??t,ew){ew=!1;break}return t},eP=(e,r,...t)=>null==e?W:eg(e)?eO(e,e=>r(e,...t)):r(e,...t),eR=(e,r,t,n)=>{var a;if(null!=e){if(eo(e))return eM(e,r,t,n);if(t===W){if(e[K])return eU(e,r);if("object"==typeof e)return eF(e,r)}for(var i of eA(e,r,t,n))null!=i&&(a=i);return a}},eq=eR,eD=async(e,r,t,n)=>{var a;if(null==e)return W;for(var i of ex(e,r,t,n))if(null!=(i=await i)&&(a=i),ew){ew=!1;break}return a},ez=Object.fromEntries,eB=(e,r,t)=>{if(null==e)return W;if(Z(r)||t){var n={};return eq(e,t?(e,a)=>null!=(e=r(e,a))&&null!=(e[1]=t(n[e[0]],e[1]))&&(n[e[0]]=e[1]):e=>eq(e,r?e=>e?.[1]!=null&&((n[e[0]]??=[]).push(e[1]),n):e=>e?.[1]!=null&&(n[e[0]]=e[1],n))),n}return ez(eO(e,r?(e,t)=>Y(r(e,t),1):e=>Y(e,1)))},eW=(e,r,t,n,a)=>{var i=()=>eh(t)?t():t;return eR(e,(e,n)=>t=r(t,e,n)??i(),n,a)??i()},eJ=(e,r=e=>null!=e,t=eo(e),n,a)=>eT(eA(e,(e,t)=>r(e,t)?e:W,n,a),t),eV=(e,r,t,n)=>{var a;if(null==e)return W;if(r)e=eJ(e,r,!1,t,n);else{if(null!=(a=e.length??e.size))return a;if(!e[K])return Object.keys(e).length}return a=0,eR(e,()=>++a)??0},eG=(e,...r)=>null==e?W:en(e)?Math.max(e,...r):eW(e,(e,t,n,a=r[1]?r[1](t,n):t)=>null==e||en(a)&&a>e?a:e,W,r[2],r[3]),eL=(e,r,t)=>eO(e,ed(e)?e=>e[1]:e=>e,r,t),eH=e=>!eo(e)&&eg(e)?eO(e,em(e)?e=>e:ey(e)?e=>[e,!0]:(e,r)=>[r,e]):eu(e)?Object.entries(e):W,eK=(e,r,t,n)=>null==e?W:(r=eS(r),eR(e,(e,t)=>!r||(e=r(e,t))?ek(e):W,t,n)),eX=(e,r,t,n)=>null==e?W:eo(e)||ea(e)?e[e.length-1]:eR(e,(e,t)=>!r||r(e,t)?e:W,t,n),eY=(e,r,t,n)=>null==e?W:ed(e)&&!r?Object.keys(e).length>0:e.some?.(r??ee)??eR(e,r?(e,t)=>!!r(e,t)&&ek(!0):()=>ek(!0),t,n)??!1,eZ=(e,r=e=>e)=>(e?.sort((e,t)=>r(e)-r(t)),e),eQ=(e,r,t)=>(e.constructor===Object?void 0===t?delete e[r]:e[r]=t:void 0===t?e.delete?e.delete(r):delete e[r]:e.set?e.set(r,t):e.add?t?e.add(r):e.delete(r):e[r]=t,t),e0=(e,r,t)=>{if(e){if(e.constructor===Object&&null==t)return e[r];var n=e.get?e.get(r):e.has?e.has(r):e[r];return void 0===n&&null!=t&&null!=(n=eh(t)?t():t)&&eQ(e,r,n),n}},e1=(e,...r)=>(eq(r,r=>eq(r,([r,t])=>{null!=t&&(ed(e[r])&&ed(t)?e1(e[r],t):e[r]=t)})),e),e2=e=>(r,t,n,a)=>{if(r)return void 0!=n?e(r,t,n,a):(eq(t,t=>eo(t)?e(r,t[0],t[1]):eq(t,([t,n])=>e(r,t,n))),r)},e4=e2(eQ),e6=e2((e,r,t)=>eQ(e,r,eh(t)?t(e0(e,r)):t)),e5=(e,r)=>e instanceof Set?!e.has(r)&&(e.add(r),!0):e0(e,r)!==e4(e,r,!0),e3=(e,r)=>{if((e??r)!=null){var t=e0(e,r);return ev(e,"delete")?e.delete(r):delete e[r],t}},e8=(e,...r)=>{var t=[],n=!1,a=(e,i,o,s)=>{if(e){var l=r[i];i===r.length-1?eo(l)?(n=!0,l.forEach(r=>t.push(e3(e,r)))):t.push(e3(e,l)):(eo(l)?(n=!0,l.forEach(r=>a(e0(e,r),i+1,e,r))):a(e0(e,l),i+1,e,l),!eV(e)&&o&&e9(o,s))}};return a(e,0),n?t:t[0]},e9=(e,r)=>{if(e)return eo(r)?(eo(e)&&e.length>1?r.sort((e,r)=>r-e):r).map(r=>e9(e,r)):eo(e)?r<e.length?e.splice(r,1)[0]:void 0:e3(e,r)},e7=(e,...r)=>{var t=(r,n)=>{var a;if(r){if(eo(r)){if(ed(r[0])){r.splice(1).forEach(e=>t(e,r[0]));return}a=r}else a=eO(r);a.forEach(([r,t])=>Object.defineProperty(e,r,{configurable:!1,enumerable:!0,writable:!1,...n,...ed(t)&&("get"in t||"value"in t)?t:eh(t)&&!t.length?{get:t}:{value:t}}))}};return r.forEach(e=>t(e)),e},re=(e,...r)=>{if(void 0!==e)return Object.fromEntries(r.flatMap(t=>eu(t)?eo(t)?t.map(r=>eo(r)?1===r.length?[r[0],e[r[0]]]:re(e[r[0]],...r[1]):[r,e[r]]):Object.entries(r).map(([r,t])=>[r,!0===t?e[r]:re(e[r],t)]):[[t,e[t]]]).filter(e=>null!=e[1]))},rr=e=>eh(e)?e():e,rt=(e,r=-1)=>eo(e)?r?e.map(e=>rt(e,r-1)):[...e]:ed(e)?r?eB(e,([e,t])=>[e,rt(t,r-1)]):{...e}:ey(e)?new Set(r?eO(e,e=>rt(e,r-1)):e):em(e)?new Map(r?eO(e,e=>[e[0],rt(e[1],r-1)]):e):e,rn=(e,...r)=>e?.push(...r),ra=(e,...r)=>e?.unshift(...r),ri=(e,r)=>{if(!ed(r))return[e,e];var t,n,a,i={};if(ed(e))return eq(e,([e,o])=>{if(i[e]!==r[e]){if(ed(t=o)){if(!(o=ri(o,r[e])))return;[o,t]=o}else en(o)&&en(n)&&(o=(t=o)-n);i[e]=o,(a??=rt(r))[e]=t}}),a?[i,a]:void 0},ro="undefined"!=typeof performance?(e=G)=>e?Math.trunc(ro(V)):performance.timeOrigin+performance.now():Date.now,rs=(e=!0,r=()=>ro())=>{var t,n=+e*r(),a=0;return(i=e,o)=>(t=e?a+=-n+(n=r()):a,o&&(a=0),(e=i)&&(n=r()),t)},rl=(e=0)=>{var r,t,n=(a,i=e)=>{if(void 0===a)return!!t;clearTimeout(r),Z(a)?a&&(i<0?et:er)(t?.())?n(t):t=void 0:(t=a,r=setTimeout(()=>n(!0,i),i<0?-i:i))};return n},ru=(e,r=0)=>{var t=eh(e)?{frequency:r,callback:e}:e,{queue:n=!0,paused:a=!1,trigger:i=!1,once:o=!1,callback:s=()=>{}}=t;r=t.frequency??0;var l=0,u=rp(!0).resolve(),c=rs(!a),f=c(),d=async e=>!!l&&(!!n||!u.pending||!0===e)&&(p.busy=!0,!0!==e&&await u,u.reset(),(await z(()=>s(c(),-f+(f=c())),!1,()=>u.resolve())===!1||r<=0||o)&&v(!1),p.busy=!1,!0),v=(e,t=!e)=>(c(e,t),clearInterval(l),p.active=!!(l=e?setInterval(d,r<0?-r:r):0),p),p={active:!1,busy:!1,restart:(e,t)=>(r=e??r,s=t??s,v(!0,!0)),toggle:(e,r)=>e!==p.active?e?r?(v(!0),p.trigger(),p):v(!0):v(!1):p,trigger:async e=>await d(e)&&(v(p.active),!0)};return p.toggle(!a,i)};class rc{_promise;constructor(){this.reset()}get value(){return this._promise.value}get error(){return this._promise.error}get pending(){return this._promise.pending}resolve(e,r=!1){return this._promise.resolve(e,r),this}reject(e,r=!1){return this._promise.reject(e,r),this}reset(){return this._promise=new rf,this}signal(e){return this.resolve(e),this.reset(),this}then(e,r){return this._promise.then(e,r)}}class rf{_promise;resolve;reject;value;error;pending=!0;constructor(){var e;this._promise=new Promise((...r)=>{e=r.map((e,r)=>(t,n)=>{if(!this.pending){if(n)return this;throw TypeError("Promise already resolved/rejected.")}return this.pending=!1,this[r?"error":"value"]=t===W||t,e(t),this})}),[this.resolve,this.reject]=e}then(e,r){return this._promise.then(e,r)}}var rd=(e,r=0)=>r>0?setTimeout(e,r):window.queueMicrotask(e),rv=(e,r)=>null==e||isFinite(e)?!e||e<=0?rr(r):new Promise(t=>setTimeout(async()=>t(await rr(r)),e)):_(`Invalid delay ${e}.`),rp=e=>e?new rc:new rf,rh=(...e)=>Promise.race(e.map(e=>eh(e)?e():e)),rg=(e,r,t)=>{var n=!1,a=(...r)=>e(...r,i),i=()=>n!==(n=!1)&&(t(a),!0),o=()=>n!==(n=!0)&&(r(a),!0);return o(),[i,o]},rm=(...e)=>(e=eJ(e),[()=>eW(e,(e,r)=>r[0]()||e,!1),()=>eW(e,(e,r)=>r[1]()||e,!1)]),ry=()=>{var e,r=new Set;return[(t,n)=>{var a=rg(t,e=>r.add(e),e=>r.delete(e));return n&&e&&t(...e,a[0]),a},(...t)=>(e=t,r.forEach(e=>e(...t)))]},rb=(e,r=["and",", "])=>e?1===(e=eO(e)).length?e[0]:eo(r)?[e.slice(-1).join(r[1]??", ")," ",r[0]," ",e[e.length-1]].join(""):e.join(r??", "):W,rw=(e,r="'")=>null==e?W:r+e+r,rk=e=>(e=Math.log2(e))===(0|e),rS=(e,r,t,n)=>{var a,i,o,s=Object.fromEntries(Object.entries(e).filter(([e,r])=>ea(e)&&en(r)).map(([e,r])=>[e.toLowerCase(),r])),l=Object.entries(s),u=Object.values(s),c=s.any??u.reduce((e,r)=>e|r,0),f=r?{...s,any:c,none:0}:s,d=Object.fromEntries(Object.entries(f).map(([e,r])=>[r,e])),v=(e,t)=>en(e)?!r&&t?null!=d[e]?e:W:e:ea(e)?f[e]??f[e.toLowerCase()]:W,p=!1,[h,g]=r?[(e,r)=>Array.isArray(e)?e.reduce((e,t)=>null==t||p?e:null==(t=v(t,r))?(p=!0,W):(e??0)|t,(p=!1,W)):v(e),(e,r)=>null==(e=h(e,!1))?W:r&&(i=d[e&c])?(a=g(e&~(e&c),!1)).length?[i,...a]:i:(e=l.filter(([,r])=>r&&e&r&&rk(r)).map(([e])=>e),r?e.length?1===e.length?e[0]:e:"none":e)]:[v,e=>null!=(e=v(e))?d[e]:W],m=(e,r)=>null==e?W:null==(e=h(o=e,r))?_(TypeError(`${JSON.stringify(o)} is not a valid ${t} value.`)):e,y=l.filter(([,e])=>!n||(n&e)===e&&rk(e));return e7(e=>m(e),[{configurable:!1,enumerable:!1},{parse:m,tryParse:h,entries:l,values:u,lookup:g,length:l.length,format:e=>g(e,!0),logFormat:(e,r="or")=>"any"===(e=g(e,!0))?"any "+t:`the ${t} ${rb(eO(el(e),e=>rw(e)),[r])}`},r&&{pure:y,map:(e,r)=>(e=m(e),y.filter(([,r])=>r&e).map(r??(([,e])=>e)))}])},rE=(...e)=>{var r=eH(eB(e,!0)),t=e=>(eu(e)&&(eo(e)?e.forEach((r,n)=>e[n]=t(r)):r.forEach(([r,t])=>{var n,a=W;null!=(n=e[r])&&(1===t.length?e[r]=t[0].parse(n):t.forEach((i,o)=>!a&&null!=(a=o===t.length-1?i.parse(n):i.tryParse(n))&&(e[r]=a)))})),e);return t},rI=(e,r=["|",";",","],t=!0)=>{if(!e)return W;var n=e.split("=").map(e=>t?decodeURIComponent(e.trim()).replaceAll("+"," "):e.trim());return n[1]??="",n[2]=n[1]&&r?.length&&eK(r,(e,r,t=n[1].split(e))=>t.length>1?t:W)||(n[1]?[n[1]]:[]),n},rA=(e,r=!0,t)=>null==e?W:rO(e,/^(?:(?:([\w+.-]+):)?(\/\/)?)?((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))?(?::(\d*))?)?(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/g,(e,t,n,a,i,o,s,l,u,c,f,d)=>{var v={source:e,scheme:t,urn:t?!n:!n&&W,authority:a,user:i,password:o,host:s??l,port:null!=u?parseInt(u):W,path:c,query:!1===r?f:rT(f,r),fragment:d};return v.path=v.path||(v.authority?v.urn?"":"/":W),v}),rT=(e,r,t=!0)=>null==e?W:eB(e?.match(/(?:^.*?\?|^)(.*)$/)?.[1]?.split("&"),(e,n,[a,i,o]=rI(e,!1===r?[]:!0===r?W:r,t)??[])=>null!=(a=a?.replace(/\[\]$/,""))?!1!==r?[a,o.length>1?o:i]:[a,i]:W,(e,t)=>e?!1!==r?e_(e,t):(e?e+",":"")+t:t),rx=(e,r)=>r&&null!=e?r.test(e):W,rN=(e,r,t)=>rO(e,r,t,!0),rO=(t,n,a,i=!1)=>(t??n)==null?W:a?(e=W,i?(r=[],rO(t,n,(...t)=>null!=(e=a(...t))&&r.push(e))):t.replace(n,(...r)=>e=a(...r)),e):t.match(n),r$=e=>e?.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),rj=/\z./g,rC=(e,r)=>(r=eC(e$(eJ(e,e=>e?.length)),"|"))?RegExp(r,"gu"):rj,r_={},rM=e=>e instanceof RegExp,rU=(e,r=[","," "])=>rM(e)?e:eo(e)?rC(eO(e,e=>rU(e,r)?.source)):Z(e)?e?/./g:rj:ea(e)?r_[e]??=rO(e||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,n)=>t?RegExp(t,"gu"):rC(eO(rF(n,RegExp(`(?<!(?<!\\\\)\\\\)[${eC(r,r$)}]`)),e=>e&&`^${eC(rF(e,/(?<!(?<!\\)\\)\*/),e=>r$(rP(e,/\\(.)/g,"$1")),".*")}$`))):W,rF=(e,r)=>e?.split(r)??e,rP=(e,r,t)=>e?.replace(r,t)??e;(A=t||(t={}))[A.Anonymous=0]="Anonymous",A[A.Indirect=1]="Indirect",A[A.Direct=2]="Direct",A[A.Sensitive=3]="Sensitive";var rR=rS(t,!1,"data classification");(T=n||(n={}))[T.None=0]="None",T[T.Necessary=1]="Necessary",T[T.Functionality=2]="Functionality",T[T.Performance=4]="Performance",T[T.Targeting=8]="Targeting",T[T.Security=17]="Security",T[T.Infrastructure=33]="Infrastructure",T[T.Anonymous=49]="Anonymous",T[T.Any=63]="Any",T[T.Server=2048]="Server",T[T.Server_Write=4096]="Server_Write";var rq=rS(n,!0,"data purpose",2111),rD=rS(n,!1,"data purpose",0),rz=(e,r)=>((a=e?.metadata)&&(r?(delete a.posted,delete a.queued,Object.entries(a).length||delete e.metadata):delete e.metadata),e),rB=e=>!!e?.patchTargetId;(x=i||(i={}))[x.Global=0]="Global",x[x.Entity=1]="Entity",x[x.Session=2]="Session",x[x.Device=3]="Device",x[x.User=4]="User";var rW=rS(i,!1,"variable scope");t.Anonymous,n.Necessary;var rJ=e=>`'${e.key}' in ${rW.format(e.scope)} scope`,rV={scope:rW,purpose:rD,purposes:rq,classification:rR};rE(rV);var rG=e=>e?.filter(H).sort((e,r)=>e.scope===r.scope?e.key.localeCompare(r.key,"en"):e.scope-r.scope);(N=o||(o={}))[N.Success=200]="Success",N[N.Created=201]="Created",N[N.Unchanged=304]="Unchanged",N[N.Denied=403]="Denied",N[N.NotFound=404]="NotFound",N[N.ReadOnly=405]="ReadOnly",N[N.Conflict=409]="Conflict",N[N.Unsupported=501]="Unsupported",N[N.Invalid=400]="Invalid",N[N.Error=500]="Error",rS(o,!1,"variable set status"),(O=s||(s={}))[O.Add=0]="Add",O[O.Min=1]="Min",O[O.Max=2]="Max",O[O.IfMatch=3]="IfMatch",O[O.IfNoneMatch=4]="IfNoneMatch",rS(s,!1,"variable patch type");var rL=e=>!!e?.patch,rH=e=>!!e?.variables,rK=(e,r,t)=>{var n,a=e=>e,i=(t,i=rQ)=>q(async()=>(n=a(i(await e(),r)))&&t(n)),o={then:i(e=>e).then,all:i(e=>e,e=>e),changed:i(e=>eJ(e,e=>e.status<300)),variables:i(e=>eO(e,rY)),values:i(e=>eO(e,e=>rY(e)?.value)),push:()=>(a=e=>(t?.(eO(rX(e))),e),o),value:i(e=>rY(e[0])?.value),variable:i(e=>rY(e[0])),result:i(e=>e[0])};return o},rX=e=>e?.map(e=>e?.status<400?e:W),rY=e=>e?.status<400?e?.current??e:W,rZ=e=>e?.status<400||e?.status===404,rQ=(e,r,t)=>{var n,a,i=[],s=eO(el(e),(e,s)=>e&&(e.status<400||!t&&404===e.status?e:(a=`${rJ(e.source??e)} could not be ${404===e.status?"found.":`${e.source||e.status!==o.Error?"set":"read"} because ${e.status===o.Conflict?`of a conflict. The expected version '${e.source?.version}' did not match the current version '${e.current?.version}'.`:e.status===o.Denied?e.error??"the operation was denied.":e.status===o.Invalid?e.error??"the value does not conform to the schema":e.status===o.ReadOnly?"it is read only.":e.status===o.Error?`of an unexpected error: ${e.error}`:"of an unknown reason."}`}`,(null==(n=r?.[s])||!1!==n(e,a))&&i.push(a),W)));return i.length?_(i.join("\n")):eo(e)?s:s?.[0]},r0=e=>e&&"string"==typeof e.type,r1=((...e)=>r=>r?.type&&e.some(e=>e===r?.type))("view"),r2=e=>e?.toLowerCase().replace(/[^a-zA-Z0-9:.-]/g,"_").split(":").filter(e=>e)??[],r4=(e,r,t)=>{if(!e)return[];if(Array.isArray(e)&&(e=eC(e,",")),/(?<!(?<!\\)\\)%[A-Z0-9]{2}/.test(e))try{e=decodeURIComponent(e.replace(/([^=&]+)(?:\=([^&]+))?(&|$)/g,(e,r,t,n)=>[r,t&&`="${t.replace(/(?<!(?<!\\)\\)("|%22)/g,'\\"')}"`,n&&","].join("")))}catch{}var n,a=[],i=r2(r);return e.replace(/\s*(\s*(?=\=)|(?:\\.|[^,=\r\n])+)\s*(?:\=\s*(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)'|((?:\\.|[^,])*)))?\s*(?:[,\s]+|$)/g,(e,r,o,s,l)=>{var u=o||s||l,c=r2(r);return i.length&&(1!==c.length||u||(u=c.pop()),c=i.concat(c)),c.length&&(a.push(n={ranks:c,value:u||void 0}),t?.add(r6(n))),""}),a},r6=e=>null==e?e:`${e.ranks.join(":")}${e.value?`=${e.value.replace(/,/g,"\\,")}`:""}`,r5=2e3,r3="_t:data",r8=()=>()=>_("Not initialized."),r9=window,r7=document,te=r7.body,tr=(e,r)=>!!e?.matches(r),tt=J,tn=(e,r,t=(e,r)=>r>=tt)=>{for(var n,a=0,i=V;e?.nodeType===1&&!t(e,a++)&&r(e,(e,r)=>(null!=e&&(n=e,i=r!==G&&null!=n),G),a-1)!==V&&!i;){var o=e;null===(e=e.parentElement)&&o?.ownerDocument!==document&&(e=o?.ownerDocument.defaultView?.frameElement)}return n},ta=(e,r)=>{if(null!=e&&"null"!==e&&(""!==e||"b"===r))switch(r){case!0:case"z":return(""+e).trim()?.toLowerCase();case!1:case"r":case"b":return""===e||Q(e);case"n":return parseFloat(e);case"j":return P(()=>JSON.parse(e),L);case"h":return P(()=>t5(e),L);case"e":return P(()=>t8?.(e),L);default:return eo(r)?""===e?void 0:(""+e).split(",").map(e=>e=""===e.trim()?void 0:ta(e,r[0])):void 0}},ti=(e,r,t)=>ta(e?.getAttribute(r),t),to=(e,r,t)=>tn(e,(e,n)=>n(ti(e,r,t))),ts=(e,r)=>ti(e,r)?.trim()?.toLowerCase(),tl=e=>e?.getAttributeNames(),tu=(e,r)=>getComputedStyle(e).getPropertyValue(r)||null,tc=e=>null!=e?e.tagName:null,tf=()=>({x:(l=td(V)).x/(te.offsetWidth-window.innerWidth)||0,y:l.y/(te.offsetHeight-window.innerHeight)||0}),td=e=>({x:eb(scrollX,e),y:eb(scrollY,e)}),tv=(e,r)=>rP(e,/#.*$/,"")===rP(r,/#.*$/,""),tp=(e,r,t=G)=>(u=th(e,r))&&B({xpx:u.x,ypx:u.y,x:eb(u.x/te.offsetWidth,4),y:eb(u.y/te.offsetHeight,4),pageFolds:t?u.y/window.innerHeight:void 0}),th=(e,r)=>r?.pointerType&&r?.pageY!=null?{x:r.pageX,y:r.pageY}:e?({x:c,y:f}=tg(e),{x:c,y:f}):void 0,tg=e=>e?(d=e.getBoundingClientRect(),l=td(V),{x:eb(d.left+l.x),y:eb(d.top+l.y),width:eb(d.width),height:eb(d.height)}):void 0,tm=(e,r,t,n={capture:!0,passive:!0})=>eo(r)?rm(...eO(r,r=>tm(e,r,t,n))):rg(t,t=>e.addEventListener(r,t,n),t=>e.addEventListener(r,t,n)),ty=e=>{var{host:r,scheme:t,port:n}=rA(e,!1);return{host:r+(n?":"+n:""),scheme:t}},tb=()=>({...l=td(G),width:window.innerWidth,height:window.innerHeight,totalWidth:te.offsetWidth,totalHeight:te.offsetHeight}),tw=new WeakMap,tk=e=>tw.get(e),tS=(e,r=V)=>(r?"--track-":"track-")+e,tE=(e,r,t,n,a,i)=>r?.[1]&&eq(tl(e),o=>r[0][o]??=(i=V,ea(n=eq(r[1],([r,t,n],a)=>rx(o,r)&&(i=void 0,!t||tr(e,t))&&ek(n??o)))&&(!(a=e.getAttribute(o))||Q(a))&&r4(a,rP(n,/\-/g,":"),t),i)),tI=()=>{},tA=(e,r)=>{if(v===(v=tC.tags))return tI(e,r);var t=e=>e?rM(e)?[[e]]:eg(e)?ej(e,t):[ed(e)?[rU(e.match),e.selector,e.prefix]:[rU(e)]]:[],n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...t(eL(v))]];(tI=(e,r)=>tE(e,n,r))(e,r)},tT=(e,r)=>eC(e_(tu(e,tS(r,G)),tu(e,tS("base-"+r,G)))," "),tx={},tN=(e,r,t=tT(e,"attributes"))=>{t&&tE(e,tx[t]??=[{},rN(t,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,r,t,n)=>[rU(t||n),,r])],r),r4(tT(e,"tags"),void 0,r)},tO=(e,r,t=V,n)=>(t?tn(e,(e,t)=>t(tO(e,r,V)),eh(t)?t:void 0):eC(e_(ti(e,tS(r)),tu(e,tS(r,G)))," "))??(n&&(p=tk(e))&&n(p))??null,t$=(e,r,t=V,n)=>""===(h=tO(e,r,t,n))||(null==h?h:Q(h)),tj=(e,r,t,n)=>e?(tN(e,n??=new Set),tn(e,e=>{tA(e,n),r4(eO(t?.(e)),void 0,n)},r),n.size?{tags:[...n]}:{}):{},tC={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,clientKey:null,apiKey:null,pushCookie:null,debug:!1,impressionThreshold:1e3,captureContextMenu:!0,defaultActivationTracking:"auto",tags:{default:["data-id","data-name"]}},t_=[],tM=[],tU=(e,r=0)=>e.charCodeAt(r),tF=e=>String.fromCharCode(...e);[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,r)=>t_[tM[r]=e.charCodeAt(0)]=r);var tP=e=>{for(var r,t=0,n=e.length,a=[];n>t;)r=e[t++]<<16|e[t++]<<8|e[t++],a.push(tM[(16515072&r)>>18],tM[(258048&r)>>12],tM[(4032&r)>>6],tM[63&r]);return a.length+=n-t,tF(a)},tR=e=>{for(var r,t=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);a>t;)i[n++]=t_[tU(e,t++)]<<2|(r=t_[tU(e,t++)])>>4,a>t&&(i[n++]=(15&r)<<4|(r=t_[tU(e,t++)])>>2,a>t&&(i[n++]=(3&r)<<6|t_[tU(e,t++)]));return i},tq={32:[2166136261n,16777619n],64:[0xcbf29ce484222325n,1099511628211n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},tD=(e=256)=>e*Math.random()|0,tz=e=>{var r,t,n,a,i,o=0n,s=0,l=0n,u=[],c=0,f=0,d=0,v=0,p=[];for(d=0;d<e?.length;v+=p[d]=e.charCodeAt(d++));var h=e?()=>{u=[...p],f=255&(c=v),d=-1}:()=>{},g=e=>(f=255&(c+=-u[d=(d+1)%u.length]+(u[d]=e)),e);return[e?e=>{for(h(),a=16-((r=e.length)+4)%16,i=new Uint8Array(4+r+a),n=0;n<3;i[n++]=g(tD()));for(t=0,i[n++]=g(f^16*tD(16)+a);r>t;i[n++]=g(f^e[t++]));for(;a--;)i[n++]=tD();return i}:e=>e,e?e=>{for(h(),t=0;t<3;g(e[t++]));if((r=e.length-4-((f^g(e[t++]))%16||16))<=0)return new Uint8Array(0);for(n=0,i=new Uint8Array(r);r>n;i[n++]=f^g(e[t++]));return i}:e=>e,(e,r=64)=>{if(null==e)return null;for(s=Z(r)?64:r,h(),[o,l]=tq[s],t=0;t<e.length;o=BigInt.asUintN(s,(o^BigInt(f^g(e[t++])))*l));return!0===r?Number(BigInt(Number.MIN_SAFE_INTEGER)+o%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):o.toString(36)}]},tB={exports:{}};(e=>{(()=>{function r(e,r){if(r&&r.multiple&&!Array.isArray(e))throw Error("Invalid argument type: Expected an Array to serialize multiple values.");var t,n,a=new Uint8Array(128),i=0;if(r&&r.multiple)for(var o=0;o<e.length;o++)s(e[o]);else s(e);return a.subarray(0,i);function s(e,a){var i,o,d,v,p,h;switch(typeof e){case"undefined":u(192);break;case"boolean":u(e?195:194);break;case"number":(e=>{if(isFinite(e)&&Number.isSafeInteger(e)){if(e>=0&&e<=127)u(e);else if(e<0&&e>=-32)u(e);else if(e>0&&e<=255)c([204,e]);else if(e>=-128&&e<=127)c([208,e]);else if(e>0&&e<=65535)c([205,e>>>8,e]);else if(e>=-32768&&e<=32767)c([209,e>>>8,e]);else if(e>0&&e<=4294967295)c([206,e>>>24,e>>>16,e>>>8,e]);else if(e>=-2147483648&&e<=2147483647)c([210,e>>>24,e>>>16,e>>>8,e]);else if(e>0&&e<=18446744073709552e3){var r=e/4294967296,a=e%4294967296;c([211,r>>>24,r>>>16,r>>>8,r,a>>>24,a>>>16,a>>>8,a])}else e>=-0x8000000000000000&&e<=0x7fffffffffffffff?(u(211),f(e)):e<0?c([211,128,0,0,0,0,0,0,0]):c([207,255,255,255,255,255,255,255,255])}else n||(n=new DataView(t=new ArrayBuffer(8))),n.setFloat64(0,e),u(203),c(new Uint8Array(t))})(e);break;case"string":(d=(o=(e=>{for(var r=!0,t=e.length,n=0;n<t;n++)if(e.charCodeAt(n)>127){r=!1;break}for(var a=0,i=new Uint8Array(e.length*(r?1:4)),o=0;o!==t;o++){var s=e.charCodeAt(o);if(s<128){i[a++]=s;continue}if(s<2048)i[a++]=s>>6|192;else{if(s>55295&&s<56320){if(++o>=t)throw Error("UTF-8 encode: incomplete surrogate pair");var l=e.charCodeAt(o);if(l<56320||l>57343)throw Error("UTF-8 encode: second surrogate character 0x"+l.toString(16)+" at index "+o+" out of range");s=65536+((1023&s)<<10)+(1023&l),i[a++]=s>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}return r?i:i.subarray(0,a)})(e)).length)<=31?u(160+d):d<=255?c([217,d]):d<=65535?c([218,d>>>8,d]):c([219,d>>>24,d>>>16,d>>>8,d]),c(o);break;case"object":null===e?u(192):e instanceof Date?(e=>{var r=e.getTime()/1e3;if(0===e.getMilliseconds()&&r>=0&&r<4294967296)c([214,255,r>>>24,r>>>16,r>>>8,r]);else if(r>=0&&r<17179869184){var t=1e6*e.getMilliseconds();c([215,255,t>>>22,t>>>14,t>>>6,t<<2>>>0|r/4294967296,r>>>24,r>>>16,r>>>8,r])}else{var t=1e6*e.getMilliseconds();c([199,12,255,t>>>24,t>>>16,t>>>8,t]),f(r)}})(e):Array.isArray(e)?l(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?((h=(p=e).length)<=255?c([196,h]):h<=65535?c([197,h>>>8,h]):c([198,h>>>24,h>>>16,h>>>8,h]),c(p)):e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?l(e):(e=>{var r=0;for(var t in e)void 0!==e[t]&&r++;for(var t in r<=15?u(128+r):r<=65535?c([222,r>>>8,r]):c([223,r>>>24,r>>>16,r>>>8,r]),e){var n=e[t];void 0!==n&&(s(t),s(n))}})(e);break;default:if(!a&&r&&r.invalidTypeReplacement)"function"==typeof r.invalidTypeReplacement?s(r.invalidTypeReplacement(e),!0):s(r.invalidTypeReplacement,!0);else throw Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.")}}function l(e){var r=e.length;r<=15?u(144+r):r<=65535?c([220,r>>>8,r]):c([221,r>>>24,r>>>16,r>>>8,r]);for(var t=0;r>t;t++)s(e[t])}function u(e){if(a.length<i+1){for(var r=2*a.length;r<i+1;)r*=2;var t=new Uint8Array(r);t.set(a),a=t}a[i]=e,i++}function c(e){if(a.length<i+e.length){for(var r=2*a.length;r<i+e.length;)r*=2;var t=new Uint8Array(r);t.set(a),a=t}a.set(e,i),i+=e.length}function f(e){var r,t;e>=0?(r=e/4294967296,t=e%4294967296):(r=~(r=Math.abs(++e)/4294967296),t=~(t=Math.abs(e)%4294967296)),c([r>>>24,r>>>16,r>>>8,r,t>>>24,t>>>16,t>>>8,t])}}function t(e,r){var t,n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),"object"!=typeof e||void 0===e.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),r&&r.multiple)for(t=[];n<e.length;)t.push(a());else t=a();return t;function a(){var r=e[n++];if(r>=0&&r<=127)return r;if(r>=128&&r<=143)return u(r-128);if(r>=144&&r<=159)return c(r-144);if(r>=160&&r<=191)return f(r-160);if(192===r)return null;if(193===r)throw Error("Invalid byte code 0xc1 found.");if(194===r)return!1;if(195===r)return!0;if(196===r)return l(-1,1);if(197===r)return l(-1,2);if(198===r)return l(-1,4);if(199===r)return d(-1,1);if(200===r)return d(-1,2);if(201===r)return d(-1,4);if(202===r)return s(4);if(203===r)return s(8);if(204===r)return o(1);if(205===r)return o(2);if(206===r)return o(4);if(207===r)return o(8);if(208===r)return i(1);if(209===r)return i(2);if(210===r)return i(4);if(211===r)return i(8);if(212===r)return d(1);if(213===r)return d(2);if(214===r)return d(4);if(215===r)return d(8);if(216===r)return d(16);if(217===r)return f(-1,1);if(218===r)return f(-1,2);if(219===r)return f(-1,4);if(220===r)return c(-1,2);if(221===r)return c(-1,4);if(222===r)return u(-1,2);if(223===r)return u(-1,4);if(r>=224&&r<=255)return r-256;throw console.debug("msgpack array:",e),Error("Invalid byte value '"+r+"' at index "+(n-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function i(r){for(var t=0,a=!0;r-- >0;)if(a){var i=e[n++];t+=127&i,128&i&&(t-=128),a=!1}else t*=256,t+=e[n++];return t}function o(r){for(var t=0;r-- >0;)t*=256,t+=e[n++];return t}function s(r){var t=new DataView(e.buffer,n+e.byteOffset,r);return(n+=r,4===r)?t.getFloat32(0,!1):8===r?t.getFloat64(0,!1):void 0}function l(r,t){r<0&&(r=o(t));var a=e.subarray(n,n+r);return n+=r,a}function u(e,r){e<0&&(e=o(r));for(var t={};e-- >0;)t[a()]=a();return t}function c(e,r){e<0&&(e=o(r));for(var t=[];e-- >0;)t.push(a());return t}function f(r,t){r<0&&(r=o(t));var a=n;return n+=r,((e,r,t)=>{var n=r,a="";for(t+=r;t>n;){var i=e[n++];if(i>127){if(i>191&&i<224){if(n>=t)throw Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&e[n++]}else if(i>223&&i<240){if(n+1>=t)throw Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&e[n++])<<6|63&e[n++]}else if(i>239&&i<248){if(n+2>=t)throw Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}else throw Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1))}if(i<=65535)a+=String.fromCharCode(i);else if(i<=1114111)i-=65536,a+=String.fromCharCode(i>>10|55296)+String.fromCharCode(1023&i|56320);else throw Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach")}return a})(e,a,r)}function d(e,r){e<0&&(e=o(r));var t=o(1),a=l(e);return 255===t?(e=>{if(4===e.length){var r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];return new Date(1e3*r)}if(8===e.length){var t=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),r=(3&e[3])*4294967296+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7];return new Date(1e3*r+t/1e6)}if(12===e.length){var t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];n-=8;var r=i(8);return new Date(1e3*r+t/1e6)}throw Error("Invalid data length for a date value.")})(a):{type:t,data:a}}}var n={serialize:r,deserialize:t,encode:r,decode:t};e?e.exports=n:window[window.msgpackJsName||"msgpack"]=n})()})(tB);var{deserialize:tW,serialize:tJ}=($=tB.exports)&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$,tV="$ref",tG=(e,r,t)=>ep(e)?W:t?null===r||r:r!==W,tL=(e,r,{defaultValues:t=!0,prettify:n=!1})=>{var a,i,o,s=(e,r,n=e[r],a=tG(r,n,t)?u(n):W)=>(n!==a&&(a!==W||eo(e)?e[r]=a:delete e[r],l(()=>e[r]=n)),a),l=e=>(a??=[]).push(e),u=e=>{if(null==e||eh(e)||ep(e))return null;if(!eu(e))return e;if(e.toJSON&&e!==(e=e.toJSON()))return u(e);if(null!=(o=i?.get(e)))return e[tV]||(e[tV]=o,l(()=>delete e[tV])),{[tV]:o};if(ed(e))for(var r in(i??=new Map).set(e,i.size+1),e)s(e,r);else eg(e)&&(!eo(e)||Object.keys(e).length<e.length?[...e]:e).forEach((r,t)=>t in e?s(e,t):(e[t]=null,l(()=>delete e[t])));return e};return P(()=>r?tJ(u(e)??null):P(()=>JSON.stringify(e,W,n?2:0),()=>JSON.stringify(u(e),W,n?2:0)),!0,()=>a?.forEach(e=>e()))},tH=e=>{var r,t,n=e=>eu(e)?e[tV]&&(t=(r??=[])[e[tV]])?t:(e[tV]&&(r[e[tV]]=e,delete e[tV]),Object.entries(e).forEach(([r,t])=>t!==(t=n(t))&&(e[r]=t)),e):e;return n(ea(e)?JSON.parse(e):null!=e?P(()=>tW(e),()=>(console.error("Invalid message received.",e),W)):e)},tK=(e,r={})=>{var t=(e,{json:r=!1,jsonDecodeFallback:t=!0,...n})=>{var a=(e,t)=>en(e)&&!0===t?e:l(e=ea(e)?new Uint8Array(eO(e.length,r=>255&e.charCodeAt(r))):r?P(()=>JSON.stringify(e),()=>JSON.stringify(tL(e,!1,n))):tL(e,!0,n),t),i=e=>null==e?W:P(()=>tH(e),W);if(r)return[e=>tL(e,!1,n),i,(e,r)=>a(e,r)];var[o,s,l]=tz(e);return[e=>tP(o(tL(e,!0,n))),e=>null!=e?t&&(e?.[0]==="{"||e?.[0]==="[")?i(e):tH(s(tR(e))):null,(e,r)=>a(e,r)]};if(!e){var n=+(r.json??0);if(n&&!1!==r.prettify)return(g??=[t(null,{json:!1}),t(null,{json:!0,prettify:!0})])[+n]}return t(e,r)};tK(),tK(null,{json:!0,prettify:!0});var tX=rF(""+r7.currentScript.src,"#"),tY=rF(""+(tX[1]||""),";"),tZ=tX[0],tQ=tY[1]||rA(tZ,!1)?.host,t0=e=>!!(tQ&&rA(e,!1)?.host?.endsWith(tQ)===G),t1=(...e)=>rP(eC(e),/(^(?=\?))|(^\.(?=\/))/,tZ.split("?")[0]),t2=t1("?","var");t1("?","mnt"),t1("?","usr");var t4=Symbol(),[t6,t5]=tK(),[t3,t8]=[r8,r8],[t9,t7]=ry(),ne=e=>{t8===r8&&([t3,t8]=tK(e),t7(t3=tK(null,{json:!0})[0],t8))},nr=e=>r=>nt(e,r),nt=(...e)=>{var r=e.shift();console.error(ea(e[1])?e.shift():e[1]?.message??"An error occurred",r.id??r,...e)},[nn,na]=ry(),[ni,no]=ry(),ns=e=>nu!==(nu=e)&&na(nu=!1,nd(!0,!0)),nl=e=>nc!==(nc=!!e&&"visible"===document.visibilityState)&&no(nc,!e,nf(!0,!0));nn(nl);var nu=!0,nc=!1,nf=rs(!1),nd=rs(!1);tm(window,["pagehide","freeze"],()=>ns(!1)),tm(window,["pageshow","resume"],()=>ns(!0)),tm(document,"visibilitychange",()=>(nl(!0),nc&&ns(!0))),na(nu,nd(!0,!0));var nv=!1,np=rs(!1),[nh,ng]=ry(),nm=ru({callback:()=>nv&&ng(nv=!1,np(!1)),frequency:2e4,once:!0,paused:!0}),ny=()=>!nv&&(ng(nv=!0,np(!0)),nm.restart());tm(window,"focus",ny),tm(window,"blur",()=>nm.trigger()),tm(document.body,["keydown","pointerdown","pointermove","scroll"],ny),ny(),(j=m||(m={}))[j.View=-3]="View",j[j.Tab=-2]="Tab",j[j.Shared=-1]="Shared";var nb=rS(m,!1,"local variable scope"),nw=e=>nb.tryParse(e)??rW(e),nk=e=>nb.format(e)??rW.format(e),nS=e=>!!nb.tryParse(e?.scope),nE=rE({scope:nb},rV),nI=e=>null==e?void 0:e.source?nI(e.source):`${nw(e.scope)}\0${e.key}\0${e.targetId??""}`,nA=e=>{var r=e.split("\0");return{scope:+r[0],key:r[1],targetId:r[2]}},nT=0,nx=void 0,nN=()=>(nx??r8())+"_"+nO(),nO=()=>++nT,n$=e=>crypto.getRandomValues(e),nj=()=>rP("10000000-1000-4000-8000-100000000000",/[018]/g,e=>((e*=1)^n$(new Uint8Array(1))[0]&15>>e/4).toString(16)),nC={},n_={id:nx,heartbeat:ro()},nM={knownTabs:{[nx]:n_},variables:{}},[nU,nF]=ry(),nP=r8,nR=e=>nC[nI(e)],nq=(...e)=>nB(e.map(e=>(e.timestamp=ro(),e.expires=3e3,nE(e)))),nD=rl(),nz=(e,r=V)=>{nD(()=>{e_(rG(eO(e,1))?.map(e=>[e,`${e.key} (${nk(e.scope)}, ${e.scope<0?"client-side memory only":rq.format(e.purposes)})`,V]),[[{[t4]:rG(eO(nC,1))?.map(e=>[e,`${e.key} (${nk(e.scope)}, ${e.scope<0?"client-side memory only":rq.format(e.purposes)})`,V])},"All variables",G]])},r?0:250)},nB=e=>{var r=eO(e,e=>e&&[nI(e),e]);if(r?.length){e4(nC,r);var t=eJ(r,e=>e[1].scope>m.Tab);t.length&&(e4(nM.variables,t),nP({type:"patch",payload:eB(t)})),nF("variables",eB(r),!0),nz(eB(r))}};t9((e,r)=>{nn(t=>{if(t){var n=r(sessionStorage.getItem(r3));sessionStorage.removeItem(r3),nx=n?.[0]??ro().toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),nz(nC=eB(e_(eJ(nC,([,e])=>e.scope===m.View),eO(n?.[1],e=>[nI(e),e]))),!0)}else sessionStorage.setItem(r3,e([nx,eO(nC,([,e])=>e.scope!==m.View?e:void 0)]))},!0),nP=(r,t)=>{e&&(localStorage.setItem(r3,e([nx,r,t])),localStorage.removeItem(r3))},tm(window,"storage",e=>{if(e.key===r3){var n=r?.(e.newValue);if(n&&(!n[2]||n[2]===nx)){var[a,{type:i,payload:o}]=n;"query"===i?t.active||nP({type:"set",payload:nM},a):"set"===i&&t.active?(e4(nM,o),e4(nC,o.variables),t.trigger()):"patch"===i?(e4(nM.variables,o),e4(nC,o),nF("variables",o,!1)):"tab"===i&&(e4(nM.knownTabs,a,o),o&&nF("tab",o,!1))}}});var t=ru(()=>nF("ready",nM,!0),-25),n=ru({callback(){var e=ro()-1e4;eq(nM?.knownTabs,([r,t])=>t[0]<e&&e8(nM.knownTabs,r)),n_.heartbeat=ro(),nP({type:"tab",payload:n_})},frequency:5e3,paused:!0}),a=e=>{nP({type:"tab",payload:e?n_:void 0}),e?(t.restart(),nP({type:"query"})):t.toggle(!1),n.toggle(e)};nn(e=>a(e),!0)},!0);var[nW,nJ]=ry(),[nV,nG]=ry(),nL=((e,{timeout:r=1e3,encrypt:t=!0,retries:n=10}={})=>{var a=()=>(t?t8:t5)(localStorage.getItem(e)),i=()=>localStorage.setItem(e,(t?t3:t6)([nx,ro()+r])),o=rl(r/2);return async(t,s,l=null!=s?1:n)=>{for(;l--;){var u=a();if((!u||u[1]<ro())&&(i(),a()?.[0]===nx))return o(i),await z(t,!0,()=>o(!1)&&localStorage.removeItem(e));var c=rp(),[f]=tm(window,"storage",r=>{r.key!==e||r.newValue||c.resolve()});await rh(rv(s??r),c),f()}null==s&&_(e+" could not be acquired.")}})("_t:rq"),nH=ru(()=>{if(b!==(b=tC.pushCookie)){if(!b)return;y=RegExp(r$(b)+"=([^;]*)")}var e=t8?.(rO(document.cookie,y)?.[1]);rH(e)&&nG(e)},1e3),nK=0,nX=(e=1e3)=>{var r=()=>{r=L,--nK||(nH.restart(1e3),clearTimeout(0))};return nK++||nH.restart(100),e>0&&setTimeout(r,e),r()},nY=async(e,r,{beacon:t=!1,encrypt:n=!0}={})=>{var a,i,o=!1,s=t=>{var s=eh(r)?r?.(a,t):r;return!1!==s&&(null!=s&&!0!==s&&(a=s),nJ(e,a,t,e=>(o=a===W,a=e)),!o&&(i=(n?t3:JSON.stringify)(a)))};if(!t)return await nL(()=>eD(1,async r=>{if(!s(r))return ek();var t=await fetch(e,{method:null!=a?"POST":"GET",cache:"no-cache",credentials:"include",mode:"cors",headers:{"Content-Type":"text/plain"},body:i});if(t.status>=400)return 0===r?ek(_(`Invalid response: ${await t.text()}`)):(console.warn(`Request to ${e} failed on attempt ${r+1}/3.`),await rv((1+r)*200));var o=await t.text(),l=o?.length?(n?t8:JSON.parse)?.(o):W;return null!=l&&nG(l),ek(l)}));s(0)&&(nX(1e3),navigator.sendBeacon(e,new Blob(null!=a?[i]:[],{type:"text/plain"}))||_("Beacon send failed."))},nZ=["scope","key","targetId","version"],nQ=[...nZ,"created","modified","classification","purposes","tags","readonly","value"],n0=[...nZ,"init","purpose","refresh"];[...nQ];var n1=new Map,n2=(e,r)=>{var a=ru(async()=>{var e=eO(n1,([e,r])=>({...nA(e),result:[...r]}));e.length&&await c.get(...e)},3e3),i=(e,r)=>eP(r,r=>e0(n1,e,()=>new Set).add(r)),s=e=>{if(rZ(e)){var r,t=nI(e),n=rY(e);eq(e9(n1,t),e=>{r=!1,e?.(n,nR(n),(e=!0)=>r=e),r&&i(t,e)})}};nn((e,r)=>a.toggle(e,e&&r>=3e3),!0);var l=new Map,u=(e,r)=>e4(l,e,Z(r)?r?void 0:0:r),c={get:(...t)=>rK(async()=>{var n=[],a=eO(t,(e,r)=>[e,r]),l=[],c=(await nY(e,()=>!!(a=eO(a,([e,r])=>{if(e){var t=nI(e);i(t,e.result);var a=nR(t);e.init&&u(t,e.cache);var s=e.purposes;if((s??~0)&(a?.purposes??~0)){if(!e.refresh&&a?.expires<ro())rn(n,[{...a,status:o.Success},r]);else if(!nS(e))return[re(e,n0),r];else if(ed(e.init)){var c={...nE(e),status:o.Created,...e.init};null!=c.value&&(rn(l,f(c)),rn(n,[c,r]))}}else rn(n,[{...e,status:o.Denied,error:"No consent for "+rq.logFormat(s)},r])}})).length&&{variables:{get:eO(a,0)},deviceSessionId:r?.deviceSessionId})).variables?.get??[];return rn(n,...eO(c,(e,r)=>e&&[e,a[r][1]])),l.length&&nB(l),n.map(([e])=>(s(e),e))},eO(t,e=>e?.error)),set:(...a)=>rK(async()=>{var i=[],l=[],c=eO(a,(e,r)=>{if(e){var a=nI(e),s=nR(a);if(u(a,e.cache),nS(e)){if(null!=e.patch)return _("Local patching is not supported.");var c={value:e.value,classification:t.Anonymous,purposes:n.Necessary,scope:nb(e.scope),key:e.key};return l[r]={status:s?o.Success:o.Created,source:e,current:c},void rn(i,f(c))}return rL(e)||e?.version!==void 0||(e.version=s?.version,e.force??=!!e.version),[e,r]}}),d=c.length>0?[]:F((await nY(e,{variables:{set:c.map(e=>e[0])},deviceSessionId:r?.deviceSessionId})).variables?.set,"No result.");return i.length&&nB(i),eq(d,(e,r)=>{var[t,n]=c[r];e.source=t,s(l[n]=e)}),l},eO(a,e=>e?.error))},f=(e,r=ro())=>({...re(e,nQ),timestamp:r,expires:r+(e0(l,nI(e))??3e3)});return nV(({variables:e})=>{if(e){var r=ro(),t=e_(eO(e.get,e=>rY(e)),eO(e.set,e=>rY(e)));t?.length&&nB(eP(t,f,r))}}),c},n4=(e,r,t=r5)=>{var n=[],a=new WeakMap,i=new Map,o=(e,r)=>e.metadata?.queued?e1(r,{type:e.type+"_patch",patchTargetId:e.clientId}):_("Source event not queued."),s=async(t,a=!1)=>{if((t=eO(el(t),e=>e1(r.applyEventExtensions(e),{metadata:{queued:!0}}))).length&&eq(t,e=>void 0),!a){t.length&&rn(n,...t);return}n.length&&ra(t,...n.splice(0)),t.length&&nY(e,{events:t.map(e=>(e1(e,{metadata:{posted:!0}}),e1(rz(rt(e),!0),{timestamp:e.timestamp-ro()}))),deviceSessionId:r?.deviceSessionId},{beacon:!0})};return t>0&&ru(()=>s([],!0),t),ni((e,r,t)=>{if(!e&&(n.length||r||t>1500)){var a=eO(i,([e,r])=>{var[t,n]=r();return n&&i.delete(e),t});(n.length||a.length)&&s(e_(n.splice(0),a),!0)}}),{post:s,postPatch:(e,r,t)=>s(o(e,r),t),registerEventPatchSource(e,r,t=!0){var n=!1,s=()=>n=!0;return a.set(e,rt(e)),i.set(e,()=>{var i=a.get(e),[l,u]=(t?ri(r(i,s),i):r(i,s))??[];return l&&!M(u,i)?(a.set(e,rt(u)),[o(e,l),n]):[void 0,n]}),s}}},n6=Symbol(),n5=e=>{var r=new IntersectionObserver(e=>eq(e,({target:e,isIntersecting:r,boundingClientRect:t,intersectionRatio:n})=>e[n6]?.(r,t,n)),{threshold:[.05,.1,.15,.2,.3,.4,.5,.6,.75]});return(t,n)=>{if(n&&(a=eJ(n?.component,e=>e.track?.impressions||(e.track?.secondary??e.inferred)!==G))&&eV(a)){var a,i,o,s,l=V,u=0,c=rl(tC.impressionThreshold),f=ac();t[n6]=(r,n,d)=>{f(r=d>=.75||n.top<(i=window.innerHeight/2)&&n.bottom>i),l!==(l=r)&&(l?c(()=>{++u,o||rn(e,o=eJ(eO(a,e=>(e.track?.impressions||t$(t,"impressions",G,e=>e.track?.impressions))&&B({type:"impression",pos:tp(t),viewport:tb(),timeOffset:ad(),impressions:u,...aE(t,G)})||null))),o?.length&&(s=eO(o,r=>e.events.registerEventPatchSource(r,()=>({relatedEventId:r.clientId,duration:f(),impressions:u}))))}):(eq(s,e=>e()),c(!1)))},r.observe(t)}}},n3=()=>{var e=r9?.screen;if(!e)return{};var{width:r,height:t,orientation:n}=e,a=r<t,i=n?.angle??r9.orientation??0;return(-90===i||90===i)&&([r,t]=[t,r]),{deviceType:r<480?"mobile":r<=1024?"tablet":"desktop",screen:{dpr:r9.devicePixelRatio,width:r,height:t,landscape:a}}},n8=e=>rn(e,B({type:"user_agent",hasTouch:navigator.maxTouchPoints>0,userAgent:navigator.userAgent,view:w?.clientId,languages:eO(navigator.languages,(e,r,t=e.split("-"))=>B({id:e,language:t[0],region:t[1],primary:0===r,preference:r+1})),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:new Date().getTimezoneOffset()},...n3()})),n9=(e,r="A"===tc(e)&&ti(e,"href"))=>r&&"#"!=r&&!r.startsWith("javascript:"),n7=(e,r=tc(e),t=t$(e,"button"))=>t!==V&&(U(r,"A","BUTTON")||"INPUT"===r&&U(ts(e,"type"),"button","submit")||t===G),ae=()=>w?.clientId,ar={scope:"shared",key:"referrer"},at=(e,r)=>{I.variables.set({...ar,value:[ae(),e]}),r&&I.variables.get({scope:ar.scope,key:ar.key,result(t,n,a){t?a():n?.value?.[1]===e&&r()}})},an=rs(),aa=rs(),ai=rs(),ao=1,as=()=>aa(),[al,au]=ry(),ac=e=>{var r=rs(e,an),t=rs(e,aa),n=rs(e,ai),a=rs(e,()=>ao);return(e,i)=>({totalTime:r(e,i),visibleTime:t(e,i),interactiveTime:n(e,i),activations:a(e,i)})},af=ac(),ad=()=>af(),[av,ap]=ry(),ah=new WeakSet,ag=document.getElementsByTagName("iframe"),am=e=>(null==e||(e===G||""===e)&&(e="add"),ea(e)&&U(e,"add","remove","update","clear")?{action:e}:eu(e)?e:void 0);function ay(e){if(e){if(null!=e.units&&U(e.action,null,"add","remove")){if(0===e.units)return;e.action=e.units>0?"add":"remove"}return e}}var ab=e=>tj(e,void 0,e=>eO(el(e0(tw,e)?.tags))),aw=e=>e?.component||e?.content,ak=e=>tj(e,r=>r!==e&&!!aw(e0(tw,r)),e=>(S=e0(tw,e),(S=e0(tw,e))&&ej(e_(S.component,S.content,S),"tags"))),aS=(e,r)=>r?e:{...e,rect:void 0,content:(E=e.content)&&eO(E,e=>({...e,rect:void 0}))},aE=(e,r=V)=>{var t,n,a,i=[],o=[],s=0;return tn(e,e=>{var n=e0(tw,e);if(n){if(aw(n)){var a=eJ(el(n.component),e=>0===s||!r&&(1===s&&e.track?.secondary!==G||e.track?.promote));t=eY(a,e=>e.track?.region)&&tg(e)||void 0;var l=ak(e);n.content&&ra(i,...eO(n.content,e=>({...e,rect:t,...l}))),a?.length&&(ra(o,...eO(a,e=>(s=eG(s,e.track?.secondary?1:2),aS({...e,content:i,rect:t,...l},!!t)))),i=[])}var u=n.area||tO(e,"area");u&&ra(o,...eO(u))}}),i.length&&rn(o,aS({id:"",rect:t,content:i})),eq(o,e=>{ea(e)?rn(n??=[],e):(e.area??=eC(n,"/"),ra(a??=[],e))}),a||n?{components:a,area:eC(n,"/")}:void 0},aI=Symbol(),aA=[{id:"context",setup(e){ru(()=>eq(ag,e=>e5(ah,e)&&ap(e)),-1e3).trigger(),e.push({get:[{scope:"view",key:"view",result(e){}}]}),e.variables.get({scope:"view",key:"view",result:(a,i,o)=>(M(n,a?.value)&&t===(t=""+location.href)||(r=n=a?.value),r&&w&&!w.definition&&(w.definition=r,w.metadata?.posted&&e.events.postPatch(w,{definition:r}),r=void 0),o())});var r,t,n,a=nR({scope:"tab",key:"viewIndex"})?.value??0,i=nR({scope:"tab",key:"tabIndex"})?.value;null==i&&nq({scope:"tab",key:"tabIndex",value:i=nR({scope:"shared",key:"tabIndex"})?.value??nR({scope:"session",key:C})?.value?.tabs??0},{scope:"shared",key:"tabIndex",value:i+1});var o=null,s=(t=V)=>{if(!tv(""+o,o=location.href)||t){var{source:n,scheme:s,host:l}=rA(location.href+"",!0);w={type:"view",timestamp:ro(),clientId:nN(),tab:nx,href:n,path:location.pathname,hash:location.hash||void 0,domain:{scheme:s,host:l},tabNumber:i+1,tabViewNumber:a+1,viewport:tb(),duration:af(void 0,!0)},0===i&&(w.firstTab=G),0===i&&0===a&&(w.landingPage=G),nq({scope:"tab",key:"viewIndex",value:++a});var u=rT(location.href);if(eO(["source","medium","campaign","term","content"],(e,r)=>(w.utm??={})[e]=u[`utm_${e}`]?.[0]),!(w.navigationType=k)&&performance&&eO(performance.getEntriesByType("navigation"),e=>{w.redirects=e.redirectCount,w.navigationType=rP(e.type,/\_/g,"-")}),k=void 0,"navigate"===(w.navigationType??="navigate")){var c=nR(ar)?.value;c&&t0(document.referrer)&&(w.view=c?.[0],w.relatedEventId=c?.[1],e.variables.set({...ar,value:void 0}))}var c=document.referrer||null;c&&!t0(c)&&(w.externalReferrer={href:c,domain:ty(c)}),w.definition=r,r=void 0,e.events.post(w),e.events.registerEventPatchSource(w,()=>({duration:ad()})),au(w)}};return nh(e=>ai(e)),ni(e=>{e?(aa(G),++ao):(aa(V),ai(V))}),tm(window,"popstate",()=>(k="back-forward",s())),eO(["push","replace"],e=>{var r=history[e+="State"];history[e]=(...e)=>{r.apply(history,e),k="navigate",s()}}),s(),{processCommand:r=>aN(r)&&(rn(e,r.username?{type:"login",username:r.username}:{type:"logout"}),G),decorate(e){!w||r1(e)||rB(e)||(e.view=w.clientId)}}}},{id:"components",setup(e){var r=n5(e),t=e=>null==e?void 0:{...e,component:el(e.component),content:el(e.content),tags:el(e.tags)},n=({boundary:e,...n})=>{e6(tw,e,e=>t("add"in n?{...e,component:e_(e?.component,n.component),content:e_(e?.content,n.content),area:n?.area??e?.area,tags:e_(e?.tags,n.tags),cart:n.cart??e?.cart,track:n.track??e?.track}:"update"in n?n.update(e):n)),r(e,e0(tw,e))};return{decorate(e){eq(e.components,e=>e9(e,"track"))},processCommand:e=>aj(e)?(n(e),G):aP(e)?(eO(((e,r)=>{if(!r)return[];var t=[],n=new Set;return document.querySelectorAll(`[${e}]`).forEach(a=>{if(!e0(n,a))for(var i=[];null!=ti(a,e);){e5(n,a);var o=rF(ti(a,e),"|");ti(a,e,null);for(var s=0;s<o.length;s++){var l=o[s];if(""!==l){var u="-"===l?-1:parseInt(ei(l)??"",36);if(u<0){i.length+=u;continue}if(0===s&&(i.length=0),isNaN(u)&&/^["\[{]/.test(l))for(var c="";s<o.length;s++)try{l=JSON.parse(c+=o[s]);break}catch(e){}u>=0&&r[u]&&(l=r[u]),rn(i,l)}}rn(t,...eO(i,e=>({add:G,...e,boundary:a})));var f=a.nextElementSibling;"WBR"===a.tagName&&a.parentNode?.removeChild(a),a=f}}),t})(e.scan.attribute,e.scan.components),n),G):V}}},{id:"navigation",setup(e){var r=r=>{tm(r,["click","contextmenu","auxclick"],r=>{var t,n,a,i,o,s=null,l=V;if(tn(r.target,e=>{var r;s??=n7(e)?e:null,l=l||"NAV"===tc(e),i??=t$(e,"clicks",G,e=>e.track?.clicks)??((r=el(tk(e)?.component))&&eY(r,e=>e.track?.clicks!==V)),o??=t$(e,"region",G,e=>e.track?.region)??((r=tk(e)?.component)&&eY(r,e=>e.track?.region))}),s){var u,c=aE(s),f=ab(s);i??=!l;var d={...(o??=G)?{pos:tp(s,r),viewport:tb()}:null,...(t=r.target,n=s,tn(t??n,e=>"IMG"===tc(e)||e===n?(a={element:{tagName:e.tagName,text:ti(e,"title")||ti(e,"alt")||e.innerText?.trim().substring(0,100)||void 0}},V):G),a),...c,...f,timing:ad()};if(n9(s)){var v=s.hostname!==location.hostname,{host:p,scheme:h,source:g}=rA(s.href,!1);if(s.host===location.host&&s.pathname===location.pathname&&s.search===location.search){if("#"===s.hash)return;s.hash!==location.hash&&rn(e,B({type:"anchor_navigation",anchor:s.hash,...d}));return}var m=B({clientId:nN(),type:"navigation",href:v?s.href:g,external:v,domain:{host:p,scheme:h},self:G,anchor:s.hash,...d});r.button<=1&&(1===r.button||r.ctrlKey||r.shiftKey||r.altKey||ti(s,"target")!==window.name?(at(m.clientId),m.self=V,rn(e,m)):tv(location.href,s.href)||(m.exit=m.external,at(m.clientId)));return}var y=(tn(r.target,(e,r)=>!!(u??=am(tk(e)?.cart??tO(e,"cart")))&&!u.item&&(u.item=eX(tk(e)?.content))&&r(u)),ay(u));(y||i)&&rn(e,y?B({type:"cart_updated",...d,...y}):B({type:"component_click",...d}))}})};r(document),av(e=>e.contentDocument&&r(e.contentDocument))}},{id:"scroll",setup(e){var r={},t=td(G);al(()=>rd(()=>(r={},t=td(G)),250)),tm(window,"scroll",()=>{var n=td(),a=tf();if(n.y>=t.y){var i=[];!r.fold&&n.y>=t.y+200&&(r.fold=G,rn(i,"fold")),!r["page-middle"]&&a.y>=.5&&(r["page-middle"]=G,rn(i,"page-middle")),!r["page-end"]&&a.y>=.99&&(r["page-end"]=G,rn(i,"page-end"));var o=eO(i,e=>B({type:"scroll",scrollType:e,offset:a}));o.length&&rn(e,o)}})}},{id:"cart",setup:e=>({processCommand(r){if(ax(r)){var t=r.cart;return"clear"===t?rn(e,{type:"cart_updated",action:"clear"}):(t=ay(t))&&rn(e,{...t,type:"cart_updated"}),G}return aF(r)?(rn(e,{type:"order",...r.order}),G):V}})},{id:"forms",setup(e){var r=new Map,t=e=>e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"yes":"no":e.value,n=n=>{var a,i=n.form;if(i){var s=to(i,tS("ref"))||"track_ref",l=()=>i.isConnected&&tg(i).width,u=e0(r,i,()=>{var r,t=new Map,n={type:"form",name:to(i,tS("form-name"))||ti(i,"name")||i.id||void 0,activeTime:0,totalTime:0,fields:{}};e.events.post(n),e.events.registerEventPatchSource(n,()=>n);var s=()=>{o(),r[3]>=2&&(n.completed=3===r[3]||!l()),e.events.postPatch(n,{...a,totalTime:ro(G)-r[4]}),r[3]=1},u=rl();return tm(i,"submit",()=>{a=aE(i),r[3]=3,u(()=>{i.isConnected&&tg(i).width>0?(r[3]=2,u()):s()},750)}),r=[n,t,i,0,ro(G),1]});return e0(u[1],n)||eO(i.querySelectorAll("INPUT,SELECT,TEXTAREA"),(e,r)=>{if(!e.name||"hidden"===e.type){"hidden"===e.type&&(e.name===s||t$(e,"ref"))&&(e.value||(e.value=nj()),u[0].ref=e.value);return}var n=e.name,a=u[0].fields[n]??={id:e.id||n,name:n,label:rP(e.labels?.[0]?.innerText??e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,type:e.type??"unknown",[aI]:t(e)};u[0].fields[a.name]=a,u[1].set(e,a)}),[n,u]}},a=(e,[r,t]=n(e)??[],a=t?.[1].get(r))=>a&&[t[0],a,r,t],i=null,o=()=>{if(i){var[e,r,n,a]=i,o=-(s-(s=as())),u=-(l-(l=ro(G))),c=r[aI];(r[aI]=t(n))!==c&&(r.fillOrder??=a[5]++,r.filled&&(r.corrections=(r.corrections??0)+1),r.filled=G,a[3]=2,eq(e.fields,([e,t])=>t.lastField=e===r.name||void 0)),r.activeTime+=o,r.totalTime+=u,e.activeTime+=o,i=null}},s=0,l=0,u=e=>{e&&tm(e,["focusin","focusout","change"],(e,r,t=e.target&&a(e.target))=>{t&&(i=t,"focusin"===e.type?(l=ro(G),s=as()):o())})};u(document),av(e=>e.contentDocument&&u)}}],aT=(...e)=>r=>r===e[0]||e.some(e=>"string"==typeof e&&r?.[e]!==void 0),ax=aT("cart"),aN=aT("username"),aO=aT("tagAttributes"),a$=aT("disable"),aj=aT("boundary"),aC=aT("extension"),a_=aT(G,"flush"),aM=aT("get"),aU=aT("listener"),aF=aT("order"),aP=aT("scan"),aR=aT("set"),aq=e=>"function"==typeof e,aD=e=>{if(I)return I;ea(e)&&(e=t5(e)),e4(tC,e),ne(e9(tC,"clientKey"));var r=e9(tC,"apiKey"),t=r9[tC.name]??[];if(!eo(t)){_(`The global variable for the tracker "${tC.name}" is used for something else than an array of queued commands.`);return}var n=[],a=[],i=(e,...r)=>{var t=G;a=eJ(a,n=>P(()=>(n[e]?.(...r,{tracker:I,unsubscribe:()=>t=V}),t),nr(n)))},o=[],s={applyEventExtensions(e){e.clientId??=nN(),e.timestamp??=ro(),d=G;var r=V;return eO(n,([,t])=>{(r||t.decorate?.(e)===V)&&(r=G)}),r?void 0:e}},l=n2(t2,s),u=n4(t2,s),c=null,f=0,d=V,v=V;return e7(r9,[{[tC.name]:[I=Object.freeze({id:"tracker_"+nN(),events:u,variables:l,push(...e){if(!c&&r){if(e[0]!==r)throw Error("Invalid API key.");e.splice(0,1)}if(e.length){var t=V;if((e=eJ(ej(e,e=>ea(e)?t5(e):e),e=>{if(!e)return V;if(aO(e))tC.tags=e4({},tC.tags,e.tagAttributes);else if(a$(e))return tC.disabled=e.disable,V;else if(a_(e))return t=G,V;else if(aq(e))return e(I),V;return v||aU(e)||aC(e)?G:(o.push(e),V)})).length||t){var s=eZ(e,e=>aC(e)?-100:aU(e)?-50:aR(e)?-10:r0(e)?90:0);if(!(c&&c.splice(d?f+1:c.length,0,...s))){for(f=0,c=s;f<c.length;f++)c[f]&&P(()=>{var e,r=c[f];if(i("command",r),d=V,r0(r))u.post(r,!1);else if(aM(r))l.get(...el(r.get));else if(aR(r))l.set(...el(r.set));else if(aU(r))rn(a,r.listener);else if(aC(r))(e=P(()=>r.extension.setup(I),e=>nt(r.extension.id,e)))&&(rn(n,[r.priority??100,e]),eZ(n,([e])=>e));else if(aq(r))r(I);else{var t=V;for(var[,e]of n)if(t=e.processCommand?.(r)??V)break;t||nt("invalid-command",r)}},e=>nt(I,"internal-error",e));c=null,t&&u.post([],!0)}}}},__isTracker:G})]}]),nU(async(e,r,n,a)=>{if("ready"===e){var i=F(await l.get({scope:"session",key:C,refresh:!0}).value,"No session data.");s.deviceSessionId=i.deviceSessionId,i.hasUserAgent||(n8(I),i.hasUserAgent=!0),v=!0,o.length&&rn(I,o),a(),rn(I,...eO(aA,e=>({extension:e})),...t,{set:{scope:"local",key:"loaded",value:!0}})}},!0),I};r9[".tail.js.init"]=e=>{e(aD)}})();
//# sourceMappingURL=tail.js.map
