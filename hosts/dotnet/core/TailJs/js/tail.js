(()=>{"use strict";var e,t,r,n,a,i,o,s,l,u,c,f,d,v,p,h,g,y,m,b,w,k,S,I,A,E,T,x,N,O,C,j,M,_="@info",U="@consent",$="_tail:",F=$+"state",q=$+"push",P=(e,t=e=>Error(e))=>{throw ef(e=ts(e))?t(e):e},z=(e,t,r=-1)=>{if(e===t||(e??t)==null)return!0;if(eg(e)&&eg(t)&&e.length===t.length){var n=0;for(var a in e){if(e[a]!==t[a]&&!z(e[a],t[a],r-1))return!1;++n}return n===Object.keys(t).length}return!1},R=(e,t,...r)=>e===t||r.length>0&&r.some(t=>R(e,t)),D=(e,t)=>null!=e?e:P(t??"A required value is missing",e=>TypeError(e.replace("..."," is required."))),W=(e,t=!0,r)=>{try{return e()}catch(e){return eS(t)?ep(e=t(e))?P(e):e:ea(t)?console.error(t?P(e):e):t}finally{r?.()}},B=e=>{var t,r=()=>r.initialized||t?t:(t=ts(e)).then?t=t.then(e=>(r.initialized=!0,r.resolved=t=e)):(r.initialized=!0,r.resolved=t);return r},J=e=>{var t={initialized:!0,then:V(()=>(t.initialized=!0,ts(e)))};return t},V=e=>{var t=B(e);return(e,r)=>K(t,[e,r])},K=async(e,t=!0,r)=>{try{var n=await ts(e);return ev(t)?t[0]?.(n):n}catch(e){if(ea(t)){if(t)throw e;console.error(e)}else{if(ev(t)){if(!t[1])throw e;return t[1](e)}var a=await t?.(e);if(a instanceof Error)throw a;return a}}finally{await r?.()}},G=e=>e,L=void 0,H=Number.MAX_SAFE_INTEGER,X=!1,Y=!0,Z=()=>{},Q=e=>e,ee=e=>null!=e,et=Symbol.iterator,er=(e,t)=>(r,n=!0)=>e(r)?r:t&&n&&null!=r&&null!=(r=t(r))?r:L,en=(e,t)=>eS(t)?e!==L?t(e):L:e?.[t]!==L?e:L,ea=e=>"boolean"==typeof e,ei=er(ea,e=>0!=e&&(1==e||"false"!==e&&("true"===e||L))),eo=e=>!!e,es=e=>e===Y,el=e=>e!==X,eu=Number.isSafeInteger,ec=e=>"number"==typeof e,ef=e=>"string"==typeof e,ed=er(ef,e=>e?.toString()),ev=Array.isArray,ep=e=>e instanceof Error,eh=(e,t=!1)=>null==e?L:!t&&ev(e)?e:eI(e)?[...e]:[e],eg=e=>null!==e&&"object"==typeof e,ey=Object.prototype,em=Object.getPrototypeOf,eb=e=>null!=e&&em(e)===ey,ew=(e,t)=>"function"==typeof e?.[t],ek=e=>"symbol"==typeof e,eS=e=>"function"==typeof e,eI=(e,t=!1)=>!!(e?.[et]&&("object"==typeof e||t)),eA=e=>e instanceof Map,eE=e=>e instanceof Set,eT=(e,t)=>null==e?L:!1===t?e:Math.round(e*(t=Math.pow(10,t&&!0!==t?t:0)))/t,ex=!1,eN=e=>(ex=!0,e),eO=e=>null==e?L:eS(e)?e:t=>t[e],eC=(e,t,r)=>(t??r)!==L?(e=eO(e),t??=0,r??=H,(n,a)=>t--?L:r--?e?e(n,a):n:r):e,ej=e=>e?.filter(ee),eM=(e,t,r,n)=>null==e?[]:!t&&ev(e)?ej(e):e[et]?function*(e,t){if(null!=e){if(t){t=eO(t);var r=0;for(var n of e)if(null!=(n=t(n,r++))&&(yield n),ex){ex=!1;break}}else for(var n of e)null!=n&&(yield n)}}(e,r===L?t:eC(t,r,n)):eg(e)?function*(e,t){t=eO(t);var r=0;for(var n in e){var a=[n,e[n]];if(t&&(a=t(a,r++)),null!=a&&(yield a),ex){ex=!1;break}}}(e,eC(t,r,n)):eM(eS(e)?function*(e,t,r=Number.MAX_SAFE_INTEGER){for(null!=t&&(yield t);r--&&null!=(t=e(t));)yield t}(e,r,n):function*(e=0,t){if(e<0)for(t??=-e-1;e++;)yield t--;else for(t??=0;e--;)yield t++}(e,r),t),e_=(e,t)=>t&&!ev(e)?[...e]:e,eU=(e,t,r,n)=>eM(e,t,r,n),e$=(e,t,r=1,n=!1,a,i)=>(function* e(t,r,n,a){if(null!=t){if(t[et]||n&&eg(t))for(var i of a?eM(t):t)1!==r?yield*e(i,r-1,n,!0):yield i;else yield t}})(eM(e,t,a,i),r+1,n,!1),eF=(e,t,r,n)=>{if(t=eO(t),ev(e)){var a=0,i=[];for(r=r<0?e.length+r:r??0,n=n<0?e.length+n:n??e.length;r<n&&!ex;r++){var o=e[r];(t?o=t(o,a++):o)!=null&&i.push(o)}return ex=!1,i}return null!=e?eh(eU(e,t,r,n)):L},eq=(e,t,r,n)=>null!=e?new Set([...eU(e,t,r,n)]):L,eP=(e,t,r=1,n=!1,a,i)=>eh(e$(e,t,r,n,a,i)),ez=(...e)=>{var t;return eV(1===e.length?e[0]:e,e=>null!=e&&(t??=[]).push(...eh(e))),t},eR=(e,t,r,n)=>{var a,i=0;for(r=r<0?e.length+r:r??0,n=n<0?e.length+n:n??e.length;r<n;r++)if(null!=e[r]&&(a=t(e[r],i++)??a,ex)){ex=!1;break}return a},eD=(e,t)=>{var r,n=0;for(var a of e)if(null!=a&&(r=t(a,n++)??r,ex)){ex=!1;break}return r},eW=(e,t)=>{var r,n=0;for(var a in e)if(r=t([a,e[a]],n++)??r,ex){ex=!1;break}return r},eB=(e,t,...r)=>null==e?L:eI(e)?eF(e,e=>t(e,...r)):t(e,...r),eJ=(e,t,r,n)=>{var a;if(null!=e){if(ev(e))return eR(e,t,r,n);if(r===L){if(e[et])return eD(e,t);if("object"==typeof e)return eW(e,t)}for(var i of eM(e,t,r,n))null!=i&&(a=i);return a}},eV=eJ,eK=async(e,t,r,n)=>{var a;if(null==e)return L;for(var i of eU(e,t,r,n))if(null!=(i=await i)&&(a=i),ex){ex=!1;break}return a},eG=Object.fromEntries,eL=(e,t,r)=>{if(null==e)return L;if(ea(t)||r){var n={};return eV(e,r?(e,a)=>null!=(e=t(e,a))&&null!=(e[1]=r(n[e[0]],e[1]))&&(n[e[0]]=e[1]):e=>eV(e,t?e=>e?.[1]!=null&&((n[e[0]]??=[]).push(e[1]),n):e=>e?.[1]!=null&&(n[e[0]]=e[1],n))),n}return eG(eF(e,t?(e,r)=>en(t(e,r),1):e=>en(e,1)))},eH=(e,t,r,n,a)=>{var i=()=>eS(r)?r():r;return eJ(e,(e,n)=>r=t(r,e,n)??i(),n,a)??i()},eX=(e,t=e=>null!=e,r=ev(e),n,a)=>e_(eM(e,(e,r)=>t(e,r)?e:L,n,a),r),eY=(e,t,r,n)=>{var a;if(null==e)return L;if(t)e=eX(e,t,!1,r,n);else{if(null!=(a=e.length??e.size))return a;if(!e[et])return Object.keys(e).length}return a=0,eJ(e,()=>++a)??0},eZ=(e,...t)=>null==e?L:ec(e)?Math.max(e,...t):eH(e,(e,r,n,a=t[1]?t[1](r,n):r)=>null==e||ec(a)&&a>e?a:e,L,t[2],t[3]),eQ=(e,t,r)=>eF(e,eb(e)?e=>e[1]:e=>e,t,r),e0=e=>!ev(e)&&eI(e)?eF(e,eA(e)?e=>e:eE(e)?e=>[e,!0]:(e,t)=>[t,e]):eg(e)?Object.entries(e):L,e1=(e,t,r,n)=>null==e?L:(t=eO(t),eJ(e,(e,r)=>!t||(e=t(e,r))?eN(e):L,r,n)),e2=(e,t,r,n)=>null==e?L:ev(e)||ef(e)?e[e.length-1]:eJ(e,(e,r)=>!t||t(e,r)?e:L,r,n),e4=(e,t,r,n)=>null==e?L:eb(e)&&!t?Object.keys(e).length>0:e.some?.(t??eo)??eJ(e,t?(e,r)=>!!t(e,r)&&eN(!0):()=>eN(!0),r,n)??!1,e6=(e,t=e=>e)=>(e?.sort((e,r)=>t(e)-t(r)),e),e3=(e,t,r)=>(e.constructor===Object||ev(e)?void 0===r?delete e[t]:e[t]=r:void 0===r?e.delete?e.delete(t):delete e[t]:e.set?e.set(t,r):e.add?r?e.add(t):e.delete(t):e[t]=r,r),e5=(e,t,r)=>{if(e){if(e.constructor===Object&&null==r)return e[t];var n=e.get?e.get(t):e.has?e.has(t):e[t];return void 0===n&&null!=r&&null!=(n=eS(r)?r():r)&&e3(e,t,n),n}},e8=(e,...t)=>(eV(t,t=>eV(t,([t,r])=>{null!=r&&(eb(e[t])&&eb(r)?e8(e[t],r):e[t]=r)})),e),e9=e=>(t,r,n,a)=>{if(t)return void 0!=n?e(t,r,n,a):(eV(r,r=>ev(r)?e(t,r[0],r[1]):eV(r,([r,n])=>e(t,r,n))),t)},e7=e9(e3),te=e9((e,t,r)=>e3(e,t,eS(r)?r(e5(e,t)):r)),tt=(e,t)=>e instanceof Set||e instanceof WeakSet?!e.has(t)&&(e.add(t),!0):e5(e,t)!==e7(e,t,!0),tr=(e,t)=>{if((e??t)!=null){var r=e5(e,t);return ew(e,"delete")?e.delete(t):delete e[t],r}},tn=(e,...t)=>{var r=[],n=!1,a=(e,i,o,s)=>{if(e){var l=t[i];i===t.length-1?ev(l)?(n=!0,l.forEach(t=>r.push(tr(e,t)))):r.push(tr(e,l)):(ev(l)?(n=!0,l.forEach(t=>a(e5(e,t),i+1,e,t))):a(e5(e,l),i+1,e,l),!eY(e)&&o&&ta(o,s))}};return a(e,0),n?r:r[0]},ta=(e,t)=>{if(e)return ev(t)?(ev(e)&&e.length>1?t.sort((e,t)=>t-e):t).map(t=>ta(e,t)):ev(e)?t<e.length?e.splice(t,1)[0]:void 0:tr(e,t)},ti=(e,...t)=>{var r=(t,n)=>{var a;if(t){if(ev(t)){if(eb(t[0])){t.splice(1).forEach(e=>r(e,t[0]));return}a=t}else a=eF(t);a.forEach(([t,r])=>Object.defineProperty(e,t,{configurable:!1,enumerable:!0,writable:!1,...n,...eb(r)&&("get"in r||"value"in r)?r:eS(r)&&!r.length?{get:r}:{value:r}}))}};return t.forEach(e=>r(e)),e},to=(e,...t)=>{if(void 0!==e)return Object.fromEntries(t.flatMap(r=>eg(r)?ev(r)?r.map(t=>ev(t)?1===t.length?[t[0],e[t[0]]]:to(e[t[0]],...t[1]):[t,e[t]]):Object.entries(t).map(([t,r])=>[t,!0===r?e[t]:to(e[t],r)]):[[r,e[r]]]).filter(e=>null!=e[1]))},ts=e=>eS(e)?e():e,tl=(e,t=-1)=>ev(e)?t?e.map(e=>tl(e,t-1)):[...e]:eb(e)?t?eL(e,([e,r])=>[e,tl(r,t-1)]):{...e}:eE(e)?new Set(t?eF(e,e=>tl(e,t-1)):e):eA(e)?new Map(t?eF(e,e=>[e[0],tl(e[1],t-1)]):e):e,tu=(e,...t)=>e?.push(...t),tc=(e,...t)=>e?.unshift(...t),tf=(e,t)=>{if(e){if(!eb(t))return[e,e];var r,n,a,i={};if(eb(e))return eV(e,([e,o])=>{if(o!==t[e]){if(eb(r=o)){if(!(o=tf(o,t[e])))return;[o,r]=o}else ec(o)&&ec(n)&&(o=(r=o)-n);i[e]=o,(a??=tl(t))[e]=r}}),a?[i,a]:void 0}},td="undefined"!=typeof performance?(e=Y)=>e?Math.trunc(td(X)):performance.timeOrigin+performance.now():Date.now,tv=(e=!0,t=()=>td())=>{var r,n=+e*t(),a=0;return(i=e,o)=>(r=e?a+=-n+(n=t()):a,o&&(a=0),(e=i)&&(n=t()),r)},tp=(e=0)=>{var t,r,n=(a,i=e)=>{if(void 0===a)return!!r;clearTimeout(t),ea(a)?a&&(i<0?el:es)(r?.())?n(r):r=void 0:(r=a,t=setTimeout(()=>n(!0,i),i<0?-i:i))};return n},th=(e,t=0)=>{var r=eS(e)?{frequency:t,callback:e}:e,{queue:n=!0,paused:a=!1,trigger:i=!1,once:o=!1,callback:s=()=>{},raf:l}=r;t=r.frequency??0;var u=0,c=tw(!0).resolve(),f=tv(!a),d=f(),v=async e=>{if(!u||!n&&c.pending&&!0!==e)return!1;if(y.busy=!0,!0!==e)for(;c.pending;)await c;return e||c.reset(),(await K(()=>s(f(),-d+(d=f())),!1,()=>!e&&c.resolve())===!1||t<=0||o)&&g(!1),y.busy=!1,!0},p=()=>u=setTimeout(()=>l?requestAnimationFrame(h):h(),t<0?-t:t),h=()=>{y.active&&v(),y.active&&p()},g=(e,t=!e)=>(f(e,t),clearTimeout(u),y.active=!!(u=e?p():0),y),y={active:!1,busy:!1,restart:(e,r)=>(t=e??t,s=r??s,g(!0,!0)),toggle:(e,t)=>e!==y.active?e?t?(g(!0),y.trigger(),y):g(!0):g(!1):y,trigger:async e=>await v(e)&&(g(y.active),!0)};return y.toggle(!a,i)};class tg{_promise;constructor(){this.reset()}get value(){return this._promise.value}get error(){return this._promise.error}get pending(){return this._promise.pending}resolve(e,t=!1){return this._promise.resolve(e,t),this}reject(e,t=!1){return this._promise.reject(e,t),this}reset(){return this._promise=new ty,this}signal(e){return this.resolve(e),this.reset(),this}then(e,t){return this._promise.then(e,t)}}class ty{_promise;resolve;reject;value;error;pending=!0;constructor(){var e;this._promise=new Promise((...t)=>{e=t.map((e,t)=>(r,n)=>{if(!this.pending){if(n)return this;throw TypeError("Promise already resolved/rejected.")}return this.pending=!1,this[t?"error":"value"]=r===L||r,e(r),this})}),[this.resolve,this.reject]=e}then(e,t){return this._promise.then(e,t)}}var tm=(e,t=0)=>t>0?setTimeout(e,t):window.queueMicrotask(e),tb=(e,t)=>null==e||isFinite(e)?!e||e<=0?ts(t):new Promise(r=>setTimeout(async()=>r(await ts(t)),e)):P(`Invalid delay ${e}.`),tw=e=>e?new tg:new ty,tk=(...e)=>Promise.race(e.map(e=>eS(e)?e():e)),tS=(e,t,r)=>{var n=!1,a=(...t)=>e(...t,i),i=()=>n!==(n=!1)&&(r(a),!0),o=()=>n!==(n=!0)&&(t(a),!0);return o(),[i,o]},tI=()=>{var e,t=new Set;return[(r,n)=>{var a=tS(r,e=>t.add(e),e=>t.delete(e));return n&&e&&r(...e,a[0]),a},(...r)=>(e=r,t.forEach(e=>e(...r)))]},tA=(e,t=["and",", "])=>e?1===(e=eF(e)).length?e[0]:ev(t)?[e.slice(0,-1).join(t[1]??", ")," ",t[0]," ",e[e.length-1]].join(""):e.join(t??", "):L,tE=(e,t="'")=>null==e?L:t+e+t,tT=(e,t)=>e&&(e.length>t?e.slice(0,-1)+"…":e),tx=(e,t,r)=>null==e?L:eS(t)?tA(eF(ef(e)?[e]:e,t),r??""):ef(e)?e:tA(eF(e,e=>!1===e?L:e),t??""),tN=e=>(e=Math.log2(e))===(0|e),tO=(e,t,r,n)=>{var a,i,o,s=Object.fromEntries(Object.entries(e).filter(([e,t])=>ef(e)&&ec(t)).map(([e,t])=>[e.toLowerCase(),t])),l=Object.entries(s),u=Object.values(s),c=s.any??u.reduce((e,t)=>e|t,0),f=t?{...s,any:c,none:0}:s,d=Object.fromEntries(Object.entries(f).map(([e,t])=>[t,e])),v=(e,r)=>eu(e)?!t&&r?null!=d[e]?e:L:Number.isSafeInteger(e)?e:L:ef(e)?f[e]??f[e.toLowerCase()]??v(parseInt(e),r):L,p=!1,[h,g]=t?[(e,t)=>Array.isArray(e)?e.reduce((e,r)=>null==r||p?e:null==(r=v(r,t))?(p=!0,L):(e??0)|r,(p=!1,L)):v(e),(e,t)=>null==(e=h(e,!1))?L:t&&(i=d[e&c])?(a=g(e&~(e&c),!1)).length?[i,...a]:i:(e=l.filter(([,t])=>t&&e&t&&tN(t)).map(([e])=>e),t?e.length?1===e.length?e[0]:e:"none":e)]:[v,e=>null!=(e=v(e))?d[e]:L],y=(e,t)=>null==e?L:null==(e=h(o=e,t))?P(TypeError(`${JSON.stringify(o)} is not a valid ${r} value.`)):e,m=l.filter(([,e])=>!n||(n&e)===e&&tN(e));return ti(e=>y(e),[{configurable:!1,enumerable:!1},{parse:y,tryParse:h,entries:l,values:u,lookup:g,length:l.length,format:e=>g(e,!0),logFormat:(e,t="or")=>"any"===(e=g(e,!0))?"any "+r:`the ${r} ${tA(eF(eh(e),e=>tE(e)),[t])}`},t&&{pure:m,map:(e,t)=>(e=y(e),m.filter(([,t])=>t&e).map(t??(([,e])=>e)))}])},tC=(...e)=>{var t=e0(eL(e,!0)),r=e=>(eg(e)&&(ev(e)?e.forEach((t,n)=>e[n]=r(t)):t.forEach(([t,r])=>{var n,a=L;null!=(n=e[t])&&(1===r.length?e[t]=r[0].parse(n):r.forEach((i,o)=>!a&&null!=(a=o===r.length-1?i.parse(n):i.tryParse(n))&&(e[t]=a)))})),e);return r},tj=Symbol(),tM=(e,t=["|",";",","],r=!0)=>{if(!e)return L;var n=e.split("=").map(e=>r?decodeURIComponent(e.trim()).replaceAll("+"," "):e.trim());return n[1]??="",n[2]=n[1]&&t?.length&&e1(t,(e,t,r=n[1].split(e))=>r.length>1?r:L)||(n[1]?[n[1]]:[]),n},t_=(e,t=!0,r)=>null==e?L:tP(e,/^(?:(?:([\w+.-]+):)?(\/\/)?)?((?:([^:@]+)(?:\:([^@]*))?@)?(?:\[([^\]]+)\]|([0-9:]+|[^/+]+?))?(?::(\d*))?)?(\/[^#?]*)?(?:\?([^#]*))?(?:#(.*))?$/g,(e,r,n,a,i,o,s,l,u,c,f,d)=>{var v={source:e,scheme:r,urn:r?!n:!n&&L,authority:a,user:i,password:o,host:s??l,port:null!=u?parseInt(u):L,path:c,query:!1===t?f:tU(f,t),fragment:d};return v.path=v.path||(v.authority?v.urn?"":"/":L),v}),tU=(e,t,r=!0)=>t$(e,"&",t,r),t$=(e,t,r,n=!0)=>{var a=[],i=null==e?L:eL(e?.match(/(?:^.*?\?|^)([^#]*)/)?.[1]?.split(t),(e,t,[i,o,s]=tM(e,!1===r?[]:!0===r?L:r,n)??[],l)=>(l=null!=(i=i?.replace(/\[\]$/,""))?!1!==r?[i,s.length>1?s:o]:[i,o]:L,a.push(l),l),(e,t)=>e?!1!==r?ez(e,t):(e?e+",":"")+t:t);return i&&(i[tj]=a),i},tF=(e,t)=>t&&null!=e?t.test(e):L,tq=(e,t,r)=>tP(e,t,r,!0),tP=(r,n,a,i=!1)=>(r??n)==null?L:a?(e=L,i?(t=[],tP(r,n,(...r)=>null!=(e=a(...r))&&t.push(e))):r.replace(n,(...t)=>e=a(...t)),e):r.match(n),tz=e=>e?.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),tR=/\z./g,tD=(e,t)=>(t=tx(eq(eX(e,e=>e?.length)),"|"))?RegExp(t,"gu"):tR,tW={},tB=e=>e instanceof RegExp,tJ=(e,t=[","," "])=>tB(e)?e:ev(e)?tD(eF(e,e=>tJ(e,t)?.source)):ea(e)?e?/./g:tR:ef(e)?tW[e]??=tP(e||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,r,n)=>r?RegExp(r,"gu"):tD(eF(tV(n,RegExp(`(?<!(?<!\\\\)\\\\)[${tx(t,tz)}]`)),e=>e&&`^${tx(tV(e,/(?<!(?<!\\)\\)\*/),e=>tz(tK(e,/\\(.)/g,"$1")),".*")}$`))):L,tV=(e,t)=>e?.split(t)??e,tK=(e,t,r)=>e?.replace(t,r)??e,tG=(e=(e,t)=>e-t,t=e=>e[1]-e[0])=>{var r=[];return e7(r,{push(n,a){for(var i,o=[n,a],s=(e=!0)=>e?r.width=r.reduce((e,r)=>e+t(r),0):r.width,l=0;l<r.length;l++){var u=r[l];if(0>e(o[1],u[0]))return s(r.splice(l,0,o));if(0>=e(o[0],u[1])){if(0>e(o[0],u[0])&&(i=u[0]=o[0]),e(o[1],u[1])>0&&(i=u[1]=o[1]),!(r[l+1]?.[0]<u[1]))return s(null!=i);i=o=r.splice(l--,1)[0]}}return s(o&&(r[r.length]=o))},width:0})},tL=5e3,tH=()=>()=>P("Not initialized."),tX=window,tY=document,tZ=tY.body,tQ=(e,t)=>!!e?.matches(t),t0=H,t1=(e,t,r=(e,t)=>t>=t0)=>{for(var n,a=0,i=X;e?.nodeType===1&&!r(e,a++)&&t(e,(e,t)=>(null!=e&&(n=e,i=t!==Y&&null!=n),Y),a-1)!==X&&!i;){var o=e;null===(e=e.parentElement)&&o?.ownerDocument!==document&&(e=o?.ownerDocument.defaultView?.frameElement)}return n},t2=(e,t="z")=>{if(null!=e&&"null"!==e&&(""!==e||"b"===t))switch(t){case!0:case"z":return(""+e).trim()?.toLowerCase();case!1:case"r":case"b":return""===e||ei(e);case"n":return parseFloat(e);case"j":return W(()=>JSON.parse(e),Z);case"h":return W(()=>na(e),Z);case"e":return W(()=>no?.(e),Z);default:return ev(t)?""===e?void 0:(""+e).split(",").map(e=>e=""===e.trim()?void 0:t2(e,t[0])):void 0}},t4=(e,t,r)=>t2(e?.getAttribute(t),r),t6=(e,t,r)=>t1(e,(e,n)=>n(t4(e,t,r))),t3=(e,t)=>t4(e,t)?.trim()?.toLowerCase(),t5=e=>e?.getAttributeNames(),t8=(e,t)=>getComputedStyle(e).getPropertyValue(t)||null,t9=e=>null!=e?e.tagName:null,t7=()=>({x:(r=re(X)).x/(tZ.offsetWidth-window.innerWidth)||0,y:r.y/(tZ.offsetHeight-window.innerHeight)||0}),re=e=>({x:eT(scrollX,e),y:eT(scrollY,e)}),rt=(e,t)=>tK(e,/#.*$/,"")===tK(t,/#.*$/,""),rr=(e,t,r=Y)=>(n=rn(e,t))&&G({xpx:n.x,ypx:n.y,x:eT(n.x/tZ.offsetWidth,4),y:eT(n.y/tZ.offsetHeight,4),pageFolds:r?n.y/window.innerHeight:void 0}),rn=(e,t)=>t?.pointerType&&t?.pageY!=null?{x:t.pageX,y:t.pageY}:e?({x:a,y:i}=ra(e),{x:a,y:i}):void 0,ra=e=>e?(o=e.getBoundingClientRect(),r=re(X),{x:eT(o.left+r.x),y:eT(o.top+r.y),width:eT(o.width),height:eT(o.height)}):void 0,ri=(e,t,r,n={capture:!0,passive:!0})=>(t=eh(t),tS(r,r=>eV(t,t=>e.addEventListener(t,r,n)),r=>eV(t,t=>e.removeEventListener(t,r,n)))),ro=e=>{var{host:t,scheme:r,port:n}=t_(e,!1);return{host:t+(n?":"+n:""),scheme:r}},rs=()=>({...r=re(Y),width:window.innerWidth,height:window.innerHeight,totalWidth:tZ.offsetWidth,totalHeight:tZ.offsetHeight});(E=s||(s={}))[E.Anonymous=0]="Anonymous",E[E.Indirect=1]="Indirect",E[E.Direct=2]="Direct",E[E.Sensitive=3]="Sensitive";var rl=tO(s,!1,"data classification"),ru=(e,t)=>rl.parse(e?.classification??e?.level)===rl.parse(t?.classification??t?.level)&&rf.parse(e?.purposes??e?.purposes)===rf.parse(t?.purposes??t?.purposes),rc=(e,t)=>null==e?void 0:ec(e.classification)&&ec(e.purposes)?e:{...e,level:void 0,purpose:void 0,classification:rl.parse(e.classification??e.level??t?.classification??0),purposes:rf.parse(e.purposes??e.purpose??t?.purposes??l.Necessary)};(T=l||(l={}))[T.None=0]="None",T[T.Necessary=1]="Necessary",T[T.Functionality=2]="Functionality",T[T.Performance=4]="Performance",T[T.Targeting=8]="Targeting",T[T.Security=16]="Security",T[T.Infrastructure=32]="Infrastructure",T[T.Any_Anonymous=49]="Any_Anonymous",T[T.Any=63]="Any",T[T.Server=2048]="Server",T[T.Server_Write=4096]="Server_Write";var rf=tO(l,!0,"data purpose",2111),rd=tO(l,!1,"data purpose",0),rv=(e,t)=>((u=e?.metadata)&&(t?(delete u.posted,delete u.queued,Object.entries(u).length||delete e.metadata):delete e.metadata),e),rp=e=>!!e?.patchTargetId;(x=c||(c={}))[x.Global=0]="Global",x[x.Entity=1]="Entity",x[x.Session=2]="Session",x[x.Device=3]="Device",x[x.User=4]="User";var rh=tO(c,!1,"variable scope");s.Anonymous,l.Necessary;var rg=e=>`'${e.key}' in ${rh.format(e.scope)} scope`,ry={scope:rh,purpose:rd,purposes:rf,classification:rl};tC(ry),(N=f||(f={}))[N.Add=0]="Add",N[N.Min=1]="Min",N[N.Max=2]="Max",N[N.IfMatch=3]="IfMatch",N[N.IfNoneMatch=4]="IfNoneMatch",tO(f,!1,"variable patch type"),(O=d||(d={}))[O.Success=200]="Success",O[O.Created=201]="Created",O[O.Unchanged=304]="Unchanged",O[O.Denied=403]="Denied",O[O.NotFound=404]="NotFound",O[O.ReadOnly=405]="ReadOnly",O[O.Conflict=409]="Conflict",O[O.Unsupported=501]="Unsupported",O[O.Invalid=400]="Invalid",O[O.Error=500]="Error",tO(d,!1,"variable set status");var rm=(e,t,r)=>{var n,a=e(),i=e=>e,o=(e,r=rS)=>J(async()=>(n=i(r(await a,t)))&&e(n)),s={then:o(e=>e).then,all:o(e=>e,e=>e),changed:o(e=>eX(e,e=>e.status<300)),variables:o(e=>eF(e,rw)),values:o(e=>eF(e,e=>rw(e)?.value)),push:()=>(i=e=>(r?.(eF(rb(e))),e),s),value:o(e=>rw(e[0])?.value),variable:o(e=>rw(e[0])),result:o(e=>e[0])};return s},rb=e=>e?.map(e=>e?.status<400?e:L),rw=e=>rk(e)?e.current??e:L,rk=(e,t=!1)=>t?e?.status<300:e?.status<400||e?.status===404,rS=(e,t,r)=>{var n,a,i=[],o=eF(eh(e),(e,o)=>e&&(e.status<400||!r&&404===e.status?e:(a=`${rg(e.source??e)} could not be ${404===e.status?"found.":`${e.source||500!==e.status?"set":"read"} because ${409===e.status?`of a conflict. The expected version '${e.source?.version}' did not match the current version '${e.current?.version}'.`:403===e.status?e.error??"the operation was denied.":400===e.status?e.error??"the value does not conform to the schema":405===e.status?"it is read only.":500===e.status?`of an unexpected error: ${e.error}`:"of an unknown reason."}`}`,(null==(n=t?.[o])||!1!==n(e,a))&&i.push(a),L)));return i.length?P(i.join("\n")):ev(e)?o:o?.[0]},rI=e=>rS(e,L,!0),rA=e=>e&&"string"==typeof e.type,rE=((...e)=>t=>t?.type&&e.some(e=>e===t?.type))("view"),rT=e=>e&&/^(%[A-F0-9]{2}|[^%])*$/gi.test(e)&&/[A-F0-9]{2}/gi.test(e)?decodeURIComponent(e):e,rx=(e,t)=>t&&(!(p=e.get(v=t.tag+(t.value??"")))||(p.score??1)<(t.score??1))&&e.set(v,t),rN=(e,t="",r=new Map)=>{if(e)return eI(e)?eV(e,e=>rN(e,t,r)):ef(e)?tP(e,/(?:([^\s:~]+)::(?![ :=]))?([^\s~]+?)(?:\s*[:=]\s*(?:"((?:"[^"]*|.)*?)(?:"|$)|'((?:'[^'~]*|.)*?)(?:'|$)|((?: *(?:(?:[^,&;#\s~])))*))\s*)?(?: *~ *(\d*(?:\.\d*)?))?(?:[\s,&;#~]+|$)/g,(e,n,a,i,o,s,l)=>{var u={tag:(n?rT(n)+"::":"")+t+rT(a),value:rT(i??o??s)};l&&10!==parseFloat(l)&&(u.score=parseFloat(l)/10),rx(r,u)}):rx(r,e),r},rO=new WeakMap,rC=e=>rO.get(e),rj=(e,t=X)=>(t?"--track-":"track-")+e,rM=(e,t,r,n,a,i)=>t?.[1]&&eV(t5(e),o=>t[0][o]??=(i=X,ef(n=eV(t[1],([t,r,n],a)=>tF(o,t)&&(i=void 0,!r||tQ(e,r))&&eN(n??o)))&&(!(a=e.getAttribute(o))||ei(a))&&rN(a,tK(n,/\-/g,":"),r),i)),r_=()=>{},rU=(e,t)=>{if(h===(h=rD.tags))return r_(e,t);var r=e=>e?tB(e)?[[e]]:eI(e)?eP(e,r):[eb(e)?[tJ(e.match),e.selector,e.prefix]:[tJ(e)]]:[],n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...r(eQ(h))]];(r_=(e,t)=>rM(e,n,t))(e,t)},r$=(e,t)=>tx(ez(t8(e,rj(t,Y)),t8(e,rj("base-"+t,Y)))," "),rF={},rq=(e,t,r=r$(e,"attributes"))=>{r&&rM(e,rF[r]??=[{},tq(r,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,t,r,n)=>[tJ(r||n),,t])],t),rN(r$(e,"tags"),void 0,t)},rP=(e,t,r=X,n)=>(r?t1(e,(e,r)=>r(rP(e,t,X)),eS(r)?r:void 0):tx(ez(t4(e,rj(t)),t8(e,rj(t,Y)))," "))??(n&&(g=rC(e))&&n(g))??null,rz=(e,t,r=X,n)=>""===(y=rP(e,t,r,n))||(null==y?y:ei(y)),rR=(e,t,r,n)=>e?(rq(e,n??=new Map),t1(e,e=>{rU(e,n),rN(r?.(e),void 0,n)},t),n.size?{tags:[...n.values()]}:{}):{},rD={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,encryptionKey:null,key:null,apiKey:null,debug:!1,impressionThreshold:1e3,captureContextMenu:!0,defaultActivationTracking:"auto",tags:{default:["data-id","data-name"]}},rW=[],rB=[],rJ=(e,t=0)=>e.charCodeAt(t),rV=e=>String.fromCharCode(...e);[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,t)=>rW[rB[t]=e.charCodeAt(0)]=t);var rK=e=>{for(var t,r=0,n=e.length,a=[];n>r;)t=e[r++]<<16|e[r++]<<8|e[r++],a.push(rB[(16515072&t)>>18],rB[(258048&t)>>12],rB[(4032&t)>>6],rB[63&t]);return a.length+=n-r,rV(a)},rG=e=>{for(var t,r=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);a>r;)i[n++]=rW[rJ(e,r++)]<<2|(t=rW[rJ(e,r++)])>>4,a>r&&(i[n++]=(15&t)<<4|(t=rW[rJ(e,r++)])>>2,a>r&&(i[n++]=(3&t)<<6|rW[rJ(e,r++)]));return i},rL={32:[2166136261n,16777619n],64:[0xcbf29ce484222325n,1099511628211n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]},rH=(e=256)=>e*Math.random()|0,rX=e=>{var t,r,n,a,i,o=0n,s=0,l=0n,u=[],c=0,f=0,d=0,v=0,p=[];for(d=0;d<e?.length;v+=p[d]=e.charCodeAt(d++));var h=e?()=>{u=[...p],f=255&(c=v),d=-1}:()=>{},g=e=>(f=255&(c+=-u[d=(d+1)%u.length]+(u[d]=e)),e);return[e?e=>{for(h(),a=16-((t=e.length)+4)%16,i=new Uint8Array(4+t+a),n=0;n<3;i[n++]=g(rH()));for(r=0,i[n++]=g(f^16*rH(16)+a);t>r;i[n++]=g(f^e[r++]));for(;a--;)i[n++]=rH();return i}:e=>e,e?e=>{for(h(),r=0;r<3;g(e[r++]));if((t=e.length-4-((f^g(e[r++]))%16||16))<=0)return new Uint8Array(0);for(n=0,i=new Uint8Array(t);t>n;i[n++]=f^g(e[r++]));return i}:e=>e,(e,t=64)=>{if(null==e)return null;for(s=ea(t)?64:t,h(),[o,l]=rL[s],r=0;r<e.length;o=BigInt.asUintN(s,(o^BigInt(f^g(e[r++])))*l));return!0===t?Number(BigInt(Number.MIN_SAFE_INTEGER)+o%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):o.toString(36)}]},rY={exports:{}};(e=>{(()=>{function t(e,t){if(t&&t.multiple&&!Array.isArray(e))throw Error("Invalid argument type: Expected an Array to serialize multiple values.");var r,n,a=new Uint8Array(128),i=0;if(t&&t.multiple)for(var o=0;o<e.length;o++)s(e[o]);else s(e);return a.subarray(0,i);function s(e,a){var i,o,d,v,p,h;switch(typeof e){case"undefined":u(192);break;case"boolean":u(e?195:194);break;case"number":(e=>{if(isFinite(e)&&Number.isSafeInteger(e)){if(e>=0&&e<=127)u(e);else if(e<0&&e>=-32)u(e);else if(e>0&&e<=255)c([204,e]);else if(e>=-128&&e<=127)c([208,e]);else if(e>0&&e<=65535)c([205,e>>>8,e]);else if(e>=-32768&&e<=32767)c([209,e>>>8,e]);else if(e>0&&e<=4294967295)c([206,e>>>24,e>>>16,e>>>8,e]);else if(e>=-2147483648&&e<=2147483647)c([210,e>>>24,e>>>16,e>>>8,e]);else if(e>0&&e<=18446744073709552e3){var t=e/4294967296,a=e%4294967296;c([211,t>>>24,t>>>16,t>>>8,t,a>>>24,a>>>16,a>>>8,a])}else e>=-0x8000000000000000&&e<=0x7fffffffffffffff?(u(211),f(e)):e<0?c([211,128,0,0,0,0,0,0,0]):c([207,255,255,255,255,255,255,255,255])}else n||(n=new DataView(r=new ArrayBuffer(8))),n.setFloat64(0,e),u(203),c(new Uint8Array(r))})(e);break;case"string":(d=(o=(e=>{for(var t=!0,r=e.length,n=0;n<r;n++)if(e.charCodeAt(n)>127){t=!1;break}for(var a=0,i=new Uint8Array(e.length*(t?1:4)),o=0;o!==r;o++){var s=e.charCodeAt(o);if(s<128){i[a++]=s;continue}if(s<2048)i[a++]=s>>6|192;else{if(s>55295&&s<56320){if(++o>=r)throw Error("UTF-8 encode: incomplete surrogate pair");var l=e.charCodeAt(o);if(l<56320||l>57343)throw Error("UTF-8 encode: second surrogate character 0x"+l.toString(16)+" at index "+o+" out of range");s=65536+((1023&s)<<10)+(1023&l),i[a++]=s>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}return t?i:i.subarray(0,a)})(e)).length)<=31?u(160+d):d<=255?c([217,d]):d<=65535?c([218,d>>>8,d]):c([219,d>>>24,d>>>16,d>>>8,d]),c(o);break;case"object":null===e?u(192):e instanceof Date?(e=>{var t=e.getTime()/1e3;if(0===e.getMilliseconds()&&t>=0&&t<4294967296)c([214,255,t>>>24,t>>>16,t>>>8,t]);else if(t>=0&&t<17179869184){var r=1e6*e.getMilliseconds();c([215,255,r>>>22,r>>>14,r>>>6,r<<2>>>0|t/4294967296,t>>>24,t>>>16,t>>>8,t])}else{var r=1e6*e.getMilliseconds();c([199,12,255,r>>>24,r>>>16,r>>>8,r]),f(t)}})(e):Array.isArray(e)?l(e):e instanceof Uint8Array||e instanceof Uint8ClampedArray?((h=(p=e).length)<=255?c([196,h]):h<=65535?c([197,h>>>8,h]):c([198,h>>>24,h>>>16,h>>>8,h]),c(p)):e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?l(e):(e=>{var t=0;for(var r in e)void 0!==e[r]&&t++;for(var r in t<=15?u(128+t):t<=65535?c([222,t>>>8,t]):c([223,t>>>24,t>>>16,t>>>8,t]),e){var n=e[r];void 0!==n&&(s(r),s(n))}})(e);break;default:if(!a&&t&&t.invalidTypeReplacement)"function"==typeof t.invalidTypeReplacement?s(t.invalidTypeReplacement(e),!0):s(t.invalidTypeReplacement,!0);else throw Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.")}}function l(e){var t=e.length;t<=15?u(144+t):t<=65535?c([220,t>>>8,t]):c([221,t>>>24,t>>>16,t>>>8,t]);for(var r=0;t>r;r++)s(e[r])}function u(e){if(a.length<i+1){for(var t=2*a.length;t<i+1;)t*=2;var r=new Uint8Array(t);r.set(a),a=r}a[i]=e,i++}function c(e){if(a.length<i+e.length){for(var t=2*a.length;t<i+e.length;)t*=2;var r=new Uint8Array(t);r.set(a),a=r}a.set(e,i),i+=e.length}function f(e){var t,r;e>=0?(t=e/4294967296,r=e%4294967296):(t=~(t=Math.abs(++e)/4294967296),r=~(r=Math.abs(e)%4294967296)),c([t>>>24,t>>>16,t>>>8,t,r>>>24,r>>>16,r>>>8,r])}}function r(e,t){var r,n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),"object"!=typeof e||void 0===e.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),t&&t.multiple)for(r=[];n<e.length;)r.push(a());else r=a();return r;function a(){var t=e[n++];if(t>=0&&t<=127)return t;if(t>=128&&t<=143)return u(t-128);if(t>=144&&t<=159)return c(t-144);if(t>=160&&t<=191)return f(t-160);if(192===t)return null;if(193===t)throw Error("Invalid byte code 0xc1 found.");if(194===t)return!1;if(195===t)return!0;if(196===t)return l(-1,1);if(197===t)return l(-1,2);if(198===t)return l(-1,4);if(199===t)return d(-1,1);if(200===t)return d(-1,2);if(201===t)return d(-1,4);if(202===t)return s(4);if(203===t)return s(8);if(204===t)return o(1);if(205===t)return o(2);if(206===t)return o(4);if(207===t)return o(8);if(208===t)return i(1);if(209===t)return i(2);if(210===t)return i(4);if(211===t)return i(8);if(212===t)return d(1);if(213===t)return d(2);if(214===t)return d(4);if(215===t)return d(8);if(216===t)return d(16);if(217===t)return f(-1,1);if(218===t)return f(-1,2);if(219===t)return f(-1,4);if(220===t)return c(-1,2);if(221===t)return c(-1,4);if(222===t)return u(-1,2);if(223===t)return u(-1,4);if(t>=224&&t<=255)return t-256;throw console.debug("msgpack array:",e),Error("Invalid byte value '"+t+"' at index "+(n-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function i(t){for(var r=0,a=!0;t-- >0;)if(a){var i=e[n++];r+=127&i,128&i&&(r-=128),a=!1}else r*=256,r+=e[n++];return r}function o(t){for(var r=0;t-- >0;)r*=256,r+=e[n++];return r}function s(t){var r=new DataView(e.buffer,n+e.byteOffset,t);return(n+=t,4===t)?r.getFloat32(0,!1):8===t?r.getFloat64(0,!1):void 0}function l(t,r){t<0&&(t=o(r));var a=e.subarray(n,n+t);return n+=t,a}function u(e,t){e<0&&(e=o(t));for(var r={};e-- >0;)r[a()]=a();return r}function c(e,t){e<0&&(e=o(t));for(var r=[];e-- >0;)r.push(a());return r}function f(t,r){t<0&&(t=o(r));var a=n;return n+=t,((e,t,r)=>{var n=t,a="";for(r+=t;r>n;){var i=e[n++];if(i>127){if(i>191&&i<224){if(n>=r)throw Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&e[n++]}else if(i>223&&i<240){if(n+1>=r)throw Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&e[n++])<<6|63&e[n++]}else if(i>239&&i<248){if(n+2>=r)throw Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}else throw Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1))}if(i<=65535)a+=String.fromCharCode(i);else if(i<=1114111)i-=65536,a+=String.fromCharCode(i>>10|55296)+String.fromCharCode(1023&i|56320);else throw Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach")}return a})(e,a,t)}function d(e,t){e<0&&(e=o(t));var r=o(1),a=l(e);return 255===r?(e=>{if(4===e.length){var t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];return new Date(1e3*t)}if(8===e.length){var r=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),t=(3&e[3])*4294967296+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7];return new Date(1e3*t+r/1e6)}if(12===e.length){var r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3];n-=8;var t=i(8);return new Date(1e3*t+r/1e6)}throw Error("Invalid data length for a date value.")})(a):{type:r,data:a}}}var n={serialize:t,deserialize:r,encode:t,decode:r};e?e.exports=n:window[window.msgpackJsName||"msgpack"]=n})()})(rY);var{deserialize:rZ,serialize:rQ}=(C=rY.exports)&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C,r0="$ref",r1=(e,t,r)=>ek(e)?L:r?t!==L:null===t||t,r2=(e,t,{defaultValues:r=!0,prettify:n=!1})=>{var a,i,o,s=(e,t,n=e[t],a=r1(t,n,r)?u(n):L)=>(n!==a&&(a!==L||ev(e)?e[t]=a:delete e[t],l(()=>e[t]=n)),a),l=e=>(a??=[]).push(e),u=e=>{if(null==e||eS(e)||ek(e))return L;if(!eg(e))return e;if(e.toJSON&&e!==(e=e.toJSON()))return u(e);if(null!=(o=i?.get(e)))return e[r0]||(e[r0]=o,l(()=>delete e[r0])),{[r0]:o};if(eb(e))for(var t in(i??=new Map).set(e,i.size+1),e)s(e,t);else!eI(e)||e instanceof Uint8Array||(!ev(e)||Object.keys(e).length<e.length?[...e]:e).forEach((t,r)=>r in e?s(e,r):(e[r]=null,l(()=>delete e[r])));return e};return W(()=>t?rQ(u(e)??null):W(()=>JSON.stringify(e,L,n?2:0),()=>JSON.stringify(u(e),L,n?2:0)),!0,()=>a?.forEach(e=>e()))},r4=e=>{var t,r,n=e=>eg(e)?e[r0]&&(r=(t??=[])[e[r0]])?r:(e[r0]&&(t[e[r0]]=e,delete e[r0]),Object.entries(e).forEach(([t,r])=>r!==(r=n(r))&&(e[t]=r)),e):e;return n(ef(e)?JSON.parse(e):null!=e?W(()=>rZ(e),()=>(console.error("Invalid message received.",e),L)):e)},r6=(e,t={})=>{var r=(e,{json:t=!1,...r})=>{var n=(e,n)=>ec(e)&&!0===n?e:o(e=ef(e)?new Uint8Array(eF(e.length,t=>255&e.charCodeAt(t))):t?W(()=>JSON.stringify(e),()=>JSON.stringify(r2(e,!1,r))):r2(e,!0,r),n);if(t)return[e=>r2(e,!1,r),e=>null==e?L:W(()=>r4(e),L),(e,t)=>n(e,t)];var[a,i,o]=rX(e);return[(e,t)=>(t?Q:rK)(a(r2(e,!0,r))),e=>null!=e?r4(i(e instanceof Uint8Array?e:rG(e))):null,(e,t)=>n(e,t)]};if(!e){var n=+(t.json??0);if(n&&!1!==t.prettify)return(m??=[r(null,{json:!1}),r(null,{json:!0,prettify:!0})])[+n]}return r(e,t)};r6(),r6(null,{json:!0,prettify:!0});var r3=tV(""+tY.currentScript.src,"#"),r5=tV(""+(r3[1]||""),";"),r8=r3[0],r9=r5[1]||t_(r8,!1)?.host,r7=e=>!!(r9&&t_(e,!1)?.host?.endsWith(r9)===Y),ne=(...e)=>tK(tx(e),/(^(?=\?))|(^\.(?=\/))/,r8.split("?")[0]),nt=ne("?","var"),nr=ne("?","mnt");ne("?","usr");var[nn,na]=r6(),[ni,no]=[tH,tH],[ns,nl]=tI(),nu=e=>{no===tH&&([ni,no]=r6(e),nl(ni,no))},nc=e=>t=>nf(e,t),nf=(...e)=>{var t=e.shift();console.error(ef(e[1])?e.shift():e[1]?.message??"An error occurred",t.id??t,...e)},[nd,nv]=tI(),[np,nh]=tI(),ng=e=>nm!==(nm=e)&&nv(nm=!1,nk(!0,!0)),ny=e=>nb!==(nb=!!e&&"visible"===document.visibilityState)&&nh(nb,!e,nw(!0,!0));nd(ny);var nm=!0,nb=!1,nw=tv(!1),nk=tv(!1);ri(window,["pagehide","freeze"],()=>ng(!1)),ri(window,["pageshow","resume"],()=>ng(!0)),ri(document,"visibilitychange",()=>(ny(!0),nb&&ng(!0))),nv(nm,nk(!0,!0));var nS=!1,nI=tv(!1),[nA,nE]=tI(),nT=th({callback:()=>nS&&nE(nS=!1,nI(!1)),frequency:2e4,once:!0,paused:!0}),nx=()=>!nS&&(nE(nS=!0,nI(!0)),nT.restart());ri(window,["focus","scroll"],nx),ri(window,"blur",()=>nT.trigger()),ri(document.body,["keydown","pointerdown","pointermove","scroll"],nx),nx();var nN=()=>nI();(j=b||(b={}))[j.View=-3]="View",j[j.Tab=-2]="Tab",j[j.Shared=-1]="Shared";var nO=tO(b,!1,"local variable scope"),nC=e=>nO.tryParse(e)??rh(e),nj=e=>!!nO.tryParse(e?.scope),nM=tC({scope:nO},ry),n_=e=>null==e?void 0:ef(e)?e:e.source?n_(e.source):`${nC(e.scope)}\0${e.key}\0${e.targetId??""}`,nU=e=>{var t=e.split("\0");return{scope:+t[0],key:t[1],targetId:t[2]}},n$=0,nF=void 0,nq=()=>(nF??tH())+"_"+nP(),nP=()=>(td(!0)-(parseInt(nF.slice(0,-2),36)||0)).toString(36)+"_"+(++n$).toString(36),nz=e=>crypto.getRandomValues(e),nR=()=>tK("10000000-1000-4000-8000-100000000000",/[018]/g,e=>((e*=1)^nz(new Uint8Array(1))[0]&15>>e/4).toString(16)),nD={},nW={id:nF,heartbeat:td()},nB={knownTabs:{[nF]:nW},variables:{}},[nJ,nV]=tI(),[nK,nG]=tI(),nL=tH,nH=e=>nD[n_(e)],nX=(...e)=>nZ(e.map(e=>(e.cache=[td(),3e3],nM(e)))),nY=e=>eF(e,e=>e&&[e,nD[n_(e)]]),nZ=e=>{var t=eF(e,e=>e&&[n_(e),e]);if(t?.length){var r=nY(e);e7(nD,t);var n=eX(t,e=>e[1].scope>b.Tab);n.length&&(e7(nB.variables,n),nL({type:"patch",payload:eL(n)})),nG(r,nD,!0)}};ns((e,t)=>{nd(r=>{if(r){var n=t(sessionStorage.getItem(F));sessionStorage.removeItem(F),nF=n?.[0]??td(!0).toString(36)+Math.trunc(1296*Math.random()).toString(36).padStart(2,"0"),nD=eL(ez(eX(nD,([,e])=>e.scope===b.View),eF(n?.[1],e=>[n_(e),e])))}else sessionStorage.setItem(F,e([nF,eF(nD,([,e])=>e.scope!==b.View?e:void 0)]))},!0),nL=(t,r)=>{e&&(localStorage.setItem(F,e([nF,t,r])),localStorage.removeItem(F))},ri(window,"storage",e=>{if(e.key===F){var n=t?.(e.newValue);if(n&&(!n[2]||n[2]===nF)){var[a,{type:i,payload:o}]=n;if("query"===i)r.active||nL({type:"set",payload:nB},a);else if("set"===i&&r.active)e7(nB,o),e7(nD,o.variables),r.trigger();else if("patch"===i){var s=nY(eF(o,1));e7(nB.variables,o),e7(nD,o),nG(s,nD,!1)}else"tab"===i&&(e7(nB.knownTabs,a,o),o&&nV("tab",o,!1))}}});var r=th(()=>nV("ready",nB,!0),-25),n=th({callback(){var e=td()-1e4;eV(nB?.knownTabs,([t,r])=>r[0]<e&&tn(nB.knownTabs,t)),nW.heartbeat=td(),nL({type:"tab",payload:nW})},frequency:5e3,paused:!0}),a=e=>{nL({type:"tab",payload:e?nW:void 0}),e?(r.restart(),nL({type:"query"})):r.toggle(!1),n.toggle(e)};nd(e=>a(e),!0)},!0);var[nQ,n0]=tI(),[n1,n2]=tI(),n4=((e,{timeout:t=1e3,encrypt:r=!0,retries:n=10}={})=>{var a=()=>(r?no:na)(localStorage.getItem(e)),i=0,o=()=>localStorage.setItem(e,(r?ni:nn)([nF,td()+t]));return async(r,s,l=null!=s?1:n)=>{for(;l--;){var u=a();if((!u||u[1]<td())&&(o(),a()?.[0]===nF))return t>0&&(i=setInterval(()=>o(),t/2)),await K(r,!0,()=>{clearInterval(i),localStorage.removeItem(e)});var c=tw(),[f]=ri(window,"storage",t=>{t.key!==e||t.newValue||c.resolve()});await tk(tb(s??t),c),f()}null==s&&P(e+" could not be acquired.")}})($+"rq"),n6=async(e,t,{beacon:r=!1,encrypt:n=!0}={})=>{var a,i,o=!1,s=r=>{var s=eS(t)?t?.(a,r):t;return!1!==s&&(null!=s&&!0!==s&&(a=s),n0(e,a,r,e=>(o=a===L,a=e)),!o&&(i=n?ni(a,!0):JSON.stringify(a)))};if(!r)return await n4(()=>eK(1,async t=>{if(!s(t))return eN();var r=await fetch(e,{method:null!=a?"POST":"GET",cache:"no-cache",credentials:"include",mode:"cors",headers:{"Content-Type":"text/plain"},body:i});if(r.status>=400)return 0===t?eN(P(`Invalid response: ${await r.text()}`)):(console.warn(`Request to ${e} failed on attempt ${t+1}/3.`),await tb((1+t)*200));var o=n?new Uint8Array(await r.arrayBuffer()):await r.text(),l=o?.length?(n?no:JSON.parse)?.(o):L;return null!=l&&n2(l),eN(l)}));s(0)&&(navigator.sendBeacon(e,new Blob(null!=a?[i]:[],{type:"text/plain"}))||P("Beacon send failed."))},n3=["scope","key","targetId","version"],n5=[...n3,"created","modified","classification","purposes","tags","readonly","value"],n8=[...n3,"init","purpose","refresh"],n9=[...n5,"value","force","patch"],n7=new Map,ae=(e,t)=>{var r=th(async()=>{var e=eF(n7,([e,t])=>({...nU(e),result:[...t]}));e.length&&await u.get(...e)},3e3),n=(e,t)=>t&&eB(t,t=>e5(n7,e,()=>new Set).add(t)),a=(e,t)=>{if(e){var r,a=n_(e),i=ta(n7,a);if(i?.size){if(e?.purposes===t?.purposes&&e?.classification==t?.classification&&z(e?.value,t?.value))return;eV(i,i=>{r=!1,i?.(e,t,(e=!0)=>r=e),r&&n(a,i)})}}};nd((e,t)=>r.toggle(e,e&&t>=3e3),!0),nK(e=>eV(e,([e,t])=>a(e,t)));var i=new Map,o=(e,t)=>e7(i,e,ea(t)?t?void 0:0:t),u={get:(...r)=>rm(async()=>{(!r[0]||ef(r[0]))&&(a=r[0],r=r.slice(1)),t?.validateKey(a);var a,i=[],s=eF(r,(e,t)=>[e,t]),l=[],u=(await n6(e,()=>!!(s=eF(s,([e,t])=>{if(e){var r=n_(e);n(r,e.result);var a=nH(r);e.init&&o(r,e.cache);var s=e.purposes;if((s??~0)&(a?.purposes??~0)){if(!e.refresh&&a?.[1]<td())tu(i,[{...a,status:d.Success},t]);else if(!nj(e))return[to(e,n8),t];else if(eb(e.init)){var u={...nM(e),status:d.Created,...e.init};null!=u.value&&(tu(l,c(u)),tu(i,[u,t]))}}else tu(i,[{...e,status:d.Denied,error:"No consent for "+rf.logFormat(s)},t])}})).length&&{variables:{get:eF(s,0)},deviceSessionId:t?.deviceSessionId}))?.variables?.get??[];return tu(i,...eF(u,(e,t)=>e&&[e,s[t][1]])),l.length&&nZ(l),i.map(([e])=>e)},eF(r,e=>e?.error)),set:(...r)=>rm(async()=>{(!r[0]||ef(r[0]))&&(n=r[0],r=r.slice(1)),t?.validateKey(n);var n,a=[],i=[],u=eF(r,(e,t)=>{if(e){var r=n_(e),n=nH(r);if(o(r,e.cache),nj(e)){if(null!=e.patch)return P("Local patching is not supported.");var u={value:e.value,classification:s.Anonymous,purposes:l.Necessary,scope:nO(e.scope),key:e.key};return i[t]={status:n?d.Success:d.Created,source:e,current:u},void tu(a,c(u))}return null==e.patch&&e?.version===void 0&&(e.version=n?.version,e.force??=!!e.version),[to(e,n9),t]}}),f=u.length?D((await n6(e,{variables:{set:u.map(e=>e[0])},deviceSessionId:t?.deviceSessionId})).variables?.set,"No result."):[];return a.length&&nZ(a),eV(f,(e,t)=>{var[r,n]=u[t];e.source=r,r.result?.(e),i[n]=e}),i},eF(r,e=>e?.error))},c=(e,t=td())=>({...to(e,n5),cache:[t,t+(ta(i,n_(e))??3e3)]});return n1(({variables:e})=>{if(e){var t=td(),r=ez(eF(e.get,e=>rw(e)),eF(e.set,e=>rw(e)));r?.length&&nZ(eB(r,c,t))}}),u},at=(e,t,r=tL)=>{var n=[],a=new WeakMap,i=new Map,o=(e,t)=>e.metadata?.queued?e8(t,{type:e.type+"_patch",patchTargetId:e.clientId}):P("Source event not queued."),s=async(r,n=!0,a)=>{var i;return(!r[0]||ef(r[0]))&&(i=r[0],r=r.slice(1)),n6(e,{events:r=r.map(e=>(t?.validateKey(i??e.key),e8(e,{metadata:{posted:!0}}),e8(rv(tl(e),!0),{timestamp:e.timestamp-td()}))),variables:a,deviceSessionId:t?.deviceSessionId},{beacon:n})},l=async(e,{flush:r=!1,async:a=!0,variables:i}={})=>{if((e=eF(eh(e),e=>e8(t.applyEventExtensions(e),{metadata:{queued:!0}}))).length&&eV(e,e=>void 0),!a)return s(e,!1,i);if(!r){e.length&&tu(n,...e);return}n.length&&tc(e,...n.splice(0)),e.length&&await s(e,!0,i)};return r>0&&th(()=>l([],{flush:!0}),r),np((e,t,r)=>{if(!e&&(n.length||t||r>1500)){var o=eF(i,([e,t])=>{var[r,n]=t();return n&&(i.delete(e),a.delete(e)),r});(n.length||o.length)&&l(ez(n.splice(0),o),{flush:!0})}}),{post:l,postPatch:(e,t,r)=>l(o(e,t),{flush:!0}),registerEventPatchSource(e,t,r=!1,n){var s=!1,u=()=>{s=!0};return a.set(e,tl(e)),i.set(e,()=>{if(n?.isConnected===!1)u();else{var r=a.get(e),[i,l]=tf(t(r,u),r)??[];if(i&&!z(l,r))return a.set(e,tl(l)),[o(e,i),s]}return[void 0,s]}),r&&l(e),u}}},ar=Symbol(),an=e=>{var t=new IntersectionObserver(e=>eV(e,e=>e.target[ar]?.(e))),r=new Set;th({callback:()=>eV(r,e=>e()),frequency:250,raf:!0});var n=(e,t,r=0)=>e<r?r:e>t?t:e;return(a,i)=>{if(i&&(o=eX(i?.component,e=>e.track?.impressions||(e.track?.secondary??e.inferred)!==Y))&&eY(o)){var o,s,l,u,c=X,f=X,d=0,v=0,p=[tG(),tG()],h=aw(!1),g=tv(!1,nN),y=()=>{var t=a.getBoundingClientRect(),r=window.innerWidth,i=window.innerHeight,y=[n(t.top,i),n(t.right,r),n(t.bottom,i),n(t.left,r)],m=y[2]-y[0],b=y[1]-y[3],w=m/t.height||0,k=b/t.width||0,S=c?[.25,.33]:[.33,.75],I=(m>S[0]*i||w>S[0])&&(b>S[0]*r||k>S[0]);if(f!==I&&g(f=I,!0),c!==(c=f&&g()>=rD.impressionThreshold-250)){if(++d,h(c),!l){var A,E=a.innerText;E?.trim()?.length&&(A={characters:E.match(/\S/gu)?.length,words:E.match(/\b\w+\b/gu)?.length,sentences:E.match(/\w.*?[.!?]+(\s|$)/gu)?.length}).words&&(A.readingTime=6e4*(A.words/238)),tu(e,l=eX(eF(o,e=>(e.track?.impressions||rz(a,"impressions",Y,e=>e.track?.impressions))&&G({type:"impression",pos:rr(a),viewport:rs(),timeOffset:aS(),impressions:d,text:A,...aU(a,Y)})||null)))}l?.length&&(u=eF(l,t=>e.events.registerEventPatchSource(t,()=>({relatedEventId:t.clientId,duration:h(),impressions:d,regions:s&&{top:s[0][0],middle:s[1][0],bottom:s[2][0]},seen:v}))))}var T=t.left<0?-t.left:0,x=t.top<0?-t.top:0,N=t.width*t.height;if(c&&(v=p[0].push(x,x+m)*p[1].push(T,T+b)/N),t.height>1.25*i||s){var O=x/t.height,C=(x+m)/t.height;eV(s??=eF(3,()=>[{seen:!1,duration:0,impressions:0},tv(!1,nN),!1,!1]),(e,t)=>{var r=c&&(0===t?O<=.25:1===t?O<=.75&&C>=.25:C>=.75);e[2]!==r&&e[1](e[2]=r),e[3]!==e[2]&&(e[3]=e[2]&&e[1]()>rD.impressionThreshold-250)&&(e[0].seen=!0,++e[0].impressions),e[3]&&(e[0].duration+=e[1](!0,!0))})}};a[ar]=({isIntersecting:e})=>{e7(r,y,e),e||(eV(u,e=>e()),y())},t.observe(a)}}},aa=()=>{var e=tX?.screen;if(!e)return{};var{width:t,height:r,orientation:n}=e,a=t<r,i=n?.angle??tX.orientation??0;return(-90===i||90===i)&&([t,r]=[r,t]),{deviceType:t<480?"mobile":t<=1024?"tablet":"desktop",screen:{dpr:tX.devicePixelRatio,width:t,height:r,landscape:a}}},ai=e=>tu(e,G({type:"user_agent",hasTouch:navigator.maxTouchPoints>0,userAgent:navigator.userAgent,view:k?.clientId,languages:eF(navigator.languages,(e,t,r=e.split("-"))=>G({id:e,language:r[0],region:r[1],primary:0===t,preference:t+1})),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:new Date().getTimezoneOffset()},...aa()})),ao=(e,t="A"===t9(e)&&t4(e,"href"))=>t&&"#"!=t&&!t.startsWith("javascript:"),as=(e,t=t9(e),r=rz(e,"button"))=>r!==X&&(R(t,"A","BUTTON")||"INPUT"===t&&R(t3(e,"type"),"button","submit")||r===Y),al=(e,t=!1)=>({tagName:e.tagName,text:tT(t4(e,"title")?.trim()||t4(e,"alt")?.trim()||e.innerText?.trim(),100),href:e.href?.toString(),rect:t?ra(e):void 0}),au=(e,t,r=!1)=>{var n;return t1(e??t,e=>"IMG"===t9(e)||e===t?(n={element:al(e,r)},X):Y),n},ac=e=>{if(w)return w;ef(e)&&([t,e]=na(e),e=r6(t)[1](e)),e7(rD,e),nu(ta(rD,"encryptionKey"));var t,r=ta(rD,"key"),n=tX[rD.name]??[];if(!ev(n)){P(`The global variable for the tracker "${rD.name}" is used for something else than an array of queued commands.`);return}var a=[],i=[],o=(e,...t)=>{var r=Y;i=eX(i,n=>W(()=>(n[e]?.(...t,{tracker:w,unsubscribe:()=>r=X}),r),nc(n)))},s=[],l={applyEventExtensions(e){e.clientId??=nq(),e.timestamp??=td(),v=Y;var t=X;return eF(a,([,r])=>{(t||r.decorate?.(e)===X)&&(t=Y)}),t?void 0:e},validateKey:(e,t=!0)=>!r&&!e||e===r||!!t&&P(`'${e}' is not a valid key.`)},u=ae(nt,l),c=at(nt,l),f=null,d=0,v=X,p=X;return Object.defineProperty(tX,rD.name,{value:w=Object.freeze({id:"tracker_"+nq(),events:c,variables:u,push(...e){if(e.length){if(e.length>1&&(!e[0]||ef(e[0]))&&(t=e[0],e=e.slice(1)),ef(e[0])){var t,r=e[0];e=r.match(/^[{[]/)?JSON.parse(r):na(r)}var n=X;if((e=eX(eP(e,e=>ef(e)?na(e):e),e=>{if(!e)return X;if(aR(e))rD.tags=e7({},rD.tags,e.tagAttributes);else if(aD(e))return rD.disabled=e.disable,X;else if(aJ(e))return n=Y,X;else if(aX(e))return e(w),X;return p||aK(e)||aB(e)?Y:(s.push(e),X)})).length||n){var h=e6(e,e=>aB(e)?-100:aK(e)?-50:aH(e)?-10:rA(e)?90:0);if(!(f&&f.splice(v?d+1:f.length,0,...h))){for(d=0,f=h;d<f.length;d++){var g=f[d];g&&(l.validateKey(t??g.key),W(()=>{var e,t=f[d];if(o("command",t),v=X,rA(t))c.post(t);else if(aV(t))u.get(...eh(t.get));else if(aH(t))u.set(...eh(t.set));else if(aK(t))tu(i,t.listener);else if(aB(t))(e=W(()=>t.extension.setup(w),e=>nf(t.extension.id,e)))&&(tu(a,[t.priority??100,e,t.extension]),e6(a,([e])=>e));else if(aX(t))t(w);else{var r=X;for(var[,e]of a)if(r=e.processCommand?.(t)??X)break;r||nf("invalid-command",t,"Loaded extensions:",a.map(e=>e[2].id))}},e=>nf(w,"internal-error",e)))}f=null,n&&c.post([],{flush:n})}}}},__isTracker:Y}),configurable:!1,writable:!1}),nJ(async(e,t,r,a)=>{if("ready"===e){var i=rI((await u.get({scope:"session",key:_,refresh:!0},{scope:"session",key:U,refresh:!0,cache:H}))[0]).value;l.deviceSessionId=i.deviceSessionId,i.hasUserAgent||(ai(w),i.hasUserAgent=!0),p=!0,s.length&&tu(w,s),a(),tu(w,...eF(aF,e=>({extension:e})),...n,{set:{scope:"view",key:"loaded",value:!0}})}},!0),w},af=()=>k?.clientId,ad={scope:"shared",key:"referrer"},av=(e,t)=>{w.variables.set({...ad,value:[af(),e]}),t&&w.variables.get({scope:ad.scope,key:ad.key,result:(r,n,a)=>r?.value?a():n?.value?.[1]===e&&t()})},ap=tv(),ah=tv(),ag=1,ay=()=>ah(),[am,ab]=tI(),aw=e=>{var t=tv(e,ap),r=tv(e,ah),n=tv(e,nN),a=tv(e,()=>ag);return(e,i)=>({totalTime:t(e,i),visibleTime:r(e,i),activeTime:n(e,i),activations:a(e,i)})},ak=aw(),aS=()=>ak(),[aI,aA]=tI(),aE=(e,t)=>(t&&eV(ax,t=>e(t,()=>!1)),aI(e)),aT=new WeakSet,ax=document.getElementsByTagName("iframe"),aN=e=>(null==e||(e===Y||""===e)&&(e="add"),ef(e)&&R(e,"add","remove","update","clear")?{action:e}:eg(e)?e:void 0);function aO(e){if(e){if(null!=e.units&&R(e.action,null,"add","remove")){if(0===e.units)return;e.action=e.units>0?"add":"remove"}return e}}var aC=e=>rR(e,void 0,e=>eF(eh(e5(rO,e)?.tags))),aj=e=>e?.component||e?.content,aM=e=>rR(e,t=>t!==e&&!!aj(e5(rO,t)),e=>(I=e5(rO,e),(I=e5(rO,e))&&eP(ez(I.component,I.content,I),"tags"))),a_=(e,t)=>t?e:{...e,rect:void 0,content:(A=e.content)&&eF(A,e=>({...e,rect:void 0}))},aU=(e,t=X,r)=>{var n,a,i,o=[],s=[],l=0;return t1(e,e=>{var a=e5(rO,e);if(a){if(aj(a)){var i=eX(eh(a.component),e=>0===l||!t&&(1===l&&e.track?.secondary!==Y||e.track?.promote));n=(r??e4(i,e=>e.track?.region))&&ra(e)||void 0;var u=aM(e);a.content&&tc(o,...eF(a.content,e=>({...e,rect:n,...u}))),i?.length&&(tc(s,...eF(i,e=>(l=eZ(l,e.track?.secondary?1:2),a_({...e,content:o,rect:n,...u},!!n)))),o=[])}var c=a.area||rP(e,"area");c&&tc(s,...eF(eh(c)))}}),o.length&&tu(s,a_({id:"",rect:n,content:o})),eV(s,e=>{ef(e)?tu(a??=[],e):(e.area??=tx(a,"/"),tc(i??=[],e))}),i||a?{components:i,area:tx(a,"/")}:void 0},a$=Symbol();M={necessary:1,preferences:2,statistics:4,marketing:8},window.tail.push({consent:{externalSource:{key:"Cookiebot",poll(){var e=tY.cookie.match(/CookieConsent=([^;]*)/)?.[1];if(e){var t=1;return e?.replace(/([a-z]+):(true|false)/g,(e,r,n)=>("true"===n&&(t|=M[r]??0),"")),{level:t>1?1:0,purposes:t}}}}}});var aF=[{id:"context",setup(e){th(()=>eV(ax,e=>tt(aT,e)&&aA(e)),1e3).trigger(),e.variables.get({scope:"view",key:"view",result:(r,n,a)=>(null==k||!r?.value||k?.definition?t=r?.value:(k.definition=r.value,k.metadata?.posted&&e.events.postPatch(k,{definition:t})),a())});var t,r=nH({scope:"tab",key:"viewIndex"})?.value??0,n=nH({scope:"tab",key:"tabIndex"})?.value;null==n&&nX({scope:"tab",key:"tabIndex",value:n=nH({scope:"shared",key:"tabIndex"})?.value??nH({scope:"session",key:_})?.value?.tabs??0},{scope:"shared",key:"tabIndex",value:n+1});var a=null,i=(i=X)=>{if(!rt(""+a,a=location.href)||i){var{source:o,scheme:s,host:l}=t_(location.href+"",!0);k={type:"view",timestamp:td(),clientId:nq(),tab:nF,href:o,path:location.pathname,hash:location.hash||void 0,domain:{scheme:s,host:l},tabNumber:n+1,tabViewNumber:r+1,viewport:rs(),duration:ak(void 0,!0)},0===n&&(k.firstTab=Y),0===n&&0===r&&(k.landingPage=Y),nX({scope:"tab",key:"viewIndex",value:++r});var u=tU(location.href);if(eF(["source","medium","campaign","term","content"],(e,t)=>(k.utm??={})[e]=eh(u[`utm_${e}`])?.[0]),!(k.navigationType=S)&&performance&&eF(performance.getEntriesByType("navigation"),e=>{k.redirects=e.redirectCount,k.navigationType=tK(e.type,/\_/g,"-")}),S=void 0,"navigate"===(k.navigationType??="navigate")){var c=nH(ad)?.value;c&&r7(document.referrer)&&(k.view=c?.[0],k.relatedEventId=c?.[1],e.variables.set({...ad,value:void 0}))}var c=document.referrer||null;c&&!r7(c)&&(k.externalReferrer={href:c,domain:ro(c)}),k.definition=t,t=void 0,e.events.post(k),e.events.registerEventPatchSource(k,()=>({duration:aS()})),ab(k)}};return np(e=>{e?(ah(Y),++ag):ah(X)}),ri(window,"popstate",()=>(S="back-forward",i())),eF(["push","replace"],e=>{var t=history[e+="State"];history[e]=(...e)=>{t.apply(history,e),S="navigate",i()}}),i(),{processCommand:t=>az(t)&&(tu(e,t.username?{type:"login",username:t.username}:{type:"logout"}),Y),decorate(e){!k||rE(e)||rp(e)||(e.view=k.clientId)}}}},{id:"components",setup(e){var t=an(e),r=e=>null==e?void 0:{...e,component:eh(e.component),content:eh(e.content),tags:eh(e.tags)},n=({boundary:e,...n})=>{te(rO,e,e=>r("add"in n?{...e,component:ez(e?.component,n.component),content:ez(e?.content,n.content),area:n?.area??e?.area,tags:ez(e?.tags,n.tags),cart:n.cart??e?.cart,track:n.track??e?.track}:"update"in n?n.update(e):n)),t(e,e5(rO,e))};return{decorate(e){eV(e.components,e=>ta(e,"track"))},processCommand:e=>aW(e)?(n(e),Y):aL(e)?(eF(((e,t)=>{if(!t)return[];var r=[],n=new Set;return document.querySelectorAll(`[${e}]`).forEach(a=>{if(!e5(n,a))for(var i=[];null!=t4(a,e);){tt(n,a);var o=tV(t4(a,e),"|");t4(a,e,null);for(var s=0;s<o.length;s++){var l=o[s];if(""!==l){var u="-"===l?-1:parseInt(ed(l)??"",36);if(u<0){i.length+=u;continue}if(0===s&&(i.length=0),isNaN(u)&&/^["\[{]/.test(l))for(var c="";s<o.length;s++)try{l=JSON.parse(c+=o[s]);break}catch(e){}u>=0&&t[u]&&(l=t[u]),tu(i,l)}}tu(r,...eF(i,e=>({add:Y,...e,boundary:a})));var f=a.nextElementSibling;"WBR"===a.tagName&&a.parentNode?.removeChild(a),a=f}}),r})(e.scan.attribute,e.scan.components),n),Y):X}}},{id:"navigation",setup(e){var t=new WeakMap,r=r=>{ri(r,["click","contextmenu","auxclick"],n=>{var a,i,o,s,l,u=X;if(t1(n.target,e=>{as(e)&&(o??=e),u=u||"NAV"===t9(e);var t=rC(e),r=t?.component;!n.button&&r?.length&&!l&&(eV(e.querySelectorAll("a,button"),t=>as(t)&&((l??=[]).length>3?eN():l.push({...al(t,!0),component:t1(t,(e,t,r,n=rC(e)?.component)=>n&&t(n[0]),t=>t===e)}))),l&&(s??=e)),a??=rz(e,"clicks",Y,e=>e.track?.clicks)??(r&&e4(r,e=>e.track?.clicks!==X)),i??=rz(e,"region",Y,e=>e.track?.region)??(r&&e4(r,e=>e.track?.region))}),s??=o){var c,f=l&&!o&&a,d=aU(s,!1,f),v=aC(s);a??=!u;var p={...(i??=Y)?{pos:rr(o,n),viewport:rs()}:null,...au(n.target,s),...d,timeOffset:aS(),...v};if(!o){f&&te(t,s,r=>{var a=rn(s,n);if(r)tu(r,a);else{var i=G({type:"component_click_intent",...p,clicks:r=[a],clickables:l});e.events.registerEventPatchSource(i,()=>({clicks:e5(t,s)}),!0,s)}return r});return}if(ao(o)){var h=o.hostname!==location.hostname,{host:g,scheme:y,source:m}=t_(o.href,!1);if(o.host===location.host&&o.pathname===location.pathname&&o.search===location.search){if("#"===o.hash)return;o.hash!==location.hash&&0===n.button&&tu(e,G({type:"anchor_navigation",anchor:o.hash,...p}));return}var b=G({clientId:nq(),type:"navigation",href:h?o.href:m,external:h,domain:{host:g,scheme:y},self:Y,anchor:o.hash,...p});if("contextmenu"===n.type){var w=o.href,k=r7(w);if(k){av(b.clientId,()=>tu(e,b));return}var S=(""+Math.random()).replace(".","").substring(1,8);if(!k){if(!rD.captureContextMenu)return;o.href=nr+"="+S+encodeURIComponent(w),ri(window,"storage",(t,r)=>t.key===q&&(t.newValue&&JSON.parse(t.newValue)?.requestId===S&&tu(e,b),r())),ri(r,["keydown","keyup","visibilitychange","pointermove"],(e,t)=>{t(),o.href=w})}return}n.button<=1&&(1===n.button||n.ctrlKey||n.shiftKey||n.altKey||t4(o,"target")!==window.name?(av(b.clientId),b.self=X,tu(e,b)):rt(location.href,o.href)||(b.exit=b.external,av(b.clientId)));return}var I=(t1(n.target,(e,t)=>!!(c??=aN(rC(e)?.cart??rP(e,"cart")))&&!c.item&&(c.item=e2(rC(e)?.content))&&t(c)),aO(c));(I||a)&&tu(e,I?G({type:"cart_updated",...p,...I}):G({type:"component_click",...p}))}})};r(document),aE(e=>e.contentDocument&&r(e.contentDocument))}},{id:"scroll",setup(e){var t={},r=re(Y);am(()=>tm(()=>(t={},r=re(Y)),250)),ri(window,"scroll",()=>{var n=re(),a=t7();if(n.y>=r.y){var i=[];!t.fold&&n.y>=r.y+200&&(t.fold=Y,tu(i,"fold")),!t["page-middle"]&&a.y>=.5&&(t["page-middle"]=Y,tu(i,"page-middle")),!t["page-end"]&&a.y>=.99&&(t["page-end"]=Y,tu(i,"page-end"));var o=eF(i,e=>G({type:"scroll",scrollType:e,offset:a}));o.length&&tu(e,o)}})}},{id:"cart",setup:e=>({processCommand(t){if(aP(t)){var r=t.cart;return"clear"===r?tu(e,{type:"cart_updated",action:"clear"}):(r=aO(r))&&tu(e,{...r,type:"cart_updated"}),Y}return aG(t)?(tu(e,{type:"order",...t.order}),Y):X}})},{id:"forms",setup(e){var t=new Map,r=e=>e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"yes":"no":e.value,n=n=>{var a,i=n.form;if(i){var s=t6(i,rj("ref"))||"track_ref",l=()=>i.isConnected&&ra(i).width,u=e5(t,i,()=>{var t,r=new Map,n={type:"form",name:t6(i,rj("form-name"))||t4(i,"name")||i.id||void 0,activeTime:0,totalTime:0,fields:{}};e.events.post(n),e.events.registerEventPatchSource(n,()=>({...n,timeOffset:aS()}));var s=()=>{o(),t[3]>=2&&(n.completed=3===t[3]||!l()),e.events.postPatch(n,{...a,totalTime:td(Y)-t[4]}),t[3]=1},u=tp();return ri(i,"submit",()=>{a=aU(i),t[3]=3,u(()=>{i.isConnected&&ra(i).width>0?(t[3]=2,u()):s()},750)}),t=[n,r,i,0,td(Y),1]});return e5(u[1],n)||eF(i.querySelectorAll("INPUT,SELECT,TEXTAREA"),(e,t)=>{if(!e.name||"hidden"===e.type){"hidden"===e.type&&(e.name===s||rz(e,"ref"))&&(e.value||(e.value=nR()),u[0].ref=e.value);return}var n=e.name,a=u[0].fields[n]??={id:e.id||n,name:n,label:tK(e.labels?.[0]?.innerText??e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,totalTime:0,type:e.type??"unknown",[a$]:r(e)};u[0].fields[a.name]=a,u[1].set(e,a)}),[n,u]}},a=(e,[t,r]=n(e)??[],a=r?.[1].get(t))=>a&&[r[0],a,t,r],i=null,o=()=>{if(i){var[e,t,n,a]=i,o=-(s-(s=ay())),u=-(l-(l=td(Y))),c=t[a$];(t[a$]=r(n))!==c&&(t.fillOrder??=a[5]++,t.filled&&(t.corrections=(t.corrections??0)+1),t.filled=Y,a[3]=2,eV(e.fields,([e,r])=>r.lastField=e===t.name)),t.activeTime+=o,t.totalTime+=u,e.activeTime+=o,e.totalTime+=u,i=null}},s=0,l=0,u=e=>e&&ri(e,["focusin","focusout","change"],(e,t,r=e.target&&a(e.target))=>r&&(i=r,"focusin"===e.type?(l=td(Y),s=ay()):o()));u(document),aE(e=>e.contentDocument&&u(e.contentDocument),!0)}},{id:"consent",setup(e){var t=async t=>await e.variables.get({scope:"session",key:U,result:t}).value,r=async r=>{if(r){var n=await t();if(!n||ru(n,r=rc(r)))return[!1,n];var a={level:rl.lookup(r.classification),purposes:rf.lookup(r.purposes)};return await e.events.post(G({type:"consent",consent:a}),{async:!1,variables:{get:[{scope:"session",key:U}]}}),[!0,a]}},n={};return{processCommand(e){if(aY(e)){var a=e.consent.get;a&&t(a);var i=rc(e.consent.set);i&&(async()=>i.callback?.(...await r(i)))();var o=e.consent.externalSource;if(o){var s,l=o.key,u=n[l]??=th({frequency:o.pollFrequency??1e3}),c=async()=>{if(tY.hasFocus()){var e=o.poll();if(e){var t=rc({...s,...e});t&&!ru(s,t)&&(await r(t),s=t)}}};u.restart(o.pollFrequency,c).trigger()}return Y}return X}}}}],aq=(...e)=>t=>t===e[0]||e.some(e=>"string"==typeof e&&t?.[e]!==void 0),aP=aq("cart"),az=aq("username"),aR=aq("tagAttributes"),aD=aq("disable"),aW=aq("boundary"),aB=aq("extension"),aJ=aq(Y,"flush"),aV=aq("get"),aK=aq("listener"),aG=aq("order"),aL=aq("scan"),aH=aq("set"),aX=e=>"function"==typeof e,aY=aq("consent");Object.defineProperty(tX,".tail.js.init",{writable:!1,configurable:!1,value(e){e(ac)}})})();
//# sourceMappingURL=tail.js.map
