(()=>{"use strict";var o=".tail.rs",u=void 0,c=Number.MAX_SAFE_INTEGER,f=Symbol.iterator,d=e=>e===u,v=e=>e!==u,p=(e,r)=>e!==u?r(e):u,h=e=>null!=e,m=e=>"number"==typeof e,y=e=>"string"==typeof e,b=Array.isArray,w=(e,r=!1)=>null!=e&&"object"==typeof e&&(r||!e[f]),A=e=>"symbol"==typeof e,E=e=>"function"==typeof e,I=(e,r=!1)=>!(!e?.[f]||"object"!=typeof e&&!r),T=!1,x=(e,r,t)=>(r??t)!==u?(r??=0,t??=c,(n,a)=>r--?u:t--?e?e(n,a):n:t):e,k=(e,r,t,n)=>null==e?[]:e[f]?function*(e,r){if(e){var n,t=0;for(n of e)if(r&&(n=r(n,t++)),n!==u&&(yield n),T){T=!1;break}}}(e,t===u?r:x(r,t,n)):"object"==typeof e?function*(e,r){var n,t=0;for(n in e){var a=[n,e[n]];if((a=r?r(a,t++):a)!==u&&(yield a),T){T=!1;break}}}(e,x(r,t,n)):k(E(e)?function*(e,r,t=Number.MAX_SAFE_INTEGER){for(v(r)&&(yield r);t--&&v(r=e(r));)yield r}(e,t,n):function*(e=0,r=0){for(;e--;)yield r++}(e,t),r),S=(e,r,t,n)=>{if(b(e)){var a=0,i=[];for(m(r)&&([r,t,n]=[u,r,t]),t=t<0?e.length+t:t??0,n=n<0?e.length+n:n??e.length;t<n&&!T;t++){var o=e[t];(o=r&&o!==u?r(o,a++):o)!==u&&i.push(o)}return T=!1,i}return e!==u?(e=>d(e)?u:b(e)?e:I(e)?[...e]:[e])(((e,r,t,n)=>m(r)?k(e,u,r,t):k(e,r,t,n))(e,r,t,n)):u},N=e=>E(e)?N(e()):e?.then?e.then(e=>N(e)):e,C=(e,r="and")=>p(e,e=>{return 0===(e=I(e)?S(e,e=>e+""):[e+""]).length?"":1===e.length?e[0]:e.slice(0,-1).join(", ")+` ${r} `+((e=e)?b(e)?e[e.length-1]:((e,r)=>{if(null!=e){if(b(e))return((e,r,t,n)=>{var a,i=0;for(t=t<0?e.length+t:t??0,n=e.length;t<n;t++)if(e[t]!==u&&(a=r(e[t],i++)??a,T)){T=!1;break}return a})(e,r,void 0);if(void 0===u){if(e[f])return((e,r)=>{var t,a,n=0;for(a of e)if(a!==u&&(t=r(a,n++)??t,T)){T=!1;break}return t})(e,r);if("object"==typeof e)return((e,r)=>{var t,a,n=0;for(a in e)if(t=r([a,e[a]],n++)??t,T){T=!1;break}return t})(e,r)}var a,i;for(i of k(e,r,void 0,void 0))a=i??a;return a}})(e,(e,r)=>e):u)}),O=(e,r,t,n)=>{var a,e=Object.fromEntries(Object.entries(e).filter(([e,r])=>y(e)&&m(r)).map(([e,r])=>[e.toLowerCase(),r])),o=Object.entries(e),s=Object.values(e),l=s.reduce((e,r)=>e|r,0),c=r?{...e,any:l,none:0}:e,f=Object.fromEntries(o.map(([e,r])=>[r,e])),d=(e,t)=>y(e)?c[e]??c[e.toLowerCase()]:m(e)&&(r||!t||v(f[e]))?e:u,[h,g]=r?[(e,r)=>Array.isArray(e)?e.reduce((e,t)=>null==(t=d(t,r))?e:(e??0)|t,u):d(e),(e,r)=>null==(e=h(e,!1))?u:r&&(e&l)===l?"any":(e=o.filter(([,r])=>e&r).map(([e])=>e),r?e.length?1===e.length?e[0]:e:"none":e)]:[d,e=>null!=(e=d(e))?f[e]:u],A=(e,r)=>null==e?u:null==(e=h(a=e,r))?(e=>{throw y(e=N(e))?(e=>new TypeError(e))(e):e})(new TypeError(JSON.stringify(a)+` is not a valid ${t} value.`)):e,T=o.filter(([,e])=>!n||n&e);return((e,r)=>{var t=(r,n)=>{if(r){var a;if(b(r)){if(w(r[0]))return void r.splice(1).forEach(e=>t(e,r[0]));a=r}else a=S(r);a.forEach(([r,t])=>Object.defineProperty(e,r,{configurable:!1,enumerable:!0,writable:!1,...n,...w(t)&&("get"in t||"value"in t)?t:E(t)&&!t.length?{get:t}:{value:t}}))}};return r.forEach(e=>t(e)),e})(e=>A(e),[[{configurable:!1,enumerable:!1},{parse:A,tryParse:h,entries:o,values:s,lookup:g,length:o.length,format:e=>g(e,!0),logFormat:(e,r="or")=>"any"===(e=g(e,!0))?"any "+t:`the ${t} `+C((e=>p(e,e=>I(e)?S(e,e=>"'"+e+"'"):"'"+e+"'"))(e),r)},r&&{pure:T,map:(e,r)=>(e=A(e),T.filter(([,r])=>r&e).map(r??(([,e])=>e)))}]])};(e=>{e[e.Anonymous=0]="Anonymous",e[e.Indirect=1]="Indirect",e[e.Direct=2]="Direct",e[e.Sensitive=3]="Sensitive"})(e={}),O(e,!1,"data classification"),(e=>{e[e.None=0]="None",e[e.Necessary=1]="Necessary",e[e.Functionality=2]="Functionality",e[e.Performance=4]="Performance",e[e.Targeting=8]="Targeting",e[e.Security=16]="Security",e[e.Infrastructure=32]="Infrastructure",e[e.Anonymous=49]="Anonymous",e[e.Any=63]="Any"})(r={}),O(r,!0,"data purpose",63),O(r,!1,"data purpose"),Object.freeze({level:e.Anonymous,purposes:r.Anonymous}),Object.freeze({level:e.Sensitive,purposes:r.Any}),(e=>{e[e.Global=0]="Global",e[e.Session=1]="Session",e[e.Device=2]="Device",e[e.User=3]="User",e[e.Entity=4]="Entity"})(e={}),O(e,!1,"variable scope"),(e=>{e[e.Success=200]="Success",e[e.Created=201]="Created",e[e.Unchanged=304]="Unchanged",e[e.Conflict=409]="Conflict",e[e.Unsupported=501]="Unsupported",e[e.Denied=403]="Denied",e[e.ReadOnly=405]="ReadOnly",e[e.NotFound=404]="NotFound",e[e.Invalid=400]="Invalid",e[e.Error=500]="Error"})(r={}),O(r,!1,"variable set status"),(e=>{e[e.Add=0]="Add",e[e.Min=1]="Min",e[e.Max=2]="Max",e[e.IfMatch=3]="IfMatch",e[e.IfNoneMatch=4]="IfNoneMatch"})(e={}),O(e,!1,"variable patch type");var U,M,r=(...e)=>r=>r?.type&&e.some(e=>e===r?.type),R=e=>e&&"string"==typeof e.type,j=r("VIEW"),D=r("VIEW_ENDED"),F=e=>e?.toLowerCase().replace(/[^a-zA-Z0-9:.-]/g,"_").split(":").filter(e=>e)??[],_=(e,r,t)=>{if(!e)return[];if(Array.isArray(e)&&(e=e.join(",")),/(?<!(?<!\\)\\)%[A-Z0-9]{2}/.test(e))try{e=decodeURIComponent(e.replace(/([^=&]+)(?:\=([^&]+))?(&|$)/g,(e,r,t,n)=>[r,t&&`="${t.replace(/(?<!(?<!\\)\\)("|%22)/g,'\\"')}"`,n&&","].join("")))}catch{}var n,a=[],i=F(r);return e.replace(/\s*(\s*(?=\=)|(?:\\.|[^,=\r\n])+)\s*(?:\=\s*(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)'|((?:\\.|[^,])*)))?\s*(?:[,\s]+|$)/g,(e,r,o,s,l)=>{o=o||s||l,s=F(r);return i.length&&(1===s.length&&(o=o||s.pop()),s=i.concat(s)),s.length&&(a.push(n={ranks:s,value:o||void 0}),t?.add((e=>null==e?e:""+e.ranks.join(":")+(e.value?"="+e.value.replace(/,/g,"\\,"):""))(n))),""}),a},q=void 0,z=null,L=!0,W=!1,B=Object.fromEntries,G=Object.assign,V=setTimeout,H=parseInt,J=Number.MAX_SAFE_INTEGER,K="undefined"==typeof window,X=window,Y=document,Z=navigator,Q=Y.body,ee=location,re=performance,te=(e,r,t)=>console.error(...$e([e??t?.message??t??"error",r,t])),ne=(e,r=0)=>(ve(r)?--r:r)<0?e:(r=Math.pow(10,r),Math.round(e*r)/r),ae=e=>e==z?z:decodeURIComponent(e),ie=e=>e==z?z:encodeURIComponent(e),oe={},se=(e,...r)=>r.some(e==z?e=>e==z:r=>e===r),le=e=>e?.toLowerCase()??e,ue=(e,r,t=z)=>e&&r?e+" "+r:(e||r)??t,ce=["s","b","n","f","o"],fe=(e,r)=>5===e?Array.isArray(r):r!=z&&ce[e]===(typeof r)[0]||6===e&&r.exec,O=(e,r)=>(t,n,...a)=>void 0===n?fe(e,t):fe(e,t)?t:n?r?.(t,n,...a):void 0,ve=O(1,e=>"0"!==e&&"false"!==e&&"no"!==e&&!!e),pe=O(0,e=>e?.toString()),he=O(3,e=>{}),ge=O(4),me=O(5,e=>ye(e)?[...e]:void 0),ye=e=>e&&!pe(e)&&!!e[Symbol.iterator],be=(e,r=e=>e)=>(e?.sort((e,t)=>r(e)-r(t)),e),we=(e,r,t,...n)=>e&&(t!=z?e.splice(r,t,...n):e.splice(r)),Ae=(e,...r)=>(e?.unshift(...r),e),Ee=e=>e?.shift(),Ie=(e,...r)=>(e?.push(...r),e),Te=(...e)=>xe(e=$e(e))<2?Oe(e[0]):[].concat(...Oe(e,Oe)),xe=e=>e==z?0:e.length??e.size??(ge(e)?Se(e).length:0),ke=(e,r)=>e?me(e)?Oe(e,(e,t)=>r?r(t,e):[t,e]):Oe(e.entries?.()??Object.entries(e),r):[],Se=(e,r)=>e?Oe(e.keys?.()??Object.keys(e),r):[],Ne=(e,r)=>e?Oe(e.values?.()??Object.values(e),r):[],Ce=(e,r,t)=>{if(i!=z&&xe(ye(e)?e:e=[e])){var i,n=(...e)=>(a=0,xe(e)?e[0]:t),a=0;for(i of e)if(t=r(i,a++,n,t),!a)break}return t},Oe=(e,r)=>e==z?[]:he(r)?Oe(e,W).map((e,t)=>r(e,t)):me(e)&&!r?e:ye(e)?[...e]:[e],Ue=(e,r=e=>e)=>e==z?[]:$e(Oe(e,W)).flatMap((e,t)=>r(e,t)),Me=(e,r=0)=>e==z?void 0:((e=null==e.length?Oe(e):e).item,e[r<0?e.length+r:r]),$e=(e,r,t=ve(r)||W)=>(e=Oe(e).filter((e,t)=>(he(r,!0)??(e=>e!=z))(e,t)),t&&!xe(e)?z:e),Re=(e,r=e=>e!=z&&e!==W)=>e!=z&&(ye(e)||w(e))&&(r?Ce(e,(e,t,n)=>r(e,t)&&n(L),W):!!xe(e)),je=e=>new Set(e),De=(e,...r)=>(e!=z&&(e.clear?e.clear(...r):me(e)?e.length=0:Se(e,r=>_e(e,r))),e),Fe=(e,r)=>e.get?.(r)??e?.has(r)??e?.[r],_e=(e,r)=>e?me(r)?(Ce(r,r=>e.delete?.(r)??delete e[r]),e):null!=(U=e.has?.(r))?U?(U=e.get?.(r),e.delete(r),U??L):void 0:(U=e[r],delete e[r],U):void 0,Pe=(e,r,t=void 0)=>e.add?(U=e.has(r))===(t??=L)?W:(t?e.add(r):_e(e,r),L):(U=e.get?.(r)??e[r],(t=he(t)?t(U):t)===U?W:(void 0===t?_e(e,r):e.set?.(r,t)??(e[r]=t),L)),qe=(e,r,t)=>e.has?.(r)?e.get?.(r):(U=t(r),e.set?.(r,U)?U:e[r]??=t(r)),ze=(e,r,t)=>t?G(ze(e,r),t):r?B($e(ke(e,r))):e,Le=(...e)=>e.length?new Promise(e[0]):Promise.resolve(),We=Symbol(),Be=Symbol(),Ge=e=>{var r=z,t=z,n=q,a=()=>{n=q;var a=z;t=Le(e=>{r=a=r=>a&&(a=z,e(n=r))}),e&&Or(e).then(()=>a?.(Be))},i=(a(),G((...e)=>xe(e)?(e[0]===We?e[1]===L&&n===q||a():r(e[0]),i):n,{then:(...e)=>t.then(...e)}));return i},Ve=(e,r,t,n)=>e&&r&&(t?(me(n)?Ve(e,r,(...e)=>(M=t(...e))!=z&&Ie(n,M)):e.replace(r,(...e)=>(n=t(...e),"")),n):e.match(r)),He=e=>e.replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),Je=/\z./g,Ke=(e,r)=>(r=er((e=>Oe(je($e(Te(...e)))))([$e(e,xe)]),"|"))?new RegExp(r,"gu"):Je,Xe={},Ye=O(6,(e,r=[","," "])=>Ye(e)?e:me(e)?Ke(Oe(e,e=>Ye(e,!1,r)?.source)):ve(e)?e?/./g:Je:pe(e)?Xe[e]??=Ve(e||"",/^(?:\/(.+?)\/?|(.*))$/gu,(e,t,n)=>t?new RegExp(t,"gu"):Ke(Oe(Ze(n,new RegExp(`?<!(?<!\\)\\)[${er(Oe(r,He))}]/`)),e=>e&&`^${er(Oe(Ze(e,/(?<!(?<!\\)\\)\*/),e=>He(Qe(e,/\\(.)/g,"$1"))),".*")}$`))):q),Ze=(e,r)=>e?.split(r)??e,Qe=(e,r,t)=>e?.replace(r,t)??e,er=(e,r="")=>e?.join(r)??e,rr=[],tr=[],nr=(e,r=0)=>e.charCodeAt(r),ar=([..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"].forEach((e,r)=>rr[tr[r]=e.charCodeAt(0)]=r),{32:[0x811c9dc5n,0x01000193n],64:[0xcbf29ce484222325n,0x100000001b3n],128:[0x6c62272e07bb014262b821756295c58dn,0x1000000000000000000013bn]}),ir=(e=256)=>e*Math.random()|0,e={exports:{}},sr=e;(()=>{function e(e,r){if(r&&r.multiple&&!Array.isArray(e))throw new Error("Invalid argument type: Expected an Array to serialize multiple values.");var t,n,a=4294967296,i=new Uint8Array(128),o=0;if(r&&r.multiple)for(var s=0;s<e.length;s++)l(e[s]);else l(e);return i.subarray(0,o);function l(e,i){switch(typeof e){case"undefined":u();break;case"boolean":(e=>{f(e?195:194)})(e);break;case"number":(e=>{var r;isFinite(e)&&Number.isSafeInteger(e)?!(e<0||127<e)||e<0&&-32<=e?f(e):0<e&&e<=255?d([204,e]):e<-128||127<e?0<e&&e<=65535?d([205,e>>>8,e]):e<-32768||32767<e?0<e&&e<=4294967295?d([206,e>>>24,e>>>16,e>>>8,e]):e<-2147483648||2147483647<e?0<e&&e<=0x10000000000000000?d([211,(r=e/a)>>>24,r>>>16,r>>>8,r,(r=e%a)>>>24,r>>>16,r>>>8,r]):e<-0x8000000000000000||0x8000000000000000<e?d(e<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):(f(211),v(e)):d([210,e>>>24,e>>>16,e>>>8,e]):d([209,e>>>8,e]):d([208,e]):(n||(t=new ArrayBuffer(8),n=new DataView(t)),n.setFloat64(0,e),f(203),d(new Uint8Array(t)))})(e);break;case"string":(e=>{var e=(e=>{for(var r=!0,t=e.length,n=0;n<t;n++)if(127<e.charCodeAt(n)){r=!1;break}for(var a=0,i=new Uint8Array(e.length*(r?1:4)),o=0;o!==t;o++){var s=e.charCodeAt(o);if(s<128)i[a++]=s;else{if(s<2048)i[a++]=s>>6|192;else{if(55295<s&&s<56320){if(++o>=t)throw new Error("UTF-8 encode: incomplete surrogate pair");var l=e.charCodeAt(o);if(l<56320||57343<l)throw new Error("UTF-8 encode: second surrogate character 0x"+l.toString(16)+" at index "+o+" out of range");i[a++]=(s=65536+((1023&s)<<10)+(1023&l))>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}}return r?i:i.subarray(0,a)})(e),t=e.length;31<t?d(255<t?65535<t?[219,t>>>24,t>>>16,t>>>8,t]:[218,t>>>8,t]:[217,t]):f(160+t),d(e)})(e);break;case"object":null===e?u():(e instanceof Date?e=>{var t,r=e.getTime()/1e3;0===e.getMilliseconds()&&0<=r&&r<4294967296?d([214,255,r>>>24,r>>>16,r>>>8,r]):0<=r&&r<17179869184?d([215,255,(t=1e6*e.getMilliseconds())>>>22,t>>>14,t>>>6,t<<2>>>0|r/a,r>>>24,r>>>16,r>>>8,r]):(d([199,12,255,(t=1e6*e.getMilliseconds())>>>24,t>>>16,t>>>8,t]),v(r))}:Array.isArray(e)?c:e instanceof Uint8Array||e instanceof Uint8ClampedArray?e=>{var r=e.length;d(255<r?65535<r?[198,r>>>24,r>>>16,r>>>8,r]:[197,r>>>8,r]:[196,r]),d(e)}:e instanceof Int8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?c:e=>{var t,r=0;for(t in e)void 0!==e[t]&&r++;for(t in 15<r?d(65535<r?[223,r>>>24,r>>>16,r>>>8,r]:[222,r>>>8,r]):f(128+r),e){var n=e[t];void 0!==n&&(l(t),l(n))}})(e);break;default:if(i||!r||!r.invalidTypeReplacement)throw new Error("Invalid argument type: The type '"+typeof e+"' cannot be serialized.");"function"==typeof r.invalidTypeReplacement?l(r.invalidTypeReplacement(e),!0):l(r.invalidTypeReplacement,!0)}}function u(){f(192)}function c(e){var r=e.length;15<r?d(65535<r?[221,r>>>24,r>>>16,r>>>8,r]:[220,r>>>8,r]):f(144+r);for(var t=0;t<r;t++)l(e[t])}function f(e){if(i.length<o+1){for(var r=2*i.length;r<o+1;)r*=2;var t=new Uint8Array(r);t.set(i),i=t}i[o]=e,o++}function d(e){if(i.length<o+e.length){for(var r=2*i.length;r<o+e.length;)r*=2;var t=new Uint8Array(r);t.set(i),i=t}i.set(e,o),o+=e.length}function v(e){var r,e=e<0?(e++,r=~(Math.abs(e)/a),~(Math.abs(e)%a)):(r=e/a,e%a);d([r>>>24,r>>>16,r>>>8,r,e>>>24,e>>>16,e>>>8,e])}}function r(e,r){var t,n=4294967296,a=0;if("object"!=typeof(e=e instanceof ArrayBuffer?new Uint8Array(e):e)||void 0===e.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!e.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");if(e instanceof Uint8Array||(e=new Uint8Array(e)),r&&r.multiple)for(t=[];a<e.length;)t.push(i());else t=i();return t;function i(){var r=e[a++];if(0<=r&&r<=127)return r;if(128<=r&&r<=143)return c(r-128);if(144<=r&&r<=159)return f(r-144);if(160<=r&&r<=191)return d(r-160);if(192===r)return null;if(193===r)throw new Error("Invalid byte code 0xc1 found.");if(194===r)return!1;if(195===r)return!0;if(196===r)return u(-1,1);if(197===r)return u(-1,2);if(198===r)return u(-1,4);if(199===r)return v(-1,1);if(200===r)return v(-1,2);if(201===r)return v(-1,4);if(202===r)return l(4);if(203===r)return l(8);if(204===r)return s(1);if(205===r)return s(2);if(206===r)return s(4);if(207===r)return s(8);if(208===r)return o(1);if(209===r)return o(2);if(210===r)return o(4);if(211===r)return o(8);if(212===r)return v(1);if(213===r)return v(2);if(214===r)return v(4);if(215===r)return v(8);if(216===r)return v(16);if(217===r)return d(-1,1);if(218===r)return d(-1,2);if(219===r)return d(-1,4);if(220===r)return f(-1,2);if(221===r)return f(-1,4);if(222===r)return c(-1,2);if(223===r)return c(-1,4);if(224<=r&&r<=255)return r-256;throw console.debug("msgpack array:",e),new Error("Invalid byte value '"+r+"' at index "+(a-1)+" in the MessagePack binary data (length "+e.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function o(r){for(var i,t=0,n=!0;0<r--;)n?(t+=127&(i=e[a++]),128&i&&(t-=128),n=!1):t=(t*=256)+e[a++];return t}function s(r){for(var t=0;0<r--;)t=256*t+e[a++];return t}function l(r){var t=new DataView(e.buffer,a+e.byteOffset,r);return a+=r,4===r?t.getFloat32(0,!1):8===r?t.getFloat64(0,!1):void 0}function u(r,t){r<0&&(r=s(t));t=e.subarray(a,a+r);return a+=r,t}function c(e,r){e<0&&(e=s(r));for(var t={};0<e--;)t[i()]=i();return t}function f(e,r){e<0&&(e=s(r));for(var t=[];0<e--;)t.push(i());return t}function d(r,t){r<0&&(r=s(t));t=a;return a+=r,((e,r,t)=>{var n=r,a="";for(t+=r;n<t;){var i=e[n++];if(127<i)if(191<i&&i<224){if(t<=n)throw new Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&e[n++]}else if(223<i&&i<240){if(t<=n+1)throw new Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&e[n++])<<6|63&e[n++]}else{if(i<=239||248<=i)throw new Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(n-1));if(t<=n+2)throw new Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(65535<i){if(1114111<i)throw new Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach");i-=65536,a=(a+=String.fromCharCode(i>>10|55296))+String.fromCharCode(1023&i|56320)}else a+=String.fromCharCode(i)}return a})(e,t,r)}function v(e,r){e<0&&(e=s(r));r=s(1),e=u(e);return 255===r?(e=>{var t,r;if(4===e.length)return r=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],new Date(1e3*r);if(8===e.length)return t=(e[0]<<22>>>0)+(e[1]<<14>>>0)+(e[2]<<6>>>0)+(e[3]>>>2),r=(3&e[3])*n+(e[4]<<24>>>0)+(e[5]<<16>>>0)+(e[6]<<8>>>0)+e[7],new Date(1e3*r+t/1e6);if(12===e.length)return t=(e[0]<<24>>>0)+(e[1]<<16>>>0)+(e[2]<<8>>>0)+e[3],a-=8,r=o(8),new Date(1e3*r+t/1e6);throw new Error("Invalid data length for a date value.")})(e):{type:r,data:e}}}var t={serialize:e,deserialize:r,encode:e,decode:r};sr?sr.exports=t:window[window.msgpackJsName||"msgpack"]=t})();var ur,cr,fr,dr,vr,pr,{deserialize:gr,serialize:mr}=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(e.exports),yr="$ref",br=e=>{var r,t,n,a=(e,r,t=e[r],n=o(t))=>(t===n&&!A(r)||(e[r]=n,i(()=>e[r]=t)),t),i=e=>(r??=[]).push(e),o=e=>null==e||E(e)||A(e)?null:w(e,!0)?e.toJSON&&e!==(e=e.toJSON())?o(e):v(n=(t??=new Map).get(e))?(e[yr]||(e[yr]=n,i(()=>delete e[yr])),{[yr]:n}):(w(e)?(t.set(e,t.size+1),Object.keys(e).forEach(r=>(d(a(e,r))||A(r))&&delete e[r])):I(e)&&(!b(e)||Object.keys(e).length<e.length?[...e]:e).forEach((r,t)=>t in e?a(e,t):(e[t]=null,i(()=>delete e[t]))),e):e,e=mr(o(e));return r?.forEach(e=>e()),e},wr=(e,r=!1)=>{var[t,n,a]=(e=>{for(var r,t,n,a,i,s,o=0n,l=0n,u=[],c=0,f=0,d=0,v=0,p=[],d=0;d<e.length;v+=p[d]=e.charCodeAt(d++));var m=e?()=>{u=[...p],f=255&(c=v),d=-1}:()=>{},y=e=>(f=255&(c+=-u[d=(d+1)%u.length]+(u[d]=e)),e);return[e?e=>{for(m(),r=e.length,a=16-(r+4)%16,i=new Uint8Array(4+r+a),n=0;n<3;i[n++]=y(ir()));for(i[n++]=y(f^16*ir(16)+a),t=0;t<r;i[n++]=y(f^e[t++]));for(;a--;)i[n++]=ir();return i}:e=>e,e?e=>{for(m(),t=0;t<3;y(e[t++]));if((r=e.length-4-((f^y(e[t++]))%16||16))<=0)return new Uint8Array(0);for(i=new Uint8Array(r),n=0;n<r;i[n++]=f^y(e[t++]));return i}:e=>e,(e,r=64)=>{if(!h(e))return null;for(s="boolean"==typeof r?64:r,m(),[o,l]=ar[s],t=0;t<e.length;o=BigInt.asUintN(s,(o^BigInt(f^y(e[t++])))*l));return!0===r?Number(BigInt(Number.MIN_SAFE_INTEGER)+o%BigInt(Number.MAX_SAFE_INTEGER-Number.MIN_SAFE_INTEGER)):o.toString(36)}]})(e??""),i=(e,t)=>m(e)&&!0===t?e:(e=y(e)?new Uint8Array(S(e.length,r=>255&e.charCodeAt(r))):r?JSON.stringify(e):br(e),a(e,t));return r?[e=>JSON.stringify(e),e=>null==e?u:(e=>{try{return e()}catch(e){throw e}})(()=>JSON.parse(e,u)),(e,r)=>i(e,r)]:[e=>(e=>{for(var r,t=0,n=e.length,a=[];t<n;)r=e[t++]<<16|e[t++]<<8|e[t++],a.push(tr[(16515072&r)>>18],tr[(258048&r)>>12],tr[(4032&r)>>6],tr[63&r]);return a.length+=n-t,String.fromCharCode(...a)})(t(br(e))),e=>{return h(e)?(e=n((e=>{for(var r,t=0,n=0,a=e.length,i=new Uint8Array(3*(a/4|0)+(a+3&3)%3);t<a;)i[n++]=rr[nr(e,t++)]<<2|(r=rr[nr(e,t++)])>>4,t<a&&(i[n++]=(15&r)<<4|(r=rr[nr(e,t++)])>>2,t<a)&&(i[n++]=(3&r)<<6|rr[nr(e,t++)]);return i})(e)),i=e=>w(e,!0)?e[yr]&&(a=(t??=[])[e[yr]])?a:(e[yr]&&delete(t[e[yr]]=e)[yr],Object.entries(e).forEach(([r,t])=>t!==(t=i(t))&&(e[r]=t)),e):e,h(e)?i(gr(e)):u):null;var t,a,i},(e,r)=>i(e,r)]},[Er,,,]=wr(),[xr,kr]=wr(),[Sr,Nr]=[null,null],Cr=(e=L,r)=>(r=K?Date.now():re.timeOrigin+re.now(),e?Math.trunc(r):r),Or=e=>Le(r=>V(r,e)),Ur=(e,r)=>{var t=0,n=e,a=null,i=()=>(n=q,t<0?clearInterval(-t):clearTimeout(t),t=0),o=(e,r)=>{i(),e&&(n=e,t=r<0?-setInterval(e,-r):V(()=>(n=q,e()),r))};return o.clear=(e,r,n=t)=>t&&(e?V(()=>t===n&&(i(),r?.()),e):(i(),r?.())),o.wait=e=>Le(r=>o(r,e)),o.pulse=()=>(n?.(),o),o.isActive=()=>n!=z,o.finish=()=>(a=n)&&(i(),a()),e&&o(e,r),o},Mr=(e=()=>Cr(),r=L)=>{var t=0,n=r?e():0,r=r=>(n?t+=-n+(n=e()):r===L&&(n=e()),r===W&&(n=0),t);return r.reset=()=>(n=n&&e(),t=0),r},$r=(e,r=0)=>r?V(e,r):window.queueMicrotask(e),jr=e=>crypto.getRandomValues(e),Dr=e=>(jr(e=new Uint32Array(2)),1048576*e[0]+(e[1]>>>12)),Fr=new Uint32Array(2),_r=()=>Dr(Fr).toString(36),Pr=(e,r)=>e.localeCompare(r,"en")<0?e:r,qr=Cr().toString(36)+"-"+Dr().toString(36),Lr={name:"tail",src:"/_t.js",disabled:!1,postEvents:!0,postFrequency:2e3,requestTimeout:5e3,heartbeatFrequency:0,clientKey:null,apiKey:null,debug:!1,impressionThreshold:1e3,captureContextMenu:!0,defaultActivationTracking:"auto",tags:{default:["data-id","data-name"]}},Wr=J,Br=(e,r,t=(e,r)=>Wr<=r)=>{for(var n,a=0,i=W;1===e?.nodeType&&!t(e,a++)&&r(e,(e,r)=>(e!=z&&(n=e,i=r!==L&&n!=z),L),a-1)!==W&&!i;){var o=e;(e=e.parentElement)===z&&o?.ownerDocument!==Y&&(e=o?.ownerDocument.defaultView?.frameElement)}return n},Gr=(e,r)=>Br(e,(e,t)=>t(Hr(e,r))),Hr=(e,r,t)=>e?.getAttribute?t===q?e.getAttribute(r):(t===z?e.removeAttribute(r):e.setAttribute(r,t),t):z,Jr=(e,r)=>getComputedStyle(e).getPropertyValue(r)||z,Kr=(e,r)=>(ur={},Oe($e(ke(r),([,r])=>r!=z),([e,[r,t=W]=[]])=>ur[e]={writable:t,configurable:t,value:r}),Object.defineProperties(e,ur)),Xr=e=>e!=z?e.tagName:z,Yr=e=>({x:ne(scrollX,e),y:ne(scrollY,e)}),Zr=(e,r)=>Qe(e,/#.*$/,"")===Qe(r,/#.*$/,""),Qr=(e,r,t=L)=>(fr=et(e,r))&&{xpx:fr.x,ypx:fr.y,x:ne(fr.x/Q.offsetWidth,4),y:ne(fr.y/Q.offsetHeight,4),pageFolds:t?fr.y/X.innerHeight:q},et=(e,r)=>r?.pointerType&&r?.pageY!=z?{x:r.pageX,y:r.pageY}:e?({x:dr,y:vr}=rt(e),{x:dr,y:vr}):q,rt=e=>e?(pr=e.getBoundingClientRect(),cr=Yr(W),{x:ne(pr.left+cr.x),y:ne(pr.top+cr.y),width:ne(pr.width),height:ne(pr.height)}):q,tt=(e,r,t,n=L,a=L)=>{var i=[];return Oe(r,(r,o)=>{var s=e=>{t(e,i[o])};return Ie(i,()=>e.removeEventListener(r,s,n)),e.addEventListener(r,s,{capture:n,passive:a})}),()=>0<i.length&&Oe(i,e=>e())?(i=[],L):W},nt=e=>e==z?q:Ve(e,/^(?:([a-zA-Z0-9]+):)?(?:\/\/)?([^\s\/]*)/,(r,t,n)=>n?{href:e.substring(r.length),domain:{protocol:t,domainName:n}}:{href:e}),at=()=>({...cr=Yr(L),width:X.innerWidth,height:X.innerHeight,totalWidth:Q.offsetWidth,totalHeight:Q.offsetHeight}),it=(e,r=e=>te(z,z,e),t)=>{var n=tt(X,"error",e=>e.stopImmediatePropagation());try{return e()}catch(e){return r===W?q:he(r)?r(e):(Ie(r,e)??te(z,z,e),q)}finally{n(),t?.()}},r=Ze(""+Y.currentScript.src,"#"),O=Ze(""+(r[1]||""),";"),lt=r[0],ut=O[1]||nt(lt)?.domain?.domainName,ct=e=>!(!ut||nt(e)?.domain?.domainName.endsWith(ut)!==L),ft=(...e)=>Qe(er(e),/(^(?=\?))|(^\.(?=\/))/,lt.split("?")[0]),dt=ft("?","var"),vt=ft("?","mnt"),e=(ft("?","usr"),(e=!1)=>{var r=je(),t=e=>()=>_e(r,e),n=null;return[a=>(e&&n?a(...n,()=>{}):Pe(r,a),t(a)),(...e)=>Ce(r,r=>{r(...n=e,t(r))})]}),ht=Ge(),[r,mt]=e(!0);r(()=>ht(!0));var yt,bt,wt,At,Et,It,Tt,xt=new WeakMap(void 0),kt=e=>Fe(xt,e),St=(e,r=W)=>(r?"--track-":"track-")+e,Nt=(e,r,t,n,a,i)=>r?.[1]&&Ce(e?.getAttributeNames(),o=>r[0][o]??=(i=W,!pe(n=Ce(r[1],([r,t,n],a,s)=>(r=>!(!o||!r)&&r.test(o))(r)&&(i=void 0,!t||(e=>!!e?.matches(t))(e))&&s(n??o)))||(a=e.getAttribute(o))&&!ve(a,!1)||_(a,Qe(n,/\-/g,":"),t),i)),Ct=()=>{},Ot=(e,r)=>ue(Jr(e,St(r,L)),Jr(e,St("base-"+r,L)),""),Ut={},Mt=(e,r,t=W,n)=>(t?Br(e,(e,t)=>t(Mt(e,r,W)),he(t,W)):ue(Hr(e,St(r)),Jr(e,St(r,L))))??(n&&(bt=kt(e))&&n(bt))??z,$t=(e,r,t=W,n)=>""===(wt=Mt(e,r,t,n))||(wt==z?wt:ve(wt,L)),Rt=(e,r,t,n)=>e&&(((e,r,t=Ot(e,"attributes"))=>{Nt(e,Ut[t]??=[{},$e(Ve(t,/(?:(\S+)\:\s*)?(?:\((\S+)\)|([^\s,:]+))\s*(?!\S*\:)/g,(e,r,t,n)=>[Ye(t||n,!1),,r],[]),L)],r),_(Ot(e,"tags"),void 0,r)})(e,n??=je()),Br(e,e=>{((e,r)=>{var t,n;(yt===(yt=Lr.tags)?Ct:(n=[{},[[/^(?:track\-)?tags?(?:$|\-)(.*)/],...(t=e=>e?Ye(e)?[[e]]:ye(e)?Ue(e,t):[ge(e)?[Ye(e.match,!1),e.selector,e.prefix]:[Ye(e,!1)]]:[])(Ne(yt))]],Ct=(e,r)=>Nt(e,n,r)))(e,r)})(e,n),_(Oe(t?.(e)),void 0,n)},r),xe(n))?{tags:[...n]}:{},jt=(e,r,t=!1)=>e?(At=(t?Nr:kr)(e)).$?0<(Et=+((At=At.$)[1]??0))&&Et<Cr(W)?(r?.(),z):[At[0],Et,At[2]]:[At]:z,O=(e,r,t)=>{var n=r?qr:q,a=r=>()=>r&&e.removeItem(r),i=new Set,o=Object.assign((s,l,u)=>{var c,d,v,p,h,f;return he(s)?r?([c,f=W]=[s,l],d=(...e)=>c(...e)===W&&p?.(),p=()=>(p=z,r(v,L),i.delete(d)),r(v=({key:e,newValue:r,oldValue:n})=>(It=jt(r,a(e),t),Tt=jt(n,q,t),e&&d(e,It?.[0]??z,Tt?.[0]??z,It?.[2]??z))),f&&i.add(d),p):void 0:([h,f,s=0]=[s,l,u],f===q?jt(e.getItem(h),a(h),t)?.[0]??z:he(f)?o(h,f(o(h)),s):((l=f==z||s<0?z:((e,r,t,n=!1)=>e==z?z:(n?Sr:xr)(t||r?{$:[e,r,t]}:e))(f,s&&!e.supportsExpiry?Cr(L)+s:q,n,t))==z?e?.removeItem(h):e?.setItem(h,l,0<s?s:q),i.size&&(It=jt(l,q,t),Tt=jt(e.getItem(h),q,t),i.forEach(e=>e(h,It?.[0]??z,Tt?.[0]??z,It?.[2]??z))),f))});return o},Ft={getItem:e=>(e=ie(e),ae(document.cookie.split(";").map(e=>e.split("=")).find(r=>r[0].trim()===e)?.[1]||z)),setItem:(e,r,t)=>document.cookie=`${ie(e)}=${ie(r??"")}; Path=/; SameSite=Lax`+(r&&t==z?"":"; Max-Age="+Math.round((t??0)/1e3)),removeItem:e=>Ft.setItem(e,"",0),supportsExpiry:!0};O((()=>{var e={};return{getItem:r=>e[r],setItem:(r,t)=>e[r]=t,removeItem:r=>delete e[r]}})());var _t,Pt=O(Ft),qt=O(Ft,q,!0),zt=O(sessionStorage),Lt=O(localStorage,(e,r)=>r?window.removeEventListener("storage",e):window.addEventListener("storage",e),!0),O=(e,r,t)=>{var n=e="(t~c_"+e,a=r=>e+"!"+r,i=a(qr),o=(r,...o)=>{var s=L;if(he(r))return Lt((e,t,a,o)=>{if(t!=z&&o&&(e===n||e===i))return r(t,o,e===i)!==W},(o[0]??t)===L);o=$e(o),Oe(xe(o)?Oe(o,a):[e],e=>{s=W,Lt(e,r),$r(()=>s!==(s=L)&&Lt(e,z))})};return r&&o((e,t,n)=>r[Ee(e)]?.([t,n,t===qr],...e)),o},Bt=Symbol(),Gt=je(),Vt=new Map(void 0),Ht=e=>!Re(e[Bt],e=>!Fe(Gt,e)),Xt=O("ss"),Yt={},[Zt,Qt]=e(!0),en=W,rn=Ur(),tn=(e,r,t)=>(Yt[e]?te("key",e):Yt[e]=[r,t],r=>Xt({[e]:r})),nn=(r(()=>{rn(()=>(en=L,Qt()),75);var e=W;Xt((r,t)=>1===r?Xt(2,t):2===r?(e!==(e=L)&&Xt(3,t),L):3===r?Xt(B(ke(Yt,([e,[r]])=>[e,r()])),t):(ke(Yt,([e,[,t]])=>t(r[e])),rn.finish())),Xt(1),tt(window,"pageshow",()=>!e&&Xt(1)),tt(window,"pagehide",()=>e=W)}),{}),an={},on={},sn=()=>{var e=on;return on={},e},ln={},un=e=>ln[e]??=[[],Ge(2*Lr.requestTimeout)([L,0])],cn=e=>ke(nn,([r,t])=>t&&Date.now()-t>e&&_e(nn,r)),fn=()=>{return[e,...r]=[qr,...Se(nn)],0===r.length?e:1===r.length?Pr(e,r[0]):(t=(e,r)=>Pr(r,e),e=e,Oe(r).reduce((e,r)=>t(e,r),e));var r,t,e},dn=O("cs",{1([e,r]){nn[e]??=z,r||e===qr||pn||dn([1],e)},2([e],r,t){nn[e]=Date.now(),ke(t,([e,r])=>vn(e,r)),r||Se(an,e=>!Re(Ne(nn),e=>!e)&&fn()===qr&&dn([5,e,qr,L]))},3(e,r){ke(r,([e,r])=>vn(e,r))},4(e,r){yn(r)},5(e,r,t,n){var[a,i]=un(r),o=we(a,0);qr===t&&(async()=>{var e=xe(o),t=!e||(await(async e=>{try{return await(he(e)?e():e)}catch(e){return console.error(e),await(he(void 0)?(void 0)(e):e)}finally{await 0}})(an[r]?.[0](o,n))??L);t||dn([3,{[r]:o}]),i([t,e])})()},6:([e])=>(cn(0),An(e)),7:()=>An(z)},L),vn=(e,r)=>Ie(un(e)[0],...r),pn=L,hn=z,gn=async()=>{if(await hn,pn!==(pn=W)){hn=Ge();try{De(nn),dn([1]),await Or(50)}finally{hn(L)}}},mn=async e=>{pn!==(pn=L)&&(Ne(an,e=>e[1]?.(L)),dn([2,e,sn()]),Tn(W))},yn=async e=>{var r;return await hn,pn?0:(r=fn())!==qr?(dn([4,e],r),0):(r=un(e)[1],Cr(W),await r,r(We),dn([5,e,qr,W]),(await r)[1])},bn=J,wn=z,An=e=>bn=(wn=e??=fn())===qr?Math.min(bn,Cr()+25):J,En=()=>hn?.()===L&&(cn(500),Cr()>bn),In=W,Tn=e=>In!==(In=e)&&e?dn([6]):!e&&qr===wn&&dn([7]),xn=(r(()=>{tt(X,"pageshow",()=>gn()),tt(document,"resume",()=>gn()),gn(),tt(X,["beforeunload","pagehide"],()=>mn(W)),tt(document,"freeze",()=>mn(L)),Ur(()=>En()&&Se(an,e=>yn(e)),-Lr.postFrequency),tt(document,"visibilitychange",()=>Tn("visible"===document.visibilityState)),tt(X,"focus",()=>Tn(L)),tt(X,"blur",()=>Tn(W)),Tn("visible"===document.visibilityState)}),qt),[kn,Sn]=e(),Nn=O("req"),Cn=()=>it(()=>{return r=(e,r,t,n)=>(xn(o,z),Sn(e,n),Nn(t?{error:t}:L),L),(e=xn(o))&&r(...e);var e,r})||W,On=Ur(),Un=()=>(En()&&Cn(),On(Un,xn(".tail.rq")?25:500));r(()=>Un());var Mn,[$n,Rn]=e(),[jn,Dn]=e(),[_n,Pn]=(r=>(an.events=r,[(...r)=>xe(r)&&(Ie(on.events??=[],...r),!pn)&&$r(()=>xe(on)&&dn([3,sn()])),()=>yn("events")]))([async(e,r)=>xe(e)?(await ht,r&&!Mn&&(r=W),Rn(e),await(async r=>{var a=`(${qr??"(unknown)"})`,s=(Cn(),!!xn(".tail.rq"));return!r&&s?W:(r=Cr(),xn(".tail.rq",[a,r],Lr.requestTimeout),xn(o,z),(r=>{var t=Cr(),r=Er([Oe(e,(e,r,n={...e,timestamp:Math.min(0,(e.timestamp??=t)-t)})=>{return(a=e=>Ce(ke(e),([r,t],n)=>t==z||ge(t)&&!a(t)?(_e(e,r),n):L))(n),n;var a}),[Mn,r]]);Z.sendBeacon(dt,new Blob([r],{type:"text/plain"}))||te("post-failed",e)})(s)===W?(xn(".tail.rq",z),L):await Le(e=>Nn(r=>(e(r===L),W),L)))})(r)):W,e=>{e&&Dn()}]),qn=tn("affinity",()=>Mn,e=>Mn=e),zn=(kn(e=>qn(Mn=e)),je()),Ln=W,Wn=()=>{},Bn=e=>{var r=(t=L)=>_e(zn,r)&&t&&e(Ln);return zn.add(r),r};jn(()=>{Ln=L,Oe(zn,e=>e(L))});var Gn,Vn,qt={id:"navigation",setup(e){var r=Ur(),t=Wn,n=n=>{tt(n,["click","contextmenu","auxclick"],a=>{t?.(W);var i,o,l=z,u=W;if(Br(a.target,e=>{var r;l??=((e,r=Xr(e),t=$t(e,"button"))=>t!==W&&(se(r,"A","BUTTON")||"INPUT"===r&&se((e=>le(Hr(e,"type")))(e),"button","submit")||t===L))(e)?e:z,u=u||"NAV"===Xr(e),i??=$t(e,"clicks",L,e=>e.track?.clicks)??((r=kt(e)?.component)&&Re(r,e=>e.track?.clicks!==W)),o??=$t(e,"region",L,e=>e.track?.region)??((r=kt(e)?.component)&&Re(r,e=>e.track?.region))}),l){var c=ba(l),f=pa(l);i??=!u;var v,p,d={...(o??=L)?{pos:Qr(l,a),viewport:at()}:z,...(d=a.target,v=l,Br(d??v,e=>se(Xr(e),"IMG")||e===v?(p={element:{tagName:e.tagName,text:Hr(e,"title")||Hr(e,"alt")||e.innerText?.trim().substring(0,100)||void 0}},W):L),p),...c,...f,timing:{}};if(((e,r="A"===Xr(e)&&Hr(e,"href"))=>r&&"#"!=r&&!r.startsWith("javascript:"))(l)){var c=l.hostname!==ee.hostname,{domain:f,href:y}=nt(l.href);if(l.host===ee.host&&l.pathname===ee.pathname&&l.search===ee.search)return"#"===l.hash?void 0:void(l.hash!==ee.hash&&Ie(e,{type:"ANCHOR_NAVIGATION",anchor:l.hash,...d}));var b={clientId:_r(),type:"NAVIGATION",href:c?l.href:y,external:c,domain:f,self:L,anchor:l.hash,...d};if("contextmenu"===a.type){var w=Zn(b.clientId),A=l.href;if(!ct(A)){if(!Lr.captureContextMenu)return;l.href=ft(vt,"=",ie(A)),it(()=>Z.userActivation?.isActive&&Z.clipboard.writeText(A))}var E=Date.now(),I=(Pt(".tail.cm",E,11e3),r(()=>{l.href=A,w()&&+Pt(".tail.cm")!==E+1||(Pt(".tail.cm",z),b.self=W,Ie(e,b),De(r))},-100),tt(n,["keydown","keyup","visibilitychange","pointermove"],()=>I()&&De(r,1e4,()=>Pt(".tail.cm",""))))}else a.button<=1&&(1===a.button||a.ctrlKey||a.shiftKey||a.altKey||Hr(l,"target")!==X.name?(Zn(b.clientId),b.self=W,Ie(e,b)):(Zr(ee.href,l.href)||(b.exit=b.external,Zn(b.clientId)),t=Bn(()=>Ie(e,b))))}else{y=a.target,Br(y,(e,r)=>!!(x??=la(kt(e)?.cart??Mt(e,"cart")))&&!x.item&&(x.item=Me(kt(e)?.content,-1))&&r(x));var x,c=ua(x);(c||i)&&Ie(e,c?{type:"CART_UPDATED",...d,...c}:{type:"COMPONENT_CLICK",...d})}}})};return n(Y),na(e=>e.contentDocument&&n(e.contentDocument)),{decorate(e){D(e)&&t(L)}}}},[Kn,Xn]=e(),Yn=(()=>{[e,r,t=L]=[Lt,"ref",L],t&&(r="(t~"+r);var e,r,t,n=(...t)=>e(r,...t);return(e,t=W)=>{var a,i,o,s;return e===q?(a=z,n(e=>(e=$e(e,e=>e[1]>Cr()),a=Ee(e)?.[0]??z,e)),a):(i=L,(o=t=>n(n=>t?Oe(n,t=>t[0]===e?(i=L,[e,Cr()+1e4]):t):Ie(n??[],[e,Cr()+1e4])))(t),(s=Ur())(()=>(o(L),i||s(),i),-5e3),()=>i)}})(),Zn=e=>Yn([Gn.clientId,e]),Qn=Mr(),ea=Mr(),ra=Mr(),[na,aa]=e(),ia=new WeakSet,oa=Y.getElementsByTagName("iframe"),O={id:"context",setup(e){Ur(()=>Ce(oa,e=>((e,r)=>e.has(r)?W:(e.add(r),L))(ia,e)&&aa(e)),-1e3).pulse();var r=L,t=1,n=W,a=zt("t",e=>(r=!e)?[_r(),Cr(),Cr(),0]:(e[2]=Cr(),e)),i=L,o=(tn("first",()=>W,e=>{e||(i=W,Gn&&_e(Gn,["firstTab","landingPage"]))}),Wn),s=Wn,u=z,c=(t=W)=>{var v,f,h,g;Zr(""+u,u=ee.href)&&!t||(o(),s(),Qn.reset(),ea.reset(),ra.reset(),zt("t",()=>(a[2]=Cr(),++a[3],a)),{href:t,domain:f}=nt(ee.href)??{},Gn={type:"VIEW",timestamp:Cr(),clientId:_r(),tab:a[0],href:t,path:ee.pathname,hash:ee.hash||q,domain:f,tabIndex:a[3],viewport:{width:X.innerWidth,height:X.innerHeight}},Xn(Gn.clientId),(Gn.firstTab=i)&&1===a[3]&&(Gn.landingPage=L),v=(e,r,t=Ze(e,r))=>1<t.length?t:z,(f=(t=Qe(ee.href,/^[^?]*\??/,""))==z?t:(oe={},Ve(t,/([^&=]+)(?:=([^&]+))?/g,(e,r,t)=>Ie(oe[le(ae(r))]??=[],ae(pe(t,W)))),oe))&&(h=Gn.queryString=ze(f,([e,r])=>[e.toLowerCase(),!(1<r.length)&&(v(r[0],"|")||v(r[0],";")||v(r[0],","))||r]),Oe(["source","medium","campaign","term","content"],(e,r)=>(Gn.utm??={})[e]=h["utm_"+e]?.[0])),!(Gn.navigationType=Vn)&&performance&&Oe(performance.getEntriesByType("navigation"),e=>{Gn.redirects=e.redirectCount,Gn.navigationType=Qe(e.type,/\_/g,"-")}),Vn=q,"navigate"===(Gn.navigationType??="navigate")&&r&&ct(Y.referrer)&&(g=Yn(),Gn.view=g?.[0],Gn.relatedEventId=g?.[1]),(g=Y.referrer||z)&&!ct(g)&&(Gn.externalReferrer={href:g,domain:nt(g)?.domain}),n=W,o=Bn(()=>(n=L,Ie(e,Gn),Gn?.firstTab&&Ie(e,{flush:L}))),s=Bn(()=>{Ie(e,{type:"VIEW_ENDED",timing:{}},{set:{view:q}}),r=W}),Ie(e,{get:{view:e=>Gn.definition=e,rendered(){Ur(o,100)}}}),e.push({get:{qd(r){r&&En()&&Ie(e,{type:"USER_AGENT",hasTouch:0<Z.maxTouchPoints,userAgent:Z.userAgent,view:Gn?.clientId,languages:Oe(Z.languages,(e,r,t=Ze(e,"-"))=>({id:e,language:t[0],region:t[1],primary:0===r,preference:r+1})),timezone:{iana:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:(new Date).getTimezoneOffset()},...(()=>{var t,a,n,e=X?.screen;return e?({width:e,height:t,orientation:n}=e,a=e<t,-90!==(n=n?.angle??X.orientation??0)&&90!==n||([e,t]=[t,e]),{deviceType:e<480?"mobile":1024<e?"desktop":"tablet",screen:{dpr:X.devicePixelRatio,width:e,height:t,landscape:a}}):{}})()})}}}))},f=Ur(),d=(tt(Y,["pointermove","scroll","pointerdown","keydown"],()=>{ra(L),f(()=>ra(W),1e4)}),tt(Y,"visibilitychange",()=>{"hidden"===Y.visibilityState?(ea(W),ra(W)):(ea(L),++t)}),tt(X,"popstate",()=>(Vn="back-forward",c())),Oe(["push","replace"],e=>{var r=history[e+="State"];history[e]=(...e)=>{r.apply(history,e),Vn="navigate",c()}}),c(),Ur()),v=()=>n&&0<Lr.heartbeatFrequency&&d(()=>En()&&e.push({type:"HEARTBEAT",timing:{}}),-Lr.heartbeatFrequency);return v(),{processCommand(r){return Na(r)?(e.push(r.username?{type:"LOGIN",username:r.username}:{type:"LOGOUT"}),L):W},decorate(e){var n;v(),Gn&&!j(e)&&(n={view:Gn?.clientId,timing:e?.timing&&{activations:t,totalTime:Qn(),visibleTime:ea(),interactiveTime:ra()}},G(e,n),((e,r)=>{e!==r&&(e[Bt]??=[]).push(r)})(e,Gn))}}}},la=e=>pe(e=e==z||e!==L&&""!==e?e:"add")&&se(e,"add","remove","update","clear")?{action:e}:ge(e)?e:q;function ua(e){if(!e)return q;if(e.units!=z&&se(e.action,z,"add","remove")){if(0===e.units)return q;e.action=0<e.units?"add":"remove"}return e}var ca,fa,da,r={id:"cart",setup(e){return{processCommand(r){var t;return Sa(r)?("clear"===(t=r.cart)?Ie(e,{type:"CART_UPDATED",action:"clear"}):(t=ua(t))&&Ie(e,{...t,type:"CART_UPDATED"}),L):Da(r)?(Ie(e,{type:"ORDER",...r.order}),L):W}}}},pa=e=>Rt(e,q,e=>Oe(Fe(xt,e)?.tags)),ha=e=>e?.component||e?.content,ma=(e,r)=>r?e:{...e,rect:q,content:(fa=e.content)&&Oe(fa,e=>({...e,rect:q}))},ya=Ur(),ba=(e,r=W)=>{De(ya);var t,n,a,i=[],o=[],s=0;return Br(e,e=>{var l,a,n=Fe(xt,e);n&&(ha(n)&&(a=$e(n.component,e=>0===s||!r&&(1===s&&e.track?.secondary!==L||e.track?.promote)),t=Re(a,e=>e.track?.region)&&rt(e)||q,l=(e=>Rt(e,r=>r!==e&&!!ha(Fe(xt,r)),e=>(ca=Fe(xt,e))&&Te(Ue([ca.component,ca.content],e=>Ue(e,e=>Oe(e.tags,W))),ca.tags)))(e),n.content&&Ae(i,...Oe(n.content,e=>({...e,rect:t,...l}))),a.length)&&(Ae(o,...Oe(a,e=>(s=(e=>Math.max(...e))([s,e.track?.secondary?1:2]),ma({...e,content:i,rect:t,...l},!!t)))),i=[]),a=n.area||Mt(e,"area"))&&Ae(o,...Oe(a))}),i.length&&Ie(o,ma({id:"",rect:t,content:i})),Ce(o,e=>{pe(e)?Ie(n??=[],e):(e.area??=er(n,"/"),Ae(a??=[],e))}),a||n?{components:a,area:er(n,"/")}:q},wa=Symbol(),e={id:"components",setup(e){var r=new IntersectionObserver(e=>Ce(e,({target:e,isIntersecting:r,boundingClientRect:t,intersectionRatio:n})=>e[wa]?.(r,t,n)),{threshold:[.05,.1,.15,.2,.3,.4,.5,.6,.75]});function t({boundary:t,...n}){var a,o,s,l,u,c,f,i="add"in n?e=>({...e,component:Te(e?.component,n.component),content:Te(e?.content,n.content),area:n?.area??e?.area,tags:Te(e?.tags,n.tags),cart:n.cart??e?.cart,track:n.track??e?.track}):n.update;Pe(xt,t,i??n),(a=$e(Fe(xt,t)?.component,e=>e.track?.impressions||(e.track?.secondary??e.inferred)!==L))&&xe(a)&&(s=W,l=0,u=z,c=Ur(),f=Mr(()=>ea(),W),t[wa]=(r,n,i)=>{r=.75<=i||n.top<(o=window.innerHeight/2)&&n.bottom>o,f(r),s!==(s=r)&&(s?c(()=>{var r;++l,u||(r=$e(Oe(a,e=>e.track?.impressions||$t(t,"impressions",L,e=>e.track?.impressions)?{type:"IMPRESSION",pos:Qr(t),viewport:at(),...ba(t,L)}:z)),Ie(e,...r),u=Bn(()=>Ie(e,...Oe(r,e=>({type:"IMPRESSION_SUMMARY",relatedEventId:e.clientId,duration:f(),impressions:l-1})))))},Lr.impressionThreshold):De(c)),t.isConnected||(u?.(),u=z)},r.observe(t))}return{decorate(e){Ce(e.components,e=>_e(e,"track"))},processCommand(e){return Ua(e)?(t(e),L):Fa(e)?(Oe(((e,r)=>{var t,n;return r?(t=[],n=je(),Y.querySelectorAll(`[${e}]`).forEach(a=>{if(!Fe(n,a))for(var i=[];Hr(a,e)!=z;){Pe(n,a);var o=Ze(Hr(a,e),"|");Hr(a,e,z);for(var s=0;s<o.length;s++){var l=o[s];if(""!==l){var u="-"===l?-1:H(pe(l,W)??"",36);if(u<0)i.length+=u;else{if(0===s&&(i.length=0),isNaN(u)&&/^["\[{]/.test(l))for(var c="";s<o.length;s++)try{l=JSON.parse(c+=o[s]);break}catch(e){}0<=u&&r[u]&&(l=r[u]),i.push(l)}}}Ie(t,...Oe(i,e=>({add:L,...e,boundary:a})));var f=a.nextElementSibling;"WBR"===a.tagName&&a.parentNode?.removeChild(a),a=f}}),t):[]})(e.scan.attribute,e.scan.components),t),L):W}}}},Ea={id:"scroll",setup(e){var r={},t=Yr(L);Kn(()=>$r(()=>(r={},t=Yr(L)),250)),tt(X,"scroll",()=>{var i,n=Yr(),a={x:(cr=Yr(W)).x/(Q.offsetWidth-X.innerWidth)||0,y:cr.y/(Q.offsetHeight-X.innerHeight)||0};n.y>=t.y&&(i=[],!r.fold&&n.y>=t.y+200&&(r.fold=L,i.push("fold")),!r["page-middle"]&&.5<=a.y&&(r["page-middle"]=L,i.push("page-middle")),!r["page-end"]&&.99<=a.y&&(r["page-end"]=L,i.push("page-end")),(n=Oe(i,e=>({type:"SCROLL",scrollType:e,offset:a}))).length)&&Ie(e,n)})}},Ia=Symbol(),xa=[O,e,qt,Ea,r,{id:"forms",setup(e){var r=new Map,t=e=>e.selectedOptions?[...e.selectedOptions].map(e=>e.value).join(","):"checkbox"===e.type?e.checked?"yes":"no":e.value,n=z,a=()=>{var e,r,a,s,l,u,c;n&&([e,r,a,s]=n,l=-(i-(i=ea())),u=-(o-(o=Cr(L))),c=r[Ia],(r[Ia]=t(a))!==c&&(r.fillOrder??=s[5]++,r.filled&&(r.corrections=(r.corrections??0)+1),r.filled=L,s[3]=2,ke(e.fields,([e,t])=>t.lastField=e===r.name||q)),r.activeTime+=l,r.totalTime+=u,e.activeTime+=l,n=z)},i=0,o=0,s=s=>{s&&tt(s,["focusin","focusout","change"],(s,l,u=((n,[i,o]=(n=>{var o,s,l,i=n.form;if(i)return s=Gr(i,St("ref"))||"track_ref",l=qe(r,i,()=>{var r,t=new Map,n={type:"FORM",name:Gr(i,St("form-name"))||Hr(i,"name")||i.id||q,activeTime:0,totalTime:0,fields:{}},s=()=>{a(),2<=r[3]&&(n.completed=3===r[3]||!(i.isConnected&&rt(i).width)),Ie(e,{...o,...n,totalTime:Cr(L)-r[4]}),r[3]=1},l=(Kn(s),jn(s),Ur());return tt(i,"submit",()=>{o=ba(i),r[3]=3,l(()=>{(i.isConnected&&0<rt(i).width?(r[3]=2,l):s)()},750)}),r=[n,t,i,0,Cr(L),1]}),Fe(l[1],n)||Oe(i.querySelectorAll("INPUT,SELECT,TEXTAREA"),(e,r)=>{var n;e.name&&"hidden"!==e.type?(n=e.name,n=l[0].fields[n]??={id:e.id||n,name:n,label:Qe(Me(e.labels,0)?.innerText??e.name,/^\s*(.*?)\s*\*?\s*$/g,"$1"),activeTime:0,type:e.type??"unknown",[Ia]:t(e)},l[0].fields[n.name]=n,l[1].set(e,n)):"hidden"!==e.type||e.name!==s&&!$t(e,"ref")||(e.value||(e.value=Qe([1e7]+-1e3+-4e3+-8e3+-1e11,/[018]/g,e=>((e*=1)^jr(new Uint8Array(1))[0]&15>>e/4).toString(16))),l[0].ref=e.value)}),[n,l]})(n)??[],s=o?.[1].get(i))=>s&&[o[0],s,i,o])(s.target))=>{u&&(n=u,"focusin"===s.type?(o=Cr(L),i=ea()):a())})};s(Y),na(e=>e.contentDocument&&s)}}],O=(...e)=>r=>r===e[0]||e.some(e=>"string"==typeof e&&void 0!==r?.[e]),Sa=O("cart"),Na=O("username"),Ca=O("tagAttributes"),Oa=O("disable"),Ua=O("boundary"),Ma=O("extension"),$a=O(L,"flush"),Ra=O("get"),ja=O("listener"),Da=O("order"),Fa=O("scan"),_a=O("set"),Pa=e=>"function"==typeof e,qa=e=>{var t,r,a,i,o,s,l,u,c,f,d,v,p,h;return da||(pe(e)&&(e=kr(e)),Oe(["vars","hub"],r=>!he(e[r])&&(e[r]=ft(e[r]))),G(Lr,e),r=_e(Lr,"clientKey"),[Sr,Nr]=wr(r),t=_e(Lr,"apiKey"),r=X[Lr.name]??[],me(r)?(a=[],i=[],o=(e,...r)=>{var t=L;i=$e(i,n=>it(()=>(n[e]?.(...r,{tracker:da,unsubscribe:()=>t=W}),t)))},$n(e=>o("post",e)),s=[],Zt(()=>s.length&&Ie(da,...s)),u=Object.fromEntries(Oe(["view","tags","rendered","loaded","scripts","qd","mufti"],e=>[e,L])),[c,f]=(e=>{var t={},n={},a=(e,r)=>[n[e]??=[],r?n[e]=[]:n[e]];return[(r,n)=>{if(!r)return t;Oe(ke(r),([r,i])=>{if(!i)return te("invalid-argument",r);var o=i,[s]=a(r,W),l=W;i=(r,t,n)=>(l=L,it(()=>o(r,t,n,e))),t[r]===q&&0!==n?(Ie(s,i),n&&0<n&&setTimeout(()=>!l&&i(q,r,L,e)!==L&&(o=()=>{}),n)):i(t[r],r,L,e)===L&&Ie(s,i)})},(...r)=>{var n=Me(r,-1)===L,r=me(r[0])?r[0]:ge(r[0])?ke(r[0]):[[r[0],r[1]]];Oe(r,([r,n])=>{t[r=""+r]=n;var[i,o]=a(r,L);Oe(i,t=>t(n,r,W,e)===L&&Ie(o,t))}),n||xe(l=$e(r,([e])=>!u[e]))&&d(l)}]})(da),kn((e,r)=>f(r)),d=tn("vars",()=>Oe($e(ke(c()),([e])=>!u[e]),([e,r])=>[e,r]),e=>e&&f(e,L)),v=z,p=0,h=W,Kr(X,{[Lr.name]:[da=Kr({},{id:[_r()],push:[(...e)=>{if(!v&&t){if(e[0]!==t)throw new Error("Invalid API key.");e.splice(0,1)}if(e.length){e=e.flatMap(e=>(e&&"string"==typeof e&&(e=kr(e)),me(e)?e:[e]));var r=W;if((e=$e(e,e=>{if(!e)return W;if(Ca(e))Lr.tags=G({},Lr.tags,e.tagAttributes);else{if(Oa(e))return Lr.disabled=e.disable,W;if($a(e))return r=L,W;if(Pa(e))return e(da),W}return en||ja(e)||Ma(e)?L:(s.push(e),W)})).length||r){e=be(e,e=>Ma(e)?-100:ja(e)?-50:_a(e)?-10:R(e)?90:0);if(!v||!we(v,h?p+1:v.length,0,...e)){for(v=e,p=0;p<v.length;p++)v[p]&&it(()=>{var e=v[p];if(o("command",e),h=W,R(e)){e.timestamp??=Cr(),h=L;var r=W;Oe(a,([,t],n)=>{!r&&t.decorate?.(e)!==W||(r=L)}),r||(e=>{for(var r,t=[e],n=[];t.length;)(e=>!Ht(e)&&(Oe(e[Bt],r=>Pe(qe(Vt,r,()=>je()),e)),L))(e=Ee(t))||((r=(e=>(Pe(Gt,e),(_t=Vt.get(e))&&(_t.size||_e(Vt,e),$e(_t,e=>Ht(e)&&(_e(_t,e),L)))))(e))&&we(t,1,0,...r),Ie(n,e));_n(...n)})(e)}else if(Ra(e))c(e.get,e.timeout);else if(_a(e))f(e.set),Oe(ke(e.set),([e,r])=>o("set",e,r));else if(ja(e))Ie(i,e.listener);else if(Ma(e))(t=it(()=>e.extension.setup(da),r=>te(z,e.extension,r)))&&(Ie(a,[e.priority??100,t]),be(a,([e])=>e));else if(Pa(e))e(da);else{var t,n=W;for([,t]of a)if(n=t.processCommand?.(e)??W)break;n||te("invalid-command",e)}},e=>te("internal-error",z,e));v=z,r&&Pn()}}}}],__isTracker:[L]})]}),mt(),Ie(da,{set:{loaded:L}},...Oe(xa,e=>({extension:e})),...r),da):void te(`The global variable for the tracker "${Lr.name}" is used for something else than an array of queued commands.`))};X[".tail.js.init"]=e=>{e(qa)}})();
//# sourceMappingURL=tail.js.map
